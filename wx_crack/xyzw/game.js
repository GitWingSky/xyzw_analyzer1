define("adapter-min.js", function (require, module, exports) {
    "use strict";
    var e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };
    !function e(t, n, o) {
        function r(a, c) {
            if (!n[a]) {
                if (!t[a]) {
                    var u = "function" == typeof require && require;
                    if (!c && u) return u(a, !0);
                    if (i) return i(a, !0);
                    throw (c = new Error("Cannot find module '" + a + "'")).code = "MODULE_NOT_FOUND", c
                }
                u = n[a] = {exports: {}}, t[a][0].call(u.exports, function (e) {
                    return r(t[a][1][e] || e)
                }, u, u.exports, e, t, n, o)
            }
            return n[a].exports
        }

        for (var i = "function" == typeof require && require, a = 0; a < o.length; a++) r(o[a]);
        return r
    }({
        1: [function (e, t, n) {
        }, {}], 2: [function (e, t, n) {
            var o = window.fsUtils, r = o.getUserDataPath, i = o.readJsonSync, a = o.makeDirSync, c = o.writeFileSync,
                u = o.copyFile, s = o.downloadFile, l = o.writeFile, d = o.deleteFile, f = o.rmdirSync, p = o.unzip,
                h = o.isOutOfStorage, m = !1, g = null, y = !1, v = [], b = [], w = !1, _ = 0, E = /^https?:\/\/.*/;
            cc.assetManager.cacheManager = t.exports = {
                cacheDir: "gamecaches",
                cachedFileName: "cacheList.json",
                cacheEnabled: !0,
                autoClear: !0,
                cacheInterval: 500,
                deleteInterval: 500,
                writeFileInterval: 2e3,
                outOfStorage: !1,
                tempFiles: null,
                cachedFiles: null,
                cacheQueue: {},
                version: "1.0",
                getCache: function (e) {
                    return this.cachedFiles.has(e) ? this.cachedFiles.get(e).url : ""
                },
                getTemp: function (e) {
                    return this.tempFiles.has(e) ? this.tempFiles.get(e) : ""
                },
                init: function () {
                    this.cacheDir = r() + "/" + this.cacheDir;
                    var e = this.cacheDir + "/" + this.cachedFileName, t = i(e);
                    t instanceof Error || !t.version ? (t instanceof Error || f(this.cacheDir, !0), this.cachedFiles = new cc.AssetManager.Cache, a(this.cacheDir, !0), c(e, JSON.stringify({
                        files: this.cachedFiles._map,
                        version: this.version
                    }), "utf8")) : this.cachedFiles = new cc.AssetManager.Cache(t.files), this.tempFiles = new cc.AssetManager.Cache
                },
                updateLastTime: function (e) {
                    this.cachedFiles.has(e) && (this.cachedFiles.get(e).lastTime = Date.now())
                },
                _write: function () {
                    y = !(g = null), l(this.cacheDir + "/" + this.cachedFileName, JSON.stringify({
                        files: this.cachedFiles._map,
                        version: this.version
                    }), "utf8", function () {
                        y = !1;
                        for (var e = 0, t = b.length; e < t; e++) b[e]();
                        b.length = 0, b.push.apply(b, v), v.length = 0
                    })
                },
                writeCacheFile: function (e) {
                    g || (g = setTimeout(this._write.bind(this), this.writeFileInterval), !0 !== y) ? e && b.push(e) : e && v.push(e)
                },
                _cache: function () {
                    var e, t = this;
                    for (e in this.cacheQueue) {
                        var n = function (n) {
                                if (m = !1, n) {
                                    if (h(n.message)) return t.outOfStorage = !0, void (t.autoClear && t.clearLRU())
                                } else t.cachedFiles.add(e, {
                                    bundle: a,
                                    url: l,
                                    lastTime: c
                                }), delete t.cacheQueue[e], t.writeCacheFile();
                                cc.js.isEmptyObject(t.cacheQueue) || (m = !0, setTimeout(t._cache.bind(t), t.cacheInterval))
                            }, o = this.cacheQueue[e], r = o.srcUrl, i = o.isCopy, a = o.cacheBundleRoot,
                            c = Date.now().toString(), l = "",
                            l = (a ? "".concat(this.cacheDir, "/").concat(a, "/") : "".concat(this.cacheDir, "/")).concat(c).concat(_++).concat(cc.path.extname(e));
                        return void (i ? u(r, l, n) : s(r, l, null, n))
                    }
                    m = !1
                },
                cacheFile: function (e, t, n, o, r) {
                    !(n = void 0 !== n ? n : this.cacheEnabled) || this.cacheQueue[e] || this.cachedFiles.has(e) || (this.cacheQueue[e] = {
                        srcUrl: t,
                        cacheBundleRoot: o,
                        isCopy: r
                    }, m) || (m = !0, this.outOfStorage ? m = !1 : setTimeout(this._cache.bind(this), this.cacheInterval))
                },
                clearCache: function () {
                    var e = this,
                        t = (f(this.cacheDir, !0), this.cachedFiles = new cc.AssetManager.Cache, a(this.cacheDir, !0), this.cacheDir + "/" + this.cachedFileName);
                    this.outOfStorage = !1, c(t, JSON.stringify({
                        files: this.cachedFiles._map,
                        version: this.version
                    }), "utf8"), cc.assetManager.bundles.forEach(function (t) {
                        E.test(t.base) && e.makeBundleFolder(t.name)
                    })
                },
                clearLRU: function () {
                    if (!w) {
                        w = !0;
                        var e = [], t = this;
                        if (this.cachedFiles.forEach(function (n, o) {
                            "internal" === n.bundle || t._isZipFile(o) && cc.assetManager.bundles.find(function (e) {
                                return -1 !== e.base.indexOf(n.url)
                            }) || e.push({originUrl: o, url: n.url, lastTime: n.lastTime})
                        }), e.sort(function (e, t) {
                            return e.lastTime - t.lastTime
                        }), e.length = Math.floor(this.cachedFiles.count / 3), 0 !== e.length) {
                            for (var n = 0, o = e.length; n < o; n++) this.cachedFiles.remove(e[n].originUrl);
                            this.writeCacheFile(function () {
                                setTimeout(function n() {
                                    var o = e.pop();
                                    t._isZipFile(o.originUrl) ? (f(o.url, !0), t._deleteFileCB()) : d(o.url, t._deleteFileCB.bind(t)), 0 < e.length ? setTimeout(n, t.deleteInterval) : w = !1
                                }, t.deleteInterval)
                            })
                        }
                    }
                },
                removeCache: function (e) {
                    var t, n;
                    this.cachedFiles.has(e) && (n = (t = this).cachedFiles.remove(e).url, this.writeCacheFile(function () {
                        t._isZipFile(e) ? (f(n, !0), t._deleteFileCB()) : d(n, t._deleteFileCB.bind(t))
                    }))
                },
                _deleteFileCB: function (e) {
                    e || (this.outOfStorage = !1)
                },
                makeBundleFolder: function (e) {
                    a(this.cacheDir + "/" + e, !0)
                },
                unzipAndCacheBundle: function (e, t, n, o) {
                    var r = Date.now().toString(),
                        i = "".concat(this.cacheDir, "/").concat(n, "/").concat(r).concat(_++), c = this;
                    a(i, !0), p(t, i, function (t) {
                        t ? (f(i, !0), h(t.message) && (c.outOfStorage = !0, c.autoClear) && c.clearLRU(), o && o(t)) : (c.cachedFiles.add(e, {
                            bundle: n,
                            url: i,
                            lastTime: r
                        }), c.writeCacheFile(), o && o(null, i))
                    })
                },
                _isZipFile: function (e) {
                    return ".zip" === e.slice(-4)
                }
            }
        }, {}], 3: [function (e, t, n) {
            function o(e, t, n) {
                "function" == typeof t && (n = t, t = null), S.test(e) ? n && n(new Error("Can not load remote scripts")) : (__cocos_require__(e), n && n(null))
            }

            function r(e, t, n) {
                "function" == typeof t && (n = t, t = null), (t = document.createElement("audio")).src = e, n && n(null, t)
            }

            function i(e, t, n, o, r) {
                var i = R(e, n);
                i.inLocal ? t(i.url, n, r) : i.inCache ? (g.updateLastTime(e), t(i.url, n, function (t, n) {
                    t && g.removeCache(e), r(t, n)
                })) : v(e, null, n.header, o, function (o, i) {
                    o ? r(o, null) : t(i, n, function (t, o) {
                        t || (g.tempFiles.add(e, i), g.cacheFile(e, i, n.cacheEnabled, n.__cacheBundleRoot__, !0)), r(t, o)
                    })
                })
            }

            function a(e, t, n) {
                w(e, n)
            }

            function c(e, t, n) {
                b(e, n)
            }

            function u(e, t, n) {
                _(e, n)
            }

            function s(e, t, n) {
                n(null, e)
            }

            function l(e, t, n) {
                i(e, s, t, t.onFileProgress, n)
            }

            function d(e, t, n) {
                w(e, function (e, o) {
                    if (e) return n(e);
                    D(o, t, n)
                })
            }

            function f(e, t, n) {
                w(e, function (e, o) {
                    if (e) return n(e);
                    P(o, t, n)
                })
            }

            var p, h, m, g = e("../cache-manager"), y = (e = window.fsUtils).fs, v = e.downloadFile, b = e.readText,
                w = e.readArrayBuffer, _ = e.readJson, E = e.loadSubpackage, x = e.getUserDataPath,
                S = /^https?:\/\/.*/, e = cc.assetManager.downloader, N = cc.assetManager.parser,
                T = cc.assetManager.presets, O = __globalAdapter.isSubContext,
                M = (e.maxConcurrency = 8, e.maxRequestsPerFrame = 64, T.scene.maxConcurrency = 10, T.scene.maxRequestsPerFrame = 64, {}),
                C = {}, A = O ? function (e, t, n) {
                    e = (e = R(e, t).url).slice(p.length + 1), t = __cocos_require__(cc.path.changeExtname(e, ".js")), n && n(null, t)
                } : function (e, t, n) {
                    i(e, u, t, t.onFileProgress, n)
                }, T = O ? function (e, t, n) {
                    n(null, "Arial")
                } : function (e, t, n) {
                    n(null, __globalAdapter.loadFont(e) || "Arial")
                }, D = N.parsePVRTex, P = N.parsePKMTex, I = O ? function (e, t, n) {
                    n(null, e = R(e, t).url)
                } : l, R = (e.downloadDomAudio = r, e.downloadScript = o, N.parsePVRTex = d, N.parsePKMTex = f, e.register({
                    ".js": o,
                    ".mp3": l,
                    ".ogg": l,
                    ".wav": l,
                    ".m4a": l,
                    ".png": I,
                    ".jpg": I,
                    ".bmp": I,
                    ".jpeg": I,
                    ".gif": I,
                    ".ico": I,
                    ".tiff": I,
                    ".image": I,
                    ".webp": I,
                    ".pvr": l,
                    ".pkm": l,
                    ".font": l,
                    ".eot": l,
                    ".ttf": l,
                    ".woff": l,
                    ".svg": l,
                    ".ttc": l,
                    ".txt": l,
                    ".xml": l,
                    ".vsh": l,
                    ".fsh": l,
                    ".atlas": l,
                    ".tmx": l,
                    ".tsx": l,
                    ".plist": l,
                    ".fnt": l,
                    ".json": A,
                    ".ExportJson": l,
                    ".binary": l,
                    ".bin": l,
                    ".dbbin": l,
                    ".skel": l,
                    ".mp4": l,
                    ".avi": l,
                    ".mov": l,
                    ".mpg": l,
                    ".mpeg": l,
                    ".rm": l,
                    ".rmvb": l,
                    bundle: function (e, t, n) {
                        function o(e, o) {
                            var r, a, c;
                            e ? n && n(e) : o.isZip ? (e = o.zipVersion, e = "".concat(i, "/res.").concat(e ? e + "." : "", "zip"), r = e, a = t, c = function (e, t) {
                                e ? n && n(e) : (o.base = t + "/res/", (e = cc.sys).platform === e.ALIPAY_GAME && e.os === e.OS_ANDROID && y.accessSync({path: e = t + "res/"}) && (o.base = e), n && n(null, o))
                            }, (e = g.cachedFiles.get(r)) ? (g.updateLastTime(r), c(null, e.url)) : S.test(r) ? v(r, null, a.header, a.onFileProgress, function (e, t) {
                                e ? c(e) : g.unzipAndCacheBundle(r, t, a.__cacheBundleRoot__, c)
                            }) : g.unzipAndCacheBundle(r, r, a.__cacheBundleRoot__, c)) : (o.base = i + "/", n && n(null, o))
                        }

                        var r, i, a, c = cc.path.basename(e), u = t.version || cc.assetManager.downloader.bundleVers[c];
                        M[c] ? (a = "subpackages/".concat(c, "/config.").concat(u ? u + "." : "", "json"), E(c, t.onFileProgress, function (e) {
                            e ? n(e, null) : A(a, t, function (e, t) {
                                t && (t.base = "subpackages/".concat(c, "/")), n(e, t)
                            })
                        })) : (S.test(e) || !O && e.startsWith(x()) ? (i = e, r = "src/scripts/".concat(c, "/index.js"), g.makeBundleFolder(c)) : C[c] ? (i = "".concat(h, "remote/").concat(c), r = "src/scripts/".concat(c, "/index.js"), g.makeBundleFolder(c)) : (i = "assets/".concat(c), r = "assets/".concat(c, "/index.js")), __cocos_require__(r), t.__cacheBundleRoot__ = c, a = "".concat(i, "/config.").concat(u ? u + "." : "", "json"), "config" !== c && cc.sys._bundleAll && cc.sys._bundleAll[c] ? (e = cc.sys._bundleAll[c], function (e, t) {
                            o(null, t), delete cc.sys._bundleAll[c]
                        }(0, e)) : A(a, t, o))
                    },
                    default: function (e, t, n) {
                        i(e, c, t, t.onFileProgress, n)
                    }
                }), N.register({
                    ".png": e.downloadDomImage,
                    ".jpg": e.downloadDomImage,
                    ".bmp": e.downloadDomImage,
                    ".jpeg": e.downloadDomImage,
                    ".gif": e.downloadDomImage,
                    ".ico": e.downloadDomImage,
                    ".tiff": e.downloadDomImage,
                    ".image": e.downloadDomImage,
                    ".webp": e.downloadDomImage,
                    ".pvr": d,
                    ".pkm": f,
                    ".font": T,
                    ".eot": T,
                    ".ttf": T,
                    ".woff": T,
                    ".svg": T,
                    ".ttc": T,
                    ".mp3": r,
                    ".ogg": r,
                    ".wav": r,
                    ".m4a": r,
                    ".txt": c,
                    ".xml": c,
                    ".vsh": c,
                    ".fsh": c,
                    ".atlas": c,
                    ".tmx": c,
                    ".tsx": c,
                    ".fnt": c,
                    ".plist": function (e, t, n) {
                        b(e, function (e, t) {
                            var o = null;
                            e || (o = cc.plistParser.parse(t)) || (e = new Error("parse failed")), n && n(e, o)
                        })
                    },
                    ".binary": a,
                    ".bin": a,
                    ".dbbin": a,
                    ".skel": a,
                    ".ExportJson": u
                }), O ? function (e, t) {
                    return {url: e = S.test(e) ? e : p + "/" + e}
                } : function (e, t) {
                    var n = !1, o = !1;
                    return !e.startsWith(x()) && S.test(e) ? t.reload || ((t = g.cachedFiles.get(e)) ? (o = !0, e = t.url) : (t = g.tempFiles.get(e)) && (n = !0, e = t)) : n = !0, {
                        url: e,
                        inLocal: n,
                        inCache: o
                    }
                });
            O ? (m = cc.assetManager.init, cc.assetManager.init = function (e) {
                m.call(cc.assetManager, e), p = e.subContextRoot || ""
            }) : (cc.assetManager.transformPipeline.append(function (e) {
                for (var t = e.output = e.input, n = 0, o = t.length; n < o; n++) {
                    var r = t[n], i = r.options;
                    r.config ? i.__cacheBundleRoot__ = r.config.name : "bundle" !== r.ext && (i.cacheEnabled = void 0 !== i.cacheEnabled && i.cacheEnabled)
                }
            }), m = cc.assetManager.init, cc.assetManager.init = function (e) {
                m.call(cc.assetManager, e), e.subpackages && e.subpackages.forEach(function (e) {
                    return M[e] = "subpackages/" + e
                }), e.remoteBundles && e.remoteBundles.forEach(function (e) {
                    return C[e] = !0
                }), (h = e.server || "") && !h.endsWith("/") && (h += "/"), g.init()
            })
        }, {"../cache-manager": 2}], 4: [function (e, t, n) {
            var o, r = cc._Audio;
            r && (o = r.prototype.getDuration, Object.assign(r.prototype, {
                _createElement: function () {
                    var e = this._src._nativeAsset;
                    this._element || (this._element = __globalAdapter.createInnerAudioContext()), this._element.src = e.src
                }, destroy: function () {
                    this._element && (this._element.destroy(), this._element = null)
                }, setCurrentTime: function (e) {
                    var t = this;
                    this._src && this._src._ensureLoaded(function () {
                        t._element.seek(e)
                    })
                }, stop: function () {
                    var e = this;
                    this._src && this._src._ensureLoaded(function () {
                        e._element.seek(0), e._element.stop(), e._unbindEnded(), e.emit("stop"), e._state = r.State.STOPPED
                    })
                }, _bindEnded: function () {
                    var e = this._element;
                    e && e.onEnded && !this._onended._binded && (this._onended._binded = !0, e.onEnded(this._onended))
                }, _unbindEnded: function () {
                    var e = this._element;
                    e && e.offEnded && this._onended._binded && (this._onended._binded = !1, e.offEnded) && e.offEnded(this._onended)
                }, getDuration: function () {
                    return o.call(this) || (this._element ? this._element.duration : 0)
                }, _touchToPlay: function () {
                }, _forceUpdatingState: function () {
                }
            }))
        }, {}], 5: [function (e, t, n) {
            cc && cc.audioEngine && (cc.audioEngine._maxAudioInstance = 10)
        }, {}], 6: [function (e, t, n) {
            var o = cc.internal.inputManager, r = window.__globalAdapter;
            Object.assign(o, {
                setAccelerometerEnabled: function (e) {
                    var t = cc.director.getScheduler();
                    t.enableForTarget(this), e ? (this._registerAccelerometerEvent(), t.scheduleUpdate(this)) : (this._unregisterAccelerometerEvent(), t.unscheduleUpdate(this))
                }, _registerAccelerometerEvent: function () {
                    this._accelCurTime = 0;
                    var e = this;
                    this._acceleration = new cc.Acceleration, r.startAccelerometer(function (t) {
                        e._acceleration.x = t.x, e._acceleration.y = t.y, e._acceleration.z = t.y
                    })
                }, _unregisterAccelerometerEvent: function () {
                    this._accelCurTime = 0, r.stopAccelerometer()
                }
            })
        }, {}], 7: [function (e, t, n) {
            function o() {
                u.call(this), this._eventListeners = {
                    onKeyboardInput: null,
                    onKeyboardConfirm: null,
                    onKeyboardComplete: null
                }
            }

            var r, i, a, c, u;
            cc && cc.EditBox && (r = cc.EditBox, i = r.KeyboardReturnType, c = a = null, u = r._ImplClass, cc.js.extend(o, u), r._ImplClass = o, Object.assign(o.prototype, {
                init: function (e) {
                    e ? this._delegate = e : cc.error("EditBox init failed")
                }, beginEditing: function () {
                    var e = this;
                    this._editing || this._ensureKeyboardHide(function () {
                        var t = e._delegate;
                        e._showKeyboard(), e._registerKeyboardEvent(), e._editing = !0, c = e, t.editBoxEditingDidBegan()
                    })
                }, endEditing: function () {
                    this._hideKeyboard();
                    var e = this._eventListeners;
                    e.onKeyboardComplete && e.onKeyboardComplete()
                }, _registerKeyboardEvent: function () {
                    var e = this, t = this._delegate, n = this._eventListeners;
                    n.onKeyboardInput = function (e) {
                        t._string !== e.value && t.editBoxTextChanged(e.value)
                    }, n.onKeyboardConfirm = function (n) {
                        t.editBoxEditingReturn();
                        var o = e._eventListeners;
                        o.onKeyboardComplete && o.onKeyboardComplete()
                    }, n.onKeyboardComplete = function () {
                        e._editing = !1, c = null, e._unregisterKeyboardEvent(), t.editBoxEditingDidEnded()
                    }, __globalAdapter.onKeyboardInput(n.onKeyboardInput), __globalAdapter.onKeyboardConfirm(n.onKeyboardConfirm), __globalAdapter.onKeyboardComplete(n.onKeyboardComplete)
                }, _unregisterKeyboardEvent: function () {
                    var e = this._eventListeners;
                    e.onKeyboardInput && (__globalAdapter.offKeyboardInput(e.onKeyboardInput), e.onKeyboardInput = null), e.onKeyboardConfirm && (__globalAdapter.offKeyboardConfirm(e.onKeyboardConfirm), e.onKeyboardConfirm = null), e.onKeyboardComplete && (__globalAdapter.offKeyboardComplete(e.onKeyboardComplete), e.onKeyboardComplete = null)
                }, _otherEditing: function () {
                    return !!c && c !== this && c._editing
                }, _ensureKeyboardHide: function (e) {
                    var t = this._otherEditing();
                    if (!t && !a) return e();
                    a && clearTimeout(a), t && c.endEditing(), a = setTimeout(function () {
                        a = null, e()
                    }, 600)
                }, _showKeyboard: function () {
                    var e = this._delegate, t = e.inputMode === r.InputMode.ANY,
                        n = e.maxLength < 0 ? 65535 : e.maxLength;
                    __globalAdapter.showKeyboard({
                        defaultValue: e._string,
                        maxLength: n,
                        multiple: t,
                        confirmHold: !1,
                        confirmType: function () {
                            switch (e.returnType) {
                                case i.DEFAULT:
                                case i.DONE:
                                    return "done";
                                case i.SEND:
                                    return "send";
                                case i.SEARCH:
                                    return "search";
                                case i.GO:
                                    return "go";
                                case i.NEXT:
                                    return "next"
                            }
                            return "done"
                        }(),
                        success: function (e) {
                        },
                        fail: function (e) {
                            cc.warn(e.errMsg)
                        }
                    })
                }, _hideKeyboard: function () {
                    __globalAdapter.hideKeyboard({
                        success: function (e) {
                        }, fail: function (e) {
                            cc.warn(e.errMsg)
                        }
                    })
                }
            }))
        }, {}], 8: [function (e, t, n) {
            var o = cc.internal.inputManager, r = cc.renderer, i = cc.game, a = cc.dynamicAtlasManager, c = i.run;
            Object.assign(i, {
                _banRunningMainLoop: __globalAdapter.isSubContext, _firstSceneLaunched: !1, run: function () {
                    var e = this;
                    cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH, function () {
                        e._firstSceneLaunched = !0
                    }), c.apply(this, arguments)
                }, setFrameRate: function (e) {
                    this.config.frameRate = e, __globalAdapter.setPreferredFramesPerSecond ? __globalAdapter.setPreferredFramesPerSecond(e) : (this._intervalId && window.cancelAnimFrame(this._intervalId), this._intervalId = 0, this._paused = !0, this._setAnimFrame(), this._runMainLoop())
                }, _runMainLoop: function () {
                    var e, t, n, o, r, i;
                    this._banRunningMainLoop || (n = (e = this).config, o = cc.director, r = !0, i = n.frameRate, cc.debug.setDisplayStats(n.showFPS), t = function () {
                        e._paused || (e._intervalId = window.requestAnimFrame(t), 30 === i && !__globalAdapter.setPreferredFramesPerSecond && (r = !r)) || o.mainLoop()
                    }, e._intervalId = window.requestAnimFrame(t), e._paused = !1)
                }, _initRenderer: function () {
                    var e, t;
                    this._rendererInitialized || (this.frame = this.container = document.createElement("DIV"), e = __globalAdapter.isSubContext ? window.sharedCanvas || __globalAdapter.getSharedCanvas() : canvas, this.canvas = e, this._determineRenderType(), this.renderType === this.RENDER_TYPE_WEBGL && (t = {
                        stencil: !0,
                        antialias: cc.macro.ENABLE_WEBGL_ANTIALIAS,
                        alpha: cc.macro.ENABLE_TRANSPARENT_CANVAS,
                        preserveDrawingBuffer: !1
                    }, r.initWebGL(e, t), this._renderContext = r.device._gl, !cc.macro.CLEANUP_IMAGE_CACHE) && a && (a.enabled = !0), this._renderContext || (this.renderType = this.RENDER_TYPE_CANVAS, r.initCanvas(e), this._renderContext = r.device._ctx), this._rendererInitialized = !0)
                }, _initEvents: function () {
                    this.config.registerSystemEvent && o.registerSystemEvent(this.canvas);
                    var e = !1;
                    __globalAdapter.onAudioInterruptionEnd && __globalAdapter.onAudioInterruptionEnd(function () {
                        cc.audioEngine && cc.audioEngine._restore()
                    }), __globalAdapter.onAudioInterruptionBegin && __globalAdapter.onAudioInterruptionBegin(function () {
                        cc.audioEngine && cc.audioEngine._break()
                    }), __globalAdapter.onShow && __globalAdapter.onShow(function (t) {
                        e && (e = !1, i.renderType === i.RENDER_TYPE_WEBGL && i._renderContext.finish(), i.emit(i.EVENT_SHOW, t))
                    }), __globalAdapter.onHide && __globalAdapter.onHide(function () {
                        e || (e = !0, i.emit(i.EVENT_HIDE))
                    }), this.on(i.EVENT_HIDE, function () {
                        i.pause()
                    }), this.on(i.EVENT_SHOW, function () {
                        i.resume()
                    })
                }, end: function () {
                }
            })
        }, {}], 9: [function (e, t, n) {
            var o = cc.internal.inputManager,
                r = {left: 0, top: 0, width: window.innerWidth, height: window.innerHeight};
            o && Object.assign(o, {
                _updateCanvasBoundingRect: function () {
                }, registerSystemEvent: function (e) {
                    if (!this._isRegisterEvent) {
                        this._glView = cc.view;
                        var t, n = this, o = {
                            onTouchStart: this.handleTouchesBegin,
                            onTouchMove: this.handleTouchesMove,
                            onTouchEnd: this.handleTouchesEnd,
                            onTouchCancel: this.handleTouchesCancel
                        };
                        for (t in o) !function (e) {
                            var t = o[e];
                            __globalAdapter[e](function (e) {
                                e.changedTouches && t.call(n, n.getTouchesByEvent(e, r))
                            })
                        }(t);
                        this._isRegisterEvent = !0
                    }
                }
            })
        }, {}], 10: [function (e, t, n) {
            Object.assign(cc.screen, {
                autoFullScreen: function (e, t) {
                }
            })
        }, {}], 11: [function (e, t, n) {
            var o = cc.Texture2D;
            o && Object.assign(o.prototype, {
                initWithElement: function (e) {
                    e && (this._image = e, this.handleLoadedTexture())
                }
            })
        }, {}], 12: [function (e, t, n) {
            t.exports = function (e, t) {
                t = t || __globalAdapter.getSystemInfoSync(), e.isNative = !1, e.isBrowser = !1, e.isMobile = !0, e.language = t.language.substr(0, 2), e.languageCode = t.language.toLowerCase();
                var n = t.system.toLowerCase(),
                    o = ("android" === (o = (o = t.platform).toLowerCase()) ? e.os = e.OS_ANDROID : "ios" === o && (e.os = e.OS_IOS), /[\d\.]+/.exec(n = "android p" === n ? "android p 9.0" : n)),
                    o = (e.osVersion = o ? o[0] : n, e.osMainVersion = parseInt(e.osVersion), e.browserType = null, e.browserVersion = null, t.windowWidth),
                    n = t.windowHeight, t = t.pixelRatio || 1, o = (e.windowPixelResolution = {
                        width: t * o,
                        height: t * n
                    }, e.localStorage = window.localStorage, !__globalAdapter.isSubContext), t = !1;
                try {
                    t = document.createElement("canvas").toDataURL("image/webp").startsWith("data:image/webp")
                } catch (e) {
                }
                e.capabilities = {canvas: !0, opengl: !!o, webp: t}, e.__audioSupport = {
                    ONLY_ONE: !1,
                    WEB_AUDIO: !1,
                    DELAY_CREATE_CTX: !1,
                    format: [".mp3"]
                }
            }
        }, {}], 13: [function (e, t, n) {
            t.exports = function (e) {
                e._setupContainer = function (e, t, n) {
                    var o = e._devicePixelRatio = 1;
                    e.isRetinaEnabled() && (o = e._devicePixelRatio = Math.min(e._maxPixelRatio, window.devicePixelRatio || 1)), __globalAdapter.isSubContext || (n *= o, (e = cc.game.canvas).width === (t *= o) && e.height === n) || (e.width = t, e.height = n)
                }
            }
        }, {}], 14: [function (e, t, n) {
            t.exports = function (e) {
                Object.assign(e, {
                    _adjustViewportMeta: function () {
                    }, setRealPixelResolution: function (e, t, n) {
                        this.setDesignResolutionSize(e, t, n)
                    }, enableAutoFullScreen: function (e) {
                        cc.warn("cc.view.enableAutoFullScreen() is not supported on minigame platform.")
                    }, isAutoFullScreenEnabled: function () {
                        return !1
                    }, setCanvasSize: function () {
                        cc.warn("cc.view.setCanvasSize() is not supported on minigame platform.")
                    }, setFrameSize: function () {
                        cc.warn("frame size is readonly on minigame platform.")
                    }, _initFrameSize: function () {
                        var e, t = this._frameSize;
                        __globalAdapter.isSubContext ? (e = window.sharedCanvas || __globalAdapter.getSharedCanvas(), t.width = e.width, t.height = e.height) : (t.width = window.innerWidth, t.height = window.innerHeight)
                    }
                })
            }
        }, {}], 15: [function (e, t, n) {
            var o = window.__globalAdapter;
            Object.assign(o, {
                adaptSys: e("./BaseSystemInfo"),
                adaptView: e("./View"),
                adaptContainerStrategy: e("./ContainerStrategy")
            })
        }, {"./BaseSystemInfo": 12, "./ContainerStrategy": 13, "./View": 14}], 16: [function (e, t, n) {
            e("./Audio"), e("./AudioEngine"), e("./DeviceMotionEvent"), e("./Editbox"), e("./Game"), e("./InputManager"), e("./AssetManager"), e("./Screen"), e("./Texture2D"), e("./misc")
        }, {
            "./AssetManager": 3,
            "./Audio": 4,
            "./AudioEngine": 5,
            "./DeviceMotionEvent": 6,
            "./Editbox": 7,
            "./Game": 8,
            "./InputManager": 9,
            "./Screen": 10,
            "./Texture2D": 11,
            "./misc": 17
        }], 17: [function (e, t, n) {
            cc.macro.DOWNLOAD_MAX_CONCURRENT = 10
        }, {}], 18: [function (e, t, n) {
            t.exports = {
                cloneMethod: function (e, t, n, o) {
                    t[n] && (e[o = o || n] = t[n].bind(t))
                }
            }
        }, {}], 19: [function (e, t, n) {
            function o(e) {
                this.options = e || {locator: {}}
            }

            function r() {
                this.cdata = !1
            }

            function i(e, t) {
                t.lineNumber = e.lineNumber, t.columnNumber = e.columnNumber
            }

            function a(e) {
                if (e) return "\n@" + (e.systemId || "") + "#[line:" + e.lineNumber + ",col:" + e.columnNumber + "]"
            }

            function c(e, t, n) {
                return "string" == typeof e ? e.substr(t, n) : e.length >= t + n || t ? new java.lang.String(e, t, n) + "" : e
            }

            function u(e, t) {
                (e.currentElement || e.doc).appendChild(t)
            }

            o.prototype.parseFromString = function (e, t) {
                var n = this.options, o = new l, i = n.domBuilder || new r, c = n.errorHandler, u = n.locator,
                    d = n.xmlns || {},
                    f = (t = /\/x?html?$/.test(t)) ? s.entityMap : {lt: "<", gt: ">", amp: "&", quot: '"', apos: "'"};
                return u && i.setDocumentLocator(u), o.errorHandler = function (e, t) {
                    function n(n) {
                        var r = e[n];
                        !r && c && (r = 2 == e.length ? function (t) {
                            e(n, t)
                        } : e), o[n] = r ? function (e) {
                            r("[xmldom " + n + "]\t" + e + a(t))
                        } : function () {
                        }
                    }

                    if (!e) {
                        if (i instanceof r) return i;
                        e = i
                    }
                    var o = {}, c = e instanceof Function;
                    return t = t || {}, n("warning"), n("error"), n("fatalError"), o
                }(c, u), o.domBuilder = n.domBuilder || i, t && (d[""] = "http://www.w3.org/1999/xhtml"), d.xml = d.xml || "http://www.w3.org/XML/1998/namespace", e ? o.parse(e, d, f) : o.errorHandler.error("invalid doc source"), i.doc
            }, r.prototype = {
                startDocument: function () {
                    this.doc = (new d).createDocument(null, null, null), this.locator && (this.doc.documentURI = this.locator.systemId)
                }, startElement: function (e, t, n, o) {
                    var r = this.doc, a = r.createElementNS(e, n || t), c = o.length;
                    u(this, a), this.currentElement = a, this.locator && i(this.locator, a);
                    for (var s = 0; s < c; s++) {
                        var e = o.getURI(s), l = o.getValue(s), n = o.getQName(s), d = r.createAttributeNS(e, n);
                        this.locator && i(o.getLocator(s), d), d.value = d.nodeValue = l, a.setAttributeNode(d)
                    }
                }, endElement: function (e, t, n) {
                    var o = this.currentElement;
                    o.tagName, this.currentElement = o.parentNode
                }, startPrefixMapping: function (e, t) {
                }, endPrefixMapping: function (e) {
                }, processingInstruction: function (e, t) {
                    e = this.doc.createProcessingInstruction(e, t), this.locator && i(this.locator, e), u(this, e)
                }, ignorableWhitespace: function (e, t, n) {
                }, characters: function (e, t, n) {
                    var o;
                    (e = c.apply(this, arguments)) && (o = this.cdata ? this.doc.createCDATASection(e) : this.doc.createTextNode(e), this.currentElement ? this.currentElement.appendChild(o) : /^\s*$/.test(e) && this.doc.appendChild(o), this.locator) && i(this.locator, o)
                }, skippedEntity: function (e) {
                }, endDocument: function () {
                    this.doc.normalize()
                }, setDocumentLocator: function (e) {
                    (this.locator = e) && (e.lineNumber = 0)
                }, comment: function (e, t, n) {
                    e = c.apply(this, arguments), e = this.doc.createComment(e), this.locator && i(this.locator, e), u(this, e)
                }, startCDATA: function () {
                    this.cdata = !0
                }, endCDATA: function () {
                    this.cdata = !1
                }, startDTD: function (e, t, n) {
                    var o = this.doc.implementation;
                    o && o.createDocumentType && (o = o.createDocumentType(e, t, n), this.locator && i(this.locator, o), u(this, o))
                }, warning: function (e) {
                    console.warn("[xmldom warning]\t" + e, a(this.locator))
                }, error: function (e) {
                    console.error("[xmldom error]\t" + e, a(this.locator))
                }, fatalError: function (e) {
                    throw console.error("[xmldom fatalError]\t" + e, a(this.locator)), e
                }
            }, "endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g, function (e) {
                r.prototype[e] = function () {
                    return null
                }
            });
            var s = e("./entities"), l = e("./sax").XMLReader, d = n.DOMImplementation = e("./dom").DOMImplementation;
            n.XMLSerializer = e("./dom").XMLSerializer, n.DOMParser = o
        }, {"./dom": 20, "./entities": 21, "./sax": 22}], 20: [function (t, n, o) {
            function r(t) {
                return (r = "function" == typeof Symbol && "symbol" == e(Symbol.iterator) ? function (t) {
                    return void 0 === t ? "undefined" : e(t)
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : void 0 === t ? "undefined" : e(t)
                })(t)
            }

            function i(e, t) {
                for (var n in e) t[n] = e[n]
            }

            function a(e, t) {
                var n = e.prototype;
                if (!(n instanceof t)) {
                    var o, r = function () {
                    };
                    for (o in r.prototype = t.prototype, r = new r, n) r[o] = n[o];
                    e.prototype = n = r
                }
                n.constructor != e && ("function" != typeof e && console.error("unknow Class:" + e), n.constructor = e)
            }

            function c(e, t) {
                var n;
                return t instanceof Error ? n = t : (n = this, Error.call(this, K[e]), this.message = K[e], Error.captureStackTrace && Error.captureStackTrace(this, c)), n.code = e, t && (this.message = this.message + ": " + t), n
            }

            function u() {
            }

            function s(e, t) {
                this._node = e, this._refresh = t, l(this)
            }

            function l(e) {
                var t = e._node._inc || e._node.ownerDocument._inc;
                if (e._inc != t) {
                    var n, o = e._refresh(e._node);
                    for (n in B(e, "length", o.length), o) e[n] = o[n];
                    e._inc = t
                }
            }

            function d() {
            }

            function f(e, t) {
                for (var n = e.length; n--;) if (e[n] === t) return n
            }

            function p(e, t, n, o) {
                o ? t[f(t, o)] = n : t[t.length++] = n, e && (t = (n.ownerElement = e).ownerDocument) && (o && w(t, e, o), o = e, e = n, (n = t) && n._inc++, "http://www.w3.org/2000/xmlns/" == e.namespaceURI) && (o._nsMap[e.prefix ? e.localName : ""] = e.value)
            }

            function h(e, t, n) {
                var o = f(t, n);
                if (!(0 <= o)) throw c(8, new Error(e.tagName + "@" + n));
                for (var r, i = t.length - 1; o < i;) t[o] = t[++o];
                t.length = i, e && (r = e.ownerDocument) && (w(r, e, n), n.ownerElement = null)
            }

            function m(e) {
                if (this._features = {}, e) for (var t in e) this._features = e[t]
            }

            function g() {
            }

            function y(e) {
                return ("<" == e ? "&lt;" : ">" == e && "&gt;") || ("&" == e ? "&amp;" : '"' == e && "&quot;") || "&#" + e.charCodeAt() + ";"
            }

            function v(e, t) {
                if (t(e)) return 1;
                if (e = e.firstChild) do {
                    if (v(e, t)) return 1
                } while (e = e.nextSibling)
            }

            function b() {
            }

            function w(e, t, n) {
                e && e._inc++, "http://www.w3.org/2000/xmlns/" == n.namespaceURI && delete t._nsMap[n.prefix ? n.localName : ""]
            }

            function _(e, t, n) {
                if (e && e._inc) {
                    e._inc++;
                    var o = t.childNodes;
                    if (n) o[o.length++] = n; else {
                        for (var r = t.firstChild, i = 0; r;) r = (o[i++] = r).nextSibling;
                        o.length = i
                    }
                }
            }

            function E(e, t) {
                var n = t.previousSibling, o = t.nextSibling;
                return n ? n.nextSibling = o : e.firstChild = o, o ? o.previousSibling = n : e.lastChild = n, _(e.ownerDocument, e), t
            }

            function x(e, t, n) {
                var o = t.parentNode;
                if (o && o.removeChild(t), 11 === t.nodeType) {
                    var r = t.firstChild;
                    if (null == r) return t;
                    var i = t.lastChild
                } else r = i = t;
                for (o = n ? n.previousSibling : e.lastChild, r.previousSibling = o, i.nextSibling = n, o ? o.nextSibling = r : e.firstChild = r, null == n ? e.lastChild = i : n.previousSibling = i; r.parentNode = e, r !== i && (r = r.nextSibling);) ;
                return _(e.ownerDocument || e, e), 11 == t.nodeType && (t.firstChild = t.lastChild = null), t
            }

            function S() {
                this._nsMap = {}
            }

            function N() {
            }

            function T() {
            }

            function O() {
            }

            function M() {
            }

            function C() {
            }

            function A() {
            }

            function D() {
            }

            function P() {
            }

            function I() {
            }

            function R() {
            }

            function j() {
            }

            function L() {
            }

            function F(e, t) {
                var n, o = [], r = 9 == this.nodeType && this.documentElement || this, i = r.prefix, a = r.namespaceURI;
                return H(this, o, e, t, n = a && null == i && null == r.lookupPrefix(a) ? [{
                    namespace: a,
                    prefix: null
                }] : n), o.join("")
            }

            function k(e, t, n) {
                var o = e.prefix || "", r = e.namespaceURI;
                if ((o || r) && ("xml" !== o || "http://www.w3.org/XML/1998/namespace" !== r) && "http://www.w3.org/2000/xmlns/" != r) {
                    for (var i = n.length; i--;) {
                        var a = n[i];
                        if (a.prefix == o) return a.namespace != r
                    }
                    return 1
                }
            }

            function H(e, t, n, o, r) {
                if (o) {
                    if (!(e = o(e))) return;
                    if ("string" == typeof e) return t.push(e)
                }
                switch (e.nodeType) {
                    case 1:
                        r = r || [];
                        var i = e.attributes, a = i.length, c = e.firstChild, u = e.tagName;
                        n = "http://www.w3.org/1999/xhtml" === e.namespaceURI || n, t.push("<", u);
                        for (f = 0; f < a; f++) "xmlns" == (s = i.item(f)).prefix ? r.push({
                            prefix: s.localName,
                            namespace: s.value
                        }) : "xmlns" == s.nodeName && r.push({prefix: "", namespace: s.value});
                        for (var s, l, d, f = 0; f < a; f++) k(s = i.item(f), 0, r) && (l = s.prefix || "", d = s.namespaceURI, t.push(l ? " xmlns:" + l : " xmlns", '="', d, '"'), r.push({
                            prefix: l,
                            namespace: d
                        })), H(s, t, n, o, r);
                        if (k(e, 0, r) && (l = e.prefix || "", d = e.namespaceURI, t.push(l ? " xmlns:" + l : " xmlns", '="', d, '"'), r.push({
                            prefix: l,
                            namespace: d
                        })), c || n && !/^(?:meta|link|img|br|hr|input)$/i.test(u)) {
                            if (t.push(">"), n && /^script$/i.test(u)) for (; c;) c.data ? t.push(c.data) : H(c, t, n, o, r), c = c.nextSibling; else for (; c;) H(c, t, n, o, r), c = c.nextSibling;
                            t.push("</", u, ">")
                        } else t.push("/>");
                        return;
                    case 9:
                    case 11:
                        for (c = e.firstChild; c;) H(c, t, n, o, r), c = c.nextSibling;
                        return;
                    case 2:
                        return t.push(" ", e.name, '="', e.value.replace(/[<&"]/g, y), '"');
                    case 3:
                        return t.push(e.data.replace(/[<&]/g, y));
                    case 4:
                        return t.push("<![CDATA[", e.data, "]]>");
                    case 8:
                        return t.push("\x3c!--", e.data, "--\x3e");
                    case 10:
                        var u = e.publicId, p = e.systemId;
                        return t.push("<!DOCTYPE ", e.name), u ? (t.push(' PUBLIC "', u), p && "." != p && t.push('" "', p), t.push('">')) : p && "." != p ? t.push(' SYSTEM "', p, '">') : ((u = e.internalSubset) && t.push(" [", u, "]"), t.push(">"));
                    case 7:
                        return t.push("<?", e.target, " ", e.data, "?>");
                    case 5:
                        return t.push("&", e.nodeName, ";");
                    default:
                        t.push("??", e.nodeName)
                }
            }

            function B(e, t, n) {
                e[t] = n
            }

            var U, W = {},
                V = (W.ELEMENT_NODE = 1, W.ATTRIBUTE_NODE = 2, W.TEXT_NODE = 3, W.CDATA_SECTION_NODE = 4, W.ENTITY_REFERENCE_NODE = 5, W.ENTITY_NODE = 6, W.PROCESSING_INSTRUCTION_NODE = 7, W.COMMENT_NODE = 8, W.DOCUMENT_NODE = 9, W.DOCUMENT_TYPE_NODE = 10, W.DOCUMENT_FRAGMENT_NODE = 11, W.NOTATION_NODE = 12, {}),
                K = {};
            V.INDEX_SIZE_ERR = (K[1] = "Index size error", 1), V.DOMSTRING_SIZE_ERR = (K[2] = "DOMString size error", 2), V.HIERARCHY_REQUEST_ERR = (K[3] = "Hierarchy request error", 3), V.WRONG_DOCUMENT_ERR = (K[4] = "Wrong document", 4), V.INVALID_CHARACTER_ERR = (K[5] = "Invalid character", 5), V.NO_DATA_ALLOWED_ERR = (K[6] = "No data allowed", 6), V.NO_MODIFICATION_ALLOWED_ERR = (K[7] = "No modification allowed", 7), V.NOT_FOUND_ERR = (K[8] = "Not found", 8), V.NOT_SUPPORTED_ERR = (K[9] = "Not supported", 9), V.INUSE_ATTRIBUTE_ERR = (K[10] = "Attribute in use", 10), V.INVALID_STATE_ERR = (K[11] = "Invalid state", 11), V.SYNTAX_ERR = (K[12] = "Syntax error", 12), V.INVALID_MODIFICATION_ERR = (K[13] = "Invalid modification", 13), V.NAMESPACE_ERR = (K[14] = "Invalid namespace", 14), V.INVALID_ACCESS_ERR = (K[15] = "Invalid access", 15), c.prototype = Error.prototype, i(V, c), u.prototype = {
                length: 0,
                item: function (e) {
                    return this[e] || null
                },
                toString: function (e, t) {
                    for (var n = [], o = 0; o < this.length; o++) H(this[o], n, e, t);
                    return n.join("")
                }
            }, s.prototype.item = function (e) {
                return l(this), this[e]
            }, a(s, u), d.prototype = {
                length: 0, item: u.prototype.item, getNamedItem: function (e) {
                    for (var t = this.length; t--;) {
                        var n = this[t];
                        if (n.nodeName == e) return n
                    }
                }, setNamedItem: function (e) {
                    var t = e.ownerElement;
                    if (t && t != this._ownerElement) throw new c(10);
                    return t = this.getNamedItem(e.nodeName), p(this._ownerElement, this, e, t), t
                }, setNamedItemNS: function (e) {
                    var t = e.ownerElement;
                    if (t && t != this._ownerElement) throw new c(10);
                    return t = this.getNamedItemNS(e.namespaceURI, e.localName), p(this._ownerElement, this, e, t), t
                }, removeNamedItem: function (e) {
                    return e = this.getNamedItem(e), h(this._ownerElement, this, e), e
                }, removeNamedItemNS: function (e, t) {
                    return e = this.getNamedItemNS(e, t), h(this._ownerElement, this, e), e
                }, getNamedItemNS: function (e, t) {
                    for (var n = this.length; n--;) {
                        var o = this[n];
                        if (o.localName == t && o.namespaceURI == e) return o
                    }
                    return null
                }
            }, m.prototype = {
                hasFeature: function (e, t) {
                    return !(!(e = this._features[e.toLowerCase()]) || t && !(t in e))
                }, createDocument: function (e, t, n) {
                    var o = new b;
                    return o.implementation = this, o.childNodes = new u, (o.doctype = n) && o.appendChild(n), t && (n = o.createElementNS(e, t), o.appendChild(n)), o
                }, createDocumentType: function (e, t, n) {
                    var o = new A;
                    return o.name = e, o.nodeName = e, o.publicId = t, o.systemId = n, o
                }
            }, g.prototype = {
                firstChild: null,
                lastChild: null,
                previousSibling: null,
                nextSibling: null,
                attributes: null,
                parentNode: null,
                childNodes: null,
                ownerDocument: null,
                nodeValue: null,
                namespaceURI: null,
                prefix: null,
                localName: null,
                insertBefore: function (e, t) {
                    return x(this, e, t)
                },
                replaceChild: function (e, t) {
                    this.insertBefore(e, t), t && this.removeChild(t)
                },
                removeChild: function (e) {
                    return E(this, e)
                },
                appendChild: function (e) {
                    return this.insertBefore(e, null)
                },
                hasChildNodes: function () {
                    return null != this.firstChild
                },
                cloneNode: function (e) {
                    return function e(t, n, o) {
                        var i, a = new n.constructor;
                        for (i in n) {
                            var c = n[i];
                            "object" != r(c) && c != a[i] && (a[i] = c)
                        }
                        switch (n.childNodes && (a.childNodes = new u), a.ownerDocument = t, a.nodeType) {
                            case 1:
                                var s = n.attributes, l = a.attributes = new d, f = s.length;
                                l._ownerElement = a;
                                for (var p = 0; p < f; p++) a.setAttributeNode(e(t, s.item(p), !0));
                                break;
                            case 2:
                                o = !0
                        }
                        if (o) for (var h = n.firstChild; h;) a.appendChild(e(t, h, o)), h = h.nextSibling;
                        return a
                    }(this.ownerDocument || this, this, e)
                },
                normalize: function () {
                    for (var e = this.firstChild; e;) {
                        var t = e.nextSibling;
                        t && 3 == t.nodeType && 3 == e.nodeType ? (this.removeChild(t), e.appendData(t.data)) : (e.normalize(), e = t)
                    }
                },
                isSupported: function (e, t) {
                    return this.ownerDocument.implementation.hasFeature(e, t)
                },
                hasAttributes: function () {
                    return 0 < this.attributes.length
                },
                lookupPrefix: function (e) {
                    for (var t = this; t;) {
                        var n = t._nsMap;
                        if (n) for (var o in n) if (n[o] == e) return o;
                        t = 2 == t.nodeType ? t.ownerDocument : t.parentNode
                    }
                    return null
                },
                lookupNamespaceURI: function (e) {
                    for (var t = this; t;) {
                        var n = t._nsMap;
                        if (n && e in n) return n[e];
                        t = 2 == t.nodeType ? t.ownerDocument : t.parentNode
                    }
                    return null
                },
                isDefaultNamespace: function (e) {
                    return null == this.lookupPrefix(e)
                }
            }, i(W, g), i(W, g.prototype), b.prototype = {
                nodeName: "#document",
                nodeType: 9,
                doctype: null,
                documentElement: null,
                _inc: 1,
                insertBefore: function (e, t) {
                    if (11 == e.nodeType) for (var n = e.firstChild; n;) {
                        var o = n.nextSibling;
                        this.insertBefore(n, t), n = o
                    } else null == this.documentElement && 1 == e.nodeType && (this.documentElement = e), x(this, e, t), e.ownerDocument = this;
                    return e
                },
                removeChild: function (e) {
                    return this.documentElement == e && (this.documentElement = null), E(this, e)
                },
                importNode: function (e, t) {
                    return function e(t, n, o) {
                        var r;
                        switch (n.nodeType) {
                            case 1:
                                (r = n.cloneNode(!1)).ownerDocument = t;
                            case 11:
                                break;
                            case 2:
                                o = !0
                        }
                        if ((r = r || n.cloneNode(!1)).ownerDocument = t, r.parentNode = null, o) for (var i = n.firstChild; i;) r.appendChild(e(t, i, o)), i = i.nextSibling;
                        return r
                    }(this, e, t)
                },
                getElementById: function (e) {
                    var t = null;
                    return v(this.documentElement, function (n) {
                        if (1 == n.nodeType && n.getAttribute("id") == e) return t = n, !0
                    }), t
                },
                createElement: function (e) {
                    var t = new S;
                    return t.ownerDocument = this, t.nodeName = e, t.tagName = e, t.childNodes = new u, (t.attributes = new d)._ownerElement = t
                },
                createDocumentFragment: function () {
                    var e = new R;
                    return e.ownerDocument = this, e.childNodes = new u, e
                },
                createTextNode: function (e) {
                    var t = new O;
                    return t.ownerDocument = this, t.appendData(e), t
                },
                createComment: function (e) {
                    var t = new M;
                    return t.ownerDocument = this, t.appendData(e), t
                },
                createCDATASection: function (e) {
                    var t = new C;
                    return t.ownerDocument = this, t.appendData(e), t
                },
                createProcessingInstruction: function (e, t) {
                    var n = new j;
                    return n.ownerDocument = this, n.tagName = n.target = e, n.nodeValue = n.data = t, n
                },
                createAttribute: function (e) {
                    var t = new N;
                    return t.ownerDocument = this, t.name = e, t.nodeName = e, t.localName = e, t.specified = !0, t
                },
                createEntityReference: function (e) {
                    var t = new I;
                    return t.ownerDocument = this, t.nodeName = e, t
                },
                createElementNS: function (e, t) {
                    var n = new S, o = t.split(":"), r = n.attributes = new d;
                    return n.childNodes = new u, n.ownerDocument = this, n.nodeName = t, n.tagName = t, n.namespaceURI = e, 2 == o.length ? (n.prefix = o[0], n.localName = o[1]) : n.localName = t, r._ownerElement = n
                },
                createAttributeNS: function (e, t) {
                    var n = new N, o = t.split(":");
                    return n.ownerDocument = this, n.nodeName = t, n.name = t, n.namespaceURI = e, n.specified = !0, 2 == o.length ? (n.prefix = o[0], n.localName = o[1]) : n.localName = t, n
                }
            }, a(b, g), b.prototype.getElementsByTagName = (S.prototype = {
                nodeType: 1, hasAttribute: function (e) {
                    return null != this.getAttributeNode(e)
                }, getAttribute: function (e) {
                    return (e = this.getAttributeNode(e)) && e.value || ""
                }, getAttributeNode: function (e) {
                    return this.attributes.getNamedItem(e)
                }, setAttribute: function (e, t) {
                    (e = this.ownerDocument.createAttribute(e)).value = e.nodeValue = "" + t, this.setAttributeNode(e)
                }, removeAttribute: function (e) {
                    (e = this.getAttributeNode(e)) && this.removeAttributeNode(e)
                }, appendChild: function (e) {
                    return 11 === e.nodeType ? this.insertBefore(e, null) : (t = this, (n = e.parentNode) && (o = t.lastChild, n.removeChild(e), o = t.lastChild), o = t.lastChild, e.parentNode = t, e.previousSibling = o, e.nextSibling = null, o ? o.nextSibling = e : t.firstChild = e, t.lastChild = e, _(t.ownerDocument, t, e), e);
                    var t, n, o
                }, setAttributeNode: function (e) {
                    return this.attributes.setNamedItem(e)
                }, setAttributeNodeNS: function (e) {
                    return this.attributes.setNamedItemNS(e)
                }, removeAttributeNode: function (e) {
                    return this.attributes.removeNamedItem(e.nodeName)
                }, removeAttributeNS: function (e, t) {
                    (e = this.getAttributeNodeNS(e, t)) && this.removeAttributeNode(e)
                }, hasAttributeNS: function (e, t) {
                    return null != this.getAttributeNodeNS(e, t)
                }, getAttributeNS: function (e, t) {
                    return (e = this.getAttributeNodeNS(e, t)) && e.value || ""
                }, setAttributeNS: function (e, t, n) {
                    (e = this.ownerDocument.createAttributeNS(e, t)).value = e.nodeValue = "" + n, this.setAttributeNode(e)
                }, getAttributeNodeNS: function (e, t) {
                    return this.attributes.getNamedItemNS(e, t)
                }, getElementsByTagName: function (e) {
                    return new s(this, function (t) {
                        var n = [];
                        return v(t, function (o) {
                            o === t || 1 != o.nodeType || "*" !== e && o.tagName != e || n.push(o)
                        }), n
                    })
                }, getElementsByTagNameNS: function (e, t) {
                    return new s(this, function (n) {
                        var o = [];
                        return v(n, function (r) {
                            r === n || 1 !== r.nodeType || "*" !== e && r.namespaceURI !== e || "*" !== t && r.localName != t || o.push(r)
                        }), o
                    })
                }
            }).getElementsByTagName, b.prototype.getElementsByTagNameNS = S.prototype.getElementsByTagNameNS, a(S, g), N.prototype.nodeType = 2, a(N, g), T.prototype = {
                data: "",
                substringData: function (e, t) {
                    return this.data.substring(e, e + t)
                },
                appendData: function (e) {
                    e = this.data + e, this.nodeValue = this.data = e, this.length = e.length
                },
                insertData: function (e, t) {
                    this.replaceData(e, 0, t)
                },
                appendChild: function (e) {
                    throw new Error(K[3])
                },
                deleteData: function (e, t) {
                    this.replaceData(e, t, "")
                },
                replaceData: function (e, t, n) {
                    var o = this.data.substring(0, e), e = this.data.substring(e + t);
                    this.nodeValue = this.data = n = o + n + e, this.length = n.length
                }
            }, a(T, g), O.prototype = {
                nodeName: "#text", nodeType: 3, splitText: function (e) {
                    var t = (n = this.data).substring(e), n = n.substring(0, e),
                        e = (this.data = this.nodeValue = n, this.length = n.length, this.ownerDocument.createTextNode(t));
                    return this.parentNode && this.parentNode.insertBefore(e, this.nextSibling), e
                }
            }, a(O, T), M.prototype = {
                nodeName: "#comment",
                nodeType: 8
            }, a(M, T), C.prototype = {
                nodeName: "#cdata-section",
                nodeType: 4
            }, a(C, T), A.prototype.nodeType = 10, a(A, g), D.prototype.nodeType = 12, a(D, g), P.prototype.nodeType = 6, a(P, g), I.prototype.nodeType = 5, a(I, g), R.prototype.nodeName = "#document-fragment", R.prototype.nodeType = 11, a(R, g), j.prototype.nodeType = 7, a(j, g), L.prototype.serializeToString = function (e, t, n) {
                return F.call(e, t, n)
            }, g.prototype.toString = F;
            try {
                Object.defineProperty && (U = function e(t) {
                    switch (t.nodeType) {
                        case 1:
                        case 11:
                            var n = [];
                            for (t = t.firstChild; t;) 7 !== t.nodeType && 8 !== t.nodeType && n.push(e(t)), t = t.nextSibling;
                            return n.join("");
                        default:
                            return t.nodeValue
                    }
                }, Object.defineProperty(s.prototype, "length", {
                    get: function () {
                        return l(this), this.$$length
                    }
                }), Object.defineProperty(g.prototype, "textContent", {
                    get: function () {
                        return U(this)
                    }, set: function (e) {
                        switch (this.nodeType) {
                            case 1:
                            case 11:
                                for (; this.firstChild;) this.removeChild(this.firstChild);
                                (e || String(e)) && this.appendChild(this.ownerDocument.createTextNode(e));
                                break;
                            default:
                                this.data = e, this.value = e, this.nodeValue = e
                        }
                    }
                }), B = function (e, t, n) {
                    e["$$" + t] = n
                })
            } catch (o) {
            }
            o.DOMImplementation = m, o.XMLSerializer = L
        }, {}], 21: [function (e, t, n) {
            n.entityMap = {
                lt: "<",
                gt: ">",
                amp: "&",
                quot: '"',
                apos: "'",
                Agrave: "À",
                Aacute: "Á",
                Acirc: "Â",
                Atilde: "Ã",
                Auml: "Ä",
                Aring: "Å",
                AElig: "Æ",
                Ccedil: "Ç",
                Egrave: "È",
                Eacute: "É",
                Ecirc: "Ê",
                Euml: "Ë",
                Igrave: "Ì",
                Iacute: "Í",
                Icirc: "Î",
                Iuml: "Ï",
                ETH: "Ð",
                Ntilde: "Ñ",
                Ograve: "Ò",
                Oacute: "Ó",
                Ocirc: "Ô",
                Otilde: "Õ",
                Ouml: "Ö",
                Oslash: "Ø",
                Ugrave: "Ù",
                Uacute: "Ú",
                Ucirc: "Û",
                Uuml: "Ü",
                Yacute: "Ý",
                THORN: "Þ",
                szlig: "ß",
                agrave: "à",
                aacute: "á",
                acirc: "â",
                atilde: "ã",
                auml: "ä",
                aring: "å",
                aelig: "æ",
                ccedil: "ç",
                egrave: "è",
                eacute: "é",
                ecirc: "ê",
                euml: "ë",
                igrave: "ì",
                iacute: "í",
                icirc: "î",
                iuml: "ï",
                eth: "ð",
                ntilde: "ñ",
                ograve: "ò",
                oacute: "ó",
                ocirc: "ô",
                otilde: "õ",
                ouml: "ö",
                oslash: "ø",
                ugrave: "ù",
                uacute: "ú",
                ucirc: "û",
                uuml: "ü",
                yacute: "ý",
                thorn: "þ",
                yuml: "ÿ",
                nbsp: " ",
                iexcl: "¡",
                cent: "¢",
                pound: "£",
                curren: "¤",
                yen: "¥",
                brvbar: "¦",
                sect: "§",
                uml: "¨",
                copy: "©",
                ordf: "ª",
                laquo: "«",
                not: "¬",
                shy: "­­",
                reg: "®",
                macr: "¯",
                deg: "°",
                plusmn: "±",
                sup2: "²",
                sup3: "³",
                acute: "´",
                micro: "µ",
                para: "¶",
                middot: "·",
                cedil: "¸",
                sup1: "¹",
                ordm: "º",
                raquo: "»",
                frac14: "¼",
                frac12: "½",
                frac34: "¾",
                iquest: "¿",
                times: "×",
                divide: "÷",
                forall: "∀",
                part: "∂",
                exist: "∃",
                empty: "∅",
                nabla: "∇",
                isin: "∈",
                notin: "∉",
                ni: "∋",
                prod: "∏",
                sum: "∑",
                minus: "−",
                lowast: "∗",
                radic: "√",
                prop: "∝",
                infin: "∞",
                ang: "∠",
                and: "∧",
                or: "∨",
                cap: "∩",
                cup: "∪",
                int: "∫",
                there4: "∴",
                sim: "∼",
                cong: "≅",
                asymp: "≈",
                ne: "≠",
                equiv: "≡",
                le: "≤",
                ge: "≥",
                sub: "⊂",
                sup: "⊃",
                nsub: "⊄",
                sube: "⊆",
                supe: "⊇",
                oplus: "⊕",
                otimes: "⊗",
                perp: "⊥",
                sdot: "⋅",
                Alpha: "Α",
                Beta: "Β",
                Gamma: "Γ",
                Delta: "Δ",
                Epsilon: "Ε",
                Zeta: "Ζ",
                Eta: "Η",
                Theta: "Θ",
                Iota: "Ι",
                Kappa: "Κ",
                Lambda: "Λ",
                Mu: "Μ",
                Nu: "Ν",
                Xi: "Ξ",
                Omicron: "Ο",
                Pi: "Π",
                Rho: "Ρ",
                Sigma: "Σ",
                Tau: "Τ",
                Upsilon: "Υ",
                Phi: "Φ",
                Chi: "Χ",
                Psi: "Ψ",
                Omega: "Ω",
                alpha: "α",
                beta: "β",
                gamma: "γ",
                delta: "δ",
                epsilon: "ε",
                zeta: "ζ",
                eta: "η",
                theta: "θ",
                iota: "ι",
                kappa: "κ",
                lambda: "λ",
                mu: "μ",
                nu: "ν",
                xi: "ξ",
                omicron: "ο",
                pi: "π",
                rho: "ρ",
                sigmaf: "ς",
                sigma: "σ",
                tau: "τ",
                upsilon: "υ",
                phi: "φ",
                chi: "χ",
                psi: "ψ",
                omega: "ω",
                thetasym: "ϑ",
                upsih: "ϒ",
                piv: "ϖ",
                OElig: "Œ",
                oelig: "œ",
                Scaron: "Š",
                scaron: "š",
                Yuml: "Ÿ",
                fnof: "ƒ",
                circ: "ˆ",
                tilde: "˜",
                ensp: " ",
                emsp: " ",
                thinsp: " ",
                zwnj: "‌",
                zwj: "‍",
                lrm: "‎",
                rlm: "‏",
                ndash: "–",
                mdash: "—",
                lsquo: "‘",
                rsquo: "’",
                sbquo: "‚",
                ldquo: "“",
                rdquo: "”",
                bdquo: "„",
                dagger: "†",
                Dagger: "‡",
                bull: "•",
                hellip: "…",
                permil: "‰",
                prime: "′",
                Prime: "″",
                lsaquo: "‹",
                rsaquo: "›",
                oline: "‾",
                euro: "€",
                trade: "™",
                larr: "←",
                uarr: "↑",
                rarr: "→",
                darr: "↓",
                harr: "↔",
                crarr: "↵",
                lceil: "⌈",
                rceil: "⌉",
                lfloor: "⌊",
                rfloor: "⌋",
                loz: "◊",
                spades: "♠",
                clubs: "♣",
                hearts: "♥",
                diams: "♦"
            }
        }, {}], 22: [function (e, t, n) {
            function o() {
            }

            function r(e, t) {
                return t.lineNumber = e.lineNumber, t.columnNumber = e.columnNumber, t
            }

            function i(e, t, n) {
                for (var o = e.tagName, r = null, i = e.length; i--;) {
                    var c = e[i], u = c.qName, s = c.value,
                        u = 0 < (d = u.indexOf(":")) ? (l = c.prefix = u.slice(0, d), f = u.slice(d + 1), "xmlns" === l && f) : (l = null, "xmlns" === (f = u) && "");
                    c.localName = f, !1 !== u && (null == r && (r = {}, a(n, n = {})), n[u] = r[u] = s, c.uri = "http://www.w3.org/2000/xmlns/", t.startPrefixMapping(u, s))
                }
                for (var l, i = e.length; i--;) (l = (c = e[i]).prefix) && ("xml" === l && (c.uri = "http://www.w3.org/XML/1998/namespace"), "xmlns" !== l) && (c.uri = n[l || ""]);
                var d,
                    f = 0 < (d = o.indexOf(":")) ? (l = e.prefix = o.slice(0, d), e.localName = o.slice(d + 1)) : (l = null, e.localName = o),
                    p = e.uri = n[l || ""];
                if (t.startElement(p, f, o, e), !e.closed) return e.currentNSMap = n, e.localNSMap = r, 1;
                if (t.endElement(p, f, o), r) for (l in r) t.endPrefixMapping(l)
            }

            function a(e, t) {
                for (var n in e) t[n] = e[n]
            }

            function c(e) {
            }

            var u = /[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,
                s = new RegExp("[\\-\\.0-9" + u.source.slice(1, -1) + "\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),
                l = new RegExp("^" + u.source + s.source + "*(?::" + u.source + s.source + "*)?$");
            o.prototype = {
                parse: function (e, t, n) {
                    var o = this.domBuilder;
                    o.startDocument(), a(t, t = {}), function (e, t, n, o, a) {
                        function u(e) {
                            var t = e.slice(1, -1);
                            return t in n ? n[t] : "#" === t.charAt(0) ? 65535 < (t = parseInt(t.substr(1).replace("x", "0x"))) ? (t -= 65536, String.fromCharCode(55296 + (t >> 10), 56320 + (1023 & t))) : String.fromCharCode(t) : (a.error("entity not found:" + e), e)
                        }

                        function s(t) {
                            var n;
                            P < t && (n = e.substring(P, t).replace(/&#?\w+;/g, u), C && l(P), o.characters(n, 0, t - P), P = t)
                        }

                        function l(t, n) {
                            for (; O <= t && (n = M.exec(e));) T = n.index, O = T + n[0].length, C.lineNumber++;
                            C.columnNumber = t - T + 1
                        }

                        for (var d, f, p, h, m, g, y, v, b, w, _, E, x, S, N, T = 0, O = 0, M = /.*(?:\r\n?|\n)|.*$/g, C = o.locator, A = [{currentNSMap: t}], D = {}, P = 0; ;) {
                            try {
                                var I, R, j = e.indexOf("<", P);
                                if (j < 0) return e.substr(P).match(/^\s*$/) || (R = (I = o.doc).createTextNode(e.substr(P)), I.appendChild(R), o.currentElement = R);
                                switch (P < j && s(j), e.charAt(j + 1)) {
                                    case"/":
                                        var L = e.indexOf(">", j + 3), F = e.substring(j + 2, L), k = A.pop(),
                                            H = (L < 0 ? (F = e.substring(j + 2).replace(/[\s<].*/, ""), a.error("end tag name: " + F + " is not complete:" + k.tagName), L = j + 1 + F.length) : F.match(/\s</) && (F = F.replace(/[\s<].*/, ""), a.error("end tag name: " + F + " maybe not complete"), L = j + 1 + F.length), k.localNSMap),
                                            B = k.tagName == F;
                                        if (B || k.tagName && k.tagName.toLowerCase() == F.toLowerCase()) {
                                            if (o.endElement(k.uri, k.localName, F), H) for (var U in H) o.endPrefixMapping(U);
                                            B || a.fatalError("end tag name: " + F + " is not match the current start tagName:" + k.tagName)
                                        } else A.push(k);
                                        L++;
                                        break;
                                    case"?":
                                        C && l(j), x = j, S = o, L = (N = (E = e).indexOf("?>", x)) && (E = E.substring(x, N).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/)) ? (E[0].length, S.processingInstruction(E[1], E[2]), N + 2) : -1;
                                        break;
                                    case"!":
                                        C && l(j), y = j, v = o, b = a, _ = w = void 0, L = "-" === (g = e).charAt(y + 2) ? "-" === g.charAt(y + 3) ? y < (_ = g.indexOf("--\x3e", y + 4)) ? (v.comment(g, y + 4, _ - y - 4), _ + 3) : (b.error("Unclosed comment"), -1) : -1 : "CDATA[" == g.substr(y + 3, 6) ? (_ = g.indexOf("]]>", y + 9), v.startCDATA(), v.characters(g, y + 9, _ - y - 9), v.endCDATA(), _ + 3) : 1 < (_ = (b = function (e, t) {
                                            var n, o = [], r = /'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;
                                            for (r.lastIndex = t, r.exec(e); n = r.exec(e);) if (o.push(n), n[1]) return o
                                        }(g, y)).length) && /!doctype/i.test(b[0][0]) ? (g = b[1][0], y = 3 < _ && /^public$/i.test(b[2][0]) && b[3][0], w = 4 < _ && b[4][0], b = b[_ - 1], v.startDTD(g, y && y.replace(/^(['"])(.*?)\1$/, "$2"), w && w.replace(/^(['"])(.*?)\1$/, "$2")), v.endDTD(), b.index + b[0].length) : -1;
                                        break;
                                    default:
                                        C && l(j);
                                        var W = new c, V = A[A.length - 1].currentNSMap,
                                            L = function (e, t, n, o, r, i) {
                                                for (var a, c = ++t, u = 0; ;) {
                                                    var s = e.charAt(c);
                                                    switch (s) {
                                                        case"=":
                                                            if (1 === u) a = e.slice(t, c); else if (2 !== u) throw new Error("attribute equal must after attrName");
                                                            u = 3;
                                                            break;
                                                        case"'":
                                                        case'"':
                                                            if (3 === u || 1 === u) {
                                                                if (1 === u && (i.warning('attribute value must after "="'), a = e.slice(t, c)), !(0 < (c = e.indexOf(s, t = c + 1)))) throw new Error("attribute value no end '" + s + "' match");
                                                                l = e.slice(t, c).replace(/&#?\w+;/g, r), n.add(a, l, t - 1)
                                                            } else {
                                                                if (4 != u) throw new Error('attribute value must after "="');
                                                                l = e.slice(t, c).replace(/&#?\w+;/g, r), n.add(a, l, t), i.warning('attribute "' + a + '" missed start quot(' + s + ")!!"), t = c + 1
                                                            }
                                                            u = 5;
                                                            break;
                                                        case"/":
                                                            switch (u) {
                                                                case 0:
                                                                    n.setTagName(e.slice(t, c));
                                                                case 5:
                                                                case 6:
                                                                case 7:
                                                                    u = 7, n.closed = !0;
                                                                case 4:
                                                                case 1:
                                                                case 2:
                                                                    break;
                                                                default:
                                                                    throw new Error("attribute invalid close char('/')")
                                                            }
                                                            break;
                                                        case"":
                                                            return i.error("unexpected end of input"), 0 == u && n.setTagName(e.slice(t, c)), c;
                                                        case">":
                                                            switch (u) {
                                                                case 0:
                                                                    n.setTagName(e.slice(t, c));
                                                                case 5:
                                                                case 6:
                                                                case 7:
                                                                    break;
                                                                case 4:
                                                                case 1:
                                                                    "/" === (l = e.slice(t, c)).slice(-1) && (n.closed = !0, l = l.slice(0, -1));
                                                                case 2:
                                                                    2 === u && (l = a), 4 == u ? (i.warning('attribute "' + l + '" missed quot(")!!'), n.add(a, l.replace(/&#?\w+;/g, r), t)) : ("http://www.w3.org/1999/xhtml" === o[""] && l.match(/^(?:disabled|checked|selected)$/i) || i.warning('attribute "' + l + '" missed value!! "' + l + '" instead!!'), n.add(l, l, t));
                                                                    break;
                                                                case 3:
                                                                    throw new Error("attribute value missed!!")
                                                            }
                                                            return c;
                                                        case"":
                                                            s = " ";
                                                        default:
                                                            if (s <= " ") switch (u) {
                                                                case 0:
                                                                    n.setTagName(e.slice(t, c)), u = 6;
                                                                    break;
                                                                case 1:
                                                                    a = e.slice(t, c), u = 2;
                                                                    break;
                                                                case 4:
                                                                    var l = e.slice(t, c).replace(/&#?\w+;/g, r);
                                                                    i.warning('attribute "' + l + '" missed quot(")!!'), n.add(a, l, t);
                                                                case 5:
                                                                    u = 6
                                                            } else switch (u) {
                                                                case 2:
                                                                    n.tagName, "http://www.w3.org/1999/xhtml" === o[""] && a.match(/^(?:disabled|checked|selected)$/i) || i.warning('attribute "' + a + '" missed value!! "' + a + '" instead2!!'), n.add(a, a, t), t = c, u = 1;
                                                                    break;
                                                                case 5:
                                                                    i.warning('attribute space is required"' + a + '"!!');
                                                                case 6:
                                                                    u = 1, t = c;
                                                                    break;
                                                                case 3:
                                                                    u = 4, t = c;
                                                                    break;
                                                                case 7:
                                                                    throw new Error("elements closed character '/' and '>' must be connected to")
                                                            }
                                                    }
                                                    c++
                                                }
                                            }(e, j, W, V, u, a), K = W.length;
                                        if (!W.closed && (d = e, f = L, p = W.tagName, m = void 0, null == (m = (h = D)[p]) && ((m = d.lastIndexOf("</" + p + ">")) < f && (m = d.lastIndexOf("</" + p)), h[p] = m), m < f) && (W.closed = !0, n.nbsp || a.warning("unclosed xml attribute")), C && K) {
                                            for (var G = r(C, {}), q = 0; q < K; q++) {
                                                var z = W[q];
                                                l(z.offset), z.locator = r(C, {})
                                            }
                                            o.locator = G, i(W, o, V) && A.push(W), o.locator = C
                                        } else i(W, o, V) && A.push(W);
                                        "http://www.w3.org/1999/xhtml" !== W.uri || W.closed ? L++ : L = function (e, t, n, o, r) {
                                            if (/^(?:script|textarea)$/i.test(n)) {
                                                var i = e.indexOf("</" + n + ">", t), e = e.substring(t + 1, i);
                                                if (/[&<]/.test(e)) return /^script$/i.test(n) || (e = e.replace(/&#?\w+;/g, o)), r.characters(e, 0, e.length), i
                                            }
                                            return t + 1
                                        }(e, L, W.tagName, u, o)
                                }
                            } catch (t) {
                                a.error("element parse error: " + t), L = -1
                            }
                            P < L ? P = L : s(Math.max(j, P) + 1)
                        }
                    }(e, t, n, o, this.errorHandler), o.endDocument()
                }
            }, c.prototype = {
                setTagName: function (e) {
                    if (!l.test(e)) throw new Error("invalid tagName:" + e);
                    this.tagName = e
                }, add: function (e, t, n) {
                    if (!l.test(e)) throw new Error("invalid attribute:" + e);
                    this[this.length++] = {qName: e, value: t, offset: n}
                }, length: 0, getLocalName: function (e) {
                    return this[e].localName
                }, getLocator: function (e) {
                    return this[e].locator
                }, getQName: function (e) {
                    return this[e].qName
                }, getURI: function (e) {
                    return this[e].uri
                }, getValue: function (e) {
                    return this[e].value
                }
            }, n.XMLReader = o
        }, {}], 23: [function (e, t, n) {
            var o = GameGlobal, r = o.__globalAdapter = {};
            Object.assign(r, {
                init: function () {
                    e("./wrapper/builtin"), o.DOMParser = e("../../common/xmldom/dom-parser").DOMParser, e("./wrapper/unify"), e("./wrapper/fs-utils"), e("../../common/engine/globalAdapter"), e("./wrapper/systemInfo")
                }, adaptEngine: function () {
                    e("./wrapper/error-reporter"), e("../../common/engine"), e("./wrapper/engine"), e("./wrapper/sub-context-adapter")
                }
            })
        }, {
            "../../common/engine": 16,
            "../../common/engine/globalAdapter": 15,
            "../../common/xmldom/dom-parser": 19,
            "./wrapper/builtin": 46,
            "./wrapper/engine": 53,
            "./wrapper/error-reporter": 55,
            "./wrapper/fs-utils": 56,
            "./wrapper/sub-context-adapter": 1,
            "./wrapper/systemInfo": 57,
            "./wrapper/unify": 58
        }], 24: [function (t, n, o) {
            function r(t) {
                return (r = "function" == typeof Symbol && "symbol" == e(Symbol.iterator) ? function (t) {
                    return void 0 === t ? "undefined" : e(t)
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : void 0 === t ? "undefined" : e(t)
                })(t)
            }

            function i(e, t, n) {
                return (i = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (e, t, n) {
                    if (e = function (e, t) {
                        for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = c(e));) ;
                        return e
                    }(e, t)) return (e = Object.getOwnPropertyDescriptor(e, t)).get ? e.get.call(n) : e.value
                })(e, t, n || e)
            }

            function a(e, t) {
                return (a = Object.setPrototypeOf || function (e, t) {
                    return e.__proto__ = t, e
                })(e, t)
            }

            function c(e) {
                return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e)
                })(e)
            }

            Object.defineProperty(o, "__esModule", {value: !0}), o.default = void 0;
            var u = 1, s = {}, t = function (e) {
                function t(e) {
                    var n;
                    if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function");
                    (n = d.call(this))._$sn = u++, n.HAVE_NOTHING = 0, n.HAVE_METADATA = 1, n.HAVE_CURRENT_DATA = 2, n.HAVE_FUTURE_DATA = 3, n.HAVE_ENOUGH_DATA = 4, n.readyState = 0;
                    var o = wx.createInnerAudioContext();
                    return s[n._$sn] = o, n._canplayEvents = ["load", "loadend", "canplay", "canplaythrough", "loadedmetadata"], o.onCanplay(function () {
                        n._loaded = !0, n.readyState = n.HAVE_CURRENT_DATA, n._canplayEvents.forEach(function (e) {
                            n.dispatchEvent({type: e})
                        })
                    }), o.onPlay(function () {
                        n._paused = s[n._$sn].paused, n.dispatchEvent({type: "play"})
                    }), o.onPause(function () {
                        n._paused = s[n._$sn].paused, n.dispatchEvent({type: "pause"})
                    }), o.onEnded(function () {
                        n._paused = s[n._$sn].paused, !1 === s[n._$sn].loop && n.dispatchEvent({type: "ended"}), n.readyState = 4
                    }), o.onError(function () {
                        n._paused = s[n._$sn].paused, n.dispatchEvent({type: "error"})
                    }), e ? n.src = e : n._src = "", n._loop = o.loop, n._autoplay = o.autoplay, n._paused = o.paused, n._volume = o.volume, n._muted = !1, n
                }

                var n = t;
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                n.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: n,
                        writable: !0,
                        configurable: !0
                    }
                }), e && a(n, e);
                for (var o = t, l = function () {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {
                        })), !0
                    } catch (e) {
                        return !1
                    }
                }(), d = function () {
                    var e, t = c(o),
                        t = (e = l ? (e = c(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), this);
                    if (!e || "object" !== r(e) && "function" != typeof e) {
                        if (void 0 !== t) return t;
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
                    }
                    return e
                }, f = (n = t).prototype, p = [{
                    key: "addEventListener", value: function (e, n) {
                        var o = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {};
                        i(c(t.prototype), "addEventListener", this).call(this, e, n, o), e = String(e).toLowerCase(), this._loaded && -1 !== this._canplayEvents.indexOf(e) && this.dispatchEvent({type: e})
                    }
                }, {
                    key: "load", value: function () {
                    }
                }, {
                    key: "play", value: function () {
                        s[this._$sn].play()
                    }
                }, {
                    key: "resume", value: function () {
                        s[this._$sn].resume()
                    }
                }, {
                    key: "pause", value: function () {
                        s[this._$sn].pause()
                    }
                }, {
                    key: "stop", value: function () {
                        s[this._$sn].stop()
                    }
                }, {
                    key: "destroy", value: function () {
                        s[this._$sn].destroy()
                    }
                }, {
                    key: "canPlayType", value: function () {
                        var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "";
                        return "string" == typeof e && (-1 < e.indexOf("audio/mpeg") || e.indexOf("audio/mp4")) ? "probably" : ""
                    }
                }, {
                    key: "cloneNode", value: function () {
                        var e = new t;
                        return e.loop = this.loop, e.autoplay = this.autoplay, e.src = this.src, e
                    }
                }, {
                    key: "currentTime", get: function () {
                        return s[this._$sn].currentTime
                    }, set: function (e) {
                        s[this._$sn].seek(e)
                    }
                }, {
                    key: "duration", get: function () {
                        return s[this._$sn].duration
                    }
                }, {
                    key: "src", get: function () {
                        return this._src
                    }, set: function (e) {
                        this._src = e, this._loaded = !1, this.readyState = this.HAVE_NOTHING, s[this._$sn].src = e
                    }
                }, {
                    key: "loop", get: function () {
                        return this._loop
                    }, set: function (e) {
                        this._loop = e, s[this._$sn].loop = e
                    }
                }, {
                    key: "autoplay", get: function () {
                        return this.autoplay
                    }, set: function (e) {
                        this._autoplay = e, s[this._$sn].autoplay = e
                    }
                }, {
                    key: "paused", get: function () {
                        return this._paused
                    }
                }, {
                    key: "volume", get: function () {
                        return this._volume
                    }, set: function (e) {
                        this._volume = e, this._muted || (s[this._$sn].volume = e)
                    }
                }, {
                    key: "muted", get: function () {
                        return this._muted
                    }, set: function (e) {
                        this._muted = e, s[this._$sn].volume = e ? 0 : this._volume
                    }
                }], h = 0; h < p.length; h++) {
                    var m = p[h];
                    m.enumerable = m.enumerable || !1, m.configurable = !0, "value" in m && (m.writable = !0), Object.defineProperty(f, m.key, m)
                }
                return t
            }((t = (t = t("./HTMLAudioElement")) && t.__esModule ? t : {default: t}).default);
            o.default = t, n.exports = o.default
        }, {"./HTMLAudioElement": 32}], 25: [function (e, t, n) {
            Object.defineProperty(n, "__esModule", {value: !0}), n.default = function () {
                var e = wx.createCanvas();
                return e.type = "canvas", e.getBoundingClientRect = function () {
                    return {top: 0, left: 0, width: window.innerWidth, height: window.innerHeight}
                }, e.style = {
                    top: "0px",
                    left: "0px",
                    width: o.innerWidth + "px",
                    height: o.innerHeight + "px"
                }, e.addEventListener = function (e, t) {
                    document.addEventListener(e, t, 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {})
                }, e.removeEventListener = function (e, t) {
                    document.removeEventListener(e, t)
                }, e.dispatchEvent = function () {
                    var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {};
                    console.log("canvas.dispatchEvent", e.type, e)
                }, Object.defineProperty(e, "clientWidth", {
                    enumerable: !0, get: function () {
                        return o.innerWidth
                    }
                }), Object.defineProperty(e, "clientHeight", {
                    enumerable: !0, get: function () {
                        return o.innerHeight
                    }
                }), e
            };
            var o = e("./WindowProperties");
            t.exports = n.default
        }, {"./WindowProperties": 43}], 26: [function (t, n, o) {
            function r(t) {
                return (r = "function" == typeof Symbol && "symbol" == e(Symbol.iterator) ? function (t) {
                    return void 0 === t ? "undefined" : e(t)
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : void 0 === t ? "undefined" : e(t)
                })(t)
            }

            function i(e, t) {
                return (i = Object.setPrototypeOf || function (e, t) {
                    return e.__proto__ = t, e
                })(e, t)
            }

            function a(e) {
                return (a = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e)
                })(e)
            }

            Object.defineProperty(o, "__esModule", {value: !0}), o.default = void 0, t = function (e) {
                function t() {
                    var e;
                    if (this instanceof t) return (e = u.call(this)).className = "", e.children = [], e;
                    throw new TypeError("Cannot call a class as a function")
                }

                var n = t;
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                n.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: n,
                        writable: !0,
                        configurable: !0
                    }
                }), e && i(n, e);
                var o = t, c = function () {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {
                        })), !0
                    } catch (e) {
                        return !1
                    }
                }(), u = function () {
                    var e, t = a(o),
                        t = (e = c ? (e = a(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), this);
                    if (!e || "object" !== r(e) && "function" != typeof e) {
                        if (void 0 !== t) return t;
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
                    }
                    return e
                };
                return t
            }(((t = t("./Node")) && t.__esModule ? t : {default: t}).default), o.default = t, n.exports = o.default
        }, {"./Node": 40}], 27: [function (e, t, n) {
            Object.defineProperty(n, "__esModule", {value: !0}), n.default = void 0, n.default = function e() {
                if (!(this instanceof e)) throw new TypeError("Cannot call a class as a function")
            }, t.exports = n.default
        }, {}], 28: [function (e, t, n) {
            function o(e) {
                if (!(this instanceof o)) throw new TypeError("Cannot call a class as a function");
                this.touches = [], this.targetTouches = [], this.changedTouches = [], this.preventDefault = i.noop, this.stopPropagation = i.noop, this.type = e, this.target = window.canvas, this.currentTarget = window.canvas
            }

            function r(e) {
                return function (t) {
                    var n = new o(e);
                    n.touches = t.touches, n.targetTouches = Array.prototype.slice.call(t.touches), n.changedTouches = t.changedTouches, n.timeStamp = t.timeStamp, document.dispatchEvent(n)
                }
            }

            Object.defineProperty(n, "__esModule", {value: !0}), n.default = void 0;
            var i = e("../util/index.js");
            n.default = o, wx.onTouchStart(r("touchstart")), wx.onTouchMove(r("touchmove")), wx.onTouchEnd(r("touchend")), wx.onTouchCancel(r("touchcancel")), t.exports = n.default
        }, {"../util/index.js": 50}], 29: [function (e, t, n) {
            function o(e) {
                return e && e.__esModule ? e : {default: e}
            }

            Object.defineProperty(n, "__esModule", {value: !0}), Object.defineProperty(n, "TouchEvent", {
                enumerable: !0,
                get: function () {
                    return r.default
                }
            }), Object.defineProperty(n, "MouseEvent", {
                enumerable: !0, get: function () {
                    return i.default
                }
            });
            var r = o(e("./TouchEvent")), i = o(e("./MouseEvent"))
        }, {"./MouseEvent": 27, "./TouchEvent": 28}], 30: [function (e, t, n) {
            function o() {
                if (!(this instanceof o)) throw new TypeError("Cannot call a class as a function");
                r.set(this, {})
            }

            Object.defineProperty(n, "__esModule", {value: !0}), n.default = void 0;
            var r = new WeakMap, i = (function (e, t) {
                for (var n = 0; n < t.length; n++) {
                    var o = t[n];
                    o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                }
            }(o.prototype, [{
                key: "addEventListener", value: function (e, t) {
                    var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}, o = r.get(this);
                    o || r.set(this, o = {}), o[e] || (o[e] = []), o[e].push(t), n.capture, n.once, n.passive
                }
            }, {
                key: "removeEventListener", value: function (e, t) {
                    var n = r.get(this);
                    if (n) {
                        var o = n[e];
                        if (o && 0 < o.length) for (var i = o.length; i--;) if (o[i] === t) {
                            o.splice(i, 1);
                            break
                        }
                    }
                }
            }, {
                key: "dispatchEvent", value: function () {
                    var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {},
                        t = r.get(this)[e.type];
                    if (t) for (var n = 0; n < t.length; n++) t[n](e)
                }
            }]), o);
            n.default = i, t.exports = n.default
        }, {}], 31: [function (e, t, n) {
            function o() {
                if (!(this instanceof o)) throw new TypeError("Cannot call a class as a function")
            }

            Object.defineProperty(n, "__esModule", {value: !0}), n.default = void 0;
            for (var r = o.prototype, i = [{
                key: "construct", value: function () {
                }
            }], a = 0; a < i.length; a++) {
                var c = i[a];
                c.enumerable = c.enumerable || !1, c.configurable = !0, "value" in c && (c.writable = !0), Object.defineProperty(r, c.key, c)
            }
            n.default = o, t.exports = n.default
        }, {}], 32: [function (t, n, o) {
            function r(t) {
                return (r = "function" == typeof Symbol && "symbol" == e(Symbol.iterator) ? function (t) {
                    return void 0 === t ? "undefined" : e(t)
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : void 0 === t ? "undefined" : e(t)
                })(t)
            }

            function i(e, t) {
                return (i = Object.setPrototypeOf || function (e, t) {
                    return e.__proto__ = t, e
                })(e, t)
            }

            function a(e) {
                return (a = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e)
                })(e)
            }

            Object.defineProperty(o, "__esModule", {value: !0}), o.default = void 0, t = function (e) {
                function t() {
                    if (this instanceof t) return u.call(this, "audio");
                    throw new TypeError("Cannot call a class as a function")
                }

                var n = t;
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                n.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: n,
                        writable: !0,
                        configurable: !0
                    }
                }), e && i(n, e);
                var o = t, c = function () {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {
                        })), !0
                    } catch (e) {
                        return !1
                    }
                }(), u = function () {
                    var e, t = a(o),
                        t = (e = c ? (e = a(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), this);
                    if (!e || "object" !== r(e) && "function" != typeof e) {
                        if (void 0 !== t) return t;
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
                    }
                    return e
                };
                return t
            }(((t = t("./HTMLMediaElement")) && t.__esModule ? t : {default: t}).default), o.default = t, n.exports = o.default
        }, {"./HTMLMediaElement": 36}], 33: [function (e, t, n) {
            function o(e) {
                return e && e.__esModule ? e : {default: e}
            }

            Object.defineProperty(n, "__esModule", {value: !0}), n.default = void 0;
            var r = o(e("./Canvas"));
            o(e("./HTMLElement")), GameGlobal.screencanvas = GameGlobal.screencanvas || new r.default, e = GameGlobal.screencanvas.constructor, n.default = e, t.exports = n.default
        }, {"./Canvas": 25, "./HTMLElement": 34}], 34: [function (t, n, o) {
            function r(t) {
                return (r = "function" == typeof Symbol && "symbol" == e(Symbol.iterator) ? function (t) {
                    return void 0 === t ? "undefined" : e(t)
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : void 0 === t ? "undefined" : e(t)
                })(t)
            }

            function i(e, t) {
                return (i = Object.setPrototypeOf || function (e, t) {
                    return e.__proto__ = t, e
                })(e, t)
            }

            function a(e) {
                return (a = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e)
                })(e)
            }

            Object.defineProperty(o, "__esModule", {value: !0}), o.default = void 0;
            var c = (c = t("./Element")) && c.__esModule ? c : {default: c}, u = t("./util/index.js"),
                s = t("./WindowProperties");
            t = function (e) {
                function t() {
                    var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "", n = this;
                    if (n instanceof t) return (n = l.call(this)).className = "", n.childern = [], n.style = {
                        width: "".concat(s.innerWidth, "px"),
                        height: "".concat(s.innerHeight, "px")
                    }, n.insertBefore = u.noop, n.innerHTML = "", n.tagName = e.toUpperCase(), n;
                    throw new TypeError("Cannot call a class as a function")
                }

                var n = t;
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                n.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: n,
                        writable: !0,
                        configurable: !0
                    }
                }), e && i(n, e);
                for (var o = t, c = function () {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {
                        })), !0
                    } catch (e) {
                        return !1
                    }
                }(), l = function () {
                    var e, t = a(o),
                        t = (e = c ? (e = a(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), this);
                    if (!e || "object" !== r(e) && "function" != typeof e) {
                        if (void 0 !== t) return t;
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
                    }
                    return e
                }, d = (n = t).prototype, f = [{
                    key: "setAttribute", value: function (e, t) {
                        this[e] = t
                    }
                }, {
                    key: "getAttribute", value: function (e) {
                        return this[e]
                    }
                }, {
                    key: "getBoundingClientRect", value: function () {
                        return {top: 0, left: 0, width: s.innerWidth, height: s.innerHeight}
                    }
                }, {
                    key: "focus", value: function () {
                    }
                }, {
                    key: "clientWidth", get: function () {
                        var e = parseInt(this.style.fontSize, 10) * this.innerHTML.length;
                        return Number.isNaN(e) ? 0 : e
                    }
                }, {
                    key: "clientHeight", get: function () {
                        var e = parseInt(this.style.fontSize, 10);
                        return Number.isNaN(e) ? 0 : e
                    }
                }], p = 0; p < f.length; p++) {
                    var h = f[p];
                    h.enumerable = h.enumerable || !1, h.configurable = !0, "value" in h && (h.writable = !0), Object.defineProperty(d, h.key, h)
                }
                return t
            }(c.default), o.default = t, n.exports = o.default
        }, {"./Element": 26, "./WindowProperties": 43, "./util/index.js": 50}], 35: [function (e, t, n) {
            Object.defineProperty(n, "__esModule", {value: !0}), n.default = void 0, (e = e("./HTMLElement")) && e.__esModule, e = wx.createImage().constructor, n.default = e, t.exports = n.default
        }, {"./HTMLElement": 34}], 36: [function (t, n, o) {
            function r(t) {
                return (r = "function" == typeof Symbol && "symbol" == e(Symbol.iterator) ? function (t) {
                    return void 0 === t ? "undefined" : e(t)
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : void 0 === t ? "undefined" : e(t)
                })(t)
            }

            function i(e, t) {
                return (i = Object.setPrototypeOf || function (e, t) {
                    return e.__proto__ = t, e
                })(e, t)
            }

            function a(e) {
                return (a = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e)
                })(e)
            }

            Object.defineProperty(o, "__esModule", {value: !0}), o.default = void 0, t = function (e) {
                function t(e) {
                    if (this instanceof t) return u.call(this, e);
                    throw new TypeError("Cannot call a class as a function")
                }

                var n = t;
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                n.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: n,
                        writable: !0,
                        configurable: !0
                    }
                }), e && i(n, e);
                for (var o = t, c = function () {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {
                        })), !0
                    } catch (e) {
                        return !1
                    }
                }(), u = function () {
                    var e, t = a(o),
                        t = (e = c ? (e = a(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), this);
                    if (!e || "object" !== r(e) && "function" != typeof e) {
                        if (void 0 !== t) return t;
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
                    }
                    return e
                }, s = (n = t).prototype, l = [{
                    key: "addTextTrack", value: function () {
                    }
                }, {
                    key: "captureStream", value: function () {
                    }
                }, {
                    key: "fastSeek", value: function () {
                    }
                }, {
                    key: "load", value: function () {
                    }
                }, {
                    key: "pause", value: function () {
                    }
                }, {
                    key: "play", value: function () {
                    }
                }], d = 0; d < l.length; d++) {
                    var f = l[d];
                    f.enumerable = f.enumerable || !1, f.configurable = !0, "value" in f && (f.writable = !0), Object.defineProperty(s, f.key, f)
                }
                return t
            }(((t = t("./HTMLElement")) && t.__esModule ? t : {default: t}).default), o.default = t, n.exports = o.default
        }, {"./HTMLElement": 34}], 37: [function (t, n, o) {
            function r(t) {
                return (r = "function" == typeof Symbol && "symbol" == e(Symbol.iterator) ? function (t) {
                    return void 0 === t ? "undefined" : e(t)
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : void 0 === t ? "undefined" : e(t)
                })(t)
            }

            function i(e, t) {
                return (i = Object.setPrototypeOf || function (e, t) {
                    return e.__proto__ = t, e
                })(e, t)
            }

            function a(e) {
                return (a = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e)
                })(e)
            }

            Object.defineProperty(o, "__esModule", {value: !0}), o.default = void 0, t = function (e) {
                function t() {
                    if (this instanceof t) return u.call(this, "video");
                    throw new TypeError("Cannot call a class as a function")
                }

                var n = t;
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                n.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: n,
                        writable: !0,
                        configurable: !0
                    }
                }), e && i(n, e);
                var o = t, c = function () {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {
                        })), !0
                    } catch (e) {
                        return !1
                    }
                }(), u = function () {
                    var e, t = a(o),
                        t = (e = c ? (e = a(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), this);
                    if (!e || "object" !== r(e) && "function" != typeof e) {
                        if (void 0 !== t) return t;
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
                    }
                    return e
                };
                return t
            }(((t = t("./HTMLMediaElement")) && t.__esModule ? t : {default: t}).default), o.default = t, n.exports = o.default
        }, {"./HTMLMediaElement": 36}], 38: [function (e, t, n) {
            Object.defineProperty(n, "__esModule", {value: !0}), n.default = function () {
                return wx.createImage()
            }, (e = e("./HTMLImageElement")) && e.__esModule, t.exports = n.default
        }, {"./HTMLImageElement": 35}], 39: [function (e, t, n) {
            Object.defineProperty(n, "__esModule", {value: !0}), n.default = void 0, n.default = function e() {
                if (!(this instanceof e)) throw new TypeError("Cannot call a class as a function")
            }, t.exports = n.default
        }, {}], 40: [function (t, n, o) {
            function r(t) {
                return (r = "function" == typeof Symbol && "symbol" == e(Symbol.iterator) ? function (t) {
                    return void 0 === t ? "undefined" : e(t)
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : void 0 === t ? "undefined" : e(t)
                })(t)
            }

            function i(e, t) {
                return (i = Object.setPrototypeOf || function (e, t) {
                    return e.__proto__ = t, e
                })(e, t)
            }

            function a(e) {
                return (a = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e)
                })(e)
            }

            Object.defineProperty(o, "__esModule", {value: !0}), o.default = void 0, t = function (e) {
                function t() {
                    var e;
                    if (this instanceof t) return (e = u.call(this)).childNodes = [], e;
                    throw new TypeError("Cannot call a class as a function")
                }

                var n = t;
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                n.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: n,
                        writable: !0,
                        configurable: !0
                    }
                }), e && i(n, e);
                for (var o = t, c = function () {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {
                        })), !0
                    } catch (e) {
                        return !1
                    }
                }(), u = function () {
                    var e, t = a(o),
                        t = (e = c ? (e = a(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), this);
                    if (!e || "object" !== r(e) && "function" != typeof e) {
                        if (void 0 !== t) return t;
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
                    }
                    return e
                }, s = (n = t).prototype, l = [{
                    key: "appendChild", value: function (e) {
                        this.childNodes.push(e)
                    }
                }, {
                    key: "cloneNode", value: function () {
                        var e = Object.create(this);
                        return Object.assign(e, this), e
                    }
                }, {
                    key: "removeChild", value: function (e) {
                        var t = this.childNodes.findIndex(function (t) {
                            return t === e
                        });
                        return -1 < t ? this.childNodes.splice(t, 1) : null
                    }
                }], d = 0; d < l.length; d++) {
                    var f = l[d];
                    f.enumerable = f.enumerable || !1, f.configurable = !0, "value" in f && (f.writable = !0), Object.defineProperty(s, f.key, f)
                }
                return t
            }(((t = t("./EventTarget.js")) && t.__esModule ? t : {default: t}).default), o.default = t, n.exports = o.default
        }, {"./EventTarget.js": 30}], 41: [function (e, t, n) {
            Object.defineProperty(n, "__esModule", {value: !0}), n.default = void 0, n.default = function e() {
                if (!(this instanceof e)) throw new TypeError("Cannot call a class as a function")
            }, t.exports = n.default
        }, {}], 42: [function (e, t, n) {
            function o(e) {
                var t = this, n = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : [], i = o;
                if (!(this instanceof i)) throw new TypeError("Cannot call a class as a function");
                if (this.binaryType = "", this.bufferedAmount = 0, this.extensions = "", this.onclose = null, this.onerror = null, this.onmessage = null, this.onopen = null, this.protocol = "", this.readyState = 3, "string" == typeof e && /(^ws:\/\/)|(^wss:\/\/)/.test(e)) return this.url = e, this.readyState = o.CONNECTING, i = wx.connectSocket({
                    url: e,
                    protocols: Array.isArray(n) ? n : [n],
                    tcpNoDelay: !0
                }), r.set(this, i), i.onClose(function (e) {
                    t.readyState = o.CLOSED, "function" == typeof t.onclose && t.onclose(e)
                }), i.onMessage(function (e) {
                    "function" == typeof t.onmessage && t.onmessage(e)
                }), i.onOpen(function () {
                    t.readyState = o.OPEN, "function" == typeof t.onopen && t.onopen()
                }), i.onError(function (e) {
                    "function" == typeof t.onerror && t.onerror(new Error(e.errMsg))
                }), this;
                throw new TypeError("Failed to construct 'WebSocket': The URL '".concat(e, "' is invalid"))
            }

            Object.defineProperty(n, "__esModule", {value: !0}), n.default = void 0;
            var r = new WeakMap, i = (function (e, t) {
                for (var n = 0; n < t.length; n++) {
                    var o = t[n];
                    o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                }
            }(o.prototype, [{
                key: "close", value: function (e, t) {
                    this.readyState = o.CLOSING, r.get(this).close({code: e, reason: t})
                }
            }, {
                key: "send", value: function (e) {
                    if (!("string" == typeof e || e instanceof ArrayBuffer || ArrayBuffer.isView(e))) throw new TypeError("Failed to send message: The data ".concat(e, " is invalid"));
                    r.get(this).send({data: e})
                }
            }]), o);
            (n.default = i).CONNECTING = 0, i.OPEN = 1, i.CLOSING = 2, i.CLOSED = 3, t.exports = n.default
        }, {}], 43: [function (e, t, n) {
            Object.defineProperty(n, "__esModule", {value: !0}), n.ontouchend = n.ontouchmove = n.ontouchstart = n.performance = n.screen = n.devicePixelRatio = n.innerHeight = n.innerWidth = void 0;
            var o = (i = wx.getSystemInfoSync()).screenWidth, r = i.screenHeight,
                i = (n.devicePixelRatio = i.devicePixelRatio, o), a = r, o = {
                    width: o,
                    height: r,
                    availWidth: n.innerWidth = i,
                    availHeight: n.innerHeight = a,
                    availLeft: 0,
                    availTop: 0
                }, r = (n.screen = o, {now: Date.now});
            n.performance = r, n.ontouchstart = null, n.ontouchmove = null, n.ontouchend = null
        }, {}], 44: [function (t, n, o) {
            function r(t) {
                return (r = "function" == typeof Symbol && "symbol" == e(Symbol.iterator) ? function (t) {
                    return void 0 === t ? "undefined" : e(t)
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : void 0 === t ? "undefined" : e(t)
                })(t)
            }

            function i(e, t) {
                return (i = Object.setPrototypeOf || function (e, t) {
                    return e.__proto__ = t, e
                })(e, t)
            }

            function a(e) {
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function c(e) {
                return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e)
                })(e)
            }

            function u(e) {
                if ("function" == typeof this["on".concat(e)]) {
                    for (var t = arguments.length, n = new Array(1 < t ? t - 1 : 0), o = 1; o < t; o++) n[o - 1] = arguments[o];
                    this["on".concat(e)].apply(this, n)
                }
            }

            function s(e) {
                this.readyState = e, u.call(this, "readystatechange")
            }

            Object.defineProperty(o, "__esModule", {value: !0}), o.default = void 0, t = (t = t("./EventTarget.js")) && t.__esModule ? t : {default: t};
            var l = new WeakMap, d = new WeakMap, f = new WeakMap, p = new WeakMap, h = new WeakMap;
            t = function (e) {
                function t() {
                    var e;
                    if (this instanceof t) return (e = g.call(this)).timeout = 0, e.onabort = null, e.onerror = null, e.onload = null, e.onloadstart = null, e.onprogress = null, e.ontimeout = null, e.onloadend = null, e.onreadystatechange = null, e.readyState = 0, e.response = null, e.responseText = null, e.responseType = "", e.responseXML = null, e.status = 0, e.statusText = "", e.upload = {}, e.withCredentials = !1, f.set(a(e), {"content-type": "application/x-www-form-urlencoded"}), p.set(a(e), {}), e;
                    throw new TypeError("Cannot call a class as a function")
                }

                var n = t;
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                n.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: n,
                        writable: !0,
                        configurable: !0
                    }
                }), e && i(n, e);
                for (var o = t, m = function () {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {
                        })), !0
                    } catch (e) {
                        return !1
                    }
                }(), g = function () {
                    var e = c(o),
                        t = m ? (t = c(this).constructor, Reflect.construct(e, arguments, t)) : e.apply(this, arguments),
                        e = this;
                    return !t || "object" !== r(t) && "function" != typeof t ? a(e) : t
                }, y = (n = t).prototype, v = [{
                    key: "abort", value: function () {
                        var e = h.get(this);
                        e && e.abort()
                    }
                }, {
                    key: "getAllResponseHeaders", value: function () {
                        var e = p.get(this);
                        return Object.keys(e).map(function (t) {
                            return "".concat(t, ": ").concat(e[t])
                        }).join("\n")
                    }
                }, {
                    key: "getResponseHeader", value: function (e) {
                        return p.get(this)[e]
                    }
                }, {
                    key: "open", value: function (e, n) {
                        d.set(this, e), l.set(this, n), s.call(this, t.OPENED)
                    }
                }, {
                    key: "overrideMimeType", value: function () {
                    }
                }, {
                    key: "send", value: function () {
                        var e = this, n = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "";
                        if (this.readyState !== t.OPENED) throw new Error("Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.");
                        n = wx.request({
                            data: n,
                            url: l.get(this),
                            method: d.get(this),
                            header: f.get(this),
                            dataType: "other",
                            responseType: "arraybuffer" === this.responseType ? "arraybuffer" : "text",
                            timeout: this.timeout || void 0,
                            success: function (n) {
                                var o = n.data, r = n.statusCode, n = n.header;
                                switch (e.status = r, p.set(e, n), u.call(e, "loadstart"), s.call(e, t.HEADERS_RECEIVED), s.call(e, t.LOADING), e.responseType) {
                                    case"json":
                                        e.responseText = o;
                                        try {
                                            e.response = JSON.parse(o)
                                        } catch (n) {
                                            e.response = null
                                        }
                                        break;
                                    case"":
                                    case"text":
                                        e.responseText = e.response = o;
                                        break;
                                    case"arraybuffer":
                                        e.response = o, e.responseText = "";
                                        for (var i = new Uint8Array(o), a = i.byteLength, c = 0; c < a; c++) e.responseText += String.fromCharCode(i[c]);
                                        break;
                                    default:
                                        e.response = null
                                }
                                s.call(e, t.DONE), u.call(e, "load"), u.call(e, "loadend")
                            },
                            fail: function (t) {
                                -1 !== (t = t.errMsg).indexOf("abort") ? u.call(e, "abort") : -1 !== t.indexOf("timeout") ? u.call(e, "timeout") : u.call(e, "error", t), u.call(e, "loadend")
                            }
                        }), h.set(this, n)
                    }
                }, {
                    key: "setRequestHeader", value: function (e, t) {
                        var n = f.get(this);
                        n[e] = t, f.set(this, n)
                    }
                }, {
                    key: "addEventListener", value: function (e, t) {
                        var n;
                        "function" == typeof t && ((n = this)["on" + e] = function (e) {
                            t.call(n, e)
                        })
                    }
                }], b = 0; b < v.length; b++) {
                    var w = v[b];
                    w.enumerable = w.enumerable || !1, w.configurable = !0, "value" in w && (w.writable = !0), Object.defineProperty(y, w.key, w)
                }
                return t
            }(t.default), (o.default = t).UNSEND = 0, t.OPENED = 1, t.HEADERS_RECEIVED = 2, t.LOADING = 3, t.DONE = 4, n.exports = o.default
        }, {"./EventTarget.js": 30}], 45: [function (t, n, o) {
            function r(t) {
                return (r = "function" == typeof Symbol && "symbol" == e(Symbol.iterator) ? function (t) {
                    return void 0 === t ? "undefined" : e(t)
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : void 0 === t ? "undefined" : e(t)
                })(t)
            }

            function i(e) {
                return e && e.__esModule ? e : {default: e}
            }

            function a() {
                var e;
                return "function" != typeof WeakMap ? null : (e = new WeakMap, a = function () {
                    return e
                }, e)
            }

            Object.defineProperty(o, "__esModule", {value: !0}), o.default = void 0;
            var c = function (e) {
                    if (e && e.__esModule) return e;
                    if (null === e || "object" !== r(e) && "function" != typeof e) return {default: e};
                    var t = a();
                    if (t && t.has(e)) return t.get(e);
                    var n, o, i = {}, c = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (n in e) Object.prototype.hasOwnProperty.call(e, n) && ((o = c ? Object.getOwnPropertyDescriptor(e, n) : null) && (o.get || o.set) ? Object.defineProperty(i, n, o) : i[n] = e[n]);
                    return i.default = e, t && t.set(e, i), i
                }(t("./window")), u = i(t("./HTMLElement")), s = i(t("./HTMLVideoElement")), l = i(t("./Image")),
                d = i(t("./Audio")), f = i(t("./Canvas"));
            t("./EventIniter/index.js");
            var p = {}, h = {
                readyState: "complete",
                visibilityState: "visible",
                documentElement: c,
                hidden: !1,
                style: {},
                location: c.location,
                ontouchstart: null,
                ontouchmove: null,
                ontouchend: null,
                head: new u.default("head"),
                body: new u.default("body"),
                createElement: function (e) {
                    return "canvas" === e ? new f.default : "audio" === e ? new d.default : "img" === e ? new l.default : "video" === e ? new s.default : new u.default(e)
                },
                createElementNS: function (e, t) {
                    return this.createElement(t)
                },
                getElementById: function (e) {
                    return e === c.canvas.id ? c.canvas : null
                },
                getElementsByTagName: function (e) {
                    return "head" === e ? [h.head] : "body" === e ? [h.body] : "canvas" === e ? [c.canvas] : []
                },
                getElementsByName: function (e) {
                    return "head" === e ? [h.head] : "body" === e ? [h.body] : "canvas" === e ? [c.canvas] : []
                },
                querySelector: function (e) {
                    return "head" === e ? h.head : "body" === e ? h.body : "canvas" === e || e === "#".concat(c.canvas.id) ? c.canvas : null
                },
                querySelectorAll: function (e) {
                    return "head" === e ? [h.head] : "body" === e ? [h.body] : "canvas" === e ? [c.canvas] : []
                },
                addEventListener: function (e, t) {
                    p[e] || (p[e] = []), p[e].push(t)
                },
                removeEventListener: function (e, t) {
                    var n = p[e];
                    if (n && 0 < n.length) for (var o = n.length; o--;) if (n[o] === t) {
                        n.splice(o, 1);
                        break
                    }
                },
                dispatchEvent: function (e) {
                    var t = p[e.type];
                    if (t) for (var n = 0; n < t.length; n++) t[n](e)
                }
            };
            o.default = h, n.exports = o.default
        }, {
            "./Audio": 24,
            "./Canvas": 25,
            "./EventIniter/index.js": 29,
            "./HTMLElement": 34,
            "./HTMLVideoElement": 37,
            "./Image": 38,
            "./window": 51
        }], 46: [function (t, n, o) {
            function r(t) {
                return (r = "function" == typeof Symbol && "symbol" == e(Symbol.iterator) ? function (t) {
                    return void 0 === t ? "undefined" : e(t)
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : void 0 === t ? "undefined" : e(t)
                })(t)
            }

            function i(e) {
                return e && e.__esModule ? e : {default: e}
            }

            function a() {
                var e;
                return "function" != typeof WeakMap ? null : (e = new WeakMap, a = function () {
                    return e
                }, e)
            }

            var c = function (e) {
                if (e && e.__esModule) return e;
                if (null === e || "object" !== r(e) && "function" != typeof e) return {default: e};
                var t = a();
                if (t && t.has(e)) return t.get(e);
                var n, o, i = {}, c = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (n in e) Object.prototype.hasOwnProperty.call(e, n) && ((o = c ? Object.getOwnPropertyDescriptor(e, n) : null) && (o.get || o.set) ? Object.defineProperty(i, n, o) : i[n] = e[n]);
                return i.default = e, t && t.set(e, i), i
            }(t("./window")), u = i(t("./document"));
            i(t("./HTMLElement"));
            var s = GameGlobal;
            if (!GameGlobal.__isAdapterInjected) if (GameGlobal.__isAdapterInjected = !0, c.document = u.default, c.addEventListener = function (e, t) {
                c.document.addEventListener(e, t)
            }, c.removeEventListener = function (e, t) {
                c.document.removeEventListener(e, t)
            }, c.dispatchEvent = c.document.dispatchEvent, t = wx.getSystemInfoSync().platform, "undefined" == typeof __devtoolssubcontext && "devtools" === t) {
                for (var l in c) {
                    var d = Object.getOwnPropertyDescriptor(s, l);
                    d && !0 !== d.configurable || Object.defineProperty(window, l, {value: c[l]})
                }
                for (var f in c.document) {
                    var p = Object.getOwnPropertyDescriptor(s.document, f);
                    p && !0 !== p.configurable || Object.defineProperty(s.document, f, {value: c.document[f]})
                }
                window.parent = window
            } else {
                for (var h in c) s[h] = c[h];
                s.window = c, (window = s).top = window.parent = window
            }
        }, {"./HTMLElement": 34, "./document": 45, "./window": 51}], 47: [function (e, t, n) {
            Object.defineProperty(n, "__esModule", {value: !0}), n.default = void 0, n.default = {
                get length() {
                    return wx.getStorageInfoSync().keys.length
                }, key: function (e) {
                    return wx.getStorageInfoSync().keys[e]
                }, getItem: function (e) {
                    return wx.getStorageSync(e)
                }, setItem: function (e, t) {
                    var n = null;
                    try {
                        n = wx.setStorageSync(e, t)
                    } catch (n) {
                        n && n.toString && "function" == typeof n.toString && HSDK && HSDK.postAPMLog && HSDK.postAPMLog({
                            msg: n && n.toString(),
                            data: {key: e, value: t}
                        })
                    }
                    return n
                }, removeItem: function (e) {
                    wx.removeStorageSync(e)
                }, clear: function () {
                    wx.clearStorageSync()
                }
            }, t.exports = n.default
        }, {}], 48: [function (e, t, n) {
            Object.defineProperty(n, "__esModule", {value: !0}), n.default = void 0, n.default = {
                href: "game.js",
                reload: function () {
                }
            }, t.exports = n.default
        }, {}], 49: [function (e, t, n) {
            Object.defineProperty(n, "__esModule", {value: !0}), n.default = void 0;
            var e = e("./util/index.js"), o = wx.getSystemInfoSync(), r = (console.log(o), o.system), i = o.platform,
                a = o.language, o = o.version,
                r = -1 !== r.toLowerCase().indexOf("android") ? "Android; CPU ".concat(r) : "iPhone; CPU iPhone OS ".concat(r, " like Mac OS X"),
                o = "Mozilla/5.0 (".concat(r, ") AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/").concat(o, " MiniGame NetType/WIFI Language/").concat(a),
                c = {
                    platform: i,
                    language: a,
                    appVersion: "5.0 (".concat(r, ") AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"),
                    userAgent: o,
                    onLine: !0,
                    geolocation: {getCurrentPosition: e.noop, watchPosition: e.noop, clearWatch: e.noop}
                };
            wx.onNetworkStatusChange && wx.onNetworkStatusChange(function (e) {
                c.onLine = e.isConnected
            }), n.default = c, t.exports = n.default
        }, {"./util/index.js": 50}], 50: [function (e, t, n) {
            Object.defineProperty(n, "__esModule", {value: !0}), n.noop = function () {
            }
        }, {}], 51: [function (e, t, n) {
            function o(e) {
                return e && e.__esModule ? e : {default: e}
            }

            Object.defineProperty(n, "__esModule", {value: !0});
            var r = {
                    canvas: !0,
                    setTimeout: !0,
                    setInterval: !0,
                    clearTimeout: !0,
                    clearInterval: !0,
                    requestAnimationFrame: !0,
                    cancelAnimationFrame: !0,
                    navigator: !0,
                    XMLHttpRequest: !0,
                    WebSocket: !0,
                    Image: !0,
                    ImageBitmap: !0,
                    Audio: !0,
                    FileReader: !0,
                    HTMLElement: !0,
                    HTMLImageElement: !0,
                    HTMLCanvasElement: !0,
                    HTMLMediaElement: !0,
                    HTMLAudioElement: !0,
                    HTMLVideoElement: !0,
                    WebGLRenderingContext: !0,
                    TouchEvent: !0,
                    MouseEvent: !0,
                    DeviceMotionEvent: !0,
                    localStorage: !0,
                    location: !0
                }, i = (Object.defineProperty(n, "navigator", {
                    enumerable: !0, get: function () {
                        return a.default
                    }
                }), Object.defineProperty(n, "XMLHttpRequest", {
                    enumerable: !0, get: function () {
                        return c.default
                    }
                }), Object.defineProperty(n, "WebSocket", {
                    enumerable: !0, get: function () {
                        return u.default
                    }
                }), Object.defineProperty(n, "Image", {
                    enumerable: !0, get: function () {
                        return s.default
                    }
                }), Object.defineProperty(n, "ImageBitmap", {
                    enumerable: !0, get: function () {
                        return l.default
                    }
                }), Object.defineProperty(n, "Audio", {
                    enumerable: !0, get: function () {
                        return d.default
                    }
                }), Object.defineProperty(n, "FileReader", {
                    enumerable: !0, get: function () {
                        return f.default
                    }
                }), Object.defineProperty(n, "HTMLElement", {
                    enumerable: !0, get: function () {
                        return p.default
                    }
                }), Object.defineProperty(n, "HTMLImageElement", {
                    enumerable: !0, get: function () {
                        return h.default
                    }
                }), Object.defineProperty(n, "HTMLCanvasElement", {
                    enumerable: !0, get: function () {
                        return m.default
                    }
                }), Object.defineProperty(n, "HTMLMediaElement", {
                    enumerable: !0, get: function () {
                        return g.default
                    }
                }), Object.defineProperty(n, "HTMLAudioElement", {
                    enumerable: !0, get: function () {
                        return y.default
                    }
                }), Object.defineProperty(n, "HTMLVideoElement", {
                    enumerable: !0, get: function () {
                        return v.default
                    }
                }), Object.defineProperty(n, "WebGLRenderingContext", {
                    enumerable: !0, get: function () {
                        return b.default
                    }
                }), Object.defineProperty(n, "TouchEvent", {
                    enumerable: !0, get: function () {
                        return w.TouchEvent
                    }
                }), Object.defineProperty(n, "MouseEvent", {
                    enumerable: !0, get: function () {
                        return w.MouseEvent
                    }
                }), Object.defineProperty(n, "DeviceMotionEvent", {
                    enumerable: !0, get: function () {
                        return w.DeviceMotionEvent
                    }
                }), Object.defineProperty(n, "localStorage", {
                    enumerable: !0, get: function () {
                        return _.default
                    }
                }), Object.defineProperty(n, "location", {
                    enumerable: !0, get: function () {
                        return E.default
                    }
                }), n.cancelAnimationFrame = n.requestAnimationFrame = n.clearInterval = n.clearTimeout = n.setInterval = n.setTimeout = n.canvas = void 0, o(e("./Canvas"))),
                a = o(e("./navigator")), c = o(e("./XMLHttpRequest")), u = o(e("./WebSocket")), s = o(e("./Image")),
                l = o(e("./ImageBitmap")), d = o(e("./Audio")), f = o(e("./FileReader")), p = o(e("./HTMLElement")),
                h = o(e("./HTMLImageElement")), m = o(e("./HTMLCanvasElement")), g = o(e("./HTMLMediaElement")),
                y = o(e("./HTMLAudioElement")), v = o(e("./HTMLVideoElement")), b = o(e("./WebGLRenderingContext")),
                w = e("./EventIniter/index.js"), _ = o(e("./localStorage")), E = o(e("./location")),
                x = e("./WindowProperties");
            Object.keys(x).forEach(function (e) {
                "default" === e || "__esModule" === e || Object.prototype.hasOwnProperty.call(r, e) || e in n && n[e] === x[e] || Object.defineProperty(n, e, {
                    enumerable: !0,
                    get: function () {
                        return x[e]
                    }
                })
            }), GameGlobal.screencanvas = GameGlobal.screencanvas || new i.default, n.canvas = e = GameGlobal.screencanvas;
            var e = (i = GameGlobal).setTimeout, S = i.setInterval, N = i.clearTimeout, T = i.clearInterval,
                O = i.requestAnimationFrame, i = i.cancelAnimationFrame;
            n.cancelAnimationFrame = i, n.requestAnimationFrame = O, n.clearInterval = T, n.clearTimeout = N, n.setInterval = S, n.setTimeout = e
        }, {
            "./Audio": 24,
            "./Canvas": 25,
            "./EventIniter/index.js": 29,
            "./FileReader": 31,
            "./HTMLAudioElement": 32,
            "./HTMLCanvasElement": 33,
            "./HTMLElement": 34,
            "./HTMLImageElement": 35,
            "./HTMLMediaElement": 36,
            "./HTMLVideoElement": 37,
            "./Image": 38,
            "./ImageBitmap": 39,
            "./WebGLRenderingContext": 41,
            "./WebSocket": 42,
            "./WindowProperties": 43,
            "./XMLHttpRequest": 44,
            "./localStorage": 47,
            "./location": 48,
            "./navigator": 49
        }], 52: [function (e, t, n) {
            cc.Texture2D && (cc.Texture2D.prototype._checkPackable = function () {
                var e, t, n = cc.dynamicAtlasManager;
                n && (this._isCompressed() || (e = this.width, t = this.height, !this._image) || e > n.maxFrameSize || t > n.maxFrameSize || this._getHash() !== n.Atlas.DEFAULT_HASH ? this._packable = !1 : this._image && this._image.getContext && (this._packable = !0))
            })
        }, {}], 53: [function (e, t, n) {
            e("./VideoPlayer"), e("./pc-adapter"), e("./Texture2D")
        }, {"./Texture2D": 52, "./VideoPlayer": 1, "./pc-adapter": 54}], 54: [function (e, t, n) {
            function o(e) {
                var t = e.key.toLowerCase(), e = e.code;
                return /^\d$/.test(t) || "delete" === t ? l[e] : s[t] || 0
            }

            var r = wx.getSystemInfoSync(), i = cc.internal.inputManager, a = cc.internal.eventManager,
                c = cc.Event.EventKeyboard, u = cc.Event.EventMouse, s = {
                    backspace: 8,
                    tab: 9,
                    enter: 13,
                    shift: 16,
                    control: 17,
                    alt: 18,
                    pause: 19,
                    capslock: 20,
                    escape: 27,
                    " ": 32,
                    pageup: 33,
                    pagedown: 34,
                    end: 35,
                    home: 36,
                    arrowleft: 37,
                    arrowup: 38,
                    arrowright: 39,
                    arrowdown: 40,
                    insert: 45,
                    a: 65,
                    b: 66,
                    c: 67,
                    d: 68,
                    e: 69,
                    f: 70,
                    g: 71,
                    h: 72,
                    i: 73,
                    j: 74,
                    k: 75,
                    l: 76,
                    m: 77,
                    n: 78,
                    o: 79,
                    p: 80,
                    q: 81,
                    r: 82,
                    s: 83,
                    t: 84,
                    u: 85,
                    v: 86,
                    w: 87,
                    x: 88,
                    y: 89,
                    z: 90,
                    "*": 106,
                    "+": 107,
                    "-": 109,
                    "/": 111,
                    f1: 112,
                    f2: 113,
                    f3: 114,
                    f4: 115,
                    f5: 116,
                    f6: 117,
                    f7: 118,
                    f8: 119,
                    f9: 120,
                    f10: 121,
                    f11: 122,
                    f12: 123,
                    numlock: 144,
                    scrolllock: 145,
                    ";": 186,
                    "=": 187,
                    ",": 188,
                    ".": 190,
                    "`": 192,
                    "[": 219,
                    "\\": 220,
                    "]": 221,
                    "'": 222
                }, l = {
                    Delete: 46,
                    Digit0: 48,
                    Digit1: 49,
                    Digit2: 50,
                    Digit3: 51,
                    Digit4: 52,
                    Digit5: 53,
                    Digit6: 54,
                    Digit7: 55,
                    Digit8: 56,
                    Digit9: 57,
                    Numpad0: 96,
                    Numpad1: 97,
                    Numpad2: 98,
                    Numpad3: 99,
                    Numpad4: 100,
                    Numpad5: 101,
                    Numpad6: 102,
                    Numpad7: 103,
                    Numpad8: 104,
                    Numpad9: 105,
                    NumpadDecimal: 110
                };
            __globalAdapter.isSubContext || "windows" !== r.platform || (i.registerSystemEvent = function () {
                function e(e, n, o) {
                    wx[e](function (e) {
                        var r = i.getMouseEvent(e, t, n);
                        r.setButton(e.button || 0), o(e, r), a.dispatchEvent(r)
                    })
                }

                var t;
                this._isRegisterEvent || (this._glView = cc.view, wx.onKeyDown(function (e) {
                    return a.dispatchEvent(new c(o(e), !0))
                }), wx.onKeyUp(function (e) {
                    return a.dispatchEvent(new c(o(e), !1))
                }), t = {
                    top: 0,
                    left: 0,
                    width: window.innerWidth,
                    height: window.innerHeight
                }, e("onMouseDown", u.DOWN, function (e, n) {
                    i._mousePressed = !0, i.handleTouchesBegin([i.getTouchByXY(e.x, e.y, t)])
                }), e("onMouseUp", u.UP, function (e, n) {
                    i._mousePressed = !1, i.handleTouchesEnd([i.getTouchByXY(e.x, e.y, t)])
                }), e("onMouseMove", u.MOVE, function (e, n) {
                    i.handleTouchesMove([i.getTouchByXY(e.x, e.y, t)]), i._mousePressed || n.setButton(null)
                }), e("onWheel", u.SCROLL, function (e, t) {
                    t.setScrollData(0, -e.deltaY)
                }), this._isRegisterEvent = !0)
            })
        }, {}], 55: [function (e, t, n) {
        }, {}], 56: [function (e, t, n) {
            var o = wx.getFileSystemManager ? wx.getFileSystemManager() : null,
                r = /the maximum size of the file storage/, i = {
                    fs: o, isOutOfStorage: function (e) {
                        return r.test(e)
                    }, getUserDataPath: function () {
                        return wx.env.USER_DATA_PATH
                    }, checkFsValid: function () {
                        return !!o || (console.warn("can not get the file system!"), !1)
                    }, deleteFile: function (e, t) {
                        o.unlink({
                            filePath: e, success: function () {
                                t && t(null)
                            }, fail: function (n) {
                                console.warn("Delete file failed: path: ".concat(e, " message: ").concat(n.errMsg)), t && t(new Error(n.errMsg))
                            }
                        })
                    }, downloadFile: function e(t, n, o, r, a) {
                        var c = {
                            url: t, success: function (c) {
                                if (200 === c.statusCode) a && a(null, c.tempFilePath || c.filePath); else {
                                    for (var u = void 0, s = void 0, l = 0, d = CDNS.length; l + 1 < d; l++) t.startsWith(CDNS[l]) && (u = CDNS[l], s = CDNS[l + 1]);
                                    CDNSwitch && u && s ? (console.warn("CDN: " + u + " download error, switch new CDN: " + s), e(t.replace(u, s), n, o, r, a)) : (c.filePath && i.deleteFile(c.filePath), console.warn("Download file failed: path: ".concat(t, " message: ").concat(c.statusCode)), a && a(new Error(c.statusCode), null))
                                }
                            }, fail: function (i) {
                                for (var c = void 0, u = void 0, s = 0, l = CDNS.length; s + 1 < l; s++) t.startsWith(CDNS[s]) && (c = CDNS[s], u = CDNS[s + 1]);
                                CDNSwitch && c && u ? (console.warn("CDN: " + c + " download error, switch new CDN: " + u), e(t.replace(c, u), n, o, r, a)) : (console.warn("Download file failed: path: ".concat(t, " message: ").concat(i.errMsg)), a && a(new Error(i.errMsg), null))
                            }
                        }, c = (n && (c.filePath = n), o && (c.header = o), wx.downloadFile(c));
                        r && c.onProgressUpdate(r)
                    }, saveFile: function (e, t, n) {
                        wx.saveFile({
                            tempFilePath: e, filePath: t, success: function (e) {
                                n && n(null)
                            }, fail: function (t) {
                                console.warn("Save file failed: path: ".concat(e, " message: ").concat(t.errMsg)), n && n(new Error(t.errMsg))
                            }
                        })
                    }, copyFile: function (e, t, n) {
                        o.copyFile({
                            srcPath: e, destPath: t, success: function () {
                                n && n(null)
                            }, fail: function (t) {
                                console.warn("Copy file failed: path: ".concat(e, " message: ").concat(t.errMsg)), n && n(new Error(t.errMsg))
                            }
                        })
                    }, writeFile: function (e, t, n, r) {
                        o.writeFile({
                            filePath: e, encoding: n, data: t, success: function () {
                                r && r(null)
                            }, fail: function (t) {
                                console.warn("Write file failed: path: ".concat(e, " message: ").concat(t.errMsg)), r && r(new Error(t.errMsg))
                            }
                        })
                    }, writeFileSync: function (e, t, n) {
                        try {
                            return o.writeFileSync(e, t, n), null
                        } catch (t) {
                            return console.warn("Write file failed: path: ".concat(e, " message: ").concat(t.message)), new Error(t.message)
                        }
                    }, readFile: function (e, t, n) {
                        o.readFile({
                            filePath: e, encoding: t, success: function (t) {
                                t.data && 0 !== t.data.byteLength ? n && n(null, t.data) : n && n(new Error("readFile:fail " + e + " corrupt"), null)
                            }, fail: function (t) {
                                console.warn("Read file failed: path: ".concat(e, " message: ").concat(t.errMsg)), n && n(new Error(t.errMsg), null)
                            }
                        })
                    }, readDir: function (e, t) {
                        o.readdir({
                            dirPath: e, success: function (e) {
                                t && t(null, e.files)
                            }, fail: function (n) {
                                console.warn("Read directory failed: path: ".concat(e, " message: ").concat(n.errMsg)), t && t(new Error(n.errMsg), null)
                            }
                        })
                    }, readText: function (e, t) {
                        i.readFile(e, "utf8", t)
                    }, readArrayBuffer: function (e, t) {
                        i.readFile(e, "", t)
                    }, readJson: function (e, t) {
                        i.readFile(e, "utf8", function (n, o) {
                            var r = null;
                            if (!n) try {
                                r = JSON.parse(o)
                            } catch (o) {
                                console.warn("Read json failed: path: ".concat(e, " message: ").concat(o.message)), n = new Error(o.message)
                            }
                            t && t(n, r)
                        })
                    }, readJsonSync: function (e) {
                        try {
                            var t = o.readFileSync(e, "utf8");
                            return JSON.parse(t)
                        } catch (t) {
                            return console.warn("Read json failed: path: ".concat(e, " message: ").concat(t.message)), new Error(t.message)
                        }
                    }, makeDirSync: function (e, t) {
                        try {
                            return o.mkdirSync(e, t), null
                        } catch (t) {
                            return console.warn("Make directory failed: path: ".concat(e, " message: ").concat(t.message)), new Error(t.message)
                        }
                    }, rmdirSync: function (e, t) {
                        try {
                            o.rmdirSync(e, t)
                        } catch (t) {
                            return console.warn("rm directory failed: path: ".concat(e, " message: ").concat(t.message)), new Error(t.message)
                        }
                    }, exists: function (e, t) {
                        o.access({
                            path: e, success: function () {
                                t && t(!0)
                            }, fail: function () {
                                t && t(!1)
                            }
                        })
                    }, loadSubpackage: function (e, t, n) {
                        var o = wx.loadSubpackage({
                            name: e, success: function () {
                                n && n()
                            }, fail: function (t) {
                                console.warn("Load Subpackage failed: path: ".concat(e, " message: ").concat(t.errMsg)), n && n(new Error("Failed to load subpackage ".concat(e, ": ").concat(t.errMsg)))
                            }
                        });
                        return t && o.onProgressUpdate(t), o
                    }, unzip: function (e, t, n) {
                        o.unzip({
                            zipFilePath: e, targetPath: t, success: function () {
                                n && n(null)
                            }, fail: function (t) {
                                console.warn("unzip failed: path: ".concat(e, " message: ").concat(t.errMsg)), n && n(new Error("unzip failed: " + t.errMsg))
                            }
                        })
                    }
                };
            window.fsUtils = t.exports = i
        }, {}], 57: [function (e, t, n) {
            var o = window.__globalAdapter, r = wx.getSystemInfoSync(), i = o.adaptSys;
            Object.assign(o, {
                adaptSys: function (e) {
                    var t;
                    i.call(this, e), "windows" === r.platform ? (e.isMobile = !1, e.os = e.OS_WINDOWS) : o.isDevTool && (-1 < (t = r.system.toLowerCase()).indexOf("android") ? e.os = e.OS_ANDROID : -1 < t.indexOf("ios") && (e.os = e.OS_IOS)), wx.getOpenDataContext ? e.platform = e.WECHAT_GAME : e.platform = e.WECHAT_GAME_SUB, e.getSafeAreaRect = function () {
                        var e = cc.view, t = o.getSafeArea(), n = e.getFrameSize(), r = new cc.Vec2(t.left, t.bottom),
                            t = new cc.Vec2(t.right, t.top), n = {left: 0, top: 0, width: n.width, height: n.height};
                        return e.convertToLocationInView(r.x, r.y, n, r), e.convertToLocationInView(t.x, t.y, n, t), e._convertPointWithScale(r), e._convertPointWithScale(t), cc.rect(r.x, r.y, t.x - r.x, t.y - r.y)
                    }
                }
            })
        }, {}], 58: [function (e, t, n) {
            var o, r, i, a, c, u, s, e = e("../../../common/utils");
            window.__globalAdapter && (o = window.__globalAdapter, i = (r = wx.getSystemInfoSync()).windowWidth, c = (a = r.windowHeight) < i, o.isSubContext = void 0 === wx.getOpenDataContext, o.isDevTool = "devtools" === r.platform, e.cloneMethod(o, wx, "getSystemInfoSync"), e.cloneMethod(o, wx, "onTouchStart"), e.cloneMethod(o, wx, "onTouchMove"), e.cloneMethod(o, wx, "onTouchEnd"), e.cloneMethod(o, wx, "onTouchCancel"), e.cloneMethod(o, wx, "createInnerAudioContext"), e.cloneMethod(o, wx, "onAudioInterruptionEnd"), e.cloneMethod(o, wx, "onAudioInterruptionBegin"), e.cloneMethod(o, wx, "createVideo"), e.cloneMethod(o, wx, "setPreferredFramesPerSecond"), e.cloneMethod(o, wx, "showKeyboard"), e.cloneMethod(o, wx, "hideKeyboard"), e.cloneMethod(o, wx, "updateKeyboard"), e.cloneMethod(o, wx, "onKeyboardInput"), e.cloneMethod(o, wx, "onKeyboardConfirm"), e.cloneMethod(o, wx, "onKeyboardComplete"), e.cloneMethod(o, wx, "offKeyboardInput"), e.cloneMethod(o, wx, "offKeyboardConfirm"), e.cloneMethod(o, wx, "offKeyboardComplete"), e.cloneMethod(o, wx, "getOpenDataContext"), e.cloneMethod(o, wx, "onMessage"), e.cloneMethod(o, wx, "getSharedCanvas"), e.cloneMethod(o, wx, "loadFont"), e.cloneMethod(o, wx, "onShow"), e.cloneMethod(o, wx, "onHide"), e.cloneMethod(o, wx, "onError"), e.cloneMethod(o, wx, "offError"), u = !1, s = 1, wx.onDeviceOrientationChange && wx.onDeviceOrientationChange(function (e) {
                "landscape" === e.value ? s = 1 : "landscapeReverse" === e.value && (s = -1)
            }), Object.assign(o, {
                startAccelerometer: function (e) {
                    u ? wx.startAccelerometer && wx.startAccelerometer({
                        fail: function (e) {
                            console.error("start accelerometer failed", e)
                        }
                    }) : (u = !0, wx.onAccelerometerChange && wx.onAccelerometerChange(function (t) {
                        var n, o = {}, r = t.x, i = t.y;
                        c && (n = r, r = -i, i = n), o.x = r * s, o.y = i * s, o.z = t.z, e && e(o)
                    }))
                }, stopAccelerometer: function () {
                    wx.stopAccelerometer && wx.stopAccelerometer({
                        fail: function (e) {
                            console.error("stop accelerometer failed", e)
                        }
                    })
                }
            }), o.getSafeArea = function () {
                var e, t = (l = r.safeArea).top, n = l.left, i = l.bottom, u = l.right, s = l.width, l = l.height;
                return "ios" === r.platform && !o.isDevTool && c && (t = a - (e = [u, t, n, i, s, l])[0], n = e[1], i = a - e[2], u = e[3], l = e[4], s = e[5]), {
                    top: t,
                    left: n,
                    bottom: i,
                    right: u,
                    width: s,
                    height: l
                }
            })
        }, {"../../../common/utils": 18}]
    }, {}, [23]);
});
define("assets/internal/index.js", function (require, module, exports) {
    "use strict";
    !function r(e, n, t) {
        function i(u, f, c) {
            if (!n[u]) {
                if (!e[u]) {
                    var s = u;
                    if (u.includes("./") && (s = (s = u.split("/"))[s.length - 1]), !e[s]) {
                        var l = "function" == typeof __require && __require;
                        if (!f && l) return l(s, !0);
                        if (o) return o(s, !0);
                        throw new Error("Cannot find module '" + u + "'")
                    }
                    u = s
                }
                var _ = n[u] = {exports: {}};
                e[u][0].call(_.exports, function (r) {
                    return i(e[u][1][r] || r, void 0, r.includes("./") ? void 0 : r)
                }, _, _.exports, r, e, n, t)
            }
            return c && n[u] && !n[c] && (n[c] = n[u]), n[u].exports
        }

        for (var o = "function" == typeof __require && __require, u = 0; u < t.length; u++) i(t[u]);
        return i
    }({}, {}, []);
});
define("assets/main/index.js", function (require, module, exports) {
    window.__require = function e(t, n, r) {
        function o(a, s, c) {
            if (!n[a]) {
                if (!t[a]) {
                    var u = a;
                    if (a.includes("./") && (u = (u = a.split("/"))[u.length - 1]), !t[u]) {
                        var l = "function" == typeof __require && __require;
                        if (!s && l) return l(u, !0);
                        if (i) return i(u, !0);
                        throw new Error("Cannot find module '" + a + "'")
                    }
                    a = u
                }
                var f = n[a] = {exports: {}};
                t[a][0].call(f.exports, function (e) {
                    return o(t[a][1][e] || e, void 0, e.includes("./") ? void 0 : e)
                }, f, f.exports, e, t, n, r)
            }
            return c && n[a] && !n[c] && (n[c] = n[a]), n[a].exports
        }

        for (var i = "function" == typeof __require && __require, a = 0; a < r.length; a++) o(r[a]);
        return o
    }({
        1: [function (e, t, n) {
            "use strict";
            n.byteLength = function (e) {
                var t = u(e), n = t[0], r = t[1];
                return 3 * (n + r) / 4 - r
            }, n.toByteArray = function (e) {
                var t, n, r = u(e), a = r[0], s = r[1], c = new i(l(0, a, s)), f = 0, d = s > 0 ? a - 4 : a;
                for (n = 0; n < d; n += 4) t = o[e.charCodeAt(n)] << 18 | o[e.charCodeAt(n + 1)] << 12 | o[e.charCodeAt(n + 2)] << 6 | o[e.charCodeAt(n + 3)], c[f++] = t >> 16 & 255, c[f++] = t >> 8 & 255, c[f++] = 255 & t;
                return 2 === s && (t = o[e.charCodeAt(n)] << 2 | o[e.charCodeAt(n + 1)] >> 4, c[f++] = 255 & t), 1 === s && (t = o[e.charCodeAt(n)] << 10 | o[e.charCodeAt(n + 1)] << 4 | o[e.charCodeAt(n + 2)] >> 2, c[f++] = t >> 8 & 255, c[f++] = 255 & t), c
            }, n.fromByteArray = function (e) {
                for (var t, n = e.length, o = n % 3, i = [], a = 0, s = n - o; a < s; a += 16383) i.push(f(e, a, a + 16383 > s ? s : a + 16383));
                return 1 === o ? (t = e[n - 1], i.push(r[t >> 2] + r[t << 4 & 63] + "==")) : 2 === o && (t = (e[n - 2] << 8) + e[n - 1], i.push(r[t >> 10] + r[t >> 4 & 63] + r[t << 2 & 63] + "=")), i.join("")
            };
            for (var r = [], o = [], i = "undefined" != typeof Uint8Array ? Uint8Array : Array, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s = 0, c = a.length; s < c; ++s) r[s] = a[s], o[a.charCodeAt(s)] = s;

            function u(e) {
                var t = e.length;
                if (t % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
                var n = e.indexOf("=");
                return -1 === n && (n = t), [n, n === t ? 0 : 4 - n % 4]
            }

            function l(e, t, n) {
                return 3 * (t + n) / 4 - n
            }

            function f(e, t, n) {
                for (var o, i, a = [], s = t; s < n; s += 3) o = (e[s] << 16 & 16711680) + (e[s + 1] << 8 & 65280) + (255 & e[s + 2]), a.push(r[(i = o) >> 18 & 63] + r[i >> 12 & 63] + r[i >> 6 & 63] + r[63 & i]);
                return a.join("")
            }

            o["-".charCodeAt(0)] = 62, o["_".charCodeAt(0)] = 63
        }, {}],
        2: [function (e, t, n) {
            (function (t) {
                "use strict";
                var r = e("base64-js"), o = e("ieee754"), i = e("isarray");

                function a() {
                    return c.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
                }

                function s(e, t) {
                    if (a() < t) throw new RangeError("Invalid typed array length");
                    return c.TYPED_ARRAY_SUPPORT ? (e = new Uint8Array(t)).__proto__ = c.prototype : (null === e && (e = new c(t)), e.length = t), e
                }

                function c(e, t, n) {
                    if (!(c.TYPED_ARRAY_SUPPORT || this instanceof c)) return new c(e, t, n);
                    if ("number" == typeof e) {
                        if ("string" == typeof t) throw new Error("If encoding is specified then the first argument must be a string");
                        return d(this, e)
                    }
                    return u(this, e, t, n)
                }

                function u(e, t, n, r) {
                    if ("number" == typeof t) throw new TypeError('"value" argument must not be a number');
                    return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? g(e, t, n, r) : "string" == typeof t ? p(e, t, n) : m(e, t)
                }

                function l(e) {
                    if ("number" != typeof e) throw new TypeError('"size" argument must be a number');
                    if (e < 0) throw new RangeError('"size" argument must not be negative')
                }

                function f(e, t, n, r) {
                    return l(t), t <= 0 ? s(e, t) : void 0 !== n ? "string" == typeof r ? s(e, t).fill(n, r) : s(e, t).fill(n) : s(e, t)
                }

                function d(e, t) {
                    if (l(t), e = s(e, t < 0 ? 0 : 0 | _(t)), !c.TYPED_ARRAY_SUPPORT) for (var n = 0; n < t; ++n) e[n] = 0;
                    return e
                }

                function p(e, t, n) {
                    if ("string" == typeof n && "" !== n || (n = "utf8"), !c.isEncoding(n)) throw new TypeError('"encoding" must be a valid string encoding');
                    var r = 0 | v(t, n), o = (e = s(e, r)).write(t, n);
                    return o !== r && (e = e.slice(0, o)), e
                }

                function h(e, t) {
                    var n = t.length < 0 ? 0 : 0 | _(t.length);
                    e = s(e, n);
                    for (var r = 0; r < n; r += 1) e[r] = 255 & t[r];
                    return e
                }

                function g(e, t, n, r) {
                    if (t.byteLength, n < 0 || t.byteLength < n) throw new RangeError("'offset' is out of bounds");
                    if (t.byteLength < n + (r || 0)) throw new RangeError("'length' is out of bounds");
                    return t = void 0 === n && void 0 === r ? new Uint8Array(t) : void 0 === r ? new Uint8Array(t, n) : new Uint8Array(t, n, r), c.TYPED_ARRAY_SUPPORT ? (e = t).__proto__ = c.prototype : e = h(e, t), e
                }

                function m(e, t) {
                    if (c.isBuffer(t)) {
                        var n = 0 | _(t.length);
                        return 0 === (e = s(e, n)).length ? e : (t.copy(e, 0, 0, n), e)
                    }
                    if (t) {
                        if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length" in t) return "number" != typeof t.length || (r = t.length) != r ? s(e, 0) : h(e, t);
                        if ("Buffer" === t.type && i(t.data)) return h(e, t.data)
                    }
                    var r;
                    throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
                }

                function _(e) {
                    if (e >= a()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + a().toString(16) + " bytes");
                    return 0 | e
                }

                function v(e, t) {
                    if (c.isBuffer(e)) return e.length;
                    if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer)) return e.byteLength;
                    "string" != typeof e && (e = "" + e);
                    var n = e.length;
                    if (0 === n) return 0;
                    for (var r = !1; ;) switch (t) {
                        case"ascii":
                        case"latin1":
                        case"binary":
                            return n;
                        case"utf8":
                        case"utf-8":
                        case void 0:
                            return q(e).length;
                        case"ucs2":
                        case"ucs-2":
                        case"utf16le":
                        case"utf-16le":
                            return 2 * n;
                        case"hex":
                            return n >>> 1;
                        case"base64":
                            return X(e).length;
                        default:
                            if (r) return q(e).length;
                            t = ("" + t).toLowerCase(), r = !0
                    }
                }

                function E(e, t, n) {
                    var r = !1;
                    if ((void 0 === t || t < 0) && (t = 0), t > this.length) return "";
                    if ((void 0 === n || n > this.length) && (n = this.length), n <= 0) return "";
                    if ((n >>>= 0) <= (t >>>= 0)) return "";
                    for (e || (e = "utf8"); ;) switch (e) {
                        case"hex":
                            return B(this, t, n);
                        case"utf8":
                        case"utf-8":
                            return M(this, t, n);
                        case"ascii":
                            return D(this, t, n);
                        case"latin1":
                        case"binary":
                            return P(this, t, n);
                        case"base64":
                            return R(this, t, n);
                        case"ucs2":
                        case"ucs-2":
                        case"utf16le":
                        case"utf-16le":
                            return x(this, t, n);
                        default:
                            if (r) throw new TypeError("Unknown encoding: " + e);
                            e = (e + "").toLowerCase(), r = !0
                    }
                }

                function y(e, t, n) {
                    var r = e[t];
                    e[t] = e[n], e[n] = r
                }

                function S(e, t, n, r, o) {
                    if (0 === e.length) return -1;
                    if ("string" == typeof n ? (r = n, n = 0) : n > 2147483647 ? n = 2147483647 : n < -2147483648 && (n = -2147483648), n = +n, isNaN(n) && (n = o ? 0 : e.length - 1), n < 0 && (n = e.length + n), n >= e.length) {
                        if (o) return -1;
                        n = e.length - 1
                    } else if (n < 0) {
                        if (!o) return -1;
                        n = 0
                    }
                    if ("string" == typeof t && (t = c.from(t, r)), c.isBuffer(t)) return 0 === t.length ? -1 : C(e, t, n, r, o);
                    if ("number" == typeof t) return t &= 255, c.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? o ? Uint8Array.prototype.indexOf.call(e, t, n) : Uint8Array.prototype.lastIndexOf.call(e, t, n) : C(e, [t], n, r, o);
                    throw new TypeError("val must be string, number or Buffer")
                }

                function C(e, t, n, r, o) {
                    var i, a = 1, s = e.length, c = t.length;
                    if (void 0 !== r && ("ucs2" === (r = String(r).toLowerCase()) || "ucs-2" === r || "utf16le" === r || "utf-16le" === r)) {
                        if (e.length < 2 || t.length < 2) return -1;
                        a = 2, s /= 2, c /= 2, n /= 2
                    }

                    function u(e, t) {
                        return 1 === a ? e[t] : e.readUInt16BE(t * a)
                    }

                    if (o) {
                        var l = -1;
                        for (i = n; i < s; i++) if (u(e, i) === u(t, -1 === l ? 0 : i - l)) {
                            if (-1 === l && (l = i), i - l + 1 === c) return l * a
                        } else -1 !== l && (i -= i - l), l = -1
                    } else for (n + c > s && (n = s - c), i = n; i >= 0; i--) {
                        for (var f = !0, d = 0; d < c; d++) if (u(e, i + d) !== u(t, d)) {
                            f = !1;
                            break
                        }
                        if (f) return i
                    }
                    return -1
                }

                function A(e, t, n, r) {
                    n = Number(n) || 0;
                    var o = e.length - n;
                    r ? (r = Number(r)) > o && (r = o) : r = o;
                    var i = t.length;
                    if (i % 2 != 0) throw new TypeError("Invalid hex string");
                    r > i / 2 && (r = i / 2);
                    for (var a = 0; a < r; ++a) {
                        var s = parseInt(t.substr(2 * a, 2), 16);
                        if (isNaN(s)) return a;
                        e[n + a] = s
                    }
                    return a
                }

                function T(e, t, n, r) {
                    return J(q(t, e.length - n), e, n, r)
                }

                function b(e, t, n, r) {
                    return J(z(t), e, n, r)
                }

                function I(e, t, n, r) {
                    return b(e, t, n, r)
                }

                function w(e, t, n, r) {
                    return J(X(t), e, n, r)
                }

                function O(e, t, n, r) {
                    return J(Q(t, e.length - n), e, n, r)
                }

                function R(e, t, n) {
                    return 0 === t && n === e.length ? r.fromByteArray(e) : r.fromByteArray(e.slice(t, n))
                }

                function M(e, t, n) {
                    n = Math.min(e.length, n);
                    for (var r = [], o = t; o < n;) {
                        var i, a, s, c, u = e[o], l = null, f = u > 239 ? 4 : u > 223 ? 3 : u > 191 ? 2 : 1;
                        if (o + f <= n) switch (f) {
                            case 1:
                                u < 128 && (l = u);
                                break;
                            case 2:
                                128 == (192 & (i = e[o + 1])) && (c = (31 & u) << 6 | 63 & i) > 127 && (l = c);
                                break;
                            case 3:
                                i = e[o + 1], a = e[o + 2], 128 == (192 & i) && 128 == (192 & a) && (c = (15 & u) << 12 | (63 & i) << 6 | 63 & a) > 2047 && (c < 55296 || c > 57343) && (l = c);
                                break;
                            case 4:
                                i = e[o + 1], a = e[o + 2], s = e[o + 3], 128 == (192 & i) && 128 == (192 & a) && 128 == (192 & s) && (c = (15 & u) << 18 | (63 & i) << 12 | (63 & a) << 6 | 63 & s) > 65535 && c < 1114112 && (l = c)
                        }
                        null === l ? (l = 65533, f = 1) : l > 65535 && (l -= 65536, r.push(l >>> 10 & 1023 | 55296), l = 56320 | 1023 & l), r.push(l), o += f
                    }
                    return N(r)
                }

                n.Buffer = c, n.SlowBuffer = function (e) {
                    return +e != e && (e = 0), c.alloc(+e)
                }, n.INSPECT_MAX_BYTES = 50, c.TYPED_ARRAY_SUPPORT = void 0 !== t.TYPED_ARRAY_SUPPORT ? t.TYPED_ARRAY_SUPPORT : function () {
                    try {
                        var e = new Uint8Array(1);
                        return e.__proto__ = {
                            __proto__: Uint8Array.prototype, foo: function () {
                                return 42
                            }
                        }, 42 === e.foo() && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength
                    } catch (t) {
                        return !1
                    }
                }(), n.kMaxLength = a(), c.poolSize = 8192, c._augment = function (e) {
                    return e.__proto__ = c.prototype, e
                }, c.from = function (e, t, n) {
                    return u(null, e, t, n)
                }, c.TYPED_ARRAY_SUPPORT && (c.prototype.__proto__ = Uint8Array.prototype, c.__proto__ = Uint8Array, "undefined" != typeof Symbol && Symbol.species && c[Symbol.species] === c && Object.defineProperty(c, Symbol.species, {
                    value: null,
                    configurable: !0
                })), c.alloc = function (e, t, n) {
                    return f(null, e, t, n)
                }, c.allocUnsafe = function (e) {
                    return d(null, e)
                }, c.allocUnsafeSlow = function (e) {
                    return d(null, e)
                }, c.isBuffer = function (e) {
                    return !(null == e || !e._isBuffer)
                }, c.compare = function (e, t) {
                    if (!c.isBuffer(e) || !c.isBuffer(t)) throw new TypeError("Arguments must be Buffers");
                    if (e === t) return 0;
                    for (var n = e.length, r = t.length, o = 0, i = Math.min(n, r); o < i; ++o) if (e[o] !== t[o]) {
                        n = e[o], r = t[o];
                        break
                    }
                    return n < r ? -1 : r < n ? 1 : 0
                }, c.isEncoding = function (e) {
                    switch (String(e).toLowerCase()) {
                        case"hex":
                        case"utf8":
                        case"utf-8":
                        case"ascii":
                        case"latin1":
                        case"binary":
                        case"base64":
                        case"ucs2":
                        case"ucs-2":
                        case"utf16le":
                        case"utf-16le":
                            return !0;
                        default:
                            return !1
                    }
                }, c.concat = function (e, t) {
                    if (!i(e)) throw new TypeError('"list" argument must be an Array of Buffers');
                    if (0 === e.length) return c.alloc(0);
                    var n;
                    if (void 0 === t) for (t = 0, n = 0; n < e.length; ++n) t += e[n].length;
                    var r = c.allocUnsafe(t), o = 0;
                    for (n = 0; n < e.length; ++n) {
                        var a = e[n];
                        if (!c.isBuffer(a)) throw new TypeError('"list" argument must be an Array of Buffers');
                        a.copy(r, o), o += a.length
                    }
                    return r
                }, c.byteLength = v, c.prototype._isBuffer = !0, c.prototype.swap16 = function () {
                    var e = this.length;
                    if (e % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
                    for (var t = 0; t < e; t += 2) y(this, t, t + 1);
                    return this
                }, c.prototype.swap32 = function () {
                    var e = this.length;
                    if (e % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
                    for (var t = 0; t < e; t += 4) y(this, t, t + 3), y(this, t + 1, t + 2);
                    return this
                }, c.prototype.swap64 = function () {
                    var e = this.length;
                    if (e % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
                    for (var t = 0; t < e; t += 8) y(this, t, t + 7), y(this, t + 1, t + 6), y(this, t + 2, t + 5), y(this, t + 3, t + 4);
                    return this
                }, c.prototype.toString = function () {
                    var e = 0 | this.length;
                    return 0 === e ? "" : 0 === arguments.length ? M(this, 0, e) : E.apply(this, arguments)
                }, c.prototype.equals = function (e) {
                    if (!c.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
                    return this === e || 0 === c.compare(this, e)
                }, c.prototype.inspect = function () {
                    var e = "", t = n.INSPECT_MAX_BYTES;
                    return this.length > 0 && (e = this.toString("hex", 0, t).match(/.{2}/g).join(" "), this.length > t && (e += " ... ")), "<Buffer " + e + ">"
                }, c.prototype.compare = function (e, t, n, r, o) {
                    if (!c.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
                    if (void 0 === t && (t = 0), void 0 === n && (n = e ? e.length : 0), void 0 === r && (r = 0), void 0 === o && (o = this.length), t < 0 || n > e.length || r < 0 || o > this.length) throw new RangeError("out of range index");
                    if (r >= o && t >= n) return 0;
                    if (r >= o) return -1;
                    if (t >= n) return 1;
                    if (this === e) return 0;
                    for (var i = (o >>>= 0) - (r >>>= 0), a = (n >>>= 0) - (t >>>= 0), s = Math.min(i, a), u = this.slice(r, o), l = e.slice(t, n), f = 0; f < s; ++f) if (u[f] !== l[f]) {
                        i = u[f], a = l[f];
                        break
                    }
                    return i < a ? -1 : a < i ? 1 : 0
                }, c.prototype.includes = function (e, t, n) {
                    return -1 !== this.indexOf(e, t, n)
                }, c.prototype.indexOf = function (e, t, n) {
                    return S(this, e, t, n, !0)
                }, c.prototype.lastIndexOf = function (e, t, n) {
                    return S(this, e, t, n, !1)
                }, c.prototype.write = function (e, t, n, r) {
                    if (void 0 === t) r = "utf8", n = this.length, t = 0; else if (void 0 === n && "string" == typeof t) r = t, n = this.length, t = 0; else {
                        if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                        t |= 0, isFinite(n) ? (n |= 0, void 0 === r && (r = "utf8")) : (r = n, n = void 0)
                    }
                    var o = this.length - t;
                    if ((void 0 === n || n > o) && (n = o), e.length > 0 && (n < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds");
                    r || (r = "utf8");
                    for (var i = !1; ;) switch (r) {
                        case"hex":
                            return A(this, e, t, n);
                        case"utf8":
                        case"utf-8":
                            return T(this, e, t, n);
                        case"ascii":
                            return b(this, e, t, n);
                        case"latin1":
                        case"binary":
                            return I(this, e, t, n);
                        case"base64":
                            return w(this, e, t, n);
                        case"ucs2":
                        case"ucs-2":
                        case"utf16le":
                        case"utf-16le":
                            return O(this, e, t, n);
                        default:
                            if (i) throw new TypeError("Unknown encoding: " + r);
                            r = ("" + r).toLowerCase(), i = !0
                    }
                }, c.prototype.toJSON = function () {
                    return {type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0)}
                };
                var L = 4096;

                function N(e) {
                    var t = e.length;
                    if (t <= L) return String.fromCharCode.apply(String, e);
                    for (var n = "", r = 0; r < t;) n += String.fromCharCode.apply(String, e.slice(r, r += L));
                    return n
                }

                function D(e, t, n) {
                    var r = "";
                    n = Math.min(e.length, n);
                    for (var o = t; o < n; ++o) r += String.fromCharCode(127 & e[o]);
                    return r
                }

                function P(e, t, n) {
                    var r = "";
                    n = Math.min(e.length, n);
                    for (var o = t; o < n; ++o) r += String.fromCharCode(e[o]);
                    return r
                }

                function B(e, t, n) {
                    var r, o = e.length;
                    (!t || t < 0) && (t = 0), (!n || n < 0 || n > o) && (n = o);
                    for (var i = "", a = t; a < n; ++a) i += (r = e[a]) < 16 ? "0" + r.toString(16) : r.toString(16);
                    return i
                }

                function x(e, t, n) {
                    for (var r = e.slice(t, n), o = "", i = 0; i < r.length; i += 2) o += String.fromCharCode(r[i] + 256 * r[i + 1]);
                    return o
                }

                function G(e, t, n) {
                    if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint");
                    if (e + t > n) throw new RangeError("Trying to access beyond buffer length")
                }

                function U(e, t, n, r, o, i) {
                    if (!c.isBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance');
                    if (t > o || t < i) throw new RangeError('"value" argument is out of bounds');
                    if (n + r > e.length) throw new RangeError("Index out of range")
                }

                function H(e, t, n, r) {
                    t < 0 && (t = 65535 + t + 1);
                    for (var o = 0, i = Math.min(e.length - n, 2); o < i; ++o) e[n + o] = (t & 255 << 8 * (r ? o : 1 - o)) >>> 8 * (r ? o : 1 - o)
                }

                function k(e, t, n, r) {
                    t < 0 && (t = 4294967295 + t + 1);
                    for (var o = 0, i = Math.min(e.length - n, 4); o < i; ++o) e[n + o] = t >>> 8 * (r ? o : 3 - o) & 255
                }

                function F(e, t, n, r) {
                    if (n + r > e.length) throw new RangeError("Index out of range");
                    if (n < 0) throw new RangeError("Index out of range")
                }

                function j(e, t, n, r, i) {
                    return i || F(e, 0, n, 4), o.write(e, t, n, r, 23, 4), n + 4
                }

                function K(e, t, n, r, i) {
                    return i || F(e, 0, n, 8), o.write(e, t, n, r, 52, 8), n + 8
                }

                c.prototype.slice = function (e, t) {
                    var n, r = this.length;
                    if ((e = ~~e) < 0 ? (e += r) < 0 && (e = 0) : e > r && (e = r), (t = void 0 === t ? r : ~~t) < 0 ? (t += r) < 0 && (t = 0) : t > r && (t = r), t < e && (t = e), c.TYPED_ARRAY_SUPPORT) (n = this.subarray(e, t)).__proto__ = c.prototype; else {
                        var o = t - e;
                        n = new c(o, void 0);
                        for (var i = 0; i < o; ++i) n[i] = this[i + e]
                    }
                    return n
                }, c.prototype.readUIntLE = function (e, t, n) {
                    e |= 0, t |= 0, n || G(e, t, this.length);
                    for (var r = this[e], o = 1, i = 0; ++i < t && (o *= 256);) r += this[e + i] * o;
                    return r
                }, c.prototype.readUIntBE = function (e, t, n) {
                    e |= 0, t |= 0, n || G(e, t, this.length);
                    for (var r = this[e + --t], o = 1; t > 0 && (o *= 256);) r += this[e + --t] * o;
                    return r
                }, c.prototype.readUInt8 = function (e, t) {
                    return t || G(e, 1, this.length), this[e]
                }, c.prototype.readUInt16LE = function (e, t) {
                    return t || G(e, 2, this.length), this[e] | this[e + 1] << 8
                }, c.prototype.readUInt16BE = function (e, t) {
                    return t || G(e, 2, this.length), this[e] << 8 | this[e + 1]
                }, c.prototype.readUInt32LE = function (e, t) {
                    return t || G(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3]
                }, c.prototype.readUInt32BE = function (e, t) {
                    return t || G(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3])
                }, c.prototype.readIntLE = function (e, t, n) {
                    e |= 0, t |= 0, n || G(e, t, this.length);
                    for (var r = this[e], o = 1, i = 0; ++i < t && (o *= 256);) r += this[e + i] * o;
                    return r >= (o *= 128) && (r -= Math.pow(2, 8 * t)), r
                }, c.prototype.readIntBE = function (e, t, n) {
                    e |= 0, t |= 0, n || G(e, t, this.length);
                    for (var r = t, o = 1, i = this[e + --r]; r > 0 && (o *= 256);) i += this[e + --r] * o;
                    return i >= (o *= 128) && (i -= Math.pow(2, 8 * t)), i
                }, c.prototype.readInt8 = function (e, t) {
                    return t || G(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e]
                }, c.prototype.readInt16LE = function (e, t) {
                    t || G(e, 2, this.length);
                    var n = this[e] | this[e + 1] << 8;
                    return 32768 & n ? 4294901760 | n : n
                }, c.prototype.readInt16BE = function (e, t) {
                    t || G(e, 2, this.length);
                    var n = this[e + 1] | this[e] << 8;
                    return 32768 & n ? 4294901760 | n : n
                }, c.prototype.readInt32LE = function (e, t) {
                    return t || G(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24
                }, c.prototype.readInt32BE = function (e, t) {
                    return t || G(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]
                }, c.prototype.readFloatLE = function (e, t) {
                    return t || G(e, 4, this.length), o.read(this, e, !0, 23, 4)
                }, c.prototype.readFloatBE = function (e, t) {
                    return t || G(e, 4, this.length), o.read(this, e, !1, 23, 4)
                }, c.prototype.readDoubleLE = function (e, t) {
                    return t || G(e, 8, this.length), o.read(this, e, !0, 52, 8)
                }, c.prototype.readDoubleBE = function (e, t) {
                    return t || G(e, 8, this.length), o.read(this, e, !1, 52, 8)
                }, c.prototype.writeUIntLE = function (e, t, n, r) {
                    e = +e, t |= 0, n |= 0, r || U(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
                    var o = 1, i = 0;
                    for (this[t] = 255 & e; ++i < n && (o *= 256);) this[t + i] = e / o & 255;
                    return t + n
                }, c.prototype.writeUIntBE = function (e, t, n, r) {
                    e = +e, t |= 0, n |= 0, r || U(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
                    var o = n - 1, i = 1;
                    for (this[t + o] = 255 & e; --o >= 0 && (i *= 256);) this[t + o] = e / i & 255;
                    return t + n
                }, c.prototype.writeUInt8 = function (e, t, n) {
                    return e = +e, t |= 0, n || U(this, e, t, 1, 255, 0), c.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), this[t] = 255 & e, t + 1
                }, c.prototype.writeUInt16LE = function (e, t, n) {
                    return e = +e, t |= 0, n || U(this, e, t, 2, 65535, 0), c.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : H(this, e, t, !0), t + 2
                }, c.prototype.writeUInt16BE = function (e, t, n) {
                    return e = +e, t |= 0, n || U(this, e, t, 2, 65535, 0), c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : H(this, e, t, !1), t + 2
                }, c.prototype.writeUInt32LE = function (e, t, n) {
                    return e = +e, t |= 0, n || U(this, e, t, 4, 4294967295, 0), c.TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24, this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e) : k(this, e, t, !0), t + 4
                }, c.prototype.writeUInt32BE = function (e, t, n) {
                    return e = +e, t |= 0, n || U(this, e, t, 4, 4294967295, 0), c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : k(this, e, t, !1), t + 4
                }, c.prototype.writeIntLE = function (e, t, n, r) {
                    if (e = +e, t |= 0, !r) {
                        var o = Math.pow(2, 8 * n - 1);
                        U(this, e, t, n, o - 1, -o)
                    }
                    var i = 0, a = 1, s = 0;
                    for (this[t] = 255 & e; ++i < n && (a *= 256);) e < 0 && 0 === s && 0 !== this[t + i - 1] && (s = 1), this[t + i] = (e / a >> 0) - s & 255;
                    return t + n
                }, c.prototype.writeIntBE = function (e, t, n, r) {
                    if (e = +e, t |= 0, !r) {
                        var o = Math.pow(2, 8 * n - 1);
                        U(this, e, t, n, o - 1, -o)
                    }
                    var i = n - 1, a = 1, s = 0;
                    for (this[t + i] = 255 & e; --i >= 0 && (a *= 256);) e < 0 && 0 === s && 0 !== this[t + i + 1] && (s = 1), this[t + i] = (e / a >> 0) - s & 255;
                    return t + n
                }, c.prototype.writeInt8 = function (e, t, n) {
                    return e = +e, t |= 0, n || U(this, e, t, 1, 127, -128), c.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), e < 0 && (e = 255 + e + 1), this[t] = 255 & e, t + 1
                }, c.prototype.writeInt16LE = function (e, t, n) {
                    return e = +e, t |= 0, n || U(this, e, t, 2, 32767, -32768), c.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : H(this, e, t, !0), t + 2
                }, c.prototype.writeInt16BE = function (e, t, n) {
                    return e = +e, t |= 0, n || U(this, e, t, 2, 32767, -32768), c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : H(this, e, t, !1), t + 2
                }, c.prototype.writeInt32LE = function (e, t, n) {
                    return e = +e, t |= 0, n || U(this, e, t, 4, 2147483647, -2147483648), c.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24) : k(this, e, t, !0), t + 4
                }, c.prototype.writeInt32BE = function (e, t, n) {
                    return e = +e, t |= 0, n || U(this, e, t, 4, 2147483647, -2147483648), e < 0 && (e = 4294967295 + e + 1), c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : k(this, e, t, !1), t + 4
                }, c.prototype.writeFloatLE = function (e, t, n) {
                    return j(this, e, t, !0, n)
                }, c.prototype.writeFloatBE = function (e, t, n) {
                    return j(this, e, t, !1, n)
                }, c.prototype.writeDoubleLE = function (e, t, n) {
                    return K(this, e, t, !0, n)
                }, c.prototype.writeDoubleBE = function (e, t, n) {
                    return K(this, e, t, !1, n)
                }, c.prototype.copy = function (e, t, n, r) {
                    if (n || (n = 0), r || 0 === r || (r = this.length), t >= e.length && (t = e.length), t || (t = 0), r > 0 && r < n && (r = n), r === n) return 0;
                    if (0 === e.length || 0 === this.length) return 0;
                    if (t < 0) throw new RangeError("targetStart out of bounds");
                    if (n < 0 || n >= this.length) throw new RangeError("sourceStart out of bounds");
                    if (r < 0) throw new RangeError("sourceEnd out of bounds");
                    r > this.length && (r = this.length), e.length - t < r - n && (r = e.length - t + n);
                    var o, i = r - n;
                    if (this === e && n < t && t < r) for (o = i - 1; o >= 0; --o) e[o + t] = this[o + n]; else if (i < 1e3 || !c.TYPED_ARRAY_SUPPORT) for (o = 0; o < i; ++o) e[o + t] = this[o + n]; else Uint8Array.prototype.set.call(e, this.subarray(n, n + i), t);
                    return i
                }, c.prototype.fill = function (e, t, n, r) {
                    if ("string" == typeof e) {
                        if ("string" == typeof t ? (r = t, t = 0, n = this.length) : "string" == typeof n && (r = n, n = this.length), 1 === e.length) {
                            var o = e.charCodeAt(0);
                            o < 256 && (e = o)
                        }
                        if (void 0 !== r && "string" != typeof r) throw new TypeError("encoding must be a string");
                        if ("string" == typeof r && !c.isEncoding(r)) throw new TypeError("Unknown encoding: " + r)
                    } else "number" == typeof e && (e &= 255);
                    if (t < 0 || this.length < t || this.length < n) throw new RangeError("Out of range index");
                    if (n <= t) return this;
                    var i;
                    if (t >>>= 0, n = void 0 === n ? this.length : n >>> 0, e || (e = 0), "number" == typeof e) for (i = t; i < n; ++i) this[i] = e; else {
                        var a = c.isBuffer(e) ? e : q(new c(e, r).toString()), s = a.length;
                        for (i = 0; i < n - t; ++i) this[i + t] = a[i % s]
                    }
                    return this
                };
                var V = /[^+\/0-9A-Za-z-_]/g;

                function W(e) {
                    if ((e = Y(e).replace(V, "")).length < 2) return "";
                    for (; e.length % 4 != 0;) e += "=";
                    return e
                }

                function Y(e) {
                    return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
                }

                function q(e, t) {
                    var n;
                    t = t || 1 / 0;
                    for (var r = e.length, o = null, i = [], a = 0; a < r; ++a) {
                        if ((n = e.charCodeAt(a)) > 55295 && n < 57344) {
                            if (!o) {
                                if (n > 56319) {
                                    (t -= 3) > -1 && i.push(239, 191, 189);
                                    continue
                                }
                                if (a + 1 === r) {
                                    (t -= 3) > -1 && i.push(239, 191, 189);
                                    continue
                                }
                                o = n;
                                continue
                            }
                            if (n < 56320) {
                                (t -= 3) > -1 && i.push(239, 191, 189), o = n;
                                continue
                            }
                            n = 65536 + (o - 55296 << 10 | n - 56320)
                        } else o && (t -= 3) > -1 && i.push(239, 191, 189);
                        if (o = null, n < 128) {
                            if ((t -= 1) < 0) break;
                            i.push(n)
                        } else if (n < 2048) {
                            if ((t -= 2) < 0) break;
                            i.push(n >> 6 | 192, 63 & n | 128)
                        } else if (n < 65536) {
                            if ((t -= 3) < 0) break;
                            i.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128)
                        } else {
                            if (!(n < 1114112)) throw new Error("Invalid code point");
                            if ((t -= 4) < 0) break;
                            i.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128)
                        }
                    }
                    return i
                }

                function z(e) {
                    for (var t = [], n = 0; n < e.length; ++n) t.push(255 & e.charCodeAt(n));
                    return t
                }

                function Q(e, t) {
                    for (var n, r, o, i = [], a = 0; a < e.length && !((t -= 2) < 0); ++a) r = (n = e.charCodeAt(a)) >> 8, o = n % 256, i.push(o), i.push(r);
                    return i
                }

                function X(e) {
                    return r.toByteArray(W(e))
                }

                function J(e, t, n, r) {
                    for (var o = 0; o < r && !(o + n >= t.length || o >= e.length); ++o) t[o + n] = e[o];
                    return o
                }
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {"base64-js": 1, ieee754: 4, isarray: 3}],
        3: [function (e, t) {
            var n = {}.toString;
            t.exports = Array.isArray || function (e) {
                return "[object Array]" == n.call(e)
            }
        }, {}],
        4: [function (e, t, n) {
            n.read = function (e, t, n, r, o) {
                var i, a, s = 8 * o - r - 1, c = (1 << s) - 1, u = c >> 1, l = -7, f = n ? o - 1 : 0, d = n ? -1 : 1,
                    p = e[t + f];
                for (f += d, i = p & (1 << -l) - 1, p >>= -l, l += s; l > 0; i = 256 * i + e[t + f], f += d, l -= 8) ;
                for (a = i & (1 << -l) - 1, i >>= -l, l += r; l > 0; a = 256 * a + e[t + f], f += d, l -= 8) ;
                if (0 === i) i = 1 - u; else {
                    if (i === c) return a ? NaN : 1 / 0 * (p ? -1 : 1);
                    a += Math.pow(2, r), i -= u
                }
                return (p ? -1 : 1) * a * Math.pow(2, i - r)
            }, n.write = function (e, t, n, r, o, i) {
                var a, s, c, u = 8 * i - o - 1, l = (1 << u) - 1, f = l >> 1,
                    d = 23 === o ? Math.pow(2, -24) - Math.pow(2, -77) : 0, p = r ? 0 : i - 1, h = r ? 1 : -1,
                    g = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
                for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (s = isNaN(t) ? 1 : 0, a = l) : (a = Math.floor(Math.log(t) / Math.LN2), t * (c = Math.pow(2, -a)) < 1 && (a--, c *= 2), (t += a + f >= 1 ? d / c : d * Math.pow(2, 1 - f)) * c >= 2 && (a++, c /= 2), a + f >= l ? (s = 0, a = l) : a + f >= 1 ? (s = (t * c - 1) * Math.pow(2, o), a += f) : (s = t * Math.pow(2, f - 1) * Math.pow(2, o), a = 0)); o >= 8; e[n + p] = 255 & s, p += h, s /= 256, o -= 8) ;
                for (a = a << o | s, u += o; u > 0; e[n + p] = 255 & a, p += h, a /= 256, u -= 8) ;
                e[n + p - h] |= 128 * g
            }
        }, {}],
        5: [function (e, t) {
            var n, r, o = t.exports = {};

            function i() {
                throw new Error("setTimeout has not been defined")
            }

            function a() {
                throw new Error("clearTimeout has not been defined")
            }

            function s(e) {
                if (n === setTimeout) return setTimeout(e, 0);
                if ((n === i || !n) && setTimeout) return n = setTimeout, setTimeout(e, 0);
                try {
                    return n(e, 0)
                } catch (t) {
                    try {
                        return n.call(null, e, 0)
                    } catch (t) {
                        return n.call(this, e, 0)
                    }
                }
            }

            function c(e) {
                if (r === clearTimeout) return clearTimeout(e);
                if ((r === a || !r) && clearTimeout) return r = clearTimeout, clearTimeout(e);
                try {
                    return r(e)
                } catch (t) {
                    try {
                        return r.call(null, e)
                    } catch (t) {
                        return r.call(this, e)
                    }
                }
            }

            (function () {
                try {
                    n = "function" == typeof setTimeout ? setTimeout : i
                } catch (e) {
                    n = i
                }
                try {
                    r = "function" == typeof clearTimeout ? clearTimeout : a
                } catch (e) {
                    r = a
                }
            })();
            var u, l = [], f = !1, d = -1;

            function p() {
                f && u && (f = !1, u.length ? l = u.concat(l) : d = -1, l.length && h())
            }

            function h() {
                if (!f) {
                    var e = s(p);
                    f = !0;
                    for (var t = l.length; t;) {
                        for (u = l, l = []; ++d < t;) u && u[d].run();
                        d = -1, t = l.length
                    }
                    u = null, f = !1, c(e)
                }
            }

            function g(e, t) {
                this.fun = e, this.array = t
            }

            function m() {
            }

            o.nextTick = function (e) {
                var t = new Array(arguments.length - 1);
                if (arguments.length > 1) for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                l.push(new g(e, t)), 1 !== l.length || f || s(h)
            }, g.prototype.run = function () {
                this.fun.apply(null, this.array)
            }, o.title = "browser", o.browser = !0, o.env = {}, o.argv = [], o.version = "", o.versions = {}, o.on = m, o.addListener = m, o.once = m, o.off = m, o.removeListener = m, o.removeAllListeners = m, o.emit = m, o.prependListener = m, o.prependOnceListener = m, o.listeners = function () {
                return []
            }, o.binding = function () {
                throw new Error("process.binding is not supported")
            }, o.cwd = function () {
                return "/"
            }, o.chdir = function () {
                throw new Error("process.chdir is not supported")
            }, o.umask = function () {
                return 0
            }
        }, {}],
        6: [function (e, t, n) {
            (function (r, o, i) {
                (function (r, o) {
                    "object" == typeof n && void 0 !== t ? o(n, e("tslib")) : "function" == typeof define && define.amd ? define(["exports", "tslib"], o) : o((r = "undefined" != typeof globalThis ? globalThis : r || self)["@jimu/basis"] = r["@jimu/basis"] || {}, r.tslib)
                })(this, function (e, t) {
                    "use strict";
                    var n,
                        a = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : void 0 !== o ? o : "undefined" != typeof self ? self : {};
                    (function (e) {
                        (function () {
                            var t = "object" == typeof a ? a : "object" == typeof self ? self : "object" == typeof this ? this : Function("", "return this")(),
                                n = o(e);

                            function o(e, t) {
                                return function (n, r) {
                                    "function" != typeof e[n] && Object.defineProperty(e, n, {
                                        configurable: !0,
                                        writable: !0,
                                        value: r
                                    }), t && t(n, r)
                                }
                            }

                            void 0 === t.Reflect ? t.Reflect = e : n = o(t.Reflect, n), function (e) {
                                var t = Object.prototype.hasOwnProperty, n = "function" == typeof Symbol,
                                    o = n && void 0 !== Symbol.toPrimitive ? Symbol.toPrimitive : "@@toPrimitive",
                                    i = n && void 0 !== Symbol.iterator ? Symbol.iterator : "@@iterator",
                                    a = "function" == typeof Object.create, s = {__proto__: []} instanceof Array,
                                    c = !a && !s, u = {
                                        create: a ? function () {
                                            return j(Object.create(null))
                                        } : s ? function () {
                                            return j({__proto__: null})
                                        } : function () {
                                            return j({})
                                        }, has: c ? function (e, n) {
                                            return t.call(e, n)
                                        } : function (e, t) {
                                            return t in e
                                        }, get: c ? function (e, n) {
                                            return t.call(e, n) ? e[n] : void 0
                                        } : function (e, t) {
                                            return e[t]
                                        }
                                    }, l = Object.getPrototypeOf(Function),
                                    f = "object" == typeof r && r.env && "true" === r.env.REFLECT_METADATA_USE_MAP_POLYFILL,
                                    d = f || "function" != typeof Map || "function" != typeof Map.prototype.entries ? function () {
                                        var e = {}, t = [], n = function () {
                                            function e(e, t, n) {
                                                this._index = 0, this._keys = e, this._values = t, this._selector = n
                                            }

                                            return e.prototype["@@iterator"] = function () {
                                                return this
                                            }, e.prototype[i] = function () {
                                                return this
                                            }, e.prototype.next = function () {
                                                var e = this._index;
                                                if (e >= 0 && e < this._keys.length) {
                                                    var n = this._selector(this._keys[e], this._values[e]);
                                                    return e + 1 >= this._keys.length ? (this._index = -1, this._keys = t, this._values = t) : this._index++, {
                                                        value: n,
                                                        done: !1
                                                    }
                                                }
                                                return {value: void 0, done: !0}
                                            }, e.prototype.throw = function (e) {
                                                throw this._index >= 0 && (this._index = -1, this._keys = t, this._values = t), e
                                            }, e.prototype.return = function (e) {
                                                return this._index >= 0 && (this._index = -1, this._keys = t, this._values = t), {
                                                    value: e,
                                                    done: !0
                                                }
                                            }, e
                                        }();
                                        return function () {
                                            function t() {
                                                this._keys = [], this._values = [], this._cacheKey = e, this._cacheIndex = -2
                                            }

                                            return Object.defineProperty(t.prototype, "size", {
                                                get: function () {
                                                    return this._keys.length
                                                }, enumerable: !0, configurable: !0
                                            }), t.prototype.has = function (e) {
                                                return this._find(e, !1) >= 0
                                            }, t.prototype.get = function (e) {
                                                var t = this._find(e, !1);
                                                return t >= 0 ? this._values[t] : void 0
                                            }, t.prototype.set = function (e, t) {
                                                var n = this._find(e, !0);
                                                return this._values[n] = t, this
                                            }, t.prototype.delete = function (t) {
                                                var n = this._find(t, !1);
                                                if (n >= 0) {
                                                    for (var r = this._keys.length, o = n + 1; o < r; o++) this._keys[o - 1] = this._keys[o], this._values[o - 1] = this._values[o];
                                                    return this._keys.length--, this._values.length--, t === this._cacheKey && (this._cacheKey = e, this._cacheIndex = -2), !0
                                                }
                                                return !1
                                            }, t.prototype.clear = function () {
                                                this._keys.length = 0, this._values.length = 0, this._cacheKey = e, this._cacheIndex = -2
                                            }, t.prototype.keys = function () {
                                                return new n(this._keys, this._values, r)
                                            }, t.prototype.values = function () {
                                                return new n(this._keys, this._values, o)
                                            }, t.prototype.entries = function () {
                                                return new n(this._keys, this._values, a)
                                            }, t.prototype["@@iterator"] = function () {
                                                return this.entries()
                                            }, t.prototype[i] = function () {
                                                return this.entries()
                                            }, t.prototype._find = function (e, t) {
                                                return this._cacheKey !== e && (this._cacheIndex = this._keys.indexOf(this._cacheKey = e)), this._cacheIndex < 0 && t && (this._cacheIndex = this._keys.length, this._keys.push(e), this._values.push(void 0)), this._cacheIndex
                                            }, t
                                        }();

                                        function r(e) {
                                            return e
                                        }

                                        function o(e, t) {
                                            return t
                                        }

                                        function a(e, t) {
                                            return [e, t]
                                        }
                                    }() : Map,
                                    p = f || "function" != typeof Set || "function" != typeof Set.prototype.entries ? function () {
                                        function e() {
                                            this._map = new d
                                        }

                                        return Object.defineProperty(e.prototype, "size", {
                                            get: function () {
                                                return this._map.size
                                            }, enumerable: !0, configurable: !0
                                        }), e.prototype.has = function (e) {
                                            return this._map.has(e)
                                        }, e.prototype.add = function (e) {
                                            return this._map.set(e, e), this
                                        }, e.prototype.delete = function (e) {
                                            return this._map.delete(e)
                                        }, e.prototype.clear = function () {
                                            this._map.clear()
                                        }, e.prototype.keys = function () {
                                            return this._map.keys()
                                        }, e.prototype.values = function () {
                                            return this._map.values()
                                        }, e.prototype.entries = function () {
                                            return this._map.entries()
                                        }, e.prototype["@@iterator"] = function () {
                                            return this.keys()
                                        }, e.prototype[i] = function () {
                                            return this.keys()
                                        }, e
                                    }() : Set, h = new (f || "function" != typeof WeakMap ? function () {
                                        var e = 16, n = u.create(), r = o();
                                        return function () {
                                            function e() {
                                                this._key = o()
                                            }

                                            return e.prototype.has = function (e) {
                                                var t = i(e, !1);
                                                return void 0 !== t && u.has(t, this._key)
                                            }, e.prototype.get = function (e) {
                                                var t = i(e, !1);
                                                return void 0 !== t ? u.get(t, this._key) : void 0
                                            }, e.prototype.set = function (e, t) {
                                                return i(e, !0)[this._key] = t, this
                                            }, e.prototype.delete = function (e) {
                                                var t = i(e, !1);
                                                return void 0 !== t && delete t[this._key]
                                            }, e.prototype.clear = function () {
                                                this._key = o()
                                            }, e
                                        }();

                                        function o() {
                                            var e;
                                            do {
                                                e = "@@WeakMap@@" + s()
                                            } while (u.has(n, e));
                                            return n[e] = !0, e
                                        }

                                        function i(e, n) {
                                            if (!t.call(e, r)) {
                                                if (!n) return;
                                                Object.defineProperty(e, r, {value: u.create()})
                                            }
                                            return e[r]
                                        }

                                        function a(e, t) {
                                            for (var n = 0; n < t; ++n) e[n] = 255 * Math.random() | 0;
                                            return e
                                        }

                                        function s() {
                                            var t,
                                                n = (t = e, "function" == typeof Uint8Array ? "undefined" != typeof crypto ? crypto.getRandomValues(new Uint8Array(t)) : "undefined" != typeof msCrypto ? msCrypto.getRandomValues(new Uint8Array(t)) : a(new Uint8Array(t), t) : a(new Array(t), t));
                                            n[6] = 79 & n[6] | 64, n[8] = 191 & n[8] | 128;
                                            for (var r = "", o = 0; o < e; ++o) {
                                                var i = n[o];
                                                4 !== o && 6 !== o && 8 !== o || (r += "-"), i < 16 && (r += "0"), r += i.toString(16).toLowerCase()
                                            }
                                            return r
                                        }
                                    }() : WeakMap);

                                function g(e, t) {
                                    for (var n = e.length - 1; n >= 0; --n) {
                                        var r = (0, e[n])(t);
                                        if (!I(r) && !w(r)) {
                                            if (!B(r)) throw new TypeError;
                                            t = r
                                        }
                                    }
                                    return t
                                }

                                function m(e, t, n, r) {
                                    for (var o = e.length - 1; o >= 0; --o) {
                                        var i = (0, e[o])(t, n, r);
                                        if (!I(i) && !w(i)) {
                                            if (!O(i)) throw new TypeError;
                                            r = i
                                        }
                                    }
                                    return r
                                }

                                function _(e, t, n) {
                                    var r = h.get(e);
                                    if (I(r)) {
                                        if (!n) return;
                                        r = new d, h.set(e, r)
                                    }
                                    var o = r.get(t);
                                    if (I(o)) {
                                        if (!n) return;
                                        o = new d, r.set(t, o)
                                    }
                                    return o
                                }

                                function v(e, t, n) {
                                    if (E(e, t, n)) return !0;
                                    var r = F(t);
                                    return !w(r) && v(e, r, n)
                                }

                                function E(e, t, n) {
                                    var r = _(t, n, !1);
                                    return !I(r) && !!r.has(e)
                                }

                                function y(e, t, n) {
                                    if (E(e, t, n)) return S(e, t, n);
                                    var r = F(t);
                                    return w(r) ? void 0 : y(e, r, n)
                                }

                                function S(e, t, n) {
                                    var r = _(t, n, !1);
                                    if (!I(r)) return r.get(e)
                                }

                                function C(e, t, n, r) {
                                    _(n, r, !0).set(e, t)
                                }

                                function A(e, t) {
                                    var n = T(e, t), r = F(e);
                                    if (null === r) return n;
                                    var o = A(r, t);
                                    if (o.length <= 0) return n;
                                    if (n.length <= 0) return o;
                                    for (var i = new p, a = [], s = 0, c = n; s < c.length; s++) {
                                        var u = c[s];
                                        i.has(u) || (i.add(u), a.push(u))
                                    }
                                    for (var l = 0, f = o; l < f.length; l++) u = f[l], i.has(u) || (i.add(u), a.push(u));
                                    return a
                                }

                                function T(e, t) {
                                    var n = [], r = _(e, t, !1);
                                    if (I(r)) return n;
                                    for (var o = U(r.keys()), i = 0; ;) {
                                        var a = H(o);
                                        if (!a) return n.length = i, n;
                                        var s = a.value;
                                        try {
                                            n[i] = s
                                        } catch (c) {
                                            try {
                                                k(o)
                                            } finally {
                                                throw c
                                            }
                                        }
                                        i++
                                    }
                                }

                                function b(e) {
                                    if (null === e) return 1;
                                    switch (typeof e) {
                                        case"undefined":
                                            return 0;
                                        case"boolean":
                                            return 2;
                                        case"string":
                                            return 3;
                                        case"symbol":
                                            return 4;
                                        case"number":
                                            return 5;
                                        case"object":
                                            return null === e ? 1 : 6;
                                        default:
                                            return 6
                                    }
                                }

                                function I(e) {
                                    return void 0 === e
                                }

                                function w(e) {
                                    return null === e
                                }

                                function O(e) {
                                    return "object" == typeof e ? null !== e : "function" == typeof e
                                }

                                function R(e, t) {
                                    switch (b(e)) {
                                        case 0:
                                        case 1:
                                        case 2:
                                        case 3:
                                        case 4:
                                        case 5:
                                            return e
                                    }
                                    var n = 3 === t ? "string" : 5 === t ? "number" : "default", r = G(e, o);
                                    if (void 0 !== r) {
                                        var i = r.call(e, n);
                                        if (O(i)) throw new TypeError;
                                        return i
                                    }
                                    return M(e, "default" === n ? "number" : n)
                                }

                                function M(e, t) {
                                    if ("string" === t) {
                                        var n = e.toString;
                                        if (P(n) && !O(o = n.call(e))) return o;
                                        if (P(r = e.valueOf) && !O(o = r.call(e))) return o
                                    } else {
                                        var r;
                                        if (P(r = e.valueOf) && !O(o = r.call(e))) return o;
                                        var o, i = e.toString;
                                        if (P(i) && !O(o = i.call(e))) return o
                                    }
                                    throw new TypeError
                                }

                                function L(e) {
                                    return "" + e
                                }

                                function N(e) {
                                    var t = R(e, 3);
                                    return "symbol" == typeof t ? t : L(t)
                                }

                                function D(e) {
                                    return Array.isArray ? Array.isArray(e) : e instanceof Object ? e instanceof Array : "[object Array]" === Object.prototype.toString.call(e)
                                }

                                function P(e) {
                                    return "function" == typeof e
                                }

                                function B(e) {
                                    return "function" == typeof e
                                }

                                function x(e) {
                                    switch (b(e)) {
                                        case 3:
                                        case 4:
                                            return !0;
                                        default:
                                            return !1
                                    }
                                }

                                function G(e, t) {
                                    var n = e[t];
                                    if (null != n) {
                                        if (!P(n)) throw new TypeError;
                                        return n
                                    }
                                }

                                function U(e) {
                                    var t = G(e, i);
                                    if (!P(t)) throw new TypeError;
                                    var n = t.call(e);
                                    if (!O(n)) throw new TypeError;
                                    return n
                                }

                                function H(e) {
                                    var t = e.next();
                                    return !t.done && t
                                }

                                function k(e) {
                                    var t = e.return;
                                    t && t.call(e)
                                }

                                function F(e) {
                                    var t = Object.getPrototypeOf(e);
                                    if ("function" != typeof e || e === l) return t;
                                    if (t !== l) return t;
                                    var n = e.prototype, r = n && Object.getPrototypeOf(n);
                                    if (null == r || r === Object.prototype) return t;
                                    var o = r.constructor;
                                    return "function" != typeof o ? t : o === e ? t : o
                                }

                                function j(e) {
                                    return e.__ = void 0, delete e.__, e
                                }

                                e("decorate", function (e, t, n, r) {
                                    if (I(n)) {
                                        if (!D(e)) throw new TypeError;
                                        if (!B(t)) throw new TypeError;
                                        return g(e, t)
                                    }
                                    if (!D(e)) throw new TypeError;
                                    if (!O(t)) throw new TypeError;
                                    if (!O(r) && !I(r) && !w(r)) throw new TypeError;
                                    return w(r) && (r = void 0), m(e, t, n = N(n), r)
                                }), e("metadata", function (e, t) {
                                    return function (n, r) {
                                        if (!O(n)) throw new TypeError;
                                        if (!I(r) && !x(r)) throw new TypeError;
                                        C(e, t, n, r)
                                    }
                                }), e("defineMetadata", function (e, t, n, r) {
                                    if (!O(n)) throw new TypeError;
                                    return I(r) || (r = N(r)), C(e, t, n, r)
                                }), e("hasMetadata", function (e, t, n) {
                                    if (!O(t)) throw new TypeError;
                                    return I(n) || (n = N(n)), v(e, t, n)
                                }), e("hasOwnMetadata", function (e, t, n) {
                                    if (!O(t)) throw new TypeError;
                                    return I(n) || (n = N(n)), E(e, t, n)
                                }), e("getMetadata", function (e, t, n) {
                                    if (!O(t)) throw new TypeError;
                                    return I(n) || (n = N(n)), y(e, t, n)
                                }), e("getOwnMetadata", function (e, t, n) {
                                    if (!O(t)) throw new TypeError;
                                    return I(n) || (n = N(n)), S(e, t, n)
                                }), e("getMetadataKeys", function (e, t) {
                                    if (!O(e)) throw new TypeError;
                                    return I(t) || (t = N(t)), A(e, t)
                                }), e("getOwnMetadataKeys", function (e, t) {
                                    if (!O(e)) throw new TypeError;
                                    return I(t) || (t = N(t)), T(e, t)
                                }), e("deleteMetadata", function (e, t, n) {
                                    if (!O(t)) throw new TypeError;
                                    I(n) || (n = N(n));
                                    var r = _(t, n, !1);
                                    if (I(r)) return !1;
                                    if (!r.delete(e)) return !1;
                                    if (r.size > 0) return !0;
                                    var o = h.get(t);
                                    return o.delete(n), o.size > 0 || (h.delete(t), !0)
                                })
                            }(n)
                        })()
                    })(n || (n = {})), "object" != typeof globalThis.process && (globalThis.process = Object.create(null)), r.env || (r.env = Object.create(null)), r.defines || (r.defines = Object.create(null)), r.contexts || (r.contexts = Object.create(null)), r.contexts.metadataKeys || (r.contexts.metadataKeys = Object.create(null));
                    var s = Object.assign(r.contexts.metadataKeys, {
                        class: Symbol.for("jm/class"),
                        pool: Symbol.for("jm/pool"),
                        inject: Symbol.for("jm/inject")
                    }), c = r.contexts;
                    void 0 === c.classCount && (c.classCount = 0, c.instanceCount = 0, c.utf8Encoder = new TextEncoder, c.utf8Decoder = new TextDecoder("utf8"));
                    var u = {
                        generateClassId: function () {
                            return ++c.classCount + 1e3
                        }, generateInstanceId: function () {
                            return ++c.instanceCount + 1e4
                        }, stringToUint8Array: function (e) {
                            return c.utf8Encoder.encode(e)
                        }, uint8ArrayToString: function (e) {
                            return c.utf8Decoder.decode(e)
                        }, base64ToUint8Array: function (e) {
                            if ("undefined" == typeof atob) {
                                var t = i.from(e, "base64");
                                return new Uint8Array(t.buffer, t.byteOffset, t.byteLength)
                            }
                            for (var n = (e + "=".repeat((4 - e.length % 4) % 4)).replace(/\-/g, "+").replace(/_/g, "/"), r = atob(n), o = new Uint8Array(r.length), a = 0, s = r.length; a < s; ++a) o[a] = r.charCodeAt(a);
                            return o
                        }, uint8ArrayToBase64: function (e) {
                            if ("undefined" == typeof btoa) return i.from(e.buffer, e.byteOffset, e.byteLength).toString("base64");
                            for (var t = "", n = 0, r = e.length; n < r; ++n) t += String.fromCharCode(e[n]);
                            return btoa(t)
                        }
                    };

                    function l(e, t) {
                        for (var n = 0, r = 0, o = e.length; r < o; ++r) {
                            var i = e[r];
                            i === t ? n++ : n > 0 && (e[r - n] = i)
                        }
                        n > 0 && (e.length -= n)
                    }

                    function f(e) {
                        void 0 === e && (e = !0);
                        var t = Object.create(null);
                        return e && (t["."] = !0, t["/"] = !0, delete t["."], delete t["/"]), t
                    }

                    function d(e) {
                        for (var t in e) delete e[t]
                    }

                    var p = r.contexts;

                    function h(e) {
                        var t;
                        t = "function" == typeof e ? m(e) : e;
                        var n = p.instances[t];
                        return delete p.instances[t], n
                    }

                    function g(e, t) {
                        var n;
                        return n = "function" == typeof e ? m(e) : e, p.globals[n] = t, t
                    }

                    function m(e) {
                        var t = Reflect.getOwnMetadata(s.class, e);
                        return t || (t = _(e.name)(e)), t.id
                    }

                    function _(e) {
                        return function (t) {
                            if (0 === e.length) throw "ArgumentsError";
                            var n = Reflect.getOwnMetadata(s.class, t);
                            if (n) delete p.classes[n.name], n.name = e; else {
                                var r = Reflect.getMetadata(s.class, t);
                                r && (r.isLeaf = !1), n = {
                                    isLeaf: !0,
                                    id: u.generateClassId(),
                                    name: e
                                }, Reflect.defineMetadata(s.class, n, t), p.classes[n.id] = t
                            }
                            for (; p.classes[n.name];) n.name = e + "#" + Math.floor(4294967295 * Math.random());
                            return p.classes[n.name] = t, n
                        }
                    }

                    void 0 === p.modules && (p.modules = [], p.classes = f(), p.instances = f(), p.globals = globalThis), g("reflect", _);
                    var v = r.contexts;

                    function E(e, t) {
                        var n = Reflect.getOwnMetadata(s.pool, e);
                        if (n) return n.pool;
                        if (t) {
                            var r = new S(e), o = {pool: r};
                            return Reflect.defineMetadata(s.pool, o, e), v.pools.push(r), r
                        }
                        return null
                    }

                    function y(e) {
                        var t = (void 0 === e ? {} : e).maxIdleCount, n = void 0 === t ? -1 : t;
                        return function (e) {
                            E(e, !0).maxIdleCount = n
                        }
                    }

                    void 0 === v.pools && (v.pools = []);
                    var S = function () {
                        function e(e) {
                            this.priority = 0, this.idleCount = 0, this.activeCount = 0, this._maxIdleCount = -1, this._idles = [], this._factory = e
                        }

                        var t = e.prototype;
                        return t._create = function () {
                            return new this._factory
                        }, t.clear = function () {
                            for (var e = this._idles, t = 0, n = this.idleCount; t < n; ++t) e[t] = null;
                            this.idleCount = 0
                        }, t.borrow = function () {
                            var e, t = this.idleCount;
                            if (t > 0) {
                                var n = this._idles;
                                e = n[t - 1], n[t - 1] = null, this.idleCount--
                            } else e = this._create();
                            return this.activeCount++, e
                        }, t.return = function (e) {
                            if (e.uninitialize(), this.activeCount--, this._maxIdleCount < 0 || this._maxIdleCount > this.idleCount) {
                                var t = this._idles;
                                if (!(r.defines.DEBUG && t.indexOf(e) >= 0)) return t[this.idleCount++] = e, !0;
                                console.warn("The object has been released.")
                            }
                            return !1
                        }, t.add = function () {
                            var e = this._maxIdleCount;
                            return e < 0 || e > this.idleCount ? (this._idles[this.idleCount++] = this._create(), !0) : (r.defines.DEBUG && console.warn("Object reserving exceeds max count."), !1)
                        }, Object.defineProperty(t, "maxIdleCount", {
                            get: function () {
                                return this._maxIdleCount
                            }, set: function (e) {
                                if (this._maxIdleCount !== e && (this._maxIdleCount = e, e >= 0)) {
                                    var t = this._idles;
                                    this.idleCount > e && (this.idleCount = e), t.length > e && (t.length = e)
                                }
                            }, enumerable: !1, configurable: !0
                        }), e
                    }();
                    reflect("@jimu/basis/Pool")(S);
                    var C = function () {
                        function e() {
                            this.instanceId = u.generateInstanceId(), this.promise = null, this.resolve = null, this.reject = null, this.value = void 0
                        }

                        var n = e.prototype;
                        return e.create = function () {
                            var e = E(this).borrow();
                            return e.initialize(arguments[0]), e
                        }, e.return = function (e) {
                            E(this).return(e)
                        }, n.initialize = function (e) {
                            var t = this;
                            this.value = e, this.promise = new Promise(function (e, n) {
                                t.resolve = e, t.reject = n
                            })
                        }, n.uninitialize = function () {
                            this.value = void 0, this.promise = null, this.resolve = null, this.reject = null
                        }, t.__decorate([y()], e)
                    }();
                    reflect("@jimu/basis/Deferred")(C);
                    var A = function (e) {
                        function n(t, n) {
                            var r = e.call(this, t) || this;
                            return r.flags = 0, r.code = "", r.cause = null, Object.assign(r, n), Error.captureStackTrace && Error.captureStackTrace(r, r.constructor), r
                        }

                        return t.__extends(n, e), n
                    }(Error);
                    reflect("@jimu/basis/ModuleError")(A);
                    var T = function (e) {
                        function n(t, n) {
                            var r = e.call(this, t, n) || this;
                            return Object.assign(r, {code: "UNIMPLEMENTED"}, n), r
                        }

                        return t.__extends(n, e), n
                    }(A);
                    reflect("@jimu/basis/UnimplementedError")(T);
                    var b = function () {
                        function e() {
                            this.instanceId = u.generateInstanceId(), this.enabled = !0, this.version = 0, this._flags = 0, this._dispatchIndex = 0, this._bindings = [], this._cascaded = null
                        }

                        var n = e.prototype;
                        return e.create = function () {
                            var e = E(this).borrow();
                            return e.initialize(), e
                        }, n._getBinding = function (e, t) {
                            for (var n = this._bindings, r = 0, o = n.length; r < o; ++r) {
                                var i = n[r];
                                if (i && i.listener === e && i.context == t) return i
                            }
                            return null
                        }, n._add = function (e, t, n, r) {
                            for (var o = this._dispatchIndex, i = this._bindings, a = {
                                once: n,
                                listener: e,
                                context: t,
                                priority: r
                            }, s = 0, c = i.length; s < c; ++s) {
                                var u = i[s];
                                if (u && r > u.priority) break
                            }
                            return s <= o && this._dispatchIndex++, s === i.length ? i.push(a) : i.splice(s, 0, a), this.version++, this._cascaded = null, 0 != (4 & this._flags) && (this._flags |= 1), a
                        }, n._cascade = function (e, t) {
                            var n = this._bindings;
                            return function (r) {
                                var o = -1, i = e ? {listener: e, context: t} : null;
                                return function e(t) {
                                    if (t <= o) return Promise.reject(new Error("next(); called multiple times"));
                                    o = t;
                                    var a = t < n.length ? n[t] : i;
                                    if (!a) return Promise.resolve();
                                    try {
                                        return Promise.resolve(a.listener.call(a.context, r, function () {
                                            return e(t + 1)
                                        }))
                                    } catch (s) {
                                        return Promise.reject(s)
                                    }
                                }(0)
                            }
                        }, n.initialize = function () {
                            this.enabled = !0, this.version = 0
                        }, n.uninitialize = function () {
                            this.clear(), this.enabled = !1
                        }, n.clear = function () {
                            this.version++, this._flags = 0, this._dispatchIndex = 0, this._bindings.length = 0, this._cascaded = null
                        }, n.add = function (e, t, n) {
                            void 0 === n && (n = 0);
                            var r = this._getBinding(e, t);
                            return r ? r.once = !1 : r = this._add(e, t, !1, n), r
                        }, n.addOnce = function (e, t, n) {
                            void 0 === n && (n = 0);
                            var r = this._getBinding(e, t);
                            return r ? r.once = !0 : r = this._add(e, t, !0, n), r
                        }, n.remove = function (e, t) {
                            for (var n = this._bindings, r = 0, o = n.length; r < o; ++r) {
                                var i = n[r];
                                if (i && i.listener === e && i.context == t) return n[r] = null, this.version++, this._cascaded = null, this._flags |= 2, !0
                            }
                            return !1
                        }, n.has = function (e, t) {
                            return !!this._getBinding(e, t)
                        }, n.dispatch = function () {
                            var e = this._bindings;
                            if (this._bindings.length > 0 && this.enabled) {
                                for (this._flags |= 4, this._dispatchIndex = 0; this._dispatchIndex < e.length; this._dispatchIndex++) {
                                    var t = e[this._dispatchIndex];
                                    if (t) {
                                        if (0 == (4 & this._flags)) break;
                                        switch (arguments.length) {
                                            case 0:
                                                t.listener.call(t.context);
                                                break;
                                            case 1:
                                                t.listener.call(t.context, arguments[0]);
                                                break;
                                            default:
                                                Reflect.apply(t.listener, t.context, arguments)
                                        }
                                        t.once && (e[this._dispatchIndex] = null)
                                    }
                                }
                                0 != (2 & this._flags) && l(this._bindings, null), this._flags = 0
                            }
                        }, n.dispatchAsync = function () {
                            for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                            return t.__awaiter(this, void 0, void 0, function () {
                                var n, r;
                                return t.__generator(this, function (t) {
                                    switch (t.label) {
                                        case 0:
                                            if (n = this._bindings, !(this._bindings.length > 0 && this.enabled)) return [3, 11];
                                            this._flags |= 4, this._dispatchIndex = 0, t.label = 1;
                                        case 1:
                                            if (!(this._dispatchIndex < n.length)) return [3, 10];
                                            if (!(r = n[this._dispatchIndex])) return [3, 9];
                                            if (0 == (4 & this._flags)) return [3, 10];
                                            switch (e.length) {
                                                case 0:
                                                    return [3, 2];
                                                case 1:
                                                    return [3, 4]
                                            }
                                            return [3, 6];
                                        case 2:
                                            return [4, r.listener.call(r.context)];
                                        case 3:
                                            return t.sent(), [3, 8];
                                        case 4:
                                            return [4, r.listener.call(r.context, e[0])];
                                        case 5:
                                            return t.sent(), [3, 8];
                                        case 6:
                                            return [4, Reflect.apply(r.listener, r.context, e)];
                                        case 7:
                                            return t.sent(), [3, 8];
                                        case 8:
                                            r.once && (n[this._dispatchIndex] = null), t.label = 9;
                                        case 9:
                                            return this._dispatchIndex++, [3, 1];
                                        case 10:
                                            0 != (2 & this._flags) && l(this._bindings, null), this._flags = 0, t.label = 11;
                                        case 11:
                                            return [2]
                                    }
                                })
                            })
                        }, n.dispatchCascade = function (e, t, n) {
                            return this._cascaded || (this._cascaded = this._cascade(t, n)), this._cascaded(e)
                        }, n.halt = function () {
                            this._flags &= -5
                        }, n.on = function () {
                            throw new T
                        }, n.once = function () {
                            throw new T
                        }, n.off = function () {
                            throw new T
                        }, n.emit = function () {
                            throw new T
                        }, n.emitAsync = function () {
                            throw new T
                        }, n.emitCascade = function () {
                            throw new T
                        }, t.__decorate([y()], e)
                    }();
                    reflect("@jimu/basis/Signal")(b), b.prototype.on = b.prototype.add, b.prototype.once = b.prototype.addOnce, b.prototype.off = b.prototype.remove, b.prototype.emit = b.prototype.dispatch, b.prototype.emitAsync = b.prototype.dispatchAsync, b.prototype.emitCascade = b.prototype.dispatchCascade;
                    var I = function () {
                        function e(e, t, n) {
                            this.instanceId = u.generateInstanceId(), this.target = null, this.onUpdate = null, this._callbackTarget = null, this.target = e, this._callbackTarget = t, this.onUpdate = n
                        }

                        return e.prototype.update = function (e) {
                            return this.onUpdate && this.onUpdate.call(this._callbackTarget, this.target, e), this.target
                        }, e
                    }();
                    reflect("@jimu/basis/Updater")(I);
                    var w = function () {
                        function e() {
                            this.version = 0, this.count = 0, this._flags = 0, this._instances = [], this._instancesMapping = f()
                        }

                        var t = e.prototype;
                        return t.clear = function () {
                            0 === this.count && 0 === this._flags || (this.version = 0, this.count = 0, this._instances.length = 0, d(this._instancesMapping), this._flags = 0)
                        }, t.contains = function (e) {
                            return e.instanceId in this._instancesMapping
                        }, t.get = function (e) {
                            return this._instancesMapping[e] || null
                        }, t.add = function (e) {
                            var t = this._instances, n = this._instancesMapping, r = e.instanceId;
                            return !(r in n || (this.version++, this.count++, n[r] = e, t[t.length] = e, 0))
                        }, t.remove = function (e) {
                            var t = this._instances, n = this._instancesMapping, r = e.instanceId;
                            return r in n && (this.version++, this.count--, delete n[r], t[t.indexOf(e)] = null, this._flags++, this._flags > 100 && this.instances, !0)
                        }, Object.defineProperty(t, "instances", {
                            get: function () {
                                var e = this._instances;
                                return this._flags > 0 && (l(e, null), this._flags = 0), e
                            }, enumerable: !1, configurable: !0
                        }), e
                    }();
                    reflect("@jimu/basis/Instances")(w);
                    var O = function (e) {
                        function n(t, n) {
                            var r = e.call(this, t, n) || this;
                            return Object.assign(r, {code: "NEVER"}, n), r
                        }

                        return t.__extends(n, e), n
                    }(A);
                    reflect("@jimu/basis/NeverError")(O);
                    var R = function (e) {
                        function n(t, n) {
                            var r = e.call(this, t, n) || this;
                            return Object.assign(r, {code: "UNSUPPORTED"}, n), r
                        }

                        return t.__extends(n, e), n
                    }(A);
                    reflect("@jimu/basis/UnsupportedError")(R);
                    var M = function (e) {
                        function n(t, n) {
                            var r = e.call(this, t, n) || this;
                            return Object.assign(r, {code: "INVALID"}, n), r
                        }

                        return t.__extends(n, e), n
                    }(A);
                    reflect("@jimu/basis/InvalidError")(M), e.Deferred = C, e.Instances = w, e.InvalidError = M, e.ModuleError = A, e.NeverError = O, e.Pool = S, e.Signal = b, e.UnimplementedError = T, e.UnsupportedError = R, e.Updater = I, e.Utils = u, e.addModule = function (e) {
                        var t = p.modules;
                        return !(t.indexOf(e) >= 0 || (t.push(e), 0))
                    }, e.clearInject = function (e) {
                        var t = Reflect.getMetadata(s.inject, e.constructor);
                        if (t) for (var n = 0, r = t.properties; n < r.length; n++) {
                            var o = r[n], i = Reflect.getMetadata(s.inject, e.constructor.prototype, o);
                            e[o] = i.defaultValue
                        }
                    }, e.clearRecord = d, e.createRecord = f, e.executeModules = function () {
                        return t.__awaiter(this, void 0, void 0, function () {
                            var e, n, r;
                            return t.__generator(this, function (t) {
                                switch (t.label) {
                                    case 0:
                                        e = p.modules, n = 0, t.label = 1;
                                    case 1:
                                        return n < e.length ? (r = e[n]) ? (e[n] = null, [4, r()]) : [3, 3] : [3, 4];
                                    case 2:
                                        t.sent(), t.label = 3;
                                    case 3:
                                        return ++n, [3, 1];
                                    case 4:
                                        return [2]
                                }
                            })
                        })
                    }, e.filterArray = l, e.getClassByID = function (e) {
                        return p.classes[e] || null
                    }, e.getClassByName = function (e) {
                        return p.classes[e] || null
                    }, e.getClassID = m, e.getClassName = function (e, t) {
                        var n = Reflect.getOwnMetadata(s.class, e);
                        if (!n) return "";
                        var r = n.name;
                        if (t) {
                            var o = r.split("/");
                            if (o.length > 0) switch (t) {
                                case 1:
                                    r = o.pop();
                                    break;
                                case 2:
                                    o.length > 1 && "@" === o[0][0] && (o.shift(), r = o.join("/"))
                            }
                            r.indexOf("#") >= 0 && (r = r.split("#")[0])
                        }
                        return r
                    }, e.getGlobal = function (e) {
                        var t;
                        return t = "function" == typeof e ? m(e) : e, p.globals[t]
                    }, e.getInstance = h, e.getPool = E, e.inject = function (e) {
                        return function (n, r) {
                            if (!Reflect.hasMetadata(s.inject, n, r)) {
                                Reflect.defineMetadata(s.inject, e, n, r);
                                var o = Reflect.getOwnMetadata(s.inject, n.constructor);
                                if (!o) {
                                    var i = Reflect.getMetadata(s.inject, n.constructor);
                                    o = {properties: i ? t.__spreadArray([], i.properties, !0) : []}, Reflect.defineMetadata(s.inject, o, n.constructor)
                                }
                                o.properties.push(r)
                            }
                        }
                    }, e.metadataKeys = s, e.pool = y, e.reflect = _, e.resolveInject = function (e) {
                        var t = Reflect.getMetadata(s.inject, e.constructor);
                        if (t) for (var n = 0, r = t.properties; n < r.length; n++) {
                            var o = r[n], i = Reflect.getMetadata(s.inject, e.constructor.prototype, o);
                            void 0 === i.defaultValue && (i.defaultValue = e[o]);
                            var a = h(i.token);
                            void 0 !== a && (e[o] = a)
                        }
                    }, e.setGlobal = g, e.setInstance = function (e, t) {
                        var n;
                        return n = "function" == typeof e ? m(e) : e, p.instances[n] = t, t
                    }, e.traverseMetadataProperties = function (e, t, n) {
                        var r = Reflect.getMetadata(e, t);
                        if (r) for (var o = 0, i = r.properties; o < i.length; o++) {
                            var a = i[o];
                            n(a, Reflect.getMetadata(e, t.prototype, a))
                        }
                    }, Object.defineProperty(e, "__esModule", {value: !0})
                })
            }).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, e("buffer").Buffer)
        }, {_process: 5, buffer: 2, tslib: 23}],
        7: [function (e, t, n) {
            (function (r) {
                (function (r, o) {
                    "object" == typeof n && void 0 !== t ? o(n, e("tslib"), e("@jimu/basis")) : "function" == typeof define && define.amd ? define(["exports", "tslib", "@jimu/basis"], o) : o((r = "undefined" != typeof globalThis ? globalThis : r || self)["@jimu/ecs"] = r["@jimu/ecs"] || {}, r.tslib, r["@jimu/basis"])
                })(this, function (e, t, n) {
                    "use strict";
                    var o = Object.assign(r.contexts.metadataKeys, {ecs: Symbol.for("jm/ecs")}),
                        i = {_reactiveRemoveEnabled: !1, _emptyArray: []}, a = function () {
                            function e() {
                                this.instanceId = n.Utils.generateInstanceId(), this.localId = "", this.version = 0, this.states = 0, this.context = null, this._version = 0, this._enabled = !0, this._components = [], this._typedComponents = n.createRecord(), this._removedComponents = n.createRecord()
                            }

                            var a = e.prototype;
                            return a._destroyedError = function (e) {
                                var t = "The entity has been destroyed.";
                                if (e) throw t;
                                console.error(t)
                            }, a._isRequireComponent = function (e) {
                                var t = this._components,
                                    n = Reflect.getOwnMetadata(o.ecs, this.constructor).requiredComponents;
                                if (n && n.indexOf(e) >= 0) return !0;
                                for (var r = 0, i = t.length; r < i; ++r) {
                                    var a = t[r];
                                    if (a) {
                                        var s = Reflect.getOwnMetadata(o.ecs, a.constructor).requiredComponents;
                                        if (s && s.indexOf(e) >= 0) return !0
                                    }
                                }
                                return !1
                            }, a._addComponent = function (e, t) {
                                var r = this.context, i = this._components, a = this._typedComponents, s = e, c = null;
                                do {
                                    var u = Reflect.getOwnMetadata(o.ecs, s), l = a[n.getClassID(s)];
                                    if ((!u || 0 == (8 & u.allowFlags)) && l) {
                                        c = l[0], u && 0 != (4 & u.allowFlags) && c.constructor !== e && (this._removeComponent(c), c = null);
                                        break
                                    }
                                    s = Object.getPrototypeOf(s)
                                } while (Object.getPrototypeOf(s) !== Function.prototype);
                                if (c) return c;
                                var f = n.getPool(e), d = Reflect.getOwnMetadata(o.ecs, e).allowFlags;
                                s = e, c = f ? f.borrow() : new e, i.push(c);
                                do {
                                    var p = n.getClassID(s);
                                    (l = a[p]) || (a[p] = l = new Array), l.push(c), s = Object.getPrototypeOf(s)
                                } while (Object.getPrototypeOf(s) !== Function.prototype);
                                return n.setInstance("ecs/entity", this), n.setInstance("ecs/default-enabled", 0 != (1 & d) ? t : void 0), c.initialize(), r.onComponentAdd.dispatch(this, c, !1), c.isEnabled && c.handleEvent(!0, !1), c
                            }, a._removeComponent = function (e) {
                                var t = this.context, r = this._components, o = this._typedComponents,
                                    i = this._removedComponents, a = e.constructor;
                                e.states |= 1, e.enabled = !1, e._onRemove(), t.application.destroyedInstances[0].push(e), this.version++, r[r.indexOf(e)] = null;
                                do {
                                    var s = n.getClassID(a), c = o[s], u = i[s];
                                    1 === c.length ? delete o[s] : c.splice(c.indexOf(e), 1), u || (i[s] = u = new Array), u.push(e), a = Object.getPrototypeOf(a)
                                } while (Object.getPrototypeOf(a) !== Function.prototype);
                                e.states = 2, t.onComponentRemove.dispatch(this, e)
                            }, a._removeAllComponents = function () {
                                for (var e = this._components, t = this._typedComponents, r = e.length - 1; r >= 0; --r) {
                                    var o = e[r];
                                    o && this._removeComponent(o)
                                }
                                e.length = 0, n.clearRecord(t)
                            }, a._refreshComponents = function () {
                                var e = this._components;
                                this._version !== this.version && (n.filterArray(e, null), this._version = this.version)
                            }, a.initialize = function () {
                                n.resolveInject(this), this.states = 0, this.context.onEntityAdd.dispatch(this, !1), this.isEnabled && this.context.onEntityEnable.dispatch(this, !1)
                            }, a.uninitialize = function () {
                                n.clearInject(this), this.version = 0, this._version = 0, n.clearRecord(this._typedComponents), n.clearRecord(this._removedComponents)
                            }, a.getVisualID = function () {
                                return this.instanceId.toString()
                            }, a.destroy = function () {
                                this.isDestroyed ? r.defines.DEBUG && this._destroyedError(!1) : (this.states |= 1, this.enabled = !1, this._removeAllComponents(), this.states = 2, this.context.onEntityRemove.dispatch(this))
                            }, a.handleEvent = function (e, t) {
                                var n = this.context, r = this._components;
                                e ? n.onEntityEnable.dispatch(this, t) : n.onEntityDisable.dispatch(this);
                                for (var o = 0, i = r.length; o < i; ++o) {
                                    var a = r[o];
                                    a && a.enabled && a.handleEvent(e, t)
                                }
                                return this
                            }, a.forceAdd = function () {
                                return this.isEnabled && this.context.onEntityAdd.dispatch(this, !0), this
                            }, a.forceEnable = function () {
                                return this.isEnabled && this.handleEvent(!0, !0), this
                            }, a.addComponent = function (e, t) {
                                this.isDestroyed && this._destroyedError(!0);
                                var n = this.context, r = new Array(e), i = null;
                                this._refreshComponents();
                                for (var a = 0, s = r; a < s.length; a++) {
                                    var c = s[a], u = Reflect.getOwnMetadata(o.ecs, c);
                                    if (!u) throw 'The component has no decorator "@component()" added.';
                                    var l = u.requiredComponents, f = n.getRequiredComponents(c);
                                    if (l) for (var d = l.length - 1; d >= 0; --d) {
                                        var p = l[d];
                                        r.indexOf(p) >= 0 || r.push(p)
                                    }
                                    if (f) for (d = f.length - 1; d >= 0; --d) {
                                        var h = f[d];
                                        r.indexOf(h) >= 0 || r.push(h)
                                    }
                                }
                                for (d = r.length - 1; d >= 0; --d) i = this._addComponent(r[d], 0 !== d || t);
                                return i
                            }, a.removeComponent = function (e) {
                                if (this.isDestroyed) return r.defines.DEBUG && this._destroyedError(!1), !1;
                                var t, i = this._typedComponents, a = null, s = null;
                                if ("function" != typeof e) t = e.constructor, 0 == (2 & Reflect.getOwnMetadata(o.ecs, t).allowFlags) ? r.defines.DEBUG && console.error("The component is not allowed to be removed.") : (a = i[n.getClassID(t)]) && a.indexOf(e) >= 0 ? s = e : r.defines.DEBUG && console.error("The component to be removed does not belong to this entity."); else if (t = e, 0 == (2 & Reflect.getOwnMetadata(o.ecs, t).allowFlags)) r.defines.DEBUG && console.error("The component is not allowed to be removed."); else if (a = i[n.getClassID(t)]) {
                                    s = a[0];
                                    for (var c = a.length - 1; c > 0; --c) this._removeComponent(a[c])
                                }
                                return !(!s || !(a && a.length > 1) && this._isRequireComponent(t) || (this._removeComponent(s), 0))
                            }, a.getComponent = function (e) {
                                var t = n.getClassID(e);
                                if (i._reactiveRemoveEnabled) {
                                    var r = this._removedComponents[t];
                                    if (r) return r[0]
                                }
                                if (this.isDestroyed) return null;
                                var o = this._typedComponents[t];
                                return o ? o[0] : null
                            }, a.getComponents = function (e) {
                                var t = n.getClassID(e);
                                if (i._reactiveRemoveEnabled) {
                                    var r = this._removedComponents[t];
                                    if (r) return r
                                }
                                return this.isDestroyed ? i._emptyArray : this._typedComponents[t] || i._emptyArray
                            }, a.getOrAddComponent = function (e) {
                                return this.getComponent(e) || this.addComponent(e)
                            }, a.hasAllComponents = function (e, t) {
                                var r = this._typedComponents;
                                if (t) {
                                    if (!this.isEnabled) return !1
                                } else if (this.isDestroyed) return !1;
                                var o = e.length;
                                if (0 === o) return !0;
                                for (var i = 0; i < o; ++i) {
                                    var a = r[n.getClassID(e[i])];
                                    if (!a) return !1;
                                    if (t) if (a.length > 1) {
                                        for (var s = !0, c = 0, u = a.length; c < u; ++c) if (a[c].enabled) {
                                            s = !1;
                                            break
                                        }
                                        if (s) return !1
                                    } else if (!a[0].enabled) return !1
                                }
                                return !0
                            }, a.hasAnyComponents = function (e, t) {
                                var r = this._typedComponents;
                                if (t) {
                                    if (!this.isEnabled) return !1
                                } else if (this.isDestroyed) return !1;
                                var o = e.length;
                                if (0 === o) return !0;
                                for (var i = 0; i < o; ++i) {
                                    var a = r[n.getClassID(e[i])];
                                    if (a) {
                                        if (!t) return !0;
                                        if (a.length > 1) {
                                            for (var s = 0, c = a.length; s < c; ++s) if (a[s].enabled) return !0
                                        } else if (a[0].enabled) return !0
                                    }
                                }
                                return !1
                            }, a.hasNoneComponents = function (e, t) {
                                var r = this._typedComponents;
                                if (t) {
                                    if (!this.isEnabled) return !1
                                } else if (this.isDestroyed) return !1;
                                var o = e.length;
                                if (0 === o) return !0;
                                for (var i = 0; i < o; ++i) {
                                    var a = r[n.getClassID(e[i])];
                                    if (a) {
                                        if (!t) return !1;
                                        if (a.length > 1) {
                                            for (var s = 0, c = a.length; s < c; ++s) if (a[s].enabled) return !1
                                        } else if (a[0].enabled) return !1
                                    }
                                }
                                return !0
                            }, Object.defineProperty(a, "isDestroyed", {
                                get: function () {
                                    return 0 != (2 & this.states)
                                }, enumerable: !1, configurable: !0
                            }), Object.defineProperty(a, "isEnabled", {
                                get: function () {
                                    return this._enabled
                                }, enumerable: !1, configurable: !0
                            }), Object.defineProperty(a, "enabled", {
                                get: function () {
                                    return this._enabled
                                }, set: function (e) {
                                    if (!this.isDestroyed && this._enabled !== e) if (0 != (1 & this.states) || 0 != (1 & Reflect.getOwnMetadata(o.ecs, this.constructor).allowFlags)) {
                                        var t = this.isEnabled;
                                        this._enabled = e, t !== this.isEnabled && this.handleEvent(e, !1)
                                    } else r.defines.DEBUG && console.warn("The entity is not allowed to be disabled.")
                                }, enumerable: !1, configurable: !0
                            }), Object.defineProperty(a, "components", {
                                get: function () {
                                    return this.isDestroyed ? i._emptyArray : (this._refreshComponents(), this._components)
                                }, enumerable: !1, configurable: !0
                            }), t.__decorate([n.inject({token: "ecs/context"})], e.prototype, "context", void 0), t.__decorate([n.inject({token: "ecs/default-enabled"})], e.prototype, "_enabled", void 0), e
                        }();
                    reflect("@jimu/ecs/Entity")(a);
                    var s = function () {
                        function e() {
                            this.instanceId = n.Utils.generateInstanceId(), this.localId = "", this.states = 0, this.entity = null, this._enabled = !0
                        }

                        var i = e.prototype;
                        return i._onRemove = function () {
                        }, i.initialize = function () {
                            n.resolveInject(this), this.states = 0
                        }, i.uninitialize = function () {
                            delete this.entity._removedComponents[n.getClassID(this.constructor)], n.clearInject(this)
                        }, i.handleEvent = function (e, t) {
                            var n = this.entity;
                            return e ? n.context.onComponentEnable.dispatch(n, this, t) : n.context.onComponentDisable.dispatch(n, this), this
                        }, i.forceAdd = function () {
                            var e = this.entity;
                            return e.isEnabled && e.context.onComponentAdd.dispatch(e, this, !0), this
                        }, i.forceEnable = function () {
                            return this.entity.isEnabled && this.handleEvent(!0, !0), this
                        }, Object.defineProperty(i, "isDestroyed", {
                            get: function () {
                                return 0 != (2 & this.states)
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(i, "isEnabled", {
                            get: function () {
                                return this._enabled && this.entity.isEnabled
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(i, "enabled", {
                            get: function () {
                                return this._enabled
                            }, set: function (e) {
                                this.isDestroyed || this._enabled === e || (0 != (1 & this.states) || 0 != (1 & Reflect.getOwnMetadata(o.ecs, this.constructor).allowFlags) ? (this._enabled = e, this.entity.isEnabled && this.handleEvent(e, !1)) : r.defines.DEBUG && console.warn("The component is not allowed to be disabled."))
                            }, enumerable: !1, configurable: !0
                        }), t.__decorate([n.inject({token: "ecs/entity"})], e.prototype, "entity", void 0), t.__decorate([n.inject({token: "ecs/default-enabled"})], e.prototype, "_enabled", void 0), e
                    }();
                    reflect("@jimu/ecs/Component")(s);
                    var c = function () {
                        function e() {
                            this.instanceId = n.Utils.generateInstanceId(), this.buffers = [new n.Instances, new n.Instances, new n.Instances, new n.Instances, new n.Instances, new n.Instances, new n.Instances, new n.Instances], this.group = null, this.onEntityAdd = null, this.onEntityRemove = null, this.onComponentAdd = null, this.onComponentRemove = null, this._enabled = !0, this._system = null
                        }

                        var r = e.prototype;
                        return r._onEntityAdd = function (e) {
                            var t = this.buffers, n = t[0], r = t[1];
                            r.contains(e) ? r.remove(e) : n.add(e)
                        }, r._onEntityRemove = function (e) {
                            var t = this.buffers, n = t[0], r = t[1];
                            n.contains(e) ? n.remove(e) : r.add(e)
                        }, r._onComponentAdd = function (e) {
                            var t = this.buffers, n = t[2], r = t[3];
                            r.contains(e) ? r.remove(e) : n.add(e)
                        }, r._onComponentRemove = function (e) {
                            var t = this.buffers, n = t[2], r = t[3];
                            n.contains(e) ? n.remove(e) : r.add(e)
                        }, r.initialize = function () {
                            n.resolveInject(this), this._enabled = !0
                        }, r.uninitialize = function () {
                            this.clear(), this.swap(), this.clear(), n.clearInject(this), this.onEntityAdd = null, this.onEntityRemove = null, this.onComponentAdd = null, this.onComponentRemove = null, this._enabled = !1
                        }, r.swap = function () {
                            var e = this.buffers, t = e[0], n = e[1], r = e[2], o = e[3], i = e[4], a = e[5], s = e[6],
                                c = e[7];
                            e[0] = i, e[1] = a, e[2] = s, e[3] = c, e[4] = t, e[5] = n, e[6] = r, e[7] = o
                        }, r.clear = function () {
                            var e = this.buffers, t = e[0], n = e[1], r = e[2], o = e[3];
                            t.clear(), n.clear(), r.clear(), o.clear()
                        }, r.handleEvent = function (e) {
                            var t = this.group, n = this._enabled, r = this._system;
                            e && n && r.enabled ? (t.onEntityAdd.add(this._onEntityAdd, this), t.onEntityRemove.add(this._onEntityRemove, this), t.onComponentAdd.add(this._onComponentAdd, this), t.onComponentRemove.add(this._onComponentRemove, this)) : (t.onEntityAdd.remove(this._onEntityAdd, this), t.onEntityRemove.remove(this._onEntityRemove, this), t.onComponentAdd.remove(this._onComponentAdd, this), t.onComponentRemove.remove(this._onComponentRemove, this))
                        }, Object.defineProperty(r, "enabled", {
                            get: function () {
                                return this._enabled
                            }, set: function (e) {
                                this._enabled !== e && (this._enabled = e, this.handleEvent(e))
                            }, enumerable: !1, configurable: !0
                        }), r.entityAdd = function (e) {
                            return this.onEntityAdd = e, this
                        }, r.entityRemove = function (e) {
                            return this.onEntityRemove = e, this
                        }, t.__decorate([n.inject({token: "ecs/group"})], e.prototype, "group", void 0), t.__decorate([n.inject({token: "ecs/system"})], e.prototype, "_system", void 0), t.__decorate([n.pool()], e)
                    }();
                    reflect("@jimu/ecs/_Collector")(c);
                    var u = function (e) {
                        function r() {
                            var t = null !== e && e.apply(this, arguments) || this;
                            return t.timeScaleEnabled = !1, t.totalCost = 0, t.collectors = [], t.groups = [], t.onAwakeb = !1, t.onEnableb = !1, t.onTickb = !1, t.onFrameb = !1, t.onCleanupb = !1, t.onDisableb = !1, t.onDestroyb = !1, t.onEntityRemovedb = !1, t.onEntityAddedb = !1, t
                        }

                        t.__extends(r, e);
                        var o = r.prototype;
                        return o.onAwake = null, o.onEnable = null, o.onTick = null, o.onFrame = null, o.onCleanup = null, o.onDisable = null, o.onDestroy = null, o.onEntityRemoved = null, o.onEntityAdded = null, o.getMatcher = function (e, n) {
                            for (var r, o = [], i = 2; i < arguments.length; i++) o[i - 2] = arguments[i];
                            return (r = this.application.getContext(e)).getMatcher.apply(r, t.__spreadArray([n], o, !1))
                        }, o.getCollector = function (e, t) {
                            var r = e.context.getGroup(e), o = n.getPool(c).borrow();
                            return n.setInstance("ecs/system", this), n.setInstance("ecs/group", r), o.initialize(), Object.assign(o, t), o
                        }, o.getCollectors = function () {
                            return null
                        }, o.initialize = function () {
                            e.prototype.initialize.call(this);
                            var t = this.collectors, n = this.groups, r = this.getCollectors() || this.getMatchers();
                            if (r) for (var o = 0, i = r; o < i.length; o++) {
                                var a = i[o];
                                a.constructor !== c && (a = this.getCollector(a)), t.push(a), n.push(a.group)
                            }
                        }, o.uninitialize = function () {
                            for (var t = n.getPool(c), r = 0, o = this.collectors; r < o.length; r++) {
                                var i = o[r];
                                t.return(i)
                            }
                            e.prototype.uninitialize.call(this), this.totalCost = 0, this.collectors.length = 0, this.groups.length = 0
                        }, Object.defineProperty(o, "application", {
                            get: function () {
                                return this.entity.context.application
                            }, enumerable: !1, configurable: !0
                        }), o.getMatchers = function () {
                            return null
                        }, r
                    }(s);
                    reflect("@jimu/ecs/System")(u);
                    var l = r.contexts;

                    function f(e) {
                        return void 0 === e && (e = {}), function (t) {
                            var r, i, a = Reflect.getMetadata(o.ecs, t);
                            if (e.requiredComponents) for (var s = 0, c = 0, u = e.requiredComponents; c < u.length; c++) {
                                for (var f = u[c]; ;) {
                                    var d = e.requiredComponents.lastIndexOf(f);
                                    if (d === s) break;
                                    e.requiredComponents.splice(d, 1)
                                }
                                s++
                            }
                            a ? (a.requiredComponents && (e.requiredComponents = e.requiredComponents ? (r = a.requiredComponents).concat.apply(r, e.requiredComponents) : a.requiredComponents), (e = Object.assign(Object.create(null), a, e)).allowFlags |= a.allowFlags) : e = Object.assign(Object.create(null), {
                                allowFlags: 1,
                                requiredComponents: null
                            }, e), Reflect.defineMetadata(o.ecs, e, t), 0 !== (null !== (i = e.maxIdleCount) && void 0 !== i ? i : 0) && (n.getPool(t, !0).maxIdleCount = e.maxIdleCount), l.entities.indexOf(t) < 0 && l.entities.push(t)
                        }
                    }

                    function d(e) {
                        return void 0 === e && (e = {}), function (t) {
                            var r, i, a = Reflect.getMetadata(o.ecs, t);
                            if (e.requiredComponents) for (var s = 0, c = 0, u = e.requiredComponents; c < u.length; c++) {
                                for (var f = u[c]; ;) {
                                    var d = e.requiredComponents.lastIndexOf(f);
                                    if (d === s) break;
                                    e.requiredComponents.splice(d, 1)
                                }
                                s++
                            }
                            if (a ? (a.requiredComponents && (e.requiredComponents = e.requiredComponents ? (r = a.requiredComponents).concat.apply(r, e.requiredComponents) : a.requiredComponents), (e = Object.assign(Object.create(null), a, e)).allowFlags |= a.allowFlags) : e = Object.assign(Object.create(null), {
                                allowFlags: 3,
                                requiredComponents: null
                            }, e), 0 != (8192 & e.allowFlags) && (e.allowFlags &= -8201), Reflect.defineMetadata(o.ecs, e, t), 0 !== (null !== (i = e.maxIdleCount) && void 0 !== i ? i : 0) && (n.getPool(t, !0).maxIdleCount = e.maxIdleCount), l.components.indexOf(t) < 0) {
                                l.components.push(t);
                                var p = t;
                                do {
                                    var h = l.typedComponents.get(p);
                                    h || (h = [], l.typedComponents.set(p, h)), h.indexOf(t) < 0 && h.push(t), p = Object.getPrototypeOf(p), e = Reflect.getOwnMetadata(o.ecs, p)
                                } while (e)
                            }
                        }
                    }

                    void 0 === l.entities && (l.entities = [], l.components = [], l.systems = [], l.applications = [], l.typedComponents = new Map);
                    var p = function (e) {
                        function r() {
                            return null !== e && e.apply(this, arguments) || this
                        }

                        return t.__extends(r, e), r.prototype.getVisualID = function () {
                            if (this.isDestroyed) return e.prototype.getVisualID.call(this);
                            var t = this.getComponent(u);
                            return t ? n.getClassName(t.constructor, 2) : e.prototype.getVisualID.call(this)
                        }, t.__decorate([f()], r)
                    }(a);
                    reflect("@jimu/ecs/SystemEntity")(p);
                    var h = function (e) {
                        function n() {
                            var t = null !== e && e.apply(this, arguments) || this;
                            return t.tickCompensateSpeed = 3, t.tickInterval = 1 / 60, t.frameInterval = 1 / 60, t.timeScale = 1, t.tickCount = 0, t.frameCount = 0, t.deltaTickCount = 0, t.deltaFrameCount = 0, t.unscaledTickTime = 0, t.unscaledFrameTime = 0, t.unscaledTickDeltaTime = 0, t.unscaledFrameDeltaTime = 0, t.totalCost = 0, t.tickCost = 0, t.frameCost = 0, t._needReset = 0, t._beginTime = -1, t._now = 0, t._timeScale = 1, t._unusedTickDeltaTime = 0, t._unusedFrameDeltaTime = 0, t
                        }

                        t.__extends(n, e);
                        var r = n.prototype;
                        return r._getNow = function () {
                            return Date.now ? .001 * Date.now() : .001 * (new Date).getTime()
                        }, r.clear = function () {
                            this._needReset = 2
                        }, r.update = function (e) {
                            e *= .001, this.tickInterval > 0 || (this.tickInterval = 1 / 60), this.deltaFrameCount > 0 && (this.unscaledFrameDeltaTime = 0), this._beginTime < 0 && (this._beginTime = e, this._unusedTickDeltaTime = this.tickInterval, this._unusedFrameDeltaTime = this.frameInterval, this._now = this._getNow());
                            var t = this.unscaledFrameTime, n = e - this._beginTime, r = n - t,
                                o = this.tickCompensateSpeed, i = this.tickInterval, a = this.frameInterval;
                            if (this.deltaTickCount = 0, this.deltaFrameCount = 0, this.unscaledFrameTime = n, this._timeScale = this.timeScale, this._timeScale < .001 && (this._timeScale = .001), 2 === this._needReset) return this.unscaledTickDeltaTime = i, this.unscaledFrameDeltaTime = a, this._needReset = 1, this._unusedTickDeltaTime = 0, this._unusedFrameDeltaTime = 0, this;
                            if (this._needReset = 0, this._unusedTickDeltaTime += r, this._unusedTickDeltaTime >= i) {
                                for (; this._unusedTickDeltaTime >= i && this.deltaTickCount < o;) this._unusedTickDeltaTime -= i, this.deltaTickCount++;
                                this.unscaledTickDeltaTime = i
                            }
                            if (a > 0) {
                                if (this._unusedFrameDeltaTime += r, this._unusedFrameDeltaTime >= a) {
                                    var s = this._unusedFrameDeltaTime;
                                    this._unusedFrameDeltaTime %= a, this.frameCount++, this.deltaFrameCount++, this.unscaledFrameDeltaTime = s - this._unusedFrameDeltaTime
                                }
                            } else this.frameCount++, this.deltaFrameCount++, this.unscaledFrameDeltaTime = r;
                            return this
                        }, r.timestamp = function () {
                            return this._getNow() - this._now
                        }, Object.defineProperty(r, "tickTime", {
                            get: function () {
                                return this.unscaledTickTime * this._timeScale
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(r, "frameTime", {
                            get: function () {
                                return this.unscaledFrameTime * this._timeScale
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(r, "tickDeltaTime", {
                            get: function () {
                                return this.unscaledTickDeltaTime * this._timeScale
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(r, "frameDeltaTime", {
                            get: function () {
                                return this.unscaledFrameDeltaTime * this._timeScale
                            }, enumerable: !1, configurable: !0
                        }), t.__decorate([d({allowFlags: 0})], n)
                    }(s);
                    reflect("@jimu/ecs/TimeManager")(h);
                    var g = function (e) {
                        function r() {
                            var t = null !== e && e.apply(this, arguments) || this;
                            return t._signals = n.createRecord(), t
                        }

                        t.__extends(r, e);
                        var o = r.prototype;
                        return o.uninitialize = function () {
                            e.prototype.uninitialize.call(this);
                            var t = n.getPool(n.Signal), r = this._signals;
                            for (var o in r) {
                                var i = r[o];
                                i.clear(), t.return(i)
                            }
                            n.clearRecord(r)
                        }, o.getSignal = function (e, t) {
                            var r = this._signals;
                            return r[e] || (t ? r[e] = n.Signal.create() : null)
                        }, o.removeSignal = function (e) {
                            var t = this._signals, r = t[e];
                            return !!r && (r.clear(), n.getPool(n.Signal).return(r), delete t[e], !0)
                        }, t.__decorate([d({allowFlags: 0})], r)
                    }(s);
                    reflect("@jimu/ecs/SignalManager")(g);
                    var m = function (e) {
                        function a() {
                            var t = null !== e && e.apply(this, arguments) || this;
                            return t.staticSystemCount = 0, t._isSetup = !1, t._systems = [], t._reactiveSystems = [], t._cleanupSystems = [], t._addedSystems = [], t._removedSystems = [], t._systemMappings = n.createRecord(), t._reactiveIndices = n.createRecord(), t
                        }

                        t.__extends(a, e);
                        var s = a.prototype;
                        return s._getSystemIndex = function (e, t) {
                            var n = e.length, r = n;
                            if (n > 0) {
                                if (t < Reflect.getOwnMetadata(o.ecs, e[0].constructor).executeOrder) return 0;
                                if (t >= Reflect.getOwnMetadata(o.ecs, e[n - 1].constructor).executeOrder) return n
                            }
                            for (var i = 0; i < n - 1; ++i) if (Reflect.getOwnMetadata(o.ecs, e[i].constructor).executeOrder <= t && t < Reflect.getOwnMetadata(o.ecs, e[i + 1].constructor).executeOrder) {
                                r = i + 1;
                                break
                            }
                            return r
                        }, s._getSystem = function (e) {
                            return this._systemMappings[n.getClassID(e)] || null
                        }, s._registerStaticSystems = function () {
                            var e = r.contexts.systems, t = this.staticSystemCount, i = this._systemMappings;
                            if (!(t < 0 || t === e.length)) {
                                this.staticSystemCount = e.length;
                                for (var a = 0, s = e; a < s.length; a++) {
                                    var c = s[a];
                                    n.getClassID(c) in i || !Reflect.getOwnMetadata(o.ecs, c).automaticStart || this.registerSystem(c)
                                }
                            }
                        }, s._registerSystem = function (e, t) {
                            var n = this, r = n._systems, o = n._reactiveSystems, i = n._cleanupSystems,
                                a = n._reactiveIndices, s = n._getSystemIndex, c = e.collectors.length > 0;
                            e.onAwakeb = !!e.onAwake, e.onEnableb = !!e.onEnable, e.onTickb = !!e.onTick, e.onFrameb = !!e.onFrame, e.onCleanupb = !!e.onCleanup, e.onDisableb = !!e.onDisable, e.onDestroyb = !!e.onDestroy, e.onEntityRemovedb = !!e.onEntityRemoved, e.onEntityAddedb = !!e.onEntityAdded, r.splice(s(r, t), 0, e), (c || e.onTickb || e.onFrameb) && o.splice(s(o, t), 0, e), e.onCleanupb && i.splice(s(i, t), 0, e), c && (a[e.instanceId] = !0), e.onAwakeb && e.onAwake(), e.states |= 1024
                        }, s._unregisterSystem = function (e) {
                            var t = this._systems, n = this._reactiveSystems, r = this._cleanupSystems,
                                o = this._reactiveIndices, i = e.collectors.length > 0;
                            0 != (1024 & e.states) && e.onDestroyb && e.onDestroy(), t.splice(t.indexOf(e), 1), (i || e.onTickb || e.onFrameb) && n.splice(n.indexOf(e), 1), e.onCleanupb && r.splice(r.indexOf(e), 1), i && delete o[e.instanceId], e.entity.destroy()
                        }, s._reactive = function (e, t, n) {
                            for (var r = 0, o = e.collectors, a = o.length; r < a; r++) {
                                var s = o[r], c = s.buffers, u = c[0], l = c[1], f = c[2], d = c[3];
                                if (s.swap(), n) {
                                    i._reactiveRemoveEnabled = !0;
                                    var p = s.onEntityRemove, h = s.onComponentRemove;
                                    if (null !== h) for (var g = 0, m = d.instances, _ = m.length; g < _; g++) {
                                        var v = m[g];
                                        h.call(e, v, s)
                                    }
                                    if (null !== p || e.onEntityRemovedb) for (var E = 0, y = l.instances, S = y.length; E < S; E++) v = y[E], null !== p ? p.call(e, v, s) : e.onEntityRemoved(v, s.group);
                                    i._reactiveRemoveEnabled = !1
                                }
                                if (t) {
                                    var C = s.onEntityAdd, A = s.onComponentAdd;
                                    if (null !== C || e.onEntityAddedb) for (var T = 0, b = u.instances, I = b.length; T < I; T++) v = b[T], null !== C ? C.call(e, v, s) : e.onEntityAdded(v, s.group);
                                    if (null !== A) for (var w = 0, O = f.instances, R = O.length; w < R; w++) v = O[w], A.call(e, v, s)
                                }
                                s.clear()
                            }
                        }, s.uninitialize = function () {
                            e.prototype.uninitialize.call(this), this.staticSystemCount = 0, this._isSetup = !1, this._systems.length = 0, this._reactiveSystems.length = 0, this._cleanupSystems.length = 0, this._addedSystems.length = 0, this._removedSystems.length = 0, n.clearRecord(this._systemMappings), n.clearRecord(this._reactiveIndices)
                        }, s.startup = function () {
                            var e = this.entity, t = this._systems, r = this._addedSystems,
                                i = e.context.application.executeMode;
                            if (this._registerStaticSystems(), this._isSetup = !0, r.length > 0) {
                                for (var a = 0, s = 0, c = r; s < c.length; s++) {
                                    var u = c[s];
                                    if (u) {
                                        if ("function" == typeof u) r[a] = null, this.registerSystem(u); else {
                                            var l = Reflect.getOwnMetadata(o.ecs, u.constructor).executeOrder;
                                            r[a] = null, this._registerSystem(u, l)
                                        }
                                        a++
                                    }
                                }
                                n.filterArray(r, null)
                            }
                            this._isSetup = !1;
                            for (var f = 0, d = t; f < d.length; f++) {
                                var p = d[f], h = Reflect.getOwnMetadata(o.ecs, p.constructor), g = h.allOfExecuteMode,
                                    m = h.anyOfExecuteMode, _ = h.noneOfExecuteMode;
                                p.entity.enabled = !(0 !== g && (g & i) !== g || 0 !== m && 0 == (m & i) || 0 !== _ && 0 != (_ & i));
                                var v = p._enabled;
                                if (v && 0 != (2048 & p.states) !== v) {
                                    p.onEnableb && p.onEnable();
                                    for (var E = 0, y = p.collectors; E < y.length; E++) {
                                        var S = y[E], C = S.onEntityAdd, A = S.onComponentAdd, T = S.buffers,
                                            b = S.group, I = T[0], w = T[2], O = b.matcher, R = O.hasExtra, M = O.mode,
                                            L = R && 0 != (2 & M), N = C || p.onEntityAddedb;
                                        S.handleEvent(!0);
                                        for (var D = 0, P = b.entities; D < P.length; D++) {
                                            var B = P[D];
                                            if (N && !I.contains(B) && I.add(B), A && R) for (var x = 0, G = B.components; x < G.length; x++) {
                                                var U = G[x];
                                                L && !U.enabled || !b.matcher.isExtra(U.constructor) || w.contains(U) || w.add(U)
                                            }
                                        }
                                    }
                                }
                            }
                        }, s.execute = function (e, t) {
                            for (var n = this.entity, r = this._reactiveIndices, o = this._reactiveSystems, i = n.context.application.timeManager, a = i.unscaledTickDeltaTime, s = i.tickDeltaTime, c = i.unscaledFrameDeltaTime, u = i.frameDeltaTime, l = 0; l < e; ++l) {
                                i.tickCount++, i.unscaledTickTime += a;
                                for (var f = 0, d = o.length; f < d; f++) (g = o[f])._enabled && g.onTickb && (r[g.instanceId] && this._reactive(g, !0, !0, !0), g.onTick(g.timeScaleEnabled ? s : a))
                            }
                            if (t > 0) for (var p = 0, h = o.length; p < h; p++) {
                                var g;
                                (g = o[p])._enabled && (g.onTickb && !g.onFrameb || (r[g.instanceId] && this._reactive(g, !0, !0, !1), g.onFrameb && g.onFrame(g.timeScaleEnabled ? u : c)))
                            }
                        }, s.cleanup = function (e) {
                            var t = this.entity, n = this._cleanupSystems, r = t.context.application.timeManager,
                                o = r.unscaledFrameDeltaTime, i = r.frameDeltaTime;
                            if (e > 0) for (var a = n.length - 1; a >= 0; --a) {
                                var s = n[a];
                                s._enabled && s.onCleanup(s.timeScaleEnabled ? i : o)
                            }
                        }, s.teardown = function () {
                            var e = this.entity, t = this._reactiveIndices, n = this._systems, r = this._removedSystems,
                                o = e.context.application;
                            o.contexts, o.timeManager;
                            for (var i = 0, a = n; i < a.length; i++) {
                                var s = (N = a[i])._enabled;
                                if (0 != (2048 & N.states) !== s) if (s) N.states |= 2048; else {
                                    N.states &= -2049;
                                    for (var c = 0, u = N.collectors; c < u.length; c++) for (var l = (R = u[c]).onEntityRemove, f = R.onComponentRemove, d = R.buffers, p = R.group, h = d[1], g = d[3], m = p.matcher, _ = m.hasExtra, v = m.mode, E = _ && 0 != (2 & v), y = l || N.onEntityRemovedb, S = 0, C = p.entities; S < C.length; S++) {
                                        var A = C[S];
                                        if (y && !h.contains(A) && h.add(A), f && _) for (var T = 0, b = A.components; T < b.length; T++) {
                                            var I = b[T];
                                            E && !I.enabled || !p.matcher.isExtra(I.constructor) || g.contains(I) || g.add(I)
                                        }
                                    }
                                    t[N.instanceId] && this._reactive(N, !1, !0, !1);
                                    for (var w = 0, O = N.collectors; w < O.length; w++) {
                                        var R;
                                        (R = O[w]).handleEvent(!1), R.swap(), R.clear()
                                    }
                                    N.onDisableb && N.onDisable()
                                }
                            }
                            if (r.length > 0) {
                                for (var M = 0, L = r; M < L.length; M++) {
                                    var N = L[M];
                                    this._unregisterSystem(N)
                                }
                                r.length = 0
                            }
                        }, s.registerSystem = function (e, t) {
                            var i = this.entity, a = this._addedSystems, s = this._systemMappings,
                                c = i.context.application, u = this._getSystem(e);
                            return u ? (r.defines.DEBUG && console.warn("The system has been registered.", n.getClassName(e)), !1) : (u = c.getContext(p).createEntity().addComponent(e), s[n.getClassID(e)] = u, this._isSetup ? (void 0 === t && (t = Reflect.getOwnMetadata(o.ecs, e).executeOrder), this._registerSystem(u, t)) : a.push(u), !0)
                        }, s.unregisterSystem = function (e) {
                            "function" != typeof e && (e = e.constructor);
                            var t = this._getSystem(e);
                            if (!t) return r.defines.DEBUG && console.warn("The system is not registered.", n.getClassName(e)), !1;
                            var o = this._addedSystems, i = this._removedSystems, a = this._systemMappings,
                                s = o.indexOf(t);
                            return a[n.getClassID(e)] = null, s >= 0 ? o[s] = null : (t.enabled = !1, i.push(t)), !0
                        }, s.unregisterAllSystems = function () {
                            for (var e = this._systems, t = this._addedSystems, n = 0, r = e; n < r.length; n++) {
                                var o = r[n];
                                this.unregisterSystem(o)
                            }
                            t.length = 0
                        }, s.getSystem = function (e) {
                            return this._systemMappings[n.getClassID(e)] || null
                        }, t.__decorate([d({allowFlags: 0})], a)
                    }(s);
                    reflect("@jimu/ecs/SystemManager")(m);
                    var _ = function () {
                        function e() {
                            this.instanceId = n.Utils.generateInstanceId(), this.mode = 1, this.context = null, this._id = "", this._components = [], this._buffers = [[], [], [], []]
                        }

                        var o, i = e.prototype;
                        return o = e, e._sortComponents = function (e, t) {
                            return n.getClassID(e) - n.getClassID(t)
                        }, i._distinct = function (e, t) {
                            if (0 === e.length) return !1;
                            for (var n = 0, r = 0, i = e; r < i.length; r++) {
                                var a = i[r];
                                t.indexOf(a) >= 0 || (t[n++] = a)
                            }
                            return t.length !== n && (t.length = n), t.sort(o._sortComponents), !0
                        }, i._updateIndices = function (e, t) {
                            if (0 === e.length) return !1;
                            for (var r = 0, o = 0, i = e; o < i.length; o++) {
                                var a = i[o], s = n.getClassID(a).toString(16);
                                t[r++] = s
                            }
                            return t.length !== r && (t.length = r), !0
                        }, i._merge = function () {
                            var e, n = this._buffers, r = n[0], o = n[1], i = n[2], a = n[3];
                            (e = this._components).push.apply(e, t.__spreadArray(t.__spreadArray(t.__spreadArray(t.__spreadArray([], r, !1), o, !1), i, !1), a, !1))
                        }, i.initialize = function () {
                            n.resolveInject(this)
                        }, i.uninitialize = function () {
                            var e = this._buffers, t = e[0], r = e[1], o = e[2], i = e[3];
                            n.clearInject(this), this._id = "", this._components.length = 0, t.length = 0, r.length = 0, o.length = 0, i.length = 0
                        }, i.allOf = function () {
                            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                            return this._id.length > 0 ? (r.defines.DEBUG && console.warn("The matcher has been locked."), this) : (this._distinct(e, this._buffers[0]), this)
                        }, i.anyOf = function () {
                            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                            return this._id.length > 0 ? (r.defines.DEBUG && console.warn("The matcher has been locked."), this) : (this._distinct(e, this._buffers[1]), this)
                        }, i.noneOf = function () {
                            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                            return this._id.length > 0 ? (r.defines.DEBUG && console.warn("The matcher has been locked."), this) : (this._distinct(e, this._buffers[2]), this)
                        }, i.extraOf = function () {
                            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                            return this._id.length > 0 ? (r.defines.DEBUG && console.warn("The matcher has been locked."), this) : (this._distinct(e, this._buffers[3]), this)
                        }, i.isExtra = function (e) {
                            return this._buffers[3].indexOf(e) >= 0
                        }, i.matches = function (e) {
                            var t = this._buffers, n = t[0], r = t[1], o = t[2], i = 0 != (2 & this.mode);
                            return e.hasAllComponents(n, i) && e.hasAnyComponents(r, i) && e.hasNoneComponents(o, i)
                        }, Object.defineProperty(i, "hasExtra", {
                            get: function () {
                                return this._buffers[3].length > 0
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(i, "id", {
                            get: function () {
                                var e = this._id;
                                if (0 === e.length) {
                                    var t = this._buffers, n = t[0], r = t[1], o = t[2], i = t[3], a = new Array;
                                    e = "0b" + this.mode.toString(2), this._updateIndices(n, a) && (e += " " + a.join("&")), this._updateIndices(r, a) && (e += " " + a.join("|")), this._updateIndices(o, a) && (e += " " + a.join("-")), this._updateIndices(i, a) && (e += " " + a.join(",")), this._id = e
                                }
                                return e
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(i, "components", {
                            get: function () {
                                var e = this._components;
                                return 0 === e.length && this._merge(), e
                            }, enumerable: !1, configurable: !0
                        }), t.__decorate([n.inject({token: "ecs/matcher"})], e.prototype, "mode", void 0), t.__decorate([n.inject({token: "ecs/context"})], e.prototype, "context", void 0), o = t.__decorate([n.pool()], e)
                    }();
                    reflect("@jimu/ecs/_Matcher")(_);
                    var v = function () {
                        function e() {
                            this.onEntityAdd = n.Signal.create(), this.onEntityRemove = n.Signal.create(), this.onComponentAdd = n.Signal.create(), this.onComponentRemove = n.Signal.create(), this.instanceId = n.Utils.generateInstanceId(), this.matcher = null, this._entities = new n.Instances, this._singleEntity = null
                        }

                        var r = e.prototype;
                        return r.initialize = function (e) {
                            n.resolveInject(this);
                            for (var t = this.matcher, r = this._entities, o = 0, i = e; o < i.length; o++) {
                                var a = i[o];
                                t.matches(a) && (r.add(a), this._singleEntity = a)
                            }
                        }, r.uninitialize = function () {
                            this.onEntityAdd.clear(), this.onEntityRemove.clear(), this.onComponentAdd.clear(), this.onComponentRemove.clear(), n.clearInject(this), this._entities.clear(), this._singleEntity = null
                        }, r.handleEvent = function (e, t, n, r) {
                            var o = this.matcher, i = this._entities, a = o.hasExtra,
                                s = a && t && o.isExtra(t.constructor), c = o.matches(e), u = i.contains(e);
                            if (c && u && r && this.onEntityAdd.dispatch(e), c && !u) {
                                if (u = !0, i.add(e), this._singleEntity = e, this.onEntityAdd.dispatch(e), a && !s) for (var l = 0 != (2 & o.mode), f = 0, d = e.components; f < d.length; f++) {
                                    var p = d[f];
                                    l && !p.enabled || !o.isExtra(p.constructor) || this.onComponentAdd.dispatch(p)
                                }
                            } else if (!c && u) {
                                if (a && !s) {
                                    l = 0 != (2 & o.mode);
                                    for (var h = 0, g = e.components; h < g.length; h++) p = g[h], l && !p.enabled || !o.isExtra(p.constructor) || this.onComponentRemove.dispatch(p)
                                }
                                u = !1, i.remove(e), this._singleEntity = null, this.onEntityRemove.dispatch(e)
                            }
                            s && u && (n ? this.onComponentAdd.dispatch(t) : this.onComponentRemove.dispatch(t))
                        }, Object.defineProperty(r, "version", {
                            get: function () {
                                return this._entities.version
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(r, "entityCount", {
                            get: function () {
                                return this._entities.count
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(r, "entities", {
                            get: function () {
                                return this._entities.instances
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(r, "singleEntity", {
                            get: function () {
                                if (this._entities.count > 1) throw new n.NeverError;
                                return this._singleEntity
                            }, enumerable: !1, configurable: !0
                        }), t.__decorate([n.inject({token: "ecs/matcher"})], e.prototype, "matcher", void 0), t.__decorate([n.pool()], e)
                    }();
                    reflect("@jimu/ecs/_Group")(v);
                    var E = function () {
                        function e() {
                            this.onEntityAdd = n.Signal.create(), this.onEntityRemove = n.Signal.create(), this.onEntityEnable = n.Signal.create(), this.onEntityDisable = n.Signal.create(), this.onComponentAdd = n.Signal.create(), this.onComponentRemove = n.Signal.create(), this.onComponentEnable = n.Signal.create(), this.onComponentDisable = n.Signal.create(), this.instanceId = n.Utils.generateInstanceId(), this.entityClass = null, this.application = null, this._entities = new n.Instances, this._groups = n.createRecord(), this._emptyGroups = [], this._addedGroups = n.createRecord(), this._enabledGroups = n.createRecord()
                        }

                        var r = e.prototype;
                        return r._onEntityAdd = function (e, t) {
                            var n = this._emptyGroups;
                            this._entities.add(e);
                            for (var r = 0, o = n.length; r < o; ++r) {
                                var i = n[r];
                                0 == (2 & i.matcher.mode) && i.handleEvent(e, null, !0, t)
                            }
                        }, r._onEntityRemove = function (e) {
                            for (var t = this._emptyGroups, n = 0, r = t.length; n < r; ++n) {
                                var o = t[n];
                                0 == (2 & o.matcher.mode) && o.handleEvent(e, null, !1, !1)
                            }
                            this._entities.remove(e) && this.application.destroyedInstances[2].push(e)
                        }, r._onEntityEnable = function (e, t) {
                            for (var n = this._emptyGroups, r = 0, o = n.length; r < o; ++r) {
                                var i = n[r];
                                0 != (2 & i.matcher.mode) && i.handleEvent(e, null, !0, t)
                            }
                        }, r._onEntityDisable = function (e) {
                            for (var t = this._emptyGroups, n = 0, r = t.length; n < r; ++n) {
                                var o = t[n];
                                0 != (2 & o.matcher.mode) && o.handleEvent(e, null, !1, !1)
                            }
                        }, r._onComponentAdd = function (e, t, r) {
                            var o = this._addedGroups[n.getClassID(t.constructor)];
                            if (o) for (var i = 0, a = o.length; i < a; ++i) o[i].handleEvent(e, t, !0, r)
                        }, r._onComponentEnable = function (e, t, r) {
                            var o = this._enabledGroups[n.getClassID(t.constructor)];
                            if (o) for (var i = 0, a = o.length; i < a; ++i) o[i].handleEvent(e, t, !0, r)
                        }, r._onComponentDisable = function (e, t) {
                            var r = this._enabledGroups[n.getClassID(t.constructor)];
                            if (r) for (var o = 0, i = r.length; o < i; ++o) r[o].handleEvent(e, t, !1, !1)
                        }, r._onComponentRemove = function (e, t) {
                            var r = this._addedGroups[n.getClassID(t.constructor)];
                            if (r) for (var o = 0, i = r.length; o < i; ++o) r[o].handleEvent(e, t, !1, !1)
                        }, r.initialize = function () {
                            n.resolveInject(this), this.onEntityAdd.add(this._onEntityAdd, this), this.onEntityRemove.add(this._onEntityRemove, this), this.onEntityEnable.add(this._onEntityEnable, this), this.onEntityDisable.add(this._onEntityDisable, this), this.onComponentAdd.add(this._onComponentAdd, this), this.onComponentRemove.add(this._onComponentRemove, this), this.onComponentEnable.add(this._onComponentEnable, this), this.onComponentDisable.add(this._onComponentDisable, this), this.application.onContextAdd.dispatch(this)
                        }, r.uninitialize = function () {
                            this.application.onContextRemove.dispatch(this), n.clearInject(this), this._entities.clear(), n.clearRecord(this._groups), n.clearRecord(this._enabledGroups), n.clearRecord(this._addedGroups)
                        }, r.destroy = function () {
                            this.onEntityAdd.clear(), this.onEntityRemove.clear(), this.onEntityEnable.clear(), this.onEntityDisable.clear(), this.onComponentAdd.clear(), this.onComponentRemove.clear(), this.onComponentEnable.clear(), this.onComponentDisable.clear();
                            var e = n.getPool(v);
                            for (var t in this._groups) e.return(this._groups[t]);
                            for (var r = 0, o = this._entities.instances; r < o.length; r++) o[r].destroy();
                            this.application.destroyedInstances[4].push(this)
                        }, r.getMatcher = function (e) {
                            for (var t = [], r = 1; r < arguments.length; r++) t[r - 1] = arguments[r];
                            var o = n.getPool(_).borrow();
                            return n.setInstance("ecs/context", this), n.setInstance("ecs/matcher", e ? 2 : 1), o.initialize(), o.allOf.apply(o, t)
                        }, r.getGroup = function (e) {
                            if (e.context !== this) throw new n.NeverError;
                            var t = this._groups, r = e.id, o = t[r];
                            if (o) ; else {
                                var i = e.components;
                                if (t[r] = o = n.getPool(v).borrow(), n.setInstance("ecs/matcher", e), o.initialize(this.entities), i.length > 0) for (var a = 0 != (2 & e.mode) ? this._enabledGroups : this._addedGroups, s = 0, c = e.components; s < c.length; s++) {
                                    var u = c[s], l = n.getClassID(u), f = a[l];
                                    f || (a[l] = f = new Array), f.push(o)
                                } else this._emptyGroups.push(o)
                            }
                            return o
                        }, r.addRequiredComponents = function (e) {
                            for (var t = [], r = 1; r < arguments.length; r++) t[r - 1] = arguments[r];
                            var o = n.getInstance(e);
                            o || (o = new Array);
                            for (var i = 0, a = t; i < a.length; i++) {
                                var s = a[i];
                                o.indexOf(s) >= 0 || o.push(s)
                            }
                            n.setInstance(e, o)
                        }, r.getRequiredComponents = function (e) {
                            return n.getInstance(e) || null
                        }, r.createEntity = function (e) {
                            var t = this.entityClass;
                            this._entities;
                            var r = n.getPool(t), i = Reflect.getOwnMetadata(o.ecs, t), a = i.allowFlags,
                                s = i.requiredComponents, c = r ? r.borrow() : new t;
                            if (n.setInstance("ecs/context", this), n.setInstance("ecs/default-enabled", 0 != (1 & a) ? e : void 0), c.initialize(), s) for (var u = 0, l = s; u < l.length; u++) {
                                var f = l[u];
                                c.addComponent(f)
                            }
                            return c
                        }, Object.defineProperty(r, "version", {
                            get: function () {
                                return this._entities.version
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(r, "entityCount", {
                            get: function () {
                                return this._entities.count
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(r, "entities", {
                            get: function () {
                                return this._entities.instances
                            }, enumerable: !1, configurable: !0
                        }), t.__decorate([n.inject({token: "ecs/entity-class"})], e.prototype, "entityClass", void 0), t.__decorate([n.inject({token: "ecs/application"})], e.prototype, "application", void 0), t.__decorate([n.pool()], e)
                    }();
                    reflect("@jimu/ecs/_Context")(E);
                    var y = function () {
                        function e() {
                            this.onContextAdd = n.Signal.create(), this.onContextRemove = n.Signal.create(), this.instanceId = n.Utils.generateInstanceId(), this.name = "", this.version = r.defines.APPLICATION_VERSION, this.destroyedInstances = [[], [], [], [], [], []], this.globalEntity = null, this.editorEntity = null, this.timeManager = null, this.signalManager = null, this.systemManager = null, this.options = null, this._states = 0, this._executeMode = 0, this._shutdown = 0, this._entities = new n.Instances
                        }

                        var t = e.prototype;
                        return Object.defineProperty(e, "instance", {
                            get: function () {
                                return this._instance
                            }, set: function (e) {
                                this._instance !== e && (this._instance = e)
                            }, enumerable: !1, configurable: !0
                        }), t._removeInstances = function () {
                            for (var e = this.destroyedInstances, t = 0, r = e.length; t < r; t += 2) {
                                var o = e[t], i = e[t + 1];
                                if (i.length > 0) {
                                    for (var a = 0, s = i; a < s.length; a++) {
                                        var c = s[a], u = n.getPool(c.constructor);
                                        u ? u.return(c) : c.uninitialize()
                                    }
                                    i.length = 0
                                }
                                o.length > 0 && (i.push.apply(i, o), o.length = 0)
                            }
                        }, t.getMainEntityClass = function () {
                            return p
                        }, t.initialize = function (t) {
                            var o;
                            if (0 == (1 & this._states)) {
                                e.instance = this, n.resolveInject(this), this.name = t.name || "Application <" + this.instanceId + ">", this.options = t, this._states = 5, this._executeMode = null !== (o = r.defines.DEFAULT_EXECUTE_MODE) && void 0 !== o ? o : 0;
                                var i = this.getMainEntityClass(),
                                    a = this.globalEntity = this.getContext(i).createEntity();
                                this.editorEntity = this.getContext(i).createEntity(), this.timeManager = a.getOrAddComponent(h), this.signalManager = a.getOrAddComponent(g), this.systemManager = a.getOrAddComponent(m), r.contexts.applications.push(this)
                            }
                        }, t.uninitialize = function () {
                            if (0 != (1 & this._states)) {
                                e.instance = this, this.onContextAdd.clear();
                                for (var t = 0, r = this.contexts; t < r.length; t++) r[t].destroy();
                                this._removeInstances(), this._removeInstances(), this._removeInstances(), n.clearInject(this), this.contexts.length = 0, this.options = null, this.globalEntity = null, this.editorEntity = null, this.timeManager = null, this.signalManager = null, this.systemManager = null, this._states = 16, this._executeMode = 0, this._entities.clear(), e.instance = null
                            }
                        }, t.getContext = function (e) {
                            var t = this._entities, r = n.getClassID(e), o = t.get(r);
                            if (!o) {
                                var i = n.getPool(E);
                                o = i ? i.borrow() : new E, n.setInstance("ecs/entity-class", e), n.setInstance("ecs/application", this), o.instanceId = r, t.add(o), o.initialize(), this.onContextAdd.dispatch(o)
                            }
                            return o
                        }, t.update = function (t) {
                            if (0 != (4 & this._states)) {
                                e.instance = this;
                                var n = this.timeManager, o = this.systemManager, i = n.update(t), a = i.deltaTickCount,
                                    s = i.deltaFrameCount;
                                if (a > 0 || s > 0) {
                                    var c = 0;
                                    if (r.defines.DEBUG && (c = n.timestamp()), o.startup(), o.execute(a, s), o.cleanup(s), o.teardown(), r.defines.DEBUG && (n.totalCost = n.timestamp() - c), 0 != (8 & this._states)) {
                                        if (this._shutdown > 3) {
                                            this.uninitialize();
                                            var u = r.contexts.applications;
                                            return void u.splice(u.indexOf(this), 1)
                                        }
                                        this._shutdown++
                                    }
                                    a > 0 && s > 0 && this._removeInstances()
                                }
                            }
                        }, t.pause = function () {
                            0 != (4 & this._states) && (e.instance = this, this._states &= -5, r.defines.DEBUG && console.info("Application pause."))
                        }, t.resume = function () {
                            0 == (4 & this._states) && (e.instance = this, this._states |= 4, r.defines.DEBUG && console.info("Application resume."), this.timeManager.clear())
                        }, t.quit = function () {
                            0 == (24 & this._states) && (e.instance = this, this.isRunning || this.resume(), this._states |= 8, this._shutdown = 0, r.defines.DEBUG && console.info("Application quitting."), this.systemManager.unregisterAllSystems())
                        }, Object.defineProperty(t, "isRunning", {
                            get: function () {
                                return 0 != (4 & this._states)
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(t, "isQuitting", {
                            get: function () {
                                return 0 != (8 & this._states)
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(t, "isQuitted", {
                            get: function () {
                                return 0 != (16 & this._states)
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(t, "executeMode", {
                            get: function () {
                                return this._executeMode
                            }, set: function (e) {
                                this._executeMode !== e && (this._executeMode = e)
                            }, enumerable: !1, configurable: !0
                        }), Object.defineProperty(t, "contexts", {
                            get: function () {
                                return this._entities.instances
                            }, enumerable: !1, configurable: !0
                        }), e._instance = null, e
                    }();
                    reflect("@jimu/ecs/BaseApplication")(y), e.BaseApplication = y, e.Component = s, e.Entity = a, e.SignalManager = g, e.System = u, e.SystemEntity = p, e.SystemManager = m, e.TimeManager = h, e._temp = i, e.component = d, e.entity = f, e.getComponents = function (e) {
                        return l.typedComponents.get(e) || i._emptyArray
                    }, e.metadataKeys = o, e.system = function (e) {
                        return void 0 === e && (e = {}), function (t) {
                            var r, i = Reflect.getMetadata(o.ecs, t);
                            i ? (e = Object.assign(Object.create(null), i, e)).allowFlags = 1 : e = Object.assign(Object.create(null), {
                                allowFlags: 1,
                                requiredComponents: null,
                                automaticStart: !1,
                                executeOrder: 0,
                                allOfExecuteMode: 0,
                                anyOfExecuteMode: 0,
                                noneOfExecuteMode: 0
                            }, e), Reflect.defineMetadata(o.ecs, e, t), 0 !== (null !== (r = e.maxIdleCount) && void 0 !== r ? r : 0) && (n.getPool(t, !0).maxIdleCount = e.maxIdleCount), l.systems.indexOf(t) < 0 && l.systems.push(t)
                        }
                    }, Object.defineProperty(e, "__esModule", {value: !0})
                })
            }).call(this, e("_process"))
        }, {"@jimu/basis": 6, _process: 5, tslib: 23}],
        8: [function (e, t, n) {
            (function (e) {
                (function (e, r) {
                    "object" == typeof n && void 0 !== t ? r(n) : "function" == typeof define && define.amd ? define(["exports"], r) : r((e = "undefined" != typeof globalThis ? globalThis : e || self)["@jimu/gltf"] = e["@jimu/gltf"] || {})
                })(this, function (t) {
                    "use strict";
                    var n, r, o, i, a, s, c, u, l,
                        f = ((n = {}).SCALAR = 1, n.VEC2 = 2, n.VEC3 = 3, n.VEC4 = 4, n.MAT2 = 4, n.MAT3 = 9, n.MAT4 = 16, n.MAT2x3 = 6, n.MAT2x4 = 8, n.MAT3x2 = 6, n.MAT3x4 = 12, n.MAT4x2 = 8, n.MAT4x3 = 12, n),
                        d = ((r = {})[35670] = 1, r[5120] = 1, r[5121] = 1, r[5122] = 2, r[5123] = 2, r[5124] = 4, r[5125] = 4, r[5131] = 2, r[5126] = 4, r[32819] = 4, r[32820] = 4, r[33635] = 4, r[33640] = 4, r[35902] = 4, r[35899] = 4, r),
                        p = ((o = {})[35670] = "SCALAR", o[5124] = "SCALAR", o[5125] = "SCALAR", o[5126] = "SCALAR", o[35671] = "VEC2", o[35672] = "VEC3", o[35673] = "VEC4", o[36294] = "VEC2", o[36295] = "VEC3", o[36296] = "VEC4", o[35667] = "VEC2", o[35668] = "VEC3", o[35669] = "VEC4", o[35664] = "VEC2", o[35665] = "VEC3", o[35666] = "VEC4", o[35674] = "MAT2", o[35675] = "MAT3", o[35676] = "MAT4", o[35685] = "MAT2x3", o[35686] = "MAT2x4", o[35687] = "MAT3x2", o[35688] = "MAT3x4", o[35689] = "MAT4x2", o[35690] = "MAT4x3", o[36306] = "SCALAR", o[36307] = "SCALAR", o[36308] = "SCALAR", o[36311] = "SCALAR", o[36298] = "SCALAR", o[36299] = "SCALAR", o[36300] = "SCALAR", o[36303] = "SCALAR", o[35678] = "SCALAR", o[35679] = "SCALAR", o[35680] = "SCALAR", o[36289] = "SCALAR", o[35682] = "SCALAR", o[36292] = "SCALAR", o[36293] = "SCALAR", o),
                        h = new Array(3042, 2884, 2929, 3024, 32823, 32926, 32928, 2960),
                        g = ((i = {})[3042] = 1 << h.indexOf(3042), i[2884] = 1 << h.indexOf(2884), i[2929] = 1 << h.indexOf(2929), i[3024] = 1 << h.indexOf(3024), i[32823] = 1 << h.indexOf(32823), i[32926] = 1 << h.indexOf(32926), i[32928] = 1 << h.indexOf(32928), i[2960] = 1 << h.indexOf(2960), i),
                        m = {
                            colorMask: [!0, !0, !0, !0],
                            blendColor: [1, 1, 1, 1],
                            blendEquation: [32774],
                            blendFunc: [1, 0],
                            blendEquationSeparate: [32774, 32774],
                            blendFuncSeparate: [1, 0, 1, 0],
                            frontFace: [2305],
                            cullFace: [1029],
                            depthFunc: [513],
                            depthMask: [!0],
                            depthRange: [0, 1],
                            polygonOffset: [0, 0],
                            sampleCoverage: [1, !1],
                            stencilFunc: [519, 0, 1],
                            stencilFuncSeparate: [1029, 519, 0, 1],
                            stencilMask: [1],
                            stencilMaskSeparate: [1029, 1],
                            stencilOp: [7680, 7680, 7680],
                            stencilOpSeparate: [1029, 7680, 7680, 7680]
                        }, _ = {
                            frontFace: (a = {}, a[2305] = m.frontFace, a[2304] = [2304], a),
                            cullFace: (s = {}, s[1028] = [1028], s[1029] = m.cullFace, s),
                            depthFunc: (c = {}, c[512] = [512], c[513] = m.depthFunc, c[515] = [515], c[514] = [514], c[516] = [516], c[517] = [517], c[518] = [518], c[519] = [519], c),
                            depthMask: (u = {}, u[1] = m.depthMask, u[0] = [!1], u)
                        },
                        v = ((l = {})[3024] = null, l[32926] = null, l[0] = ["colorMask", "depthMask", "depthRange", "frontFace"], l[3042] = ["blendColor", "blendEquation", "blendFunc", "blendEquationSeparate", "blendFuncSeparate"], l[2884] = ["cullFace"], l[2929] = ["depthFunc"], l[32823] = ["polygonOffset"], l[32928] = ["sampleCoverage"], l[2960] = ["stencilFunc", "stencilMask", "stencilOp", "stencilFuncSeparate", "stencilMaskSeparate", "stencilOpSeparate"], l),
                        E = {
                            _updateAccessorByteOffset: function (e, t) {
                                var n = t[e.bufferView],
                                    r = (Uint32Array.BYTES_PER_ELEMENT - n.byteLength % Uint32Array.BYTES_PER_ELEMENT) % Uint32Array.BYTES_PER_ELEMENT;
                                e.byteOffset = n.byteLength + r, n.byteLength += r + e.extras.data.byteLength
                            }, _setAccessorToBuffer: function (e, t, n) {
                                var r = n[e.bufferView], o = t[r.buffer],
                                    i = new Uint8Array(e.extras.data.buffer, e.extras.data.byteOffset);
                                new Uint8Array(o.extras.data.buffer, o.extras.data.byteOffset).set(i, r.byteOffset + e.byteOffset)
                            }, createGltf: function () {
                                return {asset: {version: "2.0"}}
                            }, fromBinary: function (t, n) {
                                var r = [], o = 0;
                                if (1179937895 !== t[o++] || 2 !== t[o++] || t[o++] !== t.byteLength) return e.defines.DEBUG && console.error("Non-support glTF data."), r;
                                for (var i = 0, a = 0, s = 0, c = null; o < t.length;) {
                                    if (i = t[o++], a = t[o++], i % Uint32Array.BYTES_PER_ELEMENT) return e.defines.DEBUG && console.error("Invalid glTF data."), r;
                                    if (1313821514 === a) {
                                        try {
                                            var u = n(new Uint8Array(t.buffer, (o << 2) + t.byteOffset, i >>> 2));
                                            c = JSON.parse(u)
                                        } catch (d) {
                                            e.defines.DEBUG && console.error("Invalid glTF json."), c = null
                                        }
                                        r.push(c)
                                    } else if (5130562 === a) {
                                        try {
                                            if (c) {
                                                var l = new Uint32Array(t.buffer, (o << 2) + t.byteOffset, i >>> 2),
                                                    f = void 0;
                                                c.buffers || (c.buffers = new Array), c.buffers.length > s ? (f = c.buffers[s]).byteLength = i : (f = {byteLength: i}, c.buffers[s] = f), f.extras = {data: l}
                                            }
                                        } catch (d) {
                                            e.defines.DEBUG && console.error("Invalid glTF buffer.")
                                        }
                                        s++
                                    } else e.defines.DEBUG && console.error("Invalid glTF chunk.", a);
                                    o += i >>> 2
                                }
                                return r
                            }, fromJson: function (e, t) {
                                var n = e.buffers, r = e.accessors;
                                if (e.extras || (e.extras = {}), n) for (var o = 0, i = n; o < i.length; o++) {
                                    var a = i[o], s = a.uri;
                                    void 0 !== s && s.indexOf("data:") >= 0 && (a.extras = {data: t(s.substring(s.indexOf(",") + 1))}, a.uri = void 0)
                                }
                                if (r) for (var c = 0, u = r; c < u.length; c++) {
                                    var l = u[c];
                                    l.extras || (l.extras = {})
                                }
                                return e
                            }, getAccessorPerByteLength: function (e, t) {
                                return f[e] * d[t]
                            }, getAccessorByteOffset: function (e, t) {
                                var n = t.bufferViews[e.bufferView];
                                return t.buffers[n.buffer].extras.data.byteOffset + (n.byteOffset || 0) + (e.byteOffset || 0)
                            }, getAccessorByteLength: function (e) {
                                return E.getAccessorPerByteLength(e.type, e.componentType) * e.count
                            }, getUniformTypeCount: function (e) {
                                return f[p[e]]
                            }, getTypedArrayConstructor: function (e) {
                                switch (e) {
                                    case 5120:
                                        return Int8Array;
                                    case 5121:
                                        return Uint8Array;
                                    case 5122:
                                        return Int16Array;
                                    case 5123:
                                    case 32819:
                                    case 32820:
                                    case 33635:
                                        return Uint16Array;
                                    case 5124:
                                        return Int32Array;
                                    case 5125:
                                    case 33640:
                                    case 35899:
                                    case 35902:
                                        return Uint32Array;
                                    case 5126:
                                        return Float32Array;
                                    default:
                                        throw 1
                                }
                            }, createTypeArrayFromAccessor: function (e, t, n, r) {
                                void 0 === n && (n = 0), void 0 === r && (r = 0);
                                var o = 0 === n && 0 === r;
                                0 === r && (r = e.count), !o && n >= e.count && (n = e.count - 1), !o && r > e.count - n && (r = e.count - n);
                                var i = e.extras;
                                if (o && i.data) return i.data;
                                var a = t.bufferViews[e.bufferView], s = t.buffers[a.buffer].extras.data, c = f[e.type],
                                    u = c * r, l = E.getAccessorByteOffset(e, t);
                                n > 0 && (l += n * c * d[e.componentType]);
                                var p = new (E.getTypedArrayConstructor(e.componentType))(s.buffer, l, u);
                                return o && (i.data = p), p
                            }, linkBuffer: function (e) {
                                var t, n = e.buffers, r = e.bufferViews, o = e.accessors, i = Object.create(null);
                                if (n && r && o) {
                                    for (var a = 0, s = o; a < s.length; a++) {
                                        var c = (L = s[a]).bufferView, u = L.sparse;
                                        if (i[c] || (i[c] = []), i[c].push(L), u) {
                                            var l = u.indices, f = u.values, d = l.extras.data.byteLength;
                                            u.count = d / E.getAccessorPerByteLength("SCALAR", l.componentType), E._updateAccessorByteOffset(l, r), E._updateAccessorByteOffset(f, r)
                                        } else 0 === L.count && L.extras && (d = L.extras.data.byteLength, L.count = d / E.getAccessorPerByteLength(L.type, L.componentType), E._updateAccessorByteOffset(L, r))
                                    }
                                    for (var p = null, h = 0, g = r; h < g.length; h++) {
                                        var m = n[(c = g[h]).buffer],
                                            _ = (Uint32Array.BYTES_PER_ELEMENT - (null !== (t = null == p ? void 0 : p.byteLength) && void 0 !== t ? t : 0) % Uint32Array.BYTES_PER_ELEMENT) % Uint32Array.BYTES_PER_ELEMENT;
                                        c.byteOffset = m.byteLength + _, m.byteLength += _ + c.byteLength, p = c
                                    }
                                    for (var v = 0, y = n; v < y.length; v++) 0 !== (m = y[v]).byteLength && (m.extras ? m.extras.data.byteLength !== m.byteLength && (m.extras.data = new Uint8Array(new ArrayBuffer(m.byteLength))) : m.extras = {data: new Uint8Array(new ArrayBuffer(m.byteLength))});
                                    for (var S = 0, C = o; S < C.length; S++) (u = (L = C[S]).sparse) ? (E._setAccessorToBuffer(u.indices, n, r), E._setAccessorToBuffer(u.values, n, r)) : L.extras && E._setAccessorToBuffer(L, n, r);
                                    for (var A = 0, T = 0, b = 0, I = r; b < I.length; b++) if (void 0 !== (c = I[b]).byteStride && 0 !== c.byteStride) {
                                        for (var w = n[c.buffer].extras.data, O = new Uint8Array(new ArrayBuffer(c.byteLength)), R = 0, M = i[A]; R < M.length; R++) {
                                            for (var L = M[R], N = E.getAccessorPerByteLength(L.type, L.componentType), D = 0; D < L.count; ++D) for (var P = 0; P < N; ++P) {
                                                var B = L.byteOffset + D * N + P;
                                                O[D * c.byteStride + T + P] = w[c.byteOffset + B]
                                            }
                                            L.byteOffset = T, T += N
                                        }
                                        w.set(O, c.byteOffset), A++
                                    }
                                }
                            }
                        }, y = E;
                    t.GltfUtils = y, t.accessorTypeCounts = f, t.dataTypeSizes = d, t.defaultFunctionOtherValues = _, t.defaultFunctionValues = m, t.statesEnableBits = g, t.statesEnables = h, t.statesFunctions = v, t.uniformTypeToAccessorType = p, Object.defineProperty(t, "__esModule", {value: !0})
                })
            }).call(this, e("_process"))
        }, {_process: 5}],
        9: [function (e, t, n) {
            (function (r) {
                (function (r, o) {
                    "object" == typeof n && void 0 !== t ? o(n, e("tslib"), e("@jimu/ecs"), e("@jimu/basis"), e("@jimu/gltf")) : "function" == typeof define && define.amd ? define(["exports", "tslib", "@jimu/ecs", "@jimu/basis", "@jimu/gltf"], o) : o((r = "undefined" != typeof globalThis ? globalThis : r || self)["@jimu/serdes"] = r["@jimu/serdes"] || {}, r.tslib, r["@jimu/ecs"], r["@jimu/basis"], r["@jimu/gltf"])
                })(this, function (e, t, n, o, i) {
                    "use strict";
                    var a = Object.assign(r.contexts.metadataKeys, {serializable: Symbol.for("jm/serdes")});

                    function s(e, r) {
                        var o = Reflect.getOwnMetadata(a.serializable, e);
                        if (o) r && (o = Object.assign(o, r), Reflect.defineMetadata(a.serializable, o, e)); else {
                            var i = Reflect.getMetadata(a.serializable, e);
                            o = Object.assign(Object.create(null), i, {
                                enabled: !0,
                                templated: !1,
                                serializeFlags: e.prototype instanceof n.Entity ? 1 : 2,
                                properties: i ? t.__spreadArray([], i.properties, !0) : []
                            }, r), Reflect.defineMetadata(a.serializable, o, e)
                        }
                        return o
                    }

                    function c(e) {
                        return function (t) {
                            s(t, e)
                        }
                    }

                    function u(e) {
                        return void 0 === e && (e = {}), function (t, n) {
                            Reflect.hasMetadata(a.serializable, t, n) || (Reflect.defineMetadata(a.serializable, e, t, n), s(t.constructor).properties.push(n))
                        }
                    }

                    u({
                        deserialize: function () {
                        }
                    })(n.Entity.prototype, "enabled"), c({enabled: !1})(n.Entity), u({
                        deserialize: function () {
                        }
                    })(n.Component.prototype, "enabled"), c({enabled: !1})(n.Component), u({
                        deserialize: function () {
                        }
                    })(n.System.prototype, "totalCost"), c({enabled: !1})(n.System);
                    var l = function (e) {
                        function r() {
                            var t = null !== e && e.apply(this, arguments) || this;
                            return t.localCount = 0, t
                        }

                        return t.__extends(r, e), r.prototype.generateLocalId = function (e) {
                            return 0 === e.localId.length && (e.localId = (++this.localCount).toString(16)), e.localId
                        }, t.__decorate([n.component({allowFlags: 0})], r)
                    }(n.Component);
                    reflect("@jimu/serdes/SerdesRoot")(l);
                    var f = function (e) {
                        function r() {
                            var t = null !== e && e.apply(this, arguments) || this;
                            return t._uuids = o.createRecord(), t._instances = o.createRecord(), t
                        }

                        t.__extends(r, e);
                        var i = r.prototype;
                        return i.uninitialize = function () {
                            e.prototype.uninitialize.call(this), o.clearRecord(this._uuids), o.clearRecord(this._instances)
                        }, i.add = function (e, t) {
                            var n = this._uuids, r = this._instances, i = n[e];
                            if (!i) if (0 !== t.localId.length) {
                                var a = {uuid: e, instance: t};
                                n[e] = i = {
                                    root: a,
                                    instances: o.createRecord()
                                }, i.instances[t.localId] = a, r[t.instanceId] = a
                            } else console.error("TODO error")
                        }, i.addLocal = function (e, t) {
                            var n = this._uuids, r = this._instances, o = n[e];
                            if (o && o.root.instance !== t) if (0 !== t.localId.length) {
                                var i = {uuid: e, instance: t};
                                o.instances[t.localId] = i, r[t.instanceId] = i
                            } else console.error("TODO error")
                        }, i.remove = function (e) {
                            var t = this._uuids, n = this._instances, r = n[e.instanceId];
                            if (r) {
                                var o = r.uuid, i = t[o];
                                if (i.root.instance === e) for (var a in delete t[o], delete n[e.instanceId], i.instances) delete n[i.instances[a].instance.instanceId]
                            }
                        }, i.removeLocal = function (e) {
                            var t = this._uuids, n = this._instances, r = n[e.instanceId];
                            if (r) {
                                var o = t[r.uuid];
                                o.root.instance !== e && (delete o.instances[e.localId], delete n[e.instanceId])
                            }
                        }, i.getUuid = function (e) {
                            var t = this._instances[e.instanceId];
                            return t ? t.uuid : ""
                        }, i.get = function (e) {
                            var t;
                            return (null === (t = this._uuids[e]) || void 0 === t ? void 0 : t.root.instance) || null
                        }, i.getLocal = function (e, t) {
                            var n;
                            return (null === (n = this._uuids[e]) || void 0 === n ? void 0 : n.instances[t].instance) || null
                        }, t.__decorate([n.component({allowFlags: 0})], r)
                    }(n.Component);
                    reflect("@jimu/serdes/PersistentManager")(f);
                    var d = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f"],
                        p = ["8", "9", "a", "b"];

                    function h(e) {
                        return e[e.length * Math.random() << 0]
                    }

                    function g() {
                        return h(d)
                    }

                    var m = {
                        equal: function (e, t) {
                            var r = null === e, i = null === t;
                            if (r && i) return !0;
                            if (r || i) return !1;
                            var a = typeof e;
                            if (a !== typeof t) return !1;
                            if ("object" !== a) return e === t;
                            if ((Array.isArray(e) || ArrayBuffer.isView(e)) && (Array.isArray(t) || ArrayBuffer.isView(t))) {
                                var s = e.length;
                                if (s !== t.length) return !1;
                                if (0 === s) return !0;
                                for (var c = 0; c < s; ++c) if (!m.equal(e[c], t[c])) return !1;
                                return !0
                            }
                            if (e.constructor !== t.constructor) return !1;
                            if (e === t) return !0;
                            if (e.constructor === Object || !e.constructor) {
                                for (var u in e) if (!m.equal(e[u], t[u])) return !1;
                                return !0
                            }
                            if (Reflect.getOwnMetadata(n.metadataKeys.ecs, e.constructor)) return !1;
                            throw new o.UnsupportedError
                        }, generateUuid: function () {
                            return [g(), g(), g(), g(), g(), g(), g(), g(), "-", g(), g(), g(), g(), "-", "4", g(), g(), g(), "-", h(p), g(), g(), g(), "-", g(), g(), g(), g(), g(), g(), g(), g(), g(), g(), g(), g()].join("")
                        }, createSerdesData: function () {
                            var e = i.GltfUtils.createGltf();
                            return e.asset.extensions || (e.asset.extensions = o.createRecord()), e.asset.extensions.jimu = {version: r.defines.DATA_VERSION}, e
                        }
                    }, _ = m, v = function (e) {
                        function r() {
                            return null !== e && e.apply(this, arguments) || this
                        }

                        t.__extends(r, e);
                        var i = r.prototype;
                        return i._getMetadata = function (e) {
                            var t = Reflect.getMetadata(a.serializable, e);
                            return t && t.enabled ? t : null
                        }, i._serializeReference = function (e, t) {
                            var n = t.persistentManager, r = t.componentReferences, o = r[e.instanceId] || null;
                            if (o || (r[e.instanceId] = o = {localId: ""}), void 0 === o.uuid) {
                                var i = n.getUuid(e);
                                i.length > 0 && (o.uuid = i)
                            }
                            return o
                        }, i._serializeStruct = function (e, t) {
                            var n = this, r = this._getMetadata(e.constructor).serialize;
                            if (r && r.guard && !r.guard.call(e, t)) return null;
                            if (r && r.custom) return r.custom.call(e, null, t);
                            var i = o.createRecord();
                            return o.traverseMetadataProperties(a.serializable, e.constructor, function (r, o) {
                                var a, s = n._serializeProperty(e[r], o, t);
                                void 0 !== s && (i[null !== (a = o.to) && void 0 !== a ? a : r] = s)
                            }), r && r.hook && r.hook.call(e, i, t), i
                        }, i._serializeProperty = function (e, t, r) {
                            switch (typeof e) {
                                case"boolean":
                                case"number":
                                case"bigint":
                                case"string":
                                    return e;
                                case"object":
                                    if (null === e) return e;
                                    if (Array.isArray(e) || ArrayBuffer.isView(e)) {
                                        for (var i = new Array, a = 0, s = e.length; a < s; ++a) void 0 !== (u = this._serializeProperty(e[a], null, r)) && (i[a] = u);
                                        return i
                                    }
                                    if (e.constructor === Object || !e.constructor) {
                                        for (var c in i = o.createRecord(), e) {
                                            var u;
                                            void 0 !== (u = this._serializeProperty(e[c], null, r)) && (i[c] = u)
                                        }
                                        return i
                                    }
                                    if (r && this._getMetadata(e.constructor)) {
                                        if (e instanceof n.Entity) return;
                                        return (e instanceof n.Component ? this._serializeReference(e, r) : this._serializeStruct(e, r)) || void 0
                                    }
                                    return;
                                default:
                                    return
                            }
                        }, i._serializeProperties = function (e, t, n) {
                            var r = this, i = this._getMetadata(e.constructor).serialize;
                            i && i.custom ? i.custom.call(e, t, n) : (o.traverseMetadataProperties(a.serializable, e.constructor, function (o, i) {
                                var a, s = e[o];
                                if (void 0 === i.defaultValue || !_.equal(s, i.defaultValue)) {
                                    var c = i.serialize ? i.serialize.call(e, t, n) : r._serializeProperty(s, i, n);
                                    void 0 !== c && (t[null !== (a = i.to) && void 0 !== a ? a : o] = c)
                                }
                            }), i && i.hook && i.hook.call(e, t, n))
                        }, i._serializeComponent = function (e, t) {
                            var n = this._getMetadata(e.constructor);
                            if (!n) return null;
                            var r = n.serializeFlags, i = n.serialize, a = t.serializeFlags, s = t.components;
                            if (i && i.guard && !i.guard.call(e, t) || 0 == (r & a)) return null;
                            var c = {class: o.getClassName(e.constructor)};
                            return s[e.instanceId] = c, c
                        }, i._serializeEntity = function (e, t) {
                            var n = this._getMetadata(e.constructor);
                            if (!n) return null;
                            var r = n.serialize, i = t.entities;
                            if (r && r.guard && !r.guard.call(e, t)) return null;
                            var a = {class: o.getClassName(e.constructor)};
                            i[e.instanceId] = a, a.components = new Array;
                            for (var s = 0, c = e.components; s < c.length; s++) {
                                var u = c[s];
                                this._serializeComponent(u, t) && a.components.push(u.instanceId.toString())
                            }
                            return a
                        }, i._setDefaultValue = function (e) {
                            var t = this, n = Reflect.getMetadata(a.serializable, e.constructor);
                            n && !n.templated && (n.templated = !0, o.traverseMetadataProperties(a.serializable, e.constructor, function (n, r) {
                                void 0 === r.defaultValue && (r.defaultValue = t._serializeProperty(e[n], r, null))
                            }))
                        }, i._onEntityAdd = function (e) {
                            this._setDefaultValue(e)
                        }, i._onComponentAdd = function (e, t) {
                            this._setDefaultValue(t)
                        }, i._onContextAdd = function (e) {
                            e.onEntityAdd.add(this._onEntityAdd, this), e.onComponentAdd.add(this._onComponentAdd, this)
                        }, i.initialize = function () {
                            e.prototype.initialize.call(this);
                            var t = this.entity.context.application;
                            if (0 != (896 & t.executeMode)) {
                                t.onContextAdd.add(this._onContextAdd, this);
                                for (var n = 0, r = t.contexts; n < r.length; n++) {
                                    var o = r[n];
                                    this._onContextAdd(o)
                                }
                            }
                        }, i.serialize = function (e, t) {
                            var n, r = this.entity.getComponent(f), i = (null == t ? void 0 : t.context) || {
                                serializeFlags: null !== (n = null == t ? void 0 : t.serializeFlags) && void 0 !== n ? n : 3,
                                persistentManager: r,
                                input: [],
                                output: _.createSerdesData(),
                                entities: o.createRecord(),
                                components: o.createRecord(),
                                entityReferences: o.createRecord(),
                                componentReferences: o.createRecord()
                            };
                            if (i.input.push(e), i.input[0] === e) {
                                for (var a = e.getOrAddComponent(l), s = 0, c = i.input; s < c.length; s++) {
                                    var u = c[s];
                                    this._serializeEntity(u, i)
                                }
                                for (var d = 0, p = i.input; d < p.length; d++) if (u = p[d], y = i.entities[u.instanceId]) {
                                    this._serializeProperties(u, y, i);
                                    for (var h = 0, g = u.components; h < g.length; h++) {
                                        var m = g[h];
                                        (b = i.components[m.instanceId]) && this._serializeProperties(m, b, i)
                                    }
                                }
                                for (var v = 0, E = i.input; v < E.length; v++) {
                                    var y;
                                    if (u = E[v], y = i.entities[u.instanceId]) {
                                        if (0 === u.localId.length) {
                                            var S = i.entityReferences[u.instanceId],
                                                C = u.localId = a.generateLocalId(u);
                                            S && (S.localId = C)
                                        }
                                        i.entities[u.localId] = y, delete i.entities[u.instanceId];
                                        for (var A = 0, T = u.components; A < T.length; A++) {
                                            var b;
                                            m = T[A], (b = i.components[m.instanceId]) && (0 === m.localId.length && (S = i.componentReferences[m.instanceId], C = m.localId = a.generateLocalId(m), S && (S.localId = C)), y.components[y.components.indexOf(m.instanceId.toString())] = m.localId, i.components[m.localId] = b, delete i.components[m.instanceId])
                                        }
                                    }
                                }
                                i.output.ecs = {
                                    count: a.localCount,
                                    entry: e.localId,
                                    entities: i.entities,
                                    components: i.components
                                }
                            }
                            return i.output
                        }, t.__decorate([n.component({allowFlags: 0, requiredComponents: [f]})], r)
                    }(n.Component);
                    reflect("@jimu/serdes/Serializer")(v);
                    var E = function (e) {
                        function r() {
                            return null !== e && e.apply(this, arguments) || this
                        }

                        t.__extends(r, e);
                        var i = r.prototype;
                        return i._getMetadata = function (e) {
                            var t = Reflect.getMetadata(a.serializable, e);
                            return t && t.enabled ? t : null
                        }, i._deserializeProperty = function (e, t, n) {
                            switch (typeof e) {
                                case"object":
                                    if (null === e) return null;
                                    break;
                                case"function":
                                    throw new o.NeverError;
                                default:
                                    return e
                            }
                            if ("object" == typeof t && t) {
                                if (ArrayBuffer.isView(t)) {
                                    for (var r = 0, i = Math.max(e.length, t.length); r < i; ++r) t[r] = e[r];
                                    return t
                                }
                                if (Array.isArray(t) && 0 === t.length) {
                                    for (r = 0, i = e.length; r < i; ++r) t[r] = this._deserializeProperty(e[r], null, n);
                                    return t
                                }
                                if (t.constructor) {
                                    var a = this._getMetadata(t.constructor);
                                    if (a) {
                                        var s = a.deserialize;
                                        if (s && s.custom) return s.custom.call(t, e, n)
                                    }
                                }
                            }
                            if (Array.isArray(e)) {
                                var c = new Array(e.length);
                                for (r = 0, i = e.length; r < i; ++r) c[r] = this._deserializeProperty(e[r], null, n);
                                return c
                            }
                            if ("localId" in e) {
                                var u = n.persistentManager, l = n.entities, f = n.components, d = e, p = d.uuid,
                                    h = d.localId;
                                return void 0 !== p ? u.getLocal(p, h) : l[h] || f[h] || null
                            }
                            for (var g in t = o.createRecord(), e) t[g] = this._deserializeProperty(e[g], null, n);
                            return t
                        }, i._deserializeProperties = function (e, t, n) {
                            var r = this, i = this._getMetadata(t.constructor).deserialize;
                            i && i.custom ? i.custom.call(t, e, n) : (o.traverseMetadataProperties(a.serializable, t.constructor, function (o, i) {
                                var a, s = "";
                                if (i.to && i.to in e && (s = i.to), 0 === s.length && i.from) for (var c = 0, u = i.from; c < u.length; c++) {
                                    var l = u[c];
                                    if (l in e) {
                                        s = l;
                                        break
                                    }
                                }
                                0 === s.length && (s = o), s in e && void 0 !== (a = i.deserialize ? i.deserialize.call(t, e, n) : r._deserializeProperty(e[s], t[o], n)) && (t[o] = a)
                            }), i && i.hook && i.hook.call(t, e, n))
                        }, i._deserializeComponent = function (e, t, n, r) {
                            var i, a = o.getClassByName(e.class);
                            if (a) {
                                var s = this._getMetadata(a);
                                if (!s) return null;
                                var c = s.deserialize;
                                if (c && c.guard && !c.guard(e, r)) return null;
                                for (var u = null, l = 0, f = n.getComponents(a); l < f.length; l++) {
                                    var d = f[l];
                                    if (d.localId === t) {
                                        u = d;
                                        break
                                    }
                                }
                                u ? u.enabled = null === (i = e.enabled) || void 0 === i || i : u = n.addComponent(a, e.enabled), u.localId = t, r.components[t] = u
                            }
                            return null
                        }, i._deserializeEntity = function (e, t, n) {
                            var r = o.getClassByName(e.class);
                            if (r) {
                                var i = this._getMetadata(r);
                                if (!i) return null;
                                var a = i.deserialize;
                                if (a && a.guard && !a.guard(e, n)) return null;
                                var s = n.persistentManager, c = n.input, u = n.entities, l = c.ecs.components,
                                    f = t === n.input.ecs.entry, d = null;
                                if (f && n.output ? d = n.output : ("uuid" in e && (d = s.getLocal(e.uuid, t)), d || (d = this.entity.context.application.getContext(r).createEntity(e.enabled)), f && (n.output = d)), d.localId = t, u[t] = d, e.components) for (var p = 0, h = e.components; p < h.length; p++) {
                                    var g = h[p], m = l[g];
                                    m && this._deserializeComponent(m, g, d, n)
                                }
                                return d
                            }
                            return null
                        }, i.deserialize = function (e, t) {
                            var n, r = e.ecs;
                            if (!r) return null;
                            var i = r.entities, a = r.components, s = {
                                persistentManager: this.entity.getComponent(f),
                                input: e,
                                output: (null == t ? void 0 : t.output) || null,
                                entities: o.createRecord(),
                                components: o.createRecord()
                            };
                            for (var c in i) this._deserializeEntity(i[c], c, s);
                            for (var c in s.entities) {
                                var u = i[c], d = s.entities[c];
                                if (this._deserializeProperties(u, d, s), a && u.components) for (var p = 0, h = u.components; p < h.length; p++) {
                                    var g = h[p], m = a[g], _ = s.components[g];
                                    _ && this._deserializeProperties(m, _, s)
                                }
                            }
                            if (s.output) {
                                var v = s.output.getOrAddComponent(l);
                                v.localCount = Math.max(v.localCount, null !== (n = r.count) && void 0 !== n ? n : 0)
                            }
                            return s.output
                        }, t.__decorate([n.component({allowFlags: 0, requiredComponents: [v]})], r)
                    }(n.Component);
                    reflect("@jimu/serdes/Deserializer")(E);
                    var y = function (e) {
                        function r() {
                            return null !== e && e.apply(this, arguments) || this
                        }

                        t.__extends(r, e);
                        var o = r.prototype;
                        return o.uninitialize = function () {
                            var t = this.application;
                            t.persistentManager = null, t.serializer = null, t.deserializer = null, e.prototype.uninitialize.call(this)
                        }, o.onAwake = function () {
                            var e = this.application, t = e.globalEntity;
                            e.persistentManager = t.addComponent(f), e.serializer = t.addComponent(v), e.deserializer = t.addComponent(E)
                        }, o.onDestroy = function () {
                            var e = this.application;
                            if (!e.isQuitting) {
                                var t = e.globalEntity;
                                t.removeComponent(f), t.removeComponent(v), t.removeComponent(E)
                            }
                        }, t.__decorate([n.system({executeOrder: 0})], r)
                    }(n.System);
                    reflect("@jimu/serdes/SerdesSystem")(y), e.Deserializer = E, e.PersistentManager = f, e.SerdesRoot = l, e.SerdesSystem = y, e.SerdesUtils = _, e.Serializer = v, e.keyLocalId = "localId", e.keyUuid = "uuid", e.metadataKeys = a, e.property = u, e.serializable = c, Object.defineProperty(e, "__esModule", {value: !0})
                })
            }).call(this, e("_process"))
        }, {"@jimu/basis": 6, "@jimu/ecs": 7, "@jimu/gltf": 8, _process: 5, tslib: 23}],
        10: [function (e, t, n) {
            "use strict";
            Object.defineProperty(n, "__esModule", {value: !0}), n.astcPatch = function (e) {
                return void 0 === e && (e = ["4x4", "6x5", "8x5", "8x6"]), new Promise(function (t) {
                    var n = cc.sys.isNative, r = {
                        "4x4": 89,
                        "5x4": 90,
                        "5x5": 91,
                        "6x5": 92,
                        "6x6": 93,
                        "8x5": 94,
                        "8x6": 95,
                        "8x8": 96,
                        "10x5": 97,
                        "10x6": 98,
                        "10x8": 99,
                        "10x10": 100,
                        "12x10": 101,
                        "12x12": 102
                    };
                    cc.game.on(cc.game.EVENT_ENGINE_INITED, function () {
                        var o, i, a, s, c = cc.renderer.device, u = c._extensions,
                            l = n ? "GL_KHR_texture_compression_astc_ldr" : "WEBGL_compressed_texture_astc",
                            f = "WEBGL_compressed_texture_pvrtc",
                            d = (c._initExtensions && c._initExtensions([l]), c.ext(l)), p = c.ext(f);
                        if (!d && !n && window.qq) {
                            var h = (l = c._gl).getParameter(l.TEXTURE_BINDING_2D);
                            try {
                                var g = l.createTexture(),
                                    m = (l.bindTexture(l.TEXTURE_2D, g), new Uint8Array([252, 253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]));
                                l.compressedTexImage2D(l.TEXTURE_2D, 0, 37808, 2, 2, 0, m), l.getError() || (d = {}), l.deleteTexture(g)
                            } catch (u) {
                                console.error(u)
                            } finally {
                                h && l.bindTexture(l.TEXTURE_2D, h)
                            }
                        }
                        if (console.log("astc 1.0.11", d), d && 0 < Object.getOwnPropertyNames(d).length) for (var _ = 0, v = e.length; _ < v; _++) if (!d["COMPRESSED_RGBA_ASTC_".concat(e[_], "_KHR")]) {
                            d = void 0;
                            break
                        }
                        if (!d) return p && (o = c.ext, c.ext = function (e) {
                            return e === f ? null : o.call(c, e)
                        }, u && (u[f] = void 0)), void t(!1);

                        function E(e, t, n) {
                            var o, i = null, a = null;
                            try {
                                var s = e instanceof ArrayBuffer ? e : e.buffer, c = new Uint8Array(s);
                                if (1554098963 !== c[0] + (c[1] << 8) + (c[2] << 16) + (c[3] << 24)) throw new Error("Invalid magic number in ASTC header");
                                var u = c[4], l = c[5], f = c[6];
                                if ((u < 3 || 6 < u || l < 3 || 6 < l || f < 3 || 6 < f) && (u < 4 || 7 === u || 9 === u || 11 === u || 12 < u || l < 4 || 7 === l || 9 === l || 11 === l || 12 < l || 1 !== f)) throw new Error("Invalid block number in ASTC header");
                                o = l;
                                var d = r["".concat(u, "x").concat(o)] || 0, p = c[7] + (c[8] << 8) + (c[9] << 16),
                                    h = c[10] + (c[11] << 8) + (c[12] << 16),
                                    g = (c[13], c[14], c[15], new Uint8Array(s, 16));
                                g.internalFormat = 37808 + d - r["4x4"], a = {
                                    _data: g,
                                    _compressed: !0,
                                    width: p,
                                    height: h,
                                    format: d
                                }
                            } catch (e) {
                                i = e
                            }
                            n(i, a)
                        }

                        console.log("patch astc"), p || (p = {}, i = c.ext, c.ext = function (e) {
                            return e === f ? p : i.call(c, e)
                        }, u && (u[f] = p)), cc.assetManager.parser.register(".pvr", function (e, t, n) {
                            window.fsUtils.readFile(e, "", function (e, t) {
                                if (e) return n(e);
                                E(t, 0, n)
                            })
                        }), n ? (a = cc.renderer.Texture2D.prototype.init, Object.defineProperty(cc.renderer.Texture2D.prototype, "init", {
                            value: function (e, t) {
                                35840 <= t.glInternalFormat && t.glInternalFormat <= 35843 && ((t = Object.assign({}, t)).glInternalFormat = t.image.internalFormat), a.call(this, e, t)
                            }
                        })) : (s = cc.renderer.Texture2D.prototype._setImage, Object.defineProperty(cc.renderer.Texture2D.prototype, "_setImage", {
                            value: function (e, t) {
                                35840 <= e.internalFormat && e.internalFormat <= 35843 && ((e = Object.assign({}, e)).internalFormat = t.image.internalFormat), s.call(this, e, t)
                            }
                        })), t(!0)
                    })
                })
            }
        }, {}],
        11: [function (e, t, n) {
            "use strict";
            Object.defineProperty(n, "__esModule", {value: !0}), e("@o4e/global");
            var r = new TextDecoder, o = function () {
                function e(e) {
                    this.position = 0, this.reset(e)
                }

                var t = e.prototype;
                return Object.defineProperty(t, "dataView", {
                    get: function () {
                        return this._dataView || (this._dataView = new DataView(this.data.buffer, this.data.byteOffset, this.data.byteLength))
                    }, enumerable: !1, configurable: !0
                }), t.reset = function (e) {
                    this.data = e, this.position = 0, this._dataView = null
                }, t.validate = function (e) {
                    return !(this.position + e > this.data.length && (console.error("read eof"), 1))
                }, t.readUInt8 = function () {
                    if (this.validate(1)) return this.data[this.position++]
                }, t.readInt16 = function () {
                    if (this.validate(2)) return this.data[this.position++] | this.data[this.position++] << 8
                }, t.readInt32 = function () {
                    if (this.validate(4)) return this.data[this.position++] | this.data[this.position++] << 8 | this.data[this.position++] << 16 | this.data[this.position++] << 24
                }, t.readInt64 = function () {
                    var e = this.readInt32();
                    return e < 0 && (e += 4294967296), e + 4294967296 * this.readInt32()
                }, t.readFloat32 = function () {
                    if (this.validate(4)) {
                        var e = this.dataView.getFloat32(this.position, !0);
                        return this.position += 4, e
                    }
                }, t.readFloat64 = function () {
                    if (this.validate(8)) {
                        var e = this.dataView.getFloat64(this.position, !0);
                        return this.position += 8, e
                    }
                }, t.read7BitInt = function () {
                    var e = 0, t = 0, n = 0;
                    do {
                        if (35 == n) throw Error("Format_Bad7BitInt32");
                        t |= (127 & (e = this.readUInt8())) << n, n += 7
                    } while (0 != (128 & e));
                    return t
                }, t.readUTF = function () {
                    var e = this.read7BitInt();
                    return this.readUTFBytes(e)
                }, t.readUint8Array = function (e, t) {
                    void 0 === t && (t = !1);
                    var n = t ? this.data.slice(this.position, this.position + e) : this.data.subarray(this.position, this.position + e);
                    return this.position += e, n
                }, t.readUTFBytes = function (e) {
                    if (0 === e) return "";
                    if (this.validate(e)) {
                        var t = this.decodeUTF8(this.data, this.position, e);
                        return this.position += e, t
                    }
                }, t.decoderError = function (e) {
                    throw new Error("decode error at " + this.position + ": " + e)
                }, t.decodeUTF8 = function (e, t, n) {
                    var o = ~~t, i = void 0 === n ? e.length : Math.min(e.length, o + n);
                    return o === i ? "" : r.decode(e.subarray(o, i))
                }, e
            }(), i = new Uint8Array(524288), a = new TextEncoder, s = function () {
                function e() {
                    this.position = 0, this.data = i
                }

                var t = e.prototype;
                return Object.defineProperty(t, "dataView", {
                    get: function () {
                        return this._dataView || (this._dataView = new DataView(this.data.buffer, 0, this.data.byteLength))
                    }, enumerable: !1, configurable: !0
                }), t.reset = function () {
                    this.data = i, this._dataView = null, this.position = 0
                }, t.ensureBuffer = function (e) {
                    if (this.position + e > i.byteLength) {
                        var t = i;
                        this.data = i = new Uint8Array(Math.max(~~(1.2 * i.byteLength), this.position + e)), i.set(t, 0), this._dataView = null
                    }
                }, t.writeInt8 = function (e) {
                    this.ensureBuffer(1), this.data[this.position++] = ~~e
                }, t.writeInt16 = function (e) {
                    this.ensureBuffer(2), this.data[this.position++] = ~~e, this.data[this.position++] = e >> 8
                }, t.writeInt32 = function (e) {
                    this.ensureBuffer(4), this.data[this.position++] = ~~e, this.data[this.position++] = e >> 8, this.data[this.position++] = e >> 16, this.data[this.position++] = e >> 24
                }, t.writeInt64 = function (e) {
                    this.writeInt32(e), e < 0 ? this.writeInt32(~(-e / 4294967296)) : this.writeInt32(~~(e / 4294967296))
                }, t.writeFloat32 = function (e) {
                    this.ensureBuffer(4), this.dataView.setFloat32(this.position, e, !0), this.position += 4
                }, t.writeFloat64 = function (e) {
                    this.ensureBuffer(8), this.dataView.setFloat64(this.position, e, !0), this.position += 8
                }, t._write7BitInt = function (e) {
                    for (var t = ~~e; t >= 128;) this.data[this.position++] = 128 | t, t >>>= 7;
                    this.data[this.position++] = t
                }, t.write7BitInt = function (e) {
                    this.ensureBuffer(5), this._write7BitInt(e)
                }, t._7BitIntLen = function (e) {
                    return e < 0 ? 5 : e < 128 ? 1 : e < 16384 ? 2 : e < 2097152 ? 3 : e < 268435456 ? 4 : 5
                }, t.writeUTF = function (e) {
                    var t = e.length;
                    if (0 !== t) {
                        var n = 6 * t;
                        this.ensureBuffer(5 + n);
                        var r = this.position;
                        this.position += this._7BitIntLen(n);
                        var o = this.position, i = o - r;
                        this._writeUTFBytes(e);
                        var a = this.position, s = a - o;
                        this.position = r, this._write7BitInt(s);
                        var c = this.position - r;
                        c !== i && this.data.copyWithin(o + c - i, o, a), this.position += s
                    } else this.write7BitInt(0)
                }, t.writeUint8Array = function (e, t, n) {
                    var r = ~~t, o = void 0 === n ? e.byteLength : Math.min(e.byteLength, r + n);
                    (n = o - r) <= 0 || (this.ensureBuffer(n), this.data.set(e.subarray(t, o), this.position), this.position += n)
                }, t.encoderError = function (e) {
                    throw new Error("encode error at " + this.position + ": " + e)
                }, t._writeUTFBytes = function (e) {
                    var t = a.encodeInto(e, this.data.subarray(this.position));
                    this.position += t.written
                }, t.writeUTFBytes = function (e) {
                    this.ensureBuffer(6 * e.length), this._writeUTFBytes(e)
                }, t.getBytes = function (e) {
                    return void 0 === e && (e = !1), e ? this.data.slice(0, this.position) : this.data.subarray(0, this.position)
                }, e
            }(), c = function (e, t) {
                this.high = e, this.low = t
            }, u = function () {
                function e() {
                    this.dw = new s, this.strMap = new Map
                }

                var t = e.prototype;
                return t.reset = function () {
                    this.dw.reset(), this.strMap.clear()
                }, t.encodeInt = function (e) {
                    this.dw.writeInt8(1), this.dw.writeInt32(e)
                }, t.encodeLong = function (e) {
                    this.dw.writeInt8(2), "number" == typeof e ? this.dw.writeInt64(e) : (this.dw.writeInt32(e.low), this.dw.writeInt32(e.high))
                }, t.encodeFloat = function (e) {
                    this.dw.writeInt8(3), this.dw.writeFloat32(e)
                }, t.encodeDouble = function (e) {
                    this.dw.writeInt8(4), this.dw.writeFloat64(e)
                }, t.encodeNumber = function (e) {
                    ~~e !== e ? Math.floor(e) !== e ? this.encodeDouble(e) : this.encodeLong(e) : this.encodeInt(e)
                }, t.encodeString = function (e) {
                    var t = this.strMap.get(e);
                    void 0 !== t ? (this.dw.writeInt8(99), this.dw.write7BitInt(t)) : (this.dw.writeInt8(5), this.dw.writeUTF(e), this.strMap.set(e, this.strMap.size))
                }, t.encodeBoolean = function (e) {
                    this.dw.writeInt8(6), this.dw.writeInt8(e ? 1 : 0)
                }, t.encodeNull = function () {
                    this.dw.writeInt8(0)
                }, t.encodeDateTime = function (e) {
                    this.dw.writeInt8(10), this.dw.writeInt64(e.getTime())
                }, t.encodeBinary = function (e) {
                    this.dw.writeInt8(7), this.dw.write7BitInt(e.byteLength), this.dw.writeUint8Array(e)
                }, t.encodeArray = function (e) {
                    this.dw.writeInt8(9), this.dw.write7BitInt(e.length);
                    for (var t = e.length, n = 0; n < t; ++n) this.encode(e[n])
                }, t.encodeMap = function (e) {
                    var t = this;
                    this.dw.writeInt8(8), this.dw.write7BitInt(e.size), e.forEach(function (e, n) {
                        t.encode(n), t.encode(e)
                    })
                }, t.encodeObject = function (e) {
                    this.dw.writeInt8(8);
                    var t = [];
                    for (var n in e) if (!n.startsWith("$")) {
                        switch (typeof e[n]) {
                            case"function":
                            case"undefined":
                                continue
                        }
                        t.push(n)
                    }
                    this.dw.write7BitInt(t.length);
                    for (var r = 0, o = t; r < o.length; r++) {
                        var i = o[r];
                        this.encode(i), this.encode(e[i])
                    }
                }, t.encode = function (e) {
                    if (null != e) switch (e.constructor) {
                        case Number:
                            return void this.encodeNumber(e);
                        case Boolean:
                            return void this.encodeBoolean(e);
                        case String:
                            return void this.encodeString(e);
                        case c:
                            return void this.encodeLong(e);
                        case Array:
                            return void this.encodeArray(e);
                        case Map:
                            return void this.encodeMap(e);
                        case Date:
                            return void this.encodeDateTime(e);
                        case Uint8Array:
                            return void this.encodeBinary(e);
                        default:
                            if ("object" != typeof e) return void this.encodeNull();
                            this.encodeObject(e)
                    } else this.encodeNull()
                }, t.getBytes = function (e) {
                    return void 0 === e && (e = !1), this.dw.getBytes(e)
                }, e
            }(), l = function () {
                function e() {
                    this.dr = new o(null), this.strArr = []
                }

                var t = e.prototype;
                return t.reset = function (e) {
                    this.dr.reset(e), this.strArr.length = 0
                }, t.decode = function () {
                    switch (this.dr.readUInt8()) {
                        default:
                            return null;
                        case 1:
                            return this.dr.readInt32();
                        case 2:
                            return this.dr.readInt64();
                        case 3:
                            return this.dr.readFloat32();
                        case 4:
                            return this.dr.readFloat64();
                        case 5:
                            var e = this.dr.readUTF();
                            return this.strArr.push(e), e;
                        case 6:
                            return 1 == this.dr.readUInt8();
                        case 7:
                            return this.dr.readUint8Array(this.dr.read7BitInt(), !1);
                        case 8:
                            for (var t = this.dr.read7BitInt(), n = {}, r = 0; r < t; r++) {
                                var o = this.decode(), i = this.decode();
                                n[o] = i
                            }
                            return n;
                        case 9:
                            t = this.dr.read7BitInt();
                            var a = new Array(t);
                            for (r = 0; r < t; r++) a[r] = this.decode();
                            return a;
                        case 10:
                            return new Date(this.dr.readInt64());
                        case 99:
                            return this.strArr[this.dr.read7BitInt()]
                    }
                }, e
            }(), f = new u, d = new l;
            try {
                globalThis.bon = n
            } catch (p) {
            }
            n.BonDecoder = l, n.BonEncoder = u, n.DataReader = o, n.DataWriter = s, n.Int64 = c, n.decode = function (e) {
                var t = d;
                return t.reset(e), t.decode()
            }, n.encode = function (e, t) {
                void 0 === t && (t = !0);
                var n = f;
                return n.reset(), n.encode(e), n.getBytes(t)
            }
        }, {"@o4e/global": 14}],
        12: [function (e, t, n) {
            "use strict";
            Object.defineProperty(n, "__esModule", {value: !0});
            var r = e("@o4e/core");
            e("@o4e/global");
            var o = e("@o4e/mobx");

            function i(e) {
                if (e && e.__esModule) return e;
                var t = Object.create(null);
                return e && Object.keys(e).forEach(function (n) {
                    if ("default" !== n) {
                        var r = Object.getOwnPropertyDescriptor(e, n);
                        Object.defineProperty(t, n, r.get ? r : {
                            enumerable: !0, get: function () {
                                return e[n]
                            }
                        })
                    }
                }), t.default = e, Object.freeze(t)
            }

            var a = i(o), s = "__mobx_render_dispose", c = "__mobx_render", u = "__mobx_render_list";

            function l(e) {
                var t = e[s];
                return t || (Object.defineProperty(e, s, {value: new Map, enumerable: !1}), t = e[s]), t
            }

            function f(e, t, n) {
                if (e.hasOwnProperty(u) || Object.defineProperty(e, u, {
                    value: new Set(e[u]),
                    enumerable: !1
                }), e[u].add(t), !e[c]) {
                    e[c] = 1;
                    var r = e.onEnable;
                    Object.defineProperty(e, "onEnable", {
                        value: function () {
                            var e = this, t = l(this);
                            this[u].forEach(function (n) {
                                var r = t.get(n);
                                r && r(), t.set(n, o.autorun(function () {
                                    e[n]()
                                }))
                            }), r && r.call(this)
                        }, configurable: !0
                    });
                    var i = e.onDisable;
                    Object.defineProperty(e, "onDisable", {
                        value: function () {
                            var e = l(this);
                            this[u].forEach(function (t) {
                                var n = e.get(t);
                                n && n(), e.delete(t)
                            }), i && i.call(this)
                        }, configurable: !0
                    })
                }
                return n
            }

            (function () {
                r.addStartBack(function (e) {
                    return e.debug || o.configure({disableErrorBoundaries: !0}), Promise.resolve()
                }), o.decorate(r.DelegateBase, {doReceiveMsg: o.action.bound});
                var e = o.observable.box(r.TimeUtil.syncServerTime);
                Object.defineProperty(r.TimeUtil, "syncServerTime", {
                    get: function () {
                        return e.get()
                    }, set: function (t) {
                        e.set(t)
                    }
                }), o.decorate(r.TimeUtil, {serverTime: o.computed}), r.setIsArray(function (e) {
                    return Array.isArray(e) || o.isObservableArray(e)
                }), r.setIsMap(function (e) {
                    return e && e.constructor === Map || o.isObservableMap(e)
                })
            })();
            var d = Object.freeze(Object.assign(Object.create(null), a, {render: f}));
            globalThis.o4e = Object.assign(globalThis.o4e || {}, d), n.render = f, Object.keys(o).forEach(function (e) {
                "default" === e || n.hasOwnProperty(e) || Object.defineProperty(n, e, {
                    enumerable: !0,
                    get: function () {
                        return o[e]
                    }
                })
            })
        }, {"@o4e/core": 13, "@o4e/global": 14, "@o4e/mobx": 15}],
        13: [function (e, t, n) {
            "use strict";
            Object.defineProperty(n, "__esModule", {value: !0}), e("@o4e/global");
            var r = e("lz4js"), o = e("@o4e/bon");

            function i(e) {
                return e && "object" == typeof e && "default" in e ? e : {default: e}
            }

            var a = i(r), s = {
                rpc: {
                    connectTimeoutTotal: 1e4,
                    connectTimeoutOnce: 3e3,
                    connectRetryMinInterval: 1e3,
                    heartbeatInterval: 5e3,
                    heartbeatTimeout: 1e4,
                    httpTimeout: 0,
                    maxSendOnce: 10,
                    maxRecvOnce: 10,
                    networkState: function () {
                        return 1
                    }
                }
            }, c = [];

            function u(e) {
                c.push(e)
            }

            function l(e) {
                if (e) {
                    var t = Object.assign({}, s, e);
                    t.rpc = Object.assign(s.rpc, e.rpc), Object.assign(s, t)
                }
                return c.reduce(function (e, t) {
                    return e.then(function () {
                        return t(s)
                    })
                }, Promise.resolve())
            }

            var f = new TextEncoder, d = new Uint8Array(100), p = 131;

            function h(e) {
                for (var t = 0, n = 0; n < e.length; n++) t = ~~(t * p + e[n]);
                return 2147483647 & t
            }

            function g(e) {
                var t = 6 * e.length;
                d.length < t && (d = new Uint8Array(t));
                var n = f.encodeInto(e, d);
                return h(d.subarray(0, n.written))
            }

            function m(e) {
                return h(e.split("").map(function (e) {
                    return e.codePointAt(0)
                }))
            }

            var _ = a.default.compress, v = a.default.decompress, E = function (e) {
                e = _(e);
                for (var t = 2 + ~~(248 * Math.random()), n = Math.min(e.length, 100); --n >= 0;) e[n] ^= t;
                return e[0] = 112, e[1] = 108, e[2] = 170 & e[2] | (t >> 7 & 1) << 6 | (t >> 6 & 1) << 4 | (t >> 5 & 1) << 2 | (t >> 4 & 1) << 0, e[3] = 170 & e[3] | (t >> 3 & 1) << 6 | (t >> 2 & 1) << 4 | (t >> 1 & 1) << 2 | (t >> 0 & 1) << 0, e
            }, y = function (e) {
                for (var t = (e[2] >> 6 & 1) << 7 | (e[2] >> 4 & 1) << 6 | (e[2] >> 2 & 1) << 5 | (e[2] >> 0 & 1) << 4 | (e[3] >> 6 & 1) << 3 | (e[3] >> 4 & 1) << 2 | (e[3] >> 2 & 1) << 1 | (e[3] >> 0 & 1) << 0, n = Math.min(100, e.length); --n >= 2;) e[n] ^= t;
                return e[0] = 4, e[1] = 34, e[2] = 77, e[3] = 24, v(e)
            }, S = function () {
                function e() {
                    this.states = {}, this.nextState = void 0
                }

                var t = e.prototype;
                return t.register = function (e, t, n, r) {
                    this.registerState({state: e, enter: t, exit: n, update: r})
                }, t.registerState = function (e) {
                    this.states[e.state] = e
                }, t.changeStateNextFrame = function (e) {
                    this.nextState = e
                }, t.changeState = function (e) {
                    this.state && this.state.exit && this.state.exit(), this.preState = this.curState, this.curState = e, this.state = this.states[e], this.firstUpdate = !0, this.state && this.state.enter && this.state.enter()
                }, t.update = function () {
                    var e = this.nextState;
                    void 0 !== e && (this.nextState = void 0, this.changeState(e)), this.state && this.state.update && this.state.update(), this.firstUpdate = !1
                }, e
            }();

            function C(e) {
                return new Promise(function (t) {
                    setTimeout(t, e)
                })
            }

            var A, T, b = 0, I = 0, w = !1, O = function () {
                function e() {
                }

                return Object.defineProperty(e, "serverTime", {
                    get: function () {
                        return e.syncServerTime + Date.now() - b
                    }, set: function (t) {
                        if (t) {
                            e.lastServerTime = t, w || (w = !0, setInterval(function () {
                                I += 1e3, Math.abs(I - e.serverTime) < 2e3 && (I = e.serverTime)
                            }, 1e3));
                            var n = e.serverTime;
                            e.syncServerTime > 0 && t < n && n - t < 1e3 ? I = n : (e.syncServerTime = t, b = Date.now(), I = t)
                        }
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(e, "serverTimeIsValid", {
                    get: function () {
                        return e.syncServerTime > 0 && Math.abs(I - e.serverTime) < 1e4
                    }, enumerable: !1, configurable: !0
                }), e.isServerTimeValidate = function () {
                    return e.serverTimeIsValid
                }, e.syncServerTime = 0, e.lastServerTime = 0, e
            }(), R = function (e) {
                var t = ~~(4294967295 * Math.random()), n = new Uint8Array(e.length + 4);
                n[0] = 255 & t, n[1] = t >> 8 & 255, n[2] = t >> 16 & 255, n[3] = t >> 24 & 255, n.set(e, 4);
                for (var r = 2 + ~~(248 * Math.random()), o = n.length; --o >= 0;) n[o] ^= r;
                return n[0] = 112, n[1] = 120, n[2] = 170 & n[2] | (r >> 7 & 1) << 6 | (r >> 6 & 1) << 4 | (r >> 5 & 1) << 2 | (r >> 4 & 1) << 0, n[3] = 170 & n[3] | (r >> 3 & 1) << 6 | (r >> 2 & 1) << 4 | (r >> 1 & 1) << 2 | (r >> 0 & 1) << 0, n
            }, M = function (e) {
                for (var t = (e[2] >> 6 & 1) << 7 | (e[2] >> 4 & 1) << 6 | (e[2] >> 2 & 1) << 5 | (e[2] >> 0 & 1) << 4 | (e[3] >> 6 & 1) << 3 | (e[3] >> 4 & 1) << 2 | (e[3] >> 2 & 1) << 1 | (e[3] >> 0 & 1) << 0, n = e.length; --n >= 4;) e[n] ^= t;
                return e.subarray(4)
            };

            function L(e) {
                return JSON.stringify(e, function (e, t) {
                    if (t instanceof Uint8Array) return "binary(" + t.length + ")";
                    if (t instanceof Map) {
                        var n = {};
                        return t.forEach(function (e, t) {
                            n[t] = e
                        }), n
                    }
                    return t
                })
            }

            n.HttpMethod = void 0, (A = n.HttpMethod || (n.HttpMethod = {})).GET = "GET", A.POST = "POST", n.HttpResponseType = void 0, (T = n.HttpResponseType || (n.HttpResponseType = {})).TEXT = "text", T.ARRAY_BUFFER = "arraybuffer";
            var N = function () {
                function e() {
                    this.timeout = 0, this.$responseType = n.HttpResponseType.ARRAY_BUFFER, this.$url = "", this.$method = ""
                }

                var t = e.prototype;
                return Object.defineProperty(t, "response", {
                    get: function () {
                        return this.$xhr ? null != this.$xhr.response ? this.$xhr.response : "text" == this.$responseType ? this.$xhr.responseText : "arraybuffer" == this.$responseType && /msie 9.0/i.test(navigator.userAgent) ? globalThis.convertResponseBodyToText(this.$xhr.responseBody) : null : null
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "responseType", {
                    get: function () {
                        return this.$responseType
                    }, set: function (e) {
                        this.$responseType = e
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "withCredentials", {
                    get: function () {
                        return this.$withCredentials
                    }, set: function (e) {
                        this.$withCredentials = e
                    }, enumerable: !1, configurable: !0
                }), t.open = function (e, t) {
                    var r = this;
                    void 0 === t && (t = n.HttpMethod.GET), this.$url = e, this.$method = t, this.$xhr && (this.$xhr.abort(), this.$xhr = null);
                    var o = new XMLHttpRequest;
                    o.addEventListener("load", this.onload.bind(this)), o.addEventListener("error", function (e) {
                        return r.onError("string" == typeof e ? e : "unkown")
                    }), o.ontimeout = function () {
                        return r.onError("timeout")
                    }, o.open(this.$method, this.$url, !0), this.$xhr = o
                }, t.send = function (e) {
                    var t = this;
                    return new Promise(function (n, r) {
                        if (t.resolve = n, t.reject = r, null != t.$responseType && (t.$xhr.responseType = t.$responseType), null != t.$withCredentials && (t.$xhr.withCredentials = t.$withCredentials), t.headerObj) for (var o in t.headerObj) t.$xhr.setRequestHeader(o, t.headerObj[o]);
                        t.$xhr.timeout = t.timeout, t.$xhr.send(e)
                    })
                }, t.abort = function () {
                    this.$xhr && this.$xhr.abort()
                }, t.getAllResponseHeaders = function () {
                    return this.$xhr ? this.$xhr.getAllResponseHeaders() || "" : null
                }, t.setRequestHeader = function (e, t) {
                    this.headerObj || (this.headerObj = {}), this.headerObj[e] = t
                }, t.getResponseHeader = function (e) {
                    return this.$xhr ? this.$xhr.getResponseHeader(e) || "" : null
                }, t.onload = function () {
                    this.$xhr.status >= 400 ? this.onError(this.$xhr.status + "") : this.onSuccess()
                }, t.onSuccess = function () {
                    this.resolve && (this.resolve(this.response), this.resolve = null, this.reject = null)
                }, t.onError = function (e) {
                    this.reject && (this.reject(e), this.reject = null, this.resolve = null)
                }, e
            }(), D = function (e, t) {
                return (D = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
                })(e, t)
            };

            function P(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Class extends value " + String(t) + " is not a constructor or null");

                function n() {
                    this.constructor = e
                }

                D(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }

            var B = function () {
            };

            function x(e, t) {
                var n;
                return s.debug ? (n = console[e]).bind.apply(n, [console].concat(t())) : B
            }

            function G(e) {
                return x("debug", e)
            }

            var U = function () {
                    function e() {
                    }

                    var t = e.prototype;
                    return Object.defineProperty(t, "isEmpty", {
                        get: function () {
                            if (!this.listeners) return !0;
                            for (var e in this.listeners) if (this.listeners[e] && this.listeners[e].length > 0) return !1;
                            return !0
                        }, enumerable: !1, configurable: !0
                    }), t._on = function (e, t, n, r) {
                        var o = this.listeners || (this.listeners = {});
                        (o[e] || (o[e] = [])).push({type: e, listener: t, thisObj: n, once: r})
                    }, t.on = function (e, t, n) {
                        this._on(e, t, n, !1)
                    }, t.once = function (e, t, n) {
                        this._on(e, t, n, !0)
                    }, t.off = function (e, t, n) {
                        var r = this.listeners && this.listeners[e];
                        if (r && 0 !== r.length) for (var o = r.length; --o >= 0;) {
                            var i = r[o];
                            i && i.listener === t && i.thisObj === n && (r[o] = null)
                        }
                    }, t.emit = function (e, t) {
                        var n = this.listeners && this.listeners[e];
                        if (n && 0 !== n.length) for (var r, o = 0; o < n.length; o++) {
                            var i = n[o];
                            if (i) {
                                if (r || (r = {
                                    target: i.thisObj,
                                    type: e,
                                    data: t
                                }), i.once && n.splice(o--, 1), i.listener.call(i.thisObj, r), r.cancel) break
                            } else n.splice(o--, 1)
                        }
                    }, t.clear = function (e) {
                        this.listeners && (e ? delete this.listeners[e] : this.listeners = void 0)
                    }, e
                }(), H = "e_msg", k = "e_preconnect", F = "e_connected", j = function () {
                    function e() {
                        this.syncCommands = new Set(["respsync"]), this.syncAllCommand = !0
                    }

                    var t = e.prototype;
                    return t.addSyncCommand = function (e) {
                        this.syncCommands.add(e.toLowerCase())
                    }, t.setRoot = function (e) {
                        this.root = e
                    }, e
                }(), K = new j, V = function () {
                    function e() {
                        this.syncData = K, this.events = new U
                    }

                    return e.prototype.doReceiveMsg = function (e) {
                        e.time && (O.serverTime = e.time);
                        var t = this.syncData;
                        if (t.root && (t.syncAllCommand || t.syncCommands.has(e.cmd))) for (var n in e.rawData) {
                            var r = t.root[n];
                            r && r.setValue && r.setValue(e.rawData[n])
                        }
                        try {
                            this.events.emit(e.cmd, e), this.events.emit(H, e)
                        } catch (o) {
                            console.error(o)
                        }
                    }, e
                }(),
                W = new Map([[Number, "Number"], [String, "String"], [Boolean, "Bool"], [Date, "Date"], [Uint8Array, "Bytes"], [de, "Any"]]),
                Y = "ti", q = new Map, z = {next: new Map};

            function Q(e) {
                return q.get(e)
            }

            function X(e) {
                return null == e ? ee(de) : n.isArray(e) ? ee(Array) : n.isMap(e) ? ee(Map) : ee(e.constructor)
            }

            var J = [void 0];

            function Z(e) {
                var t = e[Y];
                return t && t.ctor === e && t.ti
            }

            function $(e, t) {
                e[Y] = {ctor: e, ti: t}
            }

            function ee(e) {
                if (!Array.isArray(e)) {
                    if (e) {
                        var t = Z(e);
                        if (t) return t
                    }
                    J[0] = e, e = J
                }
                return ne(e, 0)
            }

            function te(e, t) {
                var n = e.next.get(t);
                return n || (n = {next: new Map}, e.next.set(t, n)), n
            }

            function ne(e, t) {
                if (!(t >= e.length)) {
                    var n = e[t] || Object, r = Z(n);
                    if (r) return r;
                    var o = te(z, n);
                    if (n === Map || n === Array) for (var i = t + 1, a = e.length; i < a; i++) o = te(o, e[i]);
                    if (o.leaf) return o.leaf;
                    var s = o.leaf = new re;
                    switch (n) {
                        case Number:
                        case String:
                        case Boolean:
                        case Date:
                        case Uint8Array:
                        case de:
                            s.ctor = o.ctor = n, s.name = s.typeCode = W.get(n), $(n, s);
                            break;
                        case Map:
                            s.ctor = o.ctor = Map, s.typeCode = "Map", s.eTypes = [t + 1 >= e.length ? ee(de) : ne(e, t + 1), t + 2 >= e.length ? ee(de) : ne(e, t + 2)], s.name = "Map<" + s.eTypes[0].name + "," + s.eTypes[1].name + ">";
                            break;
                        case Array:
                            s.ctor = o.ctor = Array, s.typeCode = "Array", s.eTypes = [t + 1 >= e.length ? ee(de) : ne(e, t + 1)], s.name = "Array<" + s.eTypes[0].name + ">";
                            break;
                        default:
                            s.ctor = o.ctor = n, s.typeCode = "Object", n !== Object && (s.base = ee(Object.getPrototypeOf(o.ctor.prototype).constructor), "Object" === s.typeCode && s.base && "Class" === s.base.typeCode && (fe(n), s.typeCode = "Class")), s.name = n.name, $(n, s)
                    }
                    return q.set(s.name, s), o.leaf
                }
            }

            var re = function () {
                function e() {
                }

                var t = e.prototype;
                return t.addProp = function (e) {
                    this.ownProperties || (this.ownProperties = new Map), this.ownProperties.set(e.name, e), this.allPropertiesList = void 0, this.allPropertiesMap = void 0
                }, t.getOwnProp = function (e) {
                    var t;
                    return null === (t = this.ownProperties) || void 0 === t ? void 0 : t.get(e)
                }, t.hasOwnProp = function (e) {
                    var t;
                    return null === (t = this.ownProperties) || void 0 === t ? void 0 : t.has(e)
                }, t.createInstance = function () {
                    switch (this.typeCode) {
                        case"Bool":
                            return !1;
                        case"String":
                            return "";
                        case"Array":
                        case"Class":
                        case"Map":
                        case"Object":
                            return new this.ctor;
                        case"Date":
                            return new Date(0);
                        case"Number":
                            return 0;
                        default:
                            return
                    }
                }, t.ensureAll = function () {
                    var e;
                    if (!this.allPropertiesMap) {
                        var t = this.allPropertiesMap = new Map;
                        this.base && this.base.getAllProps().forEach(function (e) {
                            t.set(e.name, e)
                        }), null === (e = this.ownProperties) || void 0 === e || e.forEach(function (e) {
                            t.set(e.name, e)
                        })
                    }
                }, t.getProp = function (e) {
                    return this.ensureAll(), this.allPropertiesMap.get(e)
                }, t.getAllProps = function () {
                    var e = this.allPropertiesList;
                    return e || (this.ensureAll(), this.allPropertiesList = e = [], this.allPropertiesMap.forEach(function (t) {
                        return e.push(t)
                    }), e)
                }, e
            }(), oe = function () {
            };

            function ie(e) {
                return function (t, n) {
                    var r = se(t.constructor), o = new oe;
                    o.name = n, o.type = ee(e), r.addProp(o)
                }
            }

            function ae(e, t) {
                switch (e) {
                    case 1:
                        return ie(t);
                    case 2:
                        return ie(pe(t || de));
                    case 3:
                        return ie(he(Number, t || de));
                    case 5:
                        return ie(he(String, t || de));
                    case 4:
                        return ie(Date);
                    default:
                        return ie(de)
                }
            }

            function se(e) {
                var t = ee(e);
                return t.typeCode = "Class", t
            }

            function ce(e) {
                return function (t) {
                    var n = se(t);
                    e && (t._className = n.name = e, q.set(e, n))
                }
            }

            var ue = new Set([Object]);

            function le(e) {
                var t;
                if (e && !ue.has(e)) {
                    ue.add(e);
                    var n = se(e);
                    le(null === (t = n.base) || void 0 === t ? void 0 : t.ctor);
                    var r = new e;
                    Object.keys(r).filter(function (e) {
                        return !e.startsWith("$") && !e.startsWith("_")
                    }).forEach(function (e) {
                        if (!n.getProp(e)) {
                            var t = new oe;
                            t.name = e, t.type = X(r[e]), n.addProp(t)
                        }
                    })
                }
            }

            function fe(e) {
                if (void 0 === e) return function (e) {
                    le(e)
                };
                Array.isArray(e) ? e.forEach(function (e) {
                    le(e)
                }) : le(e)
            }

            function de() {
            }

            function pe(e) {
                return Array.isArray(e) ? [Array].concat(e) : [Array, e]
            }

            function he(e, t) {
                return Array.isArray(t) ? [Map, e].concat(t) : [Map, e, t]
            }

            function ge(e) {
                n.isArray = e
            }

            function me(e) {
                n.isMap = e
            }

            n.isArray = Array.isArray, n.isMap = function (e) {
                return e.constructor === Map
            };
            var _e = function () {
                function e() {
                }

                var t = e.prototype;
                return t.toJSON = function () {
                    return ve(this)
                }, t.reset = function () {
                    Ee(this)
                }, t.setValue = function (e) {
                    ye(e, this, X(this))
                }, t.setHistoryValue = function (e, t) {
                    this.$history || (this.$history = new Map), this.$history.set(e, t)
                }, e
            }();

            function ve(e) {
                var t = X(e);
                switch (t.typeCode) {
                    default:
                        return e;
                    case"Date":
                        return e.getTime();
                    case"Array":
                        var n = [];
                        return e.forEach(function (e) {
                            n.push(ve(e))
                        }), n;
                    case"Map":
                        var r = {};
                        return e.forEach(function (e, t) {
                            r[t + ""] = ve(e)
                        }), r;
                    case"Object":
                        var o = {};
                        return Object.keys(e).forEach(function (t) {
                            o[t] = ve(e[t])
                        }), o;
                    case"Class":
                        var i = {};
                        return Object.keys(e).forEach(function (n) {
                            t.getProp(n) && (i[n] = ve(e[n]))
                        }), i
                }
            }

            function Ee(e) {
                var t = X(e);
                switch (t.typeCode) {
                    default:
                        return t.createInstance();
                    case"Map":
                        return e.clear(), e;
                    case"Array":
                        return e.length = 0, e;
                    case"Date":
                        return e.setTime(0), e;
                    case"Object":
                        return Object.keys(e).forEach(function (t) {
                            delete e[t]
                        }), e;
                    case"Class":
                        return t.getAllProps().forEach(function (t) {
                            var n = e[t.name];
                            e[t.name] = n ? Ee(n) : t.type.createInstance()
                        }), e
                }
            }

            function ye(e, t, n) {
                var r;
                for (var o in e) {
                    var i = e[o], a = n.getProp(o);
                    if (a) {
                        var s = t[o];
                        a.recordFlag && (null === (r = t.setHistoryValue) || void 0 === r || r.call(t, o, s)), t[o] = Se(i, s, a.type)
                    }
                }
            }

            function Se(e, t, r) {
                switch (r || (r = X(t)), r.typeCode) {
                    case"Number":
                        return +e || 0;
                    case"Bool":
                        return !!e;
                    case"String":
                        return e + "";
                    case"Bytes":
                        return e instanceof Uint8Array ? e : void 0;
                    case"Date":
                        return "number" == typeof e ? new Date(e) : e instanceof Date ? e : Array.isArray(e) ? new Date(1e3 * e[0] + e[1] / 1e6) : new Date(0);
                    case"Array":
                        if (!Array.isArray(e)) return [];
                        var o = [], i = r.eTypes[0];
                        return e.forEach(function (e) {
                            o.push(Se(e, void 0, i))
                        }), o;
                    case"Map":
                        if (!e) return t && t.constructor === Map ? (t.clear(), t) : new Map;
                        (l = t) && n.isMap(l) || (l = new Map);
                        var a = r.eTypes[0], s = r.eTypes[1];
                        for (var c in e) {
                            var u = e[c];
                            c = Se(c, void 0, a), null == u ? l.delete(c) : l.set(c, Se(u, l.get(c), s))
                        }
                        return l;
                    case"Class":
                        return e ? ((l = t) && l.constructor === r.ctor ? r.key && e[r.key] && l[r.key] !== e[r.key] && Ee(l) : l = new r.ctor, "function" == typeof l.setValue ? (l.setValue(e), l) : (ye(e, l, r), l)) : t ? Ee(t) : r.createInstance();
                    case"Object":
                        if (!e) return r.createInstance();
                        var l = t;
                        for (var c in l || (l = new r.ctor), e) l[c] = Se(e[c], l[c]);
                        return l;
                    case"Any":
                        if (null == t) return e;
                        var f = X(e), d = X(t);
                        return f.typeCode === d.typeCode || "Object" === f.typeCode && ("Class" === d.typeCode || "Map" == d.typeCode) ? Se(e, t) : e;
                    default:
                        return
                }
            }

            function Ce(e) {
                return function (t, n) {
                    var r = ee(t.constructor).getOwnProp(n);
                    r && (r.recordFlag = e)
                }
            }

            function Ae(e) {
                return function (t) {
                    ee(t).key = e
                }
            }

            var Te, be = function () {
                function e(e) {
                    this.rtt = 0, e.cmd = e.cmd && e.cmd.toLowerCase(), this._raw = e
                }

                var t = e.prototype;
                return Object.defineProperty(t, "sendMsg", {
                    get: function () {
                        return this._sendMsg
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "seq", {
                    get: function () {
                        return this._raw.seq
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "resp", {
                    get: function () {
                        return this._raw.resp
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "ack", {
                    get: function () {
                        return this._raw.ack
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "cmd", {
                    get: function () {
                        return this._raw.cmd && this._raw.cmd.toLowerCase()
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "code", {
                    get: function () {
                        return ~~this._raw.code
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "error", {
                    get: function () {
                        return this._raw.error
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "time", {
                    get: function () {
                        return this._raw.time
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "body", {
                    get: function () {
                        return this._raw.body
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "rawData", {
                    get: function () {
                        return void 0 !== this._rawData || void 0 === this.body ? this._rawData : this._rawData = o.decode(this.body)
                    }, enumerable: !1, configurable: !0
                }), t.setDataType = function (e) {
                    return this._t = e && ee(e), this
                }, t.setSendMsg = function (e) {
                    return this._sendMsg = e, this.setDataType(e.respType), this
                }, t.getData = function (e) {
                    if (void 0 !== this._data || void 0 === this.rawData) return this._data;
                    var t = this._t;
                    if (e || t || console.error("\u6ca1\u6709\u8bbe\u7f6e\u54cd\u5e94\u6570\u636e\u7c7b\u578b"), e && t && e.constructor != t.ctor) {
                        var n = X(e);
                        x("error", function () {
                            return ["getData type not match, " + n.name + " != " + t.name]
                        })(), t = n
                    }
                    return this._data = Se(this.rawData, e, t), this._data
                }, t.toLogString = function () {
                    var e = Object.assign({}, this._raw);
                    return delete e.body, e.data = this.rawData, e.rtt = this.rtt, L(e)
                }, e
            }();
            n.Encoding = void 0, (Te = n.Encoding || (n.Encoding = {})).LX = "lx", Te.X = "x", Te.XTM = "xtm", Te.NULL = "";
            var Ie = globalThis.XXTEA && new globalThis.XXTEA;

            function we(e, t) {
                var n = o.encode(e, !1);
                return (n = t.encrypt(n)).buffer.byteLength === n.length ? n.buffer : n.buffer.slice(0, n.length)
            }

            function Oe(e, t) {
                var n = t.decrypt(new Uint8Array(e));
                return new be(o.decode(n))
            }

            var Re, Me = new Map;

            function Le(e, t) {
                Me.set(e, t)
            }

            (Re = Le)("lx", {encrypt: E, decrypt: y}), Re("x", {
                encrypt: R,
                decrypt: M
            }), Re("xtm", {
                encrypt: function (e) {
                    return Ie ? Ie.encryptMod({data: e.buffer, length: e.length}) : e
                }, decrypt: function (e) {
                    return Ie ? Ie.decryptMod({data: e.buffer, length: e.length}) : e
                }
            });
            var Ne, De = {
                encrypt: function (e) {
                    return e.slice()
                }, decrypt: function (e) {
                    return e.length > 4 && 112 == e[0] && 108 == e[1] ? e = Pe("lx").decrypt(e) : e.length > 4 && 112 == e[0] && 120 == e[1] ? e = Pe("x").decrypt(e) : e.length > 3 && 112 == e[0] && 116 == e[1] && (e = Pe("xtm").decrypt(e)), e
                }
            };

            function Pe(e) {
                return Me.get(e) || De
            }

            n.ErrorCode = void 0, (Ne = n.ErrorCode || (n.ErrorCode = {}))[Ne.TIMEOUT = -2] = "TIMEOUT", Ne[Ne.UNKNOWN = -1] = "UNKNOWN", Ne[Ne.NEED_AUTH = -3] = "NEED_AUTH", Ne[Ne.AUTH_ERROR = -4] = "AUTH_ERROR", Ne[Ne.CANCELED = -5] = "CANCELED", Ne[Ne.SKIP = 6] = "SKIP";
            var Be, xe = function (e) {
                function t(r) {
                    var o = e.call(this) || this;
                    return o.seq = 0, o.defaultHeaders = {
                        "Content-Type": "application/octet-stream",
                        "content-type": "application/octet-stream"
                    }, o.encoding = n.Encoding.LX, r || (t.current = o), o
                }

                P(t, e);
                var r = t.prototype;
                return Object.defineProperty(r, "token", {
                    get: function () {
                        return this.defaultHeaders["O4e-Token"]
                    }, set: function (e) {
                        this.defaultHeaders["O4e-Token"] = e
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(r, "encoding", {
                    get: function () {
                        return this.defaultHeaders["O4e-Encoding"]
                    }, set: function (e) {
                        this.defaultHeaders["O4e-Encoding"] = e, this.enc = Pe(e)
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(r, "version", {
                    get: function () {
                        return this.defaultHeaders["O4e-Version"]
                    }, set: function (e) {
                        this.defaultHeaders["O4e-Version"] = e
                    }, enumerable: !1, configurable: !0
                }), r.onSendError = function (e) {
                    console.error(e), G(function () {
                        return ["%c<<<< http recieve error: " + e, "color:#00afaf;font-weight:bold;"]
                    })();
                    var t = new be({code: n.ErrorCode.UNKNOWN, error: e || "unkown"});
                    return this.doReceiveMsg(t), t
                }, r.sendAsync = function (e) {
                    var t = this;
                    return new Promise(function (r) {
                        try {
                            G(function () {
                                return ["%c>>>> http send: " + L(e), "color:#00af00;font-weight:bold;"]
                            })();
                            var o = t._url || s.url, i = new N;
                            for (var a in i.responseType = n.HttpResponseType.ARRAY_BUFFER, t.defaultHeaders) t.defaultHeaders[a] && i.setRequestHeader(a, t.defaultHeaders[a]);
                            if (e.headers) for (var a in e.headers) e.headers[a] && i.setRequestHeader(a, e.headers[a]);
                            var c = ++t.seq, u = o + "/" + e.cmd.replace("_", "/").toLowerCase() + "?_seq=" + c;
                            e.hint && (u += "&_hint=" + e.hint), t.lang && (u += "&_lang=" + t.lang);
                            var l = we(e.params, t.enc);
                            i.open(u, n.HttpMethod.POST);
                            var f = e.timeout || s.rpc.httpTimeout;
                            f && (i.timeout = f);
                            var d = Date.now();
                            i.send(l).then(function () {
                                var n, o, a = Date.now() - d, s = Oe(i.response, t.enc);
                                (n = "_resppak" == s.cmd ? s.rawData.map(function (e) {
                                    return new be(e)
                                }) : [s]).forEach(function (n) {
                                    n.rtt = a, n.resp && (o = n).setSendMsg(e), G(function () {
                                        return ["%c<<<< http recieve: " + n.toLogString(), "color:#00afaf;font-weight:bold;"]
                                    })(), t.doReceiveMsg(n)
                                }), o || (o = n[0]).setSendMsg(e), r(o)
                            }).catch(function (e) {
                                r(t.onSendError(e))
                            })
                        } catch (p) {
                            r(t.onSendError(p))
                        }
                    })
                }, t
            }(V), Ge = function () {
                function e(e, t) {
                    var n = this;
                    this.raw = e, this.frameSize = +t, this.offset = -1, this.frameSize > 0 && (this.header = new DataView(new ArrayBuffer(8)), this.header.setUint32(0, 1836213824, !0)), e.onmessage = function (e) {
                        return n.onMsg(e)
                    }
                }

                var t = e.prototype;
                return Object.defineProperty(t, "readyState", {
                    get: function () {
                        return this.raw.readyState
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "binaryType", {
                    get: function () {
                        return this.raw.binaryType
                    }, set: function (e) {
                        this.raw.binaryType = e
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "onopen", {
                    get: function () {
                        return this.raw.onopen
                    }, set: function (e) {
                        this.raw.onopen = e
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "onclose", {
                    get: function () {
                        return this.raw.onclose
                    }, set: function (e) {
                        this.raw.onclose = e
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "onerror", {
                    get: function () {
                        return this.raw.onerror
                    }, set: function (e) {
                        this.raw.onerror = e
                    }, enumerable: !1, configurable: !0
                }), t.getU32 = function (e) {
                    return e[0] | e[1] << 8 | e[2] << 16 | e[3] << 24
                }, t.onMsg = function (e) {
                    var t = new Uint8Array(e.data);
                    if (this.frameSize <= 0) this.onmessage && this.onmessage(e); else {
                        if (this.offset < 0 && t.length >= 8 && 1836213824 === this.getU32(t)) {
                            var n = this.getU32(t.subarray(4));
                            this.buffer = new Uint8Array(n), t = t.subarray(8), this.offset = 0
                        }
                        if (this.offset < 0) this.onmessage && this.onmessage(e); else {
                            this.buffer.set(t, this.offset), this.offset += t.length;
                            var r = this.buffer.length;
                            if (this.offset < this.buffer.length) this.onframe && this.onframe({
                                total: r,
                                loaded: this.offset
                            }); else {
                                if (this.offset == this.buffer.length) return t = this.buffer, this.buffer = void 0, this.offset = -1, void (this.onmessage && this.onmessage({data: t.buffer}));
                                this.buffer = void 0, this.offset = -1, this.onerror && this.onerror(new Event("merge msg error"))
                            }
                        }
                    }
                }, t.send = function (e) {
                    var t = e.byteLength;
                    if (this.frameSize <= 0 || t <= this.frameSize) this.raw.send(e); else {
                        this.header.setUint32(4, t, !0), this.raw.send(this.header.buffer);
                        for (var n = 0; n < t;) {
                            var r = Math.min(t, n + this.frameSize);
                            this.raw.send(e.slice(n, r)), n = r
                        }
                    }
                }, t.close = function () {
                    this.raw.close()
                }, e
            }(), Ue = globalThis.requestAnimationFrame || function (e) {
                return setTimeout(e, 10)
            };
            n.WebSocketClientState = void 0, (Be = n.WebSocketClientState || (n.WebSocketClientState = {}))[Be.Idle = 0] = "Idle", Be[Be.Connecting = 1] = "Connecting", Be[Be.Running = 2] = "Running", Be[Be.Reconnecting = 3] = "Reconnecting", Be[Be.Error = 4] = "Error";
            var He = function () {
                function e() {
                    this._arr = [], this._idx = 0, this.seq = 0
                }

                var t = e.prototype;
                return Object.defineProperty(t, "length", {
                    get: function () {
                        return this._arr.length - this._idx
                    }, enumerable: !1, configurable: !0
                }), t.enqueue = function (e) {
                    this._arr.push(e)
                }, t.dequeue = function () {
                    if (!(this._idx >= this._arr.length)) return this._arr[this._idx++]
                }, t.confirm = function (e) {
                    var t = this._arr.length - this.seq + e - 1;
                    t >= this._idx && (t = this._idx - 1), t < 0 || (this._arr.splice(0, t + 1), this._idx -= t + 1)
                }, t.restore = function () {
                    this._idx = 0
                }, e
            }(), ke = function () {
                function e() {
                    this._arr = [], this._seq = 0
                }

                var t = e.prototype;
                return Object.defineProperty(t, "seq", {
                    get: function () {
                        return this._seq
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t, "length", {
                    get: function () {
                        return this._arr.length
                    }, enumerable: !1, configurable: !0
                }), t.enqueue = function (e) {
                    if (~~e.seq > 0) {
                        if (e.seq <= this._seq) return;
                        if (e.seq > this._seq + 1) throw new Error("over seq: " + e);
                        this._seq = e.seq
                    }
                    this._arr.push(e)
                }, t.dequeue = function () {
                    if (0 !== this._arr.length) return this._arr.shift()
                }, e
            }(), Fe = function () {
                function e() {
                    this._last = this._now = Date.now()
                }

                var t = e.prototype;
                return t.update = function () {
                    var e = Date.now();
                    this._now += Math.max(8, Math.min(e - this._last, 100)), this._last = e
                }, Object.defineProperty(t, "now", {
                    get: function () {
                        return this._now
                    }, enumerable: !1, configurable: !0
                }), e
            }();

            function je(e, t) {
                try {
                    e.resolve(t)
                } catch (n) {
                    console.error(n)
                }
            }

            var Ke = new ArrayBuffer(1), Ve = {}, We = {},
                Ye = {sid: "sid", sid2: "sid2", lang: "lang", frameSize: "fs"}, qe = function () {
                    function e() {
                        var e = this;
                        this._destroyed = !1, this._sendData = {}, this.events = new U, this.enc = Pe(""), globalThis.ws = this, this.networkState = s.rpc.networkState, this._sm = new S, this._sm.registerState({
                            state: n.WebSocketClientState.Running,
                            enter: function () {
                                return e.onRunningEnter()
                            },
                            update: function () {
                                return e.onRunningUpdate()
                            }
                        }), this._sm.registerState({
                            state: n.WebSocketClientState.Connecting, enter: function () {
                                return e.onConnectingEnter()
                            }, update: function () {
                                return e.onConnectingUpdate()
                            }
                        }), this._sm.registerState({
                            state: n.WebSocketClientState.Reconnecting, enter: function () {
                                return e.onReconnectingEnter()
                            }, update: function () {
                                return e.onReconnectingUpdate()
                            }
                        }), this._sm.registerState({
                            state: n.WebSocketClientState.Error, enter: function () {
                                return e.onErrorEnter()
                            }
                        }), this._sm.changeState(n.WebSocketClientState.Idle), this._frameTimer = new Fe, this.reset(), Ue(function () {
                            return e.update()
                        })
                    }

                    var t = e.prototype;
                    return Object.defineProperty(t, "isDirect", {
                        get: function () {
                            return this.connectOptions && !!this.connectOptions.sid
                        }, enumerable: !1, configurable: !0
                    }), Object.defineProperty(t, "connected", {
                        get: function () {
                            return this._sm.curState == n.WebSocketClientState.Running
                        }, enumerable: !1, configurable: !0
                    }), Object.defineProperty(t, "connectionState", {
                        get: function () {
                            return this._sm.curState
                        }, enumerable: !1, configurable: !0
                    }), t.resetSendData = function () {
                        var e = this._sendData;
                        for (var t in e) e[t] = void 0;
                        return e
                    }, t.reset = function () {
                        this._destroyed || (this.cleanData(), this.events.emit("e_closed"), this._sm.changeState(n.WebSocketClientState.Idle))
                    }, t.destroy = function () {
                        this._destroyed = !0, this.cleanData(), this.events.emit("e_closed"), this.events.clear()
                    }, t.getAndUseAck = function () {
                        var e = this._ack;
                        return this._ack = 0, e
                    }, t.connect = function (e) {
                        var t = this;
                        if (this._sm.curState != n.WebSocketClientState.Idle) throw new Error("state error");
                        this.enc = Pe(e.encoding), this.connectOptions = e, this._url = e.url || s.url.replace("http://", "ws://").replace("https://", "wss://") + "/agent", this._connParam.roleToken = e.token, this._connParam.version = e.version;
                        var r = new Promise(function (e) {
                            t._connResolve = e
                        });
                        return this._sm.changeStateNextFrame(n.WebSocketClientState.Connecting), r
                    }, t.onConnectingEnter = function () {
                        G(function () {
                            return ["~~~~~~~~~onConnectingEnter"]
                        })(), this.cleanWS(), this._tryConnectTimeoutTotal = this._frameTimer.now + s.rpc.connectTimeoutTotal, this._tryConnectTimeoutOnce = -1, this._ws = void 0, this._connParam.isRestore = 0, this._nextTryConnectTime = 1, this._tryConnectTimes = 0
                    }, t.onConnectingUpdate = function () {
                        this.tryConnect()
                    }, t.tryConnect = function () {
                        var e = this, t = this._frameTimer.now;
                        if (this._tryConnectTimeoutTotal > 0 && t > this._tryConnectTimeoutTotal) return this._tryConnectTimeoutTotal = -1, this.closeReason = {
                            code: n.ErrorCode.TIMEOUT,
                            error: "connect timeout"
                        }, void this._sm.changeState(n.WebSocketClientState.Error);
                        if (0 !== this.networkState() && (this._tryConnectTimeoutOnce > 0 && t > this._tryConnectTimeoutOnce && (this._tryConnectTimeoutOnce = -1, this.cleanWS(), this._nextTryConnectTime = t + 100, this._ws = void 0), this._nextTryConnectTime > 0 && t > this._nextTryConnectTime)) {
                            this._tryConnectTimes++, this._nextTryConnectTime = -1, this._tryConnectTimeoutOnce = t + s.rpc.connectTimeoutOnce, this.cleanWS(), this._connParam.connId = Date.now();
                            var r = JSON.stringify(this._connParam), o = this.connectOptions,
                                i = this._url + "?p=" + encodeURIComponent(r) + "&e=" + o.encoding;
                            for (var a in this._connParam.isRestore && (i += "&ack=" + this._recQueue.seq), Ye) {
                                var c = o[a];
                                c && (i += "&" + Ye[a] + "=" + encodeURIComponent(c))
                            }
                            this._tryConnectTimes > 1 && (i += "&perMessageDeflate=0");
                            var u = (void 0 !== o.useKcp ? o.useKcp : s.rpc.useKcp) && this._tryConnectTimes < 2 && globalThis.KcpConnection;
                            Ve.use = u ? "kcp" : "ws", Ve.url = i, Ve.times = this._tryConnectTimes;
                            try {
                                this.events.emit(k, Ve), i = Ve.url
                            } catch (f) {
                                console.error(f)
                            }
                            var l = (u = "kcp" === Ve.use) && new globalThis.KcpConnection(i) || new WebSocket(i);
                            l.binaryType = "arraybuffer", this.use = Ve.use, x("log", function () {
                                return ["use " + Ve.use]
                            })(), +this.connectOptions.frameSize > 0 && ((l = new Ge(l, this.connectOptions.frameSize)).onframe = function () {
                                e._ws === l && e.resetConnectionTimeout()
                            }), this._ws = l, l.onopen = function () {
                                l !== e._ws || e._sm.curState != n.WebSocketClientState.Connecting && e._sm.curState != n.WebSocketClientState.Reconnecting || e._sm.changeState(n.WebSocketClientState.Running)
                            }, l.onclose = l.onerror = function () {
                                l === e._ws && (e._nextTryConnectTime = Math.max(e._frameTimer.now + 100, t + s.rpc.connectRetryMinInterval))
                            }, l.onmessage = function (t) {
                                l === e._ws && e.addResp(t.data)
                            }
                        }
                    }, t.send = function (e) {
                        var t = this;
                        if (this._destroyed || this._sm.curState == n.WebSocketClientState.Error) return null;
                        var r = this.resetSendData();
                        if (r.ack = this.getAndUseAck(), r.body = o.encode(e.params), r.c = e.c, r.c || (r.cmd = e.cmd), r.hint = e.hint, r.seq = ++this._sndQueue.seq, r.time = Date.now(), s.debug) {
                            var i = Object.assign({}, r);
                            delete i.body, i.data = e.params, i.cmd = e.cmd, G(function () {
                                return ["%c>>>> " + t.use + " send: " + L(i), "color:#00af00;font-weight:bold;"]
                            })()
                        }
                        var a = we(r, this.enc);
                        return r.cmd = e.cmd, this._sndQueue.enqueue(a), this._sm.curState === n.WebSocketClientState.Running && this.onRunningUpdate(), r
                    }, t.sendAsync = function (e) {
                        var t = this.send(e);
                        if (!t) return Promise.resolve({code: n.ErrorCode.CANCELED, error: "offline"});
                        var r = e;
                        r.seq = t.seq, r.time = t.time;
                        var o = new Promise(function (e) {
                            return r.resolve = e
                        });
                        return this._asyncList.push(r), o
                    }, t.update = function () {
                        var e = this;
                        this._destroyed || (this._frameTimer.update(), this._sm.update(), Ue(function () {
                            return e.update()
                        }))
                    }, t.resetHeartbeatTime = function () {
                        var e = Date.now();
                        this._nextHeartbeatTime = e + s.rpc.heartbeatInterval
                    }, t.resetConnectionTimeout = function () {
                        var e = this._frameTimer.now;
                        this._connectionTimeout = e + s.rpc.heartbeatTimeout
                    }, t.onRunningEnter = function () {
                        var e = this;
                        G(function () {
                            return ["~~~~~~~~~onRunningEnter"]
                        })(), this.lastNetworkState = this.networkState(), We.use = Ve.use, We.url = Ve.url;
                        try {
                            this.events.emit(F, We)
                        } catch (n) {
                            console.error(n)
                        }
                        this._connResolve && (this._connResolve(!0), this._connResolve = void 0), this._sndQueue.restore(), this.resetHeartbeatTime(), this.resetConnectionTimeout();
                        var t = this._ws;
                        t.onmessage = function (n) {
                            t === e._ws && e.addResp(n.data)
                        }, t.onerror = t.onclose = function () {
                            t === e._ws && e.changeStateOnError()
                        }
                    }, t.addResp = function (e) {
                        this.resetConnectionTimeout();
                        try {
                            if (e.byteLength <= 1) return;
                            var t = Oe(e, this.enc);
                            switch (~~t.ack > 0 && this._sndQueue.confirm(~~t.ack), ~~t.seq > this._recQueue.seq && (this._ack = t.seq), t.cmd) {
                                case"_sys/error":
                                    if (t.error) console.error(t.error); else try {
                                        console.error(o.decode(t.body))
                                    } catch (r) {
                                    }
                                    return void this.changeStateOnError();
                                case"_sys/fatal":
                                    if (t.error) console.error(t.error); else try {
                                        console.error(o.decode(t.body))
                                    } catch (r) {
                                    }
                                    return this.closeReason = t, void this._sm.changeState(n.WebSocketClientState.Error);
                                default:
                                    return this._recQueue.enqueue(t), void (this._sm.curState === n.WebSocketClientState.Running && this.onRunningUpdate())
                            }
                        } catch (r) {
                            console.error(r), this.changeStateOnError()
                        }
                    }, t.onRunningUpdate = function () {
                        var e = Date.now(), t = this._sm;
                        if (this._frameTimer.now > this._connectionTimeout) this.changeStateOnError(); else {
                            var r = this.networkState();
                            if (r != this.lastNetworkState && (this.lastNetworkState = r, r > 0)) this._sm.changeState(n.WebSocketClientState.Reconnecting); else {
                                var o = s.rpc;
                                if (r > 0) {
                                    e > this._nextHeartbeatTime && this.sendHeartbeat();
                                    for (var i = o.maxSendOnce || 100; this._sndQueue.length > 0 && void 0 === t.nextState && i-- > 0;) this.doSend(this._sndQueue.dequeue())
                                }
                                for (var a = o.maxRecvOnce || 100; this._recQueue.length > 0 && void 0 === t.nextState && a-- > 0;) {
                                    var c = this._recQueue.dequeue();
                                    this.doReceive(c)
                                }
                            }
                        }
                    }, t.sendHeartbeat = function () {
                        this.resetHeartbeatTime();
                        var e = this.getAndUseAck();
                        if (G(function () {
                            return ["~~~~~~~~~sendHeartbeat", e]
                        })(), 0 == e) this.doSend(Ke); else {
                            var t = this.resetSendData();
                            t.ack = e, t.cmd = "_sys/ack", t.time = Date.now(), this.doSend(we(t, this.enc))
                        }
                    }, t.doSend = function (e) {
                        var t = this._ws;
                        if (1 == t.readyState) try {
                            t.send(e)
                        } catch (n) {
                            this.changeStateOnError(), console.error(n)
                        } else this.changeStateOnError()
                    }, t.doReceive = function (e) {
                        var t = this, r = this._sm, o = Date.now();
                        try {
                            var i = this._asyncList, a = -1;
                            if (~~e.resp > 0) for (var s = 0, c = i.length; s < c; s++) {
                                var u = i[s];
                                if (e.resp === u.seq) {
                                    e.rtt = o - u.time, e.setSendMsg(u), a = s;
                                    break
                                }
                                if (e.resp < u.seq) break
                            }
                            G(function () {
                                return ["%c<<<< " + t.use + " recieve: " + e.toLogString(), "color:#00afaf;font-weight:bold;"]
                            })();
                            try {
                                this.events.emit(e.cmd, e)
                            } catch (l) {
                                console.error(l)
                            }
                            try {
                                this.events.emit(H, e)
                            } catch (l) {
                                console.error(l)
                            }
                            if (a >= 0) {
                                if (a > 0) for (s = 0; s < a; s++) u = i[s], console.warn(u.cmd + " has no response, use send instead"), je(u, {
                                    code: n.ErrorCode.SKIP,
                                    error: "skip"
                                });
                                je(i[a], e), i.splice(0, a + 1)
                            }
                            if (e.code < 0) return this.closeReason = e, void r.changeStateNextFrame(n.WebSocketClientState.Error)
                        } catch (l) {
                            console.error(l), this.closeReason = {
                                code: n.ErrorCode.UNKNOWN,
                                error: l || "unkown"
                            }, r.changeStateNextFrame(n.WebSocketClientState.Error)
                        }
                    }, t.onReconnectingEnter = function () {
                        G(function () {
                            return ["~~~~~~~~~onReconnectingEnter"]
                        })(), this.cleanWS(), this._tryConnectTimeoutTotal = this._frameTimer.now + s.rpc.connectTimeoutTotal, this._tryConnectTimeoutOnce = -1, this._connParam.isRestore = 1, this._nextTryConnectTime = 1, this._tryConnectTimes = 0
                    }, t.onReconnectingUpdate = function () {
                        this.tryConnect()
                    }, t.changeStateOnError = function () {
                        this._sm.changeStateNextFrame(this.isDirect ? n.WebSocketClientState.Error : n.WebSocketClientState.Reconnecting)
                    }, t.cleanWS = function () {
                        this._ws && (this._ws.onerror = this._ws.onclose = this._ws.onmessage = this._ws.onopen = this._ws.onframe = void 0, this._ws.close(), this._ws = void 0)
                    }, t.cleanData = function () {
                        this.cleanWS(), this._connResolve && (this._connResolve(!1), this._connResolve = void 0), this._sndQueue = new He, this._asyncList && this._asyncList.forEach(function (e) {
                            e.resolve({code: n.ErrorCode.CANCELED, error: "canceled"})
                        }), this._asyncList = [], this._recQueue = new ke, this._connParam = {
                            roleToken: "",
                            sessId: 100 * Date.now() + ~~(100 * Math.random()),
                            connId: 0,
                            isRestore: 0
                        }, this._ack = 0
                    }, t.onErrorEnter = function () {
                        G(function () {
                            return ["~~~~~~~~~onErrorEnter"]
                        })(), this.cleanData(), this.events.emit("e_closed", this.closeReason), this.closeReason = void 0
                    }, t.interrupt = function () {
                        this._sm.curState === n.WebSocketClientState.Running && this._sm.changeState(n.WebSocketClientState.Reconnecting)
                    }, e
                }(), ze = function (e) {
                    function t(n) {
                        var r = e.call(this) || this;
                        return n || (t.current = r), r
                    }

                    P(t, e);
                    var r = t.prototype;
                    return r.connect = function (e) {
                        var t = this;
                        return this.close(), this.socket = new qe, this.socket.events.on(H, this.onReceiveMsg, this), this.socket.events.once("e_closed", function (e) {
                            t.events.emit("e_closed", e.data)
                        }), this.socket.events.on(k, function (e) {
                            t.events.emit(k, e.data)
                        }), this.socket.events.on(F, function (e) {
                            t.events.emit(F, e.data)
                        }), this.socket.connect(e)
                    }, Object.defineProperty(r, "connected", {
                        get: function () {
                            return this.socket && this.socket.connected
                        }, enumerable: !1, configurable: !0
                    }), Object.defineProperty(r, "connectionState", {
                        get: function () {
                            return this.socket ? this.socket.connectionState : n.WebSocketClientState.Idle
                        }, enumerable: !1, configurable: !0
                    }), r.close = function () {
                        this.socket && this.socket.destroy()
                    }, r.send = function (e) {
                        this.socket.send(e)
                    }, r.sendAsync = function (e) {
                        return this.socket.sendAsync(e)
                    }, r.onReceiveMsg = function (e) {
                        this.doReceiveMsg(e.data)
                    }, r.interrupt = function () {
                        var e;
                        null === (e = this.socket) || void 0 === e || e.interrupt()
                    }, t
                }(V), Qe = function (e) {
                    function t(n) {
                        var r = e.call(this) || this;
                        return t.ins && t.ins.close(), t.ins = r, ze.current = r, r.options = n, r.socket = new qe, r.socket.events.on(H, r.onReceiveMsg, r), r.socket.events.on(k, function (e) {
                            r.events.emit(k, e.data)
                        }), r.socket.events.on(F, function (e) {
                            r.events.emit(F, e.data)
                        }), r.autoRecover(), r
                    }

                    P(t, e);
                    var n = t.prototype;
                    return n.autoRecover = function () {
                        var e = this;
                        this.socket && (this.socket.reset(), this.socket.events.once("e_closed", function (t) {
                            e.events.emit("e_closed", t.data), Promise.resolve().then(function () {
                                e.autoRecover()
                            })
                        }), this.socket.connect(this.options))
                    }, Object.defineProperty(n, "connected", {
                        get: function () {
                            return this.socket && this.socket.connected
                        }, enumerable: !1, configurable: !0
                    }), n.close = function () {
                        this.socket && this.socket.destroy()
                    }, n.send = function (e) {
                        this.socket.send(e)
                    }, n.sendAsync = function (e) {
                        return this.socket.sendAsync(e)
                    }, n.onReceiveMsg = function (e) {
                        this.doReceiveMsg(e.data)
                    }, t
                }(V);
            ze.current || new ze, xe.current || new xe;
            var Xe = {
                send: function (e) {
                    return ze.current.send(e)
                }, sendAsync: function (e) {
                    return ze.current.sendAsync(e)
                }, sendHttpAsync: function (e) {
                    return xe.current.sendAsync(e)
                }
            }, Je = Xe;

            function Ze(e) {
                Je = e
            }

            function $e(e) {
                return e.useHttp ? Je.sendHttpAsync(e) : e.respType ? Je.sendAsync(e) : Je.send(e)
            }

            var et = Object.freeze({
                __proto__: null,
                version: "3.1.48",
                options: s,
                addStartBack: u,
                startup: l,
                bkdrHash: h,
                bkdrHashStr: g,
                bkdrHashStrFast: m,
                lz4Encode: _,
                lz4Decode: v,
                lz4XorEncode: E,
                lz4XorDecode: y,
                StateMachine: S,
                sleep: C,
                TimeUtil: O,
                xorEncode: R,
                xorDecode: M,
                toJsonStringSB: L,
                get HttpMethod() {
                    return n.HttpMethod
                },
                get HttpResponseType() {
                    return n.HttpResponseType
                },
                HttpRequest: N,
                HttpDelegate: xe,
                get WebSocketClientState() {
                    return n.WebSocketClientState
                },
                WebSocketClient: qe,
                WebSocketDelegate: ze,
                WebSocketDelegateAutoRecover: Qe,
                DelegateBase: V,
                get Encoding() {
                    return n.Encoding
                },
                encMsg: we,
                decMsg: Oe,
                registerEncryptor: Le,
                getEncryptor: Pe,
                get ErrorCode() {
                    return n.ErrorCode
                },
                ReceiveMsgImpl: be,
                defaultSender: Xe,
                setSender: Ze,
                sendAuto: $e,
                SyncData: j,
                syncData: K,
                EVENT_MSG: H,
                EVENT_CLOSED: "e_closed",
                EVENT_PRECONNECT: k,
                EVENT_CONNECTED: F,
                EventEmitter: U,
                DataBase: _e,
                toPlain: ve,
                reset: Ee,
                toTyped: Se,
                record: Ce,
                key: Ae,
                getTypeInfoByName: Q,
                getTypeInfoByInstance: X,
                getTypeInfo: ee,
                TypeInfo: re,
                PropInfo: oe,
                prop: ie,
                type: ae,
                clazz: ce,
                autoProp: fe,
                any_t: de,
                array_t: pe,
                map_t: he,
                get isArray() {
                    return n.isArray
                },
                setIsArray: ge,
                get isMap() {
                    return n.isMap
                },
                setIsMap: me
            });
            globalThis.o4e = Object.assign(globalThis.o4e || {}, et), n.DataBase = _e, n.DelegateBase = V, n.EVENT_CLOSED = "e_closed", n.EVENT_CONNECTED = F, n.EVENT_MSG = H, n.EVENT_PRECONNECT = k, n.EventEmitter = U, n.HttpDelegate = xe, n.HttpRequest = N, n.PropInfo = oe, n.ReceiveMsgImpl = be, n.StateMachine = S, n.SyncData = j, n.TimeUtil = O, n.TypeInfo = re, n.WebSocketClient = qe, n.WebSocketDelegate = ze, n.WebSocketDelegateAutoRecover = Qe, n.addStartBack = u, n.any_t = de, n.array_t = pe, n.autoProp = fe, n.bkdrHash = h, n.bkdrHashStr = g, n.bkdrHashStrFast = m, n.clazz = ce, n.decMsg = Oe, n.defaultSender = Xe, n.encMsg = we, n.getEncryptor = Pe, n.getTypeInfo = ee, n.getTypeInfoByInstance = X, n.getTypeInfoByName = Q, n.key = Ae, n.lz4Decode = v, n.lz4Encode = _, n.lz4XorDecode = y, n.lz4XorEncode = E, n.map_t = he, n.options = s, n.prop = ie, n.record = Ce, n.registerEncryptor = Le, n.reset = Ee, n.sendAuto = $e, n.setIsArray = ge, n.setIsMap = me, n.setSender = Ze, n.sleep = C, n.startup = l, n.syncData = K, n.toJsonStringSB = L, n.toPlain = ve, n.toTyped = Se, n.type = ae, n.version = "3.1.48", n.xorDecode = M, n.xorEncode = R
        }, {"@o4e/bon": 11, "@o4e/global": 14, lz4js: 16}],
        14: [function () {
            (function (e) {
                var t;
                t = function () {
                    "use strict";
                    (function () {
                        var t = "undefined",
                            n = typeof globalThis !== t ? globalThis : typeof window !== t ? window : typeof e !== t ? e : {};
                        if (n.globalThis || (n.globalThis = n), Uint8Array.prototype.slice || Object.defineProperty(Uint8Array.prototype, "slice", {
                            value: function (e, t) {
                                return new Uint8Array(Array.prototype.slice.call(this, e, t))
                            }
                        }), Uint8Array.prototype.copyWithin || Object.defineProperty(Uint8Array.prototype, "copyWithin", {
                            value: function (e, t, n) {
                                this.set(this.subarray(t, n || this.length), e)
                            }
                        }), n.__spreadArray || (n.__spreadArray = function (e, t) {
                            for (var n = 0, r = t.length, o = e.length; n < r; n++, o++) e[o] = t[n];
                            return e
                        }), typeof TextEncoder === t) {
                            var r = function () {
                                function e() {
                                }

                                return e.prototype.encode = function (e) {
                                    if (0 === e.length) return new Uint8Array(0);
                                    var t = new Uint8Array(6 * e.length), n = this.encodeInto(e, t);
                                    return t.subarray(0, n.written)
                                }, e
                            }();
                            n.TextEncoder = r
                        }
                        if (TextEncoder.prototype.encodeInto || Object.defineProperty(TextEncoder.prototype, "encodeInto", {
                            value: function (e, t) {
                                for (var n = 0, r = 0; r < e.length; r++) (i = e.codePointAt(r)) <= 127 ? t[n++] = i : i <= 2047 ? (t[n++] = i >>> 6 | 192, t[n++] = i >>> 0 & 63 | 128) : i <= 65535 ? (t[n++] = i >>> 12 | 224, t[n++] = i >>> 6 & 63 | 128, t[n++] = i >>> 0 & 63 | 128) : i <= 2097151 ? (t[n++] = i >>> 18 | 240, t[n++] = i >>> 12 & 63 | 128, t[n++] = i >>> 6 & 63 | 128, t[n++] = i >>> 0 & 63 | 128, r++) : i <= 67108863 ? (t[n++] = i >>> 24 | 248, t[n++] = i >>> 18 & 63 | 128, t[n++] = i >>> 12 & 63 | 128, t[n++] = i >>> 6 & 63 | 128, t[n++] = i >>> 0 & 63 | 128, r++) : i <= 2147483647 && (t[n++] = i >>> 30 | 252, t[n++] = i >>> 24 & 63 | 128, t[n++] = i >>> 18 & 63 | 128, t[n++] = i >>> 12 & 63 | 128, t[n++] = i >>> 6 & 63 | 128, t[n++] = i >>> 0 & 63 | 128, r++);
                                if (n <= t.length) return {read: r, written: n};
                                n = 0, r = 0;
                                for (var o = t.length; r < e.length; r++) {
                                    var i;
                                    if ((i = e.codePointAt(r)) <= 127) {
                                        if (n + 1 > o) break
                                    } else if (i <= 2047) {
                                        if (n + 2 > o) break
                                    } else if (i <= 65535) {
                                        if (n + 3 > o) break
                                    } else if (i <= 2097151) {
                                        if (n + 4 > o) break;
                                        r++
                                    } else if (i <= 67108863) {
                                        if (n + 5 > o) break;
                                        r++
                                    } else if (i <= 2147483647) {
                                        if (n + 6 > o) break;
                                        r++
                                    }
                                }
                                return {read: r, written: n}
                            }
                        }), typeof TextDecoder === t) {
                            var o = [], i = function () {
                                function e(e) {
                                    void 0 === e && (e = "utf8"), this.label = e
                                }

                                return e.prototype.decode = function (e) {
                                    if (0 === e.length) return "";
                                    if ("utf8" !== this.label) throw new Error("unsupport encoding: " + this.label);
                                    var t = 0, n = e.length, r = "";
                                    for (o.length = 0; t < n;) {
                                        o.length >= 3e4 && (r += String.fromCodePoint.apply(String, o), o.length = 0);
                                        var i = e[t++];
                                        if (0 != (128 & i)) if (192 != (224 & i)) if (224 != (240 & i)) if (240 != (248 & i)) if (248 != (252 & i)) {
                                            if (252 != (254 & i)) throw new Error("unsupport utf8 code: " + i + " at " + t);
                                            o.push((1 & i) << 30 | (63 & e[t++]) << 24 | (63 & e[t++]) << 18 | (63 & e[t++]) << 12 | (63 & e[t++]) << 6 | 63 & e[t++])
                                        } else o.push((3 & i) << 24 | (63 & e[t++]) << 18 | (63 & e[t++]) << 12 | (63 & e[t++]) << 6 | 63 & e[t++]); else o.push((7 & i) << 18 | (63 & e[t++]) << 12 | (63 & e[t++]) << 6 | 63 & e[t++]); else o.push((15 & i) << 12 | (63 & e[t++]) << 6 | 63 & e[t++]); else o.push((31 & i) << 6 | 63 & e[t++]); else o.push(i)
                                    }
                                    return r += String.fromCodePoint.apply(String, o), o.length = 0, r
                                }, e
                            }();
                            n.TextDecoder = i
                        }
                    })(), "object" != typeof env && (globalThis.env = Object.create(null)), env.ENV = "dev"
                }, "function" == typeof define && define.amd ? define(t) : t()
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {}],
        15: [function (e, t, n) {
            (function (e, r) {
                !function (e, r) {
                    "object" == typeof n && void 0 !== t ? r(n) : "function" == typeof define && define.amd ? define(["exports"], r) : r((e = e || self).mobx = {})
                }(this, function (t) {
                    "use strict";
                    var n = [];
                    Object.freeze(n);
                    var o = {};
                    Object.freeze(o);
                    var i = {};

                    function a() {
                        return "undefined" != typeof window ? window : void 0 !== r ? r : "undefined" != typeof self ? self : i
                    }

                    function s() {
                        return ++Ue.mobxGuid
                    }

                    function c(e) {
                        throw u(!1, e), "X"
                    }

                    function u(e, t) {
                        if (!e) throw new Error("[mobx] " + (t || "An invariant failed, however the error is obfuscated because this is an production build."))
                    }

                    function l(e) {
                        var t = !1;
                        return function () {
                            if (!t) return t = !0, e.apply(this, arguments)
                        }
                    }

                    var f = function () {
                    };

                    function d(e) {
                        return null !== e && "object" == typeof e
                    }

                    function p(e) {
                        if (null === e || "object" != typeof e) return !1;
                        var t = Object.getPrototypeOf(e);
                        return t === Object.prototype || null === t
                    }

                    function h(e, t, n) {
                        Object.defineProperty(e, t, {enumerable: !1, writable: !0, configurable: !0, value: n})
                    }

                    function g(e, t, n) {
                        Object.defineProperty(e, t, {enumerable: !1, writable: !1, configurable: !0, value: n})
                    }

                    function m(e, t) {
                        var n = "isMobX" + e;
                        return t.prototype[n] = !0, function (e) {
                            return d(e) && !0 === e[n]
                        }
                    }

                    function _(e) {
                        return void 0 !== a().Map && e instanceof a().Map
                    }

                    function v(e) {
                        return e instanceof Set
                    }

                    function E(e) {
                        for (var t = []; ;) {
                            var n = e.next();
                            if (n.done) break;
                            t.push(n.value)
                        }
                        return t
                    }

                    function y() {
                        return "function" == typeof Symbol && Symbol.toPrimitive || "@@toPrimitive"
                    }

                    function S(e) {
                        return null === e ? null : "object" == typeof e ? "" + e : e
                    }

                    function C(e, t) {
                        for (var n = e.next(); !n.done;) t(n.value), n = e.next()
                    }

                    function A() {
                        return "function" == typeof Symbol && Symbol.iterator || "@@iterator"
                    }

                    function T(e, t) {
                        g(e, A(), t)
                    }

                    function b(e) {
                        return e[A()] = w, e
                    }

                    function I() {
                        return "function" == typeof Symbol && Symbol.toStringTag || "@@toStringTag"
                    }

                    function w() {
                        return this
                    }

                    var O = function () {
                        function e(e) {
                            void 0 === e && (e = "Atom@" + s()), this.name = e, this.isPendingUnobservation = !1, this.isBeingObserved = !1, this.observers = [], this.observersIndexes = {}, this.diffValue = 0, this.lastAccessedBy = 0, this.lowestObserverState = t.IDerivationState.NOT_TRACKING
                        }

                        return e.prototype.onBecomeUnobserved = function () {
                        }, e.prototype.onBecomeObserved = function () {
                        }, e.prototype.reportObserved = function () {
                            return Ve(this)
                        }, e.prototype.reportChanged = function () {
                            je(), function (e) {
                                if (e.lowestObserverState !== t.IDerivationState.STALE) {
                                    e.lowestObserverState = t.IDerivationState.STALE;
                                    for (var n = e.observers, r = n.length; r--;) {
                                        var o = n[r];
                                        o.dependenciesState === t.IDerivationState.UP_TO_DATE && (o.isTracing !== ie.NONE && We(o, e), o.onBecomeStale()), o.dependenciesState = t.IDerivationState.STALE
                                    }
                                }
                            }(this), Ke()
                        }, e.prototype.toString = function () {
                            return this.name
                        }, e
                    }(), R = m("Atom", O);

                    function M(e, t, n) {
                        void 0 === t && (t = f), void 0 === n && (n = f);
                        var r = new O(e);
                        return dt(r, t), pt(r, n), r
                    }

                    function L(e, t) {
                        return e === t
                    }

                    var N = {
                        identity: L, structural: function (e, t) {
                            return Sn(e, t)
                        }, default: function (e, t) {
                            return function (e, t) {
                                return "number" == typeof e && "number" == typeof t && isNaN(e) && isNaN(t)
                            }(e, t) || L(e, t)
                        }, shallow: function (e, t) {
                            return Sn(e, t, 1)
                        }
                    }, D = function (e, t) {
                        return (D = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                            e.__proto__ = t
                        } || function (e, t) {
                            for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                        })(e, t)
                    };

                    function P(e, t) {
                        function n() {
                            this.constructor = e
                        }

                        D(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
                    }

                    var B = function () {
                        return (B = Object.assign || function (e) {
                            for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                            return e
                        }).apply(this, arguments)
                    };

                    function x(e, t) {
                        var n = "function" == typeof Symbol && e[Symbol.iterator];
                        if (!n) return e;
                        var r, o, i = n.call(e), a = [];
                        try {
                            for (; (void 0 === t || t-- > 0) && !(r = i.next()).done;) a.push(r.value)
                        } catch (e) {
                            o = {error: e}
                        } finally {
                            try {
                                r && !r.done && (n = i.return) && n.call(i)
                            } finally {
                                if (o) throw o.error
                            }
                        }
                        return a
                    }

                    function G() {
                        for (var e = [], t = 0; t < arguments.length; t++) e = e.concat(x(arguments[t]));
                        return e
                    }

                    var U = {}, H = {};

                    function k(e, t) {
                        var n = t ? U : H;
                        return n[e] || (n[e] = {
                            configurable: !0, enumerable: t, get: function () {
                                return F(this), this[e]
                            }, set: function (t) {
                                F(this), this[e] = t
                            }
                        })
                    }

                    function F(e) {
                        if (!0 !== e.__mobxDidRunLazyInitializers) {
                            var t = e.__mobxDecorators;
                            if (t) for (var n in h(e, "__mobxDidRunLazyInitializers", !0), t) {
                                var r = t[n];
                                r.propertyCreator(e, r.prop, r.descriptor, r.decoratorTarget, r.decoratorArguments)
                            }
                        }
                    }

                    function j(e, t) {
                        return function () {
                            var r, o = function (n, o, i, a) {
                                if (!0 === a) return t(n, o, i, n, r), null;
                                if (!Object.prototype.hasOwnProperty.call(n, "__mobxDecorators")) {
                                    var s = n.__mobxDecorators;
                                    h(n, "__mobxDecorators", B({}, s))
                                }
                                return n.__mobxDecorators[o] = {
                                    prop: o,
                                    propertyCreator: t,
                                    descriptor: i,
                                    decoratorTarget: n,
                                    decoratorArguments: r
                                }, k(o, e)
                            };
                            return K(arguments) ? (r = n, o.apply(null, arguments)) : (r = Array.prototype.slice.call(arguments), o)
                        }
                    }

                    function K(e) {
                        return (2 === e.length || 3 === e.length) && "string" == typeof e[1] || 4 === e.length && !0 === e[3]
                    }

                    function V(e, t, n) {
                        return Tt(e) ? e : Array.isArray(e) ? ne.array(e, {name: n}) : p(e) ? ne.object(e, void 0, {name: n}) : _(e) ? ne.map(e, {name: n}) : v(e) ? ne.set(e, {name: n}) : e
                    }

                    function W(e) {
                        return e
                    }

                    function Y(t) {
                        u(t);
                        var n = j(!0, function (e, n, r) {
                            fn(e, n, r ? r.initializer ? r.initializer.call(e) : r.value : void 0, t)
                        }), r = (void 0 !== e && e.env, n);
                        return r.enhancer = t, r
                    }

                    var q = {deep: !0, name: void 0, defaultDecorator: void 0},
                        z = {deep: !1, name: void 0, defaultDecorator: void 0};

                    function Q(e) {
                        return null == e ? q : "string" == typeof e ? {name: e, deep: !0} : e
                    }

                    function X(e) {
                        return e.defaultDecorator ? e.defaultDecorator.enhancer : !1 === e.deep ? W : V
                    }

                    Object.freeze(q), Object.freeze(z);
                    var J = Y(V), Z = Y(function (e, t, n) {
                        return null == e ? e : mn(e) || en(e) || on(e) || cn(e) ? e : Array.isArray(e) ? ne.array(e, {
                            name: n,
                            deep: !1
                        }) : p(e) ? ne.object(e, void 0, {name: n, deep: !1}) : _(e) ? ne.map(e, {
                            name: n,
                            deep: !1
                        }) : v(e) ? ne.set(e, {name: n, deep: !1}) : c(!1)
                    }), $ = Y(W), ee = Y(function (e, t) {
                        return Sn(e, t) ? t : e
                    }), te = {
                        box: function (e, t) {
                            arguments.length > 2 && re("box");
                            var n = Q(t);
                            return new Me(e, X(n), n.name, !0, n.equals)
                        }, shallowBox: function (e, t) {
                            return arguments.length > 2 && re("shallowBox"), ne.box(e, {name: t, deep: !1})
                        }, array: function (e, t) {
                            arguments.length > 2 && re("array");
                            var n = Q(t);
                            return new zt(e, X(n), n.name)
                        }, shallowArray: function (e, t) {
                            return arguments.length > 2 && re("shallowArray"), ne.array(e, {name: t, deep: !1})
                        }, map: function (e, t) {
                            arguments.length > 2 && re("map");
                            var n = Q(t);
                            return new nn(e, X(n), n.name)
                        }, shallowMap: function (e, t) {
                            return arguments.length > 2 && re("shallowMap"), ne.map(e, {name: t, deep: !1})
                        }, set: function (e, t) {
                            arguments.length > 2 && re("set");
                            var n = Q(t);
                            return new sn(e, X(n), n.name)
                        }, object: function (e, t, n) {
                            "string" == typeof arguments[1] && re("object");
                            var r = Q(n);
                            return gt({}, e, t, r)
                        }, shallowObject: function (e, t) {
                            return "string" == typeof arguments[1] && re("shallowObject"), ne.object(e, {}, {
                                name: t,
                                deep: !1
                            })
                        }, ref: $, shallow: Z, deep: J, struct: ee
                    }, ne = function (e, t, n) {
                        if ("string" == typeof arguments[1]) return J.apply(null, arguments);
                        if (Tt(e)) return e;
                        var r = p(e) ? ne.object(e, t, n) : Array.isArray(e) ? ne.array(e, t) : _(e) ? ne.map(e, t) : v(e) ? ne.set(e, t) : e;
                        if (r !== e) return r;
                        c(!1)
                    };

                    function re(e) {
                        c("Expected one or two arguments to observable." + e + ". Did you accidentally try to use observable." + e + " as decorator?")
                    }

                    Object.keys(te).forEach(function (e) {
                        return ne[e] = te[e]
                    });
                    var oe, ie, ae = j(!1, function (e, t, n, r, o) {
                        var i = n.get, a = n.set, s = o[0] || {};
                        !function (e, t, n) {
                            var r = ln(e);
                            n.name = r.name + "." + t, n.context = e, r.values[t] = new Ne(n), Object.defineProperty(e, t, function (e) {
                                return pn[e] || (pn[e] = {
                                    configurable: Ue.computedConfigurable,
                                    enumerable: !1,
                                    get: function () {
                                        return hn(this).read(this, e)
                                    },
                                    set: function (t) {
                                        hn(this).write(this, e, t)
                                    }
                                })
                            }(t))
                        }(e, t, B({get: i, set: a}, s))
                    }), se = ae({equals: N.structural}), ce = function (e, t) {
                        if ("string" == typeof t) return ae.apply(null, arguments);
                        if (null !== e && "object" == typeof e && 1 === arguments.length) return ae.apply(null, arguments);
                        var n = "object" == typeof t ? t : {};
                        return n.get = e, n.set = "function" == typeof t ? t : n.set, n.name = n.name || e.name || "", new Ne(n)
                    };
                    ce.struct = se, (oe = t.IDerivationState || (t.IDerivationState = {}))[oe.NOT_TRACKING = -1] = "NOT_TRACKING", oe[oe.UP_TO_DATE = 0] = "UP_TO_DATE", oe[oe.POSSIBLY_STALE = 1] = "POSSIBLY_STALE", oe[oe.STALE = 2] = "STALE", function (e) {
                        e[e.NONE = 0] = "NONE", e[e.LOG = 1] = "LOG", e[e.BREAK = 2] = "BREAK"
                    }(ie || (ie = {}));
                    var ue = function (e) {
                        this.cause = e
                    };

                    function le(e) {
                        return e instanceof ue
                    }

                    function fe(e) {
                        switch (e.dependenciesState) {
                            case t.IDerivationState.UP_TO_DATE:
                                return !1;
                            case t.IDerivationState.NOT_TRACKING:
                            case t.IDerivationState.STALE:
                                return !0;
                            case t.IDerivationState.POSSIBLY_STALE:
                                for (var n = ve(!0), r = me(), o = e.observing, i = o.length, a = 0; a < i; a++) {
                                    var s = o[a];
                                    if (De(s)) {
                                        if (Ue.disableErrorBoundaries) s.get(); else try {
                                            s.get()
                                        } catch (t) {
                                            return _e(r), Ee(n), !0
                                        }
                                        if (e.dependenciesState === t.IDerivationState.STALE) return _e(r), Ee(n), !0
                                    }
                                }
                                return ye(e), _e(r), Ee(n), !1
                        }
                    }

                    function de(e) {
                        var t = e.observers.length > 0;
                        Ue.computationDepth > 0 && t && c(!1), Ue.allowStateChanges || !t && "strict" !== Ue.enforceActions || c(!1)
                    }

                    function pe(e, n, r) {
                        var o = ve(!0);
                        ye(e), e.newObserving = new Array(e.observing.length + 100), e.unboundDepsCount = 0, e.runId = ++Ue.runId;
                        var i, a = Ue.trackingDerivation;
                        if (Ue.trackingDerivation = e, !0 === Ue.disableErrorBoundaries) i = n.call(r); else try {
                            i = n.call(r)
                        } catch (t) {
                            i = new ue(t)
                        }
                        return Ue.trackingDerivation = a, function (e) {
                            for (var n = e.observing, r = e.observing = e.newObserving, o = t.IDerivationState.UP_TO_DATE, i = 0, a = e.unboundDepsCount, s = 0; s < a; s++) 0 === (c = r[s]).diffValue && (c.diffValue = 1, i !== s && (r[i] = c), i++), c.dependenciesState > o && (o = c.dependenciesState);
                            for (r.length = i, e.newObserving = null, a = n.length; a--;) 0 === (c = n[a]).diffValue && ke(c, e), c.diffValue = 0;
                            for (; i--;) {
                                var c;
                                1 === (c = r[i]).diffValue && (c.diffValue = 0, He(c, e))
                            }
                            o !== t.IDerivationState.UP_TO_DATE && (e.dependenciesState = o, e.onBecomeStale())
                        }(e), e.observing.length, Ee(o), i
                    }

                    function he(e) {
                        var n = e.observing;
                        e.observing = [];
                        for (var r = n.length; r--;) ke(n[r], e);
                        e.dependenciesState = t.IDerivationState.NOT_TRACKING
                    }

                    function ge(e) {
                        var t = me(), n = e();
                        return _e(t), n
                    }

                    function me() {
                        var e = Ue.trackingDerivation;
                        return Ue.trackingDerivation = null, e
                    }

                    function _e(e) {
                        Ue.trackingDerivation = e
                    }

                    function ve(e) {
                        var t = Ue.allowStateReads;
                        return Ue.allowStateReads = e, t
                    }

                    function Ee(e) {
                        Ue.allowStateReads = e
                    }

                    function ye(e) {
                        if (e.dependenciesState !== t.IDerivationState.UP_TO_DATE) {
                            e.dependenciesState = t.IDerivationState.UP_TO_DATE;
                            for (var n = e.observing, r = n.length; r--;) n[r].lowestObserverState = t.IDerivationState.UP_TO_DATE
                        }
                    }

                    var Se = 0, Ce = 1, Ae = Object.getOwnPropertyDescriptor(function () {
                    }, "name");

                    function Te(e, t) {
                        var n = function () {
                            return be(e, t, this, arguments)
                        };
                        return n.isMobxAction = !0, n
                    }

                    function be(e, t, n, r) {
                        var o = Ie(e, n, r);
                        try {
                            return t.apply(n, r)
                        } catch (e) {
                            throw o.error = e, e
                        } finally {
                            we(o)
                        }
                    }

                    function Ie(e, t, n) {
                        var r = Ze() && !!e, o = 0;
                        if (r) {
                            o = Date.now();
                            var i = n && n.length || 0, a = new Array(i);
                            if (i > 0) for (var s = 0; s < i; s++) a[s] = n[s];
                            et({type: "action", name: e, object: t, arguments: a})
                        }
                        var c = me();
                        je();
                        var u = {
                            prevDerivation: c,
                            prevAllowStateChanges: Oe(!0),
                            prevAllowStateReads: ve(!0),
                            notifySpy: r,
                            startTime: o,
                            actionId: Ce++,
                            parentActionId: Se
                        };
                        return Se = u.actionId, u
                    }

                    function we(e) {
                        Se !== e.actionId && c("invalid action stack. did you forget to finish an action?"), Se = e.parentActionId, void 0 !== e.error && (Ue.suppressReactionErrors = !0), Re(e.prevAllowStateChanges), Ee(e.prevAllowStateReads), Ke(), _e(e.prevDerivation), e.notifySpy && nt({time: Date.now() - e.startTime}), Ue.suppressReactionErrors = !1
                    }

                    function Oe(e) {
                        var t = Ue.allowStateChanges;
                        return Ue.allowStateChanges = e, t
                    }

                    function Re(e) {
                        Ue.allowStateChanges = e
                    }

                    Ae && Ae.configurable;
                    var Me = function (e) {
                        function t(t, n, r, o, i) {
                            void 0 === r && (r = "ObservableValue@" + s()), void 0 === o && (o = !0), void 0 === i && (i = N.default);
                            var a = e.call(this, r) || this;
                            return a.enhancer = n, a.name = r, a.equals = i, a.hasUnreportedChange = !1, a.value = n(t, void 0, r), o && Ze() && $e({
                                type: "create",
                                name: a.name,
                                newValue: "" + a.value
                            }), a
                        }

                        return P(t, e), t.prototype.dehanceValue = function (e) {
                            return void 0 !== this.dehancer ? this.dehancer(e) : e
                        }, t.prototype.set = function (e) {
                            var t = this.value;
                            if ((e = this.prepareNewValue(e)) !== Ue.UNCHANGED) {
                                var n = Ze();
                                n && et({
                                    type: "update",
                                    name: this.name,
                                    newValue: e,
                                    oldValue: t
                                }), this.setNewValue(e), n && nt()
                            }
                        }, t.prototype.prepareNewValue = function (e) {
                            if (de(this), Pt(this)) {
                                var t = xt(this, {object: this, type: "update", newValue: e});
                                if (!t) return Ue.UNCHANGED;
                                e = t.newValue
                            }
                            return e = this.enhancer(e, this.value, this.name), this.equals(this.value, e) ? Ue.UNCHANGED : e
                        }, t.prototype.setNewValue = function (e) {
                            var t = this.value;
                            this.value = e, this.reportChanged(), Gt(this) && Ht(this, {
                                type: "update",
                                object: this,
                                newValue: e,
                                oldValue: t
                            })
                        }, t.prototype.get = function () {
                            return this.reportObserved(), this.dehanceValue(this.value)
                        }, t.prototype.intercept = function (e) {
                            return Bt(this, e)
                        }, t.prototype.observe = function (e, t) {
                            return t && e({
                                object: this,
                                type: "update",
                                newValue: this.value,
                                oldValue: void 0
                            }), Ut(this, e)
                        }, t.prototype.toJSON = function () {
                            return this.get()
                        }, t.prototype.toString = function () {
                            return this.name + "[" + this.value + "]"
                        }, t.prototype.valueOf = function () {
                            return S(this.get())
                        }, t
                    }(O);
                    Me.prototype[y()] = Me.prototype.valueOf;
                    var Le = m("ObservableValue", Me), Ne = function () {
                        function e(e) {
                            this.dependenciesState = t.IDerivationState.NOT_TRACKING, this.observing = [], this.newObserving = null, this.isBeingObserved = !1, this.isPendingUnobservation = !1, this.observers = [], this.observersIndexes = {}, this.diffValue = 0, this.runId = 0, this.lastAccessedBy = 0, this.lowestObserverState = t.IDerivationState.UP_TO_DATE, this.unboundDepsCount = 0, this.__mapid = "#" + s(), this.value = new ue(null), this.isComputing = !1, this.isRunningSetter = !1, this.isTracing = ie.NONE, u(e.get, "missing option for computed: get"), this.derivation = e.get, this.name = e.name || "ComputedValue@" + s(), e.set && (this.setter = Te(this.name + "-setter", e.set)), this.equals = e.equals || (e.compareStructural || e.struct ? N.structural : N.default), this.scope = e.context, this.requiresReaction = !!e.requiresReaction, this.keepAlive = !!e.keepAlive
                        }

                        return e.prototype.onBecomeStale = function () {
                            !function (e) {
                                if (e.lowestObserverState === t.IDerivationState.UP_TO_DATE) {
                                    e.lowestObserverState = t.IDerivationState.POSSIBLY_STALE;
                                    for (var n = e.observers, r = n.length; r--;) {
                                        var o = n[r];
                                        o.dependenciesState === t.IDerivationState.UP_TO_DATE && (o.dependenciesState = t.IDerivationState.POSSIBLY_STALE, o.isTracing !== ie.NONE && We(o, e), o.onBecomeStale())
                                    }
                                }
                            }(this)
                        }, e.prototype.onBecomeUnobserved = function () {
                        }, e.prototype.onBecomeObserved = function () {
                        }, e.prototype.get = function () {
                            this.isComputing && c("Cycle detected in computation " + this.name + ": " + this.derivation), 0 !== Ue.inBatch || 0 !== this.observers.length || this.keepAlive ? (Ve(this), fe(this) && this.trackAndCompute() && function (e) {
                                if (e.lowestObserverState !== t.IDerivationState.STALE) {
                                    e.lowestObserverState = t.IDerivationState.STALE;
                                    for (var n = e.observers, r = n.length; r--;) {
                                        var o = n[r];
                                        o.dependenciesState === t.IDerivationState.POSSIBLY_STALE ? o.dependenciesState = t.IDerivationState.STALE : o.dependenciesState === t.IDerivationState.UP_TO_DATE && (e.lowestObserverState = t.IDerivationState.UP_TO_DATE)
                                    }
                                }
                            }(this)) : fe(this) && (this.warnAboutUntrackedRead(), je(), this.value = this.computeValue(!1), Ke());
                            var e = this.value;
                            if (le(e)) throw e.cause;
                            return e
                        }, e.prototype.peek = function () {
                            var e = this.computeValue(!1);
                            if (le(e)) throw e.cause;
                            return e
                        }, e.prototype.set = function (e) {
                            if (this.setter) {
                                u(!this.isRunningSetter, "The setter of computed value '" + this.name + "' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"), this.isRunningSetter = !0;
                                try {
                                    this.setter.call(this.scope, e)
                                } finally {
                                    this.isRunningSetter = !1
                                }
                            } else u(!1, !1)
                        }, e.prototype.trackAndCompute = function () {
                            Ze() && $e({object: this.scope, type: "compute", name: this.name});
                            var e = this.value, n = this.dependenciesState === t.IDerivationState.NOT_TRACKING,
                                r = this.computeValue(!0), o = n || le(e) || le(r) || !this.equals(e, r);
                            return o && (this.value = r), o
                        }, e.prototype.computeValue = function (e) {
                            var t;
                            if (this.isComputing = !0, Ue.computationDepth++, e) t = pe(this, this.derivation, this.scope); else if (!0 === Ue.disableErrorBoundaries) t = this.derivation.call(this.scope); else try {
                                t = this.derivation.call(this.scope)
                            } catch (e) {
                                t = new ue(e)
                            }
                            return Ue.computationDepth--, this.isComputing = !1, t
                        }, e.prototype.suspend = function () {
                            this.keepAlive || (he(this), this.value = void 0)
                        }, e.prototype.observe = function (e, t) {
                            var n = this, r = !0, o = void 0;
                            return ut(function () {
                                var i = n.get();
                                if (!r || t) {
                                    var a = me();
                                    e({type: "update", object: n, newValue: i, oldValue: o}), _e(a)
                                }
                                r = !1, o = i
                            })
                        }, e.prototype.warnAboutUntrackedRead = function () {
                        }, e.prototype.toJSON = function () {
                            return this.get()
                        }, e.prototype.toString = function () {
                            return this.name + "[" + this.derivation.toString() + "]"
                        }, e.prototype.valueOf = function () {
                            return S(this.get())
                        }, e
                    }();
                    Ne.prototype[y()] = Ne.prototype.valueOf;
                    var De = m("ComputedValue", Ne),
                        Pe = ["mobxGuid", "spyListeners", "enforceActions", "computedRequiresReaction", "reactionRequiresObservable", "observableRequiresReaction", "allowStateReads", "disableErrorBoundaries", "runId", "UNCHANGED"],
                        Be = function () {
                            this.version = 5, this.UNCHANGED = {}, this.trackingDerivation = null, this.computationDepth = 0, this.runId = 0, this.mobxGuid = 0, this.inBatch = 0, this.pendingUnobservations = [], this.pendingReactions = [], this.isRunningReactions = !1, this.allowStateChanges = !0, this.allowStateReads = !0, this.enforceActions = !1, this.spyListeners = [], this.globalReactionErrorHandlers = [], this.computedRequiresReaction = !1, this.reactionRequiresObservable = !1, this.observableRequiresReaction = !1, this.computedConfigurable = !1, this.disableErrorBoundaries = !1, this.suppressReactionErrors = !1
                        }, xe = !0, Ge = !1, Ue = function () {
                            var e = a();
                            return e.__mobxInstanceCount > 0 && !e.__mobxGlobals && (xe = !1), e.__mobxGlobals && e.__mobxGlobals.version !== (new Be).version && (xe = !1), xe ? e.__mobxGlobals ? (e.__mobxInstanceCount += 1, e.__mobxGlobals.UNCHANGED || (e.__mobxGlobals.UNCHANGED = {}), e.__mobxGlobals) : (e.__mobxInstanceCount = 1, e.__mobxGlobals = new Be) : (setTimeout(function () {
                                Ge || c("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")
                            }, 1), new Be)
                        }();

                    function He(e, t) {
                        var n = e.observers.length;
                        n && (e.observersIndexes[t.__mapid] = n), e.observers[n] = t, e.lowestObserverState > t.dependenciesState && (e.lowestObserverState = t.dependenciesState)
                    }

                    function ke(e, t) {
                        if (1 === e.observers.length) e.observers.length = 0, Fe(e); else {
                            var n = e.observers, r = e.observersIndexes, o = n.pop();
                            if (o !== t) {
                                var i = r[t.__mapid] || 0;
                                i ? r[o.__mapid] = i : delete r[o.__mapid], n[i] = o
                            }
                            delete r[t.__mapid]
                        }
                    }

                    function Fe(e) {
                        !1 === e.isPendingUnobservation && (e.isPendingUnobservation = !0, Ue.pendingUnobservations.push(e))
                    }

                    function je() {
                        Ue.inBatch++
                    }

                    function Ke() {
                        if (0 == --Ue.inBatch) {
                            ze();
                            for (var e = Ue.pendingUnobservations, t = 0; t < e.length; t++) {
                                var n = e[t];
                                n.isPendingUnobservation = !1, 0 === n.observers.length && (n.isBeingObserved && (n.isBeingObserved = !1, n.onBecomeUnobserved()), n instanceof Ne && n.suspend())
                            }
                            Ue.pendingUnobservations = []
                        }
                    }

                    function Ve(e) {
                        var t = Ue.trackingDerivation;
                        return null !== t ? (t.runId !== e.lastAccessedBy && (e.lastAccessedBy = t.runId, t.newObserving[t.unboundDepsCount++] = e, e.isBeingObserved || (e.isBeingObserved = !0, e.onBecomeObserved())), !0) : (0 === e.observers.length && Ue.inBatch > 0 && Fe(e), !1)
                    }

                    function We(e, t) {
                        if (console.log("[mobx.trace] '" + e.name + "' is invalidated due to a change in: '" + t.name + "'"), e.isTracing === ie.BREAK) {
                            var n = [];
                            !function e(t, n, r) {
                                n.length >= 1e3 ? n.push("(and many more)") : (n.push("" + new Array(r).join("\t") + t.name), t.dependencies && t.dependencies.forEach(function (t) {
                                    return e(t, n, r + 1)
                                }))
                            }(mt(e), n, 1), new Function("debugger;\n/*\nTracing '" + e.name + "'\n\nYou are entering this break point because derivation '" + e.name + "' is being traced and '" + t.name + "' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n" + (e instanceof Ne ? e.derivation.toString().replace(/[*]\//g, "/") : "") + "\n\nThe dependencies for this derivation are:\n\n" + n.join("\n") + "\n*/\n    ")()
                        }
                    }

                    var Ye = function () {
                        function e(e, n, r, o) {
                            void 0 === e && (e = "Reaction@" + s()), void 0 === o && (o = !1), this.name = e, this.onInvalidate = n, this.errorHandler = r, this.requiresObservable = o, this.observing = [], this.newObserving = [], this.dependenciesState = t.IDerivationState.NOT_TRACKING, this.diffValue = 0, this.runId = 0, this.unboundDepsCount = 0, this.__mapid = "#" + s(), this.isDisposed = !1, this._isScheduled = !1, this._isTrackPending = !1, this._isRunning = !1, this.isTracing = ie.NONE
                        }

                        return e.prototype.onBecomeStale = function () {
                            this.schedule()
                        }, e.prototype.schedule = function () {
                            this._isScheduled || (this._isScheduled = !0, Ue.pendingReactions.push(this), ze())
                        }, e.prototype.isScheduled = function () {
                            return this._isScheduled
                        }, e.prototype.runReaction = function () {
                            if (!this.isDisposed) {
                                if (je(), this._isScheduled = !1, fe(this)) {
                                    this._isTrackPending = !0;
                                    try {
                                        this.onInvalidate(), this._isTrackPending && Ze() && $e({
                                            name: this.name,
                                            type: "scheduled-reaction"
                                        })
                                    } catch (t) {
                                        this.reportExceptionInDerivation(t)
                                    }
                                }
                                Ke()
                            }
                        }, e.prototype.track = function (e) {
                            je();
                            var t, n = Ze();
                            n && (t = Date.now(), et({name: this.name, type: "reaction"})), this._isRunning = !0;
                            var r = pe(this, e, void 0);
                            this._isRunning = !1, this._isTrackPending = !1, this.isDisposed && he(this), le(r) && this.reportExceptionInDerivation(r.cause), n && nt({time: Date.now() - t}), Ke()
                        }, e.prototype.reportExceptionInDerivation = function (e) {
                            var t = this;
                            if (this.errorHandler) this.errorHandler(e, this); else {
                                if (Ue.disableErrorBoundaries) throw e;
                                var n = "[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '" + this + "'";
                                Ue.suppressReactionErrors ? console.warn("[mobx] (error in reaction '" + this.name + "' suppressed, fix error of causing action below)") : console.error(n, e), Ze() && $e({
                                    type: "error",
                                    name: this.name,
                                    message: n,
                                    error: "" + e
                                }), Ue.globalReactionErrorHandlers.forEach(function (n) {
                                    return n(e, t)
                                })
                            }
                        }, e.prototype.dispose = function () {
                            this.isDisposed || (this.isDisposed = !0, this._isRunning || (je(), he(this), Ke()))
                        }, e.prototype.getDisposer = function () {
                            var e = this.dispose.bind(this);
                            return e.$mobx = this, e
                        }, e.prototype.toString = function () {
                            return "Reaction[" + this.name + "]"
                        }, e.prototype.trace = function (e) {
                            void 0 === e && (e = !1), Rt(this, e)
                        }, e
                    }(), qe = function (e) {
                        return e()
                    };

                    function ze() {
                        Ue.inBatch > 0 || Ue.isRunningReactions || qe(Qe)
                    }

                    function Qe() {
                        Ue.isRunningReactions = !0;
                        for (var e = Ue.pendingReactions, t = 0; e.length > 0;) {
                            100 == ++t && (console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: " + e[0]), e.splice(0));
                            for (var n = e.splice(0), r = 0, o = n.length; r < o; r++) n[r].runReaction()
                        }
                        Ue.isRunningReactions = !1
                    }

                    var Xe = m("Reaction", Ye);

                    function Je(e) {
                        var t = qe;
                        qe = function (n) {
                            return e(function () {
                                return t(n)
                            })
                        }
                    }

                    function Ze() {
                        return !!Ue.spyListeners.length
                    }

                    function $e(e) {
                        if (Ue.spyListeners.length) for (var t = Ue.spyListeners, n = 0, r = t.length; n < r; n++) t[n](e)
                    }

                    function et(e) {
                        $e(B(B({}, e), {spyReportStart: !0}))
                    }

                    var tt = {spyReportEnd: !0};

                    function nt(e) {
                        $e(e ? B(B({}, e), {spyReportEnd: !0}) : tt)
                    }

                    function rt(e) {
                        return Ue.spyListeners.push(e), l(function () {
                            Ue.spyListeners = Ue.spyListeners.filter(function (t) {
                                return t !== e
                            })
                        })
                    }

                    function ot() {
                        c(!1)
                    }

                    function it(e) {
                        return function (t, n, r) {
                            if (r) {
                                if (r.value) return {
                                    value: Te(e, r.value),
                                    enumerable: !1,
                                    configurable: !0,
                                    writable: !0
                                };
                                var o = r.initializer;
                                return {
                                    enumerable: !1, configurable: !0, writable: !0, initializer: function () {
                                        return Te(e, o.call(this))
                                    }
                                }
                            }
                            return at(e).apply(this, arguments)
                        }
                    }

                    function at(e) {
                        return function (t, n) {
                            Object.defineProperty(t, n, {
                                configurable: !0, enumerable: !1, get: function () {
                                }, set: function (t) {
                                    h(this, n, st(e, t))
                                }
                            })
                        }
                    }

                    var st = function (e, t, n, r) {
                        return 1 === arguments.length && "function" == typeof e ? Te(e.name || "<unnamed action>", e) : 2 === arguments.length && "function" == typeof t ? Te(e, t) : 1 === arguments.length && "string" == typeof e ? it(e) : !0 !== r ? it(t).apply(null, arguments) : void (e[t] = Te(e.name || t, n.value))
                    };

                    function ct(e, t, n) {
                        h(e, t, Te(t, n.bind(e)))
                    }

                    function ut(e, t) {
                        void 0 === t && (t = o);
                        var n, r = t && t.name || e.name || "Autorun@" + s();
                        if (t.scheduler || t.delay) {
                            var i = ft(t), a = !1;
                            n = new Ye(r, function () {
                                a || (a = !0, i(function () {
                                    a = !1, n.isDisposed || n.track(c)
                                }))
                            }, t.onError, t.requiresObservable)
                        } else n = new Ye(r, function () {
                            this.track(c)
                        }, t.onError, t.requiresObservable);

                        function c() {
                            e(n)
                        }

                        return n.schedule(), n.getDisposer()
                    }

                    st.bound = function (e, t, n, r) {
                        return !0 === r ? (ct(e, t, n.value), null) : n ? {
                            configurable: !0,
                            enumerable: !1,
                            get: function () {
                                return ct(this, t, n.value || n.initializer.call(this)), this[t]
                            },
                            set: ot
                        } : {
                            enumerable: !1, configurable: !0, set: function (e) {
                                ct(this, t, e)
                            }, get: function () {
                            }
                        }
                    };
                    var lt = function (e) {
                        return e()
                    };

                    function ft(e) {
                        return e.scheduler ? e.scheduler : e.delay ? function (t) {
                            return setTimeout(t, e.delay)
                        } : lt
                    }

                    function dt(e, t, n) {
                        return ht("onBecomeObserved", e, t, n)
                    }

                    function pt(e, t, n) {
                        return ht("onBecomeUnobserved", e, t, n)
                    }

                    function ht(e, t, n, r) {
                        var o = "function" == typeof r ? _n(t, n) : _n(t), i = "function" == typeof r ? r : n, a = o[e];
                        return "function" != typeof a ? c(!1) : (o[e] = function () {
                            a.call(this), i.call(this)
                        }, function () {
                            o[e] = a
                        })
                    }

                    function gt(e, t, n, r) {
                        var o = (r = Q(r)).defaultDecorator || (!1 === r.deep ? $ : J);
                        F(e), ln(e, r.name, o.enhancer), je();
                        try {
                            for (var i = Object.getOwnPropertyNames(t), a = 0, s = i.length; a < s; a++) {
                                var c = i[a], u = Object.getOwnPropertyDescriptor(t, c),
                                    l = (n && c in n ? n[c] : u.get ? ae : o)(e, c, u, !0);
                                l && Object.defineProperty(e, c, l)
                            }
                        } finally {
                            Ke()
                        }
                        return e
                    }

                    function mt(e, t) {
                        return _t(_n(e, t))
                    }

                    function _t(e) {
                        var t, n, r = {name: e.name};
                        return e.observing && e.observing.length > 0 && (r.dependencies = (t = e.observing, n = [], t.forEach(function (e) {
                            -1 === n.indexOf(e) && n.push(e)
                        }), n).map(_t)), r
                    }

                    function vt(e) {
                        var t = {name: e.name};
                        return function (e) {
                            return e.observers && e.observers.length > 0
                        }(e) && (t.observers = function (e) {
                            return e.observers
                        }(e).map(vt)), t
                    }

                    var Et = 0;

                    function yt() {
                        this.message = "FLOW_CANCELLED"
                    }

                    function St(e) {
                        "function" == typeof e.cancel && e.cancel()
                    }

                    function Ct(e, t) {
                        if (null == e) return !1;
                        if (void 0 !== t) {
                            if (!1 === mn(e)) return !1;
                            if (!e.$mobx.values[t]) return !1;
                            var n = _n(e, t);
                            return De(n)
                        }
                        return De(e)
                    }

                    function At(e, t) {
                        if (null == e) return !1;
                        if (void 0 !== t) {
                            if (mn(e)) {
                                var n = e.$mobx;
                                return n.values && !!n.values[t]
                            }
                            return !1
                        }
                        return mn(e) || !!e.$mobx || R(e) || Xe(e) || De(e)
                    }

                    function Tt(e) {
                        return 1 !== arguments.length && c(!1), At(e)
                    }

                    function bt(e) {
                        return mn(e) ? e.$mobx.getKeys() : on(e) ? E(e.keys()) : cn(e) ? E(e.keys()) : en(e) ? e.map(function (e, t) {
                            return t
                        }) : c(!1)
                    }

                    function It(e, t) {
                        if (mn(e)) {
                            var n = vn(e);
                            return n.getKeys(), !!n.values[t]
                        }
                        return on(e) ? e.has(t) : cn(e) ? e.has(t) : en(e) ? t >= 0 && t < e.length : c(!1)
                    }

                    yt.prototype = Object.create(Error.prototype);
                    var wt = {detectCycles: !0, exportMapsAsObjects: !0, recurseEverything: !1};

                    function Ot(e, t, n, r) {
                        return r.detectCycles && e.set(t, n), n
                    }

                    function Rt() {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = !1;
                        "boolean" == typeof e[e.length - 1] && (n = e.pop());
                        var r = Mt(e);
                        if (!r) return c(!1);
                        r.isTracing === ie.NONE && console.log("[mobx.trace] '" + r.name + "' tracing enabled"), r.isTracing = n ? ie.BREAK : ie.LOG
                    }

                    function Mt(e) {
                        switch (e.length) {
                            case 0:
                                return Ue.trackingDerivation;
                            case 1:
                                return _n(e[0]);
                            case 2:
                                return _n(e[0], e[1])
                        }
                    }

                    function Lt(e, t) {
                        void 0 === t && (t = void 0), je();
                        try {
                            return e.apply(t)
                        } finally {
                            Ke()
                        }
                    }

                    function Nt(e, t, n) {
                        var r;
                        "number" == typeof n.timeout && (r = setTimeout(function () {
                            if (!i.$mobx.isDisposed) {
                                i();
                                var e = new Error("WHEN_TIMEOUT");
                                if (!n.onError) throw e;
                                n.onError(e)
                            }
                        }, n.timeout)), n.name = n.name || "When@" + s();
                        var o = Te(n.name + "-effect", t), i = ut(function (t) {
                            e() && (t.dispose(), r && clearTimeout(r), o())
                        }, n);
                        return i
                    }

                    function Dt(e, t) {
                        var n, r = new Promise(function (r, o) {
                            var i = Nt(e, r, B(B({}, t), {onError: o}));
                            n = function () {
                                i(), o("WHEN_CANCELLED")
                            }
                        });
                        return r.cancel = n, r
                    }

                    function Pt(e) {
                        return void 0 !== e.interceptors && e.interceptors.length > 0
                    }

                    function Bt(e, t) {
                        var n = e.interceptors || (e.interceptors = []);
                        return n.push(t), l(function () {
                            var e = n.indexOf(t);
                            -1 !== e && n.splice(e, 1)
                        })
                    }

                    function xt(e, t) {
                        var n = me();
                        try {
                            var r = e.interceptors;
                            if (r) for (var o = 0, i = r.length; o < i && (u(!(t = r[o](t)) || t.type, "Intercept handlers should return nothing or a change object"), t); o++) ;
                            return t
                        } finally {
                            _e(n)
                        }
                    }

                    function Gt(e) {
                        return void 0 !== e.changeListeners && e.changeListeners.length > 0
                    }

                    function Ut(e, t) {
                        var n = e.changeListeners || (e.changeListeners = []);
                        return n.push(t), l(function () {
                            var e = n.indexOf(t);
                            -1 !== e && n.splice(e, 1)
                        })
                    }

                    function Ht(e, t) {
                        var n = me(), r = e.changeListeners;
                        if (r) {
                            for (var o = 0, i = (r = r.slice()).length; o < i; o++) r[o](t);
                            _e(n)
                        }
                    }

                    var kt, Ft, jt, Kt, Vt = (kt = !1, Ft = {}, Object.defineProperty(Ft, "0", {
                        set: function () {
                            kt = !0
                        }
                    }), Object.create(Ft)[0] = 1, !1 === kt), Wt = 0, Yt = function () {
                    };
                    jt = Yt, Kt = Array.prototype, void 0 !== Object.setPrototypeOf ? Object.setPrototypeOf(jt.prototype, Kt) : void 0 !== jt.prototype.__proto__ ? jt.prototype.__proto__ = Kt : jt.prototype = Kt, Object.isFrozen(Array) && ["constructor", "push", "shift", "concat", "pop", "unshift", "replace", "find", "findIndex", "splice", "reverse", "sort"].forEach(function (e) {
                        Object.defineProperty(Yt.prototype, e, {
                            configurable: !0,
                            writable: !0,
                            value: Array.prototype[e]
                        })
                    });
                    var qt = function () {
                        function e(e, t, n, r) {
                            this.array = n, this.owned = r, this.values = [], this.lastKnownLength = 0, this.atom = new O(e || "ObservableArray@" + s()), this.enhancer = function (n, r) {
                                return t(n, r, e + "[..]")
                            }
                        }

                        return e.prototype.dehanceValue = function (e) {
                            return void 0 !== this.dehancer ? this.dehancer(e) : e
                        }, e.prototype.dehanceValues = function (e) {
                            return void 0 !== this.dehancer && e.length > 0 ? e.map(this.dehancer) : e
                        }, e.prototype.intercept = function (e) {
                            return Bt(this, e)
                        }, e.prototype.observe = function (e, t) {
                            return void 0 === t && (t = !1), t && e({
                                object: this.array,
                                type: "splice",
                                index: 0,
                                added: this.values.slice(),
                                addedCount: this.values.length,
                                removed: [],
                                removedCount: 0
                            }), Ut(this, e)
                        }, e.prototype.getArrayLength = function () {
                            return this.atom.reportObserved(), this.values.length
                        }, e.prototype.setArrayLength = function (e) {
                            if ("number" != typeof e || e < 0) throw new Error("[mobx.array] Out of range: " + e);
                            var t = this.values.length;
                            if (e !== t) if (e > t) {
                                for (var n = new Array(e - t), r = 0; r < e - t; r++) n[r] = void 0;
                                this.spliceWithArray(t, 0, n)
                            } else this.spliceWithArray(e, t - e)
                        }, e.prototype.updateArrayLength = function (e, t) {
                            if (e !== this.lastKnownLength) throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");
                            this.lastKnownLength += t, t > 0 && e + t + 1 > Wt && Zt(e + t + 1)
                        }, e.prototype.spliceWithArray = function (e, t, r) {
                            var o = this;
                            de(this.atom);
                            var i = this.values.length;
                            if (void 0 === e ? e = 0 : e > i ? e = i : e < 0 && (e = Math.max(0, i + e)), t = 1 === arguments.length ? i - e : null == t ? 0 : Math.max(0, Math.min(t, i - e)), void 0 === r && (r = n), Pt(this)) {
                                var a = xt(this, {
                                    object: this.array,
                                    type: "splice",
                                    index: e,
                                    removedCount: t,
                                    added: r
                                });
                                if (!a) return n;
                                t = a.removedCount, r = a.added
                            }
                            var s = (r = 0 === r.length ? r : r.map(function (e) {
                                return o.enhancer(e, void 0)
                            })).length - t;
                            this.updateArrayLength(i, s);
                            var c = this.spliceItemsIntoValues(e, t, r);
                            return 0 === t && 0 === r.length || this.notifyArraySplice(e, r, c), this.dehanceValues(c)
                        }, e.prototype.spliceItemsIntoValues = function (e, t, n) {
                            var r;
                            if (n.length < 1e4) return (r = this.values).splice.apply(r, G([e, t], n));
                            var o = this.values.slice(e, e + t);
                            return this.values = this.values.slice(0, e).concat(n, this.values.slice(e + t)), o
                        }, e.prototype.notifyArrayChildUpdate = function (e, t, n) {
                            var r = !this.owned && Ze(), o = Gt(this), i = o || r ? {
                                object: this.array,
                                type: "update",
                                index: e,
                                newValue: t,
                                oldValue: n
                            } : null;
                            r && et(B(B({}, i), {name: this.atom.name})), this.atom.reportChanged(), o && Ht(this, i), r && nt()
                        }, e.prototype.notifyArraySplice = function (e, t, n) {
                            var r = !this.owned && Ze(), o = Gt(this), i = o || r ? {
                                object: this.array,
                                type: "splice",
                                index: e,
                                removed: n,
                                added: t,
                                removedCount: n.length,
                                addedCount: t.length
                            } : null;
                            r && et(B(B({}, i), {name: this.atom.name})), this.atom.reportChanged(), o && Ht(this, i), r && nt()
                        }, e
                    }(), zt = function (e) {
                        function t(t, n, r, o) {
                            void 0 === r && (r = "ObservableArray@" + s()), void 0 === o && (o = !1);
                            var i = e.call(this) || this, a = new qt(r, n, i, o);
                            if (g(i, "$mobx", a), t && t.length) {
                                var c = Oe(!0);
                                i.spliceWithArray(0, 0, t), Re(c)
                            }
                            return Vt && Object.defineProperty(a.array, "0", Qt), i
                        }

                        return P(t, e), t.prototype.intercept = function (e) {
                            return this.$mobx.intercept(e)
                        }, t.prototype.observe = function (e, t) {
                            return void 0 === t && (t = !1), this.$mobx.observe(e, t)
                        }, t.prototype.clear = function () {
                            return this.splice(0)
                        }, t.prototype.concat = function () {
                            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                            return this.$mobx.atom.reportObserved(), Array.prototype.concat.apply(this.peek(), e.map(function (e) {
                                return en(e) ? e.peek() : e
                            }))
                        }, t.prototype.replace = function (e) {
                            return this.$mobx.spliceWithArray(0, this.$mobx.values.length, e)
                        }, t.prototype.toJS = function () {
                            return this.slice()
                        }, t.prototype.toJSON = function () {
                            return this.toJS()
                        }, t.prototype.peek = function () {
                            return this.$mobx.atom.reportObserved(), this.$mobx.dehanceValues(this.$mobx.values)
                        }, t.prototype.find = function (e, t, n) {
                            void 0 === n && (n = 0);
                            var r = this.findIndex.apply(this, arguments);
                            return -1 === r ? void 0 : this.get(r)
                        }, t.prototype.findIndex = function (e, t, n) {
                            void 0 === n && (n = 0);
                            for (var r = this.peek(), o = r.length, i = n; i < o; i++) if (e.call(t, r[i], i, this)) return i;
                            return -1
                        }, t.prototype.splice = function (e, t) {
                            for (var n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];
                            switch (arguments.length) {
                                case 0:
                                    return [];
                                case 1:
                                    return this.$mobx.spliceWithArray(e);
                                case 2:
                                    return this.$mobx.spliceWithArray(e, t)
                            }
                            return this.$mobx.spliceWithArray(e, t, n)
                        }, t.prototype.spliceWithArray = function (e, t, n) {
                            return this.$mobx.spliceWithArray(e, t, n)
                        }, t.prototype.push = function () {
                            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                            var n = this.$mobx;
                            return n.spliceWithArray(n.values.length, 0, e), n.values.length
                        }, t.prototype.pop = function () {
                            return this.splice(Math.max(this.$mobx.values.length - 1, 0), 1)[0]
                        }, t.prototype.shift = function () {
                            return this.splice(0, 1)[0]
                        }, t.prototype.unshift = function () {
                            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                            var n = this.$mobx;
                            return n.spliceWithArray(0, 0, e), n.values.length
                        }, t.prototype.reverse = function () {
                            var e = this.slice();
                            return e.reverse.apply(e, arguments)
                        }, t.prototype.sort = function (e) {
                            var t = this.slice();
                            return t.sort.apply(t, arguments)
                        }, t.prototype.remove = function (e) {
                            var t = this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);
                            return t > -1 && (this.splice(t, 1), !0)
                        }, t.prototype.move = function (e, t) {
                            function n(e) {
                                if (e < 0) throw new Error("[mobx.array] Index out of bounds: " + e + " is negative");
                                var t = this.$mobx.values.length;
                                if (e >= t) throw new Error("[mobx.array] Index out of bounds: " + e + " is not smaller than " + t)
                            }

                            if (n.call(this, e), n.call(this, t), e !== t) {
                                var r, o = this.$mobx.values;
                                r = e < t ? G(o.slice(0, e), o.slice(e + 1, t + 1), [o[e]], o.slice(t + 1)) : G(o.slice(0, t), [o[e]], o.slice(t, e), o.slice(e + 1)), this.replace(r)
                            }
                        }, t.prototype.get = function (e) {
                            var t = this.$mobx;
                            if (t) {
                                if (e < t.values.length) return t.atom.reportObserved(), t.dehanceValue(t.values[e]);
                                console.warn("[mobx.array] Attempt to read an array index (" + e + ") that is out of bounds (" + t.values.length + "). Please check length first. Out of bound indices will not be tracked by MobX")
                            }
                        }, t.prototype.set = function (e, t) {
                            var n = this.$mobx, r = n.values;
                            if (e < r.length) {
                                de(n.atom);
                                var o = r[e];
                                if (Pt(n)) {
                                    var i = xt(n, {type: "update", object: this, index: e, newValue: t});
                                    if (!i) return;
                                    t = i.newValue
                                }
                                (t = n.enhancer(t, o)) !== o && (r[e] = t, n.notifyArrayChildUpdate(e, t, o))
                            } else {
                                if (e !== r.length) throw new Error("[mobx.array] Index out of bounds, " + e + " is larger than " + r.length);
                                n.spliceWithArray(e, 0, [t])
                            }
                        }, t
                    }(Yt);
                    T(zt.prototype, function () {
                        this.$mobx.atom.reportObserved();
                        var e = this, t = 0;
                        return b({
                            next: function () {
                                return t < e.length ? {value: e[t++], done: !1} : {done: !0, value: void 0}
                            }
                        })
                    }), Object.defineProperty(zt.prototype, "length", {
                        enumerable: !1,
                        configurable: !0,
                        get: function () {
                            return this.$mobx.getArrayLength()
                        },
                        set: function (e) {
                            this.$mobx.setArrayLength(e)
                        }
                    }), h(zt.prototype, I(), "Array"), ["indexOf", "join", "lastIndexOf", "slice", "toString", "toLocaleString"].forEach(function (e) {
                        var t = Array.prototype[e];
                        u("function" == typeof t, "Base function not defined on Array prototype: '" + e + "'"), h(zt.prototype, e, function () {
                            return t.apply(this.peek(), arguments)
                        })
                    }), ["every", "filter", "forEach", "map", "some"].forEach(function (e) {
                        u("function" == typeof Array.prototype[e], "Base function not defined on Array prototype: '" + e + "'"), h(zt.prototype, e, function (t, n) {
                            var r = this, o = this.$mobx;
                            return o.atom.reportObserved(), o.dehanceValues(o.values)[e](function (e, o) {
                                return t.call(n, e, o, r)
                            }, n)
                        })
                    }), ["reduce", "reduceRight"].forEach(function (e) {
                        h(zt.prototype, e, function () {
                            var t = this, n = this.$mobx;
                            n.atom.reportObserved();
                            var r = arguments[0];
                            return arguments[0] = function (e, o, i) {
                                return o = n.dehanceValue(o), r(e, o, i, t)
                            }, n.values[e].apply(n.values, arguments)
                        })
                    }), function (e, t) {
                        for (var n = 0; n < t.length; n++) h(e, t[n], e[t[n]])
                    }(zt.prototype, ["constructor", "intercept", "observe", "clear", "concat", "get", "replace", "toJS", "toJSON", "peek", "find", "findIndex", "splice", "spliceWithArray", "push", "pop", "set", "shift", "unshift", "reverse", "sort", "remove", "move", "toString", "toLocaleString"]);
                    var Qt = Xt(0);

                    function Xt(e) {
                        return {
                            enumerable: !1, configurable: !1, get: function () {
                                return this.get(e)
                            }, set: function (t) {
                                this.set(e, t)
                            }
                        }
                    }

                    function Jt(e) {
                        Object.defineProperty(zt.prototype, "" + e, Xt(e))
                    }

                    function Zt(e) {
                        for (var t = Wt; t < e; t++) Jt(t);
                        Wt = e
                    }

                    Zt(1e3);
                    var $t = m("ObservableArrayAdministration", qt);

                    function en(e) {
                        return d(e) && $t(e.$mobx)
                    }

                    var tn = {}, nn = function () {
                        function e(e, t, n) {
                            if (void 0 === t && (t = V), void 0 === n && (n = "ObservableMap@" + s()), this.enhancer = t, this.name = n, this.$mobx = tn, this._keysAtom = M(this.name + ".keys()"), "function" != typeof Map) throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");
                            this._data = new Map, this._hasMap = new Map, this.merge(e)
                        }

                        return e.prototype._has = function (e) {
                            return this._data.has(e)
                        }, e.prototype.has = function (e) {
                            var t = this;
                            if (!Ue.trackingDerivation) return this._has(e);
                            var n = this._hasMap.get(e);
                            if (!n) {
                                var r = n = new Me(this._has(e), W, this.name + "." + rn(e) + "?", !1);
                                this._hasMap.set(e, r), pt(r, function () {
                                    return t._hasMap.delete(e)
                                })
                            }
                            return n.get()
                        }, e.prototype.set = function (e, t) {
                            var n = this._has(e);
                            if (Pt(this)) {
                                var r = xt(this, {type: n ? "update" : "add", object: this, newValue: t, name: e});
                                if (!r) return this;
                                t = r.newValue
                            }
                            return n ? this._updateValue(e, t) : this._addValue(e, t), this
                        }, e.prototype.delete = function (e) {
                            var t = this;
                            if (de(this._keysAtom), Pt(this) && !(o = xt(this, {
                                type: "delete",
                                object: this,
                                name: e
                            }))) return !1;
                            if (this._has(e)) {
                                var n = Ze(), r = Gt(this), o = r || n ? {
                                    type: "delete",
                                    object: this,
                                    oldValue: this._data.get(e).value,
                                    name: e
                                } : null;
                                return n && et(B(B({}, o), {name: this.name, key: e})), Lt(function () {
                                    t._keysAtom.reportChanged(), t._updateHasMapEntry(e, !1), t._data.get(e).setNewValue(void 0), t._data.delete(e)
                                }), r && Ht(this, o), n && nt(), !0
                            }
                            return !1
                        }, e.prototype._updateHasMapEntry = function (e, t) {
                            var n = this._hasMap.get(e);
                            n && n.setNewValue(t)
                        }, e.prototype._updateValue = function (e, t) {
                            var n = this._data.get(e);
                            if ((t = n.prepareNewValue(t)) !== Ue.UNCHANGED) {
                                var r = Ze(), o = Gt(this), i = o || r ? {
                                    type: "update",
                                    object: this,
                                    oldValue: n.value,
                                    name: e,
                                    newValue: t
                                } : null;
                                r && et(B(B({}, i), {
                                    name: this.name,
                                    key: e
                                })), n.setNewValue(t), o && Ht(this, i), r && nt()
                            }
                        }, e.prototype._addValue = function (e, t) {
                            var n = this;
                            de(this._keysAtom), Lt(function () {
                                var r = new Me(t, n.enhancer, n.name + "." + rn(e), !1);
                                n._data.set(e, r), t = r.value, n._updateHasMapEntry(e, !0), n._keysAtom.reportChanged()
                            });
                            var r = Ze(), o = Gt(this),
                                i = o || r ? {type: "add", object: this, name: e, newValue: t} : null;
                            r && et(B(B({}, i), {name: this.name, key: e})), o && Ht(this, i), r && nt()
                        }, e.prototype.get = function (e) {
                            return this.has(e) ? this.dehanceValue(this._data.get(e).get()) : this.dehanceValue(void 0)
                        }, e.prototype.dehanceValue = function (e) {
                            return void 0 !== this.dehancer ? this.dehancer(e) : e
                        }, e.prototype.keys = function () {
                            return this._keysAtom.reportObserved(), this._data.keys()
                        }, e.prototype.values = function () {
                            var e = this, t = this.keys();
                            return b({
                                next: function () {
                                    var n = t.next(), r = n.done, o = n.value;
                                    return {done: r, value: r ? void 0 : e.get(o)}
                                }
                            })
                        }, e.prototype.entries = function () {
                            var e = this, t = this.keys();
                            return b({
                                next: function () {
                                    var n = t.next(), r = n.done, o = n.value;
                                    return {done: r, value: r ? void 0 : [o, e.get(o)]}
                                }
                            })
                        }, e.prototype.forEach = function (e, t) {
                            var n = this;
                            this._keysAtom.reportObserved(), this._data.forEach(function (r, o) {
                                return e.call(t, n.get(o), o, n)
                            })
                        }, e.prototype.merge = function (e) {
                            var t = this;
                            return on(e) && (e = e.toJS()), Lt(function () {
                                var n = Oe(!0);
                                try {
                                    p(e) ? Object.keys(e).forEach(function (n) {
                                        return t.set(n, e[n])
                                    }) : Array.isArray(e) ? e.forEach(function (e) {
                                        var n = x(e, 2), r = n[0], o = n[1];
                                        return t.set(r, o)
                                    }) : _(e) ? e.constructor !== Map ? c("Cannot initialize from classes that inherit from Map: " + e.constructor.name) : e.forEach(function (e, n) {
                                        return t.set(n, e)
                                    }) : null != e && c("Cannot initialize map from " + e)
                                } finally {
                                    Re(n)
                                }
                            }), this
                        }, e.prototype.clear = function () {
                            var e = this;
                            Lt(function () {
                                ge(function () {
                                    e._data.forEach(function (t, n) {
                                        return e.delete(n)
                                    })
                                })
                            })
                        }, e.prototype.replace = function (e) {
                            var t = this;
                            return Lt(function () {
                                var n = function (e) {
                                    if (_(e) || on(e)) return e;
                                    if (Array.isArray(e)) return new Map(e);
                                    if (p(e)) {
                                        var t = new Map;
                                        for (var n in e) t.set(n, e[n]);
                                        return t
                                    }
                                    return c("Cannot convert to map from '" + e + "'")
                                }(e), r = new Map, o = !1;
                                if (C(t._data.keys(), function (e) {
                                    if (!n.has(e)) if (t.delete(e)) o = !0; else {
                                        var i = t._data.get(e);
                                        r.set(e, i)
                                    }
                                }), C(n.entries(), function (e) {
                                    var n = x(e, 2), i = n[0], a = n[1], s = t._data.has(i);
                                    if (t.set(i, a), t._data.has(i)) {
                                        var c = t._data.get(i);
                                        r.set(i, c), s || (o = !0)
                                    }
                                }), !o) if (t._data.size !== r.size) t._keysAtom.reportChanged(); else for (var i = t._data.keys(), a = r.keys(), s = i.next(), u = a.next(); !s.done;) {
                                    if (s.value !== u.value) {
                                        t._keysAtom.reportChanged();
                                        break
                                    }
                                    s = i.next(), u = a.next()
                                }
                                t._data = r
                            }), this
                        }, Object.defineProperty(e.prototype, "size", {
                            get: function () {
                                return this._keysAtom.reportObserved(), this._data.size
                            }, enumerable: !0, configurable: !0
                        }), e.prototype.toPOJO = function () {
                            var e = this, t = {};
                            return this.forEach(function (n, r) {
                                return t["symbol" == typeof r ? r : rn(r)] = e.get(r)
                            }), t
                        }, e.prototype.toJS = function () {
                            return new Map(this)
                        }, e.prototype.toJSON = function () {
                            return this.toPOJO()
                        }, e.prototype.toString = function () {
                            var e = this;
                            return this.name + "[{ " + E(this.keys()).map(function (t) {
                                return rn(t) + ": " + e.get(t)
                            }).join(", ") + " }]"
                        }, e.prototype.observe = function (e) {
                            return Ut(this, e)
                        }, e.prototype.intercept = function (e) {
                            return Bt(this, e)
                        }, e
                    }();

                    function rn(e) {
                        return e && e.toString ? e.toString() : new String(e).toString()
                    }

                    T(nn.prototype, function () {
                        return this.entries()
                    }), g(nn.prototype, I(), "Map");
                    var on = m("ObservableMap", nn), an = {}, sn = function () {
                        function e(e, t, n) {
                            if (void 0 === t && (t = V), void 0 === n && (n = "ObservableSet@" + s()), this.name = n, this.$mobx = an, this._data = new Set, this._atom = M(this.name), "function" != typeof Set) throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");
                            this.enhancer = function (e, r) {
                                return t(e, r, n)
                            }, e && this.replace(e)
                        }

                        return e.prototype.dehanceValue = function (e) {
                            return void 0 !== this.dehancer ? this.dehancer(e) : e
                        }, e.prototype.clear = function () {
                            var e = this;
                            Lt(function () {
                                ge(function () {
                                    e._data.forEach(function (t) {
                                        e.delete(t)
                                    })
                                })
                            })
                        }, e.prototype.forEach = function (e, t) {
                            var n = this;
                            this._atom.reportObserved(), this._data.forEach(function (r) {
                                e.call(t, r, r, n)
                            })
                        }, Object.defineProperty(e.prototype, "size", {
                            get: function () {
                                return this._atom.reportObserved(), this._data.size
                            }, enumerable: !0, configurable: !0
                        }), e.prototype.add = function (e) {
                            var t = this;
                            if (de(this._atom), Pt(this) && !(o = xt(this, {
                                type: "add",
                                object: this,
                                newValue: e
                            }))) return this;
                            if (!this.has(e)) {
                                Lt(function () {
                                    t._data.add(t.enhancer(e, void 0)), t._atom.reportChanged()
                                });
                                var n = Ze(), r = Gt(this),
                                    o = r || n ? {type: "add", object: this, newValue: e} : null;
                                r && Ht(this, o)
                            }
                            return this
                        }, e.prototype.delete = function (e) {
                            var t = this;
                            if (Pt(this) && !(o = xt(this, {type: "delete", object: this, oldValue: e}))) return !1;
                            if (this.has(e)) {
                                var n = Ze(), r = Gt(this),
                                    o = r || n ? {type: "delete", object: this, oldValue: e} : null;
                                return Lt(function () {
                                    t._atom.reportChanged(), t._data.delete(e)
                                }), r && Ht(this, o), !0
                            }
                            return !1
                        }, e.prototype.has = function (e) {
                            return this._atom.reportObserved(), this._data.has(this.dehanceValue(e))
                        }, e.prototype.entries = function () {
                            var e = 0, t = E(this.keys()), n = E(this.values());
                            return b({
                                next: function () {
                                    var r = e;
                                    return e += 1, r < n.length ? {value: [t[r], n[r]], done: !1} : {done: !0}
                                }
                            })
                        }, e.prototype.keys = function () {
                            return this.values()
                        }, e.prototype.values = function () {
                            this._atom.reportObserved();
                            var e, t = this, n = 0;
                            return void 0 !== this._data.values ? e = E(this._data.values()) : (e = [], this._data.forEach(function (t) {
                                return e.push(t)
                            })), b({
                                next: function () {
                                    return n < e.length ? {value: t.dehanceValue(e[n++]), done: !1} : {done: !0}
                                }
                            })
                        }, e.prototype.replace = function (e) {
                            var t = this;
                            return cn(e) && (e = e.toJS()), Lt(function () {
                                var n = Oe(!0);
                                try {
                                    Array.isArray(e) ? (t.clear(), e.forEach(function (e) {
                                        return t.add(e)
                                    })) : v(e) ? (t.clear(), e.forEach(function (e) {
                                        return t.add(e)
                                    })) : null != e && c("Cannot initialize set from " + e)
                                } finally {
                                    Re(n)
                                }
                            }), this
                        }, e.prototype.observe = function (e) {
                            return Ut(this, e)
                        }, e.prototype.intercept = function (e) {
                            return Bt(this, e)
                        }, e.prototype.toJS = function () {
                            return new Set(this)
                        }, e.prototype.toString = function () {
                            return this.name + "[ " + E(this.keys()).join(", ") + " ]"
                        }, e
                    }();
                    T(sn.prototype, function () {
                        return this.values()
                    }), g(sn.prototype, I(), "Set");
                    var cn = m("ObservableSet", sn), un = function () {
                        function e(e, t, n) {
                            this.target = e, this.name = t, this.defaultEnhancer = n, this.values = {}
                        }

                        return e.prototype.read = function (e, t) {
                            if (this.target === e || (this.illegalAccess(e, t), this.values[t])) return this.values[t].get()
                        }, e.prototype.write = function (e, t, n) {
                            var r = this.target;
                            r !== e && this.illegalAccess(e, t);
                            var o = this.values[t];
                            if (o instanceof Ne) o.set(n); else {
                                if (Pt(this)) {
                                    if (!(s = xt(this, {type: "update", object: r, name: t, newValue: n}))) return;
                                    n = s.newValue
                                }
                                if ((n = o.prepareNewValue(n)) !== Ue.UNCHANGED) {
                                    var i = Gt(this), a = Ze(), s = i || a ? {
                                        type: "update",
                                        object: r,
                                        oldValue: o.value,
                                        name: t,
                                        newValue: n
                                    } : null;
                                    a && et(B(B({}, s), {
                                        name: this.name,
                                        key: t
                                    })), o.setNewValue(n), i && Ht(this, s), a && nt()
                                }
                            }
                        }, e.prototype.remove = function (e) {
                            if (this.values[e]) {
                                var t = this.target;
                                if (Pt(this) && !(i = xt(this, {object: t, name: e, type: "remove"}))) return;
                                try {
                                    je();
                                    var n = Gt(this), r = Ze(), o = this.values[e].get();
                                    this.keys && this.keys.remove(e), delete this.values[e], delete this.target[e];
                                    var i = n || r ? {type: "remove", object: t, oldValue: o, name: e} : null;
                                    r && et(B(B({}, i), {name: this.name, key: e})), n && Ht(this, i), r && nt()
                                } finally {
                                    Ke()
                                }
                            }
                        }, e.prototype.illegalAccess = function (e, t) {
                            console.warn("Property '" + t + "' of '" + e + "' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")
                        }, e.prototype.observe = function (e) {
                            return Ut(this, e)
                        }, e.prototype.intercept = function (e) {
                            return Bt(this, e)
                        }, e.prototype.getKeys = function () {
                            var e = this;
                            return void 0 === this.keys && (this.keys = new zt(Object.keys(this.values).filter(function (t) {
                                return e.values[t] instanceof Me
                            }), W, "keys(" + this.name + ")", !0)), this.keys.slice()
                        }, e
                    }();

                    function ln(e, t, n) {
                        void 0 === t && (t = ""), void 0 === n && (n = V);
                        var r = e.$mobx;
                        return r || (p(e) || (t = (e.constructor.name || "ObservableObject") + "@" + s()), t || (t = "ObservableObject@" + s()), g(e, "$mobx", r = new un(e, t, n)), r)
                    }

                    function fn(e, t, n, r) {
                        var o = ln(e);
                        if (Pt(o)) {
                            var i = xt(o, {object: e, name: t, type: "add", newValue: n});
                            if (!i) return;
                            n = i.newValue
                        }
                        n = (o.values[t] = new Me(n, r, o.name + "." + t, !1)).value, Object.defineProperty(e, t, function (e) {
                            return dn[e] || (dn[e] = {
                                configurable: !0, enumerable: !0, get: function () {
                                    return this.$mobx.read(this, e)
                                }, set: function (t) {
                                    this.$mobx.write(this, e, t)
                                }
                            })
                        }(t)), o.keys && o.keys.push(t), function (e, t, n, r) {
                            var o = Gt(e), i = Ze(), a = o || i ? {type: "add", object: t, name: n, newValue: r} : null;
                            i && et(B(B({}, a), {name: e.name, key: n})), o && Ht(e, a), i && nt()
                        }(o, e, t, n)
                    }

                    var dn = Object.create(null), pn = Object.create(null);

                    function hn(e) {
                        return e.$mobx || (F(e), e.$mobx)
                    }

                    var gn = m("ObservableObjectAdministration", un);

                    function mn(e) {
                        return !!d(e) && (F(e), gn(e.$mobx))
                    }

                    function _n(e, t) {
                        if ("object" == typeof e && null !== e) {
                            if (en(e)) return void 0 !== t && c(!1), e.$mobx.atom;
                            if (cn(e)) return e.$mobx;
                            if (on(e)) {
                                var n = e;
                                return void 0 === t ? n._keysAtom : ((r = n._data.get(t) || n._hasMap.get(t)) || c(!1), r)
                            }
                            var r;
                            if (F(e), t && !e.$mobx && e[t], mn(e)) return t ? ((r = e.$mobx.values[t]) || c(!1), r) : c(!1);
                            if (R(e) || De(e) || Xe(e)) return e
                        } else if ("function" == typeof e && Xe(e.$mobx)) return e.$mobx;
                        return c(!1)
                    }

                    function vn(e, t) {
                        return e || c("Expecting some object"), void 0 !== t ? vn(_n(e, t)) : R(e) || De(e) || Xe(e) ? e : on(e) || cn(e) ? e : (F(e), e.$mobx ? e.$mobx : void c(!1))
                    }

                    function En(e, t) {
                        return (void 0 !== t ? _n(e, t) : mn(e) || on(e) || cn(e) ? vn(e) : _n(e)).name
                    }

                    var yn = Object.prototype.toString;

                    function Sn(e, t, n) {
                        return void 0 === n && (n = -1), function e(t, n, r, o, i) {
                            if (t === n) return 0 !== t || 1 / t == 1 / n;
                            if (null == t || null == n) return !1;
                            if (t != t) return n != n;
                            var a = typeof t;
                            if ("function" !== a && "object" !== a && "object" != typeof n) return !1;
                            t = Cn(t), n = Cn(n);
                            var s = yn.call(t);
                            if (s !== yn.call(n)) return !1;
                            switch (s) {
                                case"[object RegExp]":
                                case"[object String]":
                                    return "" + t == "" + n;
                                case"[object Number]":
                                    return +t != +t ? +n != +n : 0 == +t ? 1 / +t == 1 / n : +t == +n;
                                case"[object Date]":
                                case"[object Boolean]":
                                    return +t == +n;
                                case"[object Symbol]":
                                    return "undefined" != typeof Symbol && Symbol.valueOf.call(t) === Symbol.valueOf.call(n)
                            }
                            var c = "[object Array]" === s;
                            if (!c) {
                                if ("object" != typeof t || "object" != typeof n) return !1;
                                var u = t.constructor, l = n.constructor;
                                if (u !== l && !("function" == typeof u && u instanceof u && "function" == typeof l && l instanceof l) && "constructor" in t && "constructor" in n) return !1
                            }
                            if (0 === r) return !1;
                            r < 0 && (r = -1), i = i || [];
                            for (var f = (o = o || []).length; f--;) if (o[f] === t) return i[f] === n;
                            if (o.push(t), i.push(n), c) {
                                if ((f = t.length) !== n.length) return !1;
                                for (; f--;) if (!e(t[f], n[f], r - 1, o, i)) return !1
                            } else {
                                var d = Object.keys(t), p = void 0;
                                if (f = d.length, Object.keys(n).length !== f) return !1;
                                for (; f--;) if (!An(n, p = d[f]) || !e(t[p], n[p], r - 1, o, i)) return !1
                            }
                            return o.pop(), i.pop(), !0
                        }(e, t, n)
                    }

                    function Cn(e) {
                        return en(e) ? e.peek() : _(e) || on(e) ? E(e.entries()) : v(e) || cn(e) ? E(e.entries()) : e
                    }

                    function An(e, t) {
                        return Object.prototype.hasOwnProperty.call(e, t)
                    }

                    "object" == typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ && __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({
                        spy: rt,
                        extras: {getDebugName: En},
                        $mobx: "$mobx"
                    }), t.$mobx = "$mobx", t.FlowCancellationError = yt, t.ObservableMap = nn, t.ObservableSet = sn, t.Reaction = Ye, t._allowStateChanges = function (e, t) {
                        var n, r = Oe(e);
                        try {
                            n = t()
                        } finally {
                            Re(r)
                        }
                        return n
                    }, t._allowStateChangesInsideComputed = function (e) {
                        var t, n = Ue.computationDepth;
                        Ue.computationDepth = 0;
                        try {
                            t = e()
                        } finally {
                            Ue.computationDepth = n
                        }
                        return t
                    }, t._allowStateReadsEnd = Ee, t._allowStateReadsStart = ve, t._endAction = we, t._getAdministration = vn, t._getGlobalState = function () {
                        return Ue
                    }, t._interceptReads = function (e, t, n) {
                        var r;
                        if (on(e) || en(e) || Le(e)) r = vn(e); else {
                            if (!mn(e)) return c(!1);
                            if ("string" != typeof t) return c(!1);
                            r = vn(e, t)
                        }
                        return void 0 !== r.dehancer ? c(!1) : (r.dehancer = "function" == typeof t ? t : n, function () {
                            r.dehancer = void 0
                        })
                    }, t._isComputingDerivation = function () {
                        return null !== Ue.trackingDerivation
                    }, t._resetGlobalState = function () {
                        var e = new Be;
                        for (var t in e) -1 === Pe.indexOf(t) && (Ue[t] = e[t]);
                        Ue.allowStateChanges = !Ue.enforceActions
                    }, t._startAction = Ie, t.action = st, t.autorun = ut, t.comparer = N, t.computed = ce, t.configure = function (e) {
                        var t = e.enforceActions, n = e.computedRequiresReaction, r = e.computedConfigurable,
                            o = e.disableErrorBoundaries, i = e.arrayBuffer, s = e.reactionScheduler,
                            u = e.reactionRequiresObservable, l = e.observableRequiresReaction;
                        if (!0 === e.isolateGlobalState && ((Ue.pendingReactions.length || Ue.inBatch || Ue.isRunningReactions) && c("isolateGlobalState should be called before MobX is running any reactions"), Ge = !0, xe && (0 == --a().__mobxInstanceCount && (a().__mobxGlobals = void 0), Ue = new Be)), void 0 !== t) {
                            var f = void 0;
                            switch (t) {
                                case!0:
                                case"observed":
                                    f = !0;
                                    break;
                                case!1:
                                case"never":
                                    f = !1;
                                    break;
                                case"strict":
                                case"always":
                                    f = "strict";
                                    break;
                                default:
                                    c("Invalid value for 'enforceActions': '" + t + "', expected 'never', 'always' or 'observed'")
                            }
                            Ue.enforceActions = f, Ue.allowStateChanges = !0 !== f && "strict" !== f
                        }
                        void 0 !== n && (Ue.computedRequiresReaction = !!n), void 0 !== u && (Ue.reactionRequiresObservable = !!u), void 0 !== l && (Ue.observableRequiresReaction = !!l, Ue.allowStateReads = !Ue.observableRequiresReaction), void 0 !== r && (Ue.computedConfigurable = !!r), void 0 !== o && (!0 === o && console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."), Ue.disableErrorBoundaries = !!o), "number" == typeof i && Zt(i), s && Je(s)
                    }, t.createAtom = M, t.decorate = function (e, t) {
                        var n = "function" == typeof e ? e.prototype : e, r = function (e) {
                            var r = t[e];
                            Array.isArray(r) || (r = [r]);
                            var o = Object.getOwnPropertyDescriptor(n, e), i = r.reduce(function (t, r) {
                                return r(n, e, t)
                            }, o);
                            i && Object.defineProperty(n, e, i)
                        };
                        for (var o in t) r(o);
                        return e
                    }, t.entries = function (e) {
                        return mn(e) ? bt(e).map(function (t) {
                            return [t, e[t]]
                        }) : on(e) ? bt(e).map(function (t) {
                            return [t, e.get(t)]
                        }) : cn(e) ? E(e.entries()) : en(e) ? e.map(function (e, t) {
                            return [t, e]
                        }) : c(!1)
                    }, t.extendObservable = gt, t.extendShallowObservable = function (e, t, n) {
                        return gt(e, t, n, z)
                    }, t.flow = function (e) {
                        1 !== arguments.length && c("Flow expects one 1 argument and cannot be used as decorator");
                        var t = e.name || "<unnamed flow>";
                        return function () {
                            var n, r = this, o = arguments, i = ++Et,
                                a = st(t + " - runid: " + i + " - init", e).apply(r, o), s = void 0,
                                c = new Promise(function (e, r) {
                                    var o = 0;

                                    function c(e) {
                                        var n;
                                        s = void 0;
                                        try {
                                            n = st(t + " - runid: " + i + " - yield " + o++, a.next).call(a, e)
                                        } catch (e) {
                                            return r(e)
                                        }
                                        l(n)
                                    }

                                    function u(e) {
                                        var n;
                                        s = void 0;
                                        try {
                                            n = st(t + " - runid: " + i + " - yield " + o++, a.throw).call(a, e)
                                        } catch (e) {
                                            return r(e)
                                        }
                                        l(n)
                                    }

                                    function l(t) {
                                        if (!t || "function" != typeof t.then) return t.done ? e(t.value) : (s = Promise.resolve(t.value)).then(c, u);
                                        t.then(l, r)
                                    }

                                    n = r, c(void 0)
                                });
                            return c.cancel = st(t + " - runid: " + i + " - cancel", function () {
                                try {
                                    s && St(s);
                                    var e = a.return(void 0), t = Promise.resolve(e.value);
                                    t.then(f, f), St(t), n(new yt)
                                } catch (e) {
                                    n(e)
                                }
                            }), c
                        }
                    }, t.get = function (e, t) {
                        if (It(e, t)) return mn(e) ? e[t] : on(e) ? e.get(t) : en(e) ? e[t] : c(!1)
                    }, t.getAtom = _n, t.getDebugName = En, t.getDependencyTree = mt, t.getObserverTree = function (e, t) {
                        return vt(_n(e, t))
                    }, t.has = It, t.intercept = function (e, t, n) {
                        return "function" == typeof n ? function (e, t, n) {
                            return vn(e, t).intercept(n)
                        }(e, t, n) : function (e, t) {
                            return vn(e).intercept(t)
                        }(e, t)
                    }, t.isAction = function (e) {
                        return "function" == typeof e && !0 === e.isMobxAction
                    }, t.isArrayLike = function (e) {
                        return Array.isArray(e) || en(e)
                    }, t.isBoxedObservable = Le, t.isComputed = function (e) {
                        return arguments.length > 1 ? c(!1) : Ct(e)
                    }, t.isComputedProp = function (e, t) {
                        return "string" != typeof t ? c(!1) : Ct(e, t)
                    }, t.isFlowCancellationError = function (e) {
                        return e instanceof yt
                    }, t.isObservable = Tt, t.isObservableArray = en, t.isObservableMap = on, t.isObservableObject = mn, t.isObservableProp = function (e, t) {
                        return "string" != typeof t ? c(!1) : At(e, t)
                    }, t.isObservableSet = cn, t.keys = bt, t.observable = ne, t.observe = function (e, t, n, r) {
                        return "function" == typeof n ? function (e, t, n, r) {
                            return vn(e, t).observe(n, r)
                        }(e, t, n, r) : function (e, t, n) {
                            return vn(e).observe(t, n)
                        }(e, t, n)
                    }, t.onBecomeObserved = dt, t.onBecomeUnobserved = pt, t.onReactionError = function (e) {
                        return Ue.globalReactionErrorHandlers.push(e), function () {
                            var t = Ue.globalReactionErrorHandlers.indexOf(e);
                            t >= 0 && Ue.globalReactionErrorHandlers.splice(t, 1)
                        }
                    }, t.reaction = function (e, t, n) {
                        void 0 === n && (n = o), "boolean" == typeof n && (n = {fireImmediately: n});
                        var r, i, a, c = n.name || "Reaction@" + s(),
                            u = st(c, n.onError ? (r = n.onError, i = t, function () {
                                try {
                                    return i.apply(this, arguments)
                                } catch (e) {
                                    r.call(this, e)
                                }
                            }) : t), l = !n.scheduler && !n.delay, f = ft(n), d = !0, p = !1,
                            h = n.compareStructural ? N.structural : n.equals || N.default, g = new Ye(c, function () {
                                d || l ? m() : p || (p = !0, f(m))
                            }, n.onError, n.requiresObservable);

                        function m() {
                            if (p = !1, !g.isDisposed) {
                                var t = !1;
                                g.track(function () {
                                    var n = e(g);
                                    t = d || !h(a, n), a = n
                                }), d && n.fireImmediately && u(a, g), d || !0 !== t || u(a, g), d && (d = !1)
                            }
                        }

                        return g.schedule(), g.getDisposer()
                    }, t.remove = function (e, t) {
                        if (mn(e)) e.$mobx.remove(t); else if (on(e)) e.delete(t); else if (cn(e)) e.delete(t); else {
                            if (!en(e)) return c(!1);
                            "number" != typeof t && (t = parseInt(t, 10)), u(t >= 0, "Not a valid index: '" + t + "'"), e.splice(t, 1)
                        }
                    }, t.runInAction = function (e, t) {
                        return be("string" == typeof e ? e : e.name || "<unnamed action>", "function" == typeof e ? e : t, this, void 0)
                    }, t.set = function e(t, n, r) {
                        if (2 !== arguments.length || cn(t)) if (mn(t)) {
                            var o = t.$mobx, i = o.values[n];
                            i ? o.write(t, n, r) : fn(t, n, r, o.defaultEnhancer)
                        } else if (on(t)) t.set(n, r); else if (cn(t)) t.add(n); else {
                            if (!en(t)) return c(!1);
                            "number" != typeof n && (n = parseInt(n, 10)), u(n >= 0, "Not a valid index: '" + n + "'"), je(), n >= t.length && (t.length = n + 1), t[n] = r, Ke()
                        } else {
                            je();
                            var a = n;
                            try {
                                for (var s in a) e(t, s, a[s])
                            } finally {
                                Ke()
                            }
                        }
                    }, t.spy = rt, t.toJS = function (e, t) {
                        var n;
                        return "boolean" == typeof t && (t = {detectCycles: t}), t || (t = wt), t.detectCycles = void 0 === t.detectCycles ? !0 === t.recurseEverything : !0 === t.detectCycles, t.detectCycles && (n = new Map), function e(t, n, r) {
                            if (!n.recurseEverything && !Tt(t)) return t;
                            if ("object" != typeof t) return t;
                            if (null === t) return null;
                            if (t instanceof Date) return t;
                            if (Le(t)) return e(t.get(), n, r);
                            if (Tt(t) && bt(t), !0 === n.detectCycles && null !== t && r.has(t)) return r.get(t);
                            if (en(t) || Array.isArray(t)) {
                                var o = Ot(r, t, [], n), i = t.map(function (t) {
                                    return e(t, n, r)
                                });
                                o.length = i.length;
                                for (var a = 0, s = i.length; a < s; a++) o[a] = i[a];
                                return o
                            }
                            if (cn(t) || Object.getPrototypeOf(t) === Set.prototype) {
                                if (!1 === n.exportMapsAsObjects) {
                                    var c = Ot(r, t, new Set, n);
                                    return t.forEach(function (t) {
                                        c.add(e(t, n, r))
                                    }), c
                                }
                                var u = Ot(r, t, [], n);
                                return t.forEach(function (t) {
                                    u.push(e(t, n, r))
                                }), u
                            }
                            if (on(t) || Object.getPrototypeOf(t) === Map.prototype) {
                                if (!1 === n.exportMapsAsObjects) {
                                    var l = Ot(r, t, new Map, n);
                                    return t.forEach(function (t, o) {
                                        l.set(o, e(t, n, r))
                                    }), l
                                }
                                var f = Ot(r, t, {}, n);
                                return t.forEach(function (t, o) {
                                    f[o] = e(t, n, r)
                                }), f
                            }
                            var d = Ot(r, t, {}, n);
                            for (var p in t) d[p] = e(t[p], n, r);
                            return d
                        }(e, t, n)
                    }, t.trace = Rt, t.transaction = Lt, t.untracked = ge, t.values = function (e) {
                        return mn(e) ? bt(e).map(function (t) {
                            return e[t]
                        }) : on(e) ? bt(e).map(function (t) {
                            return e.get(t)
                        }) : cn(e) ? E(e.values()) : en(e) ? e.slice() : c(!1)
                    }, t.when = function (e, t, n) {
                        return 1 === arguments.length || t && "object" == typeof t ? Dt(e, t) : Nt(e, t, n || {})
                    }, Object.defineProperty(t, "__esModule", {value: !0})
                })
            }).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {_process: 5}],
        16: [function (e, t, n) {
            var r = e("./xxh32.js"), o = e("./util.js"), i = 65536, a = l(5 << 20), s = function () {
                try {
                    return new Uint32Array(i)
                } catch (n) {
                    for (var e = new Array(i), t = 0; t < i; t++) e[t] = 0;
                    return e
                }
            }(), c = {4: 65536, 5: 262144, 6: 1048576, 7: 4194304};

            function u() {
                for (var e = 0; e < i; e++) s[e] = 0
            }

            function l(e) {
                try {
                    return new Uint8Array(e)
                } catch (r) {
                    for (var t = new Array(e), n = 0; n < e; n++) t[n] = 0;
                    return t
                }
            }

            function f(e, t, n) {
                if (void 0 !== typeof e.buffer) {
                    if (Uint8Array.prototype.slice) return e.slice(t, n);
                    var r = e.length;
                    t = (t |= 0) < 0 ? Math.max(r + t, 0) : Math.min(t, r), n = (n = void 0 === n ? r : 0 | n) < 0 ? Math.max(r + n, 0) : Math.min(n, r);
                    for (var o = new Uint8Array(n - t), i = t, a = 0; i < n;) o[a++] = e[i++];
                    return o
                }
                return e.slice(t, n)
            }

            n.compressBound = function (e) {
                return e + e / 255 + 16 | 0
            }, n.decompressBound = function (e) {
                var t = 0;
                if (407708164 !== o.readU32(e, t)) throw new Error("invalid magic number");
                t += 4;
                var n = e[t++];
                if (64 != (192 & n)) throw new Error("incompatible descriptor version " + (192 & n));
                var r = 0 != (16 & n), i = 0 != (8 & n), a = e[t++] >> 4 & 7;
                if (void 0 === c[a]) throw new Error("invalid block size " + a);
                var s = c[a];
                if (i) return o.readU64(e, t);
                t++;
                for (var u = 0; ;) {
                    var l = o.readU32(e, t);
                    if (t += 4, u += 2147483648 & l ? l &= 2147483647 : s, 0 === l) return u;
                    r && (t += 4), t += l
                }
            }, n.makeBuffer = l, n.decompressBlock = function (e, t, n, r, o) {
                var i, a, s, c, u;
                for (s = n + r; n < s;) {
                    var l = e[n++], f = l >> 4;
                    if (f > 0) {
                        if (15 === f) for (; f += e[n], 255 === e[n++];) ;
                        for (c = n + f; n < c;) t[o++] = e[n++]
                    }
                    if (n >= s) break;
                    if (i = 15 & l, a = e[n++] | e[n++] << 8, 15 === i) for (; i += e[n], 255 === e[n++];) ;
                    for (c = (u = o - a) + (i += 4); u < c;) t[o++] = 0 | t[u++]
                }
                return o
            }, n.compressBlock = function (e, t, n, r, i) {
                var a, s, c, u, l, f, d, p;
                if (f = 0, d = r + n, s = n, r >= 13) for (var h = 67; n + 4 < d - 5;) {
                    var g = o.readU32(e, n), m = o.hashU32(g) >>> 0;
                    if (a = i[m = (m >> 16 ^ m) >>> 0 & 65535] - 1, i[m] = n + 1, a < 0 || n - a >>> 16 > 0 || o.readU32(e, a) !== g) n += h++ >> 6; else {
                        for (h = 67, l = n - s, u = n - a, a += 4, c = n += 4; n < d - 5 && e[n] === e[a];) n++, a++;
                        var _ = (c = n - c) < 15 ? c : 15;
                        if (l >= 15) {
                            for (t[f++] = 240 + _, p = l - 15; p >= 255; p -= 255) t[f++] = 255;
                            t[f++] = p
                        } else t[f++] = (l << 4) + _;
                        for (var v = 0; v < l; v++) t[f++] = e[s + v];
                        if (t[f++] = u, t[f++] = u >> 8, c >= 15) {
                            for (p = c - 15; p >= 255; p -= 255) t[f++] = 255;
                            t[f++] = p
                        }
                        s = n
                    }
                }
                if (0 === s) return 0;
                if ((l = d - s) >= 15) {
                    for (t[f++] = 240, p = l - 15; p >= 255; p -= 255) t[f++] = 255;
                    t[f++] = p
                } else t[f++] = l << 4;
                for (n = s; n < d;) t[f++] = e[n++];
                return f
            }, n.decompressFrame = function (e, t) {
                var r, i, a, s, u = 0, l = 0;
                if (407708164 !== o.readU32(e, u)) throw new Error("invalid magic number");
                if (u += 4, 64 != (192 & (s = e[u++]))) throw new Error("incompatible descriptor version");
                r = 0 != (16 & s), i = 0 != (4 & s), a = 0 != (8 & s);
                var f = e[u++] >> 4 & 7;
                if (void 0 === c[f]) throw new Error("invalid block size");
                for (a && (u += 8), u++; ;) {
                    var d;
                    if (d = o.readU32(e, u), u += 4, 0 === d) break;
                    if (r && (u += 4), 0 != (2147483648 & d)) {
                        d &= 2147483647;
                        for (var p = 0; p < d; p++) t[l++] = e[u++]
                    } else l = n.decompressBlock(e, t, u, d, l), u += d
                }
                return i && (u += 4), l
            }, n.compressFrame = function (e, t) {
                var i = 0;
                o.writeU32(t, i, 407708164), i += 4, t[i++] = 64, t[i++] = 112, t[i] = r.hash(0, t, 4, i - 4) >> 8, i++;
                var l = c[7], f = e.length, d = 0;
                for (u(); f > 0;) {
                    var p, h = f > l ? l : f;
                    if ((p = n.compressBlock(e, a, d, h, s)) > h || 0 === p) {
                        o.writeU32(t, i, 2147483648 | h), i += 4;
                        for (var g = d + h; d < g;) t[i++] = e[d++];
                        f -= h
                    } else {
                        o.writeU32(t, i, p), i += 4;
                        for (var m = 0; m < p;) t[i++] = a[m++];
                        d += h, f -= h
                    }
                }
                return o.writeU32(t, i, 0), i + 4
            }, n.decompress = function (e, t) {
                var r, o;
                return void 0 === t && (t = n.decompressBound(e)), r = n.makeBuffer(t), (o = n.decompressFrame(e, r)) !== t && (r = f(r, 0, o)), r
            }, n.compress = function (e, t) {
                var r, o;
                return void 0 === t && (t = n.compressBound(e.length)), r = n.makeBuffer(t), (o = n.compressFrame(e, r)) !== t && (r = f(r, 0, o)), r
            }
        }, {"./util.js": 17, "./xxh32.js": 18}],
        17: [function (e, t, n) {
            n.hashU32 = function (e) {
                return -1252372727 ^ (e = (e = (e = 374761393 + (e = -949894596 ^ (e = 2127912214 + (e |= 0) + (e << 12) | 0) ^ e >>> 19) + (e << 5) | 0) - 744332180 ^ e << 9) - 42973499 + (e << 3) | 0) ^ e >>> 16 | 0
            }, n.readU64 = function (e, t) {
                var n = 0;
                return n |= e[t++] << 0, n |= e[t++] << 8, n |= e[t++] << 16, n |= e[t++] << 24, n |= e[t++] << 32, n |= e[t++] << 40, (n |= e[t++] << 48) | e[t++] << 56
            }, n.readU32 = function (e, t) {
                var n = 0;
                return n |= e[t++] << 0, n |= e[t++] << 8, (n |= e[t++] << 16) | e[t++] << 24
            }, n.writeU32 = function (e, t, n) {
                e[t++] = n >> 0 & 255, e[t++] = n >> 8 & 255, e[t++] = n >> 16 & 255, e[t++] = n >> 24 & 255
            }, n.imul = function (e, t) {
                var n = 65535 & e, r = 65535 & t;
                return n * r + ((e >>> 16) * r + n * (t >>> 16) << 16) | 0
            }
        }, {}],
        18: [function (e, t, n) {
            var r = e("./util.js"), o = 2654435761, i = 2246822519, a = 3266489917, s = 668265263, c = 374761393;

            function u(e, t) {
                return (e |= 0) >>> (32 - (t |= 0) | 0) | e << t | 0
            }

            function l(e, t, n) {
                return e |= 0, t |= 0, n |= 0, 0 | r.imul(e >>> (32 - t | 0) | e << t, n)
            }

            function f(e, t) {
                return (e |= 0) >>> (t |= 0) ^ e | 0
            }

            function d(e, t, n, o, i) {
                return l(r.imul(t, n) + e, o, i)
            }

            function p(e, t, n) {
                return l(e + r.imul(t[n], c), 11, o)
            }

            function h(e, t, n) {
                return d(e, r.readU32(t, n), a, 17, s)
            }

            function g(e, t, n) {
                return [d(e[0], r.readU32(t, n + 0), i, 13, o), d(e[1], r.readU32(t, n + 4), i, 13, o), d(e[2], r.readU32(t, n + 8), i, 13, o), d(e[3], r.readU32(t, n + 12), i, 13, o)]
            }

            n.hash = function (e, t, n, s) {
                var l, d;
                if (d = s, s >= 16) {
                    for (l = [e + o + i, e + i, e, e - o]; s >= 16;) l = g(l, t, n), n += 16, s -= 16;
                    l = u(l[0], 1) + u(l[1], 7) + u(l[2], 12) + u(l[3], 18) + d
                } else l = e + c + s >>> 0;
                for (; s >= 4;) l = h(l, t, n), n += 4, s -= 4;
                for (; s > 0;) l = p(l, t, n), n++, s--;
                return (l = f(r.imul(f(r.imul(f(l, 15), i), 13), a), 16)) >>> 0
            }
        }, {"./util.js": 17}],
        19: [function (e, t, n) {
            "use strict";
            Object.defineProperty(n, "__esModule", {value: !0}), n.ParallelHasher = n.Md5FileHasher = n.Md5 = void 0;
            var r = e("./md5");
            Object.defineProperty(n, "Md5", {
                enumerable: !0, get: function () {
                    return r.Md5
                }
            });
            var o = e("./md5_file_hasher");
            Object.defineProperty(n, "Md5FileHasher", {
                enumerable: !0, get: function () {
                    return o.Md5FileHasher
                }
            });
            var i = e("./parallel_hasher");
            Object.defineProperty(n, "ParallelHasher", {
                enumerable: !0, get: function () {
                    return i.ParallelHasher
                }
            })
        }, {"./md5": 20, "./md5_file_hasher": 21, "./parallel_hasher": 22}],
        20: [function (e, t, n) {
            "use strict";
            Object.defineProperty(n, "__esModule", {value: !0}), n.Md5 = void 0;
            var r = function () {
                function e() {
                    this._dataLength = 0, this._bufferLength = 0, this._state = new Int32Array(4), this._buffer = new ArrayBuffer(68), this._buffer8 = new Uint8Array(this._buffer, 0, 68), this._buffer32 = new Uint32Array(this._buffer, 0, 17), this.start()
                }

                return e.hashStr = function (e, t) {
                    return void 0 === t && (t = !1), this.onePassHasher.start().appendStr(e).end(t)
                }, e.hashAsciiStr = function (e, t) {
                    return void 0 === t && (t = !1), this.onePassHasher.start().appendAsciiStr(e).end(t)
                }, e._hex = function (t) {
                    var n, r, o, i, a = e.hexChars, s = e.hexOut;
                    for (i = 0; i < 4; i += 1) for (r = 8 * i, n = t[i], o = 0; o < 8; o += 2) s[r + 1 + o] = a.charAt(15 & n), n >>>= 4, s[r + 0 + o] = a.charAt(15 & n), n >>>= 4;
                    return s.join("")
                }, e._md5cycle = function (e, t) {
                    var n = e[0], r = e[1], o = e[2], i = e[3];
                    r = ((r += ((o = ((o += ((i = ((i += ((n = ((n += (r & o | ~r & i) + t[0] - 680876936 | 0) << 7 | n >>> 25) + r | 0) & r | ~n & o) + t[1] - 389564586 | 0) << 12 | i >>> 20) + n | 0) & n | ~i & r) + t[2] + 606105819 | 0) << 17 | o >>> 15) + i | 0) & i | ~o & n) + t[3] - 1044525330 | 0) << 22 | r >>> 10) + o | 0, r = ((r += ((o = ((o += ((i = ((i += ((n = ((n += (r & o | ~r & i) + t[4] - 176418897 | 0) << 7 | n >>> 25) + r | 0) & r | ~n & o) + t[5] + 1200080426 | 0) << 12 | i >>> 20) + n | 0) & n | ~i & r) + t[6] - 1473231341 | 0) << 17 | o >>> 15) + i | 0) & i | ~o & n) + t[7] - 45705983 | 0) << 22 | r >>> 10) + o | 0, r = ((r += ((o = ((o += ((i = ((i += ((n = ((n += (r & o | ~r & i) + t[8] + 1770035416 | 0) << 7 | n >>> 25) + r | 0) & r | ~n & o) + t[9] - 1958414417 | 0) << 12 | i >>> 20) + n | 0) & n | ~i & r) + t[10] - 42063 | 0) << 17 | o >>> 15) + i | 0) & i | ~o & n) + t[11] - 1990404162 | 0) << 22 | r >>> 10) + o | 0, r = ((r += ((o = ((o += ((i = ((i += ((n = ((n += (r & o | ~r & i) + t[12] + 1804603682 | 0) << 7 | n >>> 25) + r | 0) & r | ~n & o) + t[13] - 40341101 | 0) << 12 | i >>> 20) + n | 0) & n | ~i & r) + t[14] - 1502002290 | 0) << 17 | o >>> 15) + i | 0) & i | ~o & n) + t[15] + 1236535329 | 0) << 22 | r >>> 10) + o | 0, r = ((r += ((o = ((o += ((i = ((i += ((n = ((n += (r & i | o & ~i) + t[1] - 165796510 | 0) << 5 | n >>> 27) + r | 0) & o | r & ~o) + t[6] - 1069501632 | 0) << 9 | i >>> 23) + n | 0) & r | n & ~r) + t[11] + 643717713 | 0) << 14 | o >>> 18) + i | 0) & n | i & ~n) + t[0] - 373897302 | 0) << 20 | r >>> 12) + o | 0, r = ((r += ((o = ((o += ((i = ((i += ((n = ((n += (r & i | o & ~i) + t[5] - 701558691 | 0) << 5 | n >>> 27) + r | 0) & o | r & ~o) + t[10] + 38016083 | 0) << 9 | i >>> 23) + n | 0) & r | n & ~r) + t[15] - 660478335 | 0) << 14 | o >>> 18) + i | 0) & n | i & ~n) + t[4] - 405537848 | 0) << 20 | r >>> 12) + o | 0, r = ((r += ((o = ((o += ((i = ((i += ((n = ((n += (r & i | o & ~i) + t[9] + 568446438 | 0) << 5 | n >>> 27) + r | 0) & o | r & ~o) + t[14] - 1019803690 | 0) << 9 | i >>> 23) + n | 0) & r | n & ~r) + t[3] - 187363961 | 0) << 14 | o >>> 18) + i | 0) & n | i & ~n) + t[8] + 1163531501 | 0) << 20 | r >>> 12) + o | 0, r = ((r += ((o = ((o += ((i = ((i += ((n = ((n += (r & i | o & ~i) + t[13] - 1444681467 | 0) << 5 | n >>> 27) + r | 0) & o | r & ~o) + t[2] - 51403784 | 0) << 9 | i >>> 23) + n | 0) & r | n & ~r) + t[7] + 1735328473 | 0) << 14 | o >>> 18) + i | 0) & n | i & ~n) + t[12] - 1926607734 | 0) << 20 | r >>> 12) + o | 0, r = ((r += ((o = ((o += ((i = ((i += ((n = ((n += (r ^ o ^ i) + t[5] - 378558 | 0) << 4 | n >>> 28) + r | 0) ^ r ^ o) + t[8] - 2022574463 | 0) << 11 | i >>> 21) + n | 0) ^ n ^ r) + t[11] + 1839030562 | 0) << 16 | o >>> 16) + i | 0) ^ i ^ n) + t[14] - 35309556 | 0) << 23 | r >>> 9) + o | 0, r = ((r += ((o = ((o += ((i = ((i += ((n = ((n += (r ^ o ^ i) + t[1] - 1530992060 | 0) << 4 | n >>> 28) + r | 0) ^ r ^ o) + t[4] + 1272893353 | 0) << 11 | i >>> 21) + n | 0) ^ n ^ r) + t[7] - 155497632 | 0) << 16 | o >>> 16) + i | 0) ^ i ^ n) + t[10] - 1094730640 | 0) << 23 | r >>> 9) + o | 0, r = ((r += ((o = ((o += ((i = ((i += ((n = ((n += (r ^ o ^ i) + t[13] + 681279174 | 0) << 4 | n >>> 28) + r | 0) ^ r ^ o) + t[0] - 358537222 | 0) << 11 | i >>> 21) + n | 0) ^ n ^ r) + t[3] - 722521979 | 0) << 16 | o >>> 16) + i | 0) ^ i ^ n) + t[6] + 76029189 | 0) << 23 | r >>> 9) + o | 0, r = ((r += ((o = ((o += ((i = ((i += ((n = ((n += (r ^ o ^ i) + t[9] - 640364487 | 0) << 4 | n >>> 28) + r | 0) ^ r ^ o) + t[12] - 421815835 | 0) << 11 | i >>> 21) + n | 0) ^ n ^ r) + t[15] + 530742520 | 0) << 16 | o >>> 16) + i | 0) ^ i ^ n) + t[2] - 995338651 | 0) << 23 | r >>> 9) + o | 0, r = ((r += ((i = ((i += (r ^ ((n = ((n += (o ^ (r | ~i)) + t[0] - 198630844 | 0) << 6 | n >>> 26) + r | 0) | ~o)) + t[7] + 1126891415 | 0) << 10 | i >>> 22) + n | 0) ^ ((o = ((o += (n ^ (i | ~r)) + t[14] - 1416354905 | 0) << 15 | o >>> 17) + i | 0) | ~n)) + t[5] - 57434055 | 0) << 21 | r >>> 11) + o | 0, r = ((r += ((i = ((i += (r ^ ((n = ((n += (o ^ (r | ~i)) + t[12] + 1700485571 | 0) << 6 | n >>> 26) + r | 0) | ~o)) + t[3] - 1894986606 | 0) << 10 | i >>> 22) + n | 0) ^ ((o = ((o += (n ^ (i | ~r)) + t[10] - 1051523 | 0) << 15 | o >>> 17) + i | 0) | ~n)) + t[1] - 2054922799 | 0) << 21 | r >>> 11) + o | 0, r = ((r += ((i = ((i += (r ^ ((n = ((n += (o ^ (r | ~i)) + t[8] + 1873313359 | 0) << 6 | n >>> 26) + r | 0) | ~o)) + t[15] - 30611744 | 0) << 10 | i >>> 22) + n | 0) ^ ((o = ((o += (n ^ (i | ~r)) + t[6] - 1560198380 | 0) << 15 | o >>> 17) + i | 0) | ~n)) + t[13] + 1309151649 | 0) << 21 | r >>> 11) + o | 0, r = ((r += ((i = ((i += (r ^ ((n = ((n += (o ^ (r | ~i)) + t[4] - 145523070 | 0) << 6 | n >>> 26) + r | 0) | ~o)) + t[11] - 1120210379 | 0) << 10 | i >>> 22) + n | 0) ^ ((o = ((o += (n ^ (i | ~r)) + t[2] + 718787259 | 0) << 15 | o >>> 17) + i | 0) | ~n)) + t[9] - 343485551 | 0) << 21 | r >>> 11) + o | 0, e[0] = n + e[0] | 0, e[1] = r + e[1] | 0, e[2] = o + e[2] | 0, e[3] = i + e[3] | 0
                }, e.prototype.start = function () {
                    return this._dataLength = 0, this._bufferLength = 0, this._state.set(e.stateIdentity), this
                }, e.prototype.appendStr = function (t) {
                    var n, r, o = this._buffer8, i = this._buffer32, a = this._bufferLength;
                    for (r = 0; r < t.length; r += 1) {
                        if ((n = t.charCodeAt(r)) < 128) o[a++] = n; else if (n < 2048) o[a++] = 192 + (n >>> 6), o[a++] = 63 & n | 128; else if (n < 55296 || n > 56319) o[a++] = 224 + (n >>> 12), o[a++] = n >>> 6 & 63 | 128, o[a++] = 63 & n | 128; else {
                            if ((n = 1024 * (n - 55296) + (t.charCodeAt(++r) - 56320) + 65536) > 1114111) throw new Error("Unicode standard supports code points up to U+10FFFF");
                            o[a++] = 240 + (n >>> 18), o[a++] = n >>> 12 & 63 | 128, o[a++] = n >>> 6 & 63 | 128, o[a++] = 63 & n | 128
                        }
                        a >= 64 && (this._dataLength += 64, e._md5cycle(this._state, i), a -= 64, i[0] = i[16])
                    }
                    return this._bufferLength = a, this
                }, e.prototype.appendAsciiStr = function (t) {
                    for (var n, r = this._buffer8, o = this._buffer32, i = this._bufferLength, a = 0; ;) {
                        for (n = Math.min(t.length - a, 64 - i); n--;) r[i++] = t.charCodeAt(a++);
                        if (i < 64) break;
                        this._dataLength += 64, e._md5cycle(this._state, o), i = 0
                    }
                    return this._bufferLength = i, this
                }, e.prototype.appendByteArray = function (t) {
                    for (var n, r = this._buffer8, o = this._buffer32, i = this._bufferLength, a = 0; ;) {
                        for (n = Math.min(t.length - a, 64 - i); n--;) r[i++] = t[a++];
                        if (i < 64) break;
                        this._dataLength += 64, e._md5cycle(this._state, o), i = 0
                    }
                    return this._bufferLength = i, this
                }, e.prototype.getState = function () {
                    var e = this._state;
                    return {
                        buffer: String.fromCharCode.apply(null, Array.from(this._buffer8)),
                        buflen: this._bufferLength,
                        length: this._dataLength,
                        state: [e[0], e[1], e[2], e[3]]
                    }
                }, e.prototype.setState = function (e) {
                    var t, n = e.buffer, r = e.state, o = this._state;
                    for (this._dataLength = e.length, this._bufferLength = e.buflen, o[0] = r[0], o[1] = r[1], o[2] = r[2], o[3] = r[3], t = 0; t < n.length; t += 1) this._buffer8[t] = n.charCodeAt(t)
                }, e.prototype.end = function (t) {
                    void 0 === t && (t = !1);
                    var n = this._bufferLength, r = this._buffer8, o = this._buffer32, i = 1 + (n >> 2);
                    this._dataLength += n;
                    var a = 8 * this._dataLength;
                    if (r[n] = 128, r[n + 1] = r[n + 2] = r[n + 3] = 0, o.set(e.buffer32Identity.subarray(i), i), n > 55 && (e._md5cycle(this._state, o), o.set(e.buffer32Identity)), a <= 4294967295) o[14] = a; else {
                        var s = a.toString(16).match(/(.*?)(.{0,8})$/);
                        if (null === s) return;
                        var c = parseInt(s[2], 16), u = parseInt(s[1], 16) || 0;
                        o[14] = c, o[15] = u
                    }
                    return e._md5cycle(this._state, o), t ? this._state : e._hex(this._state)
                }, e.stateIdentity = new Int32Array([1732584193, -271733879, -1732584194, 271733878]), e.buffer32Identity = new Int32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), e.hexChars = "0123456789abcdef", e.hexOut = [], e.onePassHasher = new e, e
            }();
            if (n.Md5 = r, "5d41402abc4b2a76b9719d911017c592" !== r.hashStr("hello")) throw new Error("Md5 self test failed.")
        }, {}],
        21: [function (e, t, n) {
            "use strict";
            Object.defineProperty(n, "__esModule", {value: !0}), n.Md5FileHasher = void 0;
            var r = e("./md5"), o = function () {
                function e(e, t, n) {
                    void 0 === t && (t = !0), void 0 === n && (n = 1048576), this._callback = e, this._async = t, this._partSize = n, this._configureReader()
                }

                return e.prototype.hash = function (e) {
                    this._blob = e, this._part = 0, this._md5 = new r.Md5, this._processPart()
                }, e.prototype._fail = function () {
                    this._callback({success: !1, result: "data read failed"})
                }, e.prototype._hashData = function (e) {
                    this._md5.appendByteArray(new Uint8Array(e.target.result)), this._part * this._partSize >= this._blob.size ? this._callback({
                        success: !0,
                        result: this._md5.end()
                    }) : this._processPart()
                }, e.prototype._processPart = function () {
                    var e, t = this, n = 0;
                    t._part += 1, t._blob.size > t._partSize ? ((n = t._part * t._partSize) > t._blob.size && (n = t._blob.size), e = t._blob.slice((t._part - 1) * t._partSize, n)) : e = t._blob, t._async ? t._reader.readAsArrayBuffer(e) : setTimeout(function () {
                        try {
                            t._hashData({target: {result: t._reader.readAsArrayBuffer(e)}})
                        } catch (n) {
                            t._fail()
                        }
                    }, 0)
                }, e.prototype._configureReader = function () {
                    this._async ? (this._reader = new FileReader, this._reader.onload = this._hashData.bind(this), this._reader.onerror = this._fail.bind(this), this._reader.onabort = this._fail.bind(this)) : this._reader = new FileReaderSync
                }, e
            }();
            n.Md5FileHasher = o
        }, {"./md5": 20}],
        22: [function (e, t, n) {
            "use strict";
            Object.defineProperty(n, "__esModule", {value: !0}), n.ParallelHasher = void 0;
            var r = function () {
                function e(e, t) {
                    this._queue = [], this._ready = !0;
                    var n = this;
                    Worker ? (n._hashWorker = new Worker(e, t), n._hashWorker.onmessage = n._recievedMessage.bind(n), n._hashWorker.onerror = function (e) {
                        n._ready = !1, console.error("Hash worker failure", e)
                    }) : (n._ready = !1, console.error("Web Workers are not supported in this browser"))
                }

                return e.prototype.hash = function (e) {
                    var t = this;
                    return new Promise(function (n, r) {
                        t._queue.push({blob: e, resolve: n, reject: r}), t._processNext()
                    })
                }, e.prototype.terminate = function () {
                    this._ready = !1, this._hashWorker.terminate()
                }, e.prototype._processNext = function () {
                    this._ready && !this._processing && this._queue.length > 0 && (this._processing = this._queue.pop(), this._hashWorker.postMessage(this._processing.blob))
                }, e.prototype._recievedMessage = function (e) {
                    var t, n, r = e.data;
                    r.success ? null === (t = this._processing) || void 0 === t || t.resolve(r.result) : null === (n = this._processing) || void 0 === n || n.reject(r.result), this._processing = void 0, this._processNext()
                }, e
            }();
            n.ParallelHasher = r
        }, {}],
        23: [function (e, t) {
            (function (e) {
                var n, r, o, i, a, s, c, u, l, f, d, p, h, g, m, _, v, E, y, S, C, A, T, b;
                (function (n) {
                    var r = "object" == typeof e ? e : "object" == typeof self ? self : "object" == typeof this ? this : {};

                    function o(e, t) {
                        return e !== r && ("function" == typeof Object.create ? Object.defineProperty(e, "__esModule", {value: !0}) : e.__esModule = !0), function (n, r) {
                            return e[n] = t ? t(n, r) : r
                        }
                    }

                    "function" == typeof define && define.amd ? define("tslib", ["exports"], function (e) {
                        n(o(r, o(e)))
                    }) : "object" == typeof t && "object" == typeof t.exports ? n(o(r, o(t.exports))) : n(o(r))
                })(function (e) {
                    var t = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                        e.__proto__ = t
                    } || function (e, t) {
                        for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
                    };
                    n = function (e, n) {
                        if ("function" != typeof n && null !== n) throw new TypeError("Class extends value " + String(n) + " is not a constructor or null");

                        function r() {
                            this.constructor = e
                        }

                        t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
                    }, r = Object.assign || function (e) {
                        for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                        return e
                    }, o = function (e, t) {
                        var n = {};
                        for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
                        if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                            var o = 0;
                            for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) t.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (n[r[o]] = e[r[o]])
                        }
                        return n
                    }, i = function (e, t, n, r) {
                        var o, i = arguments.length,
                            a = i < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
                        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (a = (i < 3 ? o(a) : i > 3 ? o(t, n, a) : o(t, n)) || a);
                        return i > 3 && a && Object.defineProperty(t, n, a), a
                    }, a = function (e, t) {
                        return function (n, r) {
                            t(n, r, e)
                        }
                    }, s = function (e, t) {
                        if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(e, t)
                    }, c = function (e, t, n, r) {
                        return new (n || (n = Promise))(function (o, i) {
                            function a(e) {
                                try {
                                    c(r.next(e))
                                } catch (t) {
                                    i(t)
                                }
                            }

                            function s(e) {
                                try {
                                    c(r.throw(e))
                                } catch (t) {
                                    i(t)
                                }
                            }

                            function c(e) {
                                var t;
                                e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function (e) {
                                    e(t)
                                })).then(a, s)
                            }

                            c((r = r.apply(e, t || [])).next())
                        })
                    }, u = function (e, t) {
                        var n, r, o, i, a = {
                            label: 0, sent: function () {
                                if (1 & o[0]) throw o[1];
                                return o[1]
                            }, trys: [], ops: []
                        };
                        return i = {
                            next: s(0),
                            throw: s(1),
                            return: s(2)
                        }, "function" == typeof Symbol && (i[Symbol.iterator] = function () {
                            return this
                        }), i;

                        function s(e) {
                            return function (t) {
                                return c([e, t])
                            }
                        }

                        function c(i) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a;) try {
                                if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1])).done) return o;
                                switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {
                                    case 0:
                                    case 1:
                                        o = i;
                                        break;
                                    case 4:
                                        return a.label++, {value: i[1], done: !1};
                                    case 5:
                                        a.label++, r = i[1], i = [0];
                                        continue;
                                    case 7:
                                        i = a.ops.pop(), a.trys.pop();
                                        continue;
                                    default:
                                        if (!(o = (o = a.trys).length > 0 && o[o.length - 1]) && (6 === i[0] || 2 === i[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                            a.label = i[1];
                                            break
                                        }
                                        if (6 === i[0] && a.label < o[1]) {
                                            a.label = o[1], o = i;
                                            break
                                        }
                                        if (o && a.label < o[2]) {
                                            a.label = o[2], a.ops.push(i);
                                            break
                                        }
                                        o[2] && a.ops.pop(), a.trys.pop();
                                        continue
                                }
                                i = t.call(e, a)
                            } catch (s) {
                                i = [6, s], r = 0
                            } finally {
                                n = o = 0
                            }
                            if (5 & i[0]) throw i[1];
                            return {value: i[0] ? i[1] : void 0, done: !0}
                        }
                    }, l = function (e, t) {
                        for (var n in e) "default" === n || Object.prototype.hasOwnProperty.call(t, n) || b(t, e, n)
                    }, b = Object.create ? function (e, t, n, r) {
                        void 0 === r && (r = n), Object.defineProperty(e, r, {
                            enumerable: !0, get: function () {
                                return t[n]
                            }
                        })
                    } : function (e, t, n, r) {
                        void 0 === r && (r = n), e[r] = t[n]
                    }, f = function (e) {
                        var t = "function" == typeof Symbol && Symbol.iterator, n = t && e[t], r = 0;
                        if (n) return n.call(e);
                        if (e && "number" == typeof e.length) return {
                            next: function () {
                                return e && r >= e.length && (e = void 0), {value: e && e[r++], done: !e}
                            }
                        };
                        throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.")
                    }, d = function (e, t) {
                        var n = "function" == typeof Symbol && e[Symbol.iterator];
                        if (!n) return e;
                        var r, o, i = n.call(e), a = [];
                        try {
                            for (; (void 0 === t || t-- > 0) && !(r = i.next()).done;) a.push(r.value)
                        } catch (s) {
                            o = {error: s}
                        } finally {
                            try {
                                r && !r.done && (n = i.return) && n.call(i)
                            } finally {
                                if (o) throw o.error
                            }
                        }
                        return a
                    }, p = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e = e.concat(d(arguments[t]));
                        return e
                    }, h = function () {
                        for (var e = 0, t = 0, n = arguments.length; t < n; t++) e += arguments[t].length;
                        var r = Array(e), o = 0;
                        for (t = 0; t < n; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, o++) r[o] = i[a];
                        return r
                    }, g = function (e, t, n) {
                        if (n || 2 === arguments.length) for (var r, o = 0, i = t.length; o < i; o++) !r && o in t || (r || (r = Array.prototype.slice.call(t, 0, o)), r[o] = t[o]);
                        return e.concat(r || Array.prototype.slice.call(t))
                    }, m = function (e) {
                        return this instanceof m ? (this.v = e, this) : new m(e)
                    }, _ = function (e, t, n) {
                        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
                        var r, o = n.apply(e, t || []), i = [];
                        return r = {}, a("next"), a("throw"), a("return"), r[Symbol.asyncIterator] = function () {
                            return this
                        }, r;

                        function a(e) {
                            o[e] && (r[e] = function (t) {
                                return new Promise(function (n, r) {
                                    i.push([e, t, n, r]) > 1 || s(e, t)
                                })
                            })
                        }

                        function s(e, t) {
                            try {
                                (n = o[e](t)).value instanceof m ? Promise.resolve(n.value.v).then(c, u) : l(i[0][2], n)
                            } catch (r) {
                                l(i[0][3], r)
                            }
                            var n
                        }

                        function c(e) {
                            s("next", e)
                        }

                        function u(e) {
                            s("throw", e)
                        }

                        function l(e, t) {
                            e(t), i.shift(), i.length && s(i[0][0], i[0][1])
                        }
                    }, v = function (e) {
                        var t, n;
                        return t = {}, r("next"), r("throw", function (e) {
                            throw e
                        }), r("return"), t[Symbol.iterator] = function () {
                            return this
                        }, t;

                        function r(r, o) {
                            t[r] = e[r] ? function (t) {
                                return (n = !n) ? {value: m(e[r](t)), done: "return" === r} : o ? o(t) : t
                            } : o
                        }
                    }, E = function (e) {
                        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
                        var t, n = e[Symbol.asyncIterator];
                        return n ? n.call(e) : (e = f(e), t = {}, r("next"), r("throw"), r("return"), t[Symbol.asyncIterator] = function () {
                            return this
                        }, t);

                        function r(n) {
                            t[n] = e[n] && function (t) {
                                return new Promise(function (r, i) {
                                    o(r, i, (t = e[n](t)).done, t.value)
                                })
                            }
                        }

                        function o(e, t, n, r) {
                            Promise.resolve(r).then(function (t) {
                                e({value: t, done: n})
                            }, t)
                        }
                    }, y = function (e, t) {
                        return Object.defineProperty ? Object.defineProperty(e, "raw", {value: t}) : e.raw = t, e
                    };
                    var I = Object.create ? function (e, t) {
                        Object.defineProperty(e, "default", {enumerable: !0, value: t})
                    } : function (e, t) {
                        e.default = t
                    };
                    S = function (e) {
                        if (e && e.__esModule) return e;
                        var t = {};
                        if (null != e) for (var n in e) "default" !== n && Object.prototype.hasOwnProperty.call(e, n) && b(t, e, n);
                        return I(t, e), t
                    }, C = function (e) {
                        return e && e.__esModule ? e : {default: e}
                    }, A = function (e, t, n, r) {
                        if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
                        if ("function" == typeof t ? e !== t || !r : !t.has(e)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
                        return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e)
                    }, T = function (e, t, n, r, o) {
                        if ("m" === r) throw new TypeError("Private method is not writable");
                        if ("a" === r && !o) throw new TypeError("Private accessor was defined without a setter");
                        if ("function" == typeof t ? e !== t || !o : !t.has(e)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
                        return "a" === r ? o.call(e, n) : o ? o.value = n : t.set(e, n), n
                    }, e("__extends", n), e("__assign", r), e("__rest", o), e("__decorate", i), e("__param", a), e("__metadata", s), e("__awaiter", c), e("__generator", u), e("__exportStar", l), e("__createBinding", b), e("__values", f), e("__read", d), e("__spread", p), e("__spreadArrays", h), e("__spreadArray", g), e("__await", m), e("__asyncGenerator", _), e("__asyncDelegator", v), e("__asyncValues", E), e("__makeTemplateObject", y), e("__importStar", S), e("__importDefault", C), e("__classPrivateFieldGet", A), e("__classPrivateFieldSet", T)
                })
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {}],
        Configs: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "6f1280/iSpAv7yW8ggeDJqa", "Configs"), Object.defineProperty(n, "__esModule", {value: !0}), n.PartEquipment = n.EqColor = n.Part = n.BattleLayer = n.CompleteCondition = n.ChargeTriggerType = n.CardRare = n.CardBannerType = n.CardType = n.BulletType = n.BriefreportType = n.BlessingType = n.BlackMarketType = n.BattlePassType = n.BattleAttributeKey = n.PaymentLimitType = n.WeekType = n.PeriodType = n.PaymentType = n.BuffCommandType = n.ChannelType = n.PlatformType = n.AbilityType = n.EnterType = n.LanguageType = n.SwitchId = n.ComboCond = n.BookCond = n.ConditionType = n.ResourceType = n.ArenaRank = n.FundType = n.ActivityType = n.ActRogueFunc = n.ActRogueCollectType = n.ActRogueItemTheme = n.ActRogueCellType = n.GetRewardType = n.MissionType = n.KillBossAchievementType = n.ActFestivalType = n.LegionAchievementTaskType = n.AchievementTaskType = n.SkyModuleType = n.SkyColumnType = n.SkyGroupType = n.SeasonTowerType = n.MatchTeamType = n.StateType = n.InvitationType = void 0, n.SkillEffect = n.SkillType = n.CampType = n.PickOrder = n.PickSort = n.PickFilter = n.PickType = n.TriggerConditionType = n.TriggerType = n.SkillLevelUpKey = n.HeroUnlockConditionType = n.SeasonRankType = n.RobotSettings = n.Settings = n.ChoiceType = n.PushType = n.PrivilegeType = n.PeakRecordType = n.PackType = n.MonthActivityTaskType = n.MonthActivityType = n.MonsterType = n.ModuleType = n.MedallionType = n.LegionWarMapType = n.LegionWarType = n.TagColor = n.TagConditionType = n.LegionRank = n.LegionNameplateCondition = n.LegionNameplate = n.MatchZoneType = n.PayCurrencyType = n.ExpirationType = n.ItemLegionType = n.ItemType = n.ItemColor = n.HorseBattleState = n.Work = n.Color = n.Club = n.HandType = n.DialogHeroSideType = n.DialogType = n.GuideTriggerType = n.GuideType = n.SubscribeType = n.SubscibeName = n.ExcelType = n.EqColorEquipment = void 0, n.SeasonTowerReward = n.SeasonTowerConf = n.SeasonRescueMonster = n.SeasonRescueConstant = n.SeasonLvRewardConf = n.ArtifactDescConf = n.SeasonArtifactConf = n.NightMareBook = n.CompassReward = n.NightMareMonster = n.NightMare = n.MatchTeam = n.LegionWarThirdPointConf = n.LegionWarRankConf = n.LegionWarPreConf = n.LegionWarPointConf = n.LegionWarCityConf = n.LegionWarCheerConf = n.LegionWarBuildingConf = n.LegionWarBossConf = n.LegionLeagueMarqueeConf = n.LegionMemberCodeConf = n.LegionCodeConf = n.LegionCodeConstant = n.LeagueGroupConf = n.StateConf = n.InvitationCodeReward = n.HorseproAttrConf = n.GoodsList = n.Benefit = n.VipBenefitType = n.TournamentCondition = n.TestType = n.TaskCompleteType = n.TaskTriggerTimeType = n.TaskTriggerType = n.TaskType = n.StudyActType = n.OptionType = n.StudyClothesType = n.QuestionType = n.SpringActType = n.SkyBookType = n.SkyBuildingType = n.DamageType = n.OperatorType = n.BuffSlot = n.Tags = n.BuffLabel = n.BuffType = void 0, n.ActRogueRewardConf = n.ActRogueRowConf = n.ActRogueLevelConf = n.NoobSubMissionConf = n.NoobMissionConf = n.NoobSign = n.ActNoobConf = n.LanguageConf = n.ActMultiTowerLevelRewardConf = n.ActMultiTowerRewardConf = n.ActMultiTowerEnhanceConf = n.ActMultiTowerScheduleConf = n.ActMultiTowerShowConf = n.ActMultiTowerConf = n.MissionConf = n.ActGmGroupConf = n.KillBossAchievementConf = n.VoteConf = n.CheerRewardConf = n.CheerConf = n.EGameConf = n.MonopolyConf = n.TreasureConf = n.CumulativeChargeActConf = n.FuKaActConf = n.ProgressBarConf = n.MineConf = n.BingoRewardConf = n.BingoConf = n.ActMerchandiseConf = n.ExchangeActConf = n.ActFestivalConf = n.DragonBoatLegionConf = n.DragonBoatConf = n.ActConstantConf = n.ActCardTowerShopConf = n.ActCardTowerEquipConf = n.ActCardTowerRankRewardConf = n.ActCardTowerRewardConf = n.ActCardTowerShowConf = n.ActCardTowerConf = n.ActHideBossConf = n.ActBossConf = n.AchievementTaskList = n.AchievementConf = n.SkyProConf = n.SkillEffectSort = n.TowerStageConf = n.SeasonTowerRank = n.SeasonTowerRankReward = void 0, n.BattlePassMissionConf = n.BattlePassConf = n.BattlePassBaseConf = n.GotoData = n.LegionRewardData = n.BuffCommand = n.JumpInfo = n.GuideAnim = n.BundleData = n.StarSpendPack = n.ComboActivateData = n.BookActivateData = n.BattleMonsterData = n.ConditionData = n.RewardInfo = n.PaymentData = n.RewardData = n.AttributeData = n.SkillLevelUpData = n.BasePush = n.AvatarConf = n.AutoConf = n.AuraConf = n.AttributeLimitConf = n.ArtifactConf = n.ArenaRefreshConf = n.ArenaGift = n.ArenaScore = n.ArenaRankConf = n.AFKMapConf = n.SignConf = n.MerchandiseConf = n.FundTaskConf = n.FundConf = n.DayBuyConf = n.DailyDealConf = n.CardConf = n.ActivityConf = n.ActRogueBookRewardConf = n.ActRogueBookColumnConf = n.ActRogueBookConf = n.ActRogueMonsterConf = n.ActRogueBossConf = n.ActRogueDebuffConf = n.ActRogueBuffConf = n.ActRogueConsumeConf = n.ActRogueEquipLevelConf = n.ActRogueEquipConf = n.ActRogueArtifactConf = n.ActRogueRankRewardConf = void 0, n.EquipLvSpend = n.EquipLvConf = n.EquipConf = n.EmojiConf = n.EffectConf = n.DungeonMonsterConf = n.DungeonItemConf = n.DungeonMerchantConf = n.DungeonConf = n.DropDailyMail = n.DingniuInConstantConf = n.DingniuConstantConf = n.DiamondShopConf = n.DialogConf = n.WeekLimitConf = n.DayLimitConf = n.DailyTaskConf = n.ConstantConf = n.CoinGetConf = n.ChatAlertConf = n.ChatSensitiveConf = n.CharmTask = n.CharmGift = n.CharmConf = n.ChargePackConf = n.CareerChallengeConstantConf = n.CareerChallengeConf = n.CardDetailConf = n.CardPackageConf = n.CardSeriesConf = n.BulletConf = n.BriefreportConf = n.BoxStageConf = n.BoxConf = n.BottleTime = n.BottlePool = n.Bottle = n.BossTowerShopConf = n.BossHelpRankRewardConfig = n.BossTowerConf = n.BossRewardsConfig = n.BossLoopConfig = n.BossInfoConfig = n.BookStageConf = n.BookConf = n.BlessingSortConf = n.BlessingData = n.BlessingConf = n.BlackMarketMerchandiseConf = n.BlackMarketConf = void 0, n.LegionLeagePointConf = n.LegionCupConf = n.LegionBossCostConf = n.LegionBossDailyRewardConf = n.LegionBossRewardConf = n.LegionBossConf = n.GooglePrice = n.IosPrice = n.MailLanguageConf = n.LoadingLanguageConf = n.ErrocodeLanguageConf = n.ItemLegionConf = n.ItemConf = n.Invite = n.HideQuenchPoint = n.HorseMapConf = n.HorseMatchingRule = n.HorseMerchandiseConf = n.HorseSelfRewardConf = n.HorseLegionRewardConf = n.HorseBoxConf = n.RandomHorseConf = n.HorseProgressConf = n.HorseScheduleConf = n.HorseConstant = n.HeroStarSpend = n.HeroStarExt = n.HeroOrder = n.HeroLvLimit = n.HeroLvSpend = n.HeroAttrConf = n.HeroConf = n.H5GiftConf = n.GuideConf = n.GlobalSignGoalConf = n.AutoAddConf = n.SingleSignConf = n.GlobalSignConf = n.GenieSweepConf = n.GenieLevelConf = n.GenieConf = n.TTSubscribeMsg = n.GameCardTTConf = n.FormationConf = n.ExcelVer = n.EquipmentForgeSpend = n.EquipmentSetConf = n.EquipmentLvConf = n.EquipmentConf = n.EquipForgeSpend = void 0, n.MoonRabbitMonsterConf = n.MoonRabbitConf = n.MoonConstant = n.MonthActivityConf = n.MonthActivity = n.LevelCoeffConf = n.MonsterConf = n.ModuleConf = n.MedallionConf = n.MapConf = n.WeaponPassiveConf = n.WeaponActiveConf = n.WeaponConf = n.ProfileCardConf = n.LordSkinConf = n.LordOrderConf = n.LordLvLimitConf = n.LordLvConf = n.ChapterConf = n.LevelConf = n.LegionScheduleConf = n.LegionWarGuildRewardConf = n.LegionWarSkyKillRewardConf = n.LegionWarSkyRewardConf = n.LegionWarKillRewardConf = n.LegionWarRewardConf = n.WarRewardPageConf = n.LegionWarMapTypeMappingConf = n.LegionWarMapConf = n.LegionWarConstantConf = n.TagConditionConf = n.TagConf = n.LegionSkinStoreConf = n.LegionStoreConf = n.LegionResearchConf = n.ResearchConf = n.LegionRankVersusConf = n.LegionRankRewardConf = n.LegionPointConf = n.LegionRankConstantConf = n.LegionRankConf = n.LegionNameplateConf = n.MatchZoneTypeConf = n.RankRangeConf = n.LegionMarqueeConf = n.LegionLevelConf = n.LegionLeagueSessionConf = n.LegionLeagueConf = n.LegionLeagueRewardConf = n.LegionLeagueCheerConf = void 0, n.HeroConditionConf = n.SeasonHeroConf = n.GemstoneAttrConf = n.GemstoneRandConf = n.SeasonHeroArrt = n.SeasonHeroBookConf = n.SeasonMerchandiseConf = n.SeasonBattlePassReward = n.SeasonBattlePassBaseConf = n.SeasonArenaRank = n.SeasonArenaReward = n.SeasonArenaConstant = n.RobotSettingsConf = n.RoomNightmareMonster = n.RoomMerchandiseConf = n.AdvanceRoomSettingsConf = n.RoomSettingsConf = n.RoomConstant = n.RollUpPackConf = n.ResourcePath = n.RegressionRuleConf = n.Recover = n.QuenchAttrConf = n.QuenchConf = n.QualitySelectionConf = n.PushList = n.PrivilegeSortConf = n.PrivilegeData = n.PrivilegeConf = n.PrisonConf = n.PearlSkillPoolConf = n.PearlAttrConf = n.PearlColorConf = n.PearlRandConf = n.PearlConstant = n.PeakRecordConf = n.PeakRecord = n.BattleReward = n.PackConf = n.OverviewConf = n.OverviewConstant = n.OtherItemConf = n.LegionGroupConf = n.MoonScheduleConf = n.MoonSelfRewardConf = n.MoonLegionRewardConf = n.MoonMerchandiseConf = n.TeleportConf = n.MoonTreeConf = n.RabbitBoxConf = void 0, n.TournamentMatchConf = n.TournamentRewardConf = n.TournamentShopConf = n.TournamentActConf = n.TournamentScheduleConf = n.TournamentConf = n.LocalConf = n.TestConf = n.TaskConf = n.StudyActConf = n.StudyRewardConf = n.StudyClothesConf = n.StudyConf = n.GoodsConf = n.StoreConf = n.StayRewardOrderConf = n.StayRewardConf = n.StayBuyTimeConf = n.CumulativeChargeConf = n.ExchangeConf = n.FuKaConf = n.SpringActConf = n.SkyBuildingReward = n.SkyBuildingBoss = n.SkyBoss = n.SkyMonster = n.SkyLevel = n.SkyConstant = n.SkyBuildingConf = n.SkyMapConf = n.SkinConf = n.TriggerCondition = n.ComandParams = n.SkillParams = n.SkillEffectData = n.BuffLayer = n.SkillConf = n.SkillDynamicConf = n.BuffConf = n.SkillSchemeConf = n.AnimationClipData = n.SkeletonConf = n.SevenDayConf = n.BigServerConf = n.ServerNameConf = n.SeasonGuideConf = n.SeasonResearchConf = n.SeasonLordOrderConf = n.LevelLimitConf = n.SeasonLevel = void 0, n.configList = n.decodeConfig = n.BenefitData = n.VipConf = n.VersionConf = n.TrumpCostConf = n.TrumpRankConf = n.TrumpTypeConf = n.TrumpConf = n.TowerReward = n.TowerConf = n.TournamentConstant = n.TournamentExtraAttr = void 0;
            var r = function (e, t, n) {
                var o = t[n];
                if (void 0 === o) return e;
                if (0 === o) {
                    for (var i = [], a = 0, s = e.length; a < s; ++a) i.push(r(e[a], t, n + 1));
                    return i
                }
                if (1 === o) {
                    for (var c in i = new Map, e) i.set(c, r(e[c], t, n + 1));
                    return i
                }
                if (2 === o) {
                    for (var c in i = new Map, e) i.set(parseInt(c), r(e[c], t, n + 1));
                    return i
                }
                return i = new o, Object.assign(i, e), i
            };
            (function (e) {
                e[e.NONE = 0] = "NONE", e[e.INVITE = 1] = "INVITE", e[e.INVITED = 2] = "INVITED"
            })(n.InvitationType || (n.InvitationType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.STATE = 1] = "STATE"
            }(n.StateType || (n.StateType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.NIGHT_MARE = 1] = "NIGHT_MARE", e[e.CAREER_CHALLENGE = 2] = "CAREER_CHALLENGE", e[e.SKY = 3] = "SKY", e[e.BOSS_TOWER = 4] = "BOSS_TOWER"
            }(n.MatchTeamType || (n.MatchTeamType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.BEGINNER = 1] = "BEGINNER", e[e.INTERMEDIATE = 2] = "INTERMEDIATE", e[e.ADVANCED = 3] = "ADVANCED"
            }(n.SeasonTowerType || (n.SeasonTowerType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.HORSE_PRO = 1] = "HORSE_PRO"
            }(n.SkyGroupType || (n.SkyGroupType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.HORSE = 1] = "HORSE", e[e.RABBIT = 2] = "RABBIT"
            }(n.SkyColumnType || (n.SkyColumnType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.HORSE1 = 1] = "HORSE1", e[e.HORSE2 = 2] = "HORSE2", e[e.RABBIT1 = 3] = "RABBIT1", e[e.HORSEBAG = 4] = "HORSEBAG", e[e.RABBITBAG = 5] = "RABBITBAG", e[e.HORSEROOM = 6] = "HORSEROOM", e[e.ROBBITROOM = 7] = "ROBBITROOM"
            }(n.SkyModuleType || (n.SkyModuleType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.LOGIN = 1] = "LOGIN", e[e.MINE_LINE = 2] = "MINE_LINE", e[e.CLICK = 3] = "CLICK", e[e.HERO_NUMBER = 4] = "HERO_NUMBER", e[e.LORD_LV = 5] = "LORD_LV", e[e.TOTAL_CE = 6] = "TOTAL_CE", e[e.TOTAL_HERO_LV = 7] = "TOTAL_HERO_LV", e[e.TOTAL_HERO_STAR = 8] = "TOTAL_HERO_STAR", e[e.TOTAL_EQUIP_LV = 9] = "TOTAL_EQUIP_LV", e[e.RECRUIT_NUMBER = 10] = "RECRUIT_NUMBER", e[e.OPEN_BOX_NUMBER = 11] = "OPEN_BOX_NUMBER", e[e.TOTAL_PAYMENT_TIME = 12] = "TOTAL_PAYMENT_TIME", e[e.COIN_GET_NUMBER = 13] = "COIN_GET_NUMBER", e[e.RANKING = 14] = "RANKING", e[e.PAYMENT_AMOUNT = 15] = "PAYMENT_AMOUNT", e[e.YIJI_JOIN = 16] = "YIJI_JOIN", e[e.YIJI_BATTLE_BATTLE = 17] = "YIJI_BATTLE_BATTLE", e[e.YIJI_BATTLE_KILL = 18] = "YIJI_BATTLE_KILL", e[e.YIJI_BATTLE_BUILD = 19] = "YIJI_BATTLE_BUILD", e[e.YIJI_BATTLE_CAPTURE = 20] = "YIJI_BATTLE_CAPTURE", e[e.YIJI_BATTLE_KILL_STREAK_10 = 21] = "YIJI_BATTLE_KILL_STREAK_10", e[e.YIJI_BATTLE_KILL_STREAK_15 = 22] = "YIJI_BATTLE_KILL_STREAK_15", e[e.YIJI_BATTLE_KILL_STREAK_20 = 23] = "YIJI_BATTLE_KILL_STREAK_20", e[e.YIJI_BATTLE_END_KILL_STREAK = 24] = "YIJI_BATTLE_END_KILL_STREAK", e[e.YIJI_BATTLE_ONE_STRENGTH_KILL = 25] = "YIJI_BATTLE_ONE_STRENGTH_KILL", e[e.YIJI_BATTLE_ONE_STRENGTH_BUILD = 26] = "YIJI_BATTLE_ONE_STRENGTH_BUILD", e[e.YIJI_BATTLE_REVENGE = 27] = "YIJI_BATTLE_REVENGE", e[e.YIJI_SURVIVE = 28] = "YIJI_SURVIVE", e[e.YIJI_HIGHEST_LEGION_RANK = 29] = "YIJI_HIGHEST_LEGION_RANK", e[e.YIJI_HIGHEST_PERSONAL_RANK = 30] = "YIJI_HIGHEST_PERSONAL_RANK", e[e.YIJI_HIGHEST_BATTLE = 31] = "YIJI_HIGHEST_BATTLE", e[e.YIJI_HIGHEST_KILL = 32] = "YIJI_HIGHEST_KILL", e[e.YIJI_HIGHEST_BUILD = 33] = "YIJI_HIGHEST_BUILD", e[e.YIJI_HIGHEST_KILL_STREAK = 34] = "YIJI_HIGHEST_KILL_STREAK", e[e.YIJI_HIGHEST_END_KILL_STREAK = 35] = "YIJI_HIGHEST_END_KILL_STREAK", e[e.YIJI_HIGHEST_ONE_STRENGTH_KILL = 36] = "YIJI_HIGHEST_ONE_STRENGTH_KILL", e[e.YIJI_HIGHEST_ONE_STRENGTH_BUILD = 37] = "YIJI_HIGHEST_ONE_STRENGTH_BUILD", e[e.YIJI_HIGHEST_REVENGE = 38] = "YIJI_HIGHEST_REVENGE"
            }(n.AchievementTaskType || (n.AchievementTaskType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.YIJI_JOIN = 1] = "YIJI_JOIN", e[e.YIJI_BATTLE_BATTLE = 2] = "YIJI_BATTLE_BATTLE", e[e.YIJI_BATTLE_KILL = 3] = "YIJI_BATTLE_KILL", e[e.YIJI_BATTLE_BUILD = 4] = "YIJI_BATTLE_BUILD", e[e.YIJI_BATTLE_CAPTURE = 5] = "YIJI_BATTLE_CAPTURE", e[e.YIJI_SURVIVE = 6] = "YIJI_SURVIVE", e[e.YIJI_SURVIVE_WITH_CORE = 7] = "YIJI_SURVIVE_WITH_CORE", e[e.YIJI_HIGHEST_LEGION_RANK = 8] = "YIJI_HIGHEST_LEGION_RANK", e[e.YIJI_HIGHEST_PVP = 9] = "YIJI_HIGHEST_PVP", e[e.YIJI_HIGHEST_KILL = 10] = "YIJI_HIGHEST_KILL", e[e.YIJI_HIGHEST_KILL_STREAK = 11] = "YIJI_HIGHEST_KILL_STREAK", e[e.YIJI_HIGHEST_BUILD = 12] = "YIJI_HIGHEST_BUILD", e[e.YIJI_HIGHEST_CAPTURE = 13] = "YIJI_HIGHEST_CAPTURE"
            }(n.LegionAchievementTaskType || (n.LegionAchievementTaskType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.Fuka = 1] = "Fuka", e[e.Exchange = 2] = "Exchange", e[e.CumulativeCharge = 3] = "CumulativeCharge", e[e.MERCHANDISE = 4] = "MERCHANDISE", e[e.MISSION = 5] = "MISSION", e[e.DRAGONBOAT = 6] = "DRAGONBOAT", e[e.BOSS = 7] = "BOSS", e[e.TREASURE = 8] = "TREASURE", e[e.BATTLEPASS = 9] = "BATTLEPASS", e[e.MINE = 10] = "MINE", e[e.SIGN = 11] = "SIGN", e[e.BINGO = 12] = "BINGO", e[e.GLOBAL_SIGN = 13] = "GLOBAL_SIGN", e[e.MONOPOLY = 14] = "MONOPOLY", e[e.EGAME = 15] = "EGAME", e[e.CHEER = 16] = "CHEER", e[e.CARD = 17] = "CARD", e[e.VOTE = 18] = "VOTE", e[e.MULTITOWER = 19] = "MULTITOWER", e[e.ROGUETOWER = 20] = "ROGUETOWER", e[e.ROGUEBOOK = 21] = "ROGUEBOOK", e[e.CARDTOWER = 22] = "CARDTOWER", e[e.SEASONACTIVITY = 23] = "SEASONACTIVITY"
            }(n.ActFestivalType || (n.ActFestivalType = {})), function (e) {
                e[e.DefeatTime = 1] = "DefeatTime", e[e.UsedTimes = 2] = "UsedTimes", e[e.HeroDeadCnt = 3] = "HeroDeadCnt", e[e.HeroAliveCnt = 4] = "HeroAliveCnt", e[e.BossUnusedSkill = 5] = "BossUnusedSkill", e[e.BossAngerIsFull = 6] = "BossAngerIsFull", e[e.KilledInnerFiveRound = 7] = "KilledInnerFiveRound", e[e.KilledIn15Round = 8] = "KilledIn15Round", e[e.Freezing = 9] = "Freezing"
            }(n.KillBossAchievementType || (n.KillBossAchievementType = {})), function (e) {
                e[e.DEFAULT = 0] = "DEFAULT", e[e.RECRUIT = 1] = "RECRUIT", e[e.BOX = 2] = "BOX", e[e.FISHING = 3] = "FISHING", e[e.BOTTLE = 4] = "BOTTLE", e[e.DIAMAND = 5] = "DIAMAND"
            }(n.MissionType || (n.MissionType = {})), function (e) {
                e[e.MAIL = 1] = "MAIL", e[e.CLICK = 2] = "CLICK"
            }(n.GetRewardType || (n.GetRewardType = {})), function (e) {
                e[e.EMPTY = 0] = "EMPTY", e[e.SHOP = 1] = "SHOP", e[e.MONSTER = 2] = "MONSTER", e[e.BOSS = 3] = "BOSS", e[e.GOAL = 4] = "GOAL"
            }(n.ActRogueCellType || (n.ActRogueCellType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.YUN = 1] = "YUN"
            }(n.ActRogueItemTheme || (n.ActRogueItemTheme = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.BOSS = 1] = "BOSS", e[e.ARTIFACT = 2] = "ARTIFACT", e[e.EQUIP = 3] = "EQUIP", e[e.CONSUME = 4] = "CONSUME", e[e.BUFF = 5] = "BUFF", e[e.DEBUFF = 6] = "DEBUFF"
            }(n.ActRogueCollectType || (n.ActRogueCollectType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.EXTRA_REWARD_WIN = 1] = "EXTRA_REWARD_WIN", e[e.EXTRA_REWARD_ROUND_WIN = 2] = "EXTRA_REWARD_ROUND_WIN", e[e.EQUIP_EXTRA_LEVELUP = 3] = "EQUIP_EXTRA_LEVELUP", e[e.SHOP_EXTRA_ITEM = 4] = "SHOP_EXTRA_ITEM", e[e.SHOP_DISCOUNT = 5] = "SHOP_DISCOUNT", e[e.SHOP_REFRESH_DISCOUNT = 6] = "SHOP_REFRESH_DISCOUNT", e[e.SELL_MORE_COIN = 7] = "SELL_MORE_COIN", e[e.EACH_ITEM_ADD_ATTR = 8] = "EACH_ITEM_ADD_ATTR", e[e.BAN_RANDOM_PASSIVE = 9] = "BAN_RANDOM_PASSIVE", e[e.BAN_BUFF = 10] = "BAN_BUFF", e[e.BAN_DEBUFF = 11] = "BAN_DEBUFF", e[e.MONEY_ADDR = 12] = "MONEY_ADDR", e[e.RECOVER_HP = 1001] = "RECOVER_HP", e[e.RECOVER_HP_DEAD = 1002] = "RECOVER_HP_DEAD", e[e.RANDOM_NEXT_BUFF = 1003] = "RANDOM_NEXT_BUFF", e[e.RANDOM_NEXT_DEBUFF = 1004] = "RANDOM_NEXT_DEBUFF", e[e.SKIP_NEXT_MONSTER = 1005] = "SKIP_NEXT_MONSTER", e[e.RANDOM_ALL = 1006] = "RANDOM_ALL"
            }(n.ActRogueFunc || (n.ActRogueFunc = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.MERCHANDISE = 1] = "MERCHANDISE", e[e.FUND = 2] = "FUND", e[e.SIGN = 3] = "SIGN", e[e.DAYBUY = 4] = "DAYBUY", e[e.CARD = 5] = "CARD", e[e.EXCHANGE = 6] = "EXCHANGE", e[e.DAILYDEAL = 7] = "DAILYDEAL", e[e.BLACKANDWHITE = 8] = "BLACKANDWHITE", e[e.FRIST_CHARGE = 9] = "FRIST_CHARGE"
            }(n.ActivityType || (n.ActivityType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.ZHUXIAN = 1] = "ZHUXIAN", e[e.PATA = 2] = "PATA"
            }(n.FundType || (n.FundType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.NOOB = 1] = "NOOB", e[e.JUNIOR = 2] = "JUNIOR", e[e.MID = 3] = "MID", e[e.SENIOR = 4] = "SENIOR", e[e.MASTER = 5] = "MASTER", e[e.TOP = 6] = "TOP"
            }(n.ArenaRank || (n.ArenaRank = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.GOLD = 1] = "GOLD", e[e.DIAMOND = 2] = "DIAMOND", e[e.ITEM = 3] = "ITEM", e[e.HERO = 4] = "HERO", e[e.EQUIP = 5] = "EQUIP", e[e.CLICK_TIME = 6] = "CLICK_TIME", e[e.GUAJI_GOLD = 7] = "GUAJI_GOLD", e[e.ATTR = 8] = "ATTR", e[e.TOWERENERGY = 9] = "TOWERENERGY", e[e.HALLENERGY = 10] = "HALLENERGY", e[e.SKIN = 11] = "SKIN", e[e.DUNGEON = 12] = "DUNGEON", e[e.GENIE = 13] = "GENIE", e[e.ACTIVITY = 14] = "ACTIVITY", e[e.MEDALLION = 15] = "MEDALLION", e[e.BOTTLE_GOLD = 16] = "BOTTLE_GOLD", e[e.LEGION_ITEM = 17] = "LEGION_ITEM", e[e.LEGION_SKIN = 18] = "LEGION_SKIN", e[e.LEGION_CUP = 19] = "LEGION_CUP", e[e.PRIVILEGE = 20] = "PRIVILEGE", e[e.CARD = 21] = "CARD", e[e.LORDSKIN = 22] = "LORDSKIN", e[e.KINDNESS = 23] = "KINDNESS", e[e.PROFILE = 24] = "PROFILE", e[e.STAR = 25] = "STAR", e[e.SHARE_PELLET = 26] = "SHARE_PELLET", e[e.TOWER_COIN = 27] = "TOWER_COIN", e[e.HORSE = 28] = "HORSE", e[e.ACT_COIN = 29] = "ACT_COIN", e[e.ACT_TIMES = 30] = "ACT_TIMES", e[e.RANDOM_HORSE = 31] = "RANDOM_HORSE", e[e.MOONENERGY = 32] = "MOONENERGY", e[e.DREAMBELL = 33] = "DREAMBELL", e[e.RABBIT = 34] = "RABBIT", e[e.RANDOM_RABBIT = 35] = "RANDOM_RABBIT", e[e.CARD_TOWER_TIMES = 36] = "CARD_TOWER_TIMES", e[e.COLOR_CARD = 37] = "COLOR_CARD", e[e.CARD_TOWER_EQUIP = 38] = "CARD_TOWER_EQUIP", e[e.CHARM_PACK = 39] = "CHARM_PACK", e[e.SEASON_GEMSTONE = 40] = "SEASON_GEMSTONE", e[e.MASTER_KEY = 41] = "MASTER_KEY", e[e.BOSS_TOWER_HELP = 42] = "BOSS_TOWER_HELP", e[e.BOSS_TOWER_TIMES = 43] = "BOSS_TOWER_TIMES", e[e.BOSS_TOWER_PAY_TIMES = 44] = "BOSS_TOWER_PAY_TIMES"
            }(n.ResourceType || (n.ResourceType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.LV = 1] = "LV", e[e.LORDLV = 2] = "LORDLV", e[e.SERVICE = 3] = "SERVICE", e[e.MAXLV = 4] = "MAXLV", e[e.TIME = 5] = "TIME", e[e.CHAPTER = 6] = "CHAPTER", e[e.FINISH = 7] = "FINISH", e[e.MONTH_MATCH_DAY = 8] = "MONTH_MATCH_DAY", e[e.MONTH_MATCH_PLAYER = 9] = "MONTH_MATCH_PLAYER", e[e.LORD_WEAPON_STAR = 10] = "LORD_WEAPON_STAR", e[e.SEASON = 11] = "SEASON", e[e.BATTLE_HERO_LV = 12] = "BATTLE_HERO_LV", e[e.SKIN = 13] = "SKIN", e[e.CAREER_CHALLENGE_LEVL = 15] = "CAREER_CHALLENGE_LEVL", e[e.ANYLV = 16] = "ANYLV", e[e.MONTH_NORMAL_PLAYER = 17] = "MONTH_NORMAL_PLAYER", e[e.MONTH_YIJI_PLAYER = 18] = "MONTH_YIJI_PLAYER", e[e.MONTH_GOLDEN_PLAYER = 19] = "MONTH_GOLDEN_PLAYER", e[e.YEAR_128_PLAYER = 20] = "YEAR_128_PLAYER", e[e.RECHARGE = 21] = "RECHARGE", e[e.CARDTOWER_ANY_BUY = 22] = "CARDTOWER_ANY_BUY", e[e.GET_CARD = 23] = "GET_CARD", e[e.MANY_TOWER_PASS_LEVEL = 24] = "MANY_TOWER_PASS_LEVEL", e[e.SEASON_MAX = 25] = "SEASON_MAX", e[e.VIPLV = 26] = "VIPLV", e[e.DURING_BATTLEPASS = 27] = "DURING_BATTLEPASS", e[e.WEEKCHARGE = 28] = "WEEKCHARGE", e[e.SEASONLV = 29] = "SEASONLV", e[e.SEASONLORDLV = 30] = "SEASONLORDLV", e[e.BOSS_DAMAGE_ENOUGH = 31] = "BOSS_DAMAGE_ENOUGH"
            }(n.ConditionType || (n.ConditionType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.HUODE = 1] = "HUODE", e[e.ONE = 2] = "ONE", e[e.TWO = 3] = "TWO", e[e.THREE = 4] = "THREE", e[e.FOUR = 5] = "FOUR", e[e.FIVE = 6] = "FIVE", e[e.SIX = 7] = "SIX", e[e.ELEVEN = 8] = "ELEVEN", e[e.SIXTEEN = 9] = "SIXTEEN", e[e.TWENTYONE = 10] = "TWENTYONE"
            }(n.BookCond || (n.BookCond = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.ALL = 1] = "ALL", e[e.COMBOONE = 2] = "COMBOONE", e[e.COMBOTHREE = 3] = "COMBOTHREE", e[e.COMBOFIVE = 4] = "COMBOFIVE"
            }(n.ComboCond || (n.ComboCond = {})), function (e) {
                e.NONE = "None", e.CHECK_AUDIT = "CheckAudit", e.GUIDE_SWITCH = "GuideSwitch", e.PAY_SWITCH = "PaySwitch", e.PLAY_VIDEO = "PlayVideo", e.UI_AUTO_DISPOSE = "UIAutoDispose", e.AUDIT_WHITE_LIST = "Whitelist", e.AUDIT_SWITCH = "AuditSwitch", e.ADD_DESKTOP = "AddDesktop", e.COLOR_SIGN = "ColorSign", e.USER_AGREEMENT = "UserAgreement", e.PRIVACY_POLICY = "PrivacyPolicy", e.SUBSCRIBE = "Subscribe", e.FIRST_LOADING_SWITCH = "FirstLoadingSwitch", e.CDN_SWITCH = "CDNSwitch", e.LOGOUT = "LogOut", e.SERVER_CONFIG = "ServerConfig", e.FORCED_UPDATE = "ForcedUpdate", e.DELACCOUNT = "DelAccount", e.CLEARCACHE = "ClearCache", e.CLEARCACHE_SILENT = "ClearCacheSlient", e.CHAT_WORLD_SWITCH = "ChatWorldSwitch", e.CONFIG_ENC_BIN = "ConfigEncBin", e.BATTLE_LOG = "BattleLog", e.SPLIT_CONFIG = "SplitConfig", e.AFK_SWITCH = "AFKSwitch", e.NEW_WAITING_DIALOG = "NewWaitingDialog", e.NEW_WAITING_TOUCH = "NewWaitingDialogTouch", e.DISCONNECT_CONFIRM = "DisconnectConfirm", e.FGUI_TEXLOADER = "FguiTexLoader", e.SKIN_AUTO_UPDATE = "SkinAutoUpdate", e.VERIFY_AUTO_CONTINUE = "VerifyAutoContinue", e.REFLUX_SWITCH = "RefluxSwitch", e.ANIMATE_LIST = "AnimateList", e.ARENA_DEPLOY = "ArenaDeploy", e.OPEN_BOX_BATCH = "OpenBoxBatch", e.BATTLE_TIMER = "BattleTimer", e.LEGION_RANK_SWITCH = "LegionRankSwitch", e.LEGION_BET_REWARD_SWITCH = "LegionBetRewardSwitch", e.DAILY_SPECIAL_SWITCH = "DailySpecialSwitch", e.LXG_TEST = "LxgTest", e.LEGION_BET_RED_SWITCH = "LegionBetRedSwitch", e.LXG_TEST2 = "LxgTest2", e.NEW_EXPANDABLE_LIST = "NewExpandableList", e.UNIFY_TIME = "UnifyTime", e.AUTO_RESTORE_LEGIONWAR = "AutoRestoreLegionWar", e.REMOTE_CONFIG_CHECKER = "RemoteConfigChecker", e.MINI_GAME = "MiniGame", e.CHECK_LATEST_APP = "CheckLatesteApp", e.SERVER_TRANSFER = "ServerTransfer", e.LEGIONS_CUPS_SCREENSHOT = "LegionsCupsScreenShot", e.LEGION_WAR_MAP_PRELOAD = "LegionWarMapPreload", e.USE_ID_BATTLE = "UseIdBattle", e.OPEN_BATTLE_ROOM = "OpenBattleRoom", e.LIST_BATCH = "ListBatch", e.GLOBAL_MOUSE_WHEEL = "GlobalMouseWheelEnabled", e.STUDIO_GAMES_SWITCH = "StudioGamesSwitch", e.SKY_SWITCH = "SkySwitch", e.ACCOUNT_ABOUT = "Account_about"
            }(n.SwitchId || (n.SwitchId = {})), function (e) {
                e.LANGUAGE_ZH_CN = "zh_cn", e.LANGUAGE_ZH_TW = "zh_tw", e.LANGUAGE_EN = "en", e.CHINESE = "chinese", e.LANGUAGE_JA = "ja"
            }(n.LanguageType || (n.LanguageType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.MOVE = 1] = "MOVE", e[e.FALL = 2] = "FALL"
            }(n.EnterType || (n.EnterType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.ROCK = 1] = "ROCK", e[e.WATER = 2] = "WATER", e[e.POISON = 3] = "POISON", e[e.FIRE = 4] = "FIRE"
            }(n.AbilityType || (n.AbilityType = {})), function (e) {
                e.WX = "wx", e.IOS = "ios", e.ANDROID = "android", e.QQ = "qq", e.H5 = "h5", e.H5WEB = "h5web", e.BYTEDANCE = "bytedance", e.GOOGLE = "google"
            }(n.PlatformType || (n.PlatformType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.LEGION = 1] = "LEGION", e[e.WORLD = 2] = "WORLD", e[e.RECRUIT = 3] = "RECRUIT"
            }(n.ChannelType || (n.ChannelType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.HOT = 1] = "HOT", e[e.DOT = 2] = "DOT", e[e.REAL_DMG_DOT = 3] = "REAL_DMG_DOT", e[e.ABS_DMG_DOT = 4] = "ABS_DMG_DOT", e[e.INDEX_ENEMY_NUM = 5] = "INDEX_ENEMY_NUM", e[e.ABS_DMG_HOT = 6] = "ABS_DMG_HOT"
            }(n.BuffCommandType || (n.BuffCommandType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.RMB = 1] = "RMB", e[e.GOLD = 2] = "GOLD", e[e.DIAMOND = 3] = "DIAMOND", e[e.ITEM = 4] = "ITEM"
            }(n.PaymentType || (n.PaymentType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.DAY = 1] = "DAY", e[e.WEEK = 2] = "WEEK", e[e.MONTH = 3] = "MONTH", e[e.YEAR = 4] = "YEAR", e[e.FINISH = 5] = "FINISH", e[e.FOUR_WEEK = 6] = "FOUR_WEEK"
            }(n.PeriodType || (n.PeriodType = {})), function (e) {
                e[e.SUNDAY = 0] = "SUNDAY", e[e.MONDAY = 1] = "MONDAY", e[e.TUESDAY = 2] = "TUESDAY", e[e.WEDNESDAY = 3] = "WEDNESDAY", e[e.THURSDAY = 4] = "THURSDAY", e[e.FRIDAY = 5] = "FRIDAY", e[e.SATURDAY = 6] = "SATURDAY"
            }(n.WeekType || (n.WeekType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.INDIVIDUAL = 1] = "INDIVIDUAL", e[e.GLOBAL = 2] = "GLOBAL"
            }(n.PaymentLimitType || (n.PaymentLimitType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.ATTACK_ABS = 1] = "ATTACK_ABS", e[e.DEFENSE_ABS = 2] = "DEFENSE_ABS", e[e.HP_ABS = 3] = "HP_ABS", e[e.SPEED_ABS = 4] = "SPEED_ABS", e[e.ATTACK = 5] = "ATTACK", e[e.DEFENSE = 6] = "DEFENSE", e[e.HP = 7] = "HP", e[e.SPEED = 8] = "SPEED", e[e.ENERGY = 9] = "ENERGY", e[e.CURRENT_HP = 10] = "CURRENT_HP", e[e.ATTACK_FIGHTING = 11] = "ATTACK_FIGHTING", e[e.DEFENSE_FIGHTING = 12] = "DEFENSE_FIGHTING", e[e.HP_FIGHTING = 13] = "HP_FIGHTING", e[e.SPEED_FIGHTING = 14] = "SPEED_FIGHTING", e[e.SPEED_CHAOS = 15] = "SPEED_CHAOS", e[e.ATTACK_CHALLENGE = 16] = "ATTACK_CHALLENGE", e[e.HP_CHALLENGE = 17] = "HP_CHALLENGE", e[e.PIERCE = 51] = "PIERCE", e[e.PIERCE_R = 52] = "PIERCE_R", e[e.ATTACK_RAT = 53] = "ATTACK_RAT", e[e.BLOCK_RAT = 54] = "BLOCK_RAT", e[e.DMG_ADD = 55] = "DMG_ADD", e[e.DMG_RED = 56] = "DMG_RED", e[e.CRIT_HIT = 57] = "CRIT_HIT", e[e.CRIT_R = 58] = "CRIT_R", e[e.CRIT_DMG = 59] = "CRIT_DMG", e[e.CRIT_DMG_R = 60] = "CRIT_DMG_R", e[e.SKILL_DMG_ADD = 61] = "SKILL_DMG_ADD", e[e.SKILL_DMG_RED = 62] = "SKILL_DMG_RED", e[e.CONTROL_R = 63] = "CONTROL_R", e[e.CONTROL_RAT = 64] = "CONTROL_RAT", e[e.DIZZY_R = 65] = "DIZZY_R", e[e.FROZEN_R = 66] = "FROZEN_R", e[e.SILENT_R = 67] = "SILENT_R", e[e.BLEED_R = 68] = "BLEED_R", e[e.POISON_R = 69] = "POISON_R", e[e.BURN_R = 70] = "BURN_R", e[e.HEAL_ADD = 71] = "HEAL_ADD", e[e.HEAL_RED = 72] = "HEAL_RED", e[e.HEAL_TO_ARMOR = 73] = "HEAL_TO_ARMOR", e[e.REAL_DMG_RED = 74] = "REAL_DMG_RED", e[e.REAL_DMG_ADD = 75] = "REAL_DMG_ADD", e[e.NEGATIVE_RAT = 76] = "NEGATIVE_RAT", e[e.NEGATIVE_R = 77] = "NEGATIVE_R", e[e.BLEED_RAT = 78] = "BLEED_RAT", e[e.POISON_RAT = 79] = "POISON_RAT", e[e.BURN_RAT = 80] = "BURN_RAT", e[e.VIP_DMG_ADD = 101] = "VIP_DMG_ADD", e[e.VIP_DMG_RED = 102] = "VIP_DMG_RED", e[e.LW_STRENGTH = 103] = "LW_STRENGTH", e[e.TOURNAMENT_DMG_ADD = 104] = "TOURNAMENT_DMG_ADD", e[e.TOURNAMENT_DMG_RED = 105] = "TOURNAMENT_DMG_RED", e[e.DMG_ADD_WEI = 200] = "DMG_ADD_WEI", e[e.DMG_ADD_SHU = 201] = "DMG_ADD_SHU", e[e.DMG_ADD_WU = 202] = "DMG_ADD_WU", e[e.DMG_ADD_QUN = 203] = "DMG_ADD_QUN", e[e.DMG_ADD_DIZZY = 204] = "DMG_ADD_DIZZY", e[e.DMG_ADD_FROZEN = 205] = "DMG_ADD_FROZEN", e[e.DMG_ADD_SILENT = 206] = "DMG_ADD_SILENT", e[e.DMG_ADD_BLEED = 207] = "DMG_ADD_BLEED", e[e.DMG_ADD_POISONING = 208] = "DMG_ADD_POISONING", e[e.DMG_ADD_BURN = 209] = "DMG_ADD_BURN", e[e.DMG_ADD_ZHANSHI = 210] = "DMG_ADD_ZHANSHI", e[e.DMG_ADD_ROUDUN = 211] = "DMG_ADD_ROUDUN", e[e.DMG_ADD_FUZHU = 212] = "DMG_ADD_FUZHU", e[e.DMG_ADD_FASHI = 213] = "DMG_ADD_FASHI", e[e.DMG_ADD_CIKE = 214] = "DMG_ADD_CIKE", e[e.DMG_ADD_SHESHOU = 215] = "DMG_ADD_SHESHOU", e[e.DMG_RED_WEI = 216] = "DMG_RED_WEI", e[e.DMG_RED_SHU = 217] = "DMG_RED_SHU", e[e.DMG_RED_WU = 218] = "DMG_RED_WU", e[e.DMG_RED_QUN = 219] = "DMG_RED_QUN", e[e.DMG_RED_DIZZY = 220] = "DMG_RED_DIZZY", e[e.DMG_RED_FROZEN = 221] = "DMG_RED_FROZEN", e[e.DMG_RED_SILENT = 222] = "DMG_RED_SILENT", e[e.DMG_RED_BLEED = 223] = "DMG_RED_BLEED", e[e.DMG_RED_POISONING = 224] = "DMG_RED_POISONING", e[e.DMG_RED_BURN = 225] = "DMG_RED_BURN", e[e.DMG_RED_ZHANSHI = 226] = "DMG_RED_ZHANSHI", e[e.DMG_RED_ROUDUN = 227] = "DMG_RED_ROUDUN", e[e.DMG_RED_FUZHU = 228] = "DMG_RED_FUZHU", e[e.DMG_RED_FASHI = 229] = "DMG_RED_FASHI", e[e.DMG_RED_CIKE = 230] = "DMG_RED_CIKE", e[e.DMG_RED_SHESHOU = 231] = "DMG_RED_SHESHOU", e[e.BURN_DAMAGE = 232] = "BURN_DAMAGE", e[e.POISON_DAMAGE = 233] = "POISON_DAMAGE", e[e.BLEED_DAMAGE = 234] = "BLEED_DAMAGE", e[e.RAGE_ADD = 301] = "RAGE_ADD", e[e.RAGE_RED = 302] = "RAGE_RED", e[e.RAGE_R = 303] = "RAGE_R", e[e.TONGXIN_PROB = 401] = "TONGXIN_PROB", e[e.TONGXIN_RATE = 402] = "TONGXIN_RATE", e[e.REMOVE_ARMOR_R = 501] = "REMOVE_ARMOR_R", e[e.ATTACK_DMG_ADD = 503] = "ATTACK_DMG_ADD"
            }(n.BattleAttributeKey || (n.BattleAttributeKey = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.ACT = 1] = "ACT", e[e.ARENA = 2] = "ARENA"
            }(n.BattlePassType || (n.BattlePassType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.EXCHANGE = 1] = "EXCHANGE"
            }(n.BlackMarketType || (n.BlackMarketType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.HANGING_GAIN = 1] = "HANGING_GAIN", e[e.GENIE_NUM = 2] = "GENIE_NUM", e[e.FREE_MARKET_REFRESH = 3] = "FREE_MARKET_REFRESH"
            }(n.BlessingType || (n.BlessingType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.GOLD = 1] = "GOLD", e[e.DIAMOND = 2] = "DIAMOND", e[e.ITEM = 3] = "ITEM", e[e.CARD = 4] = "CARD", e[e.CARD_COLOR = 5] = "CARD_COLOR", e[e.BOX_POINTS = 6] = "BOX_POINTS", e[e.ATLAS_INTEGRAL = 7] = "ATLAS_INTEGRAL", e[e.LEVEL = 8] = "LEVEL", e[e.TOWER_LEVEL = 9] = "TOWER_LEVEL", e[e.NIGHT_MARE_LEVEL = 10] = "NIGHT_MARE_LEVEL"
            }(n.BriefreportType || (n.BriefreportType = {})), function (e) {
                e.NONE = "None", e.LORD_FIRE = "Fire", e.LINE = "Line", e.MOVE = "Move", e.PARABOLA = "Parabola", e.POSITION = "Position", e.CENTER = "Center", e.RUSH = "Rush", e.MISSILE = "Missile", e.SINGLE_LINE = "SingleLine", e.COMPLEX_POSITION = "ComplexPosition", e.TRANSFIXION = "Transfixion"
            }(n.BulletType || (n.BulletType = {})), function (e) {
                e[e.MOVIE = 1] = "MOVIE", e[e.FOOD = 2] = "FOOD", e[e.Anniv2nd = 3] = "Anniv2nd", e[e.Spring24 = 4] = "Spring24", e[e.MOVIE2 = 5] = "MOVIE2", e[e.Anniv3rd = 6] = "Anniv3rd", e[e.Spring25 = 7] = "Spring25"
            }(n.CardType || (n.CardType = {})), function (e) {
                e[e.NORMAL = 1] = "NORMAL", e[e.COLORFUL = 2] = "COLORFUL"
            }(n.CardBannerType || (n.CardBannerType = {})), function (e) {
                e[e.DEFAULT = 0] = "DEFAULT", e[e.NORMAL = 1] = "NORMAL", e[e.COLOR = 2] = "COLOR", e[e.COLOR_UNBOUND = 3] = "COLOR_UNBOUND"
            }(n.CardRare || (n.CardRare = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.MINE_LINE_PASS = 1] = "MINE_LINE_PASS", e[e.COMPLETE_LAST_CHARGE = 2] = "COMPLETE_LAST_CHARGE"
            }(n.ChargeTriggerType || (n.ChargeTriggerType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.LOGIN = 1] = "LOGIN", e[e.SHARE = 2] = "SHARE", e[e.GIVE_COIN = 3] = "GIVE_COIN", e[e.RECRUIT = 4] = "RECRUIT", e[e.TAKE_IDLE_REWARD = 5] = "TAKE_IDLE_REWARD", e[e.FREE_COIN = 6] = "FREE_COIN", e[e.OPEN_BOX = 7] = "OPEN_BOX", e[e.UPGRADE_HERO = 8] = "UPGRADE_HERO", e[e.UPGRADE_LORD = 9] = "UPGRADE_LORD", e[e.UPGRADE_EQUIP = 10] = "UPGRADE_EQUIP", e[e.SUCCESS = 11] = "SUCCESS", e[e.BUY = 12] = "BUY", e[e.ARENA = 13] = "ARENA", e[e.BOTTLE = 14] = "BOTTLE", e[e.SENIORFISHING = 15] = "SENIORFISHING", e[e.USINGTORCH = 16] = "USINGTORCH", e[e.DAILYBOSS = 17] = "DAILYBOSS", e[e.ARREST = 18] = "ARREST", e[e.DIAMONDCOST = 19] = "DIAMONDCOST", e[e.HEROSTAR = 20] = "HEROSTAR", e[e.OPEN_PLATINUM_BOX = 21] = "OPEN_PLATINUM_BOX", e[e.BOX_POINT = 22] = "BOX_POINT", e[e.FINISH = 23] = "FINISH", e[e.COIN = 24] = "COIN", e[e.STUDY = 25] = "STUDY", e[e.ARENA_WIN = 26] = "ARENA_WIN", e[e.USE_ITEM_ID = 27] = "USE_ITEM_ID"
            }(n.CompleteCondition || (n.CompleteCondition = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.MAP = 1] = "MAP", e[e.HERO = 2] = "HERO", e[e.UI = 3] = "UI", e[e.FLY_EFFECT = 4] = "FLY_EFFECT"
            }(n.BattleLayer || (n.BattleLayer = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.WUQI = 1] = "WUQI", e[e.KAIJIA = 2] = "KAIJIA", e[e.TOUGUAN = 3] = "TOUGUAN", e[e.ZUOQI = 4] = "ZUOQI"
            }(n.Part || (n.Part = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.LV = 1] = "LV", e[e.LAN = 2] = "LAN", e[e.ZI = 3] = "ZI", e[e.CHENG = 4] = "CHENG", e[e.HONG = 5] = "HONG", e[e.JIN = 6] = "JIN"
            }(n.EqColor || (n.EqColor = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.WUQI = 1] = "WUQI", e[e.KAIJIA = 2] = "KAIJIA", e[e.TOUGUAN = 3] = "TOUGUAN", e[e.ZUOQI = 4] = "ZUOQI"
            }(n.PartEquipment || (n.PartEquipment = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.LV = 1] = "LV", e[e.LAN = 2] = "LAN", e[e.ZI = 3] = "ZI", e[e.CHENG = 4] = "CHENG", e[e.HONG = 5] = "HONG", e[e.JIN = 6] = "JIN"
            }(n.EqColorEquipment || (n.EqColorEquipment = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.LORD = 1] = "LORD", e[e.HERO = 2] = "HERO"
            }(n.ExcelType || (n.ExcelType = {})), function (e) {
                e[e.LIMITSIGN = 1] = "LIMITSIGN", e[e.OFFLINE = 2] = "OFFLINE"
            }(n.SubscibeName || (n.SubscibeName = {})), function (e) {
                e[e.ONCE = 0] = "ONCE", e[e.LONG = 1] = "LONG"
            }(n.SubscribeType || (n.SubscribeType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.PLOT = 1] = "PLOT", e[e.KNOCK_BUTTON = 2] = "KNOCK_BUTTON", e[e.KNOCK_STACK_BATTLE = 3] = "KNOCK_STACK_BATTLE", e[e.OBTAIN_HERO = 4] = "OBTAIN_HERO", e[e.GUIDE_FINISHED = 5] = "GUIDE_FINISHED", e[e.BREAK_POINT = 6] = "BREAK_POINT", e[e.KNOCK_SEASON_BATTLE = 7] = "KNOCK_SEASON_BATTLE", e[e.SEASON_OPEN_FIRST_HERO_UI = 8] = "SEASON_OPEN_FIRST_HERO_UI", e[e.SEASON_WAIT_TIME = 9] = "SEASON_WAIT_TIME"
            }(n.GuideType || (n.GuideType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.LEVEL = 1] = "LEVEL", e[e.POINTCOUNT = 2] = "POINTCOUNT", e[e.SEASON_HERO_UNLOCK = 3] = "SEASON_HERO_UNLOCK"
            }(n.GuideTriggerType || (n.GuideTriggerType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.DIALOG_BIG = 1] = "DIALOG_BIG", e[e.DIALOG_SMALL = 2] = "DIALOG_SMALL"
            }(n.DialogType || (n.DialogType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.LEFT_SIDE = 1] = "LEFT_SIDE", e[e.RIGHT_SIDE = 2] = "RIGHT_SIDE"
            }(n.DialogHeroSideType || (n.DialogHeroSideType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.BOTTOM_RIGHT = 1] = "BOTTOM_RIGHT", e[e.BOTTOM_LEFT = 2] = "BOTTOM_LEFT", e[e.TOP_RIGHT = 3] = "TOP_RIGHT", e[e.TOP_LEFT = 4] = "TOP_LEFT"
            }(n.HandType || (n.HandType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.WEI = 1] = "WEI", e[e.SHU = 2] = "SHU", e[e.WU = 3] = "WU", e[e.QUN = 4] = "QUN", e[e.SHENHAI = 5] = "SHENHAI"
            }(n.Club || (n.Club = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.ZI = 1] = "ZI", e[e.CHENG = 2] = "CHENG", e[e.HONG = 3] = "HONG", e[e.JIN = 4] = "JIN"
            }(n.Color || (n.Color = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.ZHANSHI = 1] = "ZHANSHI", e[e.ROUDUN = 2] = "ROUDUN", e[e.FUZHU = 3] = "FUZHU", e[e.FASHI = 4] = "FASHI", e[e.CIKE = 5] = "CIKE", e[e.SHESHOU = 6] = "SHESHOU"
            }(n.Work || (n.Work = {})), function (e) {
                e[e.MOREN = 0] = "MOREN", e[e.PVE = 1] = "PVE", e[e.PVP = 2] = "PVP", e[e.CHOICEBUFF = 3] = "CHOICEBUFF", e[e.CHOICELEGION = 4] = "CHOICELEGION", e[e.PASS = 5] = "PASS"
            }(n.HorseBattleState || (n.HorseBattleState = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.LV = 1] = "LV", e[e.LAN = 2] = "LAN", e[e.ZI = 3] = "ZI", e[e.CHENG = 4] = "CHENG", e[e.HONG = 5] = "HONG", e[e.JIN = 6] = "JIN"
            }(n.ItemColor || (n.ItemColor = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.HERO_FRAGMENT = 1] = "HERO_FRAGMENT", e[e.CONSUME = 2] = "CONSUME", e[e.BOX = 3] = "BOX", e[e.BOX_KEY = 4] = "BOX_KEY", e[e.PACK = 5] = "PACK", e[e.EQUIP_FRAGMENT = 6] = "EQUIP_FRAGMENT", e[e.ARTIFACT = 7] = "ARTIFACT", e[e.EXPIRATION = 8] = "EXPIRATION", e[e.CARD = 9] = "CARD", e[e.SEASON_BOX = 10] = "SEASON_BOX"
            }(n.ItemType || (n.ItemType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.CONSUME = 1] = "CONSUME", e[e.SKIN_LEGION = 2] = "SKIN_LEGION", e[e.SKIN_PROTECT = 3] = "SKIN_PROTECT"
            }(n.ItemLegionType || (n.ItemLegionType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.TIMESTAMP = 1] = "TIMESTAMP", e[e.MONTH_MATCH = 2] = "MONTH_MATCH", e[e.NIGHT_MARE = 3] = "NIGHT_MARE"
            }(n.ExpirationType || (n.ExpirationType = {})), function (e) {
                e.LANGUAGE_ZH_TW = "TWD", e.LANGUAGE_ZH_HK = "HKD", e.LANGUAGE_ZH_MO = "MOP", e.LANGUAGE_EN = "USD", e.LANGUAGE_CHINESE = "CNY", e.LANGUAGE_JA = "JPY"
            }(n.PayCurrencyType || (n.PayCurrencyType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.EAST = 1] = "EAST", e[e.SOUTH = 2] = "SOUTH", e[e.WEST = 3] = "WEST", e[e.NORTH = 4] = "NORTH", e[e.MIDDLE = 5] = "MIDDLE"
            }(n.MatchZoneType || (n.MatchZoneType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.LegionWarNameplate = 1] = "LegionWarNameplate", e[e.LegionRankNameplate = 2] = "LegionRankNameplate"
            }(n.LegionNameplate || (n.LegionNameplate = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.WEEK = 1] = "WEEK", e[e.FIRST = 2] = "FIRST", e[e.MONTH = 3] = "MONTH", e[e.MASTER = 4] = "MASTER", e[e.KING = 5] = "KING", e[e.GREY_WEEK_THIRD = 6] = "GREY_WEEK_THIRD", e[e.GREY_WEEK_HIGH = 7] = "GREY_WEEK_HIGH", e[e.GREY_WEEK_HIGH_FOURTH_PROMOTE = 8] = "GREY_WEEK_HIGH_FOURTH_PROMOTE", e[e.GREEN_WEEK_THIRD = 9] = "GREEN_WEEK_THIRD", e[e.GREEN_WEEK_FOURTH_DROP = 10] = "GREEN_WEEK_FOURTH_DROP", e[e.GREEN_WEEK_FOURTH_PROMOTE = 11] = "GREEN_WEEK_FOURTH_PROMOTE", e[e.BLUE_WEEK_THIRD = 12] = "BLUE_WEEK_THIRD", e[e.BLUE_WEEK_FOURTH_DROP = 13] = "BLUE_WEEK_FOURTH_DROP", e[e.BLUE_WEEK_FOURTH_PROMOTE = 14] = "BLUE_WEEK_FOURTH_PROMOTE", e[e.PURPLE_WEEK_THIRD = 15] = "PURPLE_WEEK_THIRD", e[e.PURPLE_WEEK_FOURTH_DROP = 16] = "PURPLE_WEEK_FOURTH_DROP", e[e.PURPLE_WEEK_FOURTH_PROMOTE = 17] = "PURPLE_WEEK_FOURTH_PROMOTE", e[e.GOLDEN = 18] = "GOLDEN"
            }(n.LegionNameplateCondition || (n.LegionNameplateCondition = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.QINGTONG = 1] = "QINGTONG", e[e.BAIYIN = 2] = "BAIYIN", e[e.HUANGJIN = 3] = "HUANGJIN", e[e.BAIJIN = 4] = "BAIJIN", e[e.ZUANSHI = 5] = "ZUANSHI", e[e.DASHI = 6] = "DASHI"
            }(n.LegionRank || (n.LegionRank = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.MEMBER_CNT = 1] = "MEMBER_CNT", e[e.SIGN_CNT = 2] = "SIGN_CNT", e[e.RANKING = 3] = "RANKING", e[e.PER_RANKING = 4] = "PER_RANKING", e[e.SIGN_RANKING = 5] = "SIGN_RANKING", e[e.POWER_500_RANK = 8] = "POWER_500_RANK", e[e.LEGION_WAR_RANK = 9] = "LEGION_WAR_RANK", e[e.LEGION_WAR_MOON_RANK = 10] = "LEGION_WAR_MOON_RANK", e[e.LEGION_WAR_GOLDEN_RANK = 11] = "LEGION_WAR_GOLDEN_RANK", e[e.LEGION_WAR_GOLDEN_NO_RANK = 12] = "LEGION_WAR_GOLDEN_NO_RANK", e[e.LEAGUE_GOLDEN_RANK = 13] = "LEAGUE_GOLDEN_RANK"
            }(n.TagConditionType || (n.TagConditionType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.LV = 1] = "LV", e[e.LAN = 2] = "LAN", e[e.ZI = 3] = "ZI", e[e.CHENG = 4] = "CHENG", e[e.HONG = 5] = "HONG", e[e.JIN = 6] = "JIN", e[e.ZONG = 7] = "ZONG"
            }(n.TagColor || (n.TagColor = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.WEEK = 1] = "WEEK", e[e.MONTH = 2] = "MONTH", e[e.SEMIFINAL = 3] = "SEMIFINAL", e[e.FINAL = 4] = "FINAL", e[e.SINGLE = 5] = "SINGLE", e[e.FLAG = 6] = "FLAG", e[e.WEEK_S7 = 7] = "WEEK_S7", e[e.WEEK_TOTAL = 8] = "WEEK_TOTAL", e[e.MONTH_TOTAL = 9] = "MONTH_TOTAL", e[e.MONTH_GOLDEN = 10] = "MONTH_GOLDEN", e[e.YUXUANSAI = 11] = "YUXUANSAI", e[e.XIAOZUSAI = 12] = "XIAOZUSAI", e[e.TAOTAISAI = 13] = "TAOTAISAI", e[e.YANSHAN = 14] = "YANSHAN", e[e.GREY_WEEK = 15] = "GREY_WEEK", e[e.GREY_WEEK_HIGH = 16] = "GREY_WEEK_HIGH", e[e.GREY_MONTH = 17] = "GREY_MONTH", e[e.GREEN_WEEK = 18] = "GREEN_WEEK", e[e.GREEN_MONTH = 19] = "GREEN_MONTH", e[e.BLUE_WEEK = 20] = "BLUE_WEEK", e[e.BLUE_MONTH = 21] = "BLUE_MONTH", e[e.PURPLE_WEEK = 22] = "PURPLE_WEEK", e[e.PURPLE_MONTH = 23] = "PURPLE_MONTH", e[e.GOLDEN_VICTOR = 24] = "GOLDEN_VICTOR", e[e.GOLDEN_LOOSER = 25] = "GOLDEN_LOOSER", e[e.GOLDEN_FINAL = 26] = "GOLDEN_FINAL", e[e.TEST = 99] = "TEST"
            }(n.LegionWarType || (n.LegionWarType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.WEEK_MAP = 1] = "WEEK_MAP", e[e.FLAG_MAP = 2] = "FLAG_MAP", e[e.SANXINGDUI_MAP = 3] = "SANXINGDUI_MAP", e[e.MAYA_MAP = 4] = "MAYA_MAP", e[e.AIJI_MAP = 5] = "AIJI_MAP", e[e.MOON_MAP = 6] = "MOON_MAP", e[e.SKY_MAP = 7] = "SKY_MAP", e[e.YIJIYANCHANG_MAP = 8] = "YIJIYANCHANG_MAP", e[e.ZHOUXINGCHI_MAP = 9] = "ZHOUXINGCHI_MAP", e[e.YUXUANSAI_MAP = 10] = "YUXUANSAI_MAP", e[e.TAOTAI_MAP = 11] = "TAOTAI_MAP", e[e.YANSHAN_MAP = 12] = "YANSHAN_MAP", e[e.GREY_WEEK_MAP = 13] = "GREY_WEEK_MAP", e[e.GREY_WEEK_HIGH_MAP = 14] = "GREY_WEEK_HIGH_MAP", e[e.GREY_MONTH_MAP = 15] = "GREY_MONTH_MAP", e[e.GREEN_WEEK_MAP = 16] = "GREEN_WEEK_MAP", e[e.GREEN_MONTH_MAP = 17] = "GREEN_MONTH_MAP", e[e.BLUE_WEEK_MAP = 18] = "BLUE_WEEK_MAP", e[e.BLUE_MONTH_MAP = 19] = "BLUE_MONTH_MAP", e[e.PURPLE_WEEK_MAP = 20] = "PURPLE_WEEK_MAP", e[e.PERPLE_MONTH_MAP = 21] = "PERPLE_MONTH_MAP", e[e.GOLDEN_VICTOR_MAP = 22] = "GOLDEN_VICTOR_MAP", e[e.GOLDEN_LOOSER_MAP = 23] = "GOLDEN_LOOSER_MAP", e[e.GOLDEN_FINAL_MAP = 24] = "GOLDEN_FINAL_MAP"
            }(n.LegionWarMapType || (n.LegionWarMapType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.GOLDEN = 1] = "GOLDEN", e[e.SILVER = 2] = "SILVER", e[e.CUPRUM = 3] = "CUPRUM", e[e.SUMMIT = 4] = "SUMMIT", e[e.KING = 5] = "KING", e[e.WARRIOR = 6] = "WARRIOR", e[e.SHIELDER = 7] = "SHIELDER", e[e.MAGICIAN = 8] = "MAGICIAN", e[e.SUPPORT = 9] = "SUPPORT", e[e.ASSASIN = 10] = "ASSASIN", e[e.ARCHER = 11] = "ARCHER", e[e.SWEET = 12] = "SWEET", e[e.SAULT = 13] = "SAULT", e[e.TOURNAMENT = 14] = "TOURNAMENT", e[e.JUEZHAN128 = 15] = "JUEZHAN128", e[e.JUEZHAN64 = 16] = "JUEZHAN64", e[e.JUEZHAN32 = 17] = "JUEZHAN32", e[e.JUEZHAN16 = 18] = "JUEZHAN16", e[e.JUEZHAN8 = 19] = "JUEZHAN8", e[e.JUEZHAN4 = 20] = "JUEZHAN4", e[e.JUEZHAN2 = 21] = "JUEZHAN2", e[e.JUEZHAN1 = 22] = "JUEZHAN1", e[e.SKY_GOLDEN = 23] = "SKY_GOLDEN", e[e.SKY_SILVER = 24] = "SKY_SILVER", e[e.SKY_CUPRUM = 25] = "SKY_CUPRUM"
            }(n.MedallionType || (n.MedallionType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.STAY = 1] = "STAY", e[e.QUICK_STAY = 2] = "QUICK_STAY", e[e.SKIP_LV = 3] = "SKIP_LV", e[e.GUIDE = 4] = "GUIDE", e[e.ANNOUNCE = 5] = "ANNOUNCE", e[e.LEVEL_BATTLE = 6] = "LEVEL_BATTLE", e[e.MAIN = 100] = "MAIN", e[e.LORD = 1e3] = "LORD", e[e.HERO = 1001] = "HERO", e[e.EQUIP = 1002] = "EQUIP", e[e.ITEM = 1003] = "ITEM", e[e.MAIN_TASK = 1004] = "MAIN_TASK", e[e.TEAM = 1005] = "TEAM", e[e.WAR = 1006] = "WAR", e[e.BOOK = 1007] = "BOOK", e[e.RECRUIT = 1008] = "RECRUIT", e[e.MAIL = 1009] = "MAIL", e[e.AUTO_CLICK = 1010] = "AUTO_CLICK", e[e.RANK = 1011] = "RANK", e[e.SHOP = 1012] = "SHOP", e[e.VIP = 1013] = "VIP", e[e.FRIEND = 1014] = "FRIEND", e[e.BOX = 1015] = "BOX", e[e.HERO_LORD_LV = 2e3] = "HERO_LORD_LV", e[e.HERO_LV = 2001] = "HERO_LV", e[e.HERO_STAR = 2002] = "HERO_STAR", e[e.HERO_BATTLE = 2003] = "HERO_BATTLE", e[e.RECRUIT_SIGLE = 2004] = "RECRUIT_SIGLE", e[e.RECRUIT_MULTIPLE = 2005] = "RECRUIT_MULTIPLE", e[e.ITEM_BOX = 2006] = "ITEM_BOX", e[e.ITEM_ITEM = 2007] = "ITEM_ITEM", e[e.WEAR_EQUIP = 2008] = "WEAR_EQUIP", e[e.EQUIP_LV = 2009] = "EQUIP_LV", e[e.DIAMOND_SHOP = 2010] = "DIAMOND_SHOP", e[e.ACTIVITY = 3e3] = "ACTIVITY", e[e.BENEFITS = 3001] = "BENEFITS", e[e.FIRST_CHARGE = 3002] = "FIRST_CHARGE", e[e.ACTIVITY_REWARD = 3003] = "ACTIVITY_REWARD", e[e.SEVEN_DAY_REWARD = 4001] = "SEVEN_DAY_REWARD", e[e.TIME_GIFT = 4002] = "TIME_GIFT", e[e.ACTIVITYTIME = 4003] = "ACTIVITYTIME", e[e.COIN = 5001] = "COIN", e[e.SHARE = 6001] = "SHARE", e[e.ACHIEVEMENT = 7001] = "ACHIEVEMENT", e[e.DAILY_TASK = 8001] = "DAILY_TASK", e[e.FRIEND_MAIL = 9001] = "FRIEND_MAIL", e[e.CHAPTER = 9002] = "CHAPTER", e[e.ARENA = 10001] = "ARENA", e[e.ADVENTURE = 10002] = "ADVENTURE", e[e.TOWER = 10003] = "TOWER", e[e.FEUDATORY = 10004] = "FEUDATORY", e[e.ROOM = 10005] = "ROOM", e[e.BATTLEREPORT = 10006] = "BATTLEREPORT", e[e.BOTTLE = 10007] = "BOTTLE", e[e.CHAT_LV = 10008] = "CHAT_LV", e[e.CHAT = 10009] = "CHAT", e[e.BOSSCHALLENGE = 10010] = "BOSSCHALLENGE", e[e.ARTIFACT = 10011] = "ARTIFACT", e[e.SPRING_FESTIVAL = 10012] = "SPRING_FESTIVAL", e[e.LEGION = 10013] = "LEGION", e[e.EXCITING_ACTIVITY = 10014] = "EXCITING_ACTIVITY", e[e.HERO_EXCHANGE = 10015] = "HERO_EXCHANGE", e[e.LEFT_BAR = 10016] = "LEFT_BAR", e[e.RIGHT_LIST = 10017] = "RIGHT_LIST", e[e.LOGOUT = 10018] = "LOGOUT", e[e.COMING_SOON_TEXT = 10019] = "COMING_SOON_TEXT", e[e.APP_COMMENT = 10020] = "APP_COMMENT", e[e.RANK_LIST = 10021] = "RANK_LIST", e[e.CDK = 10022] = "CDK", e[e.ADD_TIME = 10023] = "ADD_TIME", e[e.USER_AGREEMENT = 10024] = "USER_AGREEMENT", e[e.PRIVACY_POLICY = 10025] = "PRIVACY_POLICY", e[e.ADD_DESKTOP = 10026] = "ADD_DESKTOP", e[e.COLOR_SIGN = 10027] = "COLOR_SIGN", e[e.SUBSCRIBE = 10028] = "SUBSCRIBE", e[e.LEGION_WAR = 10029] = "LEGION_WAR", e[e.ACT_FESTIVAL = 10030] = "ACT_FESTIVAL", e[e.DUNGEON = 10031] = "DUNGEON", e[e.QUENCH = 10032] = "QUENCH", e[e.STUDY = 10033] = "STUDY", e[e.GENIE = 10034] = "GENIE", e[e.DELACCOUNT = 10035] = "DELACCOUNT", e[e.CLEARCACHE = 10036] = "CLEARCACHE", e[e.FORUM = 10037] = "FORUM", e[e.ACT_NOOB = 10038] = "ACT_NOOB", e[e.WX_MINIAPP = 10039] = "WX_MINIAPP", e[e.AFK = 10040] = "AFK", e[e.LEGION_BET = 10041] = "LEGION_BET", e[e.FGUI_TEXLOADER = 10042] = "FGUI_TEXLOADER", e[e.BUY_RESOURCE = 10043] = "BUY_RESOURCE", e[e.MEDALLION = 10044] = "MEDALLION", e[e.REFLUX = 10045] = "REFLUX", e[e.ANIMATE_LIST = 10046] = "ANIMATE_LIST", e[e.LEGION_SHOP = 10047] = "LEGION_SHOP", e[e.LORD_WEAPON = 10048] = "LORD_WEAPON", e[e.TT_VEDIO = 10049] = "TT_VEDIO", e[e.LEGION_RANK = 10050] = "LEGION_RANK", e[e.DOMINOES = 10051] = "DOMINOES", e[e.ASIA_GVG_LEGION_WAR = 10052] = "ASIA_GVG_LEGION_WAR", e[e.SPECIFICS_TEAM = 10053] = "SPECIFICS_TEAM",e[e.TEAM_UP = 10054] = "TEAM_UP",e[e.NIGHTMARE = 10055] = "NIGHTMARE",e[e.PEARL = 10056] = "PEARL",e[e.CARD = 10057] = "CARD",e[e.TEAM_IMPORT = 10058] = "TEAM_IMPORT",e[e.TEAM_EXPORT = 10059] = "TEAM_EXPORT",e[e.TEST_REMOTE_MODULE = 10060] = "TEST_REMOTE_MODULE",e[e.BATTLE_ROOM = 10061] = "BATTLE_ROOM",e[e.CAREER_CHALLENGE = 10062] = "CAREER_CHALLENGE",e[e.SCIENCE_SWAP = 10063] = "SCIENCE_SWAP",e[e.HERO_PEAK_RECORD = 10064] = "HERO_PEAK_RECORD",e[e.QUENCH_LOCK = 10065] = "QUENCH_LOCK",e[e.BRIEF_REPOR = 10066] = "BRIEF_REPOR",e[e.SELECT_SERVER = 10067] = "SELECT_SERVER",e[e.TT_SIDEBTN = 10068] = "TT_SIDEBTN",e[e.LEGION_LEAGE_POINT = 10069] = "LEGION_LEAGE_POINT",e[e.CARD_ENTRY = 10070] = "CARD_ENTRY",e[e.QUALITY_SELECTION = 10071] = "QUALITY_SELECTION",e[e.MINI_GAME = 10072] = "MINI_GAME",e[e.MINI_GAME_ENTRY = 10073] = "MINI_GAME_ENTRY",e[e.BATTLE_ROOM_ENTRY = 10074] = "BATTLE_ROOM_ENTRY",e[e.TOURNAMENT = 10075] = "TOURNAMENT",e[e.MULTI_ROLE = 10076] = "MULTI_ROLE",e[e.INVITATIONCODE = 10077] = "INVITATIONCODE",e[e.SETTING = 10078] = "SETTING",e[e.SKY = 10079] = "SKY",e[e.SKYWAR = 10080] = "SKYWAR",e[e.FireCamp = 10081] = "FireCamp",e[e.BLESSING = 10082] = "BLESSING",e[e.SURVEY = 10083] = "SURVEY",e[e.SKY_HORSEPRO = 10084] = "SKY_HORSEPRO",e[e.PEARL_SYSTEM = 10085] = "PEARL_SYSTEM",e[e.GAME_SERVER = 10086] = "GAME_SERVER",e[e.MOON_BATTLE = 10087] = "MOON_BATTLE",e[e.WX_ACCOUNT = 10088] = "WX_ACCOUNT",e[e.TIME_COMBO_GIFT = 10089] = "TIME_COMBO_GIFT",e[e.SEASON = 10090] = "SEASON",e[e.SEASON_LEVEL = 10091] = "SEASON_LEVEL",e[e.SEASON_TOWER = 10092] = "SEASON_TOWER",e[e.SEASON_RESCUE = 10093] = "SEASON_RESCUE",e[e.SEASON_ADVENTURE = 10094] = "SEASON_ADVENTURE",e[e.SEASON_STONE = 10095] = "SEASON_STONE",e[e.SEASON_HERO = 10096] = "SEASON_HERO",e[e.SEASON_BOX = 10097] = "SEASON_BOX",e[e.SEASON_WEAPON = 10098] = "SEASON_WEAPON",e[e.SEASON_ARENA = 10099] = "SEASON_ARENA",e[e.SEASON_ACT = 10100] = "SEASON_ACT",e[e.SEASON_TECH = 10101] = "SEASON_TECH",e[e.BOSS_TOWER = 10102] = "BOSS_TOWER",e[e.OVERVIEW = 10103] = "OVERVIEW",e[e.LEAGUE_ENTRY = 10104] = "LEAGUE_ENTRY"
            }(n.ModuleType || (n.ModuleType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.INFERMAL_MOBS = 1] = "INFERMAL_MOBS", e[e.CHEST = 2] = "CHEST", e[e.BOSS = 3] = "BOSS"
            }(n.MonsterType || (n.MonsterType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.XIANSHEN = 1] = "XIANSHEN", e[e.BUHUO = 2] = "BUHUO", e[e.LINGBEI = 3] = "LINGBEI"
            }(n.MonthActivityType || (n.MonthActivityType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.XIANSHEN = 1] = "XIANSHEN", e[e.PUTONGBUHUO = 2] = "PUTONGBUHUO", e[e.GAOJIBUHUO = 3] = "GAOJIBUHUO", e[e.LINGBEI = 4] = "LINGBEI"
            }(n.MonthActivityTaskType || (n.MonthActivityTaskType = {})), function (e) {
                e[e.with = 1] = "with", e[e.without = 2] = "without"
            }(n.PackType || (n.PackType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.ATTR = 1] = "ATTR", e[e.ATTACK_DAMAGE = 2] = "ATTACK_DAMAGE", e[e.SINGLE_DAMAGE = 3] = "SINGLE_DAMAGE", e[e.BATTLE_DAMAGE = 4] = "BATTLE_DAMAGE", e[e.BATTLE_NUM = 5] = "BATTLE_NUM"
            }(n.PeakRecordType || (n.PeakRecordType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.FREE_QUENCH = 1] = "FREE_QUENCH", e[e.FREE_QUENCH_LOCK = 2] = "FREE_QUENCH_LOCK", e[e.GENIE_FREE_QUENCH = 3] = "GENIE_FREE_QUENCH", e[e.GENIE_FREE_QUENCH_LOCK = 4] = "GENIE_FREE_QUENCH_LOCK", e[e.BOTTLE_HELPER_TIME = 5] = "BOTTLE_HELPER_TIME"
            }(n.PrivilegeType || (n.PrivilegeType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.LV = 1] = "LV", e[e.TIME = 2] = "TIME"
            }(n.PushType || (n.PushType = {})), function (e) {
                e[e.DEFAULT = 0] = "DEFAULT", e[e.SINGLE = 1] = "SINGLE", e[e.MULTY = 2] = "MULTY", e[e.RANGE = 3] = "RANGE", e[e.FORCE = 4] = "FORCE"
            }(n.ChoiceType || (n.ChoiceType = {})), function (e) {
                e[e.DEFAULT = 0] = "DEFAULT", e[e.PLAYER = 1] = "PLAYER", e[e.BATTLE = 2] = "BATTLE", e[e.HERO = 3] = "HERO", e[e.POWER = 4] = "POWER", e[e.QUENCH = 5] = "QUENCH", e[e.SPEAK = 6] = "SPEAK", e[e.TEAM_BATTLE = 7] = "TEAM_BATTLE", e[e.BAG_STRENGTH = 8] = "BAG_STRENGTH", e[e.ARENA_DIFFICULTY = 9] = "ARENA_DIFFICULTY", e[e.POWER_LIMIT = 10] = "POWER_LIMIT", e[e.BAN = 11] = "BAN", e[e.NIGHTMARE = 12] = "NIGHTMARE"
            }(n.Settings || (n.Settings = {})), function (e) {
                e[e.DEFAULT = 0] = "DEFAULT", e[e.HP = 1] = "HP", e[e.ATTACK = 2] = "ATTACK", e[e.DEFENSE = 3] = "DEFENSE", e[e.PIERCE_R = 4] = "PIERCE_R"
            }(n.RobotSettings || (n.RobotSettings = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.FEATHER = 1] = "FEATHER", e[e.LIGHT = 2] = "LIGHT", e[e.HEAVY = 3] = "HEAVY"
            }(n.SeasonRankType || (n.SeasonRankType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.SEASONLV = 1] = "SEASONLV", e[e.SEASONDAMAGE = 2] = "SEASONDAMAGE", e[e.SEASONRANK = 3] = "SEASONRANK", e[e.SEASONPOINTDAMAGE = 4] = "SEASONPOINTDAMAGE", e[e.GETPOINTFISH = 5] = "GETPOINTFISH"
            }(n.HeroUnlockConditionType || (n.HeroUnlockConditionType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.WEAPON_DAMAGE = 1] = "WEAPON_DAMAGE", e[e.WEAPON_HEAL = 2] = "WEAPON_HEAL", e[e.CHANGE_RAGE = 3] = "CHANGE_RAGE", e[e.BUFF_ATTRIBUTE = 4] = "BUFF_ATTRIBUTE", e[e.BUFF_VALUE = 5] = "BUFF_VALUE", e[e.BUFF_PROBABILITY = 6] = "BUFF_PROBABILITY", e[e.WEAPON_ARMOR = 7] = "WEAPON_ARMOR", e[e.CLEAR_PROBABILITY = 8] = "CLEAR_PROBABILITY"
            }(n.SkillLevelUpKey || (n.SkillLevelUpKey = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.SELF_USE_SKILL = 1] = "SELF_USE_SKILL", e[e.HERO_USE_SKILL = 2] = "HERO_USE_SKILL", e[e.ATTACKED = 3] = "ATTACKED", e[e.LIFE_INCREASED = 4] = "LIFE_INCREASED", e[e.LIFE_LOSS = 5] = "LIFE_LOSS", e[e.BATTLE_BEGIN = 7] = "BATTLE_BEGIN", e[e.ROUND_BEGIN = 8] = "ROUND_BEGIN", e[e.ROUND_END = 9] = "ROUND_END", e[e.HERO_DEAD = 10] = "HERO_DEAD", e[e.SELF_ATTACK = 11] = "SELF_ATTACK", e[e.AFTER_DAMAGE = 12] = "AFTER_DAMAGE", e[e.BEFORE_BATTLE_BEGIN = 13] = "BEFORE_BATTLE_BEGIN", e[e.SELF_DEAD = 14] = "SELF_DEAD", e[e.ADD_BUFF_LABEL = 15] = "ADD_BUFF_LABEL", e[e.REMOVE_BUFF_LABEL = 16] = "REMOVE_BUFF_LABEL", e[e.BLOCKED = 17] = "BLOCKED", e[e.KILL_TARGET = 18] = "KILL_TARGET", e[e.SELF_USE_SKILL_COMPLETE = 19] = "SELF_USE_SKILL_COMPLETE", e[e.SELF_ATTACK_COMPLETE = 20] = "SELF_ATTACK_COMPLETE", e[e.RAGE_FULL = 21] = "RAGE_FULL", e[e.NORMAL = 22] = "NORMAL", e[e.SELF_DYING = 23] = "SELF_DYING", e[e.AFTER_TURN = 24] = "AFTER_TURN", e[e.ARMOR_DISAPPEAR = 25] = "ARMOR_DISAPPEAR", e[e.CRIT = 26] = "CRIT", e[e.CLICK = 27] = "CLICK", e[e.ENERGY_FULL = 28] = "ENERGY_FULL", e[e.BEFORE_ATTACKED = 29] = "BEFORE_ATTACKED", e[e.BEFORE_TURN = 30] = "BEFORE_TURN", e[e.NO_ATTACKED_FRIEND_HELP = 31] = "NO_ATTACKED_FRIEND_HELP", e[e.BEFORE_BATTLE_END = 32] = "BEFORE_BATTLE_END", e[e.SELF_PASSIVE = 33] = "SELF_PASSIVE", e[e.ARMOR_BROKEN = 34] = "ARMOR_BROKEN", e[e.BATTLE_BEGIN_WITH_HERO = 35] = "BATTLE_BEGIN_WITH_HERO", e[e.WHO_DEAD = 36] = "WHO_DEAD", e[e.BATTLE_BEFORE_WITH_HERO = 37] = "BATTLE_BEFORE_WITH_HERO", e[e.AFTER_ATTACK = 38] = "AFTER_ATTACK", e[e.BATTLE_END = 39] = "BATTLE_END", e[e.AFTER_HERO_DEAD = 40] = "AFTER_HERO_DEAD", e[e.AFTER_HELP_ATTACK = 41] = "AFTER_HELP_ATTACK", e[e.BEFORE_TURN_CHECK = 42] = "BEFORE_TURN_CHECK", e[e.SKILL_CALL = 43] = "SKILL_CALL", e[e.AFTER_ATTACKED = 44] = "AFTER_ATTACKED", e[e.SEND_BUFF_LABEL = 45] = "SEND_BUFF_LABEL", e[e.RAGE_DOWN = 46] = "RAGE_DOWN", e[e.BE_CRITED = 47] = "BE_CRITED", e[e.SP_TRIGE = 48] = "SP_TRIGE", e[e.AFTER_PICK = 49] = "AFTER_PICK", e[e.HEAL_ANY = 50] = "HEAL_ANY", e[e.AFTER_TURN_BEFORE_DIE = 101] = "AFTER_TURN_BEFORE_DIE", e[e.NOTE_BUFF_IMMUNITY_TO_ALL = 51] = "NOTE_BUFF_IMMUNITY_TO_ALL", e[e.NOTE_BUFF_IMMUNITY_SELF_SOURCE = 52] = "NOTE_BUFF_IMMUNITY_SELF_SOURCE", e[e.NOTE_BUFF_IMMUNITY_TO_USER = 53] = "NOTE_BUFF_IMMUNITY_TO_USER", e[e.BUFF_PENDING = 54] = "BUFF_PENDING"
            }(n.TriggerType || (n.TriggerType = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.COMPARE_LIFE = 1] = "COMPARE_LIFE", e[e.WHO_EXIST = 2] = "WHO_EXIST", e[e.WHO_DEAD = 3] = "WHO_DEAD", e[e.MATCH_CAMP = 4] = "MATCH_CAMP", e[e.MATCH_BUFF_TAG = 5] = "MATCH_BUFF_TAG", e[e.MATCH_BLOCK = 6] = "MATCH_BLOCK", e[e.MATCH_SKILL_TYPE = 7] = "MATCH_SKILL_TYPE", e[e.COMPARE_ROUND = 8] = "COMPARE_ROUND", e[e.COMPARE_DAMAGE_HP_SCALE = 9] = "COMPARE_DAMAGE_HP_SCALE", e[e.COMPARE_DAMAGE_VALUE = 10] = "COMPARE_DAMAGE_VALUE", e[e.COMPARE_LIVE_HERO = 11] = "COMPARE_LIVE_HERO", e[e.COMPARE_DAMAGE_TYPE = 12] = "COMPARE_DAMAGE_TYPE", e[e.MATCH_BUFF_TYPE = 13] = "MATCH_BUFF_TYPE", e[e.AND = 14] = "AND", e[e.OR = 15] = "OR", e[e.INCLUDE_TAGS = 16] = "INCLUDE_TAGS", e[e.EXCLUDE_TAGS = 17] = "EXCLUDE_TAGS", e[e.COMPARE_RAGE = 18] = "COMPARE_RAGE", e[e.COMPARE_ENERGY = 19] = "COMPARE_ENERGY", e[e.RANDOM = 20] = "RANDOM", e[e.INCLUDE_SELF = 21] = "INCLUDE_SELF", e[e.EXCLUDE_SELF = 22] = "EXCLUDE_SELF", e[e.COMPARE_ATTR = 23] = "COMPARE_ATTR", e[e.MATCH_BUFF_ID = 24] = "MATCH_BUFF_ID", e[e.DAMAGE_COMPARE_ATTR = 25] = "DAMAGE_COMPARE_ATTR", e[e.BUFF_LAYER_POSSIBLE = 26] = "BUFF_LAYER_POSSIBLE", e[e.MATCH_BUFF_ATTR = 27] = "MATCH_BUFF_ATTR", e[e.IS_WIN = 28] = "IS_WIN", e[e.BUFF_IS_BY_SELF = 29] = "BUFF_IS_BY_SELF", e[e.SELF_DEAD = 30] = "SELF_DEAD", e[e.COMPARE_ARMOR = 31] = "COMPARE_ARMOR", e[e.ATTR_TO_POSSIBLE = 32] = "ATTR_TO_POSSIBLE", e[e.IS_HELPER = 33] = "IS_HELPER", e[e.HAS_HEAL = 34] = "HAS_HEAL", e[e.BUFF_IS_HIT = 35] = "BUFF_IS_HIT"
            }(n.TriggerConditionType || (n.TriggerConditionType = {})), function (e) {
                e[e.FORMATION = 1] = "FORMATION", e[e.FRONT_ROW = 2] = "FRONT_ROW", e[e.BACK_ROW = 3] = "BACK_ROW", e[e.LIFE = 4] = "LIFE", e[e.LIFE_SCALE = 5] = "LIFE_SCALE", e[e.LABEL = 6] = "LABEL", e[e.SELF = 7] = "SELF", e[e.RANDOM = 8] = "RANDOM", e[e.ATTACKER = 9] = "ATTACKER", e[e.WORK = 10] = "WORK", e[e.CLUB = 11] = "CLUB", e[e.ATTACK = 12] = "ATTACK", e[e.EX_SELF = 13] = "EX_SELF", e[e.SPEED = 14] = "SPEED", e[e.HERO = 15] = "HERO", e[e.FROZEN = 16] = "FROZEN"
            }(n.PickType || (n.PickType = {})), function (e) {
                e[e.ALL = 1] = "ALL", e[e.FRONT_ROW = 2] = "FRONT_ROW", e[e.BACK_ROW = 3] = "BACK_ROW", e[e.LABEL = 4] = "LABEL", e[e.SELF = 5] = "SELF", e[e.ATTACKER = 6] = "ATTACKER", e[e.WORK = 7] = "WORK", e[e.CLUB = 8] = "CLUB", e[e.HERO = 9] = "HERO", e[e.DEATH = 10] = "DEATH", e[e.LIFE_LESS = 11] = "LIFE_LESS", e[e.LIFE_GREATER = 12] = "LIFE_GREATER", e[e.LIFE_RANGE = 13] = "LIFE_RANGE", e[e.LINKED = 14] = "LINKED", e[e.SIDES = 15] = "SIDES", e[e.WHO_BE_HELPED = 16] = "WHO_BE_HELPED", e[e.HAS_SKILL = 17] = "HAS_SKILL", e[e.HAS_BUFFID = 18] = "HAS_BUFFID"
            }(n.PickFilter || (n.PickFilter = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.RANDOM = 1] = "RANDOM", e[e.FORMATION = 2] = "FORMATION", e[e.LIFE = 3] = "LIFE", e[e.LIFE_SCALE = 4] = "LIFE_SCALE", e[e.ATTACK = 5] = "ATTACK", e[e.SPEED = 6] = "SPEED", e[e.FROZEN = 7] = "FROZEN"
            }(n.PickSort || (n.PickSort = {})), function (e) {
                e[e.DESC = 0] = "DESC", e[e.ASC = 1] = "ASC", e[e.RANDOM = 2] = "RANDOM"
            }(n.PickOrder || (n.PickOrder = {})), function (e) {
                e[e.FRIEND = 1] = "FRIEND", e[e.ENEMY = 2] = "ENEMY", e[e.ALL = 3] = "ALL"
            }(n.CampType || (n.CampType = {})), function (e) {
                e[e.ATTACK = 1] = "ATTACK", e[e.ACTIVE = 2] = "ACTIVE", e[e.PASSIVE = 3] = "PASSIVE", e[e.ATTR = 4] = "ATTR"
            }(n.SkillType || (n.SkillType = {})), function (e) {
                e[e.ATTACK = 1] = "ATTACK", e[e.SKILL = 2] = "SKILL", e[e.HEAL = 3] = "HEAL", e[e.HEAL_SELF_ATTACK = 4] = "HEAL_SELF_ATTACK", e[e.HEAL_LOSE_LIFE = 5] = "HEAL_LOSE_LIFE", e[e.BUFF = 6] = "BUFF", e[e.STRIKE_BACK = 7] = "STRIKE_BACK", e[e.CHANGE_RAGE = 8] = "CHANGE_RAGE", e[e.CHANGE_ATTACK_TARGET = 9] = "CHANGE_ATTACK_TARGET", e[e.SUCK_BLOOD = 10] = "SUCK_BLOOD", e[e.CHANGE_ATTRIBUTE = 11] = "CHANGE_ATTRIBUTE", e[e.ADD_SKILL = 12] = "ADD_SKILL", e[e.ADD_EFFECT = 13] = "ADD_EFFECT", e[e.REAL_DAMAGE = 14] = "REAL_DAMAGE", e[e.REMOVE_BUFF = 15] = "REMOVE_BUFF", e[e.COMBO = 16] = "COMBO", e[e.DIVIDE_DAMAGE = 17] = "DIVIDE_DAMAGE", e[e.DETONATE_DOT = 18] = "DETONATE_DOT", e[e.ADD_ARMOR = 19] = "ADD_ARMOR", e[e.ARMOR_DAMAGE = 20] = "ARMOR_DAMAGE", e[e.REMOVE_ARMOR = 21] = "REMOVE_ARMOR", e[e.RANDOM_BUFF = 22] = "RANDOM_BUFF", e[e.DEBUFF_DAMAGE = 23] = "DEBUFF_DAMAGE", e[e.WEAPON_DAMAGE = 24] = "WEAPON_DAMAGE", e[e.WEAPON_HEAL = 25] = "WEAPON_HEAL", e[e.DAMAGE_TO_DOT = 26] = "DAMAGE_TO_DOT", e[e.DIVIDE_ATTR_DAMAGE = 27] = "DIVIDE_ATTR_DAMAGE", e[e.COMBO2 = 28] = "COMBO2", e[e.CONDITION_ATTR_BUFF = 29] = "CONDITION_ATTR_BUFF", e[e.CONDITION_ATTR_DAMAGE = 30] = "CONDITION_ATTR_DAMAGE", e[e.DAMAGE_TO_ARMOR = 31] = "DAMAGE_TO_ARMOR", e[e.LIFE_TO_DAMAGE = 32] = "LIFE_TO_DAMAGE", e[e.LOSE_CURRENT_LIFE = 33] = "LOSE_CURRENT_LIFE", e[e.ATTACK_REMOVE_BUFF = 34] = "ATTACK_REMOVE_BUFF", e[e.REBIRTH = 35] = "REBIRTH", e[e.SUMMON_MONSTER = 36] = "SUMMON_MONSTER", e[e.SUMMON_RANDOM_MONSTER = 36] = "SUMMON_RANDOM_MONSTER", e[e.ELIMINATE = 37] = "ELIMINATE", e[e.SET_DEAD_ANI = 38] = "SET_DEAD_ANI", e[e.FAST_MOVE_DAMAGE = 39] = "FAST_MOVE_DAMAGE", e[e.BUFF_LAYERS_DAMAGE = 40] = "BUFF_LAYERS_DAMAGE", e[e.REMOVE_SKILL = 41] = "REMOVE_SKILL", e[e.CHANGE_AVATAR = 42] = "CHANGE_AVATAR", e[e.DEATH_RATTLE = 43] = "DEATH_RATTLE", e[e.CHANGE_RAGE_ATTRIBUTE = 44] = "CHANGE_RAGE_ATTRIBUTE", e[e.CHANGE_MAX_LIFE = 45] = "CHANGE_MAX_LIFE", e[e.BUFF_RANDOM_VALUE = 46] = "BUFF_RANDOM_VALUE", e[e.HEAL_LIFE_BY_ARMOR = 47] = "HEAL_LIFE_BY_ARMOR", e[e.DAMAGE_LOSE_LIFE = 48] = "DAMAGE_LOSE_LIFE", e[e.NORMAL_DAMAGE = 49] = "NORMAL_DAMAGE", e[e.COMBO_ADV = 50] = "COMBO_ADV", e[e.CHANGE_HP = 51] = "CHANGE_HP", e[e.RANDOM_ATTACK = 52] = "RANDOM_ATTACK", e[e.RECOVER_AVATAR = 53] = "RECOVER_AVATAR", e[e.CHANGE_BEHAVIOR = 54] = "CHANGE_BEHAVIOR", e[e.ADD_MODIFY_BUFF = 55] = "ADD_MODIFY_BUFF", e[e.RESET_LIFE = 56] = "RESET_LIFE", e[e.REVERT_LIFE = 57] = "REVERT_LIFE", e[e.DIVIDE_LIFE = 58] = "DIVIDE_LIFE", e[e.ATTR_ABS_DAMAGE = 60] = "ATTR_ABS_DAMAGE", e[e.ADD_TAG = 61] = "ADD_TAG", e[e.REMOVE_TAG = 62] = "REMOVE_TAG", e[e.ENABLE_SKILL = 63] = "ENABLE_SKILL", e[e.DISABLE_SKILL = 64] = "DISABLE_SKILL", e[e.ENABLE_PICKUP = 65] = "ENABLE_PICKUP", e[e.DISABLE_PICKUP = 66] = "DISABLE_PICKUP", e[e.TRIGGER_RANDOM_SKILL = 67] = "TRIGGER_RANDOM_SKILL", e[e.SUMMON_BY_ARRAY = 68] = "SUMMON_BY_ARRAY", e[e.CHANGE_AVATAR_BEHAVIOR = 69] = "CHANGE_AVATAR_BEHAVIOR", e[e.CHANGE_ENERGY = 70] = "CHANGE_ENERGY", e[e.CHANGE_CLEAR_ENERGY = 71] = "CHANGE_CLEAR_ENERGY", e[e.ADD_RAGE_BY_DAMAGE = 72] = "ADD_RAGE_BY_DAMAGE", e[e.ADD_RAGE_BY_ATTACK = 73] = "ADD_RAGE_BY_ATTACK", e[e.SUB_RAGE_BY_ACTIVE = 74] = "SUB_RAGE_BY_ACTIVE", e[e.BUFF_UP_BY_BUFF = 75] = "BUFF_UP_BY_BUFF", e[e.ADD_EFFECT_DAMAGE = 76] = "ADD_EFFECT_DAMAGE", e[e.REAL_DAMAGE_EXTRA = 77] = "REAL_DAMAGE_EXTRA", e[e.EXTRA_MOVE = 78] = "EXTRA_MOVE", e[e.COUNTER_ATTACK = 79] = "COUNTER_ATTACK", e[e.FAKE_TRIGGER = 80] = "FAKE_TRIGGER", e[e.ADD_BUFF_ROUND = 81] = "ADD_BUFF_ROUND", e[e.ADD_BUFF_BY_EXTRA_RAGE = 82] = "ADD_BUFF_BY_EXTRA_RAGE", e[e.CHANGE_RAGE_LIMIT = 83] = "CHANGE_RAGE_LIMIT", e[e.REMOVE_RANDOM_BUFF = 84] = "REMOVE_RANDOM_BUFF", e[e.CHANGE_ATTRIBUTE_BY_SELF = 85] = "CHANGE_ATTRIBUTE_BY_SELF", e[e.CHANGE_BUFF_CANCLEAR = 86] = "CHANGE_BUFF_CANCLEAR", e[e.REFRESH_RAGE_ADD = 87] = "REFRESH_RAGE_ADD", e[e.DO_BUFF_COMMAND = 88] = "DO_BUFF_COMMAND", e[e.STUDY_SKILLSCHEME = 89] = "STUDY_SKILLSCHEME", e[e.CHANGE_EFFECT_ACTION = 90] = "CHANGE_EFFECT_ACTION", e[e.ADD_EFFECT_FRONT = 91] = "ADD_EFFECT_FRONT", e[e.DIVIDE_HEAL = 92] = "DIVIDE_HEAL", e[e.HEAL_TO_DAMAGE = 93] = "HEAL_TO_DAMAGE", e[e.BUFF_ATTRIBUTE_BY_SELF = 94] = "BUFF_ATTRIBUTE_BY_SELF", e[e.CHANGE_DAMAGE_TYPE = 95] = "CHANGE_DAMAGE_TYPE", e[e.DAMAGE_LIMIT = 96] = "DAMAGE_LIMIT", e[e.DO_SKILL_EFFECT = 97] = "DO_SKILL_EFFECT", e[e.CHANGE_EFFECT_BULLET = 98] = "CHANGE_EFFECT_BULLET", e[e.LEVEL_OVER_WAIT = 99] = "LEVEL_OVER_WAIT", e[e.DAMAGE_TO_HOT = 100] = "DAMAGE_TO_HOT", e[e.TRIGE_SKILL_EFFECTS = 101] = "TRIGE_SKILL_EFFECTS",e[e.CHANGE_PICK = 102] = "CHANGE_PICK",e[e.CAL_EXTRA_DAMAGE = 103] = "CAL_EXTRA_DAMAGE",e[e.DATA_GET_ACTOR = 1001] = "DATA_GET_ACTOR",e[e.DATA_GET_BUFF = 1002] = "DATA_GET_BUFF",e[e.DATA_GET_CURRENT_BUFF = 1003] = "DATA_GET_CURRENT_BUFF",e[e.DATA_SET_MAP = 1004] = "DATA_SET_MAP",e[e.DATA_GET_MAP = 1005] = "DATA_GET_MAP",e[e.DATA_GET_ATTRIBUTE = 1006] = "DATA_GET_ATTRIBUTE",e[e.DATA_SET_ATTRIBUTE = 1007] = "DATA_SET_ATTRIBUTE",e[e.DATA_GET_ARMOR = 1008] = "DATA_GET_ARMOR",e[e.DATA_SET_ARMOR = 1009] = "DATA_SET_ARMOR",e[e.DATA_GET_RAGE = 1010] = "DATA_GET_RAGE",e[e.DATA_SET_RAGE = 1011] = "DATA_SET_RAGE",e[e.DATA_GET_ARRAY_LENGTH = 1012] = "DATA_GET_ARRAY_LENGTH",e[e.DATA_GET_NOTE = 1013] = "DATA_GET_NOTE",e[e.DATA_SET_NOTE = 1014] = "DATA_SET_NOTE",e[e.DATA_SET_BUFF = 1015] = "DATA_SET_BUFF",e[e.DATA_SET_OP = 1016] = "DATA_SET_OP",e[e.DATA_CACL_DAMAGE = 1017] = "DATA_CACL_DAMAGE",e[e.DATA_CACL_HEAL = 1018] = "DATA_CACL_HEAL",e[e.DATA_GET_PROB = 1019] = "DATA_GET_PROB",e[e.DATA_SET_NUM = 1020] = "DATA_SET_NUM",e[e.DATA_GET_BUFF_SUBSET = 1021] = "DATA_GET_BUFF_SUBSET",e[e.DATA_CLEAR_BUFF_ARRAY = 1022] = "DATA_CLEAR_BUFF_ARRAY",e[e.DATA_EXECUTE_BUFF_COMMAND = 1023] = "DATA_EXECUTE_BUFF_COMMAND",e[e.DATA_GET_RECEIVED_DAMAGE = 1024] = "DATA_GET_RECEIVED_DAMAGE",e[e.DATA_SET_RECEIVED_DAMAGE = 1025] = "DATA_SET_RECEIVED_DAMAGE",e[e.DATA_SET_FAKE_USER = 1026] = "DATA_SET_FAKE_USER",e[e.DATA_TRY_BLOCK = 1027] = "DATA_TRY_BLOCK",e[e.DATA_GET_RECORD = 1028] = "DATA_GET_RECORD",e[e.DATA_CHANGE_BUFF_HIT = 1029] = "DATA_CHANGE_BUFF_HIT"
            }(n.SkillEffect || (n.SkillEffect = {})), function (e) {
                e[e.NONE = 0] = "NONE", e[e.BUFF = 1] = "BUFF", e[e.DEBUFF = 2] = "DEBUFF", e[e.HOT = 4] = "HOT", e[e.DOT = 8] = "DOT", e[e.POSITIVE_TAG = 16] = "POSITIVE_TAG", e[e.NEGATIVE_TAG = 32] = "NEGATIVE_TAG", e[e.POSITIVE = 21] = "POSITIVE", e[e.NEGATIVE = 42] = "NEGATIVE", e[e.ALL = 63] = "ALL"
            }(n.BuffType || (n.BuffType = {})),function (e) {
                e[e.NONE = 0] = "NONE", e[e.DIZZY = 1] = "DIZZY", e[e.FROZEN = 2] = "FROZEN", e[e.SILENT = 3] = "SILENT", e[e.BLEED = 4] = "BLEED", e[e.POISON = 5] = "POISON", e[e.BURN = 6] = "BURN", e[e.UNDEAD = 7] = "UNDEAD", e[e.TERRIFYING = 8] = "TERRIFYING", e[e.BLACK_GAS = 9] = "BLACK_GAS", e[e.WHITE_GAS = 10] = "WHITE_GAS", e[e.ARMOR_BAN = 11] = "ARMOR_BAN", e[e.MASSIVE = 12] = "MASSIVE", e[e.FIRE_SEA = 13] = "FIRE_SEA", e[e.TONGXIN = 14] = "TONGXIN", e[e.TONGXIN_ATTACK = 15] = "TONGXIN_ATTACK", e[e.FIRST_ATTACK = 16] = "FIRST_ATTACK", e[e.REMOVE_BUFF_BAN = 17] = "REMOVE_BUFF_BAN", e[e.ICE = 18] = "ICE", e[e.DAMAGE_IMMUNITY = 19] = "DAMAGE_IMMUNITY", e[e.ICE_RESPAWN = 20] = "ICE_RESPAWN", e[e.HEAL_BAN = 21] = "HEAL_BAN", e[e.JINGTAO_BAN = 22] = "JINGTAO_BAN", e[e.MOVE_BAN = 23] = "MOVE_BAN"
            }(n.BuffLabel || (n.BuffLabel = {})),function (e) {
                e[e.NONE = 0] = "NONE", e[e.DIZZY = 1] = "DIZZY", e[e.FROZEN = 2] = "FROZEN", e[e.SILENT = 3] = "SILENT", e[e.BLEED = 4] = "BLEED", e[e.POISON = 5] = "POISON", e[e.BURN = 6] = "BURN", e[e.UNDEAD = 7] = "UNDEAD", e[e.TERRIFYING = 8] = "TERRIFYING", e[e.BLACK_GAS = 9] = "BLACK_GAS", e[e.WHITE_GAS = 10] = "WHITE_GAS", e[e.ARMOR_BAN = 11] = "ARMOR_BAN", e[e.MASSIVE = 12] = "MASSIVE", e[e.FIRE_SEA = 13] = "FIRE_SEA", e[e.TONGXIN = 14] = "TONGXIN", e[e.TONGXIN_ATTACK = 15] = "TONGXIN_ATTACK", e[e.FIRST_ATTACK = 16] = "FIRST_ATTACK", e[e.REMOVE_BUFF_BAN = 17] = "REMOVE_BUFF_BAN", e[e.ICE = 18] = "ICE", e[e.DAMAGE_IMMUNITY = 19] = "DAMAGE_IMMUNITY", e[e.ICE_RESPAWN = 20] = "ICE_RESPAWN", e[e.HEAL_BAN = 21] = "HEAL_BAN", e[e.JINGTAO_BAN = 22] = "JINGTAO_BAN", e[e.MOVE_BAN = 23] = "MOVE_BAN", e[e.MOONLIGHT = 24] = "MOONLIGHT", e[e.MARK = 25] = "MARK", e[e.BUFF_DAMAGE_IMMUNITY = 26] = "BUFF_DAMAGE_IMMUNITY", e[e.MARK_TWO = 27] = "MARK_TWO"
            }(n.Tags || (n.Tags = {})),function (e) {
                e[e.NONE = 0] = "NONE", e[e.HEAD_BOARD = 1] = "HEAD_BOARD", e[e.TOP_MIDDLE = 2] = "TOP_MIDDLE", e[e.MIDDLE = 3] = "MIDDLE", e[e.BOTTOM_MIDDLE = 4] = "BOTTOM_MIDDLE", e[e.LEFT_TOP = 5] = "LEFT_TOP"
            }(n.BuffSlot || (n.BuffSlot = {})),function (e) {
                e[e.OR = 0] = "OR", e[e.AND = 1] = "AND", e[e.LTE = 2] = "LTE", e[e.GTE = 3] = "GTE", e[e.MOD = 4] = "MOD", e[e.NOT = 5] = "NOT", e[e.ADD = 6] = "ADD", e[e.SUB = 7] = "SUB", e[e.MUL = 8] = "MUL", e[e.DIV = 9] = "DIV", e[e.MAX = 10] = "MAX", e[e.MIN = 11] = "MIN"
            }(n.OperatorType || (n.OperatorType = {})),function (e) {
                e[e.NONE = -1] = "NONE", e[e.DAMAGE = 0] = "DAMAGE", e[e.TREATMENT = 1] = "TREATMENT", e[e.CRIT = 2] = "CRIT", e[e.BLOCK = 3] = "BLOCK", e[e.BLEED = 4] = "BLEED", e[e.POISON = 5] = "POISON", e[e.BURN = 6] = "BURN", e[e.TERRIFYING = 7] = "TERRIFYING", e[e.TONGXIN = 8] = "TONGXIN", e[e.HELP = 9] = "HELP", e[e.TIEXUE = 10] = "TIEXUE", e[e.QINGNANG = 11] = "QINGNANG"
            }(n.DamageType || (n.DamageType = {})),function (e) {
                e[e.MOREN = 0] = "MOREN", e[e.MAJIU = 1] = "MAJIU", e[e.YUEGONG = 2] = "YUEGONG", e[e.GUISHU = 3] = "GUISHU"
            }(n.SkyBuildingType || (n.SkyBuildingType = {})),function (e) {
                e[e.NONE = 0] = "NONE", e[e.HORSE = 1] = "HORSE", e[e.MOON = 2] = "MOON"
            }(n.SkyBookType || (n.SkyBookType = {})),function (e) {
                e[e.Fuka = 1] = "Fuka", e[e.Exchange = 2] = "Exchange", e[e.CumulativeCharge = 3] = "CumulativeCharge"
            }(n.SpringActType || (n.SpringActType = {})),function (e) {
                e[e.NONE = 0] = "NONE", e[e.JUDGMENT = 1] = "JUDGMENT", e[e.CHOICE = 2] = "CHOICE"
            }(n.QuestionType || (n.QuestionType = {})),function (e) {
                e[e.NONE = 0] = "NONE", e[e.ANSWER = 1] = "ANSWER", e[e.TASK = 2] = "TASK", e[e.MOVIE_TASK = 3] = "MOVIE_TASK"
            }(n.StudyClothesType || (n.StudyClothesType = {})),function (e) {
                e[e.NONE = 0] = "NONE", e[e.A = 1] = "A", e[e.B = 2] = "B"
            }(n.OptionType || (n.OptionType = {})),function (e) {
                e[e.NONE = 0] = "NONE", e[e.NORMAL = 1] = "NORMAL", e[e.MOVIE = 2] = "MOVIE"
            }(n.StudyActType || (n.StudyActType = {})),function (e) {
                e[e.MAIN_LINE = 0] = "MAIN_LINE", e[e.SIDE_LINE = 1] = "SIDE_LINE"
            }(n.TaskType || (n.TaskType = {})),function (e) {
                e[e.NONE = 0] = "NONE", e[e.COMPLETE_LAST_TASK = 1] = "COMPLETE_LAST_TASK", e[e.FIRST_LANDING = 2] = "FIRST_LANDING"
            }(n.TaskTriggerType || (n.TaskTriggerType = {})),function (e) {
                e[e.HISTRY = 0] = "HISTRY", e[e.REAL_TIME = 1] = "REAL_TIME"
            }(n.TaskTriggerTimeType || (n.TaskTriggerTimeType = {})),function (e) {
                e[e.NONE = 0] = "NONE", e[e.KILL_ENEMY = 1] = "KILL_ENEMY", e[e.CLICK_SCREEN = 2] = "CLICK_SCREEN", e[e.LORD_UP = 3] = "LORD_UP", e[e.LORD_ADVANCE = 4] = "LORD_ADVANCE", e[e.HERO_NUMBER = 5] = "HERO_NUMBER", e[e.HERO_NUMBER_GOLDEN = 6] = "HERO_NUMBER_GOLDEN", e[e.HERO_NUMBER_RED = 7] = "HERO_NUMBER_RED", e[e.HERO_LEVEL_UP = 8] = "HERO_LEVEL_UP", e[e.HERO_BATTLE = 9] = "HERO_BATTLE", e[e.TOTAL_LEVEL = 10] = "TOTAL_LEVEL", e[e.SINGLE_RECRUIT = 11] = "SINGLE_RECRUIT", e[e.MULTIPLE_RECRUIT = 12] = "MULTIPLE_RECRUIT", e[e.HERO_STAR_UP = 13] = "HERO_STAR_UP", e[e.STAR_UP_MULTI = 14] = "STAR_UP_MULTI", e[e.STAR_UP_GOLDEN = 15] = "STAR_UP_GOLDEN", e[e.STAR_UP_PINK = 16] = "STAR_UP_PINK", e[e.STAR_UP_YELLOW = 17] = "STAR_UP_YELLOW", e[e.WEAR_EQUIP = 18] = "WEAR_EQUIP", e[e.WEAR_EQUIP_RED = 19] = "WEAR_EQUIP_RED", e[e.WEAR_EQUIP_GOLDEN = 20] = "WEAR_EQUIP_GOLDEN", e[e.MINE_LINE_PASS = 21] = "MINE_LINE_PASS", e[e.TOTAL_CE = 22] = "TOTAL_CE", e[e.EQUIP_NUMBER = 23] = "EQUIP_NUMBER", e[e.EQUIP_LV = 24] = "EQUIP_LV", e[e.TOTAL_EQUIP_LV = 25] = "TOTAL_EQUIP_LV", e[e.COIN_NUMBER = 26] = "COIN_NUMBER", e[e.OPEN_QINGTONG = 27] = "OPEN_QINGTONG", e[e.OPEN_BAIYIN = 28] = "OPEN_BAIYIN", e[e.OPEN_HUANGJIN = 29] = "OPEN_HUANGJIN", e[e.OPEN_BOJIN = 30] = "OPEN_BOJIN", e[e.OPEN_ZUANSHI = 31] = "OPEN_ZUANSHI", e[e.OPEN_BOX = 32] = "OPEN_BOX", e[e.ACHIVE_REWAD = 33] = "ACHIVE_REWAD", e[e.RECRUIT_NUMBER = 34] = "RECRUIT_NUMBER", e[e.EQUIPNEW_LV = 35] = "EQUIPNEW_LV", e[e.EQUIPNEW_UP = 36] = "EQUIPNEW_UP", e[e.EQUIPNEW_LV_RED = 37] = "EQUIPNEW_LV_RED", e[e.EQUIPNEW_LV_ORANGE = 38] = "EQUIPNEW_LV_ORANGE", e[e.EQUIPNEW_LV_PURPLE = 39] = "EQUIPNEW_LV_PURPLE", e[e.EQUIPNEW_LV_BLUE = 40] = "EQUIPNEW_LV_BLUE"
            }(n.TaskCompleteType || (n.TaskCompleteType = {})),function (e) {
                e[e.CLOSE = 1] = "CLOSE", e[e.OPEN = 2] = "OPEN"
            }(n.TestType || (n.TestType = {})),function (e) {
                e.DEFAULT = "TournamentCondition_0", e.QUENCH = "TournamentCondition_1", e.ARTIFACT_GOLD = "TournamentCondition_2", e.ARTIFACT_SPECIAl = "TournamentCondition_3", e.LORD_WEAPON = "TournamentCondition_4", e.LEGION_SCIENCE_NORMAL = "TournamentCondition_5", e.LEGION_SCIENCE_HIGH = "TournamentCondition_6", e.EQUIP = "TournamentCondition_7", e.TRUMP = "TournamentCondition_8", e.VIP = "TournamentCondition_9", e.EQUIP_SET = "TournamentCondition_10", e.LORD_ABS = "TournamentCondition_11", e.LORD_PRE = "TournamentCondition_12", e.AWAKE_SKILL = "TournamentCondition_13", e.HERO_SKIN = "TournamentCondition_14", e.HERO_MEDALLION = "TournamentCondition_15", e.HERO = "TournamentCondition_16"
            }(n.TournamentCondition || (n.TournamentCondition = {})),function (e) {
                e[e.NONE = 0] = "NONE", e[e.DIMOND = 1] = "DIMOND", e[e.COIN_PACK = 2] = "COIN_PACK", e[e.COIN_GET = 3] = "COIN_GET", e[e.BATTLE_COIN = 4] = "BATTLE_COIN", e[e.ATTACK = 5] = "ATTACK", e[e.HP = 6] = "HP", e[e.ACCTIVE_ATTACK = 7] = "ACCTIVE_ATTACK", e[e.POSSITIVE_DMG = 8] = "POSSITIVE_DMG", e[e.FRIENDS_NUMBER_UP = 9] = "FRIENDS_NUMBER_UP", e[e.STORE_TIMES = 10] = "STORE_TIMES", e[e.COIN_TIME = 11] = "COIN_TIME", e[e.TOWER_TIMES = 12] = "TOWER_TIMES", e[e.TEAM_SLOT = 13] = "TEAM_SLOT"
            }(n.VipBenefitType || (n.VipBenefitType = {})),function (e) {
                e[e.NONE = 0] = "NONE", e[e.VIP = 1] = "VIP", e[e.WEEK_CARD = 2] = "WEEK_CARD", e[e.MONTH_CARD = 3] = "MONTH_CARD", e[e.FOREVER_CARD = 4] = "FOREVER_CARD"
            }(n.Benefit || (n.Benefit = {}));
            var o = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.GoodsList = o;
            var i = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HorseproAttrConf = i;
            var a = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.InvitationCodeReward = a;
            var s = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.StateConf = s;
            var c = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LeagueGroupConf = c;
            var u = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.LegionCodeConstant = u;
            var l = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionCodeConf = l;
            var f = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionMemberCodeConf = f;
            var d = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionLeagueMarqueeConf = d;
            var p = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarBossConf = p;
            var h = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarBuildingConf = h;
            var g = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarCheerConf = g;
            var m = function () {
                function e() {
                }

                return e.getByPosition = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.position);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.position, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarCityConf = m;
            var _ = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarPointConf = _;
            var v = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarPreConf = v;
            var E = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarRankConf = E;
            var y = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarThirdPointConf = y;
            var S = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MatchTeam = S;
            var C = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.NightMare = C;
            var A = function () {
                function e() {
                }

                return e.getByBossId = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.killReward = r(a.killReward, [0, st], 0), i.weekReward = r(a.weekReward, [0, st], 0);
                        var s = e.map.get(i.bossId);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.bossId, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.NightMareMonster = A;
            var T = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.CompassReward = r(a.CompassReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.CompassReward = T;
            var b = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.itemBonus = r(a.itemBonus, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.NightMareBook = b;
            var I = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.attrs = r(a.attrs, [0, at], 0), i.attrsLimit = r(a.attrsLimit, [0, at], 0), i.returnItem = r(a.returnItem, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonArtifactConf = I;
            var w = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ArtifactDescConf = w;
            var O = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.lvReward = r(a.lvReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonLvRewardConf = O;
            var R = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.SeasonRescueConstant = R;
            var M = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.killReward = r(a.killReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonRescueMonster = M;
            var L = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.bossReward = r(a.bossReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonTowerConf = L;
            var N = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.towerReward = r(a.towerReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonTowerReward = N;
            var D = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.dayReward = r(a.dayReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonTowerRankReward = D;
            var P = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonTowerRank = P;
            var B = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TowerStageConf = B;
            var x = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SkillEffectSort = x;
            var G = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SkyProConf = G;
            var U = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.AchievementConf = U;
            var H = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.rewards = r(a.rewards, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.AchievementTaskList = H;
            var k = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.killReward = r(a.killReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActBossConf = k;
            var F = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.killReward = r(a.killReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActHideBossConf = F;
            var j = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActCardTowerConf = j;
            var K = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActCardTowerShowConf = K;
            var V = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActCardTowerRewardConf = V;
            var W = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActCardTowerRankRewardConf = W;
            var Y = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.basisAttrs = r(a.basisAttrs, [0, at], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActCardTowerEquipConf = Y;
            var q = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.merchandise = r(a.merchandise, [st], 0), i.condition = r(a.condition, [0, lt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActCardTowerShopConf = q;
            var z = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActConstantConf = z;
            var Q = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.DragonBoatConf = Q;
            var X = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.DragonBoatLegionConf = X;
            var J = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.ArenaBattlePassReward = r(a.ArenaBattlePassReward, [0, st], 0), i.fuKaRewardDisplay = r(a.fuKaRewardDisplay, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActFestivalConf = J;
            var Z = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ExchangeActConf = Z;
            var $ = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.merchandise = r(a.merchandise, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActMerchandiseConf = $;
            var ee = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BingoConf = ee;
            var te = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.lineReward = r(a.lineReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BingoRewardConf = te;
            var ne = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.bingoReward = r(a.bingoReward, [0, st], 0), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MineConf = ne;
            var re = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ProgressBarConf = re;
            var oe = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.fuKaReward = r(a.fuKaReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.FuKaActConf = oe;
            var ie = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.chargeReward = r(a.chargeReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.CumulativeChargeActConf = ie;
            var ae = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TreasureConf = ae;
            var se = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.bingoReward = r(a.bingoReward, [st], 0), i.GoldenBoxReward = r(a.GoldenBoxReward, [0, st], 0), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MonopolyConf = se;
            var ce = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.bingoReward = r(a.bingoReward, [0, st], 0), i.innerReward = r(a.innerReward, [0, st], 0), i.middleReward = r(a.middleReward, [0, st], 0), i.outerReward = r(a.outerReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.EGameConf = ce;
            var ue = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.CheerConf = ue;
            var le = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.cheerReward = r(a.cheerReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.CheerRewardConf = le;
            var fe = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.fuKaRewardDisplay = r(a.fuKaRewardDisplay, [st], 0), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.VoteConf = fe;
            var de = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.KillBossAchievementConf = de;
            var pe = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.condition = r(a.condition, [0, lt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActGmGroupConf = pe;
            var he = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.missionReward = r(a.missionReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MissionConf = he;
            var ge = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActMultiTowerConf = ge;
            var me = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActMultiTowerShowConf = me;
            var _e = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActMultiTowerScheduleConf = _e;
            var ve = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActMultiTowerEnhanceConf = ve;
            var Ee = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActMultiTowerRewardConf = Ee;
            var ye = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActMultiTowerLevelRewardConf = ye;
            var Se = function () {
                function e() {
                }

                return e.getByKey = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    n || (e.list.length = 0, e.map.clear(), e.sheetMap.clear(), e.sheetList.clear());
                    var r = e.sheetList.get("multiTower") || [], o = e.sheetMap.get("multiTower") || new Map;
                    for (var i in e.sheetList.set("multiTower", r), e.sheetMap.set("multiTower", o), t.languageConfMultiTower) {
                        var a = new e;
                        Object.assign(a, t.languageConfMultiTower[i]), (f = e.map.get(a.key)) && n ? e.list[f._idx] = a : a._idx = e.list.push(a) - 1, e.map.set(a.key, a), (d = o.get(a.key)) && n ? r[d._sidx] = a : a._sidx = r.push(a) - 1, o.set(a.key, a)
                    }
                    var s = e.sheetList.get("new") || [], c = e.sheetMap.get("new") || new Map;
                    for (var i in e.sheetList.set("new", s), e.sheetMap.set("new", c), t.languageConfNew) a = new e, Object.assign(a, t.languageConfNew[i]), (f = e.map.get(a.key)) && n ? e.list[f._idx] = a : a._idx = e.list.push(a) - 1, e.map.set(a.key, a), (d = c.get(a.key)) && n ? s[d._sidx] = a : a._sidx = s.push(a) - 1, c.set(a.key, a);
                    var u = e.sheetList.get("online") || [], l = e.sheetMap.get("online") || new Map;
                    for (var i in e.sheetList.set("online", u), e.sheetMap.set("online", l), t.languageConfOnline) {
                        var f, d;
                        a = new e, Object.assign(a, t.languageConfOnline[i]), (f = e.map.get(a.key)) && n ? e.list[f._idx] = a : a._idx = e.list.push(a) - 1, e.map.set(a.key, a), (d = l.get(a.key)) && n ? u[d._sidx] = a : a._sidx = u.push(a) - 1, l.set(a.key, a)
                    }
                }, e.list = [], e.map = new Map, e.sheetMap = new Map, e.sheetList = new Map, e
            }();
            n.LanguageConf = Se;
            var Ce = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActNoobConf = Ce;
            var Ae = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.NoobSign = Ae;
            var Te = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.NoobMissionConf = Te;
            var be = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.NoobSubMissionConf = be;
            var Ie = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActRogueLevelConf = Ie;
            var we = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActRogueRowConf = we;
            var Oe = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActRogueRewardConf = Oe;
            var Re = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActRogueRankRewardConf = Re;
            var Me = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.basisAttrs = r(a.basisAttrs, [0, at], 0), i.basisAttrsFunc = r(a.basisAttrsFunc, [0, at], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActRogueArtifactConf = Me;
            var Le = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActRogueEquipConf = Le;
            var Ne = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.basisAttrs = r(a.basisAttrs, [0, at], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActRogueEquipLevelConf = Ne;
            var De = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActRogueConsumeConf = De;
            var Pe = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActRogueBuffConf = Pe;
            var Be = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActRogueDebuffConf = Be;
            var xe = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActRogueBossConf = xe;
            var Ge = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActRogueMonsterConf = Ge;
            var Ue = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActRogueBookConf = Ue;
            var He = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActRogueBookColumnConf = He;
            var ke = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.collectReward = r(a.collectReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActRogueBookRewardConf = ke;
            var Fe = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.condition = r(a.condition, [0, lt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ActivityConf = Fe;
            var je = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.cardBenefit = r(a.cardBenefit, [0, fa], 0), i.cardReward = r(a.cardReward, [0, st], 0), i.cardRewardDaily = r(a.cardRewardDaily, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.CardConf = je;
            var Ke = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.merchandise = r(a.merchandise, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.DailyDealConf = Ke;
            var Ve = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.params = r(a.params, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.DayBuyConf = Ve;
            var We = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.condition = r(a.condition, [0, lt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.FundConf = We;
            var Ye = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.params = r(a.params, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.FundTaskConf = Ye;
            var qe = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.merchandise = r(a.merchandise, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MerchandiseConf = qe;
            var ze = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SignConf = ze;
            var Qe = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.AFKMapConf = Qe;
            var Xe = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ArenaRankConf = Xe;
            var Je = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ArenaScore = Je;
            var Ze = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.dayExpReward = r(a.dayExpReward, [0, st], 0), i.weekExpReward = r(a.weekExpReward, [0, st], 0), i.newDayReward = r(a.newDayReward, [0, st], 0), i.newWeekReward = r(a.newWeekReward, [0, st], 0), i.dayReward = r(a.dayReward, [0, st], 0), i.weekReward = r(a.weekReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ArenaGift = Ze;
            var $e = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.cost = r(a.cost, [st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ArenaRefreshConf = $e;
            var et = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.attrs = r(a.attrs, [0, at], 0), i.attrsLimit = r(a.attrsLimit, [0, at], 0), i.returnItem = r(a.returnItem, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ArtifactConf = et;
            var tt = function () {
                function e() {
                }

                return e.getByKey = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.key);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.key, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.AttributeLimitConf = tt;
            var nt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.attrs = r(a.attrs, [0, at], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.AuraConf = nt;
            var rt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.AutoConf = rt;
            var ot = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.attackCmds = r(a.attackCmds, [0, Ci], 0), i.skillCmds = r(a.skillCmds, [0, Ci], 0), i.enterCmd = r(a.enterCmd, [Ci], 0), i.deadCmd = r(a.deadCmd, [Ci], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.AvatarConf = ot;
            var it = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BasePush = it;
            n.SkillLevelUpData = function () {
            };
            var at = function () {
            };
            n.AttributeData = at;
            var st = function () {
            };
            n.RewardData = st;
            var ct = function () {
            };
            n.PaymentData = ct;
            var ut = function () {
            };
            n.RewardInfo = ut;
            var lt = function () {
            };
            n.ConditionData = lt;
            n.BattleMonsterData = function () {
            };
            n.BookActivateData = function () {
            };
            n.ComboActivateData = function () {
            };
            var ft = function () {
            };
            n.StarSpendPack = ft;
            n.BundleData = function () {
            };
            var dt = function () {
            };
            n.GuideAnim = dt;
            var pt = function () {
            };
            n.JumpInfo = pt;
            var ht = function () {
            };
            n.BuffCommand = ht;
            var gt = function () {
            };
            n.LegionRewardData = gt;
            var mt = function () {
            };
            n.GotoData = mt;
            var _t = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BattlePassBaseConf = _t;
            var vt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.freeReward = r(a.freeReward, [0, st], 0), i.payReward = r(a.payReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BattlePassConf = vt;
            var Et = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BattlePassMissionConf = Et;
            var yt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.condition = r(a.condition, [0, lt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BlackMarketConf = yt;
            var St = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.merchandise = r(a.merchandise, [0, st], 0), i.paymentMethod = r(a.paymentMethod, [0, ct], 0), i.condition = r(a.condition, [0, lt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BlackMarketMerchandiseConf = St;
            var Ct = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.benefit = r(a.benefit, [0, At], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BlessingConf = Ct;
            var At = function () {
            };
            n.BlessingData = At;
            var Tt = function () {
                function e() {
                }

                return e.getByType = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.type);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.type, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BlessingSortConf = Tt;
            var bt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BookConf = bt;
            var It = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.itemBonus = r(a.itemBonus, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BookStageConf = It;
            var wt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BossInfoConfig = wt;
            var Ot = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BossLoopConfig = Ot;
            var Rt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.bossReward = r(a.bossReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BossRewardsConfig = Rt;
            var Mt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.showReward = r(a.showReward, [0, 0, ut], 0), i.helpReward = r(a.helpReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BossTowerConf = Mt;
            var Lt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.helpRankReward = r(a.helpRankReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BossHelpRankRewardConfig = Lt;
            var Nt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.good = r(a.good, [st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BossTowerShopConf = Nt;
            var Dt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.boxReward = r(a.boxReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.Bottle = Dt;
            var Pt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BottlePool = Pt;
            var Bt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BottleTime = Bt;
            var xt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BoxConf = xt;
            var Gt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BoxStageConf = Gt;
            var Ut = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BriefreportConf = Ut;
            var Ht = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BulletConf = Ht;
            var kt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.condition = r(a.condition, [0, lt], 0), i.collectReward = r(a.collectReward, [0, st], 0), i.collectColorfulReward = r(a.collectColorfulReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.CardSeriesConf = kt;
            var Ft = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.tradeType = r(a.tradeType, [lt], 0), i.rewards = r(a.rewards, [0, st], 0), i.newRewards = r(a.newRewards, [0, 0, st], 0), i.newRewardsColor = r(a.newRewardsColor, [0, 0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.CardPackageConf = Ft;
            var jt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.CardDetailConf = jt;
            var Kt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.condition = r(a.condition, [0, lt], 0), i.bossReward = r(a.bossReward, [0, st], 0), i.unlockCost = r(a.unlockCost, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.CareerChallengeConf = Kt;
            var Vt = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.CareerChallengeConstantConf = Vt;
            var Wt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.params = r(a.params, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ChargePackConf = Wt;
            var Yt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.CharmConf = Yt;
            var qt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.condition = r(a.condition, [0, lt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.CharmGift = qt;
            var zt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.condition = r(a.condition, [0, lt], 0), i.goto = r(a.goto, [mt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.CharmTask = zt;
            var Qt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ChatSensitiveConf = Qt;
            var Xt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ChatAlertConf = Xt;
            var Jt = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.CoinGetConf = Jt;
            var Zt = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.ConstantConf = Zt;
            var $t = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.DailyTaskConf = $t;
            var en = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.rewardPoints = r(a.rewardPoints, [st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.DayLimitConf = en;
            var tn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.rewardPoints = r(a.rewardPoints, [st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.WeekLimitConf = tn;
            var nn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.guideAnim = r(a.guideAnim, [0, dt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.DialogConf = nn;
            var rn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.diamond = r(a.diamond, [0, st], 0), i.benefit = r(a.benefit, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.DiamondShopConf = rn;
            var on = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.DingniuConstantConf = on;
            var an = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.DingniuInConstantConf = an;
            var sn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.DropDailyMail = sn;
            var cn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.DungeonConf = cn;
            var un = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.merchantConf = r(a.merchantConf, [0, st], 0), i.price = r(a.price, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.DungeonMerchantConf = un;
            var ln = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.attrs = r(a.attrs, [0, at], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.DungeonItemConf = ln;
            var fn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.DungeonMonsterConf = fn;
            var dn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.EffectConf = dn;
            var pn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.EmojiConf = pn;
            var hn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.EquipConf = hn;
            var gn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.EquipLvConf = gn;
            var mn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.EquipLvSpend = mn;
            var _n = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.EquipForgeSpend = _n;
            var vn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.EquipmentConf = vn;
            var En = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.EquipmentLvConf = En;
            var yn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.setAttrs = r(a.setAttrs, [0, at], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.EquipmentSetConf = yn;
            var Sn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.EquipmentForgeSpend = Sn;
            var Cn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ExcelVer = Cn;
            var An = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.FormationConf = An;
            var Tn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.GameCardTTConf = Tn;
            var bn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TTSubscribeMsg = bn;
            var In = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.GenieConf = In;
            var wn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.condition = r(a.condition, [0, lt], 0), i.bossReward = r(a.bossReward, [0, st], 0), i.stayFixedReward = r(a.stayFixedReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.GenieLevelConf = wn;
            var On = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.GenieSweepConf = On;
            var Rn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.GlobalSignConf = Rn;
            var Mn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SingleSignConf = Mn;
            var Ln = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.AutoAddConf = Ln;
            var Nn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.GlobalSignGoalConf = Nn;
            var Dn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.GuideConf = Dn;
            var Pn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.H5GiftConf = Pn;
            var Bn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.awakeReward = r(a.awakeReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HeroConf = Bn;
            var xn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HeroAttrConf = xn;
            var Gn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HeroLvSpend = Gn;
            var Un = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HeroLvLimit = Un;
            var Hn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HeroOrder = Hn;
            var kn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HeroStarExt = kn;
            var Fn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.starSpendPack = r(a.starSpendPack, [0, ft], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HeroStarSpend = Fn;
            var jn = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.HorseConstant = jn;
            var Kn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HorseScheduleConf = Kn;
            var Vn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HorseProgressConf = Vn;
            var Wn = function () {
                function e() {
                }

                return e.getByID = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.ID);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.ID, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.RandomHorseConf = Wn;
            var Yn = function () {
                function e() {
                }

                return e.getByMonsterGroupId = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.foldPackShow = r(a.foldPackShow, [0, ut], 0), i.otherReward = r(a.otherReward, [st], 0);
                        var s = e.map.get(i.monsterGroupId);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.monsterGroupId, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HorseBoxConf = Yn;
            var qn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0), i.shareReward = r(a.shareReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HorseLegionRewardConf = qn;
            var zn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.selfReward = r(a.selfReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HorseSelfRewardConf = zn;
            var Qn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.merchandise = r(a.merchandise, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HorseMerchandiseConf = Qn;
            var Xn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HorseMatchingRule = Xn;
            var Jn = function () {
                function e() {
                }

                return e.getByMapGroup = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.mapGroup);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.mapGroup, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HorseMapConf = Jn;
            var Zn = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HideQuenchPoint = Zn;
            var $n = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.Invite = $n;
            var er = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.priceCondition = r(a.priceCondition, [0, lt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ItemConf = er;
            var tr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.attrs = r(a.attrs, [0, at], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ItemLegionConf = tr;
            var nr = function () {
                function e() {
                }

                return e.getByKey = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.key);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.key, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ErrocodeLanguageConf = nr;
            var rr = function () {
                function e() {
                }

                return e.getByKey = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.key);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.key, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LoadingLanguageConf = rr;
            var or = function () {
                function e() {
                }

                return e.getByKey = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.key);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.key, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MailLanguageConf = or;
            var ir = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.IosPrice = ir;
            var ar = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.GooglePrice = ar;
            var sr = function () {
                function e() {
                }

                return e.getByLegionBossId = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.legionBossReward = r(a.legionBossReward, [0, st], 0), i.killReward = r(a.killReward, [0, st], 0);
                        var s = e.map.get(i.legionBossId);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.legionBossId, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionBossConf = sr;
            var cr = function () {
                function e() {
                }

                return e.getByID = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.rankReward = r(a.rankReward, [0, st], 0);
                        var s = e.map.get(i.ID);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.ID, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionBossRewardConf = cr;
            var ur = function () {
                function e() {
                }

                return e.getByID = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.rankReward = r(a.rankReward, [0, st], 0);
                        var s = e.map.get(i.ID);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.ID, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionBossDailyRewardConf = ur;
            var lr = function () {
                function e() {
                }

                return e.getByFightId = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.fightId);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.fightId, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionBossCostConf = lr;
            var fr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionCupConf = fr;
            var dr = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.LegionLeagePointConf = dr;
            var pr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionLeagueCheerConf = pr;
            var hr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionLeagueRewardConf = hr;
            var gr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionLeagueConf = gr;
            var mr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionLeagueSessionConf = mr;
            var _r = function () {
                function e() {
                }

                return e.getByLegionLevel = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.legionLevel);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.legionLevel, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionLevelConf = _r;
            var vr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionMarqueeConf = vr;
            var Er = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.RankRangeConf = Er;
            var yr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MatchZoneTypeConf = yr;
            var Sr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionNameplateConf = Sr;
            var Cr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionRankConf = Cr;
            var Ar = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionRankConstantConf = Ar;
            var Tr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionPointConf = Tr;
            var br = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.clubReward = r(a.clubReward, [0, st], 0), i.clubWinReward = r(a.clubWinReward, [0, st], 0), i.rankReward = r(a.rankReward, [0, st], 0), i.KingReward = r(a.KingReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionRankRewardConf = br;
            var Ir = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionRankVersusConf = Ir;
            var wr = function () {
                function e() {
                }

                return e.getByID = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.ID);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.ID, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ResearchConf = wr;
            var Or = function () {
                function e() {
                }

                return e.getByID = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.ID);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.ID, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionResearchConf = Or;
            var Rr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.good = r(a.good, [st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionStoreConf = Rr;
            var Mr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.good_limit = r(a.good_limit, [gt], 0), i.good_forever = r(a.good_forever, [gt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionSkinStoreConf = Mr;
            var Lr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TagConf = Lr;
            var Nr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TagConditionConf = Nr;
            var Dr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarConstantConf = Dr;
            var Pr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarMapConf = Pr;
            var Br = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarMapTypeMappingConf = Br;
            var xr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.WarRewardPageConf = xr;
            var Gr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0), i.LegionReward = r(a.LegionReward, [0, gt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarRewardConf = Gr;
            var Ur = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarKillRewardConf = Ur;
            var Hr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarSkyRewardConf = Hr;
            var kr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarSkyKillRewardConf = kr;
            var Fr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.LegionReward = r(a.LegionReward, [0, gt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionWarGuildRewardConf = Fr;
            var jr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.betReward = r(a.betReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionScheduleConf = jr;
            var Kr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LevelConf = Kr;
            var Vr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ChapterConf = Vr;
            var Wr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LordLvConf = Wr;
            var Yr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.conditionType = r(a.conditionType, [0, lt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LordLvLimitConf = Yr;
            var qr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.condition = r(a.condition, [0, lt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LordOrderConf = qr;
            var zr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LordSkinConf = zr;
            var Qr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ProfileCardConf = Qr;
            var Xr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.unlockCost = r(a.unlockCost, [st], 0), i.condition = r(a.condition, [0, lt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.WeaponConf = Xr;
            var Jr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.activeCost = r(a.activeCost, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.WeaponActiveConf = Jr;
            var Zr = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.WeaponPassiveConf = Zr;
            var $r = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MapConf = $r;
            var eo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.attrs = r(a.attrs, [0, at], 0), i.attrs_out = r(a.attrs_out, [0, at], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MedallionConf = eo;
            var to = function () {
                function e() {
                }

                return e.getByType = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.condition = r(a.condition, [0, lt], 0);
                        var s = e.map.get(i.type);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.type, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ModuleConf = to;
            var no = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.attrs = r(a.attrs, [0, at], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MonsterConf = no;
            var ro = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LevelCoeffConf = ro;
            var oo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.condition = r(a.condition, [0, lt], 0), i.jumpInfo = r(a.jumpInfo, [pt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MonthActivity = oo;
            var io = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.giftMonth = r(a.giftMonth, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MonthActivityConf = io;
            var ao = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.MoonConstant = ao;
            var so = function () {
                function e() {
                }

                return e.getByRabbitId = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.rabbitId);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.rabbitId, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MoonRabbitConf = so;
            var co = function () {
                function e() {
                }

                return e.getByRabbitId = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.rabbitId);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.rabbitId, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MoonRabbitMonsterConf = co;
            var uo = function () {
                function e() {
                }

                return e.getByMonsterGroupId = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.foldPackShow = r(a.foldPackShow, [0, ut], 0), i.otherReward = r(a.otherReward, [st], 0);
                        var s = e.map.get(i.monsterGroupId);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.monsterGroupId, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.RabbitBoxConf = uo;
            var lo = function () {
                function e() {
                }

                return e.getByTreeId = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.treeId);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.treeId, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MoonTreeConf = lo;
            var fo = function () {
                function e() {
                }

                return e.getByGateId = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.gateId);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.gateId, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TeleportConf = fo;
            var po = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.merchandise = r(a.merchandise, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MoonMerchandiseConf = po;
            var ho = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0), i.shareReward = r(a.shareReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MoonLegionRewardConf = ho;
            var go = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.selfReward = r(a.selfReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MoonSelfRewardConf = go;
            var mo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.MoonScheduleConf = mo;
            var _o = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LegionGroupConf = _o;
            var vo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.OtherItemConf = vo;
            var Eo = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.OverviewConstant = Eo;
            var yo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.OverviewConf = yo;
            var So = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.diamondPackRewardWeight = r(a.diamondPackRewardWeight, [0, st], 0), i.packShow = r(a.packShow, [0, st], 0), i.foldPackShow = r(a.foldPackShow, [0, ut], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.PackConf = So;
            var Co = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BattleReward = Co;
            var Ao = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.PeakRecord = Ao;
            var To = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.PeakRecordConf = To;
            var bo = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.PearlConstant = bo;
            var Io = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.PearlRandConf = Io;
            var wo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.return = r(a.return, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.PearlColorConf = wo;
            var Oo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.PearlAttrConf = Oo;
            var Ro = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.PearlSkillPoolConf = Ro;
            var Mo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.merchandise = r(a.merchandise, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.PrisonConf = Mo;
            var Lo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.benefit = r(a.benefit, [0, No], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.PrivilegeConf = Lo;
            var No = function () {
            };
            n.PrivilegeData = No;
            var Do = function () {
                function e() {
                }

                return e.getByType = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.type);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.type, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.PrivilegeSortConf = Do;
            var Po = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.stayFixedReward = r(a.stayFixedReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.PushList = Po;
            var Bo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.QualitySelectionConf = Bo;
            var xo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.QuenchConf = xo;
            var Go = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.QuenchAttrConf = Go;
            var Uo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.Recover = Uo;
            var Ho = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.RegressionRuleConf = Ho;
            var ko = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ResourcePath = ko;
            var Fo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.merchandise = r(a.merchandise, [0, st], 0), i.condition = r(a.condition, [0, lt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.RollUpPackConf = Fo;
            var jo = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.RoomConstant = jo;
            var Ko = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.RoomSettingsConf = Ko;
            var Vo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.AdvanceRoomSettingsConf = Vo;
            var Wo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.merchandise = r(a.merchandise, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.RoomMerchandiseConf = Wo;
            var Yo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.RoomNightmareMonster = Yo;
            var qo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.RobotSettingsConf = qo;
            var zo = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.SeasonArenaConstant = zo;
            var Qo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.dayReward = r(a.dayReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonArenaReward = Qo;
            var Xo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonArenaRank = Xo;
            var Jo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonBattlePassBaseConf = Jo;
            var Zo = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.freeReward = r(a.freeReward, [0, st], 0), i.payReward = r(a.payReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonBattlePassReward = Zo;
            var $o = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.merchandise = r(a.merchandise, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonMerchandiseConf = $o;
            var ei = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonHeroBookConf = ei;
            var ti = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.heroBookAttr = r(a.heroBookAttr, [0, at], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonHeroArrt = ti;
            var ni = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.GemstoneRandConf = ni;
            var ri = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.attrs = r(a.attrs, [0, at], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.GemstoneAttrConf = ri;
            var oi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.awakeReward = r(a.awakeReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonHeroConf = oi;
            var ii = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.HeroConditionConf = ii;
            var ai = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonLevel = ai;
            var si = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.LevelLimitConf = si;
            var ci = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonLordOrderConf = ci;
            var ui = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonResearchConf = ui;
            var li = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SeasonGuideConf = li;
            var fi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ServerNameConf = fi;
            var di = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BigServerConf = di;
            var pi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SevenDayConf = pi;
            var hi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.animations = r(a.animations, [0, gi], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SkeletonConf = hi;
            var gi = function () {
            };
            n.AnimationClipData = gi;
            var mi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.attrs = r(a.attrs, [0, at], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SkillSchemeConf = mi;
            var _i = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.changeAttribute = r(a.changeAttribute, [at], 0), i.command = r(a.command, [ht], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BuffConf = _i;
            var vi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SkillDynamicConf = vi;
            var Ei = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.effectList = r(a.effectList, [0, Si], 0), i.triggerConditions = r(a.triggerConditions, [0, Ai], 0), i.actionList = r(a.actionList, [0, Ci], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SkillConf = Ei;
            var yi = function () {
                function e() {
                }

                return e.getByIconName = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.iconName);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.iconName, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.BuffLayer = yi;
            var Si = function () {
            };
            n.SkillEffectData = Si;
            n.SkillParams = function () {
            };
            var Ci = function () {
            };
            n.ComandParams = Ci;
            var Ai = function () {
            };
            n.TriggerCondition = Ai;
            var Ti = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.attrs = r(a.attrs, [0, at], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SkinConf = Ti;
            var bi = function () {
                function e() {
                }

                return e.getByID = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.condition = r(a.condition, [0, lt], 0), i.foldPackShow = r(a.foldPackShow, [0, ut], 0);
                        var s = e.map.get(i.ID);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.ID, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SkyMapConf = bi;
            var Ii = function () {
                function e() {
                }

                return e.getByID = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.ID);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.ID, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SkyBuildingConf = Ii;
            var wi = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.SkyConstant = wi;
            var Oi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.otherReward = r(a.otherReward, [st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SkyLevel = Oi;
            var Ri = function () {
                function e() {
                }

                return e.getByMonsterGroupId = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.monsterGroupId);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.monsterGroupId, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SkyMonster = Ri;
            var Mi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.condition = r(a.condition, [0, st], 0), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SkyBoss = Mi;
            var Li = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.qualificationReward = r(a.qualificationReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SkyBuildingBoss = Li;
            var Ni = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.rankingReward = r(a.rankingReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SkyBuildingReward = Ni;
            var Di = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.fuKaRewardDisplay = r(a.fuKaRewardDisplay, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.SpringActConf = Di;
            var Pi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.fuKaReward = r(a.fuKaReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.FuKaConf = Pi;
            var Bi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.ExchangeConf = Bi;
            var xi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.chargeReward = r(a.chargeReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.CumulativeChargeConf = xi;
            var Gi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.StayBuyTimeConf = Gi;
            var Ui = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.stayFixedReward = r(a.stayFixedReward, [0, st], 0), i.curRandReward = r(a.curRandReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.StayRewardConf = Ui;
            var Hi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [st], 0), i.nextRandReward = r(a.nextRandReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.StayRewardOrderConf = Hi;
            var ki = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.condition = r(a.condition, [0, lt], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.StoreConf = ki;
            var Fi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.merchandise = r(a.merchandise, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.GoodsConf = Fi;
            var ji = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.StudyConf = ji;
            var Ki = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.StudyClothesConf = Ki;
            var Vi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.StudyRewardConf = Vi;
            var Wi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.StudyActConf = Wi;
            var Yi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.params = r(a.params, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TaskConf = Yi;
            var qi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TestConf = qi;
            var zi = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.LocalConf = zi;
            var Qi = function () {
                function e() {
                }

                return e.getByID = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.ID);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.ID, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TournamentConf = Qi;
            var Xi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TournamentScheduleConf = Xi;
            var Ji = function () {
                function e() {
                }

                return e.getByID = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.ID);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.ID, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TournamentActConf = Ji;
            var Zi = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.merchandise = r(a.merchandise, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TournamentShopConf = Zi;
            var $i = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.reward = r(a.reward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TournamentRewardConf = $i;
            var ea = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TournamentMatchConf = ea;
            var ta = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.attrs = r(a.attrs, [0, at], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TournamentExtraAttr = ta;
            var na = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.TournamentConstant = na;
            var ra = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.bossReward = r(a.bossReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TowerConf = ra;
            var oa = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.towerReward = r(a.towerReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TowerReward = oa;
            var ia = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.trumpAttr = r(a.trumpAttr, [0, at], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TrumpConf = ia;
            var aa = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TrumpTypeConf = aa;
            var sa = function () {
                function e() {
                }

                return e.getByTrumpQuality = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.trumpQuality);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.trumpQuality, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TrumpRankConf = sa;
            var ca = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var r in n || (e.list.length = 0, e.map.clear()), t) {
                        var o = new e;
                        Object.assign(o, t[r]);
                        var i = e.map.get(o.id);
                        i && n ? e.list[i._idx] = o : o._idx = e.list.push(o) - 1, e.map.set(o.id, o)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.TrumpCostConf = ca;
            var ua = function () {
                function e() {
                }

                return e.decode = function (t) {
                    for (var n in e.config = new e, t) e.config[n] = t[n]
                }, e
            }();
            n.VersionConf = ua;
            var la = function () {
                function e() {
                }

                return e.getById = function (t) {
                    return e.map.get(t)
                }, e.decode = function (t, n) {
                    for (var o in n || (e.list.length = 0, e.map.clear()), t) {
                        var i = new e, a = t[o];
                        Object.assign(i, a), i.vipBenefit = r(a.vipBenefit, [0, fa], 0), i.vipReward = r(a.vipReward, [0, st], 0);
                        var s = e.map.get(i.id);
                        s && n ? e.list[s._idx] = i : i._idx = e.list.push(i) - 1, e.map.set(i.id, i)
                    }
                }, e.list = [], e.map = new Map, e
            }();
            n.VipConf = la;
            var fa = function () {
            };
            n.BenefitData = fa, n.decodeConfig = function (e, t) {
                for (var n in void 0 === t && (t = !1), e) "GoodsList" === n && o.decode(e[n], t), "HorseproAttrConf" === n && i.decode(e[n], t), "InvitationCodeReward" === n && a.decode(e[n], t), "StateConf" === n && s.decode(e[n], t), "LeagueGroupConf" === n && c.decode(e[n], t), "LegionCodeConstant" === n && u.decode(e[n]), "LegionCodeConf" === n && l.decode(e[n], t), "LegionMemberCodeConf" === n && f.decode(e[n], t), "LegionLeagueMarqueeConf" === n && d.decode(e[n], t), "LegionWarBossConf" === n && p.decode(e[n], t), "LegionWarBuildingConf" === n && h.decode(e[n], t), "LegionWarCheerConf" === n && g.decode(e[n], t), "LegionWarCityConf" === n && m.decode(e[n], t), "LegionWarPointConf" === n && _.decode(e[n], t), "LegionWarPreConf" === n && v.decode(e[n], t), "LegionWarRankConf" === n && E.decode(e[n], t), "LegionWarThirdPointConf" === n && y.decode(e[n], t), "MatchTeam" === n && S.decode(e[n], t), "NightMare" === n && C.decode(e[n], t), "NightMareMonster" === n && A.decode(e[n], t), "CompassReward" === n && T.decode(e[n], t), "NightMareBook" === n && b.decode(e[n], t), "SeasonArtifactConf" === n && I.decode(e[n], t), "ArtifactDescConf" === n && w.decode(e[n], t), "SeasonLvRewardConf" === n && O.decode(e[n], t), "SeasonRescueConstant" === n && R.decode(e[n]), "SeasonRescueMonster" === n && M.decode(e[n], t), "SeasonTowerConf" === n && L.decode(e[n], t), "SeasonTowerReward" === n && N.decode(e[n], t), "SeasonTowerRankReward" === n && D.decode(e[n], t), "seasonTowerRank" === n && P.decode(e[n], t), "TowerStageConf" === n && B.decode(e[n], t), "SkillEffectSort" === n && x.decode(e[n], t), "SkyProConf" === n && G.decode(e[n], t), "AchievementConf" === n && U.decode(e[n], t), "AchievementTaskList" === n && H.decode(e[n], t), "ActBossConf" === n && k.decode(e[n], t), "ActHideBossConf" === n && F.decode(e[n], t), "ActCardTowerConf" === n && j.decode(e[n], t), "ActCardTowerShowConf" === n && K.decode(e[n], t), "ActCardTowerRewardConf" === n && V.decode(e[n], t), "ActCardTowerRankRewardConf" === n && W.decode(e[n], t), "ActCardTowerEquipConf" === n && Y.decode(e[n], t), "ActCardTowerShopConf" === n && q.decode(e[n], t), "actConstantConf" === n && z.decode(e[n], t), "DragonBoatConf" === n && Q.decode(e[n], t), "DragonBoatLegionConf" === n && X.decode(e[n], t), "ActFestivalConf" === n && J.decode(e[n], t), "ExchangeActConf" === n && Z.decode(e[n], t), "ActMerchandiseConf" === n && $.decode(e[n], t), "BingoConf" === n && ee.decode(e[n], t), "BingoRewardConf" === n && te.decode(e[n], t), "MineConf" === n && ne.decode(e[n], t), "ProgressBarConf" === n && re.decode(e[n], t), "FuKaActConf" === n && oe.decode(e[n], t), "CumulativeChargeActConf" === n && ie.decode(e[n], t), "TreasureConf" === n && ae.decode(e[n], t), "MonopolyConf" === n && se.decode(e[n], t), "EGameConf" === n && ce.decode(e[n], t), "CheerConf" === n && ue.decode(e[n], t), "CheerRewardConf" === n && le.decode(e[n], t), "VoteConf" === n && fe.decode(e[n], t), "KillBossAchievementConf" === n && de.decode(e[n], t), "actGmGroupConf" === n && pe.decode(e[n], t), "MissionConf" === n && he.decode(e[n], t), "ActMultiTowerConf" === n && ge.decode(e[n], t), "ActMultiTowerShowConf" === n && me.decode(e[n], t), "ActMultiTowerScheduleConf" === n && _e.decode(e[n], t), "ActMultiTowerEnhanceConf" === n && ve.decode(e[n], t), "ActMultiTowerRewardConf" === n && Ee.decode(e[n], t), "ActMultiTowerLevelRewardConf" === n && ye.decode(e[n], t), "LanguageConf" === n && Se.decode(e[n], t), "actNoobConf" === n && Ce.decode(e[n], t), "NoobSign" === n && Ae.decode(e[n], t), "NoobMissionConf" === n && Te.decode(e[n], t), "NoobSubMissionConf" === n && be.decode(e[n], t), "ActRogueLevelConf" === n && Ie.decode(e[n], t), "ActRogueRowConf" === n && we.decode(e[n], t), "ActRogueRewardConf" === n && Oe.decode(e[n], t), "ActRogueRankRewardConf" === n && Re.decode(e[n], t), "ActRogueArtifactConf" === n && Me.decode(e[n], t), "ActRogueEquipConf" === n && Le.decode(e[n], t), "ActRogueEquipLevelConf" === n && Ne.decode(e[n], t), "ActRogueConsumeConf" === n && De.decode(e[n], t), "ActRogueBuffConf" === n && Pe.decode(e[n], t), "ActRogueDebuffConf" === n && Be.decode(e[n], t), "ActRogueBossConf" === n && xe.decode(e[n], t), "ActRogueMonsterConf" === n && Ge.decode(e[n], t), "ActRogueBookConf" === n && Ue.decode(e[n], t), "ActRogueBookColumnConf" === n && He.decode(e[n], t), "ActRogueBookRewardConf" === n && ke.decode(e[n], t), "ActivityConf" === n && Fe.decode(e[n], t), "CardConf" === n && je.decode(e[n], t), "DailyDealConf" === n && Ke.decode(e[n], t), "DayBuyConf" === n && Ve.decode(e[n], t), "FundConf" === n && We.decode(e[n], t), "FundTaskConf" === n && Ye.decode(e[n], t), "MerchandiseConf" === n && qe.decode(e[n], t), "SignConf" === n && ze.decode(e[n], t), "AFKMapConf" === n && Qe.decode(e[n], t), "ArenaRankConf" === n && Xe.decode(e[n], t),"ArenaScore" === n && Je.decode(e[n], t),"ArenaGift" === n && Ze.decode(e[n], t),"ArenaRefreshConf" === n && $e.decode(e[n], t),"ArtifactConf" === n && et.decode(e[n], t),"AttributeLimitConf" === n && tt.decode(e[n], t),"AuraConf" === n && nt.decode(e[n], t),"AutoConf" === n && rt.decode(e[n], t),"AvatarConf" === n && ot.decode(e[n], t),"BasePush" === n && it.decode(e[n], t),"BattlePassBaseConf" === n && _t.decode(e[n], t),"BattlePassConf" === n && vt.decode(e[n], t),"BattlePassMissionConf" === n && Et.decode(e[n], t),"blackMarketConf" === n && yt.decode(e[n], t),"blackMarketMerchandiseConf" === n && St.decode(e[n], t),"BlessingConf" === n && Ct.decode(e[n], t),"BlessingSortConf" === n && Tt.decode(e[n], t),"BookConf" === n && bt.decode(e[n], t),"BookStageConf" === n && It.decode(e[n], t),"BossInfoConfig" === n && wt.decode(e[n], t),"BossLoopConfig" === n && Ot.decode(e[n], t),"BossRewardsConfig" === n && Rt.decode(e[n], t),"BossTowerConf" === n && Mt.decode(e[n], t),"BossHelpRankRewardConfig" === n && Lt.decode(e[n], t),"BossTowerShopConf" === n && Nt.decode(e[n], t),"Bottle" === n && Dt.decode(e[n], t),"BottlePool" === n && Pt.decode(e[n], t),"BottleTime" === n && Bt.decode(e[n], t),"BoxConf" === n && xt.decode(e[n], t),"BoxStageConf" === n && Gt.decode(e[n], t),"BriefreportConf" === n && Ut.decode(e[n], t),"BulletConf" === n && Ht.decode(e[n], t),"CardSeriesConf" === n && kt.decode(e[n], t),"CardPackageConf" === n && Ft.decode(e[n], t),"CardDetailConf" === n && jt.decode(e[n], t),"CareerChallengeConf" === n && Kt.decode(e[n], t),"CareerChallengeConstantConf" === n && Vt.decode(e[n]),"ChargePackConf" === n && Wt.decode(e[n], t),"CharmConf" === n && Yt.decode(e[n], t),"CharmGift" === n && qt.decode(e[n], t),"CharmTask" === n && zt.decode(e[n], t),"ChatSensitiveConf" === n && Qt.decode(e[n], t),"ChatAlertConf" === n && Xt.decode(e[n], t),"CoinGetConf" === n && Jt.decode(e[n], t),"ConstantConf" === n && Zt.decode(e[n]),"DailyTaskConf" === n && $t.decode(e[n], t),"DayLimitConf" === n && en.decode(e[n], t),"WeekLimitConf" === n && tn.decode(e[n], t),"DialogConf" === n && nn.decode(e[n], t),"DiamondShopConf" === n && rn.decode(e[n], t),"DingniuConstantConf" === n && on.decode(e[n], t),"DingniuInConstantConf" === n && an.decode(e[n], t),"DropDailyMail" === n && sn.decode(e[n], t),"DungeonConf" === n && cn.decode(e[n], t),"DungeonMerchantConf" === n && un.decode(e[n], t),"DungeonItemConf" === n && ln.decode(e[n], t),"DungeonMonsterConf" === n && fn.decode(e[n], t),"EffectConf" === n && dn.decode(e[n], t),"emojiConf" === n && pn.decode(e[n], t),"EquipConf" === n && hn.decode(e[n], t),"EquipLvConf" === n && gn.decode(e[n], t),"EquipLvSpend" === n && mn.decode(e[n], t),"EquipForgeSpend" === n && _n.decode(e[n], t),"EquipmentConf" === n && vn.decode(e[n], t),"EquipmentLvConf" === n && En.decode(e[n], t),"EquipmentSetConf" === n && yn.decode(e[n], t),"EquipmentForgeSpend" === n && Sn.decode(e[n], t),"ExcelVer" === n && Cn.decode(e[n], t),"formationConf" === n && An.decode(e[n], t),"GameCardTTConf" === n && Tn.decode(e[n], t),"TTSubscribeMsg" === n && bn.decode(e[n], t),"genieConf" === n && In.decode(e[n], t),"genieLevelConf" === n && wn.decode(e[n], t),"genieSweepConf" === n && On.decode(e[n], t),"GlobalSignConf" === n && Rn.decode(e[n], t),"SingleSignConf" === n && Mn.decode(e[n], t),"AutoAddConf" === n && Ln.decode(e[n], t),"GlobalSignGoalConf" === n && Nn.decode(e[n], t),"GuideConf" === n && Dn.decode(e[n], t),"h5GiftConf" === n && Pn.decode(e[n], t),"HeroConf" === n && Bn.decode(e[n], t),"HeroAttrConf" === n && xn.decode(e[n], t),"HeroLvSpend" === n && Gn.decode(e[n], t),"HeroLvLimit" === n && Un.decode(e[n], t),"HeroOrder" === n && Hn.decode(e[n], t),"HeroStarExt" === n && kn.decode(e[n], t),"HeroStarSpend" === n && Fn.decode(e[n], t),"HorseConstant" === n && jn.decode(e[n]),"HorseScheduleConf" === n && Kn.decode(e[n], t),"HorseProgressConf" === n && Vn.decode(e[n], t),"RandomHorseConf" === n && Wn.decode(e[n], t),"HorseBoxConf" === n && Yn.decode(e[n], t),"HorseLegionRewardConf" === n && qn.decode(e[n], t),"HorseSelfRewardConf" === n && zn.decode(e[n], t),"HorseMerchandiseConf" === n && Qn.decode(e[n], t),"HorseMatchingRule" === n && Xn.decode(e[n], t),"HorseMapConf" === n && Jn.decode(e[n], t),"HideQuenchPoint" === n && Zn.decode(e[n], t),"invite" === n && $n.decode(e[n], t),"ItemConf" === n && er.decode(e[n], t),"ItemLegionConf" === n && tr.decode(e[n], t),"ErrocodeLanguageConf" === n && nr.decode(e[n], t),"LoadingLanguageConf" === n && rr.decode(e[n], t),"MailLanguageConf" === n && or.decode(e[n], t),"IosPrice" === n && ir.decode(e[n], t),"GooglePrice" === n && ar.decode(e[n], t),"LegionBossConf" === n && sr.decode(e[n], t),"LegionBossRewardConf" === n && cr.decode(e[n], t),"LegionBossDailyRewardConf" === n && ur.decode(e[n], t),"LegionBossCostConf" === n && lr.decode(e[n], t),"legionCupConf" === n && fr.decode(e[n], t),"LegionLeagePointConf" === n && dr.decode(e[n]),"LegionLeagueCheerConf" === n && pr.decode(e[n], t),"LegionLeagueRewardConf" === n && hr.decode(e[n], t),"LegionLeagueConf" === n && gr.decode(e[n], t),"LegionLeagueSessionConf" === n && mr.decode(e[n], t),"LegionLevelConf" === n && _r.decode(e[n], t),"LegionMarqueeConf" === n && vr.decode(e[n], t),"rankRangeConf" === n && Er.decode(e[n], t),"matchZoneTypeConf" === n && yr.decode(e[n], t),"legionNameplateConf" === n && Sr.decode(e[n], t),"LegionRankConf" === n && Cr.decode(e[n], t),"LegionRankConstantConf" === n && Ar.decode(e[n], t),"LegionPointConf" === n && Tr.decode(e[n], t),"LegionRankRewardConf" === n && br.decode(e[n], t),"LegionRankVersusConf" === n && Ir.decode(e[n], t),"ResearchConf" === n && wr.decode(e[n], t),"LegionResearchConf" === n && Or.decode(e[n], t),"LegionStoreConf" === n && Rr.decode(e[n], t),"LegionSkinStoreConf" === n && Mr.decode(e[n], t),"TagConf" === n && Lr.decode(e[n], t),"TagConditionConf" === n && Nr.decode(e[n], t),"LegionWarConstantConf" === n && Dr.decode(e[n], t),"LegionWarMapConf" === n && Pr.decode(e[n], t),"LegionWarMapTypeMappingConf" === n && Br.decode(e[n], t),"WarRewardPageConf" === n && xr.decode(e[n], t),"LegionWarRewardConf" === n && Gr.decode(e[n], t),"LegionWarKillRewardConf" === n && Ur.decode(e[n], t),"LegionWarSkyRewardConf" === n && Hr.decode(e[n], t),"LegionWarSkyKillRewardConf" === n && kr.decode(e[n], t),"LegionWarGuildRewardConf" === n && Fr.decode(e[n], t),"LegionScheduleConf" === n && jr.decode(e[n], t),"LevelConf" === n && Kr.decode(e[n], t),"ChapterConf" === n && Vr.decode(e[n], t),"LordLvConf" === n && Wr.decode(e[n], t),"LordLvLimitConf" === n && Yr.decode(e[n], t),"LordOrderConf" === n && qr.decode(e[n], t),"LordSkinConf" === n && zr.decode(e[n], t),"ProfileCardConf" === n && Qr.decode(e[n], t),"WeaponConf" === n && Xr.decode(e[n], t),"WeaponActiveConf" === n && Jr.decode(e[n], t),"WeaponPassiveConf" === n && Zr.decode(e[n], t),"MapConf" === n && $r.decode(e[n], t),"MedallionConf" === n && eo.decode(e[n], t),"ModuleConf" === n && to.decode(e[n], t),"MonsterConf" === n && no.decode(e[n], t),"LevelCoeffConf" === n && ro.decode(e[n], t),"MonthActivity" === n && oo.decode(e[n], t),"MonthActivityConf" === n && io.decode(e[n], t),"MoonConstant" === n && ao.decode(e[n]),"MoonRabbitConf" === n && so.decode(e[n], t),"MoonRabbitMonsterConf" === n && co.decode(e[n], t),"RabbitBoxConf" === n && uo.decode(e[n], t),"MoonTreeConf" === n && lo.decode(e[n], t),"TeleportConf" === n && fo.decode(e[n], t),"MoonMerchandiseConf" === n && po.decode(e[n], t),"MoonLegionRewardConf" === n && ho.decode(e[n], t),"MoonSelfRewardConf" === n && go.decode(e[n], t),"MoonScheduleConf" === n && mo.decode(e[n], t),"LegionGroupConf" === n && _o.decode(e[n], t),"OtherItemConf" === n && vo.decode(e[n], t),"OverviewConstant" === n && Eo.decode(e[n]),"OverviewConf" === n && yo.decode(e[n], t),"PackConf" === n && So.decode(e[n], t),"BattleReward" === n && Co.decode(e[n], t),"PeakRecord" === n && Ao.decode(e[n], t),"PeakRecordConf" === n && To.decode(e[n]),"pearlConstant" === n && bo.decode(e[n]),"pearlRandConf" === n && Io.decode(e[n], t),"pearlColorConf" === n && wo.decode(e[n], t),"pearlAttrConf" === n && Oo.decode(e[n], t),"pearlSkillPoolConf" === n && Ro.decode(e[n], t),"prisonConf" === n && Mo.decode(e[n], t),"PrivilegeConf" === n && Lo.decode(e[n], t),"PrivilegeSortConf" === n && Do.decode(e[n], t),"PushList" === n && Po.decode(e[n], t),"QualitySelectionConf" === n && Bo.decode(e[n], t),"QuenchConf" === n && xo.decode(e[n], t),"QuenchAttrConf" === n && Go.decode(e[n], t),"Recover" === n && Uo.decode(e[n], t),"RegressionRuleConf" === n && Ho.decode(e[n], t),"ResourcePath" === n && ko.decode(e[n], t),"RollUpPackConf" === n && Fo.decode(e[n], t),"RoomConstant" === n && jo.decode(e[n]),"RoomSettingsConf" === n && Ko.decode(e[n], t),"AdvanceRoomSettingsConf" === n && Vo.decode(e[n], t),"RoomMerchandiseConf" === n && Wo.decode(e[n], t),"RoomNightmareMonster" === n && Yo.decode(e[n], t),"RobotSettingsConf" === n && qo.decode(e[n], t),"seasonArenaConstant" === n && zo.decode(e[n]),"seasonArenaReward" === n && Qo.decode(e[n], t),"seasonArenaRank" === n && Xo.decode(e[n], t),"seasonBattlePassBaseConf" === n && Jo.decode(e[n], t),"seasonBattlePassReward" === n && Zo.decode(e[n], t),"seasonMerchandiseConf" === n && $o.decode(e[n], t),"seasonHeroBookConf" === n && ei.decode(e[n], t),"seasonHeroArrt" === n && ti.decode(e[n], t),"gemstoneRandConf" === n && ni.decode(e[n], t),"gemstoneAttrConf" === n && ri.decode(e[n], t),"SeasonHeroConf" === n && oi.decode(e[n], t),"HeroConditionConf" === n && ii.decode(e[n], t),"SeasonLevel" === n && ai.decode(e[n], t),"LevelLimitConf" === n && si.decode(e[n], t),"seasonLordOrderConf" === n && ci.decode(e[n], t),"seasonResearchConf" === n && ui.decode(e[n], t),"SeasonGuideConf" === n && li.decode(e[n], t),"serverNameConf" === n && fi.decode(e[n], t),"bigServerConf" === n && di.decode(e[n], t),"SevenDayConf" === n && pi.decode(e[n], t),"SkeletonConf" === n && hi.decode(e[n], t),"SkillSchemeConf" === n && mi.decode(e[n], t),"BuffConf" === n && _i.decode(e[n], t),"SkillDynamicConf" === n && vi.decode(e[n], t),"SkillConf" === n && Ei.decode(e[n], t),"BuffLayer" === n && yi.decode(e[n], t),"SkinConf" === n && Ti.decode(e[n], t),"SkyMapConf" === n && bi.decode(e[n], t),"SkyBuildingConf" === n && Ii.decode(e[n], t),"SkyConstant" === n && wi.decode(e[n]),"SkyLevel" === n && Oi.decode(e[n], t),"SkyMonster" === n && Ri.decode(e[n], t),"SkyBoss" === n && Mi.decode(e[n], t),"SkyBuildingBoss" === n && Li.decode(e[n], t),"SkyBuildingReward" === n && Ni.decode(e[n], t),"SpringActConf" === n && Di.decode(e[n], t),"FuKaConf" === n && Pi.decode(e[n], t),"ExchangeConf" === n && Bi.decode(e[n], t),"CumulativeChargeConf" === n && xi.decode(e[n], t),"StayBuyTimeConf" === n && Gi.decode(e[n], t),"StayRewardConf" === n && Ui.decode(e[n], t),"StayRewardOrderConf" === n && Hi.decode(e[n], t),"StoreConf" === n && ki.decode(e[n], t),"GoodsConf" === n && Fi.decode(e[n], t),"StudyConf" === n && ji.decode(e[n], t),"StudyClothesConf" === n && Ki.decode(e[n], t),"StudyRewardConf" === n && Vi.decode(e[n], t),"StudyActConf" === n && Wi.decode(e[n], t),"TaskConf" === n && Yi.decode(e[n], t),"TestConf" === n && qi.decode(e[n], t),"LocalConf" === n && zi.decode(e[n]),"TournamentConf" === n && Qi.decode(e[n], t),"TournamentScheduleConf" === n && Xi.decode(e[n], t),"TournamentActConf" === n && Ji.decode(e[n], t),"TournamentShopConf" === n && Zi.decode(e[n], t),"TournamentRewardConf" === n && $i.decode(e[n], t),"TournamentMatchConf" === n && ea.decode(e[n], t),"TournamentExtraAttr" === n && ta.decode(e[n], t),"TournamentConstant" === n && na.decode(e[n]),"TowerConf" === n && ra.decode(e[n], t),"TowerReward" === n && oa.decode(e[n], t),"TrumpConf" === n && ia.decode(e[n], t),"TrumpTypeConf" === n && aa.decode(e[n], t),"TrumpRankConf" === n && sa.decode(e[n], t),"TrumpCostConf" === n && ca.decode(e[n], t),"VersionConf" === n && ua.decode(e[n]),"VipConf" === n && la.decode(e[n], t)
            }, n.configList = ["GoodsList", "HorseproAttrConf", "InvitationCodeReward", "StateConf", "LeagueGroupConf", "LegionCodeConstant", "LegionCodeConf", "LegionMemberCodeConf", "LegionLeagueMarqueeConf", "LegionWarBossConf", "LegionWarBuildingConf", "LegionWarCheerConf", "LegionWarCityConf", "LegionWarPointConf", "LegionWarPreConf", "LegionWarRankConf", "LegionWarThirdPointConf", "MatchTeam", "NightMare", "NightMareMonster", "CompassReward", "NightMareBook", "SeasonArtifactConf", "ArtifactDescConf", "SeasonLvRewardConf", "SeasonRescueConstant", "SeasonRescueMonster", "SeasonTowerConf", "SeasonTowerReward", "SeasonTowerRankReward", "seasonTowerRank", "TowerStageConf", "SkillEffectSort", "SkyProConf", "AchievementConf", "AchievementTaskList", "ActBossConf", "ActHideBossConf", "ActCardTowerConf", "ActCardTowerShowConf", "ActCardTowerRewardConf", "ActCardTowerRankRewardConf", "ActCardTowerEquipConf", "ActCardTowerShopConf", "actConstantConf", "DragonBoatConf", "DragonBoatLegionConf", "ActFestivalConf", "ExchangeActConf", "ActMerchandiseConf", "BingoConf", "BingoRewardConf", "MineConf", "ProgressBarConf", "FuKaActConf", "CumulativeChargeActConf", "TreasureConf", "MonopolyConf", "EGameConf", "CheerConf", "CheerRewardConf", "VoteConf", "KillBossAchievementConf", "actGmGroupConf", "MissionConf", "ActMultiTowerConf", "ActMultiTowerShowConf", "ActMultiTowerScheduleConf", "ActMultiTowerEnhanceConf", "ActMultiTowerRewardConf", "ActMultiTowerLevelRewardConf", "LanguageConf", "actNoobConf", "NoobSign", "NoobMissionConf", "NoobSubMissionConf", "ActRogueLevelConf", "ActRogueRowConf", "ActRogueRewardConf", "ActRogueRankRewardConf", "ActRogueArtifactConf", "ActRogueEquipConf", "ActRogueEquipLevelConf", "ActRogueConsumeConf", "ActRogueBuffConf", "ActRogueDebuffConf", "ActRogueBossConf", "ActRogueMonsterConf", "ActRogueBookConf", "ActRogueBookColumnConf", "ActRogueBookRewardConf", "ActivityConf", "CardConf", "DailyDealConf", "DayBuyConf", "FundConf", "FundTaskConf", "MerchandiseConf", "SignConf", "AFKMapConf", "ArenaRankConf", "ArenaScore", "ArenaGift", "ArenaRefreshConf", "ArtifactConf", "AttributeLimitConf", "AuraConf", "AutoConf", "AvatarConf", "BasePush", "SkillLevelUpData", "AttributeData", "RewardData", "PaymentData", "RewardInfo", "ConditionData", "BattleMonsterData", "BookActivateData", "ComboActivateData", "StarSpendPack", "BundleData", "GuideAnim", "JumpInfo", "BuffCommand", "LegionRewardData", "GotoData", "BattlePassBaseConf", "BattlePassConf", "BattlePassMissionConf", "blackMarketConf", "blackMarketMerchandiseConf", "BlessingConf", "BlessingData", "BlessingSortConf", "BookConf", "BookStageConf", "BossInfoConfig", "BossLoopConfig", "BossRewardsConfig", "BossTowerConf", "BossHelpRankRewardConfig", "BossTowerShopConf", "Bottle", "BottlePool", "BottleTime", "BoxConf", "BoxStageConf", "BriefreportConf", "BulletConf", "CardSeriesConf", "CardPackageConf", "CardDetailConf", "CareerChallengeConf", "CareerChallengeConstantConf", "ChargePackConf", "CharmConf", "CharmGift", "CharmTask", "ChatSensitiveConf", "ChatAlertConf", "CoinGetConf", "ConstantConf", "DailyTaskConf", "DayLimitConf", "WeekLimitConf", "DialogConf", "DiamondShopConf", "DingniuConstantConf", "DingniuInConstantConf", "DropDailyMail", "DungeonConf", "DungeonMerchantConf", "DungeonItemConf", "DungeonMonsterConf", "EffectConf", "emojiConf", "EquipConf", "EquipLvConf", "EquipLvSpend", "EquipForgeSpend", "EquipmentConf", "EquipmentLvConf", "EquipmentSetConf", "EquipmentForgeSpend", "ExcelVer", "formationConf", "GameCardTTConf", "TTSubscribeMsg", "genieConf", "genieLevelConf", "genieSweepConf", "GlobalSignConf", "SingleSignConf", "AutoAddConf", "GlobalSignGoalConf", "GuideConf", "h5GiftConf", "HeroConf", "HeroAttrConf", "HeroLvSpend", "HeroLvLimit", "HeroOrder", "HeroStarExt", "HeroStarSpend", "HorseConstant", "HorseScheduleConf", "HorseProgressConf", "RandomHorseConf", "HorseBoxConf", "HorseLegionRewardConf", "HorseSelfRewardConf", "HorseMerchandiseConf", "HorseMatchingRule", "HorseMapConf", "HideQuenchPoint", "invite", "ItemConf", "ItemLegionConf", "ErrocodeLanguageConf", "LoadingLanguageConf", "MailLanguageConf", "IosPrice", "GooglePrice", "LegionBossConf", "LegionBossRewardConf", "LegionBossDailyRewardConf", "LegionBossCostConf", "legionCupConf", "LegionLeagePointConf", "LegionLeagueCheerConf", "LegionLeagueRewardConf", "LegionLeagueConf", "LegionLeagueSessionConf", "LegionLevelConf", "LegionMarqueeConf", "rankRangeConf", "matchZoneTypeConf", "legionNameplateConf", "LegionRankConf", "LegionRankConstantConf", "LegionPointConf", "LegionRankRewardConf", "LegionRankVersusConf", "ResearchConf", "LegionResearchConf", "LegionStoreConf", "LegionSkinStoreConf", "TagConf", "TagConditionConf", "LegionWarConstantConf", "LegionWarMapConf", "LegionWarMapTypeMappingConf", "WarRewardPageConf", "LegionWarRewardConf", "LegionWarKillRewardConf", "LegionWarSkyRewardConf", "LegionWarSkyKillRewardConf", "LegionWarGuildRewardConf", "LegionScheduleConf", "LevelConf", "ChapterConf", "LordLvConf", "LordLvLimitConf", "LordOrderConf", "LordSkinConf", "ProfileCardConf", "WeaponConf", "WeaponActiveConf", "WeaponPassiveConf", "MapConf", "MedallionConf", "ModuleConf", "MonsterConf", "LevelCoeffConf", "MonthActivity", "MonthActivityConf", "MoonConstant", "MoonRabbitConf", "MoonRabbitMonsterConf", "RabbitBoxConf", "MoonTreeConf", "TeleportConf", "MoonMerchandiseConf", "MoonLegionRewardConf", "MoonSelfRewardConf", "MoonScheduleConf", "LegionGroupConf", "OtherItemConf", "OverviewConstant", "OverviewConf", "PackConf", "BattleReward", "PeakRecord", "PeakRecordConf", "pearlConstant", "pearlRandConf", "pearlColorConf", "pearlAttrConf", "pearlSkillPoolConf", "prisonConf", "PrivilegeConf", "PrivilegeData", "PrivilegeSortConf", "PushList", "QualitySelectionConf", "QuenchConf", "QuenchAttrConf", "Recover", "RegressionRuleConf", "ResourcePath", "RollUpPackConf", "RoomConstant", "RoomSettingsConf", "AdvanceRoomSettingsConf", "RoomMerchandiseConf", "RoomNightmareMonster", "RobotSettingsConf", "seasonArenaConstant", "seasonArenaReward", "seasonArenaRank", "seasonBattlePassBaseConf", "seasonBattlePassReward", "seasonMerchandiseConf", "seasonHeroBookConf", "seasonHeroArrt", "gemstoneRandConf", "gemstoneAttrConf", "SeasonHeroConf", "HeroConditionConf", "SeasonLevel", "LevelLimitConf", "seasonLordOrderConf", "seasonResearchConf", "SeasonGuideConf", "serverNameConf", "bigServerConf", "SevenDayConf", "SkeletonConf", "AnimationClipData", "SkillSchemeConf", "BuffConf", "SkillDynamicConf", "SkillConf", "BuffLayer", "SkillEffectData", "SkillParams", "ComandParams", "TriggerCondition", "SkinConf", "SkyMapConf", "SkyBuildingConf", "SkyConstant", "SkyLevel", "SkyMonster", "SkyBoss", "SkyBuildingBoss", "SkyBuildingReward", "SpringActConf", "FuKaConf", "ExchangeConf", "CumulativeChargeConf", "StayBuyTimeConf", "StayRewardConf", "StayRewardOrderConf", "StoreConf", "GoodsConf", "StudyConf", "StudyClothesConf", "StudyRewardConf", "StudyActConf", "TaskConf", "TestConf", "LocalConf", "TournamentConf", "TournamentScheduleConf", "TournamentActConf", "TournamentShopConf", "TournamentRewardConf", "TournamentMatchConf", "TournamentExtraAttr", "TournamentConstant", "TowerConf", "TowerReward", "TrumpConf", "TrumpTypeConf", "TrumpRankConf", "TrumpCostConf", "VersionConf", "VipConf", "BenefitData"], cc._RF.pop()
        }, {}],
        Defer: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "3d55aV/WOVH9rQh3fouYKLY", "Defer"), Object.defineProperty(n, "__esModule", {value: !0}), n.Defer = void 0;
            n.Defer = function () {
                var e = this;
                this.resolved = !1, this.promise = new Promise(function (t, n) {
                    e.resolve = t, e.reject = n
                })
            }, cc._RF.pop()
        }, {}],
        FsmState: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "167f51SrrNBO5mCxaYEZ2PC", "FsmState"), Object.defineProperty(n, "__esModule", {value: !0}), n.FsmState = void 0;
            var r = function () {
                function e() {
                    this.context = null, this.stateId = "", this.stateMachine = null
                }

                return e.prototype.canTransition = function () {
                    return !0
                }, e.prototype.dispose = function () {
                    this.onDestroy(), this.stateId = "", this.stateMachine = null
                }, e.prototype.onAwake = function () {
                }, e.prototype.onEnter = function () {
                }, e.prototype.onExit = function () {
                }, e.prototype.onDestroy = function () {
                }, e
            }();
            n.FsmState = r, cc._RF.pop()
        }, {}],
        Game: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "9038b2OzUBGGry8KtlNHddi", "Game"), Object.defineProperty(n, "__esModule", {value: !0}), n.Game = void 0;
            var r = e("../common/scripts/fsm/StateMachine"), o = e("../common/scripts/managers/GlobalEntityManager"),
                i = cc._decorator.ccclass, a = function (e) {
                    function t() {
                        var t = null !== e && e.apply(this, arguments) || this;
                        return t._stateMachine = null, t
                    }

                    return __extends(t, e), Object.defineProperty(t, "instance", {
                        get: function () {
                            return this._getInstance(this)
                        }, enumerable: !1, configurable: !0
                    }), t.prototype.onLoad = function () {
                        e.prototype.onLoad.call(this), this._stateMachine = new r.StateMachine(null, "Game", !0)
                    }, t.prototype.onDestroy = function () {
                        this._stateMachine.dispose(), this._stateMachine = null, e.prototype.onDestroy.call(this)
                    }, Object.defineProperty(t.prototype, "stateMachine", {
                        get: function () {
                            return this._stateMachine
                        }, enumerable: !1, configurable: !0
                    }), __decorate([i], t)
                }(o.GlobalEntityManager);
            n.Game = a, cc._RF.pop()
        }, {
            "../common/scripts/fsm/StateMachine": "StateMachine",
            "../common/scripts/managers/GlobalEntityManager": "GlobalEntityManager"
        }],
        GlobalEntityManager: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "abee2JTeIZPXZGvshlJB7ek", "GlobalEntityManager"), Object.defineProperty(n, "__esModule", {value: !0}), n.GlobalEntityManager = n.initMgr = void 0;
            var r = cc._decorator, o = r.ccclass, i = (r.property, __importStar(e("@jimu/basis"))), a = new Map;
            n.initMgr = function () {
                return function (e) {
                    Object.getOwnPropertyDescriptor(e.prototype, "init") || console.error(e.name + " \u8bf7\u5b9e\u73b0init()\u65b9\u6cd5");
                    var t = e.prototype.init;
                    e.prototype.init = function () {
                        var e = Object.getPrototypeOf(this.constructor), n = e.prototype.initOver;
                        Reflect.apply(n, this, arguments), Reflect.apply(t, this, arguments)
                    };
                    var n = i.getClassID(e);
                    a.set(n, !0)
                }
            };
            var s = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t._isInit = !1, t
                }

                var n;
                return __extends(t, e), n = t, Object.defineProperty(t.prototype, "isInit", {
                    get: function () {
                        return this._isInit
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "isInitMgr", {
                    get: function () {
                        var e = i.getClassID(this.constructor);
                        return a.has(e)
                    }, enumerable: !1, configurable: !0
                }), t.prototype.initOver = function () {
                    this._isInit = !0
                }, t._getInstance = function (e) {
                    if (!e._instance || e._instance.constructor !== e) if (e === n) {
                        var t = new cc.Node("Global Entity");
                        t.parent = cc.director.getScene(), t.addComponent(e), cc.game.addPersistRootNode(t), cc.sys.entityNode1 = t
                    } else e._getInstance(n).node.addComponent(e);
                    return e._instance
                }, t.prototype.onLoad = function () {
                    var e = this, t = this.constructor;
                    t._instance && t._instance.constructor === t ? (console.warn("The singleton has been created."), Promise.resolve().then(function () {
                        e.node.isValid && e.node.destroy()
                    })) : (t._instance = this, cc.game.isPersistRootNode(this.node) || cc.game.addPersistRootNode(this.node), this.isInitMgr || this.initOver())
                }, t.prototype.onDestroy = function () {
                    var e = this.constructor;
                    e._instance === this && (e._instance = null)
                }, t._instance = null, n = __decorate([o], t)
            }(cc.Component);
            n.GlobalEntityManager = s, cc._RF.pop()
        }, {"@jimu/basis": 6}],
        GlobalSignal: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "3abe0wCG+BE7qWlgnFwJHns", "GlobalSignal"), Object.defineProperty(n, "__esModule", {value: !0}), n.GlobalSignal = void 0;
            var r = __importStar(e("@jimu/basis"));
            n.GlobalSignal = {
                EventBattlePaused: r.Signal.create(),
                EventBattleResumed: r.Signal.create(),
                LoadingProgress: r.Signal.create(),
                LoadingProgressDetail: r.Signal.create(),
                EventO4eInited: r.Signal.create(),
                EventMainConnectClosed: r.Signal.create(),
                EventSwitchInited: r.Signal.create(),
                EventEnterMain: r.Signal.create(),
                ResDecBundleRef: r.Signal.create(),
                EventVideoCallback: r.Signal.create(),
                EventEnterGame: r.Signal.create(),
                Wx_OnShow: r.Signal.create(),
                Wx_OnHide: r.Signal.create(),
                EventShowWaiting: r.Signal.create(),
                EventHideWaiting: r.Signal.create(),
                EventMemoryWarning: r.Signal.create(),
                EventPopTips: r.Signal.create(),
                EventPrivacyOpen: r.Signal.create(),
                CustomEvent: r.Signal.create(),
                EventTouchEnd: r.Signal.create(),
                EventLevelComplete: r.Signal.create(),
                EventGameWin: r.Signal.create(),
                EventGameFail: r.Signal.create(),
                EventProxyUIDestroy: r.Signal.create(),
                EventCommonBattleStarted: r.Signal.create(),
                GameShow: r.Signal.create(),
                GameHide: r.Signal.create(),
                EventLoadComplete: r.Signal.create(),
                EventLogin: r.Signal.create(),
                EventSwitchRoleEnd: r.Signal.create(),
                EventNetReconnect: r.Signal.create(),
                EventLoginError: r.Signal.create(),
                EventCrossDay: r.Signal.create(),
                EventCrossDayDelay: r.Signal.create(),
                EventFullScreen: r.Signal.create(),
                UIShake: r.Signal.create(),
                EventScreenShot: r.Signal.create(),
                EventDownloadWarMap: r.Signal.create(),
                EventDownloadWarMapProgress: r.Signal.create(),
                EventRemoteModuleLoaded: r.Signal.create(),
                CPUStateChange: r.Signal.create(),
                BattleErrorCode: r.Signal.create(),
                BattleCodeChanged: r.Signal.create(),
                LevelBattleReset: r.Signal.create(),
                LevelBattleCreate: r.Signal.create(),
                LevelBattleStart: r.Signal.create(),
                LevelBattleEnd: r.Signal.create(),
                SyncLevelBattleRewards: r.Signal.create(),
                LevelFighterDead: r.Signal.create(),
                LordTouchAttack: r.Signal.create(),
                UpdateLevelReward: r.Signal.create(),
                ResetLevelReward: r.Signal.create(),
                ShowGoldCountEffect: r.Signal.create(),
                BeforeGoto: r.Signal.create(),
                AfterGoto: r.Signal.create(),
                ModuleUnlocked: r.Signal.create(),
                ModuleReadyLock: r.Signal.create(),
                BattleLayerClick: r.Signal.create(),
                EventRedUpdate: r.Signal.create(),
                SyncAutoClickTime: r.Signal.create(),
                EventBattleVisible: r.Signal.create(),
                EventTopModuleChange: r.Signal.create(),
                EventGuideStepStart: r.Signal.create(),
                EventGuideStepOver: r.Signal.create(),
                EventGuideIgnore: r.Signal.create(),
                EventHeroTeamDrop: r.Signal.create(),
                EventTowerStagePass: r.Signal.create(),
                EventTaskUpdate: r.Signal.create(),
                SyncRoleBefore: r.Signal.create(),
                SyncRoleAfter: r.Signal.create(),
                SyncGold: r.Signal.create(),
                SyncDiamond: r.Signal.create(),
                SyncHeroList: r.Signal.create(),
                SyncItemList: r.Signal.create(),
                SyncHangUp: r.Signal.create(),
                SyncStatistics: r.Signal.create(),
                SyncActivity: r.Signal.create(),
                SyncBattleTeam: r.Signal.create(),
                SyncLordAttack: r.Signal.create(),
                SyncLordAutoAttack: r.Signal.create(),
                SyncLevelId: r.Signal.create(),
                SyncChapterId: r.Signal.create(),
                SyncAchieve: r.Signal.create(),
                SyncDailyTask: r.Signal.create(),
                SyncDailyTaskRest: r.Signal.create(),
                SyncBattlePassTask: r.Signal.create(),
                EventBuyCardSuccess: r.Signal.create(),
                EventBuyFundSuccess: r.Signal.create(),
                SyncFeudatory: r.Signal.create(),
                SyncFeudatoryBoss: r.Signal.create(),
                SyncBottleOccupy: r.Signal.create(),
                SyncBottleInfo: r.Signal.create(),
                SyncBottleInfoShowEvent: r.Signal.create(),
                SyncRecruitActivityInfoShowEvent: r.Signal.create(),
                SyncBenefit: r.Signal.create(),
                SyncDungeon: r.Signal.create(),
                SyncActDropInfo: r.Signal.create(),
                SyncBoxScoreActivityInfoShowEvent: r.Signal.create(),
                SyncArenaBattleActivityInfoShowEvent: r.Signal.create(),
                SyncArenaBattleActivityTopTipEvent: r.Signal.create(),
                SyncArenaSelfInfoUpdate: r.Signal.create(),
                SyncFriendExtInfoEvent: r.Signal.create(),
                SyncShopActivityTemplateInfoShowEvent: r.Signal.create(),
                SyncGoldenTouchReward: r.Signal.create(),
                AsyncClaimRewardV2: r.Signal.create(),
                SyncHeroArtifact: r.Signal.create(),
                SyncArtifact: r.Signal.create(),
                SyncArtifactSelected: r.Signal.create(),
                SyncArtifactBooks: r.Signal.create(),
                SyncSkinBooks: r.Signal.create(),
                SyncPrivilege: r.Signal.create(),
                SyncSpringFestival: r.Signal.create(),
                SyncCommonFestival: r.Signal.create(),
                SyncFishingActivityTopTipEvent: r.Signal.create(),
                SyncPearlActivityTopTipEvent: r.Signal.create(),
                SyncPearlClearTimesEvent: r.Signal.create(),
                SyncFishingActivityInfoShowEvent: r.Signal.create(),
                SyncFishingUI: r.Signal.create(),
                SyncLegionData: r.Signal.create(),
                SyncLegionInfo: r.Signal.create(),
                SyncLegionJoinOrLevel: r.Signal.create(),
                SyncLegionJob: r.Signal.create(),
                SyncLegionBossHp: r.Signal.create(),
                SyncLegionResources: r.Signal.create(),
                SyncLegionWarSignUpSuccess: r.Signal.create(),
                SyncRenameEvent: r.Signal.create(),
                EventInitLegionPanelPos: r.Signal.create(),
                EventJumpToActivityShopDialog: r.Signal.create(),
                EventRefreshExcitingActivity: r.Signal.create(),
                EventRefreshDailySpecial: r.Signal.create(),
                EventChargeSuccess: r.Signal.create(),
                EventRefreshHeroTeamPanel: r.Signal.create(),
                EventRefreshTimeGiftPanel: r.Signal.create(),
                EventBuyFiveGoods: r.Signal.create(),
                EventDungeonExit: r.Signal.create(),
                EventDungeonExitShop: r.Signal.create(),
                EventDungeonHeroConfirmed: r.Signal.create(),
                EventDungeonHeroSelected: r.Signal.create(),
                EventDungeonRefreshShopList: r.Signal.create(),
                EventDungeonBattleFinished: r.Signal.create(),
                EventDungeonBuffRewardEffect: r.Signal.create(),
                EventDungeonBeforeUseItem: r.Signal.create(),
                EventDungeonAfterUseItem: r.Signal.create(),
                EventQuizRefreshRound: r.Signal.create(),
                EventItemRewardDialogClose: r.Signal.create(),
                EventToolTipClose: r.Signal.create(),
                EventSyncChatMessage: r.Signal.create(),
                EventNewChatMessage: r.Signal.create(),
                EventGenieRefresh: r.Signal.create(),
                EventActivityFestivalBossPass: r.Signal.create(),
                EventBuyBattlePass: r.Signal.create(),
                EventBuyGenieSweepTicket: r.Signal.create(),
                PrimaryConfigOk: r.Signal.create(),
                EventGlobalTouch: r.Signal.create(),
                EventGlobalTouchEnd: r.Signal.create(),
                EventUpdateAFKState: r.Signal.create(),
                EventResetAFK: r.Signal.create(),
                EventEnterAFKChat: r.Signal.create(),
                EventGetKnowlegeCoin: r.Signal.create(),
                EventLegionBetDataUpdate: r.Signal.create(),
                SyncLegionBetItem: r.Signal.create(),
                EventCraftLegionBetDataUpdate: r.Signal.create(),
                SyncGloryInfo: r.Signal.create(),
                EventHideQuiz: r.Signal.create(),
                EventWeaponRewardReceived: r.Signal.create(),
                EventSetWeapon: r.Signal.create(),
                EventCloseWeaponPanel: r.Signal.create(),
                SyncSignCelebration: r.Signal.create(),
                EventBuyForecastSuccess: r.Signal.create(),
                EventRepayOrderSuccess: r.Signal.create(),
                EventBuyRoomMerchSuccess: r.Signal.create(),
                EventBuyTournamentSuccess: r.Signal.create(),
                EventBuyHorseSuccess: r.Signal.create(),
                EventBuyTimeComboGiftSuccess: r.Signal.create(),
                SyncLegionItemAndSkin: r.Signal.create(),
                EventBuyLegionSkinSuccess: r.Signal.create(),
                EventSaveLegionSkinSuccess: r.Signal.create(),
                EventGVGSetTeamResult: r.Signal.create(),
                EventGVGInfoUpdate: r.Signal.create(),
                EventGVGSignUp: r.Signal.create(),
                EventCheerUpSuccess: r.Signal.create(),
                SyncChatUnReadMsgNum: r.Signal.create(),
                SyncSnowballInfo: r.Signal.create(),
                EventTeamCreate: r.Signal.create(),
                EventTeamUpdate: r.Signal.create(),
                EventTeamUpJoin: r.Signal.create(),
                EventTeamUpInMap: r.Signal.create(),
                EventEnterTeam: r.Signal.create(),
                EventTeamWaitConfirm: r.Signal.create(),
                EventTeamUpDialogUpdate: r.Signal.create(),
                EventNightmareAsyncError: r.Signal.create(),
                EventNightmareUpdate: r.Signal.create(),
                EventNightmareDeployUpdate: r.Signal.create(),
                EventNightmareBattleStart: r.Signal.create(),
                EventNightmareSettlement: r.Signal.create(),
                EventRoomLightUpdate: r.Signal.create(),
                EventContinueBattleFinish: r.Signal.create(),
                EventNightmareMapUpdate: r.Signal.create(),
                EventSyncSeason: r.Signal.create(),
                SyncArenaChatMessage: r.Signal.create(),
                SyncPKRoomChatMessage: r.Signal.create(),
                SyncSkyWarChatMessage: r.Signal.create(),
                SyncSpecificsTeam: r.Signal.create(),
                EventSpecificsTeamShare: r.Signal.create(),
                EventRefreshCardContent: r.Signal.create(),
                EventClaimCardReward: r.Signal.create(),
                EventRecruitCDLimit: r.Signal.create(),
                EventRefreshStore: r.Signal.create(),
                EventRoomPKQueueNotify: r.Signal.create(),
                EventRoomPKQueueCreateNotify: r.Signal.create(),
                EventRoomPKEndNotify: r.Signal.create(),
                EventRoomPKFightNotify: r.Signal.create(),
                EventRoomPKUpdateNotify: r.Signal.create(),
                EventRoomPKKickOutNotify: r.Signal.create(),
                EventRoomPKNewBattle: r.Signal.create(),
                EventRoomPKBattleEnd: r.Signal.create(),
                EventRoomPKShowBattleResult: r.Signal.create(),
                EventRoomPKRuleUpdated: r.Signal.create(),
                EventRoomPKReplyChangeResp: r.Signal.create(),
                EventRoomPKApplyChangeResp: r.Signal.create(),
                EventCloseTopChat: r.Signal.create(),
                EventLeftBarChange: r.Signal.create(),
                EventQueryOnShow: r.Signal.create(),
                EventRespOnShow: r.Signal.create(),
                EventQueryCheckScene: r.Signal.create(),
                EventRespCheckScene: r.Signal.create(),
                EventQueryNavigate: r.Signal.create(),
                EventSubRetreatRoleLogin: r.Signal.create(),
                EventSubRetreatRoleLogout: r.Signal.create(),
                EventSubRoleUpdate: r.Signal.create(),
                EventSubRolePushLvl: r.Signal.create(),
                EventCleanSubRole: r.Signal.create(),
                EventRingMatchStateUpdate: r.Signal.create(),
                EventRingRefresh: r.Signal.create(),
                EventClickTournament: r.Signal.create(),
                EventTournamentPowerUpdate: r.Signal.create(),
                EventTournamentPowerAdjust: r.Signal.create(),
                EventTournamentSaveTeamInfo: r.Signal.create(),
                EventTournamentUseTeamInfo: r.Signal.create(),
                EventTournamentShowGamePanel: r.Signal.create(),
                EventTournamentTopName: r.Signal.create(),
                EventDialogOpen: r.Signal.create(),
                EventDialogClose: r.Signal.create(),
                EventBattleMapLoadFinish: r.Signal.create(),
                KeyPress: r.Signal.create(),
                EventBundleDownloadTaskProgress: r.Signal.create(),
                EventConfigsModifyVerify: r.Signal.create(),
                UIPackageRef: r.Signal.create(),
                EventSkipGuide: r.Signal.create(),
                EventEnterBattle: r.Signal.create(),
                EventLeaveBattle: r.Signal.create(),
                EventCancelQueue: r.Signal.create(),
                EventUpdateQueue: r.Signal.create(),
                EventEnterQueue: r.Signal.create(),
                EventSkyInMap: r.Signal.create(),
                EventBuyResurrectBall: r.Signal.create(),
                EventMultiTowerUpdate: r.Signal.create(),
                EventMultiTowerCostUpdate: r.Signal.create(),
                EventLeftBarCheck: r.Signal.create(),
                EventPlayHomeBottomBar: r.Signal.create(),
                EventPresetTeamSelected: r.Signal.create(),
                EventPresetTeamClosed: r.Signal.create(),
                EventRefreshPearl: r.Signal.create(),
                EventSkyHorseProLegionUpdated: r.Signal.create(),
                EventSkyHorseProBattleStateChanged: r.Signal.create(),
                EventSkyHorseRefreshBag: r.Signal.create(),
                EventSkyHorseRefreshTeamBtn: r.Signal.create(),
                EventSkyHorsePickAward: r.Signal.create(),
                EventSkyRewardNotify: r.Signal.create(),
                EventPlayRogueAddPos: r.Signal.create(),
                EventRefreshRogueUI: r.Signal.create(),
                EventRefreshRogueRolePos: r.Signal.create(),
                EventRogueDeployAnim: r.Signal.create(),
                EventRogueCoinUpdate: r.Signal.create(),
                EventRogueCTimesUpdate: r.Signal.create(),
                EventRogueRefreshShop: r.Signal.create(),
                EventRogueResetNotify: r.Signal.create(),
                EventSkyHorseBattlefieldRebuildSuccess: r.Signal.create(),
                EventRefreshPearlSkill: r.Signal.create(),
                EventRefreshPearlSkillAnim: r.Signal.create(),
                EventBottleRobotBottleGet: r.Signal.create(),
                EventBottleRobotStopped: r.Signal.create(),
                EventH5ChooseImageErr: r.Signal.create(),
                EventRefreshRoleHeadImg: r.Signal.create(),
                EventRefreshRogueRedDot: r.Signal.create(),
                EventDisableTowerBackBtn: r.Signal.create(),
                EventRefreshLeftBtns: r.Signal.create(),
                EventRefreshCardTowerUI: r.Signal.create(),
                EventRefreshCardTowerPreviewUI: r.Signal.create(),
                EventRefreshCardTowerPreviewUIWithOutClose: r.Signal.create(),
                EventCardTowerDeployAnim: r.Signal.create(),
                EventRefreshCardTowerShopUI: r.Signal.create(),
                EventRefreshCardTowerEquipUI: r.Signal.create(),
                EventRefreshNightmareCharmUI: r.Signal.create(),
                EventRefreshNightmarePanel: r.Signal.create(),
                EventUpdateTeamTips: r.Signal.create(),
                EventSetMainTip: r.Signal.create(),
                EventCloseSkyPanel: r.Signal.create(),
                EventCloseTeamUpPanel: r.Signal.create(),
                EventNightmareBuyCharm: r.Signal.create(),
                EventRefreshCharm: r.Signal.create(),
                EventRefreshNightmareBook: r.Signal.create(),
                EventRefreshTimeComboGift: r.Signal.create(),
                EventStartActBingo: r.Signal.create(),
                EventRefreshBingo: r.Signal.create(),
                EventRefreshTower: r.Signal.create(),
                EventBossTeamCreate: r.Signal.create(),
                EventBossTeamJoin: r.Signal.create(),
                EventBossTeamKick: r.Signal.create(),
                EventBossTeamUpdate: r.Signal.create(),
                EventBossTeamBattleStart: r.Signal.create(),
                EventBossTeamDelete: r.Signal.create(),
                EventBossNextBattle: r.Signal.create(),
                EventBossTowerUIFadeIn: r.Signal.create(),
                EventBossShowNextLevel: r.Signal.create(),
                EventBossNotPasstLevel: r.Signal.create(),
                EventBossShowBoxDamage: r.Signal.create(),
                EventBossTowerUIRefresh: r.Signal.create(),
                EventBossTowerRefreshTeamID: r.Signal.create(),
                EventBossTowerSendHallToWorld: r.Signal.create(),
                EventBossTowerLevelReward: r.Signal.create(),
                EventDoBossTowerUnlock: r.Signal.create(),
                EventRefreshTowerHelpNotify: r.Signal.create(),
                EventJumpActIndex: r.Signal.create(),
                EventRefreshFirstCharge: r.Signal.create(),
                EventSettingDialogHideWXCircle: r.Signal.create(),
                EventSettingDialogShowWXCircle: r.Signal.create()
            }, cc._RF.pop()
        }, {"@jimu/basis": 6}],
        GlobalVarManager: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "385ceatJotHraYwVU3gvlgj", "GlobalVarManager"), Object.defineProperty(n, "__esModule", {value: !0}), n.REMOVE_GLOBAL_CHANGED_EVENT = n.ADD_GLOBAL_CHANGED_EVENT = n.REMOVE_GLOBAL = n.SET_GLOBAL = n.GET_GLOBAL = n.HAS_GLOBAL = n.GlobalVarManager = void 0;
            var r = e("@jimu/basis"), o = e("./GlobalEntityManager"), i = e("../../../config/Configs"),
                a = cc._decorator.ccclass, s = function (e) {
                    function t() {
                        var t = null !== e && e.apply(this, arguments) || this;
                        return t.version = GAME_VERSION, t.language = i.LanguageType.CHINESE, t.branch = "Trunk", t.onValueChange = r.Signal.create(), t.benchmarkLevel = 0, t.memorySize = 0, t.debug = !!globalThis && "Test" === globalThis.ENV, t.isNewUser = !1, t.isAudit = !1, t.isEnterMain = !1, t.switchAccount = !1, t._values = new Map, t
                    }

                    return __extends(t, e), Object.defineProperty(t, "instance", {
                        get: function () {
                            return this._getInstance(this)
                        }, enumerable: !1, configurable: !0
                    }), t.prototype.onLoad = function () {
                        e.prototype.onLoad.call(this), this.clear(), this.onValueChange = r.Signal.create()
                    }, t.prototype.onDestroy = function () {
                        r.getPool(r.Signal, !0).return(this.onValueChange), this.version = "", this.onValueChange = null, this.benchmarkLevel = 0, this.memorySize = 0, this.debug = !1, this.isNewUser = !1, this.isAudit = !1, this.isEnterMain = !1, this._values && this._values.clear(), this._values = null, e.prototype.onDestroy.call(this)
                    }, t.prototype.setBenchmarkLevel = function (e) {
                        this.benchmarkLevel = e
                    }, t.prototype.setMemorySize = function (e) {
                        this.memorySize = e
                    }, t.prototype.setAudit = function (e) {
                        this.isAudit = e
                    }, t.prototype.clear = function () {
                        this._values.clear()
                    }, t.prototype.has = function (e) {
                        return this._values.has(e)
                    }, t.prototype.get = function (e, t) {
                        return this._values.has(e) ? this._values.get(e) : t
                    }, t.prototype.set = function (e, t) {
                        var n = this.onValueChange, r = this._values;
                        return r.get(e) !== t && (r.set(e, t), n.dispatch(this, e, t), !0)
                    }, t.prototype.remove = function (e) {
                        var t = this.onValueChange, n = this._values;
                        return !!n.has(e) && (n.delete(e), t.dispatch(this, e, void 0), !0)
                    }, __decorate([a], t)
                }(o.GlobalEntityManager);
            n.GlobalVarManager = s, n.HAS_GLOBAL = function (e) {
                return s.instance.has(e)
            }, n.GET_GLOBAL = function (e, t) {
                return s.instance.get(e, t)
            }, n.SET_GLOBAL = function (e, t) {
                return s.instance.set(e, t)
            }, n.REMOVE_GLOBAL = function (e) {
                return s.instance.remove(e)
            }, n.ADD_GLOBAL_CHANGED_EVENT = function (e, t, n) {
                return s.instance.onValueChange.add(e, t, n)
            }, n.REMOVE_GLOBAL_CHANGED_EVENT = function (e, t) {
                return s.instance.onValueChange.remove(e, t)
            }, cc._RF.pop()
        }, {"../../../config/Configs": "Configs", "./GlobalEntityManager": "GlobalEntityManager", "@jimu/basis": 6}],
        HortorSwitch: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "727dfXsKV9Nuqv4S6toWi6J", "HortorSwitch"), Object.defineProperty(n, "__esModule", {value: !0}), n.HortorSwitch = void 0;
            var r = e("../../../config/Configs"), o = e("../Defer"), i = function () {
                function e(e) {
                    this._readySwitches = [], this._readyParams = new Map, this._fixedParams = new Map, this._checkSwitch = null, this._switchResult = new Map, this._requestDefer = null, this._requestSwitchesFunc = null, this._requestSwitchesFunc = e, this.clear()
                }

                return e.prototype.clear = function () {
                    this._checkSwitch = {
                        switchIdList: [],
                        params: {}
                    }, this._readySwitches.length = 0, this._readyParams.clear(), this._fixedParams.clear(), this._switchResult.clear()
                }, e.prototype.requestInterfaces = function () {
                    return this._requestDefer || (this._requestDefer = new o.Defer, this._requestInterfaces()), this._requestDefer.promise
                }, e.prototype._requestInterfaces = function () {
                    return __awaiter(this, void 0, void 0, function () {
                        var e, t, n, r, o, i, a, s, c;
                        return __generator(this, function (u) {
                            switch (u.label) {
                                case 0:
                                    for (e = this._checkSwitch, t = e.switchIdList, n = e.params, t.length = 0, r = 0, o = this._readySwitches; r < o.length; r++) i = o[r], t.push(i);
                                    return n && this._readyParams.forEach(function (e, t) {
                                        n[t] = e
                                    }), this._checkSwitch.switches = t, this._readySwitches.length = 0, this._readyParams.clear(), console.info("_requestInterfaces:", this._checkSwitch), [4, this._requestSwitchesFunc(this._checkSwitch)];
                                case 1:
                                    for (s in a = u.sent()) c = a[s] > 0, this._switchResult.set(s, c), console.warn("\u5f00\u5173" + s, c);
                                    return this._requestDefer && this._requestDefer.resolve && (this._requestDefer.resolve(), this._requestDefer = null), [2]
                            }
                        })
                    })
                }, e.prototype._request = function (e, t, n) {
                    return __awaiter(this, void 0, void 0, function () {
                        var r = this;
                        return __generator(this, function (o) {
                            switch (o.label) {
                                case 0:
                                    return this._readySwitches.push(e), t && t.forEach(function (e, t) {
                                        r._readyParams.set(t, e)
                                    }), [4, this.requestInterfaces()];
                                case 1:
                                    return o.sent(), n && n(), [2]
                            }
                        })
                    })
                }, e.prototype.check = function (e, t, n) {
                    return this._switchResult.has(e) ? this._switchResult.get(e) : (console.warn("\u5f00\u5173" + e + "\uff1a\u9519\u8bef\u7684\u8c03\u7528\u65b9\u5f0f"), console.warn("1.\u8bf7\u4e0d\u8981\u5728initSwitches\u4e4b\u524d\u8c03\u7528CHECK_SWITCH"), console.warn("2.\u8c03\u7528\u5f00\u5173\uff1aCHECK_SWITCH(" + e + ") \u4e4b\u524d\uff0c\u8bf7\u5148\u8c03\u7528initSwitches\u8fdb\u884c\u521d\u59cb\u5316"), this._request(e, t, n), !1)
                }, e.prototype.checkAsync = function (e, t) {
                    var n = this._switchResult;
                    if (n.has(e)) return n.get(e);
                    var r = new o.Defer;
                    return this.check(e, t, function () {
                        r.resolve(n.get(e))
                    }), r.promise
                }, e.prototype.initRequest = function (e, t, n) {
                    return __awaiter(this, void 0, void 0, function () {
                        var o = this;
                        return __generator(this, function (i) {
                            switch (i.label) {
                                case 0:
                                    return this.clear(), this._readySwitches = e.slice(), t.forEach(function (e, t) {
                                        o._readyParams.set(t, e), o._fixedParams.set(t, e)
                                    }), [4, this.requestInterfaces()];
                                case 1:
                                    return i.sent(), this._switchResult.has(r.SwitchId.CHECK_AUDIT) && this.check(r.SwitchId.AUDIT_WHITE_LIST) && this._switchResult.set(r.SwitchId.CHECK_AUDIT, !1), n && n(), [2]
                            }
                        })
                    })
                }, e.prototype.updateRequest = function (e, t, n) {
                    return __awaiter(this, void 0, void 0, function () {
                        var r, o, i, a, s;
                        return __generator(this, function (c) {
                            switch (c.label) {
                                case 0:
                                    return c.trys.push([0, 2, , 3]), r = this._checkSwitch.params, o = {
                                        switchIdList: e,
                                        params: r
                                    }, t.forEach(function (e, t) {
                                        o.params[t] = e
                                    }), console.info("updateRequest:", o), [4, this._requestSwitchesFunc(o)];
                                case 1:
                                    for (a in i = c.sent()) s = i[a] > 0, this._switchResult.set(a, s), console.warn("\u66f4\u65b0\u5f00\u5173" + a, s);
                                    return [3, 3];
                                case 2:
                                    return c.sent(), console.warn("\u66f4\u65b0\u5f00\u5173\u5931\u8d25"), [3, 3];
                                case 3:
                                    return n && n(), [2]
                            }
                        })
                    })
                }, e
            }();
            n.HortorSwitch = i, cc._RF.pop()
        }, {"../../../config/Configs": "Configs", "../Defer": "Defer"}],
        Launcher: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "f5ce8gzRX5ET7keNw43jpJj", "Launcher"), Object.defineProperty(n, "__esModule", {value: !0}), n.Launcher = n.OPEN_HEAD_LESS = void 0, e("../common/libs/polyfills"), e("ts-md5"), e("@o4e/cc-mobx"), e("@jimu/basis"), e("@jimu/ecs"), e("@jimu/gltf"), e("@jimu/serdes"), e("@hortor/cc-astc-patch").astcPatch().then(function (e) {
                globalThis.astc = e
            }), e("./patches/index-patch"), "undefined" == typeof PLATFORM && (PLATFORM = "dev", ENV = "Dev", APPID = "dev", CDN = "dev", SERVER = "dev", GAME_NAME = "dev", GAME_ID = "dev", GAME_VERSION = "dev", COMMIT_ID = "dev", CONFIG_COMMIT_ID = "dev", RESOURCES_COMMIT_ID = "dev", DOWNLOAD_URL = "dev", VERSION_POSTFIX = "", CDNS = []);
            var r = e("../common/scripts/types-common"), o = e("../common/scripts/managers/GlobalEntityManager"),
                i = e("../common/scripts/managers/GlobalVarManager"),
                a = e("../common/scripts/managers/PlatformManager"), s = e("../config/Configs"), c = e("./Game"),
                u = e("./game-states/launcher-init"), l = e("./game-states/mini-check-update"),
                f = e("./game-states/load-game-scene"), d = e("./game-states/load-manifest"),
                p = e("./game-states/platform-login"), h = e("./game-states/load-error"),
                g = e("../common/scripts/GlobalSignal");
            e("./version-ext");
            var m = e("../common/scripts/managers/ResourceManager");
            n.OPEN_HEAD_LESS = !1, n.OPEN_HEAD_LESS && (cc.renderer.render = function () {
            });
            var _ = cc._decorator, v = _.ccclass, E = _.property, y = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.container = null, t.progressBar = null, t.progressLabel = null, t.progressBarHeader = null, t.loadingParticle = null, t.progressBarHeaderOffset = 0, t.progressBarHeaderTotal = 100, t.releaseAssets = [], t.postprocess = null, t.ccCanvas = null, t.ccWidget = null, t.dustAndScratches = null, t.loadingDesc = null, t.codeVersion = null, t.loadingFish = null, t._retryCnt = 0, t._finish = 0, t._total = 3, t._autoUpdate = !1, t._progressOffset = 0, t._progressPercentage = 0, t._progressDesc = "", t._onLoadFlag = !1, t._loadingComplete = !1, t._timeoutId = null, t._codeOnly = !1, t._loadingStepData = new Map([[r.LoadingStepKey.PlatformLogin, {
                        step: r.LoadingPercentage.PlatformLogin,
                        lan: r.LoadingDesc.PlatformLogin,
                        progress: 0
                    }], [r.LoadingStepKey.GameManifest, {
                        step: r.LoadingPercentage.GameManifest,
                        lan: r.LoadingDesc.GameManifest,
                        progress: 0
                    }], [r.LoadingStepKey.GameScene, {
                        step: r.LoadingPercentage.GameScene,
                        lan: r.LoadingDesc.GameScene,
                        progress: 0
                    }], [r.LoadingStepKey.GameLogin, {
                        step: r.LoadingPercentage.GameLogin,
                        lan: r.LoadingDesc.GameLogin,
                        progress: 0
                    }], [r.LoadingStepKey.Config, {
                        step: r.LoadingPercentage.Config,
                        lan: r.LoadingDesc.Config,
                        progress: 0
                    }], [r.LoadingStepKey.UILoading, {
                        step: r.LoadingPercentage.UILoading,
                        lan: r.LoadingDesc.UILoading,
                        progress: 0
                    }], [r.LoadingStepKey.UIHome, {
                        step: r.LoadingPercentage.UIHome,
                        lan: r.LoadingDesc.UIHome,
                        progress: 0
                    }], [r.LoadingStepKey.Map, {
                        step: r.LoadingPercentage.Map,
                        lan: r.LoadingDesc.Map,
                        progress: 0
                    }]]), t
                }

                return __extends(t, e), Object.defineProperty(t, "instance", {
                    get: function () {
                        return this._getInstance(this)
                    }, enumerable: !1, configurable: !0
                }), t.prototype._getLanguageContent = function (e) {
                    var t = this._loadingStepData, n = this.loadingDesc, r = t.has(e) ? t.get(e).lan : "", o = n.json,
                        a = i.GlobalVarManager.instance.language;
                    return o && o[r] ? o[r][a] ? o[r][a] : o[r][s.LanguageType.LANGUAGE_EN] : ""
                }, t.prototype._percentToStage = function (e) {
                    for (var t, n = 0, o = 0, i = Object.keys(r.LoadingStepKey); o < i.length; o++) {
                        var a = i[o], s = r.LoadingStepKey[a];
                        if (n += (null === (t = this._loadingStepData.get(s)) || void 0 === t ? void 0 : t.step) || 0, Math.abs(e - n) < 1e-6) return s
                    }
                    return r.LoadingStepKey.PlatformLogin
                }, t.prototype._setProgressDescByStep = function (e) {
                    this._progressDesc = this._getLanguageContent(e), this.progressLabel && (this.progressLabel.string = this._progressDesc)
                }, t.prototype.releaseUnusedAssets = function () {
                    var e = this.loadingFish;
                    e && m.ResourceManager.instance.releaseSpineAssetManually(e)
                }, t.prototype.disposeUnusedAssets = function () {
                    var e = this.loadingFish, t = this.loadingDesc;
                    e && m.ResourceManager.instance.releaseSpineAssetManually(e), m.ResourceManager.instance.releaseSpineAssetManually(e), t && cc.assetManager.releaseAsset(t);
                    var n = function (e) {
                        if (e) {
                            if (e.getComponent(cc.Sprite)) {
                                var t = e.getComponent(cc.Sprite);
                                t.spriteFrame && cc.assetManager.releaseAsset(t.spriteFrame)
                            }
                            e.children.forEach(function (e) {
                                n(e)
                            })
                        }
                    };
                    ["Canvas/container"].forEach(function (e) {
                        var t = cc.find(e);
                        t && n(t)
                    });
                    var o = i.GET_GLOBAL(r.GlobalVarKey.UserAgreementPrefab),
                        a = i.GET_GLOBAL(r.GlobalVarKey.PrivacyPolicyPrefab);
                    o && cc.assetManager.releaseAsset(o), a && cc.assetManager.releaseAsset(a), i.SET_GLOBAL(r.GlobalVarKey.UserAgreementPrefab, void 0), i.SET_GLOBAL(r.GlobalVarKey.PrivacyPolicyPrefab, void 0)
                }, t.prototype._onEnterGame = function () {
                    this._timeoutId && clearTimeout(this._timeoutId), this._timeoutId = null, this._loadingComplete = !0, a.PlatformManager.instance.log(r.TGAEvent.Loading, {step: "complete"}), this.destroy(), this.releaseUnusedAssets()
                }, t.prototype._onUpdateProgress = function (e, t, n) {
                    void 0 === t && (t = !1), void 0 === n && (n = 3), t && (this._progressOffset = 0, this._progressPercentage = 0, this._setProgressDescByStep(e));
                    var r = this._loadingStepData.get(e), o = r.progress || 0, i = r.step || 0;
                    this._nextProgress(o, i, this._getLanguageContent(e), n)
                }, t.prototype._onUpdateProgressDesc = function (e) {
                    var t = this._progressOffset + this._progressPercentage, n = this._percentToStage(t);
                    if (n === r.LoadingStepKey.Config || n === r.LoadingStepKey.Map) {
                        var o = this._getLanguageContent(n);
                        this._progressDesc = o + " " + e + "%", this._setProgressDescByStep(n)
                    }
                }, t.prototype._nextProgress = function (e, t, n, o) {
                    void 0 === n && (n = ""), void 0 === o && (o = 3), this._finish = 0, this._total = o > 0 ? o : 3, this._autoUpdate = o > 0, this._progressOffset = e, this._progressPercentage = t, this._progressDesc = n;
                    var i = r.LoadingPercentage.PlatformLogin + r.LoadingPercentage.GameManifest + r.LoadingPercentage.GameScene + r.LoadingPercentage.GameLogin;
                    this._progressOffset < i || (this._showCleanExceptionBtn(!1), this._timeoutId && clearTimeout(this._timeoutId), this._timeoutId = setTimeout(function (e, t) {
                        this._loadingComplete || t === this._retryCnt && Math.abs(this._progressOffset - e) < 1e-5 && this._showCleanExceptionBtn(!0)
                    }.bind(this, this._progressOffset, this._retryCnt), 2e5 * t))
                }, t.prototype._showCleanExceptionBtn = function (e, t) {
                    this._codeOnly = t || !1, cc.find("Canvas/container/clean").active = e
                }, t.prototype.onLoad = function () {
                    return __awaiter(this, void 0, void 0, function () {
                        var t, n, o;
                        return __generator(this, function () {
                            return e.prototype.onLoad.call(this), console.log("Launcher onLoad"), t = 0, this._loadingStepData.forEach(function (e) {
                                e.progress = t, t += e.step, t = parseFloat(t.toFixed(1))
                            }), this.codeVersion.string = CODE_VERSION, this._showCleanExceptionBtn(!1), this._setProgressDescByStep(r.LoadingStepKey.PlatformLogin), n = a.PlatformManager.instance, (o = c.Game.instance.stateMachine).register(r.GameState.LoadingError, new h.LoadErrorState), o.register(r.GameState.LauncherInit, new u.LauncherInitState), o.register(r.GameState.HotUpdate, new l.MiniCheckUpdateState), o.register(r.GameState.PlatformLogin, new p.PlatformLoginState), o.register(r.GameState.Manifest, new d.LoadManifestState), o.register(r.GameState.LoadGameScene, new f.LoadGameSceneState), o.transition(r.GameState.LauncherInit), n.isNative || n.isWeChat || n.isByteDance || this.onLoadFunc(), i.SET_GLOBAL(r.GlobalVarKey.DustAndScratches, this.dustAndScratches), [2]
                        })
                    })
                }, t.prototype.onDestroy = function () {
                    this.container && this.container.destroy(), this.container = null, e.prototype.onDestroy.call(this)
                }, t.prototype.onLoadFunc = function () {
                    return __awaiter(this, void 0, void 0, function () {
                        return __generator(this, function (e) {
                            switch (e.label) {
                                case 0:
                                    return this._onLoadFlag = !0, this.node.zIndex = 10, [4, c.Game.instance.stateMachine.transition(r.GameState.HotUpdate)];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.onEnable = function () {
                    g.GlobalSignal.LoadingProgress.on(this._onUpdateProgress, this), g.GlobalSignal.LoadingProgressDetail.on(this._onUpdateProgressDesc, this), g.GlobalSignal.EventEnterGame.on(this._onEnterGame, this)
                }, t.prototype.onDisable = function () {
                    g.GlobalSignal.LoadingProgress.off(this._onUpdateProgress, this), g.GlobalSignal.LoadingProgressDetail.off(this._onUpdateProgressDesc, this), g.GlobalSignal.EventEnterGame.off(this._onEnterGame, this)
                }, t.prototype.update = function (e) {
                    if (this._onLoadFlag) {
                        var t = this.progressBar, n = this.progressLabel, r = this.progressBarHeader,
                            o = this.loadingParticle;
                        if (t) {
                            var i = Math.max(Math.min(this._progressOffset + Math.min(this._finish / this._total, 1) * Math.min(this._progressPercentage, 1), 1), t.progress);
                            t.progress = i, n && (n.string = "" + (this._progressDesc ? this._progressDesc : "")), r && (r.x = this.progressBarHeaderOffset + this.progressBarHeaderTotal * i, r.active = i < 1), o && (o.x = i * t.node.width - 190)
                        }
                        this._autoUpdate && (this._finish += e, this._finish >= this._total && (this._finish = this._total - 1))
                    }
                }, t.prototype.onCleanException = function () {
                    var e, t, n;
                    return __awaiter(this, void 0, void 0, function () {
                        var r, o, i;
                        return __generator(this, function (s) {
                            switch (s.label) {
                                case 0:
                                    if (this._codeOnly) for (this._codeOnly = !1, r = 0, o = ["launcher", "game"]; r < o.length; r++) i = o[r], null === (t = null === (e = cc.assetManager.cacheManager) || void 0 === e ? void 0 : e.cleanCacheByBundleName) || void 0 === t || t.call(e, i); else null === (n = cc.assetManager.cacheManager) || void 0 === n || n.clearCache();
                                    return [4, new Promise(function (e) {
                                        return cc.Canvas.instance.scheduleOnce(e, .1)
                                    })];
                                case 1:
                                    return s.sent(), a.PlatformManager.instance.exitGame(), [2]
                            }
                        })
                    })
                }, __decorate([E(cc.Node)], t.prototype, "container", void 0), __decorate([E(cc.ProgressBar)], t.prototype, "progressBar", void 0), __decorate([E(cc.Label)], t.prototype, "progressLabel", void 0), __decorate([E(cc.Node)], t.prototype, "progressBarHeader", void 0), __decorate([E(cc.Node)], t.prototype, "loadingParticle", void 0), __decorate([E], t.prototype, "progressBarHeaderOffset", void 0), __decorate([E], t.prototype, "progressBarHeaderTotal", void 0), __decorate([E(cc.Asset)], t.prototype, "releaseAssets", void 0), __decorate([E(cc.Node)], t.prototype, "postprocess", void 0), __decorate([E(cc.Canvas)], t.prototype, "ccCanvas", void 0), __decorate([E(cc.Widget)], t.prototype, "ccWidget", void 0), __decorate([E(cc.Node)], t.prototype, "dustAndScratches", void 0), __decorate([E(cc.JsonAsset)], t.prototype, "loadingDesc", void 0), __decorate([E(cc.Label)], t.prototype, "codeVersion", void 0), __decorate([E(cc.Node)], t.prototype, "loadingFish", void 0), __decorate([v], t)
            }(o.GlobalEntityManager);
            n.Launcher = y, cc._RF.pop()
        }, {
            "../common/libs/polyfills": "polyfills",
            "../common/scripts/GlobalSignal": "GlobalSignal",
            "../common/scripts/managers/GlobalEntityManager": "GlobalEntityManager",
            "../common/scripts/managers/GlobalVarManager": "GlobalVarManager",
            "../common/scripts/managers/PlatformManager": "PlatformManager",
            "../common/scripts/managers/ResourceManager": "ResourceManager",
            "../common/scripts/types-common": "types-common",
            "../config/Configs": "Configs",
            "./Game": "Game",
            "./game-states/launcher-init": "launcher-init",
            "./game-states/load-error": "load-error",
            "./game-states/load-game-scene": "load-game-scene",
            "./game-states/load-manifest": "load-manifest",
            "./game-states/mini-check-update": "mini-check-update",
            "./game-states/platform-login": "platform-login",
            "./patches/index-patch": "index-patch",
            "./version-ext": "version-ext",
            "@hortor/cc-astc-patch": 10,
            "@jimu/basis": 6,
            "@jimu/ecs": 7,
            "@jimu/gltf": 8,
            "@jimu/serdes": 9,
            "@o4e/cc-mobx": 12,
            "ts-md5": 19
        }],
        LocalStorage: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "c5ec6ePjyFP2pOMGlyqXFo9", "LocalStorage"), Object.defineProperty(n, "__esModule", {value: !0}), n.GET_LOCAL_NUM = n.SET_LOCAL_NUM = n.GET_LOCAL_BOOL = n.SET_LOCAL_BOOL = n.REMOVE_LOCAL = n.GET_LOCAL = n.SET_LOCAL = n.StorageUtil = n.LocalStorage = n.SaveType = void 0;
            var r, o = e("./GlobalEntityManager");
            (function (e) {
                e[e.GLOBAL = 1] = "GLOBAL", e[e.ROLE = 2] = "ROLE"
            })(r = n.SaveType || (n.SaveType = {}));
            var i = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.log = null, t._localData = new Map, t.id = 0, t
                }

                return __extends(t, e), Object.defineProperty(t, "instance", {
                    get: function () {
                        return this._getInstance(this)
                    }, enumerable: !1, configurable: !0
                }), t.prototype.setId = function (e) {
                    this.id = e
                }, t.prototype.onDestroy = function () {
                    this._localData.clear(), e.prototype.onDestroy.call(this)
                }, t.prototype.getSaveKey = function (e, t) {
                    return t == r.ROLE ? "PREF#" + this.id + "#" + e : e.toString()
                }, t.prototype.setItem = function (e, t, n) {
                    void 0 === n && (n = r.GLOBAL);
                    var o = this.getSaveKey(e, n);
                    if (!o) return !1;
                    this._localData.set(o, t);
                    try {
                        return cc.sys.localStorage.setItem(o, t)
                    } catch (i) {
                        return this.log && this.log("LocalStorageSetError", {error: i}), !1
                    }
                }, t.prototype.getItem = function (e, t, n) {
                    void 0 === t && (t = r.GLOBAL);
                    var o = this.getSaveKey(e, t);
                    if (!o) return "";
                    var i = this._localData.get(o);
                    return void 0 === i && (i = cc.sys.localStorage.getItem(o)), i ? this._localData.set(o, i) : i = null != n ? n : "", i
                }, t.prototype.setDailyItem = function (e, t, n, o) {
                    void 0 === o && (o = r.GLOBAL), this.setItem(e, t + "," + n, o)
                }, t.prototype.getDailyItem = function (e, t, n, o) {
                    void 0 === n && (n = r.GLOBAL);
                    var i, a = this.getItem(e, n, "0,"), s = a.indexOf(",");
                    if (-1 === s) i = ""; else {
                        var c = a.substr(0, s), u = a.substring(s + 1);
                        i = +c === t ? u : ""
                    }
                    return void 0 !== i ? i : o
                }, t.prototype.removeItem = function (e, t) {
                    void 0 === t && (t = r.GLOBAL);
                    var n = this.getSaveKey(e, t);
                    n && (this._localData.delete(n), cc.sys.localStorage.removeItem(n))
                }, t.prototype.setBool = function (e, t, n) {
                    void 0 === n && (n = r.GLOBAL), this.setItem(e, t ? "true" : "false", n)
                }, t.prototype.getBool = function (e, t, n) {
                    void 0 === n && (n = r.GLOBAL);
                    var o = this.getItem(e, n), i = null != t && t;
                    return o && (i = "true" === o), i
                }, t.prototype.setNumber = function (e, t, n) {
                    void 0 === n && (n = r.GLOBAL), this.setItem(e, "" + t, n)
                }, t.prototype.getNumber = function (e, t, n) {
                    void 0 === n && (n = r.GLOBAL);
                    var o = this.getItem(e, n), i = null != t ? t : 0;
                    return o && ((i = +o) || 0 === i || (i = null != t ? t : 0)), i
                }, t.prototype.clear = function () {
                    this._localData.clear(), cc.sys.localStorage.clear()
                }, t
            }(o.GlobalEntityManager);
            n.LocalStorage = i;
            var a = function () {
                function e() {
                }

                return e.mapToObj = function (e) {
                    var t = {};
                    return e.forEach(function (e, n) {
                        t[n] = e
                    }), t
                }, e.objToStrMap = function (e) {
                    for (var t = new Map, n = 0, r = Object.keys(e); n < r.length; n++) {
                        var o = r[n];
                        t.set(parseInt(o), parseInt(e[o]))
                    }
                    return t
                }, e.jsonToMap = function (t) {
                    return e.objToStrMap(JSON.parse(t))
                }, e
            }();
            n.StorageUtil = a, n.SET_LOCAL = function (e, t, n) {
                return void 0 === n && (n = r.GLOBAL), i.instance.setItem(e, t, n)
            }, n.GET_LOCAL = function (e, t, n) {
                return void 0 === t && (t = r.GLOBAL), i.instance.getItem(e, t, n)
            }, n.REMOVE_LOCAL = function (e, t) {
                return void 0 === t && (t = r.GLOBAL), i.instance.removeItem(e, t)
            }, n.SET_LOCAL_BOOL = function (e, t, n) {
                return void 0 === n && (n = r.GLOBAL), i.instance.setBool(e, t, n)
            }, n.GET_LOCAL_BOOL = function (e, t, n) {
                return void 0 === n && (n = r.GLOBAL), i.instance.getBool(e, t, n)
            }, n.SET_LOCAL_NUM = function (e, t, n) {
                return void 0 === n && (n = r.GLOBAL), i.instance.setNumber(e, t, n)
            }, n.GET_LOCAL_NUM = function (e, t, n) {
                return void 0 === n && (n = r.GLOBAL), i.instance.getNumber(e, t, n)
            }, cc._RF.pop()
        }, {"./GlobalEntityManager": "GlobalEntityManager"}],
        LoginService: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "66a7cS0UMFIrrJFaLdYyVTe", "LoginService"), Object.defineProperty(n, "__esModule", {value: !0}), n.LoginService = n.s = n.sa = n.sha = void 0;
            var r = e("@o4e/core"), o = e("./types-common");
            n.sha = function (e) {
                return __awaiter(this, void 0, Promise, function () {
                    return __generator(this, function () {
                        return [2, r.HttpDelegate.current.sendAsync(e)]
                    })
                })
            }, n.sa = function (e) {
                return __awaiter(this, void 0, Promise, function () {
                    return __generator(this, function () {
                        return [2, r.WebSocketDelegate.current.sendAsync(e)]
                    })
                })
            }, n.s = function (e) {
                r.WebSocketDelegate.current.send(e)
            }, (n.LoginService || (n.LoginService = {})).manifest = function (e) {
                return __awaiter(this, void 0, Promise, function () {
                    return __generator(this, function () {
                        return [2, r.sendAuto({
                            cmd: o.CMDS.Login_Manifest,
                            params: e,
                            useHttp: !0,
                            respType: o.Login_ManifestResp
                        })]
                    })
                })
            }, cc._RF.pop()
        }, {"./types-common": "types-common", "@o4e/core": 13}],
        Log: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "1a4710rja9BPrW4pWlsgdqE", "Log"), Object.defineProperty(n, "__esModule", {value: !0}), n.Log = void 0;
            var r = function () {
                function e() {
                }

                return e.time = function (e) {
                    this._logTime.has(e), this._logTime.set(e, (new Date).valueOf())
                }, e.timeEnd = function (e) {
                    var t, n = (new Date).valueOf(), r = null !== (t = this._logTime.get(e)) && void 0 !== t ? t : n;
                    console.info("%c  " + e + ":  %c " + (n - r) + " ", "color: #fadfa3; background: #030307; padding:8px 0;", "color: #fff; background: #ff0000; padding:8px 0;")
                }, e._logTime = new Map, e
            }();
            n.Log = r, cc._RF.pop()
        }, {}],
        MaterialParameterUpdater: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "436fb+v4yJK1qLey35VWiSK", "MaterialParameterUpdater"), Object.defineProperty(n, "__esModule", {value: !0}), n.MaterialParameterUpdater = void 0;
            var r = cc._decorator.ccclass, o = cc._decorator.property, i = cc._decorator.menu, a = function () {
                function e() {
                    this.key = "", this.value = ""
                }

                return __decorate([o()], e.prototype, "key", void 0), __decorate([o()], e.prototype, "value", void 0), __decorate([r("materialParam")], e)
            }(), s = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.parameters = [], t.timeUpdate = !0, t._sprite = null, t._material = null, t._start = 0, t
                }

                return __extends(t, e), t.prototype._initProperty = function () {
                    if (this._sprite && this._material && this.parameters) for (var e = 0, t = this.parameters; e < t.length; e++) {
                        var n = t[e], r = n.key, o = n.value;
                        this.updateProperty(r, o)
                    }
                }, t.prototype._setShaderTime = function (e) {
                    this._material.setProperty("time", this._start), this._start += e
                }, t.prototype.onLoad = function () {
                    this._sprite = this.getComponent(cc.Sprite), this._sprite && (this._material = this._sprite.getMaterial(0)), this._start = 1e3 * Math.random(), this._initProperty()
                }, t.prototype.update = function (e) {
                    this._sprite && (this._material = this._sprite.getMaterial(0)), this.timeUpdate && this.node.active && this._material && null != this._material.getProperty("time", 0) && this._setShaderTime(e)
                }, t.prototype.updateProperty = function (e, t) {
                    if (!e || e.length <= 0 || void 0 === t) cc.warn("\u8bbe\u7f6e\u6750\u8d28\u53c2\u6570\u4e3a\u7a7a:", e, t); else {
                        this._sprite && (this._material = this._sprite.getMaterial(0));
                        var n = this._sprite, r = this._material;
                        n && r && null != r.getProperty(e, 0) && r.setProperty(e, JSON.parse(t))
                    }
                }, __decorate([o({
                    type: [a],
                    displayName: "\u53c2\u6570\u5217\u8868",
                    tooltip: "\u5411\u6750\u8d28\u4f20\u9012\u81ea\u5b9a\u4e49\u53c2\u6570,\u53c2\u6570\u7c7b\u578b\u4f1a\u8fdb\u884cjson\u8f6c\u6362."
                })], t.prototype, "parameters", void 0), __decorate([o({
                    displayName: "\u66f4\u65b0\u65f6\u95f4",
                    tooltip: "\u662f\u5426\u4f20\u9012\u65f6\u95f4\u53d8\u5316"
                })], t.prototype, "timeUpdate", void 0), __decorate([r, i("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Material Parameter")], t)
            }(cc.Component);
            n.MaterialParameterUpdater = s, cc._RF.pop()
        }, {}],
        OldFilmShaderHelper: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "8f7acOxZxtKz6dIxZBscxyi", "OldFilmShaderHelper"), Object.defineProperty(n, "__esModule", {value: !0}), n.OldFilmShaderHelper = void 0;
            var r = cc._decorator.ccclass, o = e("./MaterialParameterUpdater"), i = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t._materialComp = null, t
                }

                return __extends(t, e), t.prototype.onLoad = function () {
                    this._materialComp = this.getComponent(o.MaterialParameterUpdater)
                }, t.prototype.update = function () {
                    var e = 10 * Math.random() - 5;
                    this._materialComp.updateProperty("randomValue", e)
                }, __decorate([r], t)
            }(cc.Component);
            n.OldFilmShaderHelper = i, cc._RF.pop()
        }, {"./MaterialParameterUpdater": "MaterialParameterUpdater"}],
        PlatformManager: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "d6d69DNiJZFObbfMt/qigHp", "PlatformManager"), Object.defineProperty(n, "__esModule", {value: !0}), n.LOG_UIPACK = n.CHECK_SWITCH = n.TAG_LOG_ONCE_CHECK = n.TAG_LOG = n.IS_PROD = n.PlatformManager = n.NoticeType = void 0;
            var r, o = __importStar(e("@jimu/basis")), i = e("@o4e/core"), a = e("../types-common"),
                s = e("../LoginService"), c = e("../platform/platform-dev"), u = e("../platform/platform-h5"),
                l = e("../platform/platform-qq"), f = e("../platform/platform-wx"),
                d = e("../platform/platform-native"), p = e("./GlobalEntityManager"), h = e("./GlobalVarManager"),
                g = e("./ResourceManager"), m = e("../platform/platform-bytedance"), _ = e("../GlobalSignal"),
                v = e("../../../config/Configs"), E = e("../platform/platform-browser"), y = e("./VerifyHelper"),
                S = e("../../libs/platform/hortor/platform"), C = cc._decorator, A = C.ccclass;
            C.property, function (e) {
                e.UpdateVersion = "updateVersion"
            }(r = n.NoticeType || (n.NoticeType = {}));
            var T = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.authorizeDeferred = o.Deferred.create(null), t.encryptUserInfo = null, t._platformExtMapping = {
                        dev: {
                            ext: "",
                            id: 0,
                            type: ""
                        },
                        wx: {ext: "mix", id: 1, type: v.PlatformType.WX},
                        ios: {ext: "mix", id: 2, type: v.PlatformType.IOS},
                        android: {ext: "mix", id: 3, type: v.PlatformType.ANDROID},
                        qq: {ext: "qq", id: 4, type: v.PlatformType.QQ},
                        h5: {ext: "h5", id: 5, type: v.PlatformType.H5},
                        h5web: {ext: "h5web", id: 5, type: v.PlatformType.H5WEB},
                        bytedance: {ext: "mix", id: 6, type: v.PlatformType.BYTEDANCE},
                        web: {ext: "", id: 0, type: ""}
                    }, t._platform = null, t._lastLoginTimer = 0, t._config = new Map, t._isPrivacyOpen = !0, t._battleVersion = 0, t._verifyHelper = null, t
                }

                var n;
                return __extends(t, e), n = t, Object.defineProperty(t, "instance", {
                    get: function () {
                        return this._getInstance(this)
                    }, enumerable: !1, configurable: !0
                }), t.prototype._onLoginSuccess = function (e, t) {
                    e || (this.setGameUserInfo({
                        serverId: t.serverId.toString(),
                        id: t.uid.toString(),
                        roleId: t.roleId.toString(),
                        energy: t.power,
                        tgaInfo: {
                            roleId: t.roleId,
                            c_uid: t.uid,
                            c_openId: t.openId,
                            c_platform: t.platform,
                            c_platformExt: PLATFORM,
                            c_areaId: t.areaId,
                            c_serverId: t.serverId,
                            c_serverName: t.serverName,
                            c_serverViewId: parseInt(t.serverName.substring(0, t.serverName.length - 1)),
                            c_legionId: t.legionId,
                            c_levelId: t.levelId
                        }
                    }), this._verifyHelper && this._verifyHelper.init(t.platformUId))
                }, t.prototype.onLoad = function () {
                    e.prototype.onLoad.call(this), this.isDev ? "web" === PLATFORM ? this._platform = new E.PlatformBrowser : this._platform = new c.PlatformDev : this.isH5 ? this._platform = new u.PlatformH5 : this.isQQ ? this._platform = new l.PlatformQQ : this.isWeChat ? this._platform = new f.PlatformWX : this.isByteDance ? this._platform = new m.PlatformByteDance : this._platform = new d.PlatformNative, this._verifyHelper = new y.VerifyHelper(this.isProd)
                }, t.prototype.getClientVersion = function () {
                    return this._platform.getClientVersion()
                }, Object.defineProperty(t.prototype, "isAndroidOrIos", {
                    get: function () {
                        return !(this.isDev || this.isH5 || this.isQQ || this.isByteDance || this.isWeChat)
                    }, enumerable: !1, configurable: !0
                }), t.prototype.onEnable = function () {
                    _.GlobalSignal.EventLogin.on(this._onLoginSuccess, this)
                }, t.prototype.onDisable = function () {
                    _.GlobalSignal.EventLogin.off(this._onLoginSuccess, this), this._verifyHelper && this._verifyHelper.onDisable()
                }, t.prototype.onDestroy = function () {
                    o.Deferred.return(this.authorizeDeferred), this.encryptUserInfo = null, this._platform = null, this._config.clear(), this._verifyHelper && this._verifyHelper.onDestroy(), e.prototype.onDestroy.call(this)
                }, t.prototype.shareMessage = function (e, t, n, r) {
                    var o, i;
                    return __awaiter(this, void 0, Promise, function () {
                        return __generator(this, function (a) {
                            switch (a.label) {
                                case 0:
                                    return [4, null === (i = (o = this._platform).shareMessage) || void 0 === i ? void 0 : i.call(o, e, t, n, r)];
                                case 1:
                                    return [2, a.sent()]
                            }
                        })
                    })
                }, t.prototype.authorize = function (e) {
                    return this._platform.authorize(e)
                }, t.prototype.checkNeedAuthorize = function (e) {
                    return void 0 === e && (e = "scope.userInfo"), this._platform.checkNeedAuthorize(e)
                }, t.prototype.subscribeAppMsg = function (e) {
                    return this._platform.subscribeAppMsg(e)
                }, t.prototype.getNoticeByType = function (e) {
                    return void 0 === e && (e = r.UpdateVersion), this._platform.getNoticeByType(e)
                }, t.prototype.IOSGc = function () {
                    return this._platform.releaseIosMemory()
                }, t.prototype.setIsPrivacyOpen = function (e, t) {
                    void 0 === t && (t = !1);
                    var n = this._isPrivacyOpen !== e;
                    this._isPrivacyOpen = e, !t && n && this.isWechatFamiliy && (e ? _.GlobalSignal.EventPrivacyOpen.emit() : this._platform.setIsPrivacyOpen && this._platform.setIsPrivacyOpen(e))
                }, t.prototype.showLoading = function (e, t) {
                    void 0 === e && (e = !1), void 0 === t && (t = ""), this._platform.showLoading(e, t)
                }, t.prototype.hideLoading = function () {
                    this._platform.hideLoading()
                }, t.prototype.login = function (e, t) {
                    return __awaiter(this, void 0, Promise, function () {
                        var n, r, o, i, s, c = this;
                        return __generator(this, function (u) {
                            switch (u.label) {
                                case 0:
                                    if (n = this._lastLoginTimer, this._lastLoginTimer = Date.now(), Date.now() - n < 1e3) return this.log(a.TGAEvent.Error, {
                                        step: "repeat login",
                                        isForce: e
                                    }, this.encryptUserInfo), [2];
                                    r = function (n, r) {
                                        return __awaiter(c, void 0, void 0, function () {
                                            var o, i;
                                            return __generator(this, function (a) {
                                                switch (a.label) {
                                                    case 0:
                                                        o = null, a.label = 1;
                                                    case 1:
                                                        return a.trys.push([1, 3, , 4]), [4, this._platform.login(e, t)];
                                                    case 2:
                                                        return o = a.sent(), [3, 4];
                                                    case 3:
                                                        if (i = a.sent(), n === r) throw i;
                                                        return [3, 4];
                                                    case 4:
                                                        return [2, o]
                                                }
                                            })
                                        })
                                    }, o = 5, i = 0, u.label = 1;
                                case 1:
                                    return s = this, [4, r(i, o)];
                                case 2:
                                    return s.encryptUserInfo = u.sent(), this.encryptUserInfo ? [3, 5] : [4, new Promise(function (e) {
                                        return cc.Canvas.instance.scheduleOnce(e, 1)
                                    })];
                                case 3:
                                    u.sent(), u.label = 4;
                                case 4:
                                    if (i++ < o) return [3, 1];
                                    u.label = 5;
                                case 5:
                                    return this.log(a.TGAEvent.Loading, {
                                        step: "login",
                                        isForce: e,
                                        retryCnt: i
                                    }, this.encryptUserInfo), this.authorizeDeferred.resolve(this.encryptUserInfo), [2]
                            }
                        })
                    })
                }, t.prototype.launchOptions = function () {
                    return this._platform.launchOptions()
                }, t.prototype.checkSwitches = function (e) {
                    return this._platform.checkSwitches(e)
                }, t.prototype.getNotchInfo = function () {
                    return this._platform.getNotchInfo()
                }, t.prototype.createGetUserInfoBtn = function (e, t) {
                    return this._platform.createGetUserInfoBtn(e, t)
                }, t.prototype.updateUserInfo = function (e) {
                    return this._platform.updateUserInfo(e)
                }, t.prototype.checkUpdate = function (e, t) {
                    return void 0 === e && (e = 3e3), void 0 === t && (t = !1), this._platform.checkUpdate(e, t)
                }, t.prototype.checkVideoAd = function (e) {
                    return this._platform.checkVideoAd(e)
                }, t.prototype.initSwitches = function (e, t, n) {
                    return this._platform.initSwitches(e, t, n)
                }, t.prototype.updateSwitches = function (e, t, n) {
                    return this._platform.updateSwitches(e, t, n)
                }, t.prototype.checkSwitch = function (e, t) {
                    return this._config.has(e) ? !!this._config.get(e) : this._platform.checkSwitch(e, t)
                }, t.prototype.checkSwitchAsync = function (e, t) {
                    return this._config.has(e) ? !!this._config.get(e) : this._platform.checkSwitchAsync(e, t)
                }, t.prototype.playVideoAd = function (e) {
                    return this.log(a.TGAEvent.PlayVideo, {step: "click"}), this._platform.playVideoAd(e).then(function (e) {
                        return _.GlobalSignal.EventVideoCallback.emit(e), e
                    })
                }, t.prototype.toPay = function (e) {
                    return this._platform.toPay(e)
                }, t.prototype.setGameUserInfo = function (e) {
                    this._platform.setGameUserInfo(e)
                }, t.prototype.setUserCloudStorage = function (e) {
                    return !!this.canSetUserCloudStorage && this._platform.setUserCloudStorage(e)
                }, t.prototype.saveAppToDesktop = function () {
                    return this._platform.saveAppToDesktop()
                }, t.prototype.getBattleVersion = function () {
                    return this._battleVersion
                }, t.prototype.saveImage = function (e) {
                    return this._platform.saveImage(e)
                }, t.prototype.chooseImage = function (e) {
                    return this._platform.chooseImage(e)
                }, t.prototype.getDeviceInfo = function () {
                    return this._platform.getDeviceInfo()
                }, t.prototype.getDeviceAuthInfo = function () {
                    return __awaiter(this, void 0, void 0, function () {
                        var e, t, r;
                        return __generator(this, function (o) {
                            switch (o.label) {
                                case 0:
                                    return e = "", t = "", [4, n.instance.getDeviceInfo()];
                                case 1:
                                    return (r = o.sent()) && (e = r.deviceUniqueId, t = r.gameTp), [2, {
                                        deviceUniqueId: e,
                                        gameTp: t
                                    }]
                            }
                        })
                    })
                }, t.prototype.compressImgFile = function (e, t, n) {
                    return this._platform.compressImgFile(e, t, n)
                }, t.prototype.readImgFile = function (e) {
                    return this._platform.readImgFile(e)
                }, t.prototype.setClipboardData = function (e) {
                    this._platform.setClipboardData(e)
                }, t.prototype.checkRunningProcess = function (e) {
                    return this._platform.checkRunningProcess(e)
                }, t.prototype.requestSubscribeMessage = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    var n = e[0];
                    return this._platform.requestSubscribeMessage(n)
                }, t.prototype.getSubscribeMessageCount = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return this._platform.getSubscribeMessageCount()
                }, t.prototype.getHasSubscribedGameUpdate = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return this._platform.getHasSubscribedGameUpdate()
                }, t.prototype.requestSubscribeGameUpdate = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return this._platform.requestSubscribeGameUpdate()
                }, t.prototype.closePayModal = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return this._platform.closePayModal()
                }, t.prototype.postMessage = function (e) {
                    this.openDataContext && this.openDataContext.postMessage(e)
                }, t.prototype.createGameClubButton = function (e, t) {
                    return this._platform.createGameClubButton(e, t)
                }, t.prototype.createTTContactButton = function (e, t, n) {
                    this.isByteDance && this._platform.createContactButton(e, t, n)
                }, t.prototype.setVedioBtnStatus = function (e, t) {
                    t.visible = this.isByteDance, this.isByteDance && this._platform.setVedioBtnStatus(e, t)
                }, t.prototype.business = function (e) {
                    this.isWeChat ? I(a.C_SwitchId.OpenWXBusinessReport) ? (this._platform.business(e), console.log("\u5fae\u4fe1\u5546\u4e1a\u4e0a\u62a5 - " + e.eventName)) : console.log("\u5fae\u4fe1\u5546\u4e1a\u4e0a\u62a5-\u5f00\u5173\u672a\u5f00\u542f") : console.log("\u975e\u5fae\u4fe1\u5e73\u53f0-\u65e0\u9700\u4e0a\u62a5")
                }, t.prototype.invokeVedioRecord = function (e, t) {
                    void 0 === t && (t = !1), this.isByteDance && (e ? this._platform.startRecord() : this._platform.stopRecord(t))
                }, t.prototype.isColorSignExistSync = function () {
                    return this._platform.isColorSignExistSync()
                }, t.prototype.addColorSign = function () {
                    this._platform.addColorSign()
                }, t.prototype.addRecentColorSign = function (e) {
                    this._platform.addRecentColorSign(e)
                }, t.prototype.logout = function () {
                    return this._platform.logout()
                }, t.prototype.exitGame = function (e) {
                    return void 0 === e && (e = null), this._platform.exitGame(e)
                }, t.prototype.restartGame = function (e) {
                    return void 0 === e && (e = null), this._platform.restartGame(e)
                }, t.prototype.showModal = function (e, t, n, r, o) {
                    return this._platform.showModal(e, t, n, r, o)
                }, t.prototype.showAppComment = function () {
                    for (var e, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                    return (e = this._platform).showAppComment.apply(e, t)
                }, t.prototype.delAccount = function () {
                    for (var e, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                    return (e = this._platform).delAccount.apply(e, t)
                }, t.prototype.onPaySupplement = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return this._platform.onPaySupplement()
                }, Object.defineProperty(t.prototype, "canSetUserCloudStorage", {
                    get: function () {
                        return this._isPrivacyOpen && this._platform.canSetUserCloudStorage()
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "openDataContext", {
                    get: function () {
                        return this._platform.getOpenDataContext()
                    }, enumerable: !1, configurable: !0
                }), t.prototype.getManifest = function () {
                    return __awaiter(this, void 0, Promise, function () {
                        return __generator(this, function () {
                            return this.isNative ? [2, cc.sys.manifestResult] : [2, s.LoginService.manifest({
                                version: GAME_VERSION,
                                platform: this.platformType
                            })]
                        })
                    })
                }, t.prototype.manifest = function () {
                    var e, t, r;
                    return __awaiter(this, void 0, Promise, function () {
                        var o, s, c, u, l, f, d, p, m;
                        return __generator(this, function (_) {
                            switch (_.label) {
                                case 0:
                                    return o = g.ResourceManager.instance, s = "true" === h.GlobalVarManager.instance.get("o4e_debug", "false"), console.info("%c  \u670d\u52a1\u5668:  %c " + SERVER + " ", "color: #fadfa3; background: #030307; padding:8px 0;", "color: #fff; background: #41b883; padding:8px 0;"), [4, i.startup({
                                        url: SERVER,
                                        debug: s,
                                        rpc: {
                                            connectTimeoutTotal: 2e4,
                                            connectTimeoutOnce: 1e4,
                                            heartbeatInterval: 5e3,
                                            heartbeatTimeout: 1e4,
                                            connectRetryMinInterval: 1e3
                                        }
                                    })];
                                case 1:
                                    return _.sent(), [4, this.getManifest()];
                                case 2:
                                    return c = _.sent(), console.info("Manifest.", c.rawData), c.code ? [3, 5] : (u = c.rawData).serverUrl && u.serverUrl.length > 0 ? (console.info("%c  \u8df3\u8f6c\u670d\u52a1\u5668:  %c " + u.serverUrl + " ", "color: #fadfa3; background: #030307; padding:8px 0;", "color: #fff; background: #41b883; padding:8px 0;"), [4, i.startup({
                                        url: u.serverUrl,
                                        debug: s,
                                        rpc: {
                                            connectTimeoutTotal: 2e4,
                                            connectTimeoutOnce: 1e4,
                                            heartbeatInterval: 5e3,
                                            heartbeatTimeout: 1e4
                                        }
                                    })]) : [3, 4];
                                case 3:
                                    _.sent(), SERVER = u.serverUrl, _.label = 4;
                                case 4:
                                    if (u.config) for (l in this._config.clear(), u.config) f = u.config[l], this._config.set(l, f);
                                    if (u.battleVersion && (this._battleVersion = u.battleVersion), h.GlobalVarManager.instance.setAudit(SERVER.indexOf("audit") >= 0), h.GlobalVarManager.instance.set(a.GlobalVarKey.IsLastVersion, !!this.isNative || null !== (e = u.isLast) && void 0 !== e && e), u.bundleVers && (u.bundleVers.length > 0 || "object" == typeof u.bundleVers) && "web" !== PLATFORM && !n.instance.isH5) {
                                        if (d = cc.assetManager.downloader.bundleVers, m = globalThis.ccInternalRemoteBundles, o.bundleVersions = "object" == typeof u.bundleVers ? u.bundleVers : JSON.parse(u.bundleVers), m) for (p in o.bundleVersions) d && o.bundleVersions[p] === d[p] || (m[p] = !0);
                                        RESOURCES_COMMIT_ID = null !== (t = o.bundleVersions.COMMIT_ID) && void 0 !== t ? t : RESOURCES_COMMIT_ID, console.info("Asset bundle versions.", o.bundleVersions)
                                    } else console.info("Empty Asset bundle versions.");
                                    return u.dataBundleVer && "dev" !== PLATFORM && "web" !== PLATFORM && (o.bundleVersions = null !== (r = o.bundleVersions) && void 0 !== r ? r : {}, o.bundleVersions.config = u.dataBundleVer, (m = globalThis.ccInternalRemoteBundles) && (m.config = !0)), [2];
                                case 5:
                                    throw c.code + " " + c.error
                            }
                        })
                    })
                }, t.prototype.log = function (e, t, n, r, o) {
                    void 0 === r && (r = "track"), void 0 === o && (o = 2), this._platform.tagLog(e, t, n, r, o)
                }, t.prototype.getMaskId = function () {
                    return this._platform.maskId
                }, t.prototype.getServerConfig = function (e, t) {
                    return void 0 === t && (t = 0), this._config.get(e) || t
                }, t.prototype.openMiniApp = function (e, t) {
                    return this._platform.openMiniApp(e, t)
                }, t.prototype.openMiniAppMsg = function (e) {
                    return this._platform.openMiniAppMsg(e)
                }, t.prototype.setBrightness = function (e) {
                    return this._platform.setBrightness(e)
                }, t.prototype.getBrightness = function () {
                    return this._platform.getBrightness()
                }, t.prototype.getNetworkType = function () {
                    return this._platform.getNetworkType()
                }, t.prototype.getBattery = function () {
                    return this._platform.getBattery()
                }, t.prototype.setVibrate = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    var n = e[0];
                    return this._platform.setVibrate(n)
                }, t.prototype.vibrateShort = function () {
                    return this._platform.vibrateShort()
                }, t.prototype.vibrateLong = function () {
                    return this._platform.vibrateLong()
                }, t.prototype.getBrandWallList = function () {
                    return this._platform.getBrandWallList()
                }, t.prototype.jumpBrandWallGame = function (e) {
                    return this._platform.jumpBrandWallGame(e)
                }, t.prototype.brandWallShowTrack = function () {
                    this._platform.brandWallShowTrack()
                }, t.prototype.canUseDiamondPay = function () {
                    return !!this.isByteDance && this._platform.canUseDiamondPay()
                }, Object.defineProperty(t.prototype, "platformType", {
                    get: function () {
                        return this._platform.platformType
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "platformName", {
                    get: function () {
                        return this._platform.platformName
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "platformId", {
                    get: function () {
                        return this._platformExtMapping[PLATFORM].id
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "platformExt", {
                    get: function () {
                        return this._platformExtMapping[PLATFORM].ext
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "isTest", {
                    get: function () {
                        return "Test" === ENV
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "isProd", {
                    get: function () {
                        return "Prod" === ENV
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "isNative", {
                    get: function () {
                        return cc.sys.isNative
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "isMobile", {
                    get: function () {
                        return cc.sys.isMobile
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "isBrowser", {
                    get: function () {
                        return cc.sys.isBrowser
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "isIos", {
                    get: function () {
                        return cc.sys.os === cc.sys.OS_IOS
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "isAndroid", {
                    get: function () {
                        return cc.sys.os === cc.sys.OS_ANDROID
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "isWeb", {
                    get: function () {
                        return "web" === PLATFORM
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "isDevOnly", {
                    get: function () {
                        return "dev" === PLATFORM
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "isDev", {
                    get: function () {
                        return "dev" === PLATFORM || "web" === PLATFORM
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "isWeChat", {
                    get: function () {
                        return "wx" === PLATFORM
                    }, enumerable: !1, configurable: !0
                }),Object.defineProperty(t.prototype, "isQQ", {
                    get: function () {
                        return "qq" === PLATFORM
                    }, enumerable: !1, configurable: !0
                }),Object.defineProperty(t.prototype, "isByteDance", {
                    get: function () {
                        return "bytedance" === PLATFORM
                    }, enumerable: !1, configurable: !0
                }),Object.defineProperty(t.prototype, "isH5", {
                    get: function () {
                        return "h5" === PLATFORM || "h5web" === PLATFORM
                    }, enumerable: !1, configurable: !0
                }),Object.defineProperty(t.prototype, "isWXAndQQ", {
                    get: function () {
                        return "wx" === PLATFORM || "qq" === PLATFORM
                    }, enumerable: !1, configurable: !0
                }),Object.defineProperty(t.prototype, "isWechatFamiliy", {
                    get: function () {
                        return this.isWXAndQQ || this.isByteDance
                    }, enumerable: !1, configurable: !0
                }),Object.defineProperty(t.prototype, "isAndroidAndIOSAndNative", {
                    get: function () {
                        return this.isAndroidAndNative || this.isIosAndNative
                    }, enumerable: !1, configurable: !0
                }),Object.defineProperty(t.prototype, "isIosAndNative", {
                    get: function () {
                        return this.isIos && this.isNative
                    }, enumerable: !1, configurable: !0
                }),Object.defineProperty(t.prototype, "isAndroidAndNative", {
                    get: function () {
                        return this.isAndroid && this.isNative
                    }, enumerable: !1, configurable: !0
                }),Object.defineProperty(t.prototype, "isWindowsWx", {
                    get: function () {
                        return this._platform.isWindowsWx()
                    }, enumerable: !1, configurable: !0
                }),Object.defineProperty(t.prototype, "isDesktopWX", {
                    get: function () {
                        return S.platformEnv.isWXWindows || S.platformEnv.isWXMac
                    }, enumerable: !1, configurable: !0
                }),Object.defineProperty(t.prototype, "osName", {
                    get: function () {
                        return this.isDesktopWX ? "windows" : cc && cc.sys && cc.sys.os && cc.sys.os.length > 0 ? cc.sys.os.toLowerCase() : "others"
                    }, enumerable: !1, configurable: !0
                }),Object.defineProperty(t.prototype, "isFitWidth", {
                    get: function () {
                        var e = cc.view.getFrameSize(), t = e.height / e.width;
                        return console.log("ratio", t), t < 1.45 && this.isWXAndQQ
                    }, enumerable: !1, configurable: !0
                }),Object.defineProperty(t.prototype, "maskId", {
                    get: function () {
                        return this._platform.maskId
                    }, enumerable: !1, configurable: !0
                }),t.prototype.showVerify = function (e, t) {
                    return __awaiter(this, void 0, Promise, function () {
                        return __generator(this, function () {
                            return [2, this._verifyHelper && this._verifyHelper.showVerify(e, t)]
                        })
                    })
                },t.prototype.hideVerify = function () {
                    this._verifyHelper && this._verifyHelper.hideVerify()
                },t.prototype.isOpenUIDebugLog = function () {
                    return this._platform.isOpenUIDebugLog()
                },t.prototype.jumpGsMiniProgram = function (e) {
                    return this._platform.jumpGsMiniProgram(e)
                },n = __decorate([A], t)
            }(p.GlobalEntityManager);
            n.PlatformManager = T, n.IS_PROD = function () {
                return T.instance.isProd
            }, n.TAG_LOG = function (e, t, n) {
                return T.instance.log(e, t, n)
            };
            var b = new Map;

            function I(e, t) {
                return T.instance.checkSwitch(e, t)
            }

            n.TAG_LOG_ONCE_CHECK = function (e, t) {
                b.get(e) || (b.set(e, !0), t())
            }, n.CHECK_SWITCH = I, n.LOG_UIPACK = function () {
                return T.instance.isOpenUIDebugLog()
            }, cc._RF.pop()
        }, {
            "../../../config/Configs": "Configs",
            "../../libs/platform/hortor/platform": "platform",
            "../GlobalSignal": "GlobalSignal",
            "../LoginService": "LoginService",
            "../platform/platform-browser": "platform-browser",
            "../platform/platform-bytedance": "platform-bytedance",
            "../platform/platform-dev": "platform-dev",
            "../platform/platform-h5": "platform-h5",
            "../platform/platform-native": "platform-native",
            "../platform/platform-qq": "platform-qq",
            "../platform/platform-wx": "platform-wx",
            "../types-common": "types-common",
            "./GlobalEntityManager": "GlobalEntityManager",
            "./GlobalVarManager": "GlobalVarManager",
            "./ResourceManager": "ResourceManager",
            "./VerifyHelper": "VerifyHelper",
            "@jimu/basis": 6,
            "@o4e/core": 13
        }],
        ResourceManager: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "5f192BDFZ1K4p7G/vuaA2LU", "ResourceManager"), Object.defineProperty(n, "__esModule", {value: !0}), n.TRY_LOAD_UI = n.TRY_LOAD_ASSET = n.TRY_LOAD = n.LOAD_UI = n.LOAD_ASSET = n.ResourceManager = n.FGUILoadReason = void 0;
            var r, o = __importStar(e("@jimu/basis")), i = __importStar(e("@o4e/bon")), a = e("../decorators-common"),
                s = e("./GlobalEntityManager"), c = e("./PlatformManager"), u = e("../Log"), l = e("../types-common"),
                f = e("../GlobalSignal"), d = e("../../../config/Configs"), p = cc._decorator, h = p.ccclass,
                g = (p.property, ["config"]),
                m = ["ui_ativityFestival", "ui_cj7hFestival23", "ui_FoodGodFestival23", "ui_battleResult", "ui_bg", "ui_commonBig", "ui_nightmare", "ui_sky", "ui_room", "ui_battleScene", "ui_guide"],
                _ = ["ui_common", "ui_home", "ui_leagueTile"];
            (function (e) {
                e[e.UI = 0] = "UI", e[e.Dependent = 1] = "Dependent", e[e.LoadFunc = 2] = "LoadFunc"
            })(r = n.FGUILoadReason || (n.FGUILoadReason = {}));
            var v = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.bundleVersions = null, t.remoteDataVersion = "", t.remoteDataJson = null, t.configJSON = null, t.configAssets = [], t._bundlePromises = cc.js.createMap(), t._fguiPromises = cc.js.createMap(), t
                }

                return __extends(t, e), Object.defineProperty(t, "instance", {
                    get: function () {
                        return this._getInstance(this)
                    }, enumerable: !1, configurable: !0
                }), t.prototype._binToJson = function (e, t) {
                    return __awaiter(this, void 0, void 0, function () {
                        var n, r, o;
                        return __generator(this, function () {
                            return e && e._buffer ? (u.Log.time("binToJson"), n = new Uint8Array(e._buffer), r = i.decode(n), (o = new cc.JsonAsset).json = r, u.Log.timeEnd("binToJson"), t(o), [2]) : (t(null), [2])
                        })
                    })
                }, t.prototype.onDestroy = function () {
                    this.bundleVersions && o.clearRecord(this.bundleVersions), this.configJSON = null, o.clearRecord(this._bundlePromises), o.clearRecord(this._fguiPromises)
                }, t.prototype.isLoadLocalConfig = function () {
                    return "Test" === ENV && c.PlatformManager.instance.checkSwitch(l.C_SwitchId.LoadLocalConfig)
                }, t.prototype.tryLoad = function (e, t, n, r) {
                    var o;
                    void 0 === e && (e = 3), void 0 === t && (t = 1), void 0 === n && (n = !0);
                    for (var i = [], a = 4; a < arguments.length; a++) i[a - 4] = arguments[a];
                    return __awaiter(this, void 0, Promise, function () {
                        var a, s;
                        return __generator(this, function (c) {
                            switch (c.label) {
                                case 0:
                                    a = 0, c.label = 1;
                                case 1:
                                    return a < e ? [4, r.apply(this, i)] : [3, 5];
                                case 2:
                                    return (s = c.sent()) ? [2, s] : (0 === a && n && cc.sys.getNetworkType() !== cc.sys.NetworkType.NONE && (null === (o = cc.assetManager.cacheManager) || void 0 === o || o.clearCache()), [4, new Promise(function (e) {
                                        return cc.Canvas.instance.scheduleOnce(e, t)
                                    })]);
                                case 3:
                                    c.sent(), c.label = 4;
                                case 4:
                                    return a++, [3, 1];
                                case 5:
                                    return [2, null]
                            }
                        })
                    })
                }, t.prototype._fixBundleName = function (e) {
                    return (c.PlatformManager.instance.isWeb || c.PlatformManager.instance.isH5) && -1 !== g.indexOf(e) ? CDN + "/remote/" + e : e
                }, t.prototype.loadBundle = function (e) {
                    return __awaiter(this, void 0, Promise, function () {
                        var t, n, r, o, i = this;
                        return __generator(this, function () {
                            return n = (t = this).bundleVersions, r = t._bundlePromises, (o = cc.assetManager.getBundle(e)) ? [2, o] : r[e] ? [2, r[e]] : (r[e] = new Promise(function (t) {
                                var o = "bundleVersion_" + e, a = n ? n[e] : null;
                                cc.assetManager.loadBundle(i._fixBundleName(e), a ? {version: a} : null, function (n, s) {
                                    return __awaiter(i, void 0, void 0, function () {
                                        var i = this;
                                        return __generator(this, function (u) {
                                            switch (u.label) {
                                                case 0:
                                                    return delete r[e], n || !s ? [3, 2] : [4, Promise.all(s.deps.map(function (e) {
                                                        return i.loadBundle(e)
                                                    }))];
                                                case 1:
                                                    return u.sent(), a && cc.sys.localStorage.setItem(o, a), t(s), [3, 3];
                                                case 2:
                                                    console.error("loadBundle:" + n), "ui_loading" != e && "ui_home" != e || c.TAG_LOG("c_loaderError", {step: "loading:" + (n && n.toString && n.toString())}), t(null), u.label = 3;
                                                case 3:
                                                    return [2]
                                            }
                                        })
                                    })
                                })
                            }), [2, r[e]])
                        })
                    })
                }, t.prototype.loadRemote = function (e, t) {
                    return void 0 === t && (t = {ext: ".png"}), __awaiter(this, void 0, Promise, function () {
                        var n;
                        return __generator(this, function () {
                            return (n = cc.assetManager.assets.get(e)) ? [2, n] : [2, new Promise(function (n) {
                                cc.assetManager.loadRemote(e, t, function (e, t) {
                                    !e && t ? n(t) : (console.error("loadRemote:" + e), n(null))
                                })
                            })]
                        })
                    })
                }, t.prototype.loadAny = function (e, t, n, r, o, i) {
                    return void 0 === o && (o = {bundle: e}), void 0 === i && (i = null), __awaiter(this, void 0, Promise, function () {
                        var a, s, c, u, l;
                        return __generator(this, function (f) {
                            switch (f.label) {
                                case 0:
                                    return [4, this.loadBundle(e)];
                                case 1:
                                    return (a = f.sent()) ? (s = a.get(t, n)) ? [2, s] : (c = !0, i && (u = i._onPreDestroy, l = function () {
                                        c = !1, u.call(this)
                                    }, i._onPreDestroy = l), [2, new Promise(function (i) {
                                        function a() {
                                            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                                            c && i.apply(void 0, e)
                                        }

                                        (o = o || {
                                            _requestType__: "path",
                                            __outputAsArray__: !1
                                        }).type = n, o.bundle = e, cc.assetManager.loadAny(t, o, r, function (e, t) {
                                            !e && t ? a(t) : (console.error("loadAsset:" + e), console.error(e), a(null))
                                        })
                                    })]) : [2, null]
                            }
                        })
                    })
                }, t.prototype.loadAsset = function (e, t, n, r, o, i) {
                    return void 0 === o && (o = !1), void 0 === i && (i = null), __awaiter(this, void 0, Promise, function () {
                        var a, s, u, l, f;
                        return __generator(this, function (d) {
                            switch (d.label) {
                                case 0:
                                    return [4, this.loadBundle(e)];
                                case 1:
                                    return (a = d.sent()) ? (s = a.get(t, n)) ? [2, s] : (u = !0, i && (l = i._onPreDestroy, f = function () {
                                        u = !1, l.call(this)
                                    }, i._onPreDestroy = f), [2, new Promise(function (e) {
                                        function i() {
                                            for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                                            u && e.apply(void 0, t)
                                        }

                                        n === cc.SceneAsset ? a.loadScene(t, n, r, function (e, t) {
                                            !e && t ? i(t) : (console.error("loadAsset:" + e), c.TAG_LOG("c_loaderError", {step: "scene:" + (e && e.toString && e.toString())}), i(null))
                                        }) : o ? a.preload(t, n, r, function (e, t) {
                                            !e && t ? i(t) : (console.error("loadAsset:" + e), i(null))
                                        }) : a.load(t, n, r, function (e, t) {
                                            !e && t ? i(t) : (console.error("loadAsset:" + e), i(null))
                                        })
                                    })]) : [2, null]
                            }
                        })
                    })
                }, t.prototype.tellIsPartLoadBundle = function (e) {
                    return !!c.CHECK_SWITCH(l.C_SwitchId.PartLoad) && -1 !== m.indexOf(e)
                }, t.prototype.tellIsBundleLoaderOpen = function (e) {
                    return !!c.CHECK_SWITCH(l.C_SwitchId.AllLoaderOpen) || -1 === _.indexOf(e)
                }, t.prototype.loadFGUIBin = function (e, t) {
                    return __awaiter(this, void 0, Promise, function () {
                        var n, r, o, i = this;
                        return __generator(this, function (a) {
                            switch (a.label) {
                                case 0:
                                    return [4, this.loadBundle(e)];
                                case 1:
                                    return (n = a.sent()) ? (r = fgui.UIPackage.getByName(e)) ? [2, r] : (o = this._fguiPromises)[e] ? [2, o[e]] : (o[e] = new Promise(function (r) {
                                        fgui.UIPackage.loadMergedBin(n, e, t, function (t, n) {
                                            return __awaiter(i, void 0, void 0, function () {
                                                return __generator(this, function () {
                                                    return delete o[e], !t && n ? r(n) : (console.error("loadFGUIBin:" + t), r(null)), [2]
                                                })
                                            })
                                        })
                                    }), [2, o[e]]) : [2, null]
                            }
                        })
                    })
                }, t.prototype.loadFGUI = function (e, t, n, o) {
                    return __awaiter(this, void 0, Promise, function () {
                        var i, s, c, u, l, d = this;
                        return __generator(this, function (p) {
                            switch (p.label) {
                                case 0:
                                    return [4, this.loadBundle(e)];
                                case 1:
                                    return (i = p.sent()) ? (s = fgui.UIPackage.getByName(e)) && (s._bundle = i, !s.partDeleted) ? [2, s] : (c = this._fguiPromises)[e] ? [2, c[e]] : (u = this.tellIsPartLoadBundle(e), l = this.tellIsBundleLoaderOpen(e), c[e] = new Promise(function (s) {
                                        fgui.UIPackage.loadPackage(i, e, t, function (t, u) {
                                            return __awaiter(d, void 0, void 0, function () {
                                                var l, d, p, h, g, m, _, v = this;
                                                return __generator(this, function (E) {
                                                    switch (E.label) {
                                                        case 0:
                                                            if (delete c[e], t || !u) return [3, 3];
                                                            for (l = u._items, d = 0, p = l.length; d < p; d++) (h = l[d]).file && (g = i.get(h.file)) && g.addRef();
                                                            return (m = a.uiBinders.get(e)) && (!m.bound && m.bindAll(), m.bound = !0), (_ = u.dependencies).length > 0 ? [4, Promise.all(_.map(function (t) {
                                                                return v.loadFGUI(t.name, void 0, r.Dependent).then(function () {
                                                                    f.GlobalSignal.UIPackageRef.emit("add", e, t.name)
                                                                })
                                                            }))] : [3, 2];
                                                        case 1:
                                                            E.sent(), E.label = 2;
                                                        case 2:
                                                            if (void 0 !== n) switch (n) {
                                                                case r.UI:
                                                                    break;
                                                                case r.Dependent:
                                                                    o && f.GlobalSignal.UIPackageRef.emit("add", o, e);
                                                                    break;
                                                                case r.LoadFunc:
                                                                    f.GlobalSignal.UIPackageRef.emit("add", e)
                                                            }
                                                            return s(u), [3, 4];
                                                        case 3:
                                                            console.error("loadFGUI:" + t), s(null), E.label = 4;
                                                        case 4:
                                                            return [2]
                                                    }
                                                })
                                            })
                                        }, u, l)
                                    }), [2, c[e]]) : [2, null]
                            }
                        })
                    })
                }, t.prototype.disposeConfigAssets = function () {
                    var e = "", t = this.configAssets;
                    return t.forEach(function (t) {
                        cc.assetManager.releaseAsset(t), e += t.name, e += " "
                    }), t.length = 0, e
                }, t.prototype.loadConfig = function (e, t) {
                    return void 0 === t && (t = {
                        cacheEnabled: !0,
                        ext: ".json"
                    }), __awaiter(this, void 0, void 0, function () {
                        var n, r, o, a, s, f, p, h, g, m, _, v, E, y, S, C, A, T, b = this;
                        return __generator(this, function () {
                            return u.Log.time("loadConfig"), n = c.PlatformManager.instance, this.remoteDataJson, r = this.remoteDataVersion, o = ["config", "level", "tower", "language", "levelcoef", "config_ap", "season_tower", "season_level"], (a = this.configAssets).length = 0, s = function () {
                                return new Promise(function (e) {
                                    return __awaiter(b, void 0, void 0, function () {
                                        return __generator(this, function () {
                                            return this.loadBundle("config").then(function (t) {
                                                null == t || t.loadDir("./", cc.JsonAsset, function (t, n) {
                                                    if (a.push.apply(a, n), !t && n) {
                                                        var r = {};
                                                        n.forEach(function (e) {
                                                            e && e.json && (r = __assign(__assign({}, r), e.json))
                                                        });
                                                        var o = new cc.JsonAsset;
                                                        o.json = r, e(o)
                                                    }
                                                })
                                            }), [2]
                                        })
                                    })
                                })
                            }, f = function () {
                                return new Promise(function (e) {
                                    return __awaiter(b, void 0, void 0, function () {
                                        return __generator(this, function () {
                                            return this.loadBundle("config").then(function (t) {
                                                null == t || t.loadDir("./", cc.BufferAsset, function (t, n) {
                                                    if (a.push.apply(a, n), !t && n) {
                                                        var r = {}, o = !0;
                                                        if (n.forEach(function (e) {
                                                            if (o) if (e && e._buffer) {
                                                                var t = new Uint8Array(e._buffer), n = i.decode(t);
                                                                n ? r = __assign(__assign({}, r), n) : o = !1
                                                            } else o = !1
                                                        }), !o) return void e(null);
                                                        var s = new cc.JsonAsset;
                                                        s.json = r, e(s)
                                                    }
                                                })
                                            }), [2]
                                        })
                                    })
                                })
                            }, p = function () {
                                return b.loadAsset(l.BundleName.Config, e, cc.JsonAsset)
                            }, h = function () {
                                var t = e + "c";
                                return new Promise(function (e) {
                                    return __awaiter(b, void 0, void 0, function () {
                                        var n, r, o, a;
                                        return __generator(this, function (s) {
                                            switch (s.label) {
                                                case 0:
                                                    return [4, this.loadAsset(l.BundleName.Config, t, cc.Asset)];
                                                case 1:
                                                    return (n = s.sent()) && n._buffer ? (r = new Uint8Array(n._buffer), o = i.decode(r), (a = new cc.JsonAsset).json = o, e(a), [2]) : (e(null), [2])
                                            }
                                        })
                                    })
                                })
                            }, g = function (e) {
                                return new Promise(function (n) {
                                    cc.assetManager.loadRemote(CDN + "/data/" + b.remoteDataVersion + "/" + e + ".json", t, function (e, t) {
                                        t && t.json ? (console.warn("\u8fdc\u7a0bconfig\u52a0\u8f7d\u6210\u529f"), n(t)) : n(null)
                                    })
                                })
                            }, m = function () {
                                return g(e)
                            }, _ = function (e) {
                                return new Promise(function (t) {
                                    var r = c.PlatformManager.instance.isIosAndNative && jsb && !!jsb.loadBJSON,
                                        o = r ? ".json" : ".bin", i = !!r;
                                    cc.assetManager.loadRemote(CDN + "/data/" + b.remoteDataVersion + "/" + e + "c.bin", {
                                        cacheEnabled: !0,
                                        ext: o,
                                        bonEnabled: i,
                                        dTimeout: 45
                                    }, function (e, o) {
                                        o ? (console.warn("\u8fdc\u7a0bconfig\u52a0\u8f7d\u6210\u529f"), r ? t(o) : b._binToJson(o, t)) : (n.log("c_error", {
                                            step: "loadConfig",
                                            reason: "\u91cd\u8bd5bundle config"
                                        }), t(null))
                                    })
                                })
                            }, v = function () {
                                return _(e)
                            }, E = function (e) {
                                for (var t = [], n = 0, r = o; n < r.length; n++) {
                                    var i = r[n];
                                    t.push(e ? _(i) : g(i))
                                }
                                return new Promise(function (e) {
                                    Promise.all(t).then(function (t) {
                                        for (var n = {}, r = 0, o = t; r < o.length; r++) {
                                            var i = o[r];
                                            if (!i) return void e(null);
                                            n = __assign(__assign({}, n), i.json)
                                        }
                                        var a = new cc.JsonAsset;
                                        a.json = n, e(a)
                                    }).catch(function () {
                                        e(null)
                                    })
                                })
                            }, y = function () {
                                return E(!0)
                            }, S = function () {
                                return E(!1)
                            }, C = n.checkSwitch(d.SwitchId.SERVER_CONFIG), A = n.checkSwitch(l.C_SwitchId.ClientDVCDN), T = n.checkSwitch(d.SwitchId.CONFIG_ENC_BIN) || n.checkSwitch(l.C_SwitchId.ConfigEncBinAudit7), c.CHECK_SWITCH(l.C_SwitchId.StillUseCdnV2) ? c.CHECK_SWITCH(l.C_SwitchId.StillUseAllCfg) ? this.isLoadLocalConfig() ? [2, T ? h() : p()] : T ? [2, "Dev" !== ENV && C && r ? v() : h()] : [2, "Dev" !== ENV && C && (C || A) ? m() : p()] : this.isLoadLocalConfig() ? [2, T ? f() : s()] : T ? [2, "Dev" !== ENV && C && r ? y() : f()] : [2, "Dev" !== ENV && C && (C || A) ? S() : s()] : c.CHECK_SWITCH(l.C_SwitchId.StillUseAllCfg) ? c.PlatformManager.instance.isWeb || c.PlatformManager.instance.isH5 ? this.isLoadLocalConfig() ? [2, T ? h() : p()] : T ? [2, "Dev" !== ENV && C && r ? v() : h()] : [2, "Dev" !== ENV && C && (C || A) ? m() : p()] : [2, T ? h() : p()] : [2, T ? f() : s()]
                        })
                    })
                }, t.prototype.releaseAssetManually = function (e) {
                    e && (e._refCount || cc.assetManager.releaseAsset(e))
                }, t.prototype.releaseSpineAssetManually = function (e) {
                    var t, n;
                    if (e) {
                        var r = null;
                        if (e instanceof sp.Skeleton ? r = e.skeletonData : e instanceof cc.Node && (r = null === (t = e.getComponent(sp.Skeleton)) || void 0 === t ? void 0 : t.skeletonData), r) {
                            for (var o = 0, i = null !== (n = r.textures) && void 0 !== n ? n : []; o < i.length; o++) {
                                var a = i[o];
                                a instanceof cc.Texture2D && this.releaseAssetManually(a)
                            }
                            this.releaseAssetManually(r)
                        }
                    }
                }, __decorate([h], t)
            }(s.GlobalEntityManager);
            n.ResourceManager = v, n.LOAD_ASSET = function (e, t, n, r, o, i) {
                return void 0 === o && (o = !1), void 0 === i && (i = null), v.instance.loadAsset(e, t, n, r, o, i)
            }, n.LOAD_UI = function (e, t, n) {
                return void 0 === n && (n = r.UI), v.instance.loadFGUI(e, t, n)
            }, n.TRY_LOAD = function (e, t, n, r) {
                var o;
                void 0 === e && (e = 3), void 0 === t && (t = 1), void 0 === n && (n = !0);
                for (var i = [], a = 4; a < arguments.length; a++) i[a - 4] = arguments[a];
                return (o = v.instance).tryLoad.apply(o, __spreadArrays([e, t, n, r], i))
            }, n.TRY_LOAD_ASSET = function (e, t, n, r, o, i) {
                return void 0 === r && (r = 3), void 0 === o && (o = 1), void 0 === i && (i = !0), v.instance.tryLoad(r, o, i, v.instance.loadAsset, e, t, n)
            }, n.TRY_LOAD_UI = function (e, t, n, o) {
                return void 0 === t && (t = 3), void 0 === n && (n = 1), void 0 === o && (o = !0), v.instance.tryLoad(t, n, o, v.instance.loadFGUI, e, void 0, r.UI)
            }, cc._RF.pop()
        }, {
            "../../../config/Configs": "Configs",
            "../GlobalSignal": "GlobalSignal",
            "../Log": "Log",
            "../decorators-common": "decorators-common",
            "../types-common": "types-common",
            "./GlobalEntityManager": "GlobalEntityManager",
            "./PlatformManager": "PlatformManager",
            "@jimu/basis": 6,
            "@o4e/bon": 11
        }],
        StateMachine: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "44fe1F+z+pHS7pQguSh/R0u", "StateMachine"), Object.defineProperty(n, "__esModule", {value: !0}), n.StateMachine = void 0;
            var r = function () {
                function e(e, t, n) {
                    void 0 === e && (e = null), void 0 === t && (t = "FSM"), void 0 === n && (n = !1), this._current = null, this._context = null, this._stateMap = new Map, this._id = "", this._debug = !1, this._context = e, this._id = t, this._debug = n
                }

                return e.prototype.register = function (e, t) {
                    this._stateMap.set(e, t), t.stateId = e, t.stateMachine = this, t.context = this._context, t.onAwake()
                }, e.prototype.transition = function (e) {
                    for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                    return __awaiter(this, void 0, Promise, function () {
                        var n, r;
                        return __generator(this, function (o) {
                            switch (o.label) {
                                case 0:
                                    return (!this._current || this._current.stateId !== e && this._current.canTransition(e)) && (n = this._stateMap.get(e)) ? (r = this._current) ? (this._debug && console.warn("[" + this._id + "][onExit]:" + r.stateId), [4, r.onExit.apply(r, __spreadArrays([n], t))]) : [3, 2] : [2, !1];
                                case 1:
                                    o.sent(), o.label = 2;
                                case 2:
                                    return this._current = n, this._debug && console.warn("[" + this._id + "][onEnter]:" + n.stateId), [4, n.onEnter.apply(n, __spreadArrays([r], t))];
                                case 3:
                                    return o.sent(), [2, !0]
                            }
                        })
                    })
                }, e.prototype.dispose = function () {
                    this._current && this._current.onExit(null), this._stateMap.forEach(function (e) {
                        e.dispose()
                    }), this._current = null, this._context = null, this._id = "", this._debug = !1, this._stateMap.clear()
                }, Object.defineProperty(e.prototype, "current", {
                    get: function () {
                        return this._current
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(e.prototype, "context", {
                    get: function () {
                        return this._context
                    }, enumerable: !1, configurable: !0
                }), e
            }();
            n.StateMachine = r, cc._RF.pop()
        }, {}],
        UserAgreementAndPrivacyPolicy: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "9b8f6bXfKlBIpLteHGDMdlM", "UserAgreementAndPrivacyPolicy"), Object.defineProperty(n, "__esModule", {value: !0}), n.UserAgreementAndPrivacyPolicy = void 0;
            var r = e("../common/scripts/managers/GlobalVarManager"), o = cc._decorator, i = o.ccclass, a = o.property,
                s = function (e) {
                    function t() {
                        var t = null !== e && e.apply(this, arguments) || this;
                        return t.labelPolicy = null, t.isPolicy = !0, t._hook = null, t
                    }

                    return __extends(t, e), t.prototype.onLoad = function () {
                        var e = this, t = r.GlobalVarManager.instance.language, n = "bytedance" === PLATFORM,
                            o = "qq" === PLATFORM, i = "policy";
                        n ? i = "policy_bytedance" : o && (i = "policy_qq");
                        var a = "_" + t,
                            s = this.isPolicy ? "/" + i + "/policy" + a + ".txt" : "/" + i + "/agreement" + a + ".txt";
                        cc.assetManager.loadRemote(CDN + s, function (t, n) {
                            !t && n && (e.labelPolicy.string = n.toString())
                        })
                    }, t.prototype.onClose = function () {
                        this._hook && this._hook(), this.node.destroy()
                    }, t.prototype.setHook = function (e) {
                        this._hook = e
                    }, __decorate([a(cc.Label)], t.prototype, "labelPolicy", void 0), __decorate([a(cc.Boolean)], t.prototype, "isPolicy", void 0), __decorate([i], t)
                }(cc.Component);
            n.UserAgreementAndPrivacyPolicy = s, cc._RF.pop()
        }, {"../common/scripts/managers/GlobalVarManager": "GlobalVarManager"}],
        UserAuth: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "8c864A8artAjbRHk7wDg0VI", "UserAuth"), Object.defineProperty(n, "__esModule", {value: !0}), n.UserAuth = void 0;
            var r = __importStar(e("@jimu/basis")), o = e("../common/scripts/managers/LocalStorage"),
                i = e("../common/scripts/managers/PlatformManager"), a = e("../common/scripts/types-common"),
                s = e("../common/scripts/managers/GlobalVarManager"), c = cc._decorator, u = c.ccclass, l = c.property,
                f = function (e) {
                    function t() {
                        var t = null !== e && e.apply(this, arguments) || this;
                        return t.pageA = null, t.pageB = null, t.buttonMore = null, t.deferred = null, t
                    }

                    return __extends(t, e), t.prototype.onPageA = function () {
                        if (this.pageA) {
                            var e = cc.instantiate(this.pageA);
                            e.parent = cc.director.getScene(), e.zIndex = 100
                        }
                    }, t.prototype.onPageB = function () {
                        if (this.pageB) {
                            var e = cc.instantiate(this.pageB);
                            e.parent = cc.director.getScene(), e.zIndex = 100
                        }
                    }, t.prototype.onNo = function () {
                        var e = i.PlatformManager.instance;
                        e.isBrowser ? confirm("\u662f\u5426\u9000\u51fa\u6e38\u620f?") && console.debug("auth no") : (e.isWXAndQQ || e.isByteDance) && wx.showModal({
                            title: "",
                            content: "\u662f\u5426\u9000\u51fa\u6e38\u620f?",
                            showCancel: !0,
                            success: function (t) {
                                t.confirm && (console.debug("auth no"), e.exitGame())
                            },
                            fail: function () {
                                console.debug("auth error"), e.exitGame()
                            }
                        })
                    }, t.prototype.onYes = function () {
                        this.node.active = !1, o.LocalStorage.instance.setBool("license", !0), this.deferred.resolve(), this.deferred = null
                    }, t.prototype.onLoad = function () {
                        var e = i.PlatformManager.instance, t = this.pageA, n = this.pageB;
                        if (!e.isQQ && !e.isByteDance || o.LocalStorage.instance.getBool("license")) this.node.active = !1; else {
                            var c = this.onPageA, u = this.onPageB;
                            this.deferred = r.Deferred.create(), this.buttonMore && (this.buttonMore.onPageA = c.bind(this), this.buttonMore.onPageB = u.bind(this)), s.SET_GLOBAL(a.GlobalVarKey.UserAuthDeferred, this.deferred.promise)
                        }
                        s.SET_GLOBAL(a.GlobalVarKey.UserAgreementPrefab, t), s.SET_GLOBAL(a.GlobalVarKey.PrivacyPolicyPrefab, n)
                    }, t.prototype.onDestroy = function () {
                        this.deferred && (this.deferred.resolve(), this.deferred = null)
                    }, __decorate([l(cc.Prefab)], t.prototype, "pageA", void 0), __decorate([l(cc.Prefab)], t.prototype, "pageB", void 0), __decorate([l(cc.RichText)], t.prototype, "buttonMore", void 0), __decorate([u], t)
                }(cc.Component);
            n.UserAuth = f, cc._RF.pop()
        }, {
            "../common/scripts/managers/GlobalVarManager": "GlobalVarManager",
            "../common/scripts/managers/LocalStorage": "LocalStorage",
            "../common/scripts/managers/PlatformManager": "PlatformManager",
            "../common/scripts/types-common": "types-common",
            "@jimu/basis": 6
        }],
        VerifyHelper: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "4202bAmu3tEhIo4XNMSb/ye", "VerifyHelper"), Object.defineProperty(n, "__esModule", {value: !0}), n.VerifyHelper = n.VerifyStatus = void 0;
            var r, o = e("../../../config/Configs");
            (function (e) {
                e[e.None = 0] = "None", e[e.Start = 1] = "Start", e[e.Success = 2] = "Success", e[e.Failed = 3] = "Failed"
            })(r = n.VerifyStatus || (n.VerifyStatus = {}));
            var i = function () {
                function e(e) {
                    this._verifyRoot = null, this._isProd = !1, this._verifyStatus = r.None, this._verifyFailedCnt = 0, this._buildTween = null, this._failedTween = null, this._verifyReady = !1, this._isProd = e
                }

                return e.prototype.init = function (e) {
                    VERIFY && (this._verifyRoot = null, this._verifyStatus = r.None, this._verifyFailedCnt = 0, this._buildTween = null, this._failedTween = null, this._verifyReady = !1, this.initVerify(e))
                }, e.prototype.initVerify = function (e) {
                    void 0 === e && (e = null), this._verifyReady || e && (this._verifyReady = !0, console.log("VERIFY.bootstrap"), VERIFY.bootstrap({
                        gameId: this._isProd ? "xyzw_mix" : "xyzwtest_mix",
                        uniqueId: e,
                        env: this._isProd ? "Prod" : "Test"
                    }))
                }, e.prototype.showVerify = function (e, t) {
                    return __awaiter(this, void 0, Promise, function () {
                        var n, o, i = this;
                        return __generator(this, function () {
                            return VERIFY ? (this._verifyReady || this.initVerify(e), n = this._verifyRoot, this._verifyRoot || ((n = this._verifyRoot = new cc.Node).name = "verifyRoot", n.x = cc.winSize.width / 2, n.y = cc.winSize.height / 2, cc.game.addPersistRootNode(n), n.zIndex = 1e5, n.width = 0, n.height = 0, n.on(cc.Node.EventType.TOUCH_START, function () {
                            }), n.on(cc.Node.EventType.TOUCH_END, function () {
                            })), (o = this._buildTween) && (o.stop(), this._buildTween = null), this._buildTween = o = cc.tween(n).repeatForever(cc.tween(n).delay(.01).call(function () {
                                var e = cc.find("verify-panel/confirm-btn", n);
                                if (e) {
                                    o.stop(), i._buildTween = null, n.width = cc.winSize.width, n.height = cc.winSize.height;
                                    var t = e.x, r = e.y;
                                    0 === t && (t = 230, r = -185);
                                    var a = new cc.Node;
                                    a.width = e.width + 10, a.height = e.height + 10, a.x = -2e3, a.y = -2e3, a.parent = e.parent, a.name = "mask_", a.on(cc.Node.EventType.TOUCH_START, function () {
                                    });
                                    var s = new cc.Node;
                                    s.width = e.width + 10, s.height = e.height + 10, s.parent = e, s.zIndex = 1e3, s.name = "verifyMask", s.on(cc.Node.EventType.TOUCH_START, function () {
                                        a.x = t, a.y = r, cc.tween(s).delay(3).call(function () {
                                            a.x = -2e3, a.y = -2e3
                                        }).start()
                                    })
                                }
                            })).start(), this._verifyRoot.active = !0, this._verifyRoot.x = cc.winSize.width / 2, this._verifyStatus = r.Start, this._verifyFailedCnt = 0, [2, VERIFY.turnpass({
                                node: this._verifyRoot,
                                listener: function () {
                                    i._verifyStatus = r.Failed, t()
                                }
                            }).then(function () {
                                i._verifyStatus = r.Success, i.verifyFailedCnt = 0, i.hideVerify()
                            }).catch(function () {
                                i._verifyStatus = r.Failed
                            })]) : [2, Promise.resolve()]
                        })
                    })
                }, e.prototype.hideVerify = function () {
                    this._verifyRoot && (this._verifyRoot.active = !1, this._verifyRoot.x = -2e4)
                }, Object.defineProperty(e.prototype, "verifyStatus", {
                    get: function () {
                        return this._verifyStatus
                    }, enumerable: !1, configurable: !0
                }), e.prototype._cleanTweens = function () {
                    this._buildTween && (this._buildTween.stop(), this._buildTween = null), this._failedTween && (this._failedTween.stop(), this._failedTween = null)
                }, e.prototype.onDisable = function () {
                    this._cleanTweens()
                }, e.prototype.onDestroy = function () {
                    this._cleanTweens()
                }, Object.defineProperty(e.prototype, "verifyFailedCnt", {
                    get: function () {
                        return this._verifyFailedCnt
                    }, set: function (e) {
                        var t = this;
                        this._verifyFailedCnt = e, this._verifyFailedCnt >= this.maxFailedCnt() && (this._failedTween = cc.tween(this._verifyRoot).delay(1.5).call(function () {
                            t._failedTween.stop(), t._failedTween = null, t._verifyFailedCnt = 0, t.hideVerify()
                        }).start())
                    }, enumerable: !1, configurable: !0
                }), e.prototype.maxFailedCnt = function () {
                    var e, t;
                    return null !== (t = null === (e = null === o.ConstantConf || void 0 === o.ConstantConf ? void 0 : o.ConstantConf.config) || void 0 === e ? void 0 : e.VerifyFailedCnt) && void 0 !== t ? t : 5
                }, e
            }();
            n.VerifyHelper = i, cc._RF.pop()
        }, {"../../../config/Configs": "Configs"}],
        "base-loading": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "2688bMej5xK/6rqk/s6X6EP", "base-loading"), Object.defineProperty(n, "__esModule", {value: !0}), n.BaseLoadingState = void 0;
            var r = e("../../common/scripts/GlobalSignal"), o = e("../../common/scripts/fsm/FsmState"),
                i = e("../../common/scripts/types-common"), a = function (e) {
                    function t() {
                        return null !== e && e.apply(this, arguments) || this
                    }

                    return __extends(t, e), t.prototype.begin = function () {
                        return __awaiter(this, void 0, Promise, function () {
                            return __generator(this, function () {
                                return [2]
                            })
                        })
                    }, t.prototype.end = function () {
                        return __awaiter(this, void 0, Promise, function () {
                            return __generator(this, function () {
                                return [2]
                            })
                        })
                    }, t.prototype.waitForNetworkReady = function (e, t, n) {
                        return void 0 === e && (e = null), void 0 === t && (t = 300), void 0 === n && (n = 5), __awaiter(this, void 0, void 0, function () {
                            var e;
                            return __generator(this, function (r) {
                                switch (r.label) {
                                    case 0:
                                        e = 0, r.label = 1;
                                    case 1:
                                        return e++ < t ? 0 !== cc.sys.getNetworkType() ? [3, 3] : [4, new Promise(function (e) {
                                            return cc.Canvas.instance.scheduleOnce(e, n)
                                        })] : [3, 3];
                                    case 2:
                                        return r.sent(), [3, 1];
                                    case 3:
                                        return [2]
                                }
                            })
                        })
                    }, t.prototype.updateProgress = function (e, t, n) {
                        void 0 === t && (t = !1), void 0 === n && (n = 3), r.GlobalSignal.LoadingProgress.dispatch(e, t, n)
                    }, t.prototype.onEnter = function (e) {
                        return __awaiter(this, void 0, void 0, function () {
                            var t;
                            return __generator(this, function (n) {
                                switch (n.label) {
                                    case 0:
                                        return n.trys.push([0, 2, , 3]), [4, this.begin(e)];
                                    case 1:
                                        return n.sent(), [3, 3];
                                    case 2:
                                        return t = n.sent(), this.stateMachine.transition(i.GameState.LoadingError, t), [3, 3];
                                    case 3:
                                        return [2]
                                }
                            })
                        })
                    }, t.prototype.onExit = function (e) {
                        return __awaiter(this, void 0, void 0, function () {
                            var t;
                            return __generator(this, function (n) {
                                switch (n.label) {
                                    case 0:
                                        return n.trys.push([0, 2, , 3]), [4, this.end(e)];
                                    case 1:
                                        return n.sent(), [3, 3];
                                    case 2:
                                        return t = n.sent(), this.stateMachine.transition(i.GameState.LoadingError, t), [3, 3];
                                    case 3:
                                        return [2]
                                }
                            })
                        })
                    }, t
                }(o.FsmState);
            n.BaseLoadingState = a, cc._RF.pop()
        }, {
            "../../common/scripts/GlobalSignal": "GlobalSignal",
            "../../common/scripts/fsm/FsmState": "FsmState",
            "../../common/scripts/types-common": "types-common"
        }],
        "decorators-common": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "90724DDtVhKMqlPU1EnY4qe", "decorators-common"), Object.defineProperty(n, "__esModule", {value: !0}), n.bindName = n.uiBinders = void 0, n.uiBinders = new Map, n.bindName = function (e) {
                return function (t) {
                    n.uiBinders.set(e, t)
                }
            }, cc._RF.pop()
        }, {}],
        emitter: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "5dff8g//OBNZL/jUhCNFIZu", "emitter"), Object.defineProperty(n, "__esModule", {value: !0}), n.Emitter = n.MemoryLeakError = void 0;
            var r = function (e) {
                function t(t, n, r) {
                    var o = e.call(this, "Possible EventEmitter memory leak detected. " + r + " " + n.toString() + " listeners added. Use emitter.setMaxListeners() to increase limit") || this;
                    return o.emitter = t, o.type = n, o.count = r, o.name = "MaxListenersExceededWarning", o
                }

                return __extends(t, e), t
            }(Error);
            n.MemoryLeakError = r;
            var o = function () {
                function e() {
                    this._events = new Map, this._maxListeners = e.defaultMaxListeners, this._hasWarnedAboutPotentialMemoryLeak = !1
                }

                return e.listenerCount = function (e, t) {
                    return e.listenerCount(t)
                }, e.prototype._emitInternalEvent = function (e, t, n) {
                    this.emit.apply(this, __spreadArrays([e], [t, n]))
                }, e.prototype._getListeners = function (e) {
                    return Array.prototype.concat.apply([], this._events.get(e)) || []
                }, e.prototype._removeListener = function (e, t) {
                    var n = e.indexOf(t);
                    return n > -1 && e.splice(n, 1), []
                }, e.prototype._wrapOnceListener = function (e, t) {
                    var n = this, r = function () {
                        for (var o = [], i = 0; i < arguments.length; i++) o[i] = arguments[i];
                        return n.removeListener(e, r), t.apply(n, o)
                    };
                    return Object.defineProperty(r, "name", {value: t.name}), r
                }, e.prototype.setMaxListeners = function (e) {
                    return this._maxListeners = e, this
                }, e.prototype.getMaxListeners = function () {
                    return this._maxListeners
                }, e.prototype.eventNames = function () {
                    return Array.from(this._events.keys())
                }, e.prototype.emit = function (e) {
                    for (var t = this, n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
                    var o = this._getListeners(e);
                    return o.forEach(function (e) {
                        e.apply(t, n)
                    }), o.length > 0
                }, e.prototype.addListener = function (e, t) {
                    this._emitInternalEvent("newListener", e, t);
                    var n = this._getListeners(e).concat(t);
                    if (this._events.set(e, n), this._maxListeners > 0 && this.listenerCount(e) > this._maxListeners && !this._hasWarnedAboutPotentialMemoryLeak) {
                        this._hasWarnedAboutPotentialMemoryLeak = !0;
                        var o = new r(this, e, this.listenerCount(e));
                        console.warn(o)
                    }
                    return this
                }, e.prototype.on = function (e, t) {
                    return this.addListener(e, t)
                }, e.prototype.once = function (e, t) {
                    return this.addListener(e, this._wrapOnceListener(e, t))
                }, e.prototype.prependListener = function (e, t) {
                    var n = this._getListeners(e);
                    if (n.length > 0) {
                        var r = [t].concat(n);
                        this._events.set(e, r)
                    } else this._events.set(e, n.concat(t));
                    return this
                }, e.prototype.prependOnceListener = function (e, t) {
                    return this.prependListener(e, this._wrapOnceListener(e, t))
                }, e.prototype.removeListener = function (e, t) {
                    var n = this._getListeners(e);
                    return n.length > 0 && (this._removeListener(n, t), this._events.set(e, n), this._emitInternalEvent("removeListener", e, t)), this
                }, e.prototype.off = function (e, t) {
                    return this.removeListener(e, t)
                }, e.prototype.removeAllListeners = function (e) {
                    return e ? this._events.delete(e) : this._events.clear(), this
                }, e.prototype.listeners = function (e) {
                    return Array.from(this._getListeners(e))
                }, e.prototype.listenerCount = function (e) {
                    return this._getListeners(e).length
                }, e.prototype.rawListeners = function (e) {
                    return this.listeners(e)
                }, e.defaultMaxListeners = 10, e
            }();
            n.Emitter = o, cc._RF.pop()
        }, {}],
        "ext-funs": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "6a26er4PcFMVqnENRxg2qQn", "ext-funs"), Object.defineProperty(n, "__esModule", {value: !0}), n.tryCatchDo = n.tryDo = void 0, n.tryDo = function (e, t, n, r, o) {
                void 0 === e && (e = 3), void 0 === t && (t = 1);
                for (var i = [], a = 5; a < arguments.length; a++) i[a - 5] = arguments[a];
                return __awaiter(this, void 0, Promise, function () {
                    var a, s;
                    return __generator(this, function (c) {
                        switch (c.label) {
                            case 0:
                                a = 0, c.label = 1;
                            case 1:
                                return a < e ? [4, n.apply(o, i)] : [3, 5];
                            case 2:
                                return (s = c.sent()) ? [2, s] : (r && r.apply(o), [4, new Promise(function (e) {
                                    return cc.Canvas.instance.scheduleOnce(e, t)
                                })]);
                            case 3:
                                c.sent(), c.label = 4;
                            case 4:
                                return a++, [3, 1];
                            case 5:
                                return [2, null]
                        }
                    })
                })
            }, n.tryCatchDo = function (e, t, n, r, o, i) {
                void 0 === t && (t = 3), void 0 === n && (n = 1);
                for (var a = [], s = 6; s < arguments.length; s++) a[s - 6] = arguments[s];
                return __awaiter(this, void 0, Promise, function () {
                    var s, c, u, l;
                    return __generator(this, function (f) {
                        switch (f.label) {
                            case 0:
                                s = function (t) {
                                    for (var n = !1, r = 0; r < e.length; r++) if (-1 !== t.indexOf(e[r])) {
                                        n = !0;
                                        break
                                    }
                                    return n
                                }, c = null, u = 0, f.label = 1;
                            case 1:
                                if (!(u < t)) return [3, 8];
                                f.label = 2;
                            case 2:
                                return f.trys.push([2, 4, , 5]), c = null, [4, r.apply(i, a)];
                            case 3:
                                return f.sent(), [2, u];
                            case 4:
                                return l = f.sent(), c = l, "string" != typeof l ? [3, 8] : s(l) ? (console.warn("tryCatchDo:", l), [3, 5]) : [3, 8];
                            case 5:
                                return c ? (o && o.apply(i), [4, new Promise(function (e) {
                                    return cc.Canvas.instance.scheduleOnce(e, n)
                                })]) : [3, 8];
                            case 6:
                                f.sent(), f.label = 7;
                            case 7:
                                return u++, [3, 1];
                            case 8:
                                if (c) throw c;
                                return [2, t]
                        }
                    })
                })
            }, cc._RF.pop()
        }, {}],
        "ext-switch": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "3fe0doQQapGqISJ1zuyC4RQ", "ext-switch"), Object.defineProperty(n, "__esModule", {value: !0}), n.SwitchUpdater = void 0;
            var r = e("../managers/PlatformManager"), o = e("../../../config/Configs"), i = function () {
                function e() {
                }

                return e.isNativeForceUpdate = function () {
                    return __awaiter(this, void 0, void 0, function () {
                        return __generator(this, function (t) {
                            switch (t.label) {
                                case 0:
                                    return r.CHECK_SWITCH(o.SwitchId.FORCED_UPDATE) ? [2, !0] : [4, e.updateSwitchesAsync([o.SwitchId.FORCED_UPDATE])];
                                case 1:
                                    return t.sent(), [2, r.CHECK_SWITCH(o.SwitchId.FORCED_UPDATE)]
                            }
                        })
                    })
                }, e.updateSwitchesAsync = function (e, t) {
                    return void 0 === t && (t = new Map), __awaiter(this, void 0, void 0, function () {
                        return __generator(this, function (n) {
                            switch (n.label) {
                                case 0:
                                    return [4, r.PlatformManager.instance.updateSwitches(e, t, function () {
                                    })];
                                case 1:
                                    return n.sent(), [2]
                            }
                        })
                    })
                }, e
            }();
            n.SwitchUpdater = i, cc._RF.pop()
        }, {"../../../config/Configs": "Configs", "../managers/PlatformManager": "PlatformManager"}],
        "ext-trigger": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "c8e7ck9a1BEEb9kx9NrH9xL", "ext-trigger"), Object.defineProperty(n, "__esModule", {value: !0}), n.Trigger = void 0;
            var r = function () {
                function e() {
                    this.triggered = new Map, this.timeOuts = new Map
                }

                return e.create = function () {
                    return new e
                }, e.createTag = function () {
                    return "tag_" + this.tagId++
                }, e.prototype.getTimes = function (e) {
                    var t;
                    return null !== (t = this.triggered.get(e)) && void 0 !== t ? t : 0
                }, e.prototype.random = function (e, t) {
                    e <= 0 || Math.random() <= e && t()
                }, e.prototype.once = function (e, t) {
                    this.triggered.has(e) || this.trigger(e, t)
                }, e.prototype.every = function (e, t, n, r) {
                    var o = this;
                    void 0 === r && (r = !1), this.reset(t);
                    var i = this.timeOuts;
                    r || this.trigger(t, n);
                    var a = setTimeout(function () {
                        o.reset(t), o.every(e, t, n, !1)
                    }, 1e3 * e);
                    i.set(t, a)
                }, e.prototype.delay = function (e, t, n) {
                    var r = this;
                    this.reset(t);
                    var o = this.timeOuts, i = setTimeout(function () {
                        r.trigger(t, n), r.reset(t)
                    }, 1e3 * e);
                    o.set(t, i)
                }, e.prototype.reset = function (e) {
                    var t = this.triggered, n = this.timeOuts;
                    if (t.has(e) && t.delete(e), n.has(e)) {
                        var r = n.get(e);
                        clearTimeout(r), n.delete(e)
                    }
                }, e.prototype.resetAll = function () {
                    for (var e = this.triggered, t = 0, n = Array.from(e.keys()); t < n.length; t++) {
                        var r = n[t];
                        this.reset(r)
                    }
                }, e.prototype.trigger = function (e, t) {
                    this.triggered.set(e, this.getTimes(e) + 1), t()
                }, e.tagId = 1, e
            }();
            n.Trigger = r, cc._RF.pop()
        }, {}],
        ext: [function (e, t) {
            "use strict";
            cc._RF.push(t, "aaac5uqPBVBZJO+fIVomqYb", "ext"), cc._RF.pop()
        }, {}],
        "fix-clean-cache-url": [function (e, t) {
            "use strict";
            cc._RF.push(t, "e7f82tcEVZPQoj672BCFJo/", "fix-clean-cache-url"), cc.game.on(cc.game.EVENT_ENGINE_INITED, function () {
                cc.assetManager && (cc.assetManager.cleanCacheByUrl = function (e) {
                    var t = cc.assetManager.cacheManager;
                    if (t) {
                        var n = t.cachedFiles, r = n._map;
                        for (var o in r) -1 !== o.indexOf(e) && n.remove(o)
                    }
                }, cc.assetManager.cleanCacheByBundleName = function (e) {
                    var t = cc.assetManager.cacheManager;
                    if (t && t.removeCache) {
                        var n = ["/remote/" + e + "/config", "/remote/" + e + "/index"], r = t.cachedFiles._map;
                        if (!r) return;
                        for (var o in r) for (var i = 0, a = n; i < a.length; i++) {
                            var s = a[i];
                            -1 !== o.indexOf(s) && (t.removeCache(o), console.error("removeCache: " + o))
                        }
                    }
                })
            }), cc._RF.pop()
        }, {}],
        "fix-head-image-cross-domain": [function (e, t) {
            "use strict";
            cc._RF.push(t, "eab200Hvw5JkIzZFqPQSRt8", "fix-head-image-cross-domain"), cc.game.on(cc.game.EVENT_ENGINE_INITED, function () {
                cc.assetManager.downloader.register(".head", function (e, t, n) {
                    n(null, e)
                }), cc.assetManager.parser.register(".head", cc.assetManager.downloader.downloadDomImage), cc.assetManager.factory.register(".head", function (e, t, n, r) {
                    var o = null, i = null;
                    try {
                        (o = new cc.Texture2D)._uuid = e, o._nativeUrl = e, o._nativeAsset = t
                    } catch (a) {
                        i = a
                    }
                    r && r(i, o)
                })
            }), cc._RF.pop()
        }, {}],
        "fix-ios-touch": [function (e, t) {
            "use strict";
            cc._RF.push(t, "0fa3cJ+g9JJRI166a1Sp/KL", "fix-ios-touch"), cc.game.on(cc.game.EVENT_ENGINE_INITED, function () {
                cc.sys.os === cc.sys.OS_IOS && cc.sys.isNative && (cc.sys.old_getUnUsedIndex = cc.internal.inputManager._getUnUsedIndex, cc.internal.inputManager._getUnUsedIndex = function () {
                    for (var e = cc.sys.now(), t = cc.macro.TOUCH_TIMEOUT, n = this._indexBitsUsed, r = -1, o = this._touches, i = this._touchesIntegerDict, a = this._touchesCache, s = 0; s < this._maxTouches; s++) {
                        if (1 & n) {
                            var c = o[s];
                            if (c && e - c._lastModified > t) {
                                var u = c.getID();
                                delete i[u], delete a[u], this._touchCount--;
                                var l = new cc.Event.EventTouch([c]);
                                l._eventCode = cc.Event.EventTouch.CANCELED, console.log("trigger cancel manually"), cc.internal.eventManager.dispatchEvent(l), -1 === r ? (r = s, this._indexBitsUsed |= 1 << s) : this._indexBitsUsed &= ~(1 << s)
                            }
                        } else -1 === r && (r = s, this._indexBitsUsed |= 1 << s);
                        n >>= 1
                    }
                    return r
                })
            }), cc._RF.pop()
        }, {}],
        "fix-ios14-buffer": [function (e, t) {
            "use strict";
            cc._RF.push(t, "8b862lD6VRAKoYqZg8WjFj1", "fix-ios14-buffer");
            var n = !1, r = !0,
                o = cc.sys.platform === cc.sys.BYTEDANCE_GAME || cc.sys.platform === cc.sys.BYTEDANCE_GAME_SUB,
                i = cc.sys.platform === cc.sys.WECHAT_GAME || o;
            if (i && (cc.sys.os === cc.sys.OS_IOS || cc.sys.os === cc.sys.OS_OSX) && (i ? null === GameGlobal || void 0 === GameGlobal ? void 0 : GameGlobal.isIOSHighPerformanceMode : cc.sys.isBrowser)) {
                var a = window.navigator.userAgent.match(/((OS )|(Version\/))(\d+)(\.(\d+))?/);
                if (a) {
                    var s = +a[4] || 0, c = +a[6] || 0;
                    cc.macro.ENABLE_WEBGL_ANTIALIAS = 14 === s, n = i ? 14 === s || 15 === s && c < 4 : 14 === s, 15 === s && (r = !1)
                }
            }
            if (i) {
                var u = wx.connectSocket;
                Object.defineProperty(wx, "connectSocket", {
                    value: function (e) {
                        return r ? e.perMessageDeflate = !0 : e.url += (e.url.indexOf("?") > 0 ? "&" : "?") + "perMessageDeflate=0", u.call(wx, e)
                    }
                })
            }
            cc.game.on(cc.game.EVENT_ENGINE_INITED, function () {
                n ? (cc.MeshBuffer.prototype.checkAndSwitchBuffer = function (e) {
                    this.vertexOffset + e > 65535 && (this.uploadData(), this._batcher._flush())
                }, cc.MeshBuffer.prototype.forwardIndiceStartToOffset = function () {
                    this.uploadData(), this.switchBuffer()
                }) : cc.sys.isNative || (cc.MeshBuffer.prototype.checkAndSwitchBuffer = function (e) {
                    this.vertexOffset + e > 65535 && (this.uploadData(), this._batcher._flush(), this.switchBuffer())
                }, cc.MeshBuffer.prototype.forwardIndiceStartToOffset = function () {
                    this.indiceStart = this.indiceOffset
                })
            }), cc._RF.pop()
        }, {}],
        "fix-o4e-bytedance": [function (e, t) {
            "use strict";
            cc._RF.push(t, "cbc9dlN57NEcZY0ZmKdM43N", "fix-o4e-bytedance"), cc.game.on(cc.game.EVENT_ENGINE_INITED, function () {
                if (cc.sys.platform === cc.sys.BYTEDANCE_GAME || cc.sys.platform === cc.sys.BYTEDANCE_GAME_SUB) {
                    var e = tt.connectSocket;
                    try {
                        wx.connectSocket = tt.connectSocket = function (t) {
                            var n = e(t), r = [], o = n.send, i = !1;

                            function a() {
                                if (!i && r.length > 0) {
                                    var e = r.shift();
                                    e.success = function () {
                                        i = !1, a()
                                    }, e.fail = function () {
                                        i = !1
                                    }, i = !0, o(e)
                                }
                            }

                            return n.send = function (e) {
                                r.push(e), a()
                            }, n
                        }
                    } catch (t) {
                        wx.connectSocket = tt.connectSocket = e
                    }
                }
            }), cc._RF.pop()
        }, {}],
        "fix-render-error": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "739a30i8w9F3pwPYBidVS7v", "fix-render-error"), Object.defineProperty(n, "__esModule", {value: !0});
            var r = e("../../common/scripts/managers/PlatformManager"), o = e("../../common/scripts/types-common");
            cc.game.on(cc.game.EVENT_ENGINE_INITED, function () {
                cc.sys._dumpTextureEnable = !0, cc.sys.isNative;
                var e = function (e) {
                    return e ? e.$gobj && "" !== e.$gobj.name ? e.$gobj.name : e.name : ""
                }, t = function (t) {
                    for (var n = ""; t && !(t instanceof cc.Scene);) n = n ? e(t) + "/" + n : e(t), t = t.parent;
                    return "path: " + n
                }, n = {comp: !1, assembler: !1, exp: !1, spr: !1, texture: !1};
                cc.sys.isNative || (cc.RenderFlow.prototype._updateRenderData = function (e) {
                    try {
                        var i = e._renderComponent;
                        if (!i) return void (n.comp || (n.comp = !0, r.TAG_LOG(o.TGAEvent.RenderError, {step: "comp:" + t(e)})));
                        if (!i._assembler) return void (n.assembler || (n.assembler = !0, r.TAG_LOG(o.TGAEvent.RenderError, {step: "ass:" + t(e)})));
                        i._assembler.updateRenderData(i), e._renderFlag &= ~cc.RenderFlow.UPDATE_RENDER_DATA, this._next._func(e)
                    } catch (a) {
                        n.exp || (n.exp = !0, r.TAG_LOG(o.TGAEvent.RenderError, {step: "exp:" + a.toString() + ", node:" + t(e)}))
                    }
                });
                var i = cc.Sprite.prototype.onEnable;
                cc.Sprite.prototype.onEnable = function () {
                    var e = this.node;
                    try {
                        i.call(this)
                    } catch (a) {
                        n.spr || (n.spr = !0, r.TAG_LOG(o.TGAEvent.RenderError, {step: "spr:" + a.toString() + ",node:" + t(e)}))
                    }
                }, cc.sys.tgaLogError = function (e) {
                    e && "" !== e && (n.texture || (n.texture = !0, r.TAG_LOG(o.TGAEvent.RenderError, {step: "tex:" + e.substring(0, 8)})))
                }, cc.director.on("debug_error", function (e) {
                    for (var n = [], o = 1; o < arguments.length; o++) n[o - 1] = arguments[o];
                    if (e) {
                        var i = n[0];
                        i && 0 !== i.length && r.TAG_LOG_ONCE_CHECK(e, function () {
                            for (var n = {}, o = 0; o < i.length; o++) {
                                var a = i[o];
                                a && a instanceof cc.Node && (n["node" + o] = t(a))
                            }
                            r.TAG_LOG(e, n)
                        })
                    }
                }), cc.Assembler2D.prototype.packToDynamicAtlas = function (e, t) {
                    if (t) {
                        if (!t._original && cc.dynamicAtlasManager && t._texture.packable && t._texture.loaded) {
                            var n = cc.dynamicAtlasManager.insertSpriteFrame(t);
                            n && t._setDynamicAtlasFrame(n)
                        }
                        var r = e._materials[0];
                        r && t._texture && r.getProperty("texture") !== t._texture._texture && (e._vertsDirty = !0, e._updateMaterial())
                    }
                }, cc.SpriteFrame.prototype.ensureLoadTexture = function () {
                    this._texture && (this._texture.loaded || (this._texture._callbackTable = this._texture._callbackTable || {}, this._refreshTexture(this._texture), cc.assetManager.postLoadNative(this._texture)))
                };
                var a = cc.Mask.prototype.onEnable;
                cc.Mask.prototype.onEnable = function () {
                    var e = null;
                    2 === this._type && this._spriteFrame && !this._spriteFrame._callbackTable && (e = this._spriteFrame, this._spriteFrame = null), a.call(this), e && (this._spriteFrame = e)
                };
                var s = cc.Mask.prototype.onDestroy;
                cc.Mask.prototype.onDestroy = function () {
                    var e = null;
                    this._spriteFrame && !this._spriteFrame.loaded && (e = this._spriteFrame, this._spriteFrame = null), s.call(this), e && (this._spriteFrame = e)
                };
                var c = sp.SkeletonData.prototype.isTexturesLoaded;
                sp.SkeletonData.prototype.isTexturesLoaded = function () {
                    return this.textures ? c.call(this) : (cc.sys.tgaLogError && cc.sys.tgaLogError(this._uuid), !1)
                };
                var u = sp.SkeletonData.prototype.ensureTexturesLoaded;
                sp.SkeletonData.prototype.ensureTexturesLoaded = function (e, t) {
                    if (!this.textures) return !1;
                    u.call(this, e, t)
                };
                var l = function () {
                    var e = {stack: ""};
                    Error.captureStackTrace(e, l), console.log(e.stack)
                };
                cc.sys.traceBack = l
            }), cc._RF.pop()
        }, {
            "../../common/scripts/managers/PlatformManager": "PlatformManager",
            "../../common/scripts/types-common": "types-common"
        }],
        "fix-scheduler-updateInvoker": [function (e, t) {
            "use strict";
            cc._RF.push(t, "46d8dzZZoBGHJFLozR1XfjV", "fix-scheduler-updateInvoker"), cc.game.on(cc.game.EVENT_ENGINE_INITED, function () {
                try {
                    var e = cc.director._compScheduler.updateInvoker.__proto__;
                    if (!e) return;
                    var t = e.add, n = e.remove;
                    e.add = function (e) {
                        e && e._disableUpdateInvoker || t.call(this, e)
                    }, e.remove = function (e) {
                        e && e._disableUpdateInvoker || n.call(this, e)
                    }
                } catch (r) {
                    console.error(r)
                }
            }), cc._RF.pop()
        }, {}],
        "fix-skeleton-err": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "efa01uVjLdBIInNZEFbjDs2", "fix-skeleton-err"), Object.defineProperty(n, "__esModule", {value: !0}), n.fixSkeletonErr = void 0, n.fixSkeletonErr = function () {
                var e = sp.Skeleton.prototype._updateCache, t = sp.Skeleton.prototype._updateRealtime;
                e && t && (sp.Skeleton.prototype._updateCache = function (n) {
                    this._frameCache ? e.call(this, n) : t.call(this, n)
                })
            }, cc._RF.pop()
        }, {}],
        "fix-textUtils": [function (e, t) {
            "use strict";
            cc._RF.push(t, "08a91IWb2pKVoMHt8b7mtMm", "fix-textUtils"), cc.game.on(cc.game.EVENT_ENGINE_INITED, function () {
                var e = new cc.js.Pool(2);

                function t(e) {
                    this.count = 0, this.limit = e, this.datas = {}, this.head = null, this.tail = null
                }

                e.get = function () {
                    return this._get() || {key: null, value: null, prev: null, next: null}
                }, t.prototype.moveToHead = function (e) {
                    e.next = this.head, e.prev = null, null !== this.head && (this.head.prev = e), this.head = e, null === this.tail && (this.tail = e), this.count++, this.datas[e.key] = e
                }, t.prototype.put = function (t, n) {
                    var r = e.get();
                    if (r.key = t, r.value = n, this.count >= this.limit) {
                        var o = this.tail;
                        delete this.datas[o.key], this.count--, this.tail = o.prev, this.tail.next = null, o.prev = null, o.next = null, e.put(o)
                    }
                    this.moveToHead(r)
                }, t.prototype.remove = function (e) {
                    null !== e.prev ? e.prev.next = e.next : this.head = e.next, null !== e.next ? e.next.prev = e.prev : this.tail = e.prev, delete this.datas[e.key], this.count--
                }, t.prototype.get = function (e) {
                    var t = this.datas[e];
                    return t ? (this.remove(t), this.moveToHead(t), t.value) : null
                }, t.prototype.clear = function () {
                    this.count = 0, this.datas = {}, this.head = null, this.tail = null
                }, t.prototype.has = function (e) {
                    return !!this.datas[e]
                }, t.prototype.delete = function (e) {
                    var t = this.datas[e];
                    this.remove(t)
                };
                var n = new t(100);
                cc.textUtils.safeMeasureText = function (e, t, r) {
                    var o = (r || e.font) + "\ud83c\udfae" + t, i = n.get(o);
                    if (null !== i) return i;
                    var a = e.measureText(t), s = a && a.width || 0;
                    return !s && t.length > 0 && (s = 1), n.put(o, s), s
                }
            }), cc._RF.pop()
        }, {}],
        "index-patch": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "2c16d0DmNNH9qRE3sjVmAj+", "index-patch"), Object.defineProperty(n, "__esModule", {value: !0}), console.warn("--------patch:begin--------"), e("./fix-ios14-buffer"), e("./fix-head-image-cross-domain"), e("./fix-clean-cache-url"), e("./fix-render-error"), e("./fix-textUtils"), e("./fix-o4e-bytedance"), e("./fix-scheduler-updateInvoker"), e("./fix-ios-touch"), console.warn("--------patch:end--------"), cc._RF.pop()
        }, {
            "./fix-clean-cache-url": "fix-clean-cache-url",
            "./fix-head-image-cross-domain": "fix-head-image-cross-domain",
            "./fix-ios-touch": "fix-ios-touch",
            "./fix-ios14-buffer": "fix-ios14-buffer",
            "./fix-o4e-bytedance": "fix-o4e-bytedance",
            "./fix-render-error": "fix-render-error",
            "./fix-scheduler-updateInvoker": "fix-scheduler-updateInvoker",
            "./fix-textUtils": "fix-textUtils"
        }],
        "launcher-init": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "4eb1dPobyBHxKmA0YH0Mma/", "launcher-init"), Object.defineProperty(n, "__esModule", {value: !0}), n.LauncherInitState = void 0;
            var r = __importStar(e("@o4e/cc-mobx")), o = e("@o4e/core"), i = e("../../common/scripts/Log"),
                a = e("../../common/scripts/managers/GlobalVarManager"),
                s = e("../../common/scripts/managers/LocalStorage"),
                c = e("../../common/scripts/managers/PlatformManager"), u = e("../Launcher"), l = e("./base-loading"),
                f = e("../../config/Configs"), d = function (e) {
                    function t() {
                        return null !== e && e.apply(this, arguments) || this
                    }

                    return __extends(t, e), t.prototype._initLanguage = function () {
                        return {languageType: f.LanguageType.CHINESE, uiBranch: "Trunk"}
                    }, t.prototype.begin = function () {
                        return __awaiter(this, void 0, void 0, function () {
                            var e, t, n, l, f, d, p, h, g, m;
                            return __generator(this, function () {
                                return e = u.Launcher.instance, t = c.PlatformManager.instance, n = t.isProd ? cc.sys.language : s.GET_LOCAL("language", s.SaveType.GLOBAL, "zh"), l = this._initLanguage(n, cc.sys.languageCode), f = l.languageType, d = l.uiBranch, (p = a.GlobalVarManager.instance).language = f, p.branch = d, globalThis.language = f, r.configure({disableErrorBoundaries: !0}), cc.macro.ENABLE_MULTI_TOUCH = !1, cc.game.setFrameRate(30), cc.game.addPersistRootNode(e.postprocess), h = cc.view.getFrameSize(), g = h.height / h.width, console.log("ratio:", g), console.log("o4e:", o.version), console.log("PLATFORM:" + PLATFORM), g <= 1.6 && e.ccCanvas && e.ccWidget && (e.ccCanvas.fitHeight = !0, e.ccCanvas.fitWidth = !0, e.ccWidget.isAlignHorizontalCenter = !0, e.ccWidget.horizontalCenter = 0, e.ccWidget.updateAlignment()), (m = globalThis.GameGlobal) && m.isIOSHighPerformanceMode && console.warn("\u9ad8\u6027\u80fd\u6a21\u5f0f"), t.isQQ && e.dustAndScratches && (e.dustAndScratches.active = !1), i.Log.time("enterGame"), [2]
                            })
                        })
                    }, t
                }(l.BaseLoadingState);
            n.LauncherInitState = d, cc._RF.pop()
        }, {
            "../../common/scripts/Log": "Log",
            "../../common/scripts/managers/GlobalVarManager": "GlobalVarManager",
            "../../common/scripts/managers/LocalStorage": "LocalStorage",
            "../../common/scripts/managers/PlatformManager": "PlatformManager",
            "../../config/Configs": "Configs",
            "../Launcher": "Launcher",
            "./base-loading": "base-loading",
            "@o4e/cc-mobx": 12,
            "@o4e/core": 13
        }],
        "load-error": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "348ebUyAhpL84XUpTdIGF9O", "load-error"), Object.defineProperty(n, "__esModule", {value: !0}), n.LoadErrorState = void 0;
            var r = e("../../common/scripts/fsm/FsmState"), o = e("../../common/scripts/managers/PlatformManager"),
                i = e("../../common/scripts/types-common"), a = function (e) {
                    function t() {
                        var t = null !== e && e.apply(this, arguments) || this;
                        return t._errorTimes = 0, t
                    }

                    return __extends(t, e), t.prototype._handleReason = function (e) {
                        if (void 0 === e && (e = ""), "object" == typeof e) do {
                            var t = e.stack;
                            if (t) {
                                var n = t.match(/at (\w+)\.decode/);
                                if (n && 2 === n.length) {
                                    e = n[1] + " decode error";
                                    break
                                }
                            }
                            var r = e.message;
                            if (r) {
                                e = r;
                                break
                            }
                            e = e.toString()
                        } while (0); else void 0 === e && (e = "unknow");
                        return e
                    }, t.prototype._getReasonDesc = function (e) {
                        void 0 === e && (e = "");
                        var t = {title: "", desc: "", hadHandled: !1};
                        do {
                            if (e.search("800080") >= 0) {
                                t.title = "\u767b\u5f55\u5931\u8d25", t.desc = "" + e;
                                break
                            }
                            if ("-1 error" === e) {
                                t.title = "\u670d\u52a1\u5668\u7ef4\u62a4", t.desc = "\u6e38\u620f\u505c\u670d\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u8fdb\u6765!";
                                break
                            }
                            if (e.search("-5 undefined") >= 0) {
                                t.title = "\u7f51\u7edc\u4fe1\u53f7\u5f31", t.desc = "\u7f51\u7edc\u4e0d\u7a33\u5b9a\uff0c\u8bf7\u5207\u6362\u7f51\u7edc\u91cd\u65b0\u52a0\u8f7d";
                                break
                            }
                            if (e.search("decode error") >= 0) {
                                t.title = "\u52a0\u8f7d\u5931\u8d25", t.desc = "\u914d\u7f6e\u8868\u52a0\u8f7d\u62a5\u9519, \u8bf7\u70b9\u51fb\u91cd\u8bd5";
                                break
                            }
                            if (e.search("-10009") >= 0) {
                                t.hadHandled = !0;
                                break
                            }
                            if (e.search("-10007") >= 0 && !o.PlatformManager.instance.isBrowser) {
                                t.hadHandled = !0;
                                break
                            }
                            t.title = "\u52a0\u8f7d\u5931\u8d25", t.desc = "\u7f51\u7edc\u4e0d\u7a33\u5b9a\uff0c\u8bf7\u5207\u6362\u7f51\u7edc\u91cd\u65b0\u52a0\u8f7d\n" + e
                        } while (0);
                        return t
                    }, t.prototype.onEnter = function (e, t) {
                        var n;
                        return void 0 === t && (t = ""), __awaiter(this, void 0, void 0, function () {
                            var r, a, s, c, u = this;
                            return __generator(this, function () {
                                return t = t || "", (r = o.PlatformManager.instance).log(i.TGAEvent.Loading, {step: "retry"}), r.log(i.TGAEvent.Loading, {error: t}), this._errorTimes++ >= 3 && (null === (n = cc.assetManager.cacheManager) || void 0 === n || n.clearCache(), r.log(i.TGAEvent.Loading, {step: "clearCache"}), console.log("\u5df2\u6e05\u9664\u5168\u90e8\u7f13\u5b58")), t = this._handleReason(t), (a = this._getReasonDesc(t)).hadHandled || (s = a.title, c = a.desc, r.showModal(s, c, function (t) {
                                    console.log(t), u.stateMachine.transition(e ? e.stateId : i.GameState.PlatformLogin)
                                }, function () {
                                    r.log(i.TGAEvent.Loading, {step: "exit"}), r.exitGame()
                                }, !0)), r.log(i.TGAEvent.Loading, {step: "showRetry", reason: t}), [2]
                            })
                        })
                    }, t
                }(r.FsmState);
            n.LoadErrorState = a, cc._RF.pop()
        }, {
            "../../common/scripts/fsm/FsmState": "FsmState",
            "../../common/scripts/managers/PlatformManager": "PlatformManager",
            "../../common/scripts/types-common": "types-common"
        }],
        "load-game-scene": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "b2c6fBiza9HhIUuV3Dq0weT", "load-game-scene"), Object.defineProperty(n, "__esModule", {value: !0}), n.LoadGameSceneState = void 0;
            var r = e("../../common/scripts/Log"), o = e("../../common/scripts/managers/GlobalVarManager"),
                i = e("../../common/scripts/managers/PlatformManager"),
                a = e("../../common/scripts/managers/ResourceManager"), s = e("../../common/scripts/types-common"),
                c = e("../Launcher"), u = function (e) {
                    function t() {
                        return null !== e && e.apply(this, arguments) || this
                    }

                    return __extends(t, e), t.prototype.begin = function () {
                        return __awaiter(this, void 0, void 0, function () {
                            var e;
                            return __generator(this, function (t) {
                                switch (t.label) {
                                    case 0:
                                        return this.updateProgress(s.LoadingStepKey.GameScene, !1, 1), r.Log.time("gameScene"), [4, a.TRY_LOAD_ASSET("game", "scenes/Game", cc.SceneAsset, 30, 1, !0)];
                                    case 1:
                                        return e = t.sent(), r.Log.timeEnd("gameScene"), i.TAG_LOG(s.TGAEvent.Loading, {step: "gameScene"}), i.PlatformManager.instance.isNative && (setTimeout(function () {
                                            o.GlobalVarManager.instance.get(s.GlobalVarKey.GameBundleCheck) && c.Launcher.instance._showCleanExceptionBtn(!0, !0)
                                        }, 1e3 * (10 + 2 * Math.random())), o.GlobalVarManager.instance.set(s.GlobalVarKey.GameBundleCheck, !0)), cc.director.runScene(e), [2]
                                }
                            })
                        })
                    }, t
                }(e("./base-loading").BaseLoadingState);
            n.LoadGameSceneState = u, cc._RF.pop()
        }, {
            "../../common/scripts/Log": "Log",
            "../../common/scripts/managers/GlobalVarManager": "GlobalVarManager",
            "../../common/scripts/managers/PlatformManager": "PlatformManager",
            "../../common/scripts/managers/ResourceManager": "ResourceManager",
            "../../common/scripts/types-common": "types-common",
            "../Launcher": "Launcher",
            "./base-loading": "base-loading"
        }],
        "load-manifest": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "70ec1WvxNtLb650q2MejCgd", "load-manifest"), Object.defineProperty(n, "__esModule", {value: !0}), n.LoadManifestState = void 0;
            var r = e("../../common/scripts/Log"), o = e("../../common/scripts/extensions/ext-funs"),
                i = e("../../common/scripts/managers/PlatformManager"), a = e("../../common/scripts/types-common"),
                s = function (e) {
                    function t() {
                        return null !== e && e.apply(this, arguments) || this
                    }

                    return __extends(t, e), t.prototype.begin = function () {
                        return __awaiter(this, void 0, void 0, function () {
                            var e, t;
                            return __generator(this, function (n) {
                                switch (n.label) {
                                    case 0:
                                        return e = i.PlatformManager.instance, this.updateProgress(a.LoadingStepKey.GameManifest), r.Log.time("manifest"), [4, o.tryCatchDo(["-1"], 5, 1, e.manifest, null, e)];
                                    case 1:
                                        return t = n.sent(), r.Log.timeEnd("manifest"), e.log(a.TGAEvent.Loading, {
                                            step: "manifest",
                                            tryTimes: t
                                        }), this.stateMachine.transition(a.GameState.LoadGameScene), [2]
                                }
                            })
                        })
                    }, t
                }(e("./base-loading").BaseLoadingState);
            n.LoadManifestState = s, cc._RF.pop()
        }, {
            "../../common/scripts/Log": "Log",
            "../../common/scripts/extensions/ext-funs": "ext-funs",
            "../../common/scripts/managers/PlatformManager": "PlatformManager",
            "../../common/scripts/types-common": "types-common",
            "./base-loading": "base-loading"
        }],
        "lower-bound": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "27d4elC9hBBJYZrMXXAoK22", "lower-bound"), Object.defineProperty(n, "__esModule", {value: !0}), n.lowerBound = void 0, n.lowerBound = function (e, t, n) {
                for (var r = 0, o = e.length; o > 0;) {
                    var i = Math.trunc(o / 2), a = r + i;
                    n(e[a], t) <= 0 ? (r = ++a, o -= i + 1) : o = i
                }
                return r
            }, cc._RF.pop()
        }, {}],
        "mini-check-update": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "d0f64abidxGeYfhuYOliuX0", "mini-check-update"), Object.defineProperty(n, "__esModule", {value: !0}), n.MiniCheckUpdateState = void 0;
            var r = e("../../common/scripts/types-common"), o = e("./base-loading"), i = e("@o4e/core"),
                a = e("../../common/scripts/Log"), s = e("../../common/scripts/managers/LocalStorage"),
                c = e("../../common/scripts/managers/PlatformManager"), u = function (e) {
                    function t() {
                        return null !== e && e.apply(this, arguments) || this
                    }

                    return __extends(t, e), t.prototype.begin = function () {
                        return __awaiter(this, void 0, void 0, function () {
                            var e, t, n, o;
                            return __generator(this, function (u) {
                                switch (u.label) {
                                    case 0:
                                        return e = c.PlatformManager.instance, a.Log.time("checkUpdate"), t = e.isWeChat ? 3e3 : 5e3, [4, e.checkUpdate(t, !1)];
                                    case 1:
                                        return n = u.sent(), a.Log.timeEnd("checkUpdate"), n ? [2] : (s.LocalStorage.instance.log = e.log.bind(e), a.Log.time("_hsdkInit"), e.onPaySupplement(), a.Log.timeEnd("_hsdkInit"), o = cc.view.getVisibleSizeInPixel(), e.log(r.TGAEvent.Option, {
                                            precision: (1 / 3).toString().substring(2).length,
                                            OES_texture_float: !!cc.sys.glExtension("OES_texture_float"),
                                            ANGLE_instanced_arrays: !!cc.sys.glExtension("ANGLE_instanced_arrays"),
                                            MaxJointMatrixSize: cc.sys.getMaxJointMatrixSize(),
                                            o4e: i.version,
                                            astc: !!globalThis.astc,
                                            cleanup_image_cache: cc.macro.CLEANUP_IMAGE_CACHE,
                                            dynamic_atlas: !(!cc.dynamicAtlasManager || !cc.dynamicAtlasManager.enabled),
                                            resolution: o.width + "x" + o.height
                                        }), console.info("downloader:", cc.assetManager.downloader), e.log(r.TGAEvent.Loading, {step: "start"}), this.stateMachine.transition(r.GameState.PlatformLogin), [2])
                                }
                            })
                        })
                    }, t
                }(o.BaseLoadingState);
            n.MiniCheckUpdateState = u, cc._RF.pop()
        }, {
            "../../common/scripts/Log": "Log",
            "../../common/scripts/managers/LocalStorage": "LocalStorage",
            "../../common/scripts/managers/PlatformManager": "PlatformManager",
            "../../common/scripts/types-common": "types-common",
            "./base-loading": "base-loading",
            "@o4e/core": 13
        }],
        "p-delay": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "c57e3hOrVxKS4vYLH+x1ga2", "p-delay"), Object.defineProperty(n, "__esModule", {value: !0}), n.clearDelay = n.createDelay = void 0;
            var r = function () {
                var e = new Error("Delay aborted");
                return e.name = "AbortError", e
            }, o = new WeakMap;
            n.createDelay = function (e) {
                var t = void 0 === e ? {} : e, n = t.clearTimeoutFunc, i = void 0 === n ? clearTimeout : n,
                    a = t.setTimeoutFunc, s = void 0 === a ? setTimeout : a;
                return function (e, t) {
                    var n, a, c, u = void 0 === t ? {} : t, l = u.value, f = u.signal;
                    if (null == f ? void 0 : f.aborted) return Promise.reject(r());
                    var d = null != i ? i : clearTimeout, p = function () {
                        n && d(n), c(r())
                    }, h = new Promise(function (t, r) {
                        a = function () {
                            f && f.removeEventListener("abort", p), t(l)
                        }, c = r, n = (null != s ? s : setTimeout)(a, e)
                    });
                    return f && f.addEventListener("abort", p, {once: !0}), o.set(h, function () {
                        n && d(n), n = null, a()
                    }), h
                }
            }, n.clearDelay = function (e) {
                var t;
                null === (t = o.get(e)) || void 0 === t || t()
            }, cc._RF.pop()
        }, {}],
        "p-pipe": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "426bf0ikqZAtpH50NSsMi8q", "p-pipe"), Object.defineProperty(n, "__esModule", {value: !0}), n.pPipe = void 0, n.pPipe = function () {
                for (var e = this, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                if (0 === t.length) throw new Error("Expected at least one argument");
                return function (n) {
                    return __awaiter(e, void 0, void 0, function () {
                        var e, r, o;
                        return __generator(this, function (i) {
                            switch (i.label) {
                                case 0:
                                    e = n, r = 0, o = t, i.label = 1;
                                case 1:
                                    return r < o.length ? [4, (0, o[r])(e)] : [3, 4];
                                case 2:
                                    e = i.sent(), i.label = 3;
                                case 3:
                                    return r++, [3, 1];
                                case 4:
                                    return [2, e]
                            }
                        })
                    })
                }
            }, cc._RF.pop()
        }, {}],
        "p-queue-kit": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "f9921qE0HhKPIu8LfxWstvn", "p-queue-kit"), Object.defineProperty(n, "__esModule", {value: !0}), n.PQueueKit = void 0;
            var r = e("./p-queue"), o = function () {
                function e() {
                    this._queues = new Array
                }

                return e.prototype.acquire = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    var n = r.PQueue.acquire.apply(r.PQueue, e);
                    return this._queues.push(n), n
                }, e.prototype.release = function (e) {
                    var t = this._queues, n = t.indexOf(e);
                    n >= 0 && (t.splice(n, 1), r.PQueue.release(e))
                }, e.prototype.clear = function () {
                    for (var e = this._queues; e.length > 0;) this.release(e[0]);
                    e.length = 0
                }, Object.defineProperty(e.prototype, "idleCount", {
                    get: function () {
                        return this._queues.length
                    }, enumerable: !1, configurable: !0
                }), e
            }();
            n.PQueueKit = o, cc._RF.pop()
        }, {"./p-queue": "p-queue"}],
        "p-queue": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "0bd7bLuz1ZJ2ZDmRR1P5k2x", "p-queue"), Object.defineProperty(n, "__esModule", {value: !0}), n.PQueue = n.AbortError = void 0;
            var r = e("@jimu/basis"), o = e("./p-timeout"), i = e("./priority-queue"), a = e("./emitter"),
                s = function (e) {
                    function t() {
                        return null !== e && e.apply(this, arguments) || this
                    }

                    return __extends(t, e), t
                }(Error);
            n.AbortError = s;
            var c = 0, u = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.id = ++c, t._carryoverConcurrencyCount = !1, t._isIntervalIgnored = !1, t._intervalCap = Number.POSITIVE_INFINITY, t._interval = 0, t._queueClass = null, t._throwOnTimeout = !1, t._debug = !1, t._intervalCount = 0, t._intervalEnd = 0, t._queue = null, t._pending = 0, t._isPaused = !1, t
                }

                return __extends(t, e), t.acquire = function (e) {
                    var n = r.getPool(t, !0).borrow();
                    return n.initialize(e), n
                }, t.release = function (e) {
                    r.getPool(e.constructor, !0).return(e)
                }, t.prototype.initialize = function (e) {
                    var t, n, r, o;
                    if (!("number" == typeof (e = __assign({
                        carryoverConcurrencyCount: !1,
                        intervalCap: Number.POSITIVE_INFINITY,
                        interval: 0,
                        concurrency: Number.POSITIVE_INFINITY,
                        autoStart: !0,
                        debug: !1,
                        queueClass: i.PriorityQueue
                    }, e)).intervalCap && e.intervalCap >= 1)) throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `" + (null !== (n = null === (t = e.intervalCap) || void 0 === t ? void 0 : t.toString()) && void 0 !== n ? n : "") + "` (" + typeof e.intervalCap + ")");
                    if (void 0 === e.interval || !(Number.isFinite(e.interval) && e.interval >= 0)) throw new TypeError("Expected `interval` to be a finite number >= 0, got `" + (null !== (o = null === (r = e.interval) || void 0 === r ? void 0 : r.toString()) && void 0 !== o ? o : "") + "` (" + typeof e.interval + ")");
                    this._carryoverConcurrencyCount = e.carryoverConcurrencyCount, this._isIntervalIgnored = e.intervalCap === Number.POSITIVE_INFINITY || 0 === e.interval, this._intervalCap = e.intervalCap, this._interval = e.interval, this._queue = new e.queueClass, this._queueClass = e.queueClass, this._throwOnTimeout = !0 === e.throwOnTimeout, this._isPaused = !1 === e.autoStart, this._debug = !0 === e.debug, this.timeout = e.timeout, this.concurrency = e.concurrency, e && e.debug && console.debug("[PQueue] initialize: " + this.id)
                }, t.prototype.uninitialize = function () {
                    this._debug && console.debug("[PQueue] uninitialize: " + this.id + ", size: " + this.size), this._queue && this._queue.clear(), this._carryoverConcurrencyCount = !1, this._isIntervalIgnored = !1, this._intervalCap = Number.POSITIVE_INFINITY, this._interval = 0, this._queueClass = null, this._throwOnTimeout = !1, this._intervalCount = 0, this._intervalEnd = 0, this._intervalId = void 0, this._timeoutId = void 0, this._queue = null, this._pending = 0, this._concurrency = 0, this._isPaused = !1, this.timeout = void 0, this.removeAllListeners()
                }, t.prototype._next = function () {
                    this._queue && (this._pending--, this._tryToStartAnother(), this.emit("next"))
                }, t.prototype._onResumeInterval = function () {
                    this._onInterval(), this._initializeIntervalIfNeeded(), this._timeoutId = void 0
                }, t.prototype._tryToStartAnother = function () {
                    if (!this._queue) return !1;
                    if (0 === this._queue.size) return this._intervalId && clearInterval(this._intervalId), this._intervalId = void 0, this.emit("empty"), 0 === this._pending && this.emit("idle"), !1;
                    if (!this._isPaused) {
                        var e = !this._isIntervalPaused;
                        if (this._doesIntervalAllowAnother && this._doesConcurrentAllowAnother) {
                            var t = this._queue.dequeue();
                            return !!t && (this.emit("active"), t(), e && this._initializeIntervalIfNeeded(), !0)
                        }
                    }
                    return !1
                }, t.prototype._initializeIntervalIfNeeded = function () {
                    var e = this;
                    this._isIntervalIgnored || void 0 !== this._intervalId || (this._intervalId = setInterval(function () {
                        e._onInterval()
                    }, this._interval), this._intervalEnd = Date.now() + this._interval)
                }, t.prototype._onInterval = function () {
                    0 === this._intervalCount && 0 === this._pending && this._intervalId && (clearInterval(this._intervalId), this._intervalId = void 0), this._intervalCount = this._carryoverConcurrencyCount ? this._pending : 0, this._processQueue()
                }, t.prototype._processQueue = function () {
                    for (; this._tryToStartAnother();) ;
                }, t.prototype._throwOnAbort = function (e) {
                    return __awaiter(this, void 0, Promise, function () {
                        return __generator(this, function () {
                            return [2, new Promise(function (t, n) {
                                e.addEventListener("abort", function () {
                                    n(new s("The task was aborted."))
                                }, {once: !0})
                            })]
                        })
                    })
                }, t.prototype._onEvent = function (e, t) {
                    return __awaiter(this, void 0, Promise, function () {
                        var n = this;
                        return __generator(this, function () {
                            return [2, new Promise(function (r) {
                                var o = function () {
                                    t && !t() || (n.off(e, o), r())
                                };
                                n.on(e, o)
                            })]
                        })
                    })
                }, Object.defineProperty(t.prototype, "_doesIntervalAllowAnother", {
                    get: function () {
                        return this._isIntervalIgnored || this._intervalCount < this._intervalCap
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "_doesConcurrentAllowAnother", {
                    get: function () {
                        return this._pending < this._concurrency
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "_isIntervalPaused", {
                    get: function () {
                        var e = this, t = Date.now();
                        if (void 0 === this._intervalId) {
                            var n = this._intervalEnd - t;
                            if (!(n < 0)) return void 0 === this._timeoutId && (this._timeoutId = setTimeout(function () {
                                e._onResumeInterval()
                            }, n)), !0;
                            this._intervalCount = this._carryoverConcurrencyCount ? this._pending : 0
                        }
                        return !1
                    }, enumerable: !1, configurable: !0
                }), t.prototype.add = function (e, t) {
                    return void 0 === t && (t = {}), __awaiter(this, void 0, Promise, function () {
                        var n = this;
                        return __generator(this, function () {
                            return null === this._queue ? [2] : (t = __assign({
                                timeout: this.timeout,
                                throwOnTimeout: this._throwOnTimeout
                            }, t), [2, new Promise(function (r, i) {
                                n._queue.enqueue(function () {
                                    return __awaiter(n, void 0, void 0, function () {
                                        var n, a, c, u;
                                        return __generator(this, function (l) {
                                            switch (l.label) {
                                                case 0:
                                                    this._pending++, this._intervalCount++, l.label = 1;
                                                case 1:
                                                    if (l.trys.push([1, 3, 4, 5]), null === (u = t.signal) || void 0 === u ? void 0 : u.aborted) throw new s("The task was aborted.");
                                                    return n = "function" == typeof e ? e({signal: t.signal}) : e, t.timeout && (n = o.pTimeout(Promise.resolve(n), {milliseconds: t.timeout})), t.signal && (n = Promise.race([n, this._throwOnAbort(t.signal)])), [4, n];
                                                case 2:
                                                    return a = l.sent(), r(a), this.emit("completed", a), [3, 5];
                                                case 3:
                                                    return (c = l.sent()) instanceof o.TimeoutError && !t.throwOnTimeout ? (r(), [2]) : (i(c), this.emit("error", c), [3, 5]);
                                                case 4:
                                                    return this._next(), [7];
                                                case 5:
                                                    return [2]
                                            }
                                        })
                                    })
                                }, t), n.emit("add"), n._tryToStartAnother()
                            })])
                        })
                    })
                }, t.prototype.addAll = function (e, t) {
                    return __awaiter(this, void 0, Promise, function () {
                        var n = this;
                        return __generator(this, function () {
                            return [2, Promise.all(e.map(function (e) {
                                return __awaiter(n, void 0, void 0, function () {
                                    return __generator(this, function () {
                                        return [2, this.add(e, t)]
                                    })
                                })
                            }))]
                        })
                    })
                }, t.prototype.start = function () {
                    return this._isPaused ? (this._isPaused = !1, this._processQueue(), this) : this
                }, t.prototype.pause = function () {
                    this._isPaused = !0
                }, t.prototype.clear = function () {
                    this._debug && console.debug("[PQueue] clear: " + this.id + ", size: " + this.size), this._queue = new this._queueClass
                }, t.prototype.onEmpty = function () {
                    return __awaiter(this, void 0, Promise, function () {
                        return __generator(this, function (e) {
                            switch (e.label) {
                                case 0:
                                    return this._queue && 0 === this._queue.size ? [2] : [4, this._onEvent("empty")];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.onSizeLessThan = function (e) {
                    return __awaiter(this, void 0, Promise, function () {
                        var t = this;
                        return __generator(this, function (n) {
                            switch (n.label) {
                                case 0:
                                    return this._queue && this._queue.size < e ? [2] : [4, this._onEvent("next", function () {
                                        return t._queue.size < e
                                    })];
                                case 1:
                                    return n.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.onIdle = function () {
                    return __awaiter(this, void 0, Promise, function () {
                        return __generator(this, function (e) {
                            switch (e.label) {
                                case 0:
                                    return this._queue && 0 === this._pending && 0 === this._queue.size ? [2] : [4, this._onEvent("idle")];
                                case 1:
                                    return e.sent(), [2]
                            }
                        })
                    })
                }, t.prototype.sizeBy = function (e) {
                    return null === this._queue ? 0 : this._queue.filter(e).length
                }, Object.defineProperty(t.prototype, "size", {
                    get: function () {
                        return this._queue ? this._queue.size : 0
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "concurrency", {
                    get: function () {
                        return this._concurrency
                    }, set: function (e) {
                        if (!("number" == typeof e && e >= 1)) throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `" + e + "` (" + typeof e + ")");
                        this._concurrency = e, this._processQueue()
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "pending", {
                    get: function () {
                        return this._pending
                    }, enumerable: !1, configurable: !0
                }), Object.defineProperty(t.prototype, "isPaused", {
                    get: function () {
                        return this._isPaused
                    }, enumerable: !1, configurable: !0
                }), t
            }(a.Emitter);
            n.PQueue = u, cc._RF.pop()
        }, {
            "./emitter": "emitter",
            "./p-timeout": "p-timeout",
            "./priority-queue": "priority-queue",
            "@jimu/basis": 6
        }],
        "p-series": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "7eb7aQQ7LZGspgh7xaI/kUf", "p-series"), Object.defineProperty(n, "__esModule", {value: !0}), n.pSeries = void 0, n.pSeries = function (e) {
                return __awaiter(this, void 0, void 0, function () {
                    var t, n, r, o, i, a, s, c;
                    return __generator(this, function (u) {
                        switch (u.label) {
                            case 0:
                                for (t = 0, n = e; t < n.length; t++) if ("function" != typeof (a = n[t])) throw new TypeError("Expected task to be a `Function`, received `" + typeof a + "`");
                                r = [], o = 0, i = e, u.label = 1;
                            case 1:
                                return o < i.length ? (a = i[o], c = (s = r).push, [4, a()]) : [3, 4];
                            case 2:
                                c.apply(s, [u.sent()]), u.label = 3;
                            case 3:
                                return o++, [3, 1];
                            case 4:
                                return [2, r]
                        }
                    })
                })
            }, cc._RF.pop()
        }, {}],
        "p-timeout": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "bde152guY5EQaZDer2ZTgKi", "p-timeout"), Object.defineProperty(n, "__esModule", {value: !0}), n.pTimeout = n.AbortError = n.TimeoutError = void 0;
            var r = function (e) {
                function t(t) {
                    var n = e.call(this, t) || this;
                    return n.name = "TimeoutError", n
                }

                return __extends(t, e), t
            }(Error);
            n.TimeoutError = r;
            var o = function (e) {
                function t(t) {
                    var n = e.call(this) || this;
                    return n.name = "AbortError", n.message = t, n
                }

                return __extends(t, e), t
            }(Error);
            n.AbortError = o;
            var i = function (e) {
                return void 0 === globalThis.DOMException ? new o(e) : new DOMException(e)
            }, a = function (e) {
                var t = void 0 === e.reason ? i("This operation was aborted.") : e.reason;
                return t instanceof Error ? t : i(t)
            };
            n.pTimeout = function (e, t) {
                var n, o = this, i = t.milliseconds, s = t.fallback, c = t.message, u = t.customTimers,
                    l = void 0 === u ? {setTimeout: setTimeout, clearTimeout: clearTimeout} : u,
                    f = new Promise(function (u, f) {
                        if ("number" != typeof i || 1 !== Math.sign(i)) throw new TypeError("Expected `milliseconds` to be a positive number, got `" + i + "`");
                        if (t.signal) {
                            var d = t.signal;
                            d.aborted && f(a(d)), d.addEventListener("abort", function () {
                                f(a(d))
                            })
                        }
                        if (i !== Number.POSITIVE_INFINITY) {
                            setTimeout.call(void 0, function () {
                            });
                            var p = new r("timeout error");
                            n = l.setTimeout(function () {
                                if (s) try {
                                    u(s())
                                } catch (t) {
                                    f(t)
                                } else "function" == typeof e.cancel && e.cancel(), !1 === c ? u(void 0) : c instanceof Error ? f(c) : (p.message = null != c ? c : "Promise timed out after " + i + " milliseconds", f(p))
                            }, i), __awaiter(o, void 0, void 0, function () {
                                var t, n;
                                return __generator(this, function (r) {
                                    switch (r.label) {
                                        case 0:
                                            return r.trys.push([0, 2, , 3]), t = u, [4, e];
                                        case 1:
                                            return t.apply(void 0, [r.sent()]), [3, 3];
                                        case 2:
                                            return n = r.sent(), f(n), [3, 3];
                                        case 3:
                                            return [2]
                                    }
                                })
                            })
                        } else e.then(u, f)
                    }).finally(function () {
                        f.clear()
                    });
                return f.clear = function () {
                    l.clearTimeout.call(void 0, n), n = void 0
                }, f
            }, cc._RF.pop()
        }, {}],
        pipe: [function (e, t) {
            "use strict";
            cc._RF.push(t, "975e9PzAC5AH7mx0np+x8pN", "pipe"), cc._RF.pop()
        }, {}],
        "platform-base": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "f87d7AePYxLbaHI5rpP+t/k", "platform-base"), Object.defineProperty(n, "__esModule", {value: !0}), n.PlatformBase = void 0;
            var r = e("./types-platform"), o = e("./HortorSwitch"), i = e("../managers/PlatformManager"),
                a = e("../types-common"), s = function () {
                    function e() {
                        this.videoAds = new Map, this.userInfo = null, this.roleId = "", this.switch = null, this._maskId = 0, this.init()
                    }

                    return Object.defineProperty(e.prototype, "maskId", {
                        get: function () {
                            return this._maskId
                        }, enumerable: !1, configurable: !0
                    }), e.prototype.init = function () {
                        this.videoAds.clear(), this.videoAds.set(r.VideoAdType.AutoClick, "adunit-748b173ec730fdf9"), this.switch = new o.HortorSwitch(this.checkSwitches.bind(this))
                    }, e.prototype.isOpenUIDebugLog = function () {
                        return i.CHECK_SWITCH(a.C_SwitchId.DebugGame)
                    }, e.prototype.getDeviceInfo = function () {
                        return null
                    }, e.prototype.releaseIosMemory = function () {
                    }, e.prototype.chooseImage = function () {
                        return null
                    }, e.prototype.vibrateLong = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
                    }, e.prototype.vibrateShort = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
                    }, e.prototype.showLoading = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return null
                    }, e.prototype.hideLoading = function () {
                    }, e.prototype.launchOptions = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return null
                    }, e.prototype.login = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve({msg: "sdk.login(opt)"})
                    }, e.prototype.shareMessage = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(!1)
                    }, e.prototype.toPay = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(!1)
                    }, e.prototype.checkVideoAd = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(!1)
                    }, e.prototype.playVideoAd = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(!1)
                    }, e.prototype.adPointShow = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
                    }, e.prototype.saveImage = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve()
                    }, e.prototype.setGameUserInfo = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        this.userInfo = e[0], this.roleId = this.userInfo ? this.userInfo.roleId : ""
                    }, e.prototype.tagLog = function () {
                        for (var e, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                        t[0], t[1], t[2];
                        var r = t[3], o = (void 0 === r && HSDK.EventType.Track, t[4]);
                        void 0 === o && HSDK.LogType.TGA, t[1] = t[1] || {}, t[1].version = CODE_VERSION, console.info("TGA log", t[0], t[1], null !== (e = t[2]) && void 0 !== e ? e : "")
                    }, e.prototype.subscribeAppMsg = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(!1)
                    }, e.prototype.getNotice = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve([])
                    }, e.prototype.getNoticeByType = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve([])
                    }, e.prototype.initSwitches = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return this.switch.initRequest.apply(this.switch, e)
                    }, e.prototype.updateSwitches = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return this.switch.updateRequest.apply(this.switch, e)
                    }, e.prototype.checkSwitches = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve({})
                    }, e.prototype.checkSwitch = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return this.switch.check.apply(this.switch, e)
                    }, e.prototype.checkSwitchAsync = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return this.switch.checkAsync.apply(this.switch, e)
                    }, e.prototype.checkNeedAuthorize = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(!1)
                    }, e.prototype.authorize = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(!0)
                    }, e.prototype.createGetUserInfoBtn = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return null
                    }, e.prototype.updateUserInfo = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return null
                    }, e.prototype.getOpenDataContext = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return null
                    }, e.prototype.canSetUserCloudStorage = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return !1
                    }, e.prototype.setUserCloudStorage = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(!1)
                    }, e.prototype.getNotchInfo = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return null
                    }, e.prototype.checkUpdate = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(!1)
                    }, e.prototype.showModal = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
                    }, e.prototype.setClipboardData = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
                    }, e.prototype.saveAppToDesktop = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(!1)
                    }, e.prototype.exitGame = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        console.error("exitGame")
                    }, e.prototype.restartGame = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        console.error("restartGame")
                    }, e.prototype.createGameClubButton = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return null
                    }, e.prototype.isColorSignExistSync = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return !1
                    }, e.prototype.addColorSign = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
                    }, e.prototype.addRecentColorSign = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
                    }, e.prototype.postMessage = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
                    }, e.prototype.logout = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return console.error("logout"), Promise.resolve()
                    }, e.prototype.showAppComment = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
                    }, e.prototype.onPaySupplement = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
                    }, Object.defineProperty(e.prototype, "platformType", {
                        get: function () {
                            return "hortor"
                        }, enumerable: !1, configurable: !0
                    }), Object.defineProperty(e.prototype, "platformName", {
                        get: function () {
                            return "unknown"
                        }, enumerable: !1, configurable: !0
                    }), e.prototype.delAccount = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve()
                    }, e.prototype.openMiniApp = function () {
                        return Promise.resolve()
                    }, e.prototype.openMiniAppMsg = function () {
                        return console.log("\u6253\u5f00\u5ba2\u670d"), Promise.resolve()
                    }, e.prototype.setBrightness = function () {
                        return Promise.resolve()
                    }, e.prototype.getBrightness = function () {
                        return Promise.resolve(null)
                    }, e.prototype.getNetworkType = function () {
                        return Promise.resolve(null)
                    }, e.prototype.getBattery = function () {
                        return Promise.resolve(null)
                    }, e.prototype.isWindowsWx = function () {
                        return !1
                    }, e.prototype.createContactButton = function () {
                    }, e.prototype.checkRunningProcess = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(null)
                    }, e.prototype.setVibrate = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(null)
                    }, e.prototype.requestSubscribeMessage = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(null)
                    }, e.prototype.getSubscribeMessageCount = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(null)
                    }, e.prototype.getHasSubscribedGameUpdate = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(null)
                    }, e.prototype.requestSubscribeGameUpdate = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(null)
                    }, e.prototype.getBrandWallList = function () {
                        return Promise.resolve(null)
                    }, e.prototype.jumpBrandWallGame = function () {
                        return Promise.resolve()
                    }, e.prototype.brandWallShowTrack = function () {
                    }, e.prototype.closePayModal = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve(null)
                    }, e.prototype.canUseDiamondPay = function () {
                        return !1
                    }, e.prototype.readImgFile = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve("")
                    }, e.prototype.compressImgFile = function () {
                        return Promise.resolve(!1)
                    }, e.prototype.getClientVersion = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return Promise.resolve("")
                    }, e.prototype.business = function () {
                    }, e.prototype.jumpGsMiniProgram = function () {
                        return Promise.resolve()
                    }, e
                }();
            n.PlatformBase = s, cc._RF.pop()
        }, {
            "../managers/PlatformManager": "PlatformManager",
            "../types-common": "types-common",
            "./HortorSwitch": "HortorSwitch",
            "./types-platform": "types-platform"
        }],
        "platform-browser": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "4b1686nQxRIMIRd4U1IuTy/", "platform-browser"), Object.defineProperty(n, "__esModule", {value: !0}), n.PlatformBrowser = void 0;
            var r = e("../managers/GlobalVarManager"), o = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function () {
                    e.prototype.init.call(this);
                    var t = {
                        localhost: {url: "http://localhost:10101", name: "\u672c\u5730\u670d\u52a1\u5668"},
                        lxg: {url: "http://10.1.5.250:10101", name: "\u672c\u5730\u670d\u52a1\u5668"},
                        local: {url: "http://10.1.7.242:10101", name: "\u8001\u738b\u670d\u52a1\u5668"},
                        wj: {url: "http://10.2.1.16:10101", name: "wj\u670d\u52a1\u5668"},
                        xl: {url: "http://10.1.3.248:10101", name: "xl\u670d\u52a1\u5668"},
                        zyz: {url: "http://10.1.6.238:10101", name: "zyz\u670d\u52a1\u5668"},
                        wyx: {url: "http://10.2.0.217:10101", name: "wyx\u670d\u52a1\u5668"},
                        ljp: {url: "http://10.8.2.10:10101", name: "jp\u670d\u52a1\u5668"},
                        hyw: {url: "http://10.1.4.168:10101", name: "yw\u670d\u52a1\u5668"},
                        test4: {url: "https://xxz-xyzw-k8s-test.hortorgames.com", name: "test4"},
                        test3: {url: "https://xxz-xyzw-test-03.hortorgames.com", name: "\u6d4b\u8bd5\u670d3"},
                        test2: {url: "https://xxz-ddsg-next-test.hortorgames.com", name: "\u6d4b\u8bd5\u670d2"},
                        test: {url: "https://xxz-ddsg-test.hortorgames.com", name: "\u6d4b\u8bd5\u670d\u52a1\u5668"},
                        dev: {url: "https://xxz-xyzw-dev.hortorgames.com", name: "dev\u52a1\u5668"},
                        cehua: {url: "https://xxz-ddsg-cehua.hortorgames.com", name: "\u7b56\u5212\u670d\u52a1\u5668"},
                        audit: {url: "https://xxz-ddsg-audit.hortorgames.com", name: "\u5ba1\u6838\u670d\u52a1\u5668"},
                        prod: {url: "https://xxz-xyzw.hortorgames.com", name: "\u6b63\u5f0f\u670d\u52a1\u5668"},
                        asia_test: {url: "https://asia-xyzw-test.hortorgames.com", name: "\u4e9a\u670d\u6d4b\u8bd5"},
                        asia_audit: {url: "https://asia-xyzw-audit.hortorgames.com", name: "\u4e9a\u670d\u5ba1\u6838"},
                        asia_prod: {url: "https://asia-xyzw.hortorgames.com", name: "\u4e9a\u670d\u6b63\u5f0f"}
                    }, n = r.GlobalVarManager.instance.get("svr", "test");
                    SERVER = t[n] ? t[n].url : "http://" + n + ":10101"
                }, t
            }(e("./platform-web").PlatformWeb);
            n.PlatformBrowser = o, cc._RF.pop()
        }, {"../managers/GlobalVarManager": "GlobalVarManager", "./platform-web": "platform-web"}],
        "platform-bytedance": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "767b8q56elIwJX9CXQyMTGD", "platform-bytedance"), Object.defineProperty(n, "__esModule", {value: !0}), n.PlatformByteDance = void 0;
            var r = __importDefault(e("../../libs/platform/hortor/platform")), o = e("../GlobalSignal"),
                i = e("../managers/GlobalVarManager"), a = e("../managers/PlatformManager"), s = e("../types-common"),
                c = e("./platform-wx"), u = __importDefault(e("./ui/vedioBtn")), l = r.default,
                f = (window.__HORTOR_SDK__, function (e) {
                    function t() {
                        var t = null !== e && e.apply(this, arguments) || this;
                        return t._maskId = 32, t._recordMgr = null, t._recordBtn = null, t._recordStatus = !1, t._recordSec = 0, t._discard = !1, t
                    }

                    return __extends(t, e), t.prototype.init = function () {
                        e.prototype.init.call(this), o.GlobalSignal.EventEnterGame.on(function () {
                            var e = i.GlobalVarManager.instance.get(s.GlobalVarKey.InitPlatform);
                            e && e()
                        }), o.GlobalSignal.EventQueryCheckScene.on(function () {
                            var e = wx.checkScene;
                            e && e({
                                scene: "sidebar", success: function (e) {
                                    console.log("checkScene success", e.isExist, e), o.GlobalSignal.EventRespCheckScene.emit(e)
                                }, fail: function (e) {
                                    console.log("checkScene fail", e)
                                }
                            })
                        }), o.GlobalSignal.EventQueryOnShow.once(function () {
                            var e = wx.onShow;
                            e ? e(function (e) {
                                console.log("onShow", e), o.GlobalSignal.EventRespOnShow.emit(e)
                            }) : console.warn("tt.onShow is not exist")
                        }), o.GlobalSignal.EventQueryNavigate.on(function () {
                            console.log("will start navigate,,,");
                            var e = wx.navigateToScene;
                            e ? e({
                                scene: "sidebar", success: function (e) {
                                    console.log("navigateToScene success", e)
                                }, fail: function (e) {
                                    console.log("navigateToScene fail", e)
                                }
                            }) : console.warn("tt.navigateToScene is not exist")
                        })
                    }, t.prototype.createContactButton = function (e, t, n) {
                        var r = this._convertToPlatform(e), o = cc.sys.os === cc.sys.OS_IOS, i = n || {};
                        l.customer.createContactButton({
                            type: "text",
                            text: o ? "\u5ba2\u670d" : "",
                            style: {
                                left: r.x,
                                top: r.y,
                                width: r.width,
                                height: r.height,
                                backgroundColor: "#00000000",
                                borderColor: "#ffffff00",
                                borderWidth: 0,
                                borderRadius: 12,
                                textAlign: "center",
                                fontSize: 16,
                                lineHeight: 30,
                                textColor: "#ffffff00"
                            },
                            customerData: i
                        }).then(function (e) {
                            console.log("\u5ba2\u670d\u6309\u94ae\u5b9e\u4f8b:", e), t(e)
                        }).catch(function (e) {
                            console.log("\u5ba2\u670d\u5931\u8d25:", JSON.stringify(e)), t(null)
                        })
                    }, t.prototype.startRecord = function () {
                        return __awaiter(this, void 0, void 0, function () {
                            var e, t = this;
                            return __generator(this, function (n) {
                                switch (n.label) {
                                    case 0:
                                        return this._recordMgr ? [3, 2] : [4, l.tool.getGameRecorderManager()];
                                    case 1:
                                        e = n.sent(), this._recordMgr = e, e.onRecorderStart(function () {
                                            ++t._recordSec, t._recordBtn && t._recordBtn.logicComp && t._recordBtn.logicComp.addSec()
                                        }), e.onRecorderStop(function (e) {
                                            if (console.log("\u7ed3\u675f\u5f55\u5236", e), !t._discard) {
                                                var n = t._recordSec >= 3;
                                                t._recordSec = 0, t._recordBtn && t._recordBtn.logicComp && t._recordBtn.logicComp.reset(), n ? (o.GlobalSignal.EventDialogOpen.emit({
                                                    type: "dialog",
                                                    name: "NormalDialog",
                                                    content: "\u7cbe\u5f69\u65f6\u523b\u5df2\u7ecf\u751f\u6210, \u662f\u5426\u7acb\u5373\u5206\u4eab\u7ed9\u597d\u53cb?",
                                                    id: "tt_vedio_share"
                                                }), o.GlobalSignal.EventDialogClose.once(function (t) {
                                                    "tt_vedio_share" === t.id && "yes" === t.state && l.share.shareMsg({
                                                        title: "\u7cbe\u5f69\u96c6\u9526",
                                                        channel: "video",
                                                        extra: {videoPath: e.videoPath, withVideoId: !0}
                                                    }).then(function (e) {
                                                        console.log("\u5206\u4eab\u6210\u529f" + JSON.stringify(e))
                                                    }).catch(function (e) {
                                                        console.log("\u5206\u4eab\u5931\u8d25" + JSON.stringify(e))
                                                    })
                                                })) : o.GlobalSignal.EventDialogOpen.emit({
                                                    type: "tips",
                                                    content: "\u5f55\u5c4f\u5931\u8d25: \u5f55\u5236\u65f6\u957f\u5c11\u4e8e3\u79d2"
                                                })
                                            }
                                        }), n.label = 2;
                                    case 2:
                                        return this._recordSec = 0, this._recordMgr.start({duration: 300}), [2]
                                }
                            })
                        })
                    }, t.prototype.stopRecord = function (e) {
                        void 0 === e && (e = !1), this._recordMgr && (this._discard = e, this._recordMgr.stop())
                    }, t.prototype.setVedioBtnStatus = function (e, t) {
                        if (void 0 === t && (t = null), "create" === e) {
                            if (cc.sys.os === cc.sys.OS_IOS) return void (t && (t.visible = !1));
                            if (this._recordBtn) return;
                            this._recordBtn = t, t.node.ui_ins = t, t.logicComp = t.node.addComponent(u.default)
                        } else "destroy" === e ? this._recordBtn && (this._recordBtn.dispose && this._recordBtn.dispose(), this._recordBtn = null) : this._recordBtn && (this._recordBtn.visible = "show" === e)
                    }, t.prototype.restartGame = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        wx.restartMiniProgramSync ? (this.tagLog("restartGame"), wx.restartMiniProgramSync()) : this.exitGame.apply(this, e)
                    }, t.prototype.toPay = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e[0], r = a.CHECK_SWITCH(s.C_SwitchId.ByteDanceAuditPay);
                        return !r && i.GlobalVarManager.instance.isAudit && cc.sys.os === cc.sys.OS_IOS ? new Promise(function (e) {
                            o.GlobalSignal.EventDialogOpen.emit({
                                type: "tips",
                                content: "\u6682\u65f6\u4e0d\u652f\u6301\u8be5\u529f\u80fd"
                            }), e(!1)
                        }) : l.pay(n).then(function (e) {
                            return console.info(e), !0
                        }).catch(function (e) {
                            return o.GlobalSignal.EventDialogOpen.emit({
                                type: "tips",
                                content: "" + (e && e.errMsg || "")
                            }), !1
                        })
                    }, Object.defineProperty(t.prototype, "platformName", {
                        get: function () {
                            return "\u6296\u97f3"
                        }, enumerable: !1, configurable: !0
                    }), t.prototype.canUseDiamondPay = function () {
                        return l.canUseDiamondPay()
                    }, t.prototype.requestSubscribeMessage = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e[0];
                        return l.subscribe.requestMsg(n)
                    }, t.prototype.getSubscribeMessageCount = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return l.subscribe.getCount()
                    }, t.prototype.getHasSubscribedGameUpdate = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return l.subscribe.getHasSubscribedGameUpdate()
                    }, t.prototype.requestSubscribeGameUpdate = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return l.subscribe.requestSubscribeGameUpdate()
                    }, t
                }(c.PlatformWX));
            n.PlatformByteDance = f, cc._RF.pop()
        }, {
            "../../libs/platform/hortor/platform": "platform",
            "../GlobalSignal": "GlobalSignal",
            "../managers/GlobalVarManager": "GlobalVarManager",
            "../managers/PlatformManager": "PlatformManager",
            "../types-common": "types-common",
            "./platform-wx": "platform-wx",
            "./ui/vedioBtn": "vedioBtn"
        }],
        "platform-dev": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "59d42ksCsRL+qKsXAN+Da2g", "platform-dev"), Object.defineProperty(n, "__esModule", {value: !0}), n.PlatformDev = void 0;
            var r = e("../managers/PlatformManager"), o = e("../managers/GlobalVarManager"),
                i = e("../../../config/Configs"), a = e("./platform-browser"), s = e("../types-common"),
                c = (window.__HORTOR_SDK__, function (e) {
                    function t() {
                        var t = null !== e && e.apply(this, arguments) || this;
                        return t.DEBUG_UI = !1, t
                    }

                    return __extends(t, e), t.prototype.checkSwitches = function () {
                        for (var e, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                        var r = ((e = {})[i.SwitchId.CHECK_AUDIT] = 0, e[i.SwitchId.GUIDE_SWITCH] = 0, e[i.SwitchId.PAY_SWITCH] = 1, e[i.SwitchId.PLAY_VIDEO] = 0, e[i.SwitchId.UI_AUTO_DISPOSE] = 0, e[i.SwitchId.AUDIT_WHITE_LIST] = 1, e[i.SwitchId.AUDIT_SWITCH] = 0, e[i.SwitchId.FIRST_LOADING_SWITCH] = 0, e[i.SwitchId.SERVER_CONFIG] = 0, e);
                        return Promise.resolve(r)
                    }, t.prototype.checkSwitch = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        switch (e[0]) {
                            case i.SwitchId.SERVER_CONFIG:
                            case i.SwitchId.GUIDE_SWITCH:
                                return !!o.GlobalVarManager.instance.has("guide") && o.GlobalVarManager.instance.get("guide");
                            case i.SwitchId.PLAY_VIDEO:
                            case i.SwitchId.CHECK_AUDIT:
                            case i.SwitchId.ADD_DESKTOP:
                            case i.SwitchId.COLOR_SIGN:
                            case i.SwitchId.CLEARCACHE_SILENT:
                            case i.SwitchId.BATTLE_TIMER:
                            case i.SwitchId.LXG_TEST:
                            case s.C_SwitchId.BattleSkipTest2:
                            case i.SwitchId.ANIMATE_LIST:
                            case s.C_SwitchId.LegionWarTest:
                            case s.C_SwitchId.OpenWebMiniGame:
                            case s.C_SwitchId.PayCloseTip:
                            case s.C_SwitchId.DisabledSwitchRole:
                            case s.C_SwitchId.ForcePostBattleLog:
                            case i.SwitchId.BATTLE_LOG:
                            case s.C_SwitchId.LXG_TEST3:
                            case s.C_SwitchId.LWDayReconnectTask:
                            case s.C_SwitchId.LeagueWarReplay:
                            case s.C_SwitchId.BattleDetailLog:
                            case s.C_SwitchId.ObjectPoolOpen:
                            case s.C_SwitchId.LWNetTestTask:
                            case s.C_SwitchId.NotDelayStartPushLevel:
                            case s.C_SwitchId.BattleBug:
                            case s.C_SwitchId.PolishMemory:
                                return !1;
                            case s.C_SwitchId.ClientDVCDN:
                                return "web" === PLATFORM;
                            case s.C_SwitchId.AutoDisposeV2:
                            case i.SwitchId.SERVER_TRANSFER:
                            case i.SwitchId.LXG_TEST2:
                            case s.C_SwitchId.PartLoad:
                            case s.C_SwitchId.DisposeSeasonScene:
                                return !0;
                            case s.C_SwitchId.SpineEmptyContent:
                            case i.SwitchId.CONFIG_ENC_BIN:
                            case s.C_SwitchId.AllLoaderOpen:
                            case s.C_SwitchId.ConfigEncBinAudit7:
                                return !1;
                            case s.C_SwitchId.AFKWorld:
                            case s.C_SwitchId.MergeBinOpen:
                            case s.C_SwitchId.MergeBundleOpen:
                            case i.SwitchId.LIST_BATCH:
                            case s.C_SwitchId.PKRoomRobot:
                                return !1;
                            case s.C_SwitchId.StillUseAllCfg:
                            case s.C_SwitchId.StillUseCdnV2:
                            case s.C_SwitchId.CloseGListItemFix:
                            case s.C_SwitchId.SkipRemoveFace:
                                return !1;
                            case s.C_SwitchId.CloseGameCircle:
                            case s.C_SwitchId.BattleLevelTest:
                                return !1;
                            case s.C_SwitchId.DebugGame:
                                return this.DEBUG_UI;
                            case s.C_SwitchId.LegionWarReplay:
                                return !1;
                            case s.C_SwitchId.BattleSpineAllRealTime:
                            case s.C_SwitchId.BattleSpineRealTime:
                                return !1;
                            case s.C_SwitchId.RealDeleteAccount:
                            default:
                                return !0
                        }
                    }, t.prototype.restartGame = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        this.tagLog("restartGame"), r.PlatformManager.instance.checkSwitch(s.C_SwitchId.RestartGame) ? cc.game.restart() : this.exitGame.apply(this, e)
                    }, t.prototype.setVibrate = function () {
                        return Promise.resolve(null)
                    }, t
                }(a.PlatformBrowser));
            n.PlatformDev = c, cc._RF.pop()
        }, {
            "../../../config/Configs": "Configs",
            "../managers/GlobalVarManager": "GlobalVarManager",
            "../managers/PlatformManager": "PlatformManager",
            "../types-common": "types-common",
            "./platform-browser": "platform-browser"
        }],
        "platform-h5": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "ae5b4Z2IrVHi74L15EOf1gZ", "platform-h5"), Object.defineProperty(n, "__esModule", {value: !0}), n.PlatformH5 = void 0;
            var r = e("./platform-web"), o = window.__HORTOR_SDK__, i = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t._maskId = 16, t
                }

                return __extends(t, e), Object.defineProperty(t.prototype, "maskId", {
                    get: function () {
                        return this._maskId
                    }, enumerable: !1, configurable: !0
                }), t.prototype.login = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    var n = {};
                    return new URLSearchParams(window.location.search).forEach(function (e, t) {
                        return n[t] = e
                    }), n.userId && (o.tga.login(n.userId), o.tga.track("sdk_login", __assign({}, n))), Promise.resolve(n)
                }, t.prototype.tagLog = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    var n = e[0], r = e[1], i = void 0 === r ? {} : r, a = e[2], s = void 0 === a ? "" : a;
                    return e[3], e[4], i.version = GAME_VERSION, i.codeVersion = CODE_VERSION, i.configVersion = CONFIG_COMMIT_ID, i.resourceVersion = RESOURCES_COMMIT_ID, i.clientTime = Date.now(), i.roleId = this.roleId, console.info("TGA log", n, i, null != s ? s : ""), o.tga.track(n, __assign({}, i))
                }, t.prototype.toPay = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return o.pay.apply(o, e)
                }, t.prototype.saveImage = function (e) {
                    var t = this, n = e.imagePath.replace("data:image/png;base64,", "");
                    return n = n.replace("data:image/jpeg;base64,", ""), new Promise(function (e, r) {
                        o.saveImage(function (n) {
                            0 === n.errCode ? (console.log("\u4fdd\u5b58\u56fe\u7247\u5230\u76f8\u518c\u6210\u529f"), t.tagLog("saveImage", {isSuccess: !0}), e()) : (console.error("\u4fdd\u5b58\u56fe\u7247\u5230\u76f8\u518c\u5931\u8d25"), t.tagLog("saveImage", {isSuccess: !1}), r(n))
                        }, {base64: n})
                    })
                }, t.prototype.setBrightness = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    if (!o || !o.setBrightness) return Promise.resolve();
                    var n = e[0];
                    return n.brightness + 1e-4 >= 1 ? n.brightness -= 1e-4 : n.brightness += 1e-4, o.setBrightness(n), Promise.resolve()
                }, t.prototype.getBrightness = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return o && o.getBrightness ? new Promise(function (e) {
                        o.getBrightness(function (t) {
                            console.log("\u83b7\u53d6\u5c4f\u5e55\u4eae\u5ea6", t), e(t)
                        })
                    }) : Promise.resolve(null)
                }, t.prototype.getNetworkType = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return o && o.getNetworkType ? new Promise(function (e) {
                        o.getNetworkType(function (t) {
                            console.log("\u83b7\u53d6\u7f51\u7edc\u7c7b\u578b", t), e(t)
                        })
                    }) : Promise.resolve(null)
                }, t.prototype.getBattery = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return o && o.getBattery ? new Promise(function (e) {
                        o.getBattery(function (t) {
                            console.log("\u83b7\u53d6\u7535\u91cf\u4fe1\u606f", t), e(t)
                        })
                    }) : Promise.resolve(null)
                }, t.prototype.logout = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return Promise.resolve()
                }, t.prototype.exitGame = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    this.tagLog("exitGame");
                    var n = e && e[0];
                    "switchAccount" !== n ? o.exitGame() : setTimeout(function () {
                        o.exitGame()
                    }, 1200)
                }, t.prototype.restartGame = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    this.tagLog("restartGame"), window && window.location && window.location.reload && window.location.reload()
                }, Object.defineProperty(t.prototype, "platformType", {
                    get: function () {
                        return "hortor"
                    }, enumerable: !1, configurable: !0
                }), t.prototype.setVibrate = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    if (!o || !o.setVibrate) return Promise.resolve(null);
                    var n = e[0];
                    return o.setVibrate(n)
                }, t.prototype.vibrateShort = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    o && o.setVibrate && this.setVibrate({type: HSDK.VibrateType.Short})
                }, t.prototype.vibrateLong = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    o && o.setVibrate && this.setVibrate({type: HSDK.VibrateType.Long})
                }, t.prototype.chooseImage = function (e) {
                    return console.warn("\u5f00\u59cb\u9009\u62e9\u56fe\u7247\u3002\u3002\u3002\u3002\u3002"), new Promise(function (t) {
                        o.chooseImage(function (e) {
                            console.log("\u9009\u62e9\u56fe\u7247\u6210\u529f", e), t(e)
                        }, {imageSize: e})
                    })
                }, t.prototype.getClientVersion = function () {
                    return new Promise(function (e) {
                        o.getClientVersion(function (t) {
                            console.log("client version", t), e(t)
                        })
                    })
                }, t.prototype.setClipboardData = function (e) {
                    o.setClipboard({text: e.data}), e.success && e.success()
                }, t
            }(r.PlatformWeb);
            n.PlatformH5 = i, cc._RF.pop()
        }, {"./platform-web": "platform-web"}],
        "platform-login": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "29d88O4tf5N8rle/iewkd/U", "platform-login"), Object.defineProperty(n, "__esModule", {value: !0}), n.PlatformLoginState = void 0;
            var r = e("../../common/scripts/Log"), o = e("../../common/scripts/managers/PlatformManager"),
                i = e("../../common/scripts/types-common"), a = e("../Launcher"), s = function (e) {
                    function t() {
                        return null !== e && e.apply(this, arguments) || this
                    }

                    return __extends(t, e), t.prototype._setButtonsVisible = function (e) {
                        var t = a.Launcher.instance;
                        t.progressBar && (t.progressBar.node.active = !e);
                        var n = null;
                        !e && n && (n.hide(), n.destroy(), n = null)
                    }, t.prototype.begin = function () {
                        return __awaiter(this, void 0, void 0, function () {
                            var e, t;
                            return __generator(this, function (n) {
                                switch (n.label) {
                                    case 0:
                                        return e = o.PlatformManager.instance, this.updateProgress(i.LoadingStepKey.PlatformLogin, !0), this._setButtonsVisible(!1), r.Log.time("platformLaunch"), t = "true" === localStorage.getItem("FORCE_LOGIN"), localStorage.removeItem("FORCE_LOGIN"), t && e.log(i.TGAEvent.ForceLogin), [4, e.login(t)];
                                    case 1:
                                        return n.sent(), r.Log.timeEnd("platformLaunch"), this.stateMachine.transition(i.GameState.Manifest), [2]
                                }
                            })
                        })
                    }, t
                }(e("./base-loading").BaseLoadingState);
            n.PlatformLoginState = s, cc._RF.pop()
        }, {
            "../../common/scripts/Log": "Log",
            "../../common/scripts/managers/PlatformManager": "PlatformManager",
            "../../common/scripts/types-common": "types-common",
            "../Launcher": "Launcher",
            "./base-loading": "base-loading"
        }],
        "platform-mix": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "3c5b3lgQRRFA6xHzzpOt+hG", "platform-mix"), Object.defineProperty(n, "__esModule", {value: !0}), n.PlatformMix = void 0;
            var r = e("./platform-base"), o = __importDefault(e("../../libs/platform/hortor/platform")),
                i = e("../GlobalSignal"), a = o.default, s = function (e) {
                    function t() {
                        return null !== e && e.apply(this, arguments) || this
                    }

                    return __extends(t, e), t.prototype._createShareOptions = function (e, t, n, r) {
                        void 0 === t && (t = null), void 0 === n && (n = ""), void 0 === r && (r = "");
                        var o = [];
                        if (t) for (var i = 0, a = Object.keys(t); i < a.length; i++) {
                            var s = a[i];
                            o.push(s + "=" + t[s])
                        }
                        o.push("inviter=" + this.userInfo.roleId), o.push("shareType=" + e);
                        var c = {id: e, query: o.join("&")};
                        return n && (c.imageUrl = n), r && (c.title = r), c
                    }, t.prototype.shareMessage = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = this._createShareOptions(e[0], e[1], e[2], e[3]);
                        return a.share.shareMsg(n).then(function () {
                            return console.info("\u5206\u4eab\u6210\u529f:", n), !0
                        }).catch(function () {
                            return console.error("\u5206\u4eab\u5931\u8d25"), !1
                        })
                    }, t.prototype.toPay = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e[0];
                        return a.pay(n).then(function (e) {
                            return console.info(e), !0
                        }).catch(function (e) {
                            return console.error(e), !1
                        })
                    }, t.prototype.checkVideoAd = function (e) {
                        return __awaiter(this, void 0, Promise, function () {
                            var t, n, r;
                            return __generator(this, function (o) {
                                switch (o.label) {
                                    case 0:
                                        t = this.videoAds, n = t.get(e), o.label = 1;
                                    case 1:
                                        return o.trys.push([1, 3, , 4]), [4, HSDK.checkMixVideoAd({adUnitId: n})];
                                    case 2:
                                        return o.sent().isHaveAd ? (console.log("[AD] video onload: ", n), [2, !0]) : (console.log("[AD] load video error", n), [2, !1]);
                                    case 3:
                                        return (r = o.sent()) && "-12001" === r.err_code ? [2, !0] : (console.log("[AD] load video error", r), [2, !1]);
                                    case 4:
                                        return [2]
                                }
                            })
                        })
                    }, t.prototype.playVideoAd = function (e) {
                        return __awaiter(this, void 0, Promise, function () {
                            var t, n, r = this;
                            return __generator(this, function (o) {
                                switch (o.label) {
                                    case 0:
                                        return (t = this.videoAds).has(e) ? (n = t.get(e), i.GlobalSignal.EventShowWaiting.emit(), [4, this.checkVideoAd(e)]) : (console.warn("\u672a\u77e5\u7684\u5e7f\u544a\u7c7b\u578b:" + e), [2, !1]);
                                    case 1:
                                        return o.sent() ? [2, new Promise(function (t) {
                                            a.ad.video.show({
                                                id: n, onFinishClose: function () {
                                                    i.GlobalSignal.EventHideWaiting.emit(), r.adPointShow(e), t(!0)
                                                }, onQuitClose: function () {
                                                    i.GlobalSignal.EventHideWaiting.emit(), console.error("play ad error, adId: " + n), t(!1)
                                                }, onShowFail: function () {
                                                    i.GlobalSignal.EventHideWaiting.emit(), console.error("play ad error, adId: " + n), t(!1)
                                                }, onPlayFail: function () {
                                                    i.GlobalSignal.EventHideWaiting.emit(), console.error("play ad error, adId: " + n), t(!1)
                                                }
                                            })
                                        })] : (i.GlobalSignal.EventHideWaiting.emit(), [2, !1])
                                }
                            })
                        })
                    }, t.prototype.adPointShow = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        console.error("\u6682\u65f6\u6ca1\u8fd9\u4e2a\u529f\u80fd")
                    }, t.prototype.tagLog = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e[0], r = e[1], o = void 0 === r ? {} : r, i = e[2], s = void 0 === i ? "" : i, c = e[3],
                            u = void 0 === c ? HSDK.EventType.Track : c, l = e[4], f = void 0 === l ? HSDK.LogType.TGA : l;
                        return o.version = GAME_VERSION, o.codeVersion = CODE_VERSION, o.configVersion = CONFIG_COMMIT_ID, o.resourceVersion = RESOURCES_COMMIT_ID, o.clientTime = Date.now(), o.roleId = this.roleId, console.info("TGA log", n, o, null != s ? s : ""), a.track.gameLog({
                            eventName: n,
                            eventType: u,
                            logType: f,
                            customData: o
                        })
                    }, t.prototype.getNotice = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return a.gm.getNotice.apply(HSDK, e).then(function (e) {
                            return console.log("\u83b7\u53d6\u6210\u529f", e), e
                        }).catch(function (e) {
                            return console.log("\u83b7\u53d6\u5931\u8d25", e), []
                        })
                    }, t.prototype.getNoticeByType = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return this.getNotice({p1: e[0].toString()})
                    }, t.prototype.checkSwitches = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return HSDK.checkSwitches(e[0])
                    }, t.prototype.setGameUserInfo = function () {
                        for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                        return e.prototype.setGameUserInfo.apply(this, t), a.user.setPlayerInfo.apply(a, t)
                    }, t.prototype.getBattery = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return a.device.getBattery().then(function (e) {
                            return console.log("\u83b7\u53d6\u6210\u529f", e), e
                        }).catch(function (e) {
                            return console.log("\u83b7\u53d6\u5931\u8d25", e), null
                        })
                    }, t.prototype.getBrightness = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return a.device.getBrightness().then(function (e) {
                            return console.log("\u83b7\u53d6\u6210\u529f", e), e
                        }).catch(function (e) {
                            return console.log("\u83b7\u53d6\u5931\u8d25", e), null
                        })
                    }, t.prototype.getNetworkType = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return a.device.getNetworkType().then(function (e) {
                            return console.log("\u83b7\u53d6\u6210\u529f", e), e
                        }).catch(function (e) {
                            return console.log("\u83b7\u53d6\u5931\u8d25", e), null
                        })
                    }, t.prototype.saveImage = function (e) {
                        var t = this;
                        return new Promise(function (n, r) {
                            a.file.saveImage(e).then(function () {
                                console.log("\u4fdd\u5b58\u56fe\u7247\u5230\u76f8\u518c\u6210\u529f"), t.tagLog("saveImage", {isSuccess: !0}), n()
                            }).catch(function (e) {
                                console.error("\u4fdd\u5b58\u56fe\u7247\u5230\u76f8\u518c\u5931\u8d25: " + JSON.stringify(e)), t.tagLog("saveImage", {isSuccess: !1}), r(e)
                            })
                        })
                    }, t.prototype.chooseImage = function (e) {
                        var t = this;
                        return new Promise(function (n) {
                            a.file.chooseImage({imageSize: e}).then(function (e) {
                                console.log("\u9009\u62e9\u56fe\u7247\u6210\u529f", e), n(e)
                            }).catch(function () {
                                t.tagLog("chooseImage", {isSuccess: !1}), n(null)
                            })
                        })
                    }, t.prototype.getDeviceInfo = function () {
                        return new Promise(function (e) {
                            a.getDeviceInfo().then(function (t) {
                                e(t)
                            }).catch(function () {
                                e(null)
                            })
                        })
                    }, t
                }(r.PlatformBase);
            n.PlatformMix = s, cc._RF.pop()
        }, {
            "../../libs/platform/hortor/platform": "platform",
            "../GlobalSignal": "GlobalSignal",
            "./platform-base": "platform-base"
        }],
        "platform-native": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "a5958qCnRdI6JBGe+581SPw", "platform-native"), Object.defineProperty(n, "__esModule", {value: !0}), n.PlatformNative = void 0;
            var r = __importDefault(e("../../libs/platform/hortor/platform")), o = e("../managers/PlatformManager"),
                i = e("./platform-mix"), a = e("../GlobalSignal"), s = r.default, c = function (e) {
                    function t() {
                        var t = null !== e && e.apply(this, arguments) || this;
                        return t._maskId = 3, t._iosMaskId = 2, t._androidMaskId = 1, t
                    }

                    return __extends(t, e), Object.defineProperty(t.prototype, "maskId", {
                        get: function () {
                            return o.PlatformManager.instance.isIosAndNative ? this._iosMaskId : o.PlatformManager.instance.isAndroidAndNative ? this._androidMaskId : this._maskId
                        }, enumerable: !1, configurable: !0
                    }), t.prototype.init = function () {
                        e.prototype.init.call(this)
                    }, t.prototype.showLoading = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e[0], r = e[1];
                        HSDK.showLoading({title: r, isShowMask: n})
                    }, t.prototype.hideLoading = function () {
                        HSDK.hideLoading()
                    }, t.prototype.login = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        e[0];
                        var n = e[1], r = void 0 === n ? {} : n;
                        return s.user.multiPlatformLogin(Object.assign(r, {isHiddenClose: !0}))
                    }, t.prototype.exitGame = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        this.tagLog("exitGame"), console.log("Test native exitGame 0"), s.ui.exitApp(), console.log("Test native exitGame 1")
                    }, t.prototype.restartGame = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        this.tagLog("restartGame"), o.PlatformManager.instance.checkSwitch("RestartGame") ? cc.game.restart() : this.exitGame.apply(this, e)
                    }, t.prototype.onPaySupplement = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        o.PlatformManager.instance.isIosAndNative && s.apple.onPaySupplement({
                            listener: function () {
                                console.log("\u82f9\u679c\u652f\u4ed8\u8865\u5355\u6210\u529f")
                            }
                        })
                    }, t.prototype.getNotchInfo = function () {
                        return {result: !0}
                    }, t.prototype.logout = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return s.user.logout()
                    }, t.prototype.showModal = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e[0], r = e[1], o = e[2];
                        e[3], e[4], s.ui.showAlert({
                            message: r, title: n, onClick: function () {
                                console.log("Test native alert click!!!!!!!!!!!! 0"), o && o(), console.log("Test native alert click!!!!!!!!!!!! 1")
                            }
                        })
                    }, t.prototype.showAppComment = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e[0];
                        o.PlatformManager.instance.isIos && s.apple.showComment({appleId: n})
                    }, Object.defineProperty(t.prototype, "platformName", {
                        get: function () {
                            return "native"
                        }, enumerable: !1, configurable: !0
                    }), t.prototype.delAccount = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return o.PlatformManager.instance.isIos && s.apple.deleteAccount ? s.apple.deleteAccount() : Promise.resolve()
                    }, t.prototype.setBrightness = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e[0];
                        return n.brightness + 1e-4 >= 1 ? n.brightness -= 1e-4 : n.brightness += 1e-4, s.device.setBrightness(n), Promise.resolve()
                    }, t.prototype.setClipboardData = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e && e[0] && e[0].data;
                        n && s.device.setClipboard && (s.device.setClipboard({text: n}), e[0].success && e[0].success(), a.GlobalSignal.EventPopTips.emit({content: "\u590d\u5236\u6210\u529f"}))
                    }, t.prototype.checkRunningProcess = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e && e[0] && e[0];
                        return s.app.checkRunningProcess(n)
                    }, t.prototype.setVibrate = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e && e[0] && e[0];
                        return s.device.setVibrate(n)
                    }, t.prototype.vibrateShort = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        this.setVibrate({type: HSDK.VibrateType.Short})
                    }, t.prototype.vibrateLong = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        this.setVibrate({type: HSDK.VibrateType.Long})
                    }, t.prototype.jumpGsMiniProgram = function (e) {
                        return s.customer.jumpGsMiniProgram(e)
                    }, t
                }(i.PlatformMix);
            n.PlatformNative = c, cc._RF.pop()
        }, {
            "../../libs/platform/hortor/platform": "platform",
            "../GlobalSignal": "GlobalSignal",
            "../managers/PlatformManager": "PlatformManager",
            "./platform-mix": "platform-mix"
        }],
        "platform-qq": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "5c910GDw8FCNZP6E9Lrd1vR", "platform-qq"), Object.defineProperty(n, "__esModule", {value: !0}), n.PlatformQQ = void 0;
            var r = e("./platform-wx"), o = e("../managers/GlobalVarManager"), i = e("../../../config/Configs"),
                a = e("../types-common"), s = e("../GlobalSignal"), c = window.__HORTOR_SDK__, u = function (e) {
                    function t() {
                        var t = null !== e && e.apply(this, arguments) || this;
                        return t._maskId = 8, t
                    }

                    return __extends(t, e), Object.defineProperty(t.prototype, "maskId", {
                        get: function () {
                            return this._maskId
                        }, enumerable: !1, configurable: !0
                    }), t.prototype.init = function () {
                        var n = this;
                        e.prototype.init.call(this), s.GlobalSignal.EventSwitchInited.on(function () {
                            if (cc.sys.os === cc.sys.OS_IOS && n.checkSwitch(a.C_SwitchId.UnifyPayLock)) {
                                t.prototype.checkSwitch = e.prototype.checkSwitch;
                                var r = n.switch._switchResult;
                                r && (r.set(a.C_SwitchId.PayCloseTip, o.GlobalVarManager.instance.isAudit), console.warn("\u5ba1\u6838\u72b6\u6001:" + o.GlobalVarManager.instance.isAudit), console.warn("IOS\u5e73\u53f0\u5f3a\u5236\u5f00\u5173" + a.C_SwitchId.PayCloseTip, n.checkSwitch(a.C_SwitchId.PayCloseTip)))
                            }
                        })
                    }, t.prototype._createShareOptions = function (e, t, n, r) {
                        void 0 === t && (t = null), void 0 === n && (n = ""), void 0 === r && (r = "");
                        var o = [];
                        if (t) for (var i = 0, a = Object.keys(t); i < a.length; i++) {
                            var s = a[i];
                            o.push(s + "=" + t[s])
                        }
                        o.push("inviter=" + this.userInfo.roleId), o.push("shareType=" + e);
                        var c = {id: e, query: o.join("&")};
                        return n && (c.imageUrl = n), r && (c.title = r), c
                    }, t.prototype.showLoading = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        e[0], e[1]
                    }, t.prototype.hideLoading = function () {
                    }, t.prototype.launchOptions = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return c.launchOptions()
                    }, t.prototype.login = function (e, t) {
                        return e ? c.login(t) : c.weakLogin(t)
                    }, t.prototype.checkVideoAd = function (e) {
                        return __awaiter(this, void 0, Promise, function () {
                            var t, n, r;
                            return __generator(this, function (o) {
                                switch (o.label) {
                                    case 0:
                                        if (!wx.createRewardedVideoAd) return console.warn("\u4e0d\u652f\u6301\u89c6\u9891\u5e7f\u544a"), [2, !1];
                                        t = this.videoAds, n = t.get(e), o.label = 1;
                                    case 1:
                                        return o.trys.push([1, 3, , 4]), [4, c.checkVideoAd({adUnitId: n})];
                                    case 2:
                                        return o.sent(), console.log("[AD] video onload: ", n), [2, !0];
                                    case 3:
                                        return "-12001" === (r = o.sent()).err_code ? [2, !0] : (console.log("[AD] load video error", r.errMsg), [2, !1]);
                                    case 4:
                                        return [2]
                                }
                            })
                        })
                    }, t.prototype.tagLog = function () {
                        for (var e, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                        var r = t[0], o = t[1], i = void 0 === o ? {} : o, a = t[2], s = void 0 === a ? "" : a,
                            u = null === (e = c.getGameLogTypes) || void 0 === e ? void 0 : e.call(c);
                        return i.version = GAME_VERSION, i.codeVersion = CODE_VERSION, i.configVersion = CONFIG_COMMIT_ID, i.resourceVersion = RESOURCES_COMMIT_ID, i.clientTime = Date.now(), i.roleId = this.roleId, console.info(c), console.info("TGA log", r, i, null != s ? s : ""), c.postGameLog({
                            eventName: r,
                            eventType: "track",
                            logType: u,
                            extend: i,
                            customData: i
                        })
                    }, t.prototype.getNotice = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return new Promise(function (t) {
                            var n = e[0];
                            c.getNotice({p1: n.toString()}).then(function (e) {
                                console.log("\u83b7\u53d6\u6210\u529f", e), t(e)
                            }).catch(function (e) {
                                console.log("\u83b7\u53d6\u5931\u8d25", e), t([])
                            })
                        })
                    }, t.prototype.checkSwitches = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return console.info(e[0]), c.checkSwitches(e[0])
                    }, t.prototype.checkSwitch = function (t) {
                        return cc.sys.os === cc.sys.OS_IOS && t === i.SwitchId.PAY_SWITCH ? !o.GlobalVarManager.instance.isAudit : e.prototype.checkSwitch.call(this, t)
                    }, t.prototype.setGameUserInfo = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return this.userInfo = e[0], c.setGameUserInfo(e[0])
                    }, t.prototype.createGetUserInfoBtn = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = this._convertToPlatform(e[0]), r = e[1].style;
                        return r.left = n.x, r.top = n.y, r.width = n.width, r.height = n.height, r.lineHeight = n.height, c.createGetUserInfoBtn(e[1])
                    }, t.prototype.shareMessage = function (e, t, n, r) {
                        return __awaiter(this, void 0, Promise, function () {
                            var o;
                            return __generator(this, function (i) {
                                switch (i.label) {
                                    case 0:
                                        o = this._createShareOptions(e, t, n, r), i.label = 1;
                                    case 1:
                                        return i.trys.push([1, 3, , 4]), [4, c.shareMessage(o)];
                                    case 2:
                                        return i.sent(), console.info("\u5206\u4eab\u6210\u529f:", o), [2, !0];
                                    case 3:
                                        return i.sent(), console.log("\u5206\u4eab\u5931\u8d25"), [2, !1];
                                    case 4:
                                        return [2]
                                }
                            })
                        })
                    }, t.prototype.subscribeAppMsg = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return new Promise(function () {
                            wx.subscribeAppMsg({
                                tmplIds: e[0].tmplIds, subscribe: e[0].subscribe, success: function (e) {
                                    console.log("----subscribeAppMsg----success", e)
                                }, fail: function (e) {
                                    console.log("----subscribeAppMsg----fail", e)
                                }
                            })
                        })
                    }, t.prototype.checkUpdate = function () {
                        for (var e, t, n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
                        var o = wx.getUpdateManager();
                        if (!o) return Promise.resolve(!1);
                        var i = null !== (e = n[0]) && void 0 !== e ? e : 5e3, a = null !== (t = n[1]) && void 0 !== t && t;
                        return new Promise(function (e) {
                            var t = setTimeout(function () {
                                console.log("QQ\u70ed\u542f\u52a8Bug\uff0c5\u79d2\u540e\u7ee7\u7eed\u8d70\u52a0\u8f7d"), e(!1)
                            }, i);
                            o.onCheckForUpdate(function (n) {
                                clearTimeout(t), console.log("\u65b0\u7248\u672c\u8bf7\u6c42:" + n.hasUpdate), e(n.hasUpdate), a || (n.hasUpdate ? (console.log("\u6709\u65b0\u7248\u672c"), wx.showLoading({title: "\u6b63\u5728\u4e0b\u8f7d\u65b0\u7248\u672c"})) : (console.log("\u5df2\u7ecf\u662f\u6700\u65b0\u7248\u672c"), wx.hideLoading()))
                            }), o.onUpdateReady(function () {
                                wx.hideLoading(), wx.showModal({
                                    title: "\u66f4\u65b0\u63d0\u793a",
                                    content: "\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u8bf7\u91cd\u542f\u5e94\u7528",
                                    showCancel: !!a,
                                    success: function (e) {
                                        e.confirm && o.applyUpdate()
                                    }
                                })
                            }), o.onUpdateFailed(function () {
                                console.log("\u65b0\u7248\u672c\u4e0b\u8f7d\u5931\u8d25"), a || (wx.hideLoading(), wx.showModal({
                                    title: "\u5df2\u7ecf\u6709\u65b0\u7248\u672c\u4e86\u54df~",
                                    content: "\u65b0\u7248\u672c\u5df2\u7ecf\u4e0a\u7ebf\u5566~\uff0c\u8bf7\u60a8\u5220\u9664\u5f53\u524d\u5c0f\u7a0b\u5e8f\uff0c\u91cd\u65b0\u641c\u7d22\u6253\u5f00\u54df~"
                                }))
                            })
                        })
                    }, t.prototype.saveAppToDesktop = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return new Promise(function (e) {
                            wx.saveAppToDesktop({
                                success: function () {
                                    e(!0)
                                }, fail: function () {
                                    e(!1)
                                }
                            })
                        })
                    }, t.prototype.isColorSignExistSync = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return wx.isColorSignExistSync()
                    }, t.prototype.addColorSign = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        wx.addColorSign && wx.addColorSign({
                            success: function (e) {
                                console.log("addColorSign success: ", e)
                            }, fail: function (e) {
                                console.log("addColorSign fail: ", e)
                            }
                        })
                    }, t.prototype.addRecentColorSign = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        wx.addRecentColorSign && wx.addRecentColorSign({
                            query: e[0], success: function (e) {
                                console.log("addRecentColorSign success: ", e)
                            }, fail: function (e) {
                                console.log("addRecentColorSign fail: ", e)
                            }, complete: function (e) {
                                console.log("addRecentColorSign complete: ", e)
                            }
                        })
                    }, t.prototype.createGameClubButton = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return null
                    }, t.prototype.toPay = function (e) {
                        return __awaiter(this, void 0, void 0, function () {
                            var t, n;
                            return __generator(this, function (r) {
                                switch (r.label) {
                                    case 0:
                                        return r.trys.push([0, 2, , 3]), [4, c.midasPay(e)];
                                    case 1:
                                        return t = r.sent(), console.log("public async toPay(opt: PayData): Promise<boolean> {"), console.info(t), [2, !0];
                                    case 2:
                                        return n = r.sent(), console.info(n), [2, !1];
                                    case 3:
                                        return [2]
                                }
                            })
                        })
                    }, t.prototype.setBrightness = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        if (!c || !c.setBrightness) return Promise.resolve();
                        var n = e[0];
                        return c.setBrightness(n), Promise.resolve()
                    }, t.prototype.setVibrate = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        if (!c || !c.setVibrate) return Promise.resolve();
                        var n = e[0];
                        return c.setVibrate(n)
                    }, t.prototype.vibrateShort = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        c && c.setVibrate && wx.vibrateShort({})
                    }, t.prototype.vibrateLong = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        c && c.setVibrate && wx.vibrateLong({})
                    }, t.prototype.getBrightness = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return c && c.getBrightness ? c.getBrightness().then(function (e) {
                            return console.log("\u83b7\u53d6\u6210\u529f", e), e
                        }).catch(function (e) {
                            return console.log("\u83b7\u53d6\u5931\u8d25", e), null
                        }) : Promise.resolve(null)
                    }, t.prototype.getNetworkType = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return c && c.getNetworkType ? c.getNetworkType().then(function (e) {
                            return console.log("\u83b7\u53d6\u6210\u529f", e), e
                        }).catch(function (e) {
                            return console.log("\u83b7\u53d6\u5931\u8d25", e), null
                        }) : Promise.resolve(null)
                    }, t.prototype.getBattery = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return c && c.getBattery ? c.getBattery().then(function (e) {
                            return console.log("\u83b7\u53d6\u6210\u529f", e), e
                        }).catch(function (e) {
                            return console.log("\u83b7\u53d6\u5931\u8d25", e), null
                        }) : Promise.resolve(null)
                    }, t.prototype.saveImage = function (e) {
                        var t = this;
                        return new Promise(function (n, r) {
                            c.saveImage(e).then(function () {
                                console.log("\u4fdd\u5b58\u56fe\u7247\u5230\u76f8\u518c\u6210\u529f"), t.tagLog("saveImage", {isSuccess: !0}), n()
                            }).catch(function (e) {
                                console.error("\u4fdd\u5b58\u56fe\u7247\u5230\u76f8\u518c\u5931\u8d25: " + JSON.stringify(e)), t.tagLog("saveImage", {isSuccess: !1}), r(e)
                            })
                        })
                    }, Object.defineProperty(t.prototype, "platformName", {
                        get: function () {
                            return "QQ"
                        }, enumerable: !1, configurable: !0
                    }), t.prototype.listenOnLogin = function () {
                    }, t.prototype.chooseImage = function () {
                        return c.chooseImage()
                    }, t
                }(r.PlatformWX);
            n.PlatformQQ = u, cc._RF.pop()
        }, {
            "../../../config/Configs": "Configs",
            "../GlobalSignal": "GlobalSignal",
            "../managers/GlobalVarManager": "GlobalVarManager",
            "../types-common": "types-common",
            "./platform-wx": "platform-wx"
        }],
        "platform-web": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "e9c5ekPCTRCxoAHqawV3A+G", "platform-web"), Object.defineProperty(n, "__esModule", {value: !0}), n.PlatformWeb = void 0;
            var r = e("./platform-base"), o = e("../managers/GlobalVarManager"), i = e("../../../config/Configs"),
                a = function (e) {
                    function t() {
                        return null !== e && e.apply(this, arguments) || this
                    }

                    return __extends(t, e), t.prototype.init = function () {
                        e.prototype.init.call(this), new URLSearchParams(window.location.search).forEach(function (e, t) {
                            return o.GlobalVarManager.instance.set(t, e)
                        })
                    }, t.prototype.login = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = o.GlobalVarManager.instance.get("uid") || localStorage.getItem("userId");
                        n || (n = (new Date).getTime() + "", localStorage.setItem("userId", n));
                        var r = {sign: "", timestamp: Date.now().toString(), encryptCombUser: ""};
                        return Promise.resolve(Object.assign(r, {
                            id: n,
                            name: n,
                            authed: !!localStorage.getItem("_fakeAuthed")
                        }))
                    }, t.prototype.showModal = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        e[0];
                        var n = e[1], r = e[2], o = e[3], i = e[4];
                        i ? confirm(n) ? r() : o() : (alert(n), r())
                    }, t.prototype.checkSwitches = function () {
                        for (var e, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                        var r = ((e = {})[i.SwitchId.CHECK_AUDIT] = 0, e[i.SwitchId.GUIDE_SWITCH] = 0, e[i.SwitchId.PAY_SWITCH] = 1, e[i.SwitchId.PLAY_VIDEO] = 0, e[i.SwitchId.UI_AUTO_DISPOSE] = 0, e[i.SwitchId.AUDIT_WHITE_LIST] = 1, e[i.SwitchId.AUDIT_SWITCH] = 0, e[i.SwitchId.FIRST_LOADING_SWITCH] = 0, e[i.SwitchId.ADD_DESKTOP] = 0, e[i.SwitchId.COLOR_SIGN] = 0, e[i.SwitchId.USER_AGREEMENT] = 1, e[i.SwitchId.PRIVACY_POLICY] = 1, e[i.SwitchId.CDN_SWITCH] = 1, e[i.SwitchId.SERVER_CONFIG] = 1, e),
                            o = "Test" === ENV,
                            a = o ? "https://comb-platform-test.hortorgames.com/comb-custom-switch-server/api/v1/switch/multi/status" : "https://comb-platform.hortorgames.com/comb-custom-switch-server/api/v1/switch/multi/status",
                            s = o ? "ddsgtest" : "xyzwprod";
                        return new Promise(function (e) {
                            var n = {
                                gameId: s,
                                nickName: "",
                                gameTp: "minigame",
                                platform: "minigame",
                                gameVersion: GAME_VERSION,
                                uniqueId: "",
                                channel: "hortor",
                                openId: "",
                                scene: 1001,
                                defCustomParams: t[0].params,
                                switchIdList: t[0].switchIdList
                            };
                            fetch(a, {
                                headers: {
                                    accept: "*/*",
                                    "content-type": "application/json",
                                    "sec-fetch-dest": "empty",
                                    "sec-fetch-mode": "cors",
                                    "sec-fetch-site": "cross-site"
                                },
                                referrerPolicy: "strict-origin-when-cross-origin",
                                body: JSON.stringify(n),
                                method: "POST",
                                mode: "cors",
                                credentials: "omit"
                            }).then(function (e) {
                                return e.json()
                            }).then(function (n) {
                                var o;
                                if (0 === (null === (o = null == n ? void 0 : n.meta) || void 0 === o ? void 0 : o.errCode) && (null == n ? void 0 : n.data.length) === t[0].switchIdList.length) {
                                    for (var i = {}, a = 0; a < n.data.length; a++) i[t[0].switchIdList[a]] = 1 === n.data[a] ? 1 : 0;
                                    e(i)
                                } else console.warn("checkSwitch fetch res error, use default switch"), e(r)
                            }).catch(function () {
                                console.warn("catch fetch checkSwitch, use default switch"), e(r)
                            })
                        })
                    }, t.prototype.setClipboardData = function (e) {
                        window.navigator && window.navigator.clipboard && navigator.clipboard.writeText(e.data).then(function () {
                            e.success && e.success()
                        }).catch(function () {
                            e.fail && e.fail()
                        })
                    }, t.prototype.setVibrate = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return e && e[0] && e[0], Promise.resolve(null)
                    }, t.prototype.exitGame = function () {
                        window.location && window.location.reload && window.location.reload()
                    }, t.prototype.restartGame = function () {
                        cc.game.restart()
                    }, Object.defineProperty(t.prototype, "platformType", {
                        get: function () {
                            return "debug"
                        }, enumerable: !1, configurable: !0
                    }), t
                }(r.PlatformBase);
            n.PlatformWeb = a, cc._RF.pop()
        }, {
            "../../../config/Configs": "Configs",
            "../managers/GlobalVarManager": "GlobalVarManager",
            "./platform-base": "platform-base"
        }],
        "platform-wx": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "6ad978NoCxP5ZAfOoZmq/RS", "platform-wx"), Object.defineProperty(n, "__esModule", {value: !0}), n.PlatformWX = void 0;
            var r = __importDefault(e("../../libs/platform/hortor/platform")), o = e("../managers/GlobalVarManager"),
                i = e("./platform-mix"), a = e("../GlobalSignal"), s = r.default, c = function (e) {
                    function t() {
                        var t = null !== e && e.apply(this, arguments) || this;
                        return t._maskId = 4, t
                    }

                    return __extends(t, e), Object.defineProperty(t.prototype, "maskId", {
                        get: function () {
                            return this._maskId
                        }, enumerable: !1, configurable: !0
                    }), t.prototype._convertToPlatform = function (e) {
                        var t = cc.view.getVisibleSize(), n = t.width, r = t.height, o = wx.getSystemInfoSync(),
                            i = o.screenWidth / n, a = o.screenHeight / r;
                        return cc.rect(e.x * i, (r - e.y - e.height) * a, e.width * i, e.height * a)
                    }, t.prototype._wxLog = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = wx.getRealtimeLogManager ? wx.getRealtimeLogManager() : null;
                        if (n && n.tag) {
                            var r = e[0], o = e[1], i = void 0 === o ? {} : o, a = e[2], s = void 0 === a ? "" : a,
                                c = n.tag(r);
                            c && c.info && c.info.call(c, r, i, s)
                        }
                    }, t.prototype.listenOnLogin = function () {
                        void 0 !== window.HSDK && HSDK.onLogin({
                            listener: function (e) {
                                console.info("registerOnLogin", e), console.info("userSdk", e.userSdk), globalThis.userSdk = e.userSdk, e.userSdk && (o.GlobalVarManager.instance.isNewUser = e.userSdk.isNewUser)
                            }
                        })
                    }, t.prototype.init = function () {
                        var t = this;
                        if (e.prototype.init.call(this), wx.getDeviceInfo) {
                            var n = wx.getDeviceInfo();
                            console.info("getDeviceInfo", n), o.GlobalVarManager.instance.setBenchmarkLevel(n.benchmarkLevel), o.GlobalVarManager.instance.setMemorySize(parseInt(n.memorySize))
                        } else wx.getSystemInfo({
                            complete: function (e) {
                                console.info("getSystemInfo", e), o.GlobalVarManager.instance.setBenchmarkLevel(e.benchmarkLevel)
                            }, success: function (e) {
                                console.info("success getSystemInfo", e)
                            }, fail: function (e) {
                                console.info("fail getSystemInfo", e)
                            }
                        });
                        if (wx.getDeviceBenchmarkInfo) try {
                            wx.getDeviceBenchmarkInfo({
                                success: function (e) {
                                    console.info("success BenchmarkInfo", e)
                                }, complete: function (e) {
                                    console.info("BenchmarkInfo", e), o.GlobalVarManager.instance.setBenchmarkLevel(e.benchmarkLevel)
                                }, fail: function (e) {
                                    console.info("fail BenchmarkInfo", e)
                                }
                            })
                        } catch (i) {
                            console.info("\u83b7\u53d6 BenchmarkInfo \u51fa\u73b0\u9519\u8bef\uff1a", i)
                        }
                        wx.getStorageInfo({
                            success: function (e) {
                                var n = e.keys, r = e.currentSize, o = e.limitSize;
                                console.log("getStorageInfo", r, o), r > .95 * o && (wx.clearStorage({
                                    success: function () {
                                        t.tagLog("clearStorage", {step: "success"})
                                    }, fail: function () {
                                        t.tagLog("clearStorage", {step: "fail"})
                                    }
                                }), t.tagLog("clearStorage", {step: "ready", keys: n, currentSize: r, limitSize: o}))
                            }, fail: function (e) {
                                console.log(e)
                            }
                        }), wx.onShow(function (e) {
                            t.setKeepScreenOn(), a.GlobalSignal.Wx_OnShow.emit(e)
                        }), wx.onHide(function () {
                            a.GlobalSignal.Wx_OnHide.emit()
                        }), this.setKeepScreenOn(), wx.onMemoryWarning && wx.onMemoryWarning(function () {
                            t.tagLog("MemoryWarning"), a.GlobalSignal.EventMemoryWarning.emit(), wx.triggerGC && wx.triggerGC()
                        }), wx.setMessageToFriendQuery && wx.setMessageToFriendQuery({shareMessageToFriendScene: 1}), wx.onShareMessageToFriend && wx.onShareMessageToFriend(function (e) {
                            e.success && console.log("onShareMessageToFriend")
                        }), wx.onNetworkWeakChange && wx.onNetworkWeakChange(function (e) {
                            if (e) {
                                var n = e.weakNet, r = e.networkType;
                                t.tagLog("NetworkWeakChange", {weakNet: n, networkType: r})
                            }
                        }), wx.onNetworkStatusChange && wx.onNetworkStatusChange(function (e) {
                            if (e) {
                                var n = e.isConnected, r = e.networkType;
                                t.tagLog("NetworkStatusChange", {isConnected: n, networkType: r})
                            }
                        }), this.listenOnLogin();
                        var r = this.launchOptions();
                        console.info(r)
                    }, t.prototype.releaseIosMemory = function () {
                        wx.triggerGC && wx.triggerGC(), console.log("releaseIosMemory")
                    }, t.prototype.setKeepScreenOn = function () {
                        wx.setKeepScreenOn && wx.setKeepScreenOn({
                            keepScreenOn: !0, success: function (e) {
                                console.info("\u8bbe\u7f6e\u5c4f\u5e55\u5e38\u4eae\u6210\u529f", e)
                            }, fail: function (e) {
                                console.error("\u8bbe\u7f6e\u5c4f\u5e55\u5e38\u4eae\u5931\u8d25", e)
                            }
                        })
                    }, t.prototype.showLoading = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
                    }, t.prototype.hideLoading = function () {
                    }, t.prototype.launchOptions = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return s.getHTLauchOptions()
                    }, t.prototype.login = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e[0], r = e[1];
                        return n ? s.user.login(r) : s.user.weakLogin(r)
                    }, t.prototype.checkVideoAd = function (t) {
                        return __awaiter(this, void 0, Promise, function () {
                            return __generator(this, function () {
                                return wx.createRewardedVideoAd ? [2, e.prototype.checkVideoAd.call(this, t)] : (console.warn("\u4e0d\u652f\u6301\u89c6\u9891\u5e7f\u544a"), [2, !1])
                            })
                        })
                    }, t.prototype.tagLog = function () {
                        for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                        return this._wxLog.apply(this, t), e.prototype.tagLog.apply(this, t)
                    }, t.prototype.checkNeedAuthorize = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e[0];
                        return new Promise(function (e) {
                            try {
                                wx.getSetting({
                                    success: function (t) {
                                        console.info("Check need authorize.", t), t && t.authSetting && (t.authSetting.userInfo || t.authSetting[n]) ? (console.log(n + ":\u5df2\u6388\u6743"), e(!1)) : (console.log(n + ":\u672a\u6388\u6743"), e(!0))
                                    }, fail: function (t) {
                                        console.error(n + ":\u83b7\u53d6\u5931\u8d25 ", t), e(!1)
                                    }
                                })
                            } catch (t) {
                                console.error("Authorize error.", t), e(!1)
                            }
                        })
                    }, t.prototype.createGetUserInfoBtn = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = this._convertToPlatform(e[0]), r = e[1].style;
                        return r.left = n.x, r.top = n.y, r.width = n.width, r.height = n.height, r.lineHeight = n.height, s.user.createInfoBtn(e[1])
                    }, t.prototype.updateUserInfo = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return s.user.updateInfo(e[0])
                    }, t.prototype.getOpenDataContext = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return wx.getOpenDataContext ? wx.getOpenDataContext() : null
                    }, t.prototype.canSetUserCloudStorage = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return !0
                    }, t.prototype.setUserCloudStorage = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return wx.setUserCloudStorage ? new Promise(function (t) {
                            var n = e[0];
                            wx.setUserCloudStorage({
                                KVDataList: n, success: function (e) {
                                    console.info("\u5f00\u653e\u6570\u636e\u57df\u8bbe\u7f6e\u6210\u529f", n), t(e.data || [])
                                }, fail: function (e) {
                                    console.error("\u5f00\u653e\u6570\u636e\u57df\u8bbe\u7f6e\u5931\u8d25", e), t(null)
                                }
                            })
                        }) : Promise.resolve(!1)
                    }, t.prototype.getNotchInfo = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = wx.getMenuButtonBoundingClientRect ? wx.getMenuButtonBoundingClientRect() : null;
                        return n && n.top > 0 && n.bottom > 0 ? {
                            result: !0,
                            top: n.top,
                            center: n.top + .5 * n.height
                        } : {result: !0, top: 20, center: 26}
                    }, t.prototype.authorize = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e[0];
                        return new Promise(function (e) {
                            wx.getSetting({
                                success: function (t) {
                                    t.authSetting[n] ? (console.log("\u5df2\u7ecf\u6388\u6743"), e(!1)) : (console.log("\u672a\u6388\u6743\uff0c \u5f00\u59cb\u6388\u6743"), wx.authorize({
                                        scope: n,
                                        success: function () {
                                            console.log("\u6388\u6743\u6210\u529f"), e(!0)
                                        },
                                        fail: function () {
                                            console.log("\u6388\u6743\u5931\u8d25"), e(!1)
                                        }
                                    }))
                                }, fail: function () {
                                    console.log("\u83b7\u53d6\u6388\u6743\u5931\u8d25"), e(!1)
                                }
                            })
                        })
                    }, t.prototype.checkUpdate = function () {
                        for (var e, t, n = this, r = [], o = 0; o < arguments.length; o++) r[o] = arguments[o];
                        var i = wx.getUpdateManager();
                        if (!i) return Promise.resolve(!1);
                        var a = null !== (e = r[0]) && void 0 !== e ? e : 3e3, s = null !== (t = r[1]) && void 0 !== t && t;
                        return console.log("\u65b0\u7248\u672c\u68c0\u6d4b:", a, s), new Promise(function (e) {
                            var t = setTimeout(function () {
                                n.tagLog("versionTimeout"), e(!1)
                            }, a);
                            i.onCheckForUpdate(function (r) {
                                clearTimeout(t), n.tagLog("versionResult", {hasUpdate: r.hasUpdate}), s || (r.hasUpdate ? wx.showLoading({title: "\u6b63\u5728\u4e0b\u8f7d\u65b0\u7248\u672c"}) : wx.hideLoading()), e(r.hasUpdate)
                            }), i.onUpdateReady(function () {
                                wx.hideLoading(), wx.showModal({
                                    title: "\u66f4\u65b0\u63d0\u793a",
                                    content: "\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u8bf7\u91cd\u542f\u5e94\u7528",
                                    showCancel: !!s,
                                    success: function (e) {
                                        e && e.confirm && i.applyUpdate()
                                    }
                                })
                            }), i.onUpdateFailed(function () {
                                n.tagLog("versionDownloadFail"), s || (wx.hideLoading(), wx.showModal({
                                    title: "\u5df2\u7ecf\u6709\u65b0\u7248\u672c\u4e86\u54df~",
                                    content: "\u65b0\u7248\u672c\u5df2\u7ecf\u4e0a\u7ebf\u5566~\uff0c\u8bf7\u60a8\u5220\u9664\u5f53\u524d\u5c0f\u7a0b\u5e8f\uff0c\u91cd\u65b0\u641c\u7d22\u6253\u5f00\u54df~"
                                }))
                            })
                        })
                    }, t.prototype.showModal = function () {
                        for (var e = this, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                        var r = t[0], o = t[1], i = t[2], a = t[3], s = t[4];
                        wx.showModal({
                            title: r, content: o, showCancel: s, success: function (t) {
                                return __awaiter(e, void 0, void 0, function () {
                                    return __generator(this, function () {
                                        return t && t.confirm ? i() : a(), [2]
                                    })
                                })
                            }, fail: function () {
                                a()
                            }
                        })
                    }, t.prototype.setClipboardData = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        wx.setClipboardData && (wx.setClipboardData(e[0]), "qq" !== PLATFORM && "bytedance" !== PLATFORM || a.GlobalSignal.EventPopTips.emit({content: "\u590d\u5236\u6210\u529f"}))
                    }, t.prototype.exitGame = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        this.tagLog("exitGame"), wx.exitMiniProgram({})
                    }, t.prototype.restartGame = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        wx.restartMiniProgram ? (this.tagLog("restartGame"), wx.restartMiniProgram()) : this.exitGame.apply(this, e)
                    }, t.prototype.createGameClubButton = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = this._convertToPlatform(e[0]), r = e[1].style;
                        return r.left = n.x, r.top = n.y, r.width = n.width, r.height = n.height, r.lineHeight = n.height, wx.createGameClubButton(e[1])
                    }, t.prototype.postMessage = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        wx.getOpenDataContext && wx.getOpenDataContext().postMessage(e[0])
                    }, Object.defineProperty(t.prototype, "platformName", {
                        get: function () {
                            return "\u5fae\u4fe1"
                        }, enumerable: !1, configurable: !0
                    }), t.prototype.openMiniApp = function (e, t) {
                        var n = {
                            customerData: {
                                playerId: e,
                                playerName: t,
                                playerLevel: 0,
                                rechargeTotalAmount: 0,
                                playerCreateTime: ""
                            }
                        };
                        return s.customer.openConversation(n)
                    }, t.prototype.openMiniAppMsg = function (e) {
                        return s.customer.openConversation(e)
                    }, t.prototype.setBrightness = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e[0];
                        return s.device.setBrightness(n), Promise.resolve()
                    }, t.prototype.setVibrate = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e[0];
                        return s.device.setVibrate(n)
                    }, t.prototype.vibrateShort = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        wx.vibrateShort({})
                    }, t.prototype.vibrateLong = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        wx.vibrateLong({})
                    }, t.prototype.isWindowsWx = function () {
                        return "windows" === wx.getSystemInfoSync().platform
                    }, t.prototype.setIsPrivacyOpen = function (e) {
                        e || wx.removeUserCloudStorage({
                            keyList: ["uid", "level", "power"], success: function () {
                                console.warn("removeUserCloudStorage success")
                            }, complete: function () {
                                console.warn("removeUserCloudStorage complete")
                            }, fail: function () {
                                console.warn("removeUserCloudStorage fail")
                            }
                        })
                    }, t.prototype.getBrandWallList = function () {
                        return s.brandWall.getGameList()
                    }, t.prototype.jumpBrandWallGame = function (e) {
                        return s.brandWall.jumpGame(e)
                    }, t.prototype.brandWallShowTrack = function () {
                        s.brandWall.trackShow()
                    }, t.prototype.closePayModal = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        return s.ui.closePayModal()
                    }, t.prototype.readImgFile = function () {
                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        var n = e[0];
                        return new Promise(function (e) {
                            wx.getFileSystemManager().readFile({
                                filePath: n, encoding: "base64", success: function (t) {
                                    e(t.data)
                                }, fail: function (t) {
                                    e(""), console.error("Failed to read file:", t)
                                }
                            })
                        })
                    }, t.prototype.compressImgFile = function (e, t, n) {
                        return new Promise(function (r) {
                            wx.compressImage ? wx.compressImage({
                                src: e,
                                compressedHeight: t,
                                compressedWidth: n,
                                success: function () {
                                    r(!0), console.log("compress " + e + " success")
                                },
                                fail: function (e) {
                                    r(!1), console.error(e)
                                }
                            }) : r(!1)
                        })
                    }, t.prototype.business = function (e) {
                        s.track.business(e)
                    }, t.prototype.jumpGsMiniProgram = function (e) {
                        return s.customer.jumpGsMiniProgram(e)
                    }, t.prototype.logout = function () {
                        return s.user.logout()
                    }, t
                }(i.PlatformMix);
            n.PlatformWX = c, cc._RF.pop()
        }, {
            "../../libs/platform/hortor/platform": "platform",
            "../GlobalSignal": "GlobalSignal",
            "../managers/GlobalVarManager": "GlobalVarManager",
            "./platform-mix": "platform-mix"
        }],
        platform: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "1801d0+nsNN2aAJL/vge1lS", "platform"), Object.defineProperty(n, "__esModule", {value: !0}), n.platformEnv = void 0;
            var r = !1;

            function o(e, t) {
                try {
                    var r = !1;
                    (g || E || h || n.platformEnv.isMT) && (r = !0), t && r && (t = JSON.stringify(t)), console.warn("[platform]: " + e + " ", t || "")
                } catch (o) {
                    console.warn("[platform]: " + e + " \u53c2\u6570\u6253\u5370\u5931\u8d25", o)
                }
            }

            function i() {
                o("current platform not support this api")
            }

            function a(e, t, n) {
                return void 0 === n && (n = !0), "function" == typeof e ? e(t) : (o("fn not support"), n ? Promise.reject({errMsg: "fn not support"}) : void 0)
            }

            function s() {
                return Promise.resolve({})
            }

            n.platformEnv = {
                get isEgretGame() {
                    return window && window.egret && window.egret.Capabilities
                }, get isCocosGame() {
                    return window && window.cc && window.cc.sys
                }, get isCocos3() {
                    return n.platformEnv.isCocosGame && cc.sys.Platform && cc.sys.Platform.WECHAT_GAME
                }, get isDebug() {
                    return !!r || !n.platformEnv.isCocosGame && !!window.DEBUG
                }, get isWX() {
                    return n.platformEnv.isCocosGame ? !n.platformEnv.isQQ && !n.platformEnv.isMT && (n.platformEnv.isCocos3 ? cc.sys.platform === cc.sys.Platform.WECHAT_GAME : cc.sys.platform === cc.sys.WECHAT_GAME) : !!n.platformEnv.isEgretGame && egret.Capabilities.runtimeType === egret.RuntimeType.WXGAME && !n.platformEnv.isQQ
                }, get isWXWindows() {
                    var e, t, r = !1;
                    return n.platformEnv.isWX && (null === (t = null === (e = wx.getSystemInfoSync()) || void 0 === e ? void 0 : e.system.toLocaleLowerCase()) || void 0 === t ? void 0 : t.includes("windows")) && (r = !0), r
                }, get isWXMac() {
                    var e, t, r = !1;
                    return n.platformEnv.isWX && (null === (t = null === (e = wx.getSystemInfoSync()) || void 0 === e ? void 0 : e.system.toLocaleLowerCase()) || void 0 === t ? void 0 : t.includes("mac")) && (r = !0), r
                }, get isWXIOS() {
                    var e, t, r = !1;
                    return n.platformEnv.isWX && (null === (t = null === (e = wx.getSystemInfoSync()) || void 0 === e ? void 0 : e.system.toLocaleLowerCase()) || void 0 === t ? void 0 : t.includes("ios")) && (r = !0), r
                }, get isTT() {
                    return !!n.platformEnv.isCocosGame && (cc.sys.platform === cc.sys.BYTEDANCE_GAME || cc.sys.platform === cc.sys.BYTEDANCE_MINI_GAME)
                }, get isQQ() {
                    return window && window.qq && "function" == typeof window.qq.login
                }, get isHW() {
                    return window && window.qg && "function" == typeof window.qg.gameLogin
                }, get isNativeAPP() {
                    return !n.platformEnv.isCocosGame && !!n.platformEnv.isEgretGame && egret.Capabilities.runtimeType === egret.RuntimeType.NATIVE
                }, get isNativeIOSAPP() {
                    return !n.platformEnv.isCocosGame && !!n.platformEnv.isEgretGame && egret.Capabilities.runtimeType === egret.RuntimeType.NATIVE && "iOS" === egret.Capabilities.os
                }, get isNativeAndroidAPP() {
                    return !n.platformEnv.isCocosGame && !!n.platformEnv.isEgretGame && egret.Capabilities.runtimeType === egret.RuntimeType.NATIVE && "Android" === egret.Capabilities.os
                }, get isH5() {
                    return n.platformEnv.isCocosGame ? n.platformEnv.isCocos3 ? cc.sys.platform === cc.sys.Platform.DESKTOP_BROWSER || cc.sys.platform === cc.sys.Platform.MOBILE_BROWSER : cc.sys.platform === cc.sys.DESKTOP_BROWSER || cc.sys.platform === cc.sys.MOBILE_BROWSER : !!n.platformEnv.isEgretGame && egret.Capabilities.runtimeType === egret.RuntimeType.WEB
                }, get isMixMicroEnd() {
                    if (window && window.navigator && window.navigator.userAgent) {
                        var e = window.navigator.userAgent;
                        return e.indexOf("mix_micro_end_ios") > -1 || e.indexOf("mix_micro_end_android") > -1
                    }
                    return !1
                }, get isH5PageGame() {
                    var e = !1;
                    return "undefined" != typeof HSDK && (e = HSDK.isOverseaH5 || HSDK.isOverseaH5TianYou || HSDK.isOverseaH5QingCi), n.platformEnv.isH5 && !n.platformEnv.isMixMicroEnd && !e
                }, get isH5PageGameOversea() {
                    return n.platformEnv.isH5 && !n.platformEnv.isMixMicroEnd && "undefined" != typeof HSDK && HSDK.isOverseaH5
                }, get isH5PageGameOverseaTianyou() {
                    return n.platformEnv.isH5 && !n.platformEnv.isMixMicroEnd && "undefined" != typeof HSDK && HSDK.isOverseaH5TianYou
                }, get isH5PageGameOverseaQingCi() {
                    return n.platformEnv.isH5 && !n.platformEnv.isMixMicroEnd && "undefined" != typeof HSDK && HSDK.isOverseaH5QingCi
                }, get isMixMicroEndAndroid() {
                    return !!(window && window.navigator && window.navigator.userAgent) && window.navigator.userAgent.indexOf("mix_micro_end_android") > -1
                }, get isNonMixMicroEnd() {
                    if (window && window.navigator && window.navigator.userAgent) {
                        var e = window.navigator.userAgent;
                        return e.indexOf("HortorApp") > -1 || e.indexOf("gcApp") > -1 || e.indexOf("HortorApk") > -1 || e.indexOf("gcApk") > -1
                    }
                    return !1
                }, get isMT() {
                    return "undefined" != typeof HSDK && HSDK.isMT
                }, get isAlipay() {
                    return "undefined" != typeof HSDK && HSDK.isAlipay
                }
            }, o("platformVersion", "v1.9.22"), o("platformTagTime", "3/4/2025, 3:51:50 PM"), o("\u5f00\u53d1\u8005\u53ef\u8054\u7cfb\u524d\u7aef\u5ed6\u6653\u654f");
            var c = n.platformEnv.isCocosGame, u = n.platformEnv.isCocos3, l = n.platformEnv.isDebug,
                f = n.platformEnv.isWX, d = n.platformEnv.isTT, p = n.platformEnv.isQQ, h = n.platformEnv.isHW,
                g = n.platformEnv.isNativeAPP, m = n.platformEnv.isNativeIOSAPP, _ = n.platformEnv.isNativeAndroidAPP,
                v = n.platformEnv.isH5, E = n.platformEnv.isMixMicroEnd, y = n.platformEnv.isH5PageGame,
                S = n.platformEnv.isMixMicroEndAndroid, C = n.platformEnv.isNonMixMicroEnd, A = n.platformEnv.isMT,
                T = n.platformEnv.isAlipay;
            o(c ? "isCocosGame" : "isEgretGame"), n.platformEnv.isCocosGame && o(u ? "cocos 3.0" : "cocos 2.0"), l && o("isDebug"), f && o("isWX"), d && o("isTT"), p && o("isQQ"), h && o("isHW"), g && o("isNativeAPP"), m && o("isNativeIOSAPP"), _ && o("isNativeAndroidAPP"), v && o("isH5"), E && o("isMixMicroEnd"), y && o("isH5PageGame"), n.platformEnv.isH5PageGameOversea && o("isH5PageGameOversea"), n.platformEnv.isH5PageGameOverseaQingCi && o("isH5PageGameOverseaQingCi"), S && o("isMixMicroEndAndroid"), C && o("isNonMixMicroEnd"), A && o("isMT"), T && o("isAlipay"), void 0 === window.HSDK && (window.HSDK = {}), Object.isExtensible(window.HSDK) || (window.HSDK = __assign({}, window.HSDK)), ["ENV", "LogType", "EventType", "NoticeType", "SMSCodeType", "QQScene", "WXScene", "QQMicroAppType", "WXMicroAppType", "MicroProgramType", "BindPlatformType", "AddicationType", "SwitchStatus", "OverseasCustomerType", "ApmPostArea", "NotifyRepeatType", "NetworkType", "BusinessEventName"].forEach(function (e) {
                void 0 === window.HSDK[e] && (window.HSDK[e] = {})
            });
            var b = new (function () {
                function e() {
                    this.user = {
                        yybLogin: function () {
                            if (o("user.yybLogin"), _) return HSDK.yybLogin()
                        }, tryLogin: function () {
                            return o("user.tryLogin"), l ? Promise.resolve() : g ? HSDK.tryLogin() : Promise.reject(null)
                        }, login: function (e) {
                            return o("user.login", e), l ? Promise.resolve() : f || d || n.platformEnv.isH5PageGame || p || h || n.platformEnv.isH5PageGameOversea || n.platformEnv.isH5PageGameOverseaTianyou || n.platformEnv.isH5PageGameOverseaQingCi ? "function" == typeof HSDK.login ? HSDK.login(e) : Promise.reject(null) : E || g ? HSDK.dialogLogin() : Promise.reject(null)
                        }, onLogin: function (e) {
                            o("user.onLogin", e), (f || d || n.platformEnv.isH5PageGame || p || h || g || E || n.platformEnv.isH5PageGameOversea || n.platformEnv.isH5PageGameOverseaTianyou || n.platformEnv.isH5PageGameOverseaQingCi || T) && "function" == typeof HSDK.onLogin && HSDK.onLogin(e)
                        }, multiPlatformLogin: function (e) {
                            return o("user.multiPlatformLogin", e), l ? Promise.resolve() : g || E ? HSDK.dialogLogin(e) : (n.platformEnv.isH5PageGame || n.platformEnv.isH5PageGameOversea) && "function" == typeof HSDK.login ? HSDK.login() : Promise.reject(null)
                        }, logout: function () {
                            return o("user.logout"), l ? Promise.resolve() : (g || f || E || n.platformEnv.isH5PageGameOversea || n.platformEnv.isH5PageGameOverseaTianyou || n.platformEnv.isH5PageGame) && "function" == typeof HSDK.logout ? HSDK.logout() : Promise.reject(null)
                        }, weakLogin: function (e) {
                            if (o("user.weakLogin", e), l) {
                                var t = localStorage.getItem("userId");
                                t || (t = (new Date).getTime() + "", localStorage.setItem("userId", t));
                                var r = {id: t, name: t, authed: !!localStorage.getItem("_fakeAuthed")};
                                return Promise.resolve(r)
                            }
                            return new Promise(function (t, r) {
                                f || d || n.platformEnv.isH5PageGame || p || h || n.platformEnv.isH5PageGameOverseaQingCi || n.platformEnv.isMT || n.platformEnv.isAlipay ? "function" == typeof HSDK.weakLogin ? HSDK.weakLogin(e).then(t).catch(function (e) {
                                    r(e)
                                }) : Promise.reject(null) : E || g ? HSDK.dialogLogin(e).then(t).catch(function (e) {
                                    r(e)
                                }) : r("\u767b\u5f55\u5931\u8d25, \u6682\u4e0d\u652f\u6301\u8be5\u5e73\u53f0")
                            })
                        }, createInfoBtn: function (e) {
                            return o("user.createInfoBtn", e), f || p ? HSDK.createUserInfoButton(e) : null
                        }, setPlayerInfo: function (e) {
                            o("user.setPlayerInfo", e), (f || p || d || h || g || E || n.platformEnv.isH5PageGame) && "function" == typeof HSDK.setGameUserInfo && HSDK.setGameUserInfo(e)
                        }, updateInfo: function (e) {
                            return o("user.updateInfo", e), l ? Promise.resolve() : f || d || p || h ? HSDK.updateUserInfo(e) : Promise.reject(null)
                        }, getIsFromChannel: function () {
                            return o("user.getIsFromChannel"), f ? HSDK.getIsFromChannel() : Promise.reject({isFromChannel: !1})
                        }, getFacebookUserInfo: function () {
                            return o("user.getFacebookUserInfo"), g ? HSDK.getFacebookUserInfo() : Promise.reject(null)
                        }, facebookLogin: function () {
                            return o("user.facebookLogin"), l ? Promise.resolve() : g || E ? HSDK.facebookLogin() : Promise.reject(null)
                        }, googleLogin: function () {
                            return o("user.googleLogin"), l ? Promise.resolve() : _ || E ? HSDK.googleLogin() : Promise.reject(null)
                        }, bindPlatform: function (e) {
                            return o("user.bindPlatform", e), l ? Promise.resolve() : g || E ? HSDK.bindPlatform(e) : Promise.reject(null)
                        }, visitorLogin: function () {
                            return o("user.visitorLogin"), l ? Promise.resolve() : g || E ? HSDK.visitorLogin() : Promise.reject(null)
                        }, showProtocol: function () {
                            return o("user.showProtocol"), l ? Promise.resolve() : h || p ? HSDK.showProtocol() : Promise.reject(null)
                        }, onNeedPrivacyAuth: function (e) {
                            return o("user.onNeedPrivacyAuth", e), l ? Promise.resolve() : f ? HSDK.onNeedPrivacyAuth(e) : Promise.reject(null)
                        }, openPrivacyContract: function () {
                            return o("user.openPrivacyContract"), l ? Promise.resolve() : f ? HSDK.openPrivacyContract() : Promise.reject(null)
                        }, requirePrivacyAuth: function () {
                            return o("user.requirePrivacyAuth"), l ? Promise.resolve() : f ? HSDK.requirePrivacyAuth() : Promise.reject(null)
                        }, showUserCenter: function () {
                            if (o("user.showUserCenter"), g || n.platformEnv.isH5PageGameOverseaQingCi) return HSDK.showUserCenter({})
                        }, registerLogout: function (e) {
                            o("user.registerLogout"), (g || n.platformEnv.isH5PageGameOverseaQingCi) && HSDK.registerLogout(e)
                        }, checkCanGetOneTimeReward: function () {
                            return o("user.checkCanGetOneTimeReward"), f || d || T ? a(HSDK.checkCanGetOneTimeReward) : Promise.reject()
                        }
                    }, this.share = {
                        shareMsg: function (e) {
                            return o("share.shareMsg", e), l ? Promise.resolve() : f || g || E || d || p || h ? HSDK.share(e) : Promise.reject(null)
                        }, onShare: function (e) {
                            o("share.onShare", e), (f || p || d) && HSDK.onShare(e)
                        }, onTimeline: function (e) {
                            o("share.onTimeline", e), (f || p) && HSDK.onShareTimeline(e)
                        }, getShareData: function (e) {
                            return o("share.getShareData", e), l ? Promise.resolve() : f || g || p || h ? HSDK.getShareData(e) : Promise.reject(null)
                        }, wxShareMicroApp: function (e) {
                            return o("app.wxShareMicroApp", e), l ? Promise.resolve() : g || C || E ? HSDK.wxShareMicroApp(e) : Promise.reject(null)
                        }, decodeShareTicket: function () {
                            return o("share.decodeShareTicket"), l ? Promise.resolve() : f ? HSDK.decodeShareTicket() : Promise.reject(null)
                        }, overseaMultiPlatformShare: function (e) {
                            return o("share.overseaMultiPlatformShare", e), l ? Promise.resolve() : g || E ? HSDK.overseaMultiPlatformShare(e) : Promise.reject(null)
                        }
                    }, this.loading = {
                        show: function (e) {
                            o("loading.show", e), f || g || E || d || p || h || n.platformEnv.isMT ? HSDK.showLoading(e) : i()
                        }, hide: function () {
                            o("loading.hide"), f || g || E || d || p || h || n.platformEnv.isMT ? HSDK.hideLoading() : i()
                        }
                    }, this.ui = {
                        showModal: function (e) {
                            if (o("ui.showModal", e), f || g || n.platformEnv.isMT) return HSDK.showModal(e)
                        }, showAlert: function (e) {
                            o("ui.showAlert", e), (m || _ || n.platformEnv.isH5PageGameOversea || n.platformEnv.isMT) && HSDK.showAlert(e)
                        }, exitApp: function () {
                            o("ui.exitApp"), (g || E || h) && HSDK.exitApp()
                        }, onShow: function (e) {
                            o("ui.onShow", e), (f || g || E || d || n.platformEnv.isMT || T) && HSDK.onShow(e)
                        }, offShow: function (e) {
                            o("ui.offShow", e), T && HSDK.offShow(e)
                        }, onHide: function (e) {
                            o("ui.onHide", e), (f || g || E || d || n.platformEnv.isMT || T) && HSDK.onHide(e)
                        }, offHide: function (e) {
                            o("ui.offHide", e), T && HSDK.offHide(e)
                        }, showUserProtocol: function () {
                            return o("ui.showUserProtocol"), g || E ? (HSDK.openWebview({isShowUserProtocol: !0}), Promise.resolve()) : h ? HSDK.showUserProtocol() : f && "function" == typeof HSDK.showUserProtocol ? HSDK.showUserProtocol() : Promise.resolve()
                        }, showPrivacyPolicy: function () {
                            return o("ui.showPrivacyPolicy"), g || E ? (HSDK.openWebview({isShowUserPrivacy: !0}), Promise.resolve()) : h ? HSDK.showPrivacyPolicy() : f && "function" == typeof HSDK.showPrivacyPolicy ? HSDK.showPrivacyPolicy() : Promise.resolve()
                        }, closePayModal: function () {
                            return o("ui.closePayModal"), l ? Promise.resolve() : n.platformEnv.isWXWindows && HSDK.closeWindowsPayModal ? HSDK.closeWindowsPayModal() : n.platformEnv.isWXMac && HSDK.closeMacPayModal ? HSDK.closeMacPayModal() : Promise.reject(null)
                        }
                    }, this.ad = {
                        video: {
                            preload: function (e) {
                                return o("ad.video.preload", e), l ? Promise.resolve() : g || E || f || d || p || h || T ? HSDK.preloadAd(e) : C ? HSDK.preloadVideoAd(e) : Promise.reject(null)
                            }, show: function (e) {
                                o("ad.video.show", e), g || E || f || d || p || h || T ? HSDK.showAd(e) : C && HSDK.showVideoAd(e)
                            }
                        }, banner: {
                            preload: function (e) {
                                return o("ad.banner.preload", e), f || g || E || d ? HSDK.preloadAd(e) : Promise.reject(null)
                            }, show: function (e) {
                                o("ad.banner.show", e), (f || g || E || d) && HSDK.showAd(e)
                            }, hide: function (e) {
                                return o("ad.banner.hide", e), l ? Promise.resolve() : f || g || E || d ? HSDK.hideAd(e) : Promise.reject(null)
                            }
                        }, interstitial: {
                            preload: function (e) {
                                return o("ad.interstitial.preload", e), l ? Promise.resolve() : f || g || E || d ? HSDK.preloadAd(e) : Promise.reject(null)
                            }, show: function (e) {
                                o("ad.interstitial.show", e), (f || g || E || d) && HSDK.showAd(e)
                            }
                        }, custom: {
                            preload: function (e) {
                                return o("ad.custom.preload", e), l ? Promise.resolve() : f ? HSDK.preloadAd(e) : Promise.reject(null)
                            }, show: function (e) {
                                o("ad.custom.show", e), f && HSDK.showAd(e)
                            }, hide: function (e) {
                                return o("ad.hide", e), l ? Promise.resolve() : f ? HSDK.hideAd(e) : Promise.reject(null)
                            }
                        }
                    }, this.track = {
                        gameLog: function (e) {
                            o("track.gameLog", e), (f || g || E || C || d || p || h || n.platformEnv.isH5PageGame || n.platformEnv.isH5PageGameOversea || n.platformEnv.isH5PageGameOverseaTianyou || n.platformEnv.isH5PageGameOverseaQingCi || n.platformEnv.isMT) && "function" == typeof HSDK.gameTrack && HSDK.gameTrack(e)
                        }, apmLog: function (e) {
                            o("track.apmLog", e), (f || d) && HSDK.postAPMLog(e)
                        }, gsLog: function (e) {
                            o("track.gsLog", e), f && HSDK.trackGS(e)
                        }, postGameInfo: function (e) {
                            o("track.postGameInfo", e), _ ? HSDK.postGameInfo(e) : i()
                        }, setTGAAccountId: function (e) {
                            o("track.setTGAAccountId", e), g || E ? HSDK.setTGAUserAccountId(e) : i()
                        }, business: function (e) {
                            o("track.business", e), (T || f) && a(HSDK.business, e, !1)
                        }
                    }, this.gm = {
                        getSwitchData: function (e) {
                            return o("gm.getSwitchData", e), l ? Promise.resolve() : HSDK.checkSwitches(e)
                        }, getNotice: function (e) {
                            return o("gm.getNotice", e), l ? Promise.resolve() : g || E ? HSDK.getNoticeInfo(e) : f || C || d || p || h || n.platformEnv.isMT || T ? HSDK.getNotice(e) : Promise.reject(null)
                        }, getProtocolText: function () {
                            return o("gm.getProtocolText"), l ? Promise.resolve() : h || f || d || p || T ? HSDK.getProtocolText() : Promise.reject(null)
                        }
                    }, this.subscribe = {
                        requestMsg: function (e) {
                            return o("subscribe.requestMsg", e), l ? Promise.resolve() : f || d ? HSDK.requestSubscribeMessage(e) : Promise.reject(null)
                        }, getCount: function () {
                            return o("subscribe.getCount"), l ? Promise.resolve() : f || d ? HSDK.getSubscribeMessageCount() : Promise.reject(null)
                        }, getHasSubscribedGameUpdate: function () {
                            return o("subscribe.getHasSubscribedGameUpdate"), l ? Promise.resolve() : f ? HSDK.getHasSubscribedGameUpdate() : Promise.reject(null)
                        }, requestSubscribeGameUpdate: function () {
                            return o("subscribe.requestSubscribeGameUpdate"), l ? Promise.resolve() : f ? HSDK.requestSubscribeGameUpdate() : Promise.reject(null)
                        }, getSecondFloorStatus: function () {
                            return o("subscribe.getSecondFloorStatus"), l ? Promise.resolve() : n.platformEnv.isMT ? HSDK.getSecondFloorStatus() : Promise.reject(null)
                        }, updateSecondFloorChannel: function (e) {
                            return o("subscribe.updateSecondFloorChannel: " + e), l ? Promise.resolve() : n.platformEnv.isMT ? HSDK.updateSecondFloorChannel(e) : Promise.reject(null)
                        }
                    }, this.realName = {
                        getInfo: function () {
                            return o("realName.getInfo"), l ? Promise.resolve() : g || E ? HSDK.getRealNameInfo() : Promise.reject(null)
                        }
                    }, this.questionnaire = {
                        getQuestionnaireConfig: function () {
                            return g || f || d ? HSDK.getQuestionnaireConfig() : Promise.reject({
                                errCode: -1,
                                errMsg: "\u5e73\u53f0\u4e0d\u652f\u6301"
                            })
                        }, getQuestionnaire: function () {
                            return g || f || d ? HSDK.getQuestionnaire() : Promise.reject({
                                errCode: -1,
                                errMsg: "\u5e73\u53f0\u4e0d\u652f\u6301"
                            })
                        }, submitQuestionnaire: function (e) {
                            return g || f || d ? HSDK.submitQuestionnaire(e) : Promise.reject({
                                errCode: -1,
                                errMsg: "\u5e73\u53f0\u4e0d\u652f\u6301"
                            })
                        }
                    }, this.antiAddiction = {
                        listen: function (e) {
                            o("antiAddiction.listen", e), (g || E) && HSDK.onAddictionQuit(e)
                        }
                    }, this.apple = {
                        showComment: function (e) {
                            o("apple.showComment", e), m && HSDK.showAppComment(e)
                        }, onPaySupplement: function (e) {
                            o("apple.onPaySupplement", e), m && HSDK.onApplePaySupplement(e)
                        }, deleteAccount: function () {
                            return o("apple.deleteAccount"), l ? Promise.resolve() : m ? HSDK.deleteAppleAccount() : Promise.reject(null)
                        }
                    }, this.wall = {
                        getTaskList: function (e) {
                            return o("wall.getTaskList", e), l ? Promise.resolve() : f ? HSDK.getTask(e) : Promise.reject(null)
                        }, logOpenTaskPanel: function () {
                            o("wall.logOpenTaskPanel"), f && HSDK.logOpenTaskPanel()
                        }, goTask: function (e) {
                            return o("wall.goTask", e), l ? Promise.resolve() : f ? HSDK.goTask(e) : Promise.reject(null)
                        }, getAward: function (e) {
                            return o("wall.getAward", e), l ? Promise.resolve() : f ? HSDK.getAward(e) : Promise.reject(null)
                        }
                    }, this.customer = {
                        openMiniApp: function (e) {
                            return o("customer.openMiniApp", e), l ? Promise.resolve() : f ? HSDK.openCustomerMiniApp(e) : Promise.reject(null)
                        }, openConversation: function (e) {
                            return o("customer.openConversation"), l ? Promise.resolve() : f || n.platformEnv.isH5PageGameOverseaQingCi ? HSDK.openCustomerServiceConversation(e) : Promise.reject(null)
                        }, createContactButton: function (e) {
                            return o("customer.createContactButton"), l ? Promise.resolve() : d ? HSDK.createContactButton(e) : Promise.reject(null)
                        }, getGSInfo: function () {
                            return o("customer.getGSInfo"), l ? Promise.resolve() : f ? HSDK.getGSInfo() : Promise.reject(null)
                        }, jumpGSCustomer: function () {
                            return o("customer.jumpGSCustomer"), l ? Promise.resolve() : f ? HSDK.jumpGSCustomer() : Promise.reject(null)
                        }, getGsSetting: function (e) {
                            return o("customer.getGsSetting"), l ? Promise.resolve() : f || g ? HSDK.getGsSetting(e) : Promise.reject(null)
                        }, jumpGsMiniProgram: function (e) {
                            return o("customer.jumpGsMiniProgram"), l ? Promise.resolve() : f || g ? HSDK.jumpGsMiniProgram(e) : Promise.reject(null)
                        }, openOverseasCustomer: function (e) {
                            if (o("customer.openOverseasCustomer"), g || n.platformEnv.isH5PageGameOverseaQingCi) return HSDK.openOverseasCustomer(e)
                        }, onCustomerUnreadMsg: function (e) {
                            o("customer.onCustomerUnreadMsg"), g && HSDK.onCustomerUnreadMsg(e)
                        }
                    }, this.app = {
                        showExitGameDialog: function () {
                            o("app.showExitGameDialog"), _ && HSDK.showExitGameDialog()
                        }, afReport: function (e) {
                            o("app.afReport", e), (g || n.platformEnv.isH5PageGameOverseaTianyou) && HSDK.afReport(e)
                        }, getTranslateResult: function (e) {
                            return o("app.getTranslateResult", e), g ? HSDK.getTranslateResult(e) : Promise.reject(null)
                        }, open: function (e) {
                            o("app.open", e), (g || E) && HSDK.openApp(e)
                        }, checkNotifyAuth: function () {
                            return o("app.checkNotifyAuth"), g ? HSDK.checkNotifyAuth() : Promise.reject(null)
                        }, getNotifyData: function (e) {
                            return o("app.getNotifyData", e), l ? Promise.resolve() : g ? HSDK.getNotifyData(e) : Promise.reject(null)
                        }, pushLocalNotify: function (e) {
                            o("app.pushLocalNotify", e), g && HSDK.pushLocalNotify(e)
                        }, removeLocalNotify: function (e) {
                            o("app.removeLocalNotify", e), g && HSDK.removeLocalNotify(e)
                        }, openNotifyAction: function () {
                            o("app.openNotifyAction"), g && HSDK.openNotifyAction()
                        }, stopLocalNotifyAction: function () {
                            o("app.stopLocalNotifyAction"), g && HSDK.stopLocalNotifyAction()
                        }, stopNotifyAction: function () {
                            o("app.stopNotifyAction"), m && HSDK.stopNotifyAction()
                        }, getNotifyWithLaunch: function (e) {
                            o("app.getNotifyWithLaunch", e), g && HSDK.getNotifyWithLaunch(e)
                        }, syncWxUserInfo: function () {
                            return o("app.syncWxUserInfo"), l ? Promise.resolve() : g || E ? HSDK.syncWxUserInfo() : Promise.reject(null)
                        }, showComment: function (e) {
                            o("app.showComment", e), (g || h || f) && HSDK.showAppComment(e)
                        }, openWebview: function (e) {
                            o("app.openWebview", e), (g || E) && HSDK.openWebview(e)
                        }, checkRunningProcess: function (e) {
                            return o("app.checkRunningProcess", e), l ? Promise.resolve() : _ || E ? HSDK.checkRunningProcess(e) : Promise.reject(null)
                        }, deleteAccount: function () {
                            return o("app.deleteAccount"), l ? Promise.resolve() : m ? HSDK.deleteAppleAccount() : h ? HSDK.deleteAccount() : Promise.reject(null)
                        }, createDesktopIcon: function (e) {
                            return o("app.createDesktopIcon", e), l ? Promise.resolve() : h || n.platformEnv.isH5PageGameOverseaTianyou ? HSDK.createDesktopIcon(e) : Promise.reject(null)
                        }, getDesktopIcon: function () {
                            return o("app.getDesktopIcon"), l ? Promise.resolve() : h ? HSDK.getDesktopIcon() : Promise.reject(null)
                        }, reportTYGameInfo: function (e) {
                            o("app.reportTYGameInfo", e), (g || n.platformEnv.isH5PageGameOverseaTianyou) && HSDK.reportTYGameInfo(e)
                        }, bindEventCallbacks: function (e) {
                            o("app.bindEventCallbacks", e), g && HSDK.bindEventCallbacks(e)
                        }, openTapTapDetails: function () {
                            o("app.openTapTapDetails"), _ && HSDK.openTapTapDetails()
                        }, shareToTapTap: function (e) {
                            return o("app.shareToTapTap", e), _ ? HSDK.shareToTapTap(e) : Promise.reject(null)
                        }, tapTapMoments: function (e) {
                            o("app.tapTapMoments", e), _ && HSDK.tapTapMoments(e)
                        }, onTapTapCallback: function (e) {
                            o("app.tapTapCallback", e), _ && HSDK.onTapTapCallback(e)
                        }
                    }, this.web = {
                        createShortcut: function (e) {
                            return o("web.createShortcut", e), l ? Promise.resolve() : n.platformEnv.isH5PageGameOversea || n.platformEnv.isMT || T ? HSDK.createShortcut(e) : Promise.reject(null)
                        }
                    }, this.file = {
                        chooseImage: function (e) {
                            return o("file.chooseImage"), l ? Promise.resolve() : g || E ? HSDK.chooseImage(e) : g || E || C || f || p || d ? HSDK.chooseImage() : Promise.reject(null)
                        }, saveImage: function (e) {
                            return o("file.saveImage", e), l ? Promise.resolve() : g || E || C || f || p || d ? HSDK.saveImage(e) : Promise.reject(null)
                        }, getPath: function (e) {
                            return o("file.getPath", e), l ? Promise.resolve() : _ || S ? HSDK.getFilePath(e) : Promise.reject(null)
                        }, download: function (e) {
                            o("file.download", e), (_ || S) && HSDK.downloadFile(e)
                        }
                    }, this.device = {
                        getBrightness: function () {
                            return o("device.getBrightness"), l ? Promise.resolve() : g || f || d || n.platformEnv.isMT ? HSDK.getBrightness() : Promise.reject(null)
                        }, setBrightness: function (e) {
                            return o("device.setBrightness", e), l ? Promise.resolve() : g || f || d || n.platformEnv.isMT ? HSDK.setBrightness(e) : Promise.reject(null)
                        }, getBattery: function () {
                            return o("device.getBattery"), l ? Promise.resolve() : g || f || d || n.platformEnv.isMT ? HSDK.getBattery() : Promise.reject(null)
                        }, getNetworkType: function () {
                            return o("device.getNetworkType"), l ? Promise.resolve() : g || f || d || n.platformEnv.isMT ? HSDK.getNetworkType() : Promise.reject(null)
                        }, setClipboard: function (e) {
                            if (o("device.setClipboard", e), (g || E || h || f || n.platformEnv.isH5PageGameOverseaQingCi || n.platformEnv.isMT) && HSDK.setClipboard) return HSDK.setClipboard(e)
                        }, getClipboard: function () {
                            return o("device.getClipboard"), h || f || n.platformEnv.isMT || g || d || p ? HSDK.getClipboard ? HSDK.getClipboard() : void 0 : Promise.resolve()
                        }, setKeepScreenOn: function (e) {
                            return l ? Promise.resolve() : g || f || d || E || n.platformEnv.isMT ? HSDK.setKeepScreenOn(e) : Promise.reject(null)
                        }, setVibrate: function (e) {
                            return l ? Promise.resolve() : g || E || p || f || d || n.platformEnv.isMT ? HSDK.setVibrate(e) : Promise.reject(null)
                        }, onBackBtnTap: function (e) {
                            return !!_ && HSDK.onBackBtnTap(e)
                        }, selectLocalImage: function () {
                            return l ? Promise.resolve() : g ? HSDK.selectLocalImage() : Promise.reject(null)
                        }
                    }, this.tool = {
                        getGameRecorderManager: function () {
                            return l ? Promise.resolve() : d ? HSDK.getGameRecorderManager() : Promise.reject(null)
                        }, openWebview: function () {
                            return HSDK.openWebview()
                        }, getSecretKey: function (e) {
                            return o("tool.getSecretKey"), l ? Promise.resolve() : f || g ? HSDK.getKeyByKeyType(e) : Promise.reject(null)
                        }, getPayCurrency: function (e) {
                            return o("tool.getPayCurrency"), l ? Promise.resolve() : g ? HSDK.getPayCurrency(e) : Promise.reject(null)
                        }, debugInfo: function (e) {
                            for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                            if (o("tool.debugInfo"), f) return HSDK.debug.apply(HSDK, __spreadArrays([e], t))
                        }, jumpMiniProgram: function (e) {
                            if (o("tool.jumpMiniProgram"), g) return HSDK.jumpMiniProgram(e)
                        }
                    }, this.miniProgram = {
                        getHasOpenedFromDesktopIcon: function () {
                            if (o("miniProgram.getHasOpenedFromDesktopIcon"), f) return HSDK.getHasOpenedFromDesktopIcon()
                        }, checkIsAddedToMyMiniProgram: function () {
                            return o("miniProgram.checkIsAddedToMyMiniProgram"), f || T ? HSDK.checkIsAddedToMyMiniProgram() : Promise.reject(null)
                        }, checkGift: function () {
                            return o("miniProgram.checkGift"), f ? HSDK.checkGift() : Promise.resolve(!1)
                        }, showGift: function (e) {
                            return o("miniProgram.showGift"), f ? HSDK.showGift(e) : Promise.reject(null)
                        }, payGift: function (e) {
                            return o("miniProgram.payGift"), f ? HSDK.payGift(e) : Promise.reject(null)
                        }, getWechatGroupQrCode: function (e) {
                            return o("miniProgram.getWechatGroupQrCode", e), f ? HSDK.getWechatGroupQrCode(e) : Promise.reject(null)
                        }, joinWechatGroup: function (e) {
                            return o("miniProgram.joinWechatGroup", e), f ? HSDK.joinWechatGroup(e) : Promise.reject(null)
                        }, getGameClubData: function (e) {
                            return o("miniProgram.getGameClubData", e), f || T ? HSDK.getGameClubData(e) : Promise.reject(null)
                        }, checkNeedFeed: function (e) {
                            return o("miniProgram.checkNeedFeed", e), d ? HSDK.checkNeedFeed(e) : Promise.reject(!0)
                        }, requestFeed: function (e) {
                            return o("miniProgram.requestFeed", e), d ? HSDK.requestFeed(e) : Promise.reject(null)
                        }, reportFeedScene: function (e) {
                            return o("miniProgram.reportFeedScene", e), d ? HSDK.reportFeedScene(e) : Promise.reject(null)
                        }
                    }, this.brandWall = {
                        getGameList: function () {
                            return o("brandWall.getGameList"), l ? Promise.resolve() : f ? HSDK.getBrandWallList() : Promise.reject(null)
                        }, jumpGame: function (e) {
                            return o("brandWall.jumpGame", e), l ? Promise.resolve() : f ? HSDK.jumpBrandWallGame(e) : Promise.reject(null)
                        }, trackShow: function () {
                            o("brandWall.trackShow"), l || f && HSDK.brandWallShowTrack()
                        }
                    }, this.middleChannel = {
                        reportRoleInfo: function (e) {
                            return o("middleChannel reportRoleInfo", e), l ? void 0 : f || n.platformEnv.isH5PageGame ? "function" == typeof HSDK.middleReport ? HSDK.middleReport(e) : Promise.resolve() : Promise.reject()
                        }, checkSensitive: function (e) {
                            return o("middleChannel checkSensitive", e), l ? void 0 : f ? HSDK.checkSensitive(e) : Promise.reject()
                        }, createGameClubBtn: function (e) {
                            return o("middleChannel createGameClubBtn", e), l ? void 0 : f || T ? "function" == typeof HSDK.createGameClubButton ? HSDK.createGameClubButton(e) : {} : void 0
                        }, getGameClubParams: function () {
                            return o("middleChannel getGameClubParams"), l ? void 0 : f ? "function" == typeof HSDK.getGameClubParams ? HSDK.getGameClubParams() : Promise.resolve() : void 0
                        }, bindPhone: function (e) {
                            if (o("middleChannel bindPhone", e), !l) return f ? "function" == typeof HSDK.bindPhone ? HSDK.bindPhone(e) : Promise.resolve() : Promise.reject()
                        }, getBindPhoneStatus: function () {
                            return o("middleChannel getBindPhoneStatus"), l ? void 0 : f ? "function" == typeof HSDK.getBindPhoneStatus ? HSDK.getBindPhoneStatus() : Promise.resolve() : Promise.reject()
                        }, sendSMSCode: function (e) {
                            return o("middleChannel sendSMSCode", e), l ? void 0 : f ? "function" == typeof HSDK.sendSMSCode ? HSDK.sendSMSCode(e) : Promise.resolve() : Promise.reject()
                        }, getTransferPlatformConfig: function () {
                            return o("middleChannel getTransferPlatformConfig"), l ? void 0 : f ? "function" == typeof HSDK.getTransferPlatformConfig ? HSDK.getTransferPlatformConfig() : Promise.resolve(null) : Promise.reject(null)
                        }
                    }
                }

                return e.prototype.init = function (e) {
                    return o("init", e), (null == e ? void 0 : e.isPlatformForceDebug) && (r = !0, l = !0), l ? Promise.resolve() : HSDK.init(e)
                }, e.prototype.getHTLauchOptions = function () {
                    return o("getHTLauchOptions"), f || d ? HSDK.getHTLauchOptions() : null
                }, e.prototype.pay = function (e) {
                    return o("pay", {
                        orderId: e.orderId,
                        money: e.money
                    }), l ? Promise.resolve() : _ || S ? o("android pay") || HSDK.dialogPay(e) : m ? o("ios pay") || HSDK.applePay(e) : f || h || n.platformEnv.isMT || n.platformEnv.isAlipay ? HSDK.pay(e) : C ? o("h5 pay") || HSDK.pay(e) : d ? o("tt pay") || HSDK.pay(e) : p ? o("qq pay") || HSDK.pay(e) : n.platformEnv.isH5PageGame ? o("h5-public pay") || HSDK.pay(e) : n.platformEnv.isH5PageGameOversea ? o("h5-oversea pay") || HSDK.pay(e) : n.platformEnv.isH5PageGameOverseaTianyou || n.platformEnv.isH5PageGameOverseaQingCi ? o("h5-oversea pay") || HSDK.pay(e) : Promise.reject(null)
                }, e.prototype.closeWindowsPayModal = function () {
                    return o("closeWindowsPayModal"), l ? Promise.resolve() : n.platformEnv.isWXWindows ? HSDK.closeWindowsPayModal() : Promise.reject(null)
                }, e.prototype.canUseDiamondPay = function () {
                    return o("canUseDiamondPay"), !l && !!d && HSDK.canUseDiamondPay()
                }, e.prototype.resetSDK = function () {
                    o("resetSDK"), l || d && HSDK.resetSDK()
                }, e.prototype.doRevisitTask = function () {
                    if (o("doRevisitTask"), T) return HSDK.doRevisitTask()
                }, e.prototype.getCurrentOptions = function () {
                    if (o("getCurrentQuery"), T) return HSDK.getCurrentOptions()
                }, e.prototype.getIsShowRevisitTask = function () {
                    return o("getIsShowRevisitTask"), T ? HSDK.getIsShowRevisitTask() : Promise.resolve({})
                }, e.prototype.joinGMEChat = function (e) {
                    return o("joinGMEChat", e), f ? HSDK.joinGMEChat(e) : s()
                }, e.prototype.exitGMEChat = function () {
                    return o("exitGMEChat"), f ? HSDK.exitGMEChat() : s()
                }, e.prototype.updateGMEChatLocalConfig = function (e) {
                    o("updateGMEChatLocalConfig", e), f && HSDK.updateGMEChatLocalConfig(e)
                }, e.prototype.updateGMEChatRemoteConfig = function (e) {
                    o("updateGMEChatRemoteConfig", e), f && HSDK.updateGMEChatRemoteConfig(e)
                }, e.prototype.onGMEChatMembersChanged = function (e) {
                    f && HSDK.onGMEChatMembersChanged(e)
                }, e.prototype.offGMEChatMembersChanged = function (e) {
                    f && HSDK.offGMEChatMembersChanged(e)
                }, e.prototype.setGMEChatAutoReconnect = function (e) {
                    o("setGMEChatAutoReconnect", e), f && HSDK.setGMEChatAutoReconnect(e)
                }, e.prototype.getDeviceInfo = function () {
                    return o("getDeviceInfo"), f || g ? HSDK.getDeviceInfo() : s()
                }, e
            }());
            n.default = b, cc._RF.pop()
        }, {}],
        polyfills: [function (e, t, n) {
            (function (e, r) {
                "use strict";
                cc._RF.push(t, "75179k56WlC57pxkyE0THgM", "polyfills"), Object.defineProperty(n, "__esModule", {value: !0}), "object" != typeof globalThis && function () {
                    function e(e) {
                        return e && e.Object == Object && e
                    }

                    var t = e("object" == typeof a && a), n = e("object" == typeof window && window),
                        o = e("object" == typeof self && self), i = e("object" == typeof r && r),
                        a = t || n || o || i || Function("", "return this")();
                    try {
                        Object.defineProperty(a, "globalThis", {
                            configurable: !0,
                            enumerable: !1,
                            writable: !0,
                            value: a
                        })
                    } catch (s) {
                        a.globalThis = a
                    }
                }(), function (e) {
                    var t = String.fromCharCode, n = {}.toString, r = n.call(e.SharedArrayBuffer), o = e.Uint8Array,
                        i = o || Array, a = o ? ArrayBuffer : i, s = a.isView || function (e) {
                            return e && "length" in e
                        }, c = n.call(a.prototype), u = (encodeURIComponent, parseInt, p.prototype), l = e.TextEncoder,
                        f = new (o ? Uint16Array : i)(32);

                    function d() {
                    }

                    function p() {
                    }

                    d.prototype.decode = function (e) {
                        var a, u = e;
                        if (!s(u)) {
                            if ((a = n.call(u)) !== c && a !== r && "[object Undefined]" !== a) throw TypeError("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");
                            u = o ? new i(u) : u || []
                        }
                        for (var l = "", d = "", p = 0, h = 0 | u.length, g = h - 32 | 0, m = 0, _ = 0, v = 0, E = 0, y = 0, S = 0, C = -1; p < h;) {
                            for (m = p <= g ? 32 : h - p | 0; S < m; p = p + 1 | 0, S = S + 1 | 0) {
                                switch ((_ = 255 & u[p]) >> 4) {
                                    case 15:
                                        if ((y = 255 & u[p = p + 1 | 0]) >> 6 != 2 || 247 < _) {
                                            p = p - 1 | 0;
                                            break
                                        }
                                        v = (7 & _) << 6 | 63 & y, E = 5, _ = 256;
                                    case 14:
                                        v <<= 6, v |= (15 & _) << 6 | 63 & (y = 255 & u[p = p + 1 | 0]), E = y >> 6 == 2 ? E + 4 | 0 : 24, _ = _ + 256 & 768;
                                    case 13:
                                    case 12:
                                        v <<= 6, v |= (31 & _) << 6 | 63 & (y = 255 & u[p = p + 1 | 0]), E = E + 7 | 0, p < h && y >> 6 == 2 && v >> E && v < 1114112 ? (_ = v, 0 <= (v = v - 65536 | 0) ? (C = 55296 + (v >> 10) | 0, _ = 56320 + (1023 & v) | 0, S < 31 ? (f[S] = C, S = S + 1 | 0, C = -1) : (y = C, C = _, _ = y)) : m = m + 1 | 0) : (p = p - (_ >>= 8) - 1 | 0, _ = 65533), E = 0, v = 0, m = p <= g ? 32 : h - p | 0;
                                    default:
                                        f[S] = _;
                                        continue;
                                    case 11:
                                    case 10:
                                    case 9:
                                    case 8:
                                }
                                f[S] = 65533
                            }
                            if (d += t(f[0], f[1], f[2], f[3], f[4], f[5], f[6], f[7], f[8], f[9], f[10], f[11], f[12], f[13], f[14], f[15], f[16], f[17], f[18], f[19], f[20], f[21], f[22], f[23], f[24], f[25], f[26], f[27], f[28], f[29], f[30], f[31]), S < 32 && (d = d.slice(0, S - 32 | 0)), p < h) {
                                if (f[0] = C, S = ~C >>> 31, C = -1, d.length < l.length) continue
                            } else -1 !== C && (d += t(C));
                            l += d, d = ""
                        }
                        return l
                    }, u.encode = function (e) {
                        var t, n = void 0 === e ? "" : "" + e, r = 0 | n.length, a = new i(8 + (r << 1) | 0), s = 0,
                            c = 0, u = 0, l = 0, f = !o;
                        for (s = 0; s < r; s = s + 1 | 0, c = c + 1 | 0) if ((u = 0 | n.charCodeAt(s)) <= 127) a[c] = u; else if (u <= 2047) a[c] = 192 | u >> 6, a[c = c + 1 | 0] = 128 | 63 & u; else {
                            e:{
                                if (55296 <= u) if (u <= 56319) {
                                    if (56320 <= (l = 0 | n.charCodeAt(s = s + 1 | 0)) && l <= 57343) {
                                        if ((u = (u << 10) + l - 56613888 | 0) > 65535) {
                                            a[c] = 240 | u >> 18, a[c = c + 1 | 0] = 128 | u >> 12 & 63, a[c = c + 1 | 0] = 128 | u >> 6 & 63, a[c = c + 1 | 0] = 128 | 63 & u;
                                            continue
                                        }
                                        break e
                                    }
                                    u = 65533
                                } else u <= 57343 && (u = 65533);
                                !f && s << 1 < c && s << 1 < (c - 7 | 0) && (f = !0, (t = new i(3 * r)).set(a), a = t)
                            }
                            a[c] = 224 | u >> 12, a[c = c + 1 | 0] = 128 | u >> 6 & 63, a[c = c + 1 | 0] = 128 | 63 & u
                        }
                        return o ? a.subarray(0, c) : a.slice(0, c)
                    }, l || (e.TextDecoder = d, e.TextEncoder = p)
                }(globalThis), Promise.prototype.finally || (Promise.prototype.finally = function (e) {
                    if ("function" != typeof e) return this.then(e, e);
                    var t = this.constructor || Promise;
                    return this.then(function (n) {
                        return t.resolve(e()).then(function () {
                            return n
                        })
                    }, function (n) {
                        return t.resolve(e()).then(function () {
                            throw n
                        })
                    })
                });
                try {
                    "object" != typeof e && (e = globalThis.process || Object.create(null)), globalThis.process = e
                } catch (o) {
                    "object" != typeof globalThis.process && (globalThis.process = Object.create(null))
                }
                globalThis.process.env || (globalThis.process.env = Object.create(null)), globalThis.process.defines || (globalThis.process.defines = Object.create(null)), globalThis.process.contexts || (globalThis.process.contexts = Object.create(null)), cc._RF.pop()
            }).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {_process: 5}],
        "priority-queue": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "c9cbaSuYQFD57eb0GLT/Xzz", "priority-queue"), Object.defineProperty(n, "__esModule", {value: !0}), n.PriorityQueue = void 0;
            var r = e("./lower-bound"), o = function () {
                function e() {
                    this._queue = []
                }

                return e.prototype.enqueue = function (e, t) {
                    var n = {priority: (t = __assign({priority: 0}, t)).priority, run: e};
                    if (this.size && this._queue[this.size - 1].priority >= t.priority) this._queue.push(n); else {
                        var o = r.lowerBound(this._queue, n, function (e, t) {
                            return t.priority - e.priority
                        });
                        this._queue.splice(o, 0, n)
                    }
                }, e.prototype.dequeue = function () {
                    var e = this._queue.shift();
                    return null == e ? void 0 : e.run
                }, e.prototype.filter = function (e) {
                    return this._queue.filter(function (t) {
                        return t.priority === e.priority
                    }).map(function (e) {
                        return e.run
                    })
                }, e.prototype.clear = function () {
                    this._queue.length = 0
                }, Object.defineProperty(e.prototype, "size", {
                    get: function () {
                        return this._queue.length
                    }, enumerable: !1, configurable: !0
                }), e
            }();
            n.PriorityQueue = o, cc._RF.pop()
        }, {"./lower-bound": "lower-bound"}],
        "types-common": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "eaf1ezNBVpEWbRQEDJCpsB1", "types-common"), Object.defineProperty(n, "__esModule", {value: !0}), n.VerifyStep = n.ColorNames = n.C_SwitchId = n.RESPS = n.CMDS = n.MiniAppSession = n.Login_ManifestResp = n.RestartReson = n.GlobalVarKey = n.ConstantURI = n.StorageKey = n.BundleName = n.LoadingDesc = n.LoadingPercentage = n.LoadingStepKey = n.ShareType = n.TGAEvent = n.GameState = void 0;
            var r = e("@o4e/core");
            (function (e) {
                e.LoadingError = "LoadingError", e.LauncherInit = "LauncherInit", e.HotUpdate = "HotUpdate", e.PlatformLogin = "PlatformLogin", e.Manifest = "Manifest", e.LoadGameScene = "LoadGameScene", e.GameInit = "GameInit", e.CheckSwitches = "CheckSwitches", e.ForceUpdate = "ForceUpdate", e.GameLogin = "GameLogin", e.LoadConfig = "LoadConfig", e.EnterMiniGame = "EnterMiniGame", e.LoadBaseUI = "LoadBaseUI", e.BeforeEnterGame = "BeforeEnterGame", e.GameRunning = "GameRunning", e.LegionWarHeadless = "LegionWarHeadless", e.RestartGame = "RestartGame", e.SwitchRole = "SwitchRole", e.EnterOSS = "EnterOSS"
            })(n.GameState || (n.GameState = {})), function (e) {
                e.Error = "c_error", e.Loading = "c_loading", e.ForceLogin = "c_forceLogin", e.Option = "c_option", e.Guard = "c_guard", e.NetStopped = "c_netStopped", e.SessionBusy = "c_sessionBusy", e.KillRole = "c_killRole", e.OtherLogin = "c_otherLogin", e.NetReconnect = "c_netReconnect", e.NetMsgError = "c_netMsgError", e.TimeError = "c_timeError", e.GameShow = "c_gameShow", e.GameHide = "c_gameHide", e.GoTo = "c_goto", e.BattleSuccess = "c_battleSuccess", e.BattleFail = "c_battleFail", e.BattleResetLevel = "c_resetLevelBattle", e.BattleLevelStart = "c_battleLevelStart", e.BattleRollBack = "c_battleRollBack", e.BattleRollBackResult = "c_battleRollBackResult", e.BattleRollBackLog = "c_battleRollBackLog", e.BattleReplay = "c_battleReplay", e.BattleErrorCode = "c_battleErrorCode", e.BattleCodeChanged = "c_battleCodeChanged", e.BattleStart = "c_battleStart", e.BattleEnd = "c_battleEnd", e.BattlePause = "c_battlePause", e.BattleResume = "c_battleResume", e.ClickHero = "c_clickHero", e.ClickEquip = "c_clickEquip", e.ClickBox = "c_clickBox", e.ClickWar = "c_clickWar", e.ClickItem = "c_clickItem", e.ClickRecruit = "c_clickRecruit", e.ClickUserHead = "c_clickUserHead", e.ClickActivity = "c_clickActivity", e.ClickActivityTime = "c_clickActivityTime", e.ClickActivityTab = "c_clickActivityTab", e.ClickShopTab = "c_clickShopTab", e.ClickVipTab = "c_clickVipTab", e.ClickMainTask = "c_clickMainTask", e.ClickSevenDay = "c_clickSevenDay", e.ClickDiamondShop = "c_clickDiamondShop", e.ClickDiamondShopCharge = "c_clickDiamondShopCharge", e.ClickHangup = "c_clickHangup", e.ClickGetCoin = "c_clickGetCoin", e.ClickGetCoinNum = "c_clickGetCoinNum", e.ClickCharge = "c_clickCharge", e.ClickTimeGift = "c_clickTimeGift", e.ClickOverview = "c_clickOverview", e.ClickRank = "c_clickRank", e.PlayVideo = "c_playVideo", e.ClickBookHeroCard = "c_clickBookHeroCard", e.ClickBuyCard = "c_clickBuyCard", e.ClickClaimCardReward = "c_clickClaimCardReward", e.ClickEnterTower = "c_clickEnterTower", e.ClickEnterSeasonTower = "c_clickEnterSeasonTower", e.ClickEnterArena = "c_clickEnterArena", e.ClickEnterSeasonArena = "c_clickEnterSeasonArena", e.ClickEnterFeu = "c_clickEnterFeu", e.ClickIgnoreGuide = "c_clickIgnoreGuide", e.ClickIgnoreSeasonGuide = "c_clickIgnoreSeasonGuide", e.ClickEnterBOSS = "c_clickEnterBOSS", e.ClickEnterBossTower = "c_clickEnterBossTower", e.ClickEnterBossTowerFromBoss = "c_clickEnterBossTowerFromBoss", e.EnterAFK = "c_enterAFK", e.ExitAFK = "c_exitAFK", e.EnterLegionBet = "c_enterLegionBet", e.Reflux = "c_reflux", e.RefluxGoto = "c_refluxGoto", e.RefluxSelectServer = "c_refluxSelectServer", e.RenderError = "c_renderError", e.LoaderError = "c_loaderError", e.GoBattle = "c_goBattle", e.GoBackBattle = "c_goBackBattle", e.LordLvUp = "c_lordLvUp", e.LordOrderUp = "c_lordOrderUp", e.HeroLvUp = "c_heroLvUp", e.HeroStageUp = "c_heroStageUp", e.HeroStarUp = "c_heroStarUp", e.ClickSelectServer = "c_selectServer", e.OpenGetWay = "c_getWay", e.GetWayGoto = "c_getWayGoto", e.UserActive = "c_userActive", e.ClickTimeGiftRightBtn = "c_clickTimeGiftRightBtn", e.ClickTimeGiftBuyBtn = "c_clickTimeGiftBuyBtn", e.ClickTimeComboGiftBuyBtn = "c_clickTimeComboGiftBuyBtn", e.ClickArenaBattlePass = "c_clickArenaBattlePass", e.ClickBuyArenaBattlePass = "c_clickBuyArenaBattlePass", e.ClickEnterLegionRank = "c_clickEnterLegionRank", e.EnterLegionWar = "c_enterLegionWar", e.ConnectLegionWar = "c_connectLegionWar", e.ConnectLegionWarSuccess = "c_connectLegionWarSuccess", e.EnterLegionWarErrConnect = "c_enterLegionWarErrConnect", e.RequestEnterBattlefield = "c_requestEnterBattlefield", e.DownloadLegionWarMap = "c_downloadLegionWarMap", e.LoadLegionWarMapUI = "c_loadLegionWarMapUI", e.LoadLegionWarTiledMap = "c_loadLegionWarTiledMap", e.LevelLegionWar = "c_levelLegionWar", e.LegionWarErr = "c_legionWarErr",e.ClickEnterGenie = "c_clickEnterGenie",e.ClickGenieChallengeBtn = "c_clickGenieChallengeBtn",e.ClickEnterDungeon = "c_clickEnterDungeon",e.ClickEnterQuiz = "c_clickEnterQuiz",e.RemoteConfigMisMatch = "c_remoteConfigMisMatch",e.RemoteCodeMisMatch = "c_remoteCodeMisMatch",e.NightmareBattle = "c_nightmareBattle",e.LegionWarBattle = "c_legionWarBattle",e.LegionWarBattleEnd = "c_legionWarBattleEnd",e.GameVersionMisMatch = "c_gameVersionMisMatch",e.FetchLatestApp = "c_fetchLatestApp",e.AnitiPlugin = "c_antiPlugin",e.GetCards = "c_getCards",e.EnterCardFromRoom = "c_enterCardFromRoom",e.EnterCardFromActivity = "c_enterCardFromActivity",e.ShareMiniGame = "c_shareMiniGame",e.EnterMiniGameFromShare = "c_enterMiniGameFromShare",e.ClickBuyActBattlePass = "c_clickBuyActBattlePass",e.ClickShowHideCard = "c_clickShowHideCard",e.ShareRoomFight = "c_shareRoomFight",e.ClickShareRoomFight = "c_clickShareRoomFight",e.ShareNightmare = "c_shareNightmare",e.ClickShareNightmare = "c_clickShareNightmare",e.OpenItemReport = "c_openItemReport",e.ClickItemReportCapture = "c_clickItemReportCapture",e.EnterStudioGames = "c_enterStudioGames",e.JumpStudioGames = "c_jumpStudioGames",e.SyncChatMsg = "c_syncChatMsg",e.RestartError = "c_restartError",e.QualitySelection = "c_qualitySelection",e.LeftUISetting = "c_leftUISetting",e.SwitchRole = "c_switch_role",e.SubRoleLogin = "c_sub_role_login",e.SubRoleLevel = "c_sub_role_level",e.RingClickTimes = "c_ring_click_times",e.GListError = "c_list_error",e.ConfigsModify = "c_configs_modify",e.ClaimHangUpReward = "c_claim_hang_up_reward",e.LevelBattleResult = "c_level_battle_result",e.LevelBattleLog = "c_level_battle_log",e.SkyWarLoading = "c_skywar_loading",e.SkyWarRebuild = "c_skywar_rebuild",e.SkyMoonWarLoading = "c_skymoonwar_loading",e.TriggerForceRename = "c_trigger_force_rename",e.SuccessEnterGameCommunity = "c_success_enter_game_community",e.PayDangerOrder = "c_pay_danger",e.PolishMemory = "c_polish_memory",e.RoomLight = "c_room_light",e.EnterSeason = "c_enter_season",e.SendTeamMsgToChat = "c_sendTeamMsgToChat"
            }(n.TGAEvent || (n.TGAEvent = {})), function (e) {
                e.Common = "common", e.HangUp = "hangUp", e.Task = "task", e.Arena = "arena", e.AutoClick = "huoba", e.Friend = "friend", e.Celebration = "celebration", e.Team = "team", e.CARD = "card", e.RoomFight = "roomFight-joinRoom", e.MINI_GAME = "miniGame", e.Nightmare = "nightmare-joinTeam"
            }(n.ShareType || (n.ShareType = {})), function (e) {
                e[e.PlatformLogin = 0] = "PlatformLogin", e[e.GameManifest = 1] = "GameManifest", e[e.GameScene = 2] = "GameScene", e[e.GameLogin = 3] = "GameLogin", e[e.Config = 4] = "Config", e[e.UILoading = 5] = "UILoading", e[e.UIHome = 6] = "UIHome", e[e.Map = 7] = "Map"
            }(n.LoadingStepKey || (n.LoadingStepKey = {})), function (e) {
                e[e.PlatformLogin = .1] = "PlatformLogin", e[e.GameManifest = .1] = "GameManifest", e[e.GameScene = .1] = "GameScene", e[e.GameLogin = .2] = "GameLogin", e[e.Config = .2] = "Config", e[e.UILoading = .1] = "UILoading", e[e.UIHome = .1] = "UIHome", e[e.Map = .1] = "Map"
            }(n.LoadingPercentage || (n.LoadingPercentage = {})), function (e) {
                e.PlatformLogin = "C3_COMMON_CONST1", e.GameManifest = "C3_COMMON_CONST2", e.GameScene = "C3_COMMON_CONST3", e.GameLogin = "C3_COMMON_CONST4", e.Config = "C3_COMMON_CONST5", e.UILoading = "C3_COMMON_CONST6", e.UIHome = "C3_COMMON_CONST7", e.Map = "C3_COMMON_CONST8"
            }(n.LoadingDesc || (n.LoadingDesc = {})), function (e) {
                e.Main = "main", e.Game = "game", e.Config = "config", e.UI = "fairygui", e.ICON = "icons", e.FONT = "font", e.Map = "maps", e.BG = "ui_bg", e.ExWarBG = "ui_exWarBg", e.SOUND = "sounds", e.MATERIAL = "materials", e.TM = "ui_tiledMap", e.MOON_TM = "ui_moon_tiledMap", e.WAR_TIP = "ui_war_tip", e.QUIZ = "quiz", e.LEGION_WAR = "ui_legionWar", e.LEGION_WAR_CUP = "ui_legionWarCup", e.LEGION_WAR_CRAFT_CUP = "ui_legionWarCraftCup", e.LEGION_ITEM = "ui_legionItem", e.UI_SKY = "ui_sky", e.UI_MOON_WAR = "ui_moon_war", e.UI_MOON_TILED_MAP = "ui_moon_tiledMap", e.UI_MOON_TMX_MAP = "moon_map1_publish", e.LANGUAGE = "language", e.UI_MAIN = "ui_main", e.UI_HOME = "ui_home", e.UI_TOWER = "ui_tower", e.UI_COMMON = "ui_common", e.Prefabs = "prefabs"
            }(n.BundleName || (n.BundleName = {})), function (e) {
                e.RECRUIT_DIAMOND_TIP = "RECRUIT_DIAMOND_TIP", e.HERO_REBORN_TIP = "HERO_REBORN_TIP", e.GUIDE_STEP = "GUIDE_STEP", e.GUIDE = "GUIDE", e.MUSIC_OPEN = "MUSIC_OPEN", e.SOUND_OPEN = "SOUND_OPEN", e.VIBRATE_OPEN = "VIBRATE_OPEN", e.CLICK_EFFECT_OPEN = "CLICK_EFFECT_OPEN", e.UPDATE_VERSION = "UPDATE_VERSION", e.PRIVACY_OPEN = "PRIVACY_OPEN", e.OLDPLAYERFORTEST = "OLDPLAYERFORTEST", e.LEGION_WAR_RESURRECTION = "LEGION_WAR_RESURRECTION", e.LEGION_WAR_ACCELERATE = "LEGION_WAR_ACCELERATE", e.QUIZ_ANSWER = "QUIZ_ANSWER", e.QUIZ_KILL_NUM = "QUIZ_KILL_NUM", e.QUIZ_BATTLE_ID = "QUIZ_BATTLE_ID", e.QUIZ_EXIT_GAME = "QUIZ_EXIT_GAME", e.QUIZ_CLOTH_ID = "QUIZ_CLOTH_ID2", e.FORCE_LOGIN = "FORCE_LOGIN", e.CHANGE_HEAD_IMG = "CHANGE_HEAD_IMG", e.ONETIME_RED = "ONETIME_RED", e.GLOBAL_SIGN_STEP = "GLOBAL_SIGN_STEP", e.LEGION_BET_SELF_REWARD = "LEGION_BET_SELF_REWARD", e.MAIL = "MAIL_", e.GVG_UP_ANIM = "GVG_UP_ANIM", e.LEGION_WAR_CUR_MATCHZONE_RESULT_ANIM = "LEGION_WAR_CUR_MATCHZONE_RESULT_ANIM", e.CHAT_CHANNEL = "CHAT_CHANNEL", e.NIGHTMARE_SCREEN = "NIGHTMARE_SCREEN", e.NIGHTMARE_TIP = "NIGHTMARE_TIP", e.SKY_TIP = "SKY_TIP", e.KING_CUR_SELECTED_INDEX = "KING_CUR_SELECTED_INDEX", e.XJZW_BOSS_MOVIE_INDEX = "XJZW_BOSS_MOVIE_INDEX", e.LEGIONWAR_DEPLOY = "LEGIONWAR_DEPLOY", e.SURVEY_SUBMIT_TIME = "SURVEY_SUBMIT_TIME", e.CUSTOM_DEPLOY_NAME = "CUSTOM_DEPLOY_NAME", e.TOWER_BATTLE_SPEED = "TOWER_BATTLE_SPEED", e.BOSS_TOWER_BATTLE_SPEED = "BOSS_TOWER_BATTLE_SPEED", e.BOSS_TOWER_TEAM_BATTLE_SPEED = "BOSS_TOWER_TEAM_BATTLE_SPEED", e.GAME_SERVER_FIRST_SHOW = "GAME_SERVER_FIRST_SHOW", e.HAVE_SEEN_CARD_TOWER_SHOP = "HAVE_SEEN_CARD_TOWER_SHOP", e.SHOW_NIGHTMARE_WEEK_ANIM = "SHOW_NIGHTMARE_WEEK_ANIM", e.SHOW_NIGHTMARE_WEEK_FACE = "SHOW_NIGHTMARE_WEEK_FACE", e.AUTO_JUMP_TO_BOSSTOWER = "AUTO_JUMP_TO_BOSSTOWER", e.SEASON_GUIDE_STEP = "SEASON_GUIDE_STEP", e.SEASON_GUIDE = "SEASON_GUIDE", e.BossTowerIgnoreInviteTime = "BossTowerIgnoreInviteTime", e.HasReadOverview = "HasReadOverview", e.DuelPhase = "DUEL_DAY_PHASE"
            }(n.StorageKey || (n.StorageKey = {})), function (e) {
                e.GameScene = "scenes/Game", e.EmptyScene = "scenes/Empty", e.ConfigData = "config", e.LevelData = "level", e.HeroIcons = "icons", e.ItemIcons = "icons", e.EquipIcons = "icons", e.SkillIcons = "icons", e.UILoading = "ui_loading", e.UICommon = "ui_common", e.UIHome = "ui_home", e.UIMain = "ui_main", e.UIBattle = "ui_battle", e.UIBattleScene = "ui_battleScene", e.UIMap = "map", e.UIBg = "ui_bg", e.UIFont = "HYDianHeiW", e.UIQuiz = "ui_quiz", e.UIGenie = "ui_genie", e.UIGuide = "ui_guide", e.UIRoom = "ui_room", e.UIHangUp = "ui_hangUp", e.UIDressingRoom = "ui_dressing_room", e.UISky = "ui_sky", e.UIScale9 = "ui_scale9", e.UIShop = "ui_shop", e.UIFGuiBin = "ui_fguiBin", e.UICareerChallenge = "ui_careerChallenge"
            }(n.ConstantURI || (n.ConstantURI = {})), function (e) {
                e.DustAndScratches = "DustAndScratches", e.UserAgreementPrefab = "UserAgreementPrefab", e.PrivacyPolicyPrefab = "PrivacyPolicyPrefab", e.UserAuthDeferred = "UserAuthDeferred", e.IsLastVersion = "IsLastVersion", e.InitPlatform = "InitPlatform", e.GameBundleCheck = "GameBundleCheck"
            }(n.GlobalVarKey || (n.GlobalVarKey = {})), function (e) {
                e.GameVerLower = "gameVerLower", e.CfgVerDiff = "cfgVerDiff", e.SwitchAccount = "switchAccount"
            }(n.RestartReson || (n.RestartReson = {}));
            var o = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.bundleVers = "", t.serverUrl = "", t.isLast = !1, t
                }

                return __extends(t, e), t
            }(r.DataBase);
            n.Login_ManifestResp = o, (n.MiniAppSession || (n.MiniAppSession = {})).WebMiniGame = "index?platformReplyType=WebMiniGame", (n.CMDS || (n.CMDS = {})).Login_Manifest = "login_manifest", (n.RESPS || (n.RESPS = {})).Login_ManifestResp = "Login_ManifestResp", function (e) {
                e.LoadLocalConfig = "LoadLocalConfig", e.AutoDisposeV2 = "AutoDisposeV2", e.ClientDVCDN = "ClientDVCDN", e.ConfigEncBinAudit7 = "ConfigEncBinAudit7", e.LegionBetGetRankSwitch = "LegionBetGetRankSwitch", e.PixelSwitch = "PixelSwitch", e.miniGameTga = "miniGameTga", e.AutoReleaseSound = "AutoReleaseSound", e.AutoReleaseMusic = "AutoReleaseMusic", e.RestartGame = "RestartGame", e.IOSTTNotice = "IOSTTNotice", e.ChargeNoDelay = "ChargeNoDelay", e.FirstLoginReqData = "FirstLoginReqData", e.BattleVisible = "BattleVisible", e.QuickFire = "QuickFire", e.BattleLevelTest = "BattleLevelTest", e.OpenWebMiniGame = "OpenWebMiniGame", e.SkipXYZW = "SkipXYZW", e.BattleSkipTest2 = "BattleSkipTest2", e.LegionWarTest = "legion:war:test", e.SpineEmptyContent = "SpineEmptyContent", e.StillUseCdnV2 = "StillUseCdnV2", e.StillUseAllCfg = "StillUseAllCfg", e.PKRoomRobot = "PKRoomRobot", e.PayCloseTip = "PayCloseTip", e.DisabledSwitchRole = "DisabledSwitchRole", e.FixWSAndroid = "FixWebSocket", e.TryGotoLegionWar = "TryGotoLegionWar", e.NewResolveDataVer = "NewResolveDataVer", e.UnifyPayLock = "UnifyPayLock", e.PostRollbackResult = "PostRollbackResult", e.PostRollbackLog = "PostRollbackLog", e.CloseTouchFix = "CloseTouchFix", e.FasterLoadHelpText = "FasterLoadHelpText", e.CloseGListItemFix = "CloseGListItemFix", e.NightmareFrameReciprocation = "nightmareFrameReciprocation", e.NetworkWaiting = "NetworkWaiting", e.SkipRemoveFace = "SkipRemoveFace", e.ConfigModifyVerify = "ConfigModifyVerify", e.ForcePostBattleLog = "ForcePostBattleLog", e.PartLoad = "PartLoad", e.LXG_TEST3 = "LXG_TEST3", e.AllLoaderOpen = "AllLoaderOpen", e.CrossDayTask = "CrossDayTask", e.LWDayReconnectTask = "LWDayReconnectTask", e.OtherLoginCheckTask = "OtherLoginCheckTask", e.AFKWorld = "camp:switch", e.LeagueWarReplay = "LeagueWarReplay", e.LegionWarReplay = "LegionWarReplay", e.OssMars = "OssMars", e.OssAli = "OssAli", e.MergeBinOpen = "MergeBinOpen", e.MergeBundleOpen = "MergeBundleOpen", e.FasterSubPage = "FasterSubPage", e.ControllerSubPage = "ControllerSubPage", e.FasterUIStates = "FasterUIStates", e.RemoteQRCode = "RemoteQRCode", e.ReTryBackReward = "ReTryBackReward", e.CloseGameCircle = "CloseGameCircle", e.O4eMsgCache = "O4eMsgCache", e.ShowModePolish = "ShowModePolish", e.ModuleMixUI = "ModuleMixUI", e.ObjectPoolOpen = "ObjectPoolOpen", e.BattleDetailLog = "BattleDetailLog", e.FuncFrameRunOnce = "FuncFrameRunOnce", e.FixSkinError = "FixSkinError", e.LongTipsText = "LongTipsText", e.ShowSurvey = "ShowSurvey", e.LegionWarMapMapping = "LegionWarMapMapping", e.GameServerOpen = "GameServerOpen", e.ForceRename = "ForceRename", e.ForceRenameWX = "ForceRenameWX", e.ByteDanceAuditPay = "ByteDanceAuditPay", e.ByteDanceDiamodPay = "ByteDanceDiamodPay", e.TestUnLockPervious = "TestUnLockPervious", e.MoonWarReplay = "MoonWarReplay", e.CrossDayClaimReward = "CrossDayClaimReward", e.CheckDangerOrder = "CheckDangerOrder", e.CheckWindowsWX = "CheckWindowsWX", e.DebugGame = "DebugGame", e.SimplifyProtocol = "SimplifyProtocol", e.PolishMemory = "PolishMemory", e.FixLoader3D = "FixLoader3D", e.LWNetTestTask = "LWNetTestTask", e.FixLWLastTime = "FixLWLastTime", e.FixTaskMgr = "FixTaskMgr", e.HeadIconRemindSwitch = "HeadIconRemindSwitch", e.FollowGiftSwitch = "FollowGiftSwitch", e.DisposeBattleUITask = "DisposeBattleUITask", e.NotDelayStartPushLevel = "NotDelayStartPushLevel", e.OpenWXBusinessReport = "OpenWxBusinessReport", e.DisposeSeasonScene = "DisposeSeasonScene", e.DisposeSeasonScene2 = "DisposeSeasonScene2", e.PolishSeasonMemory = "PolishSeasonMemory", e.SeasonPushLevel = "SeasonPushLevel", e.PolishProxyDispose = "PolishProxyDispose", e.PolishMidEndDevice = "PolishMidEndDevice", e.PolishHighEndDevice = "PolishHighEndDevice", e.IOSGc = "IOSGC", e.IOSDisposeUI = "IOSDisposeUI", e.BattleSpineRealTime = "BattleSpineRealTime",e.BattleSpineAllRealTime = "BattleSpineAllRealTime",e.FixLandscapeDragBug = "FixLandscapeDragBug",e.ReportDeviceInfo = "ReportDeviceInfo",e.BattleBug = "BattleBug",e.EnableFrameList = "EnableFrameList",e.AsyncDecodeConfig = "AsyncDecodeConfig",e.LocalPushLevel = "LocalPushLevel",e.FixSkeletonErr = "FixSkeletonErr",e.RealDeleteAccount = "RealDeleteAccount"
            }(n.C_SwitchId || (n.C_SwitchId = {})), function (e) {
                e.Green = "green", e.Grey = "grey", e.Red = "red"
            }(n.ColorNames || (n.ColorNames = {})), function (e) {
                e[e.NoNeed = 0] = "NoNeed", e[e.Start = 1] = "Start", e[e.End = 2] = "End"
            }(n.VerifyStep || (n.VerifyStep = {})), cc._RF.pop()
        }, {"@o4e/core": 13}],
        "types-fsm": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "80bf0TDpIpBhrJo/gFwg4+V", "types-fsm"), Object.defineProperty(n, "__esModule", {value: !0}), cc._RF.pop()
        }, {}],
        "types-platform": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "127deN1MhBHoYmebn/ru8Y0", "types-platform"), Object.defineProperty(n, "__esModule", {value: !0}), n.VideoAdType = void 0, function (e) {
                e[e.AutoClick = 0] = "AutoClick"
            }(n.VideoAdType || (n.VideoAdType = {})), cc._RF.pop()
        }, {}],
        "types-promise-ext": [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "aaa69KafyhJU5DpGNbWTQqj", "types-promise-ext"), Object.defineProperty(n, "__esModule", {value: !0}), cc._RF.pop()
        }, {}],
        vedioBtn: [function (e, t, n) {
            "use strict";
            cc._RF.push(t, "b8212f9wlRA9rdQSmyRycdR", "vedioBtn"), Object.defineProperty(n, "__esModule", {value: !0});
            var r, o = e("../../managers/PlatformManager"), i = cc._decorator, a = i.ccclass;
            i.property, function (e) {
                e.None = "", e.Ready = "1", e.Recording = "0", e.Finish = "2"
            }(r || (r = {}));
            var s = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t._recordStatus = r.None, t._recSec = 0, t
                }

                return __extends(t, e), t.prototype.onLoad = function () {
                    return __awaiter(this, void 0, void 0, function () {
                        var e, t = this;
                        return __generator(this, function () {
                            return console.log("VedioBtn onLoad"), e = this.node.ui_ins, this.ui = e, this.setStatus(r.Ready), e.m_cd.text = "", e.onClick(function () {
                                console.log("ui_ins onClick"), t._recSec = 0, t._recordStatus === r.Ready ? (t.setStatus(r.Recording), o.PlatformManager.instance.invokeVedioRecord(!0)) : t._recordStatus === r.Recording && (t.setStatus(r.Ready), o.PlatformManager.instance.invokeVedioRecord(!1), e.m_cd.text = "")
                            }), [2]
                        })
                    })
                }, t.prototype.setStatus = function (e) {
                    this._recordStatus !== e && (this._recordStatus = e, this.ui && (this.ui.m_status.selectedPage = this._recordStatus))
                }, t.prototype.start = function () {
                }, t.prototype._make2 = function (e) {
                    var t = e.toString();
                    return 1 === t.length ? "0" + t : t
                }, t.prototype._sec2minute = function (e) {
                    var t = Math.floor(e / 60), n = e % 60;
                    return this._make2(t) + ":" + this._make2(n)
                }, t.prototype.addSec = function () {
                    ++this._recSec, this.ui && (this.ui.m_cd.text = this._sec2minute(this._recSec))
                }, t.prototype.reset = function () {
                    this._recSec = 0, this.ui && (this.ui.m_cd.text = this._sec2minute(this._recSec))
                }, __decorate([a], t)
            }(cc.Component);
            n.default = s, cc._RF.pop()
        }, {"../../managers/PlatformManager": "PlatformManager"}],
        "version-ext": [function (e, t) {
            "use strict";
            cc._RF.push(t, "79179+xOa5NopaRFJzCLMzJ", "version-ext"), globalThis.CODE_VERSION = "1.68.1", globalThis.BATTLE_VERSION = "7f91491b47", cc._RF.pop()
        }, {}]
    }, {}, ["platform", "polyfills", "emitter", "lower-bound", "p-delay", "p-pipe", "p-queue-kit", "p-queue", "p-series", "p-timeout", "priority-queue", "types-promise-ext", "Defer", "GlobalSignal", "Log", "LoginService", "decorators-common", "MaterialParameterUpdater", "OldFilmShaderHelper", "ext-funs", "ext-switch", "ext-trigger", "ext", "pipe", "FsmState", "StateMachine", "types-fsm", "GlobalEntityManager", "GlobalVarManager", "LocalStorage", "PlatformManager", "ResourceManager", "VerifyHelper", "HortorSwitch", "platform-base", "platform-browser", "platform-bytedance", "platform-dev", "platform-h5", "platform-mix", "platform-native", "platform-qq", "platform-web", "platform-wx", "types-platform", "vedioBtn", "types-common", "Configs", "Game", "Launcher", "UserAgreementAndPrivacyPolicy", "UserAuth", "base-loading", "launcher-init", "load-error", "load-game-scene", "load-manifest", "mini-check-update", "platform-login", "fix-clean-cache-url", "fix-head-image-cross-domain", "fix-ios-touch", "fix-ios14-buffer", "fix-o4e-bytedance", "fix-render-error", "fix-scheduler-updateInvoker", "fix-skeleton-err", "fix-textUtils", "index-patch", "version-ext"]);
});
define("ccRequire.js", function (require, module, exports) {
    "use strict";
    var s = {
        "src/assets/launcher/common/libs/platform/hortor/HSDK.turnpass.min.js": function () {
            return require("src/assets/launcher/common/libs/platform/hortor/HSDK.turnpass.min.js")
        }, "assets/internal/index.js": function () {
            return require("assets/internal/index.js")
        }, "assets/main/index.js": function () {
            return require("assets/main/index.js")
        }
    };
    window.__cocos_require__ = function (n) {
        var r = s[n];
        return r ? r() : function () {
        }
    };
});
define("cocos/cocos2d-js-min.js", function (require, module, exports) {
    (function (t, e, i) {
        function n(i) {
            var r = e[i];
            if (!r) {
                var s = t[i];
                if (!s) return;
                var a = {};
                r = e[i] = {exports: a}, s[0]((function (t) {
                    return n(s[1][t] || t)
                }), r, a)
            }
            return r.exports
        }

        for (var r = 0; r < i.length; r++) n(i[r])
    })({
        1: [(function (t) {
            "use strict";
            t("../core/platform/CCClass");
            var e = t("../core/utils/misc");
            cc.Action = cc.Class({
                name: "cc.Action", ctor: function () {
                    this.originalTarget = null, this.target = null, this.tag = cc.Action.TAG_INVALID
                }, clone: function () {
                    var t = new cc.Action;
                    return t.originalTarget = null, t.target = null, t.tag = this.tag, t
                }, isDone: function () {
                    return !0
                }, startWithTarget: function (t) {
                    this.originalTarget = t, this.target = t
                }, stop: function () {
                    this.target = null
                }, step: function () {
                    cc.logID(1006)
                }, update: function () {
                    cc.logID(1007)
                }, getTarget: function () {
                    return this.target
                }, setTarget: function (t) {
                    this.target = t
                }, getOriginalTarget: function () {
                    return this.originalTarget
                }, setOriginalTarget: function (t) {
                    this.originalTarget = t
                }, getTag: function () {
                    return this.tag
                }, setTag: function (t) {
                    this.tag = t
                }, retain: function () {
                }, release: function () {
                }
            }), cc.Action.TAG_INVALID = -1, cc.FiniteTimeAction = cc.Class({
                name: "cc.FiniteTimeAction",
                extends: cc.Action,
                ctor: function () {
                    this._duration = 0
                },
                getDuration: function () {
                    return this._duration * (this._timesForRepeat || 1)
                },
                setDuration: function (t) {
                    this._duration = t
                },
                reverse: function () {
                    return cc.logID(1008), null
                },
                clone: function () {
                    return new cc.FiniteTimeAction
                }
            }), cc.Speed = cc.Class({
                name: "cc.Speed", extends: cc.Action, ctor: function (t, e) {
                    this._speed = 0, this._innerAction = null, t && this.initWithAction(t, e)
                }, getSpeed: function () {
                    return this._speed
                }, setSpeed: function (t) {
                    this._speed = t
                }, initWithAction: function (t, e) {
                    return t ? (this._innerAction = t, this._speed = e, !0) : (cc.errorID(1021), !1)
                }, clone: function () {
                    var t = new cc.Speed;
                    return t.initWithAction(this._innerAction.clone(), this._speed), t
                }, startWithTarget: function (t) {
                    cc.Action.prototype.startWithTarget.call(this, t), this._innerAction.startWithTarget(t)
                }, stop: function () {
                    this._innerAction.stop(), cc.Action.prototype.stop.call(this)
                }, step: function (t) {
                    this._innerAction.step(t * this._speed)
                }, isDone: function () {
                    return this._innerAction.isDone()
                }, reverse: function () {
                    return new cc.Speed(this._innerAction.reverse(), this._speed)
                }, setInnerAction: function (t) {
                    this._innerAction !== t && (this._innerAction = t)
                }, getInnerAction: function () {
                    return this._innerAction
                }
            }), cc.speed = function (t, e) {
                return new cc.Speed(t, e)
            }, cc.Follow = cc.Class({
                name: "cc.Follow", extends: cc.Action, ctor: function (t, e) {
                    this._followedNode = null, this._boundarySet = !1, this._boundaryFullyCovered = !1, this._halfScreenSize = null, this._fullScreenSize = null, this.leftBoundary = 0, this.rightBoundary = 0, this.topBoundary = 0, this.bottomBoundary = 0, this._worldRect = cc.rect(0, 0, 0, 0), t && (e ? this.initWithTarget(t, e) : this.initWithTarget(t))
                }, clone: function () {
                    var t = new cc.Follow, e = this._worldRect, i = new cc.Rect(e.x, e.y, e.width, e.height);
                    return t.initWithTarget(this._followedNode, i), t
                }, isBoundarySet: function () {
                    return this._boundarySet
                }, setBoundarySet: function (t) {
                    this._boundarySet = t
                }, setBoudarySet: function (t) {
                    this.setBoundarySet(t)
                }, initWithTarget: function (t, e) {
                    if (!t) return cc.errorID(1022), !1;
                    e = e || cc.rect(0, 0, 0, 0), this._followedNode = t, this._worldRect = e, this._boundarySet = !(0 === e.width && 0 === e.height), this._boundaryFullyCovered = !1;
                    var i = cc.winSize;
                    return this._fullScreenSize = cc.v2(i.width, i.height), this._halfScreenSize = this._fullScreenSize.mul(.5), this._boundarySet && (this.leftBoundary = -(e.x + e.width - this._fullScreenSize.x), this.rightBoundary = -e.x, this.topBoundary = -e.y, this.bottomBoundary = -(e.y + e.height - this._fullScreenSize.y), this.rightBoundary < this.leftBoundary && (this.rightBoundary = this.leftBoundary = (this.leftBoundary + this.rightBoundary) / 2), this.topBoundary < this.bottomBoundary && (this.topBoundary = this.bottomBoundary = (this.topBoundary + this.bottomBoundary) / 2), this.topBoundary === this.bottomBoundary && this.leftBoundary === this.rightBoundary && (this._boundaryFullyCovered = !0)), !0
                }, step: function () {
                    var t = this.target.convertToWorldSpaceAR(cc.Vec2.ZERO),
                        i = this._followedNode.convertToWorldSpaceAR(cc.Vec2.ZERO), n = t.sub(i),
                        r = this.target.parent.convertToNodeSpaceAR(n.add(this._halfScreenSize));
                    if (this._boundarySet) {
                        if (this._boundaryFullyCovered) return;
                        this.target.setPosition(e.clampf(r.x, this.leftBoundary, this.rightBoundary), e.clampf(r.y, this.bottomBoundary, this.topBoundary))
                    } else this.target.setPosition(r.x, r.y)
                }, isDone: function () {
                    return !this._followedNode.activeInHierarchy
                }, stop: function () {
                    this.target = null, cc.Action.prototype.stop.call(this)
                }
            }), cc.follow = function (t, e) {
                return new cc.Follow(t, e)
            }
        }), {"../core/platform/CCClass": 167, "../core/utils/misc": 250}],
        2: [(function () {
            "use strict";

            function t(t, e) {
                return t[Math.min(t.length - 1, Math.max(e, 0))]
            }

            function e(t) {
                for (var e = [], i = t.length - 1; i >= 0; i--) e.push(cc.v2(t[i].x, t[i].y));
                return e
            }

            function i(t) {
                for (var e = [], i = 0; i < t.length; i++) e.push(cc.v2(t[i].x, t[i].y));
                return e
            }

            cc.CardinalSplineTo = cc.Class({
                name: "cc.CardinalSplineTo", extends: cc.ActionInterval, ctor: function (t, e, i) {
                    this._points = [], this._deltaT = 0, this._tension = 0, this._previousPosition = null, this._accumulatedDiff = null, void 0 !== i && cc.CardinalSplineTo.prototype.initWithDuration.call(this, t, e, i)
                }, initWithDuration: function (t, e, i) {
                    return e && 0 !== e.length ? !!cc.ActionInterval.prototype.initWithDuration.call(this, t) && (this.setPoints(e), this._tension = i, !0) : (cc.errorID(1024), !1)
                }, clone: function () {
                    var t = new cc.CardinalSplineTo;
                    return t.initWithDuration(this._duration, i(this._points), this._tension), t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t), this._deltaT = 1 / (this._points.length - 1), this._previousPosition = cc.v2(this.target.x, this.target.y), this._accumulatedDiff = cc.v2(0, 0)
                }, update: function (e) {
                    var i, n;
                    e = this._computeEaseTime(e);
                    var r = this._points;
                    if (1 === e) i = r.length - 1, n = 1; else {
                        var s = this._deltaT;
                        n = (e - s * (i = 0 | e / s)) / s
                    }
                    var a, o, c, l, h, u, f, d, _, p, v, g, m, y, T, E,
                        A = (a = t(r, i - 1), o = t(r, i - 0), c = t(r, i + 1), l = t(r, i + 2), _ = (d = (1 - this._tension) / 2) * (2 * (u = (h = n) * h) - (f = u * h) - h), p = d * (-f + u) + (2 * f - 3 * u) + 1, v = d * (f - 2 * u + h) + -2 * f + 3 * u, g = d * (f - u), m = a.x * _ + o.x * p + c.x * v + l.x * g, y = a.y * _ + o.y * p + c.y * v + l.y * g, cc.v2(m, y));
                    if (cc.macro.ENABLE_STACKABLE_ACTIONS && (T = this.target.x - this._previousPosition.x, E = this.target.y - this._previousPosition.y, 0 !== T || 0 !== E)) {
                        var b = this._accumulatedDiff;
                        T = b.x + T, E = b.y + E, b.x = T, b.y = E, A.x += T, A.y += E
                    }
                    this.updatePosition(A)
                }, reverse: function () {
                    var t = e(this._points);
                    return cc.cardinalSplineTo(this._duration, t, this._tension)
                }, updatePosition: function (t) {
                    this.target.setPosition(t), this._previousPosition = t
                }, getPoints: function () {
                    return this._points
                }, setPoints: function (t) {
                    this._points = t
                }
            }), cc.cardinalSplineTo = function (t, e, i) {
                return new cc.CardinalSplineTo(t, e, i)
            }, cc.CardinalSplineBy = cc.Class({
                name: "cc.CardinalSplineBy",
                extends: cc.CardinalSplineTo,
                ctor: function (t, e, i) {
                    this._startPosition = cc.v2(0, 0), void 0 !== i && this.initWithDuration(t, e, i)
                },
                startWithTarget: function (t) {
                    cc.CardinalSplineTo.prototype.startWithTarget.call(this, t), this._startPosition.x = t.x, this._startPosition.y = t.y
                },
                reverse: function () {
                    for (var t, i = this._points.slice(), n = i[0], r = 1; r < i.length; ++r) t = i[r], i[r] = t.sub(n), n = t;
                    var s = e(i);
                    for (n = s[s.length - 1], s.pop(), n.x = -n.x, n.y = -n.y, s.unshift(n), r = 1; r < s.length; ++r) (t = s[r]).x = -t.x, t.y = -t.y, t.x += n.x, t.y += n.y, s[r] = t, n = t;
                    return cc.cardinalSplineBy(this._duration, s, this._tension)
                },
                updatePosition: function (t) {
                    var e = this._startPosition, i = t.x + e.x, n = t.y + e.y;
                    this._previousPosition.x = i, this._previousPosition.y = n, this.target.setPosition(i, n)
                },
                clone: function () {
                    var t = new cc.CardinalSplineBy;
                    return t.initWithDuration(this._duration, i(this._points), this._tension), t
                }
            }), cc.cardinalSplineBy = function (t, e, i) {
                return new cc.CardinalSplineBy(t, e, i)
            }, cc.CatmullRomTo = cc.Class({
                name: "cc.CatmullRomTo",
                extends: cc.CardinalSplineTo,
                ctor: function (t, e) {
                    e && this.initWithDuration(t, e)
                },
                initWithDuration: function (t, e) {
                    return cc.CardinalSplineTo.prototype.initWithDuration.call(this, t, e, .5)
                },
                clone: function () {
                    var t = new cc.CatmullRomTo;
                    return t.initWithDuration(this._duration, i(this._points)), t
                }
            }), cc.catmullRomTo = function (t, e) {
                return new cc.CatmullRomTo(t, e)
            }, cc.CatmullRomBy = cc.Class({
                name: "cc.CatmullRomBy",
                extends: cc.CardinalSplineBy,
                ctor: function (t, e) {
                    e && this.initWithDuration(t, e)
                },
                initWithDuration: function (t, e) {
                    return cc.CardinalSplineTo.prototype.initWithDuration.call(this, t, e, .5)
                },
                clone: function () {
                    var t = new cc.CatmullRomBy;
                    return t.initWithDuration(this._duration, i(this._points)), t
                }
            }), cc.catmullRomBy = function (t, e) {
                return new cc.CatmullRomBy(t, e)
            }
        }), {}],
        3: [(function () {
            "use strict";
            cc.easeIn = function (t) {
                return {
                    _rate: t, easing: function (t) {
                        return Math.pow(t, this._rate)
                    }, reverse: function () {
                        return cc.easeIn(1 / this._rate)
                    }
                }
            }, cc.easeOut = function (t) {
                return {
                    _rate: t, easing: function (t) {
                        return Math.pow(t, 1 / this._rate)
                    }, reverse: function () {
                        return cc.easeOut(1 / this._rate)
                    }
                }
            }, cc.easeInOut = function (t) {
                return {
                    _rate: t, easing: function (t) {
                        return (t *= 2) < 1 ? .5 * Math.pow(t, this._rate) : 1 - .5 * Math.pow(2 - t, this._rate)
                    }, reverse: function () {
                        return cc.easeInOut(this._rate)
                    }
                }
            };
            var t = {
                easing: function (t) {
                    return 0 === t ? 0 : Math.pow(2, 10 * (t - 1))
                }, reverse: function () {
                    return e
                }
            };
            cc.easeExponentialIn = function () {
                return t
            };
            var e = {
                easing: function (t) {
                    return 1 === t ? 1 : 1 - Math.pow(2, -10 * t)
                }, reverse: function () {
                    return t
                }
            };
            cc.easeExponentialOut = function () {
                return e
            };
            var i = {
                easing: function (t) {
                    return 1 !== t && 0 !== t ? (t *= 2) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * (t - 1))) : t
                }, reverse: function () {
                    return i
                }
            };
            cc.easeExponentialInOut = function () {
                return i
            };
            var n = {
                easing: function (t) {
                    return 0 === t || 1 === t ? t : -1 * Math.cos(t * Math.PI / 2) + 1
                }, reverse: function () {
                    return r
                }
            };
            cc.easeSineIn = function () {
                return n
            };
            var r = {
                easing: function (t) {
                    return 0 === t || 1 === t ? t : Math.sin(t * Math.PI / 2)
                }, reverse: function () {
                    return n
                }
            };
            cc.easeSineOut = function () {
                return r
            };
            var s = {
                easing: function (t) {
                    return 0 === t || 1 === t ? t : -.5 * (Math.cos(Math.PI * t) - 1)
                }, reverse: function () {
                    return s
                }
            };
            cc.easeSineInOut = function () {
                return s
            };
            var a = {
                easing: function (t) {
                    return 0 === t || 1 === t ? t : (t -= 1, -Math.pow(2, 10 * t) * Math.sin((t - .075) * Math.PI * 2 / .3))
                }, reverse: function () {
                    return o
                }
            };
            cc.easeElasticIn = function (t) {
                return t && .3 !== t ? {
                    _period: t, easing: function (t) {
                        return 0 === t || 1 === t ? t : (t -= 1, -Math.pow(2, 10 * t) * Math.sin((t - this._period / 4) * Math.PI * 2 / this._period))
                    }, reverse: function () {
                        return cc.easeElasticOut(this._period)
                    }
                } : a
            };
            var o = {
                easing: function (t) {
                    return 0 === t || 1 === t ? t : Math.pow(2, -10 * t) * Math.sin((t - .075) * Math.PI * 2 / .3) + 1
                }, reverse: function () {
                    return a
                }
            };

            function c(t) {
                return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375
            }

            cc.easeElasticOut = function (t) {
                return t && .3 !== t ? {
                    _period: t, easing: function (t) {
                        return 0 === t || 1 === t ? t : Math.pow(2, -10 * t) * Math.sin((t - this._period / 4) * Math.PI * 2 / this._period) + 1
                    }, reverse: function () {
                        return cc.easeElasticIn(this._period)
                    }
                } : o
            }, cc.easeElasticInOut = function (t) {
                return {
                    _period: t = t || .3, easing: function (t) {
                        var e = 0, i = this._period;
                        if (0 === t || 1 === t) e = t; else {
                            t *= 2, i || (i = this._period = .3 * 1.5);
                            var n = i / 4;
                            e = (t -= 1) < 0 ? -.5 * Math.pow(2, 10 * t) * Math.sin((t - n) * Math.PI * 2 / i) : Math.pow(2, -10 * t) * Math.sin((t - n) * Math.PI * 2 / i) * .5 + 1
                        }
                        return e
                    }, reverse: function () {
                        return cc.easeElasticInOut(this._period)
                    }
                }
            };
            var l = {
                easing: function (t) {
                    return 1 - c(1 - t)
                }, reverse: function () {
                    return h
                }
            };
            cc.easeBounceIn = function () {
                return l
            };
            var h = {
                easing: function (t) {
                    return c(t)
                }, reverse: function () {
                    return l
                }
            };
            cc.easeBounceOut = function () {
                return h
            };
            var u = {
                easing: function (t) {
                    return t < .5 ? .5 * (1 - c(1 - (t *= 2))) : .5 * c(2 * t - 1) + .5
                }, reverse: function () {
                    return u
                }
            };
            cc.easeBounceInOut = function () {
                return u
            };
            var f = {
                easing: function (t) {
                    return 0 === t || 1 === t ? t : t * t * (2.70158 * t - 1.70158)
                }, reverse: function () {
                    return d
                }
            };
            cc.easeBackIn = function () {
                return f
            };
            var d = {
                easing: function (t) {
                    return 0 === t ? 0 : (t -= 1) * t * (2.70158 * t + 1.70158) + 1
                }, reverse: function () {
                    return f
                }
            };
            cc.easeBackOut = function () {
                return d
            };
            var _ = {
                easing: function (t) {
                    return (t *= 2) < 1 ? t * t * (3.5949095 * t - 2.5949095) / 2 : (t -= 2) * t * (3.5949095 * t + 2.5949095) / 2 + 1
                }, reverse: function () {
                    return _
                }
            };
            cc.easeBackInOut = function () {
                return _
            }, cc.easeBezierAction = function (t, e, i, n) {
                return {
                    easing: function (r) {
                        return Math.pow(1 - r, 3) * t + 3 * r * Math.pow(1 - r, 2) * e + 3 * Math.pow(r, 2) * (1 - r) * i + Math.pow(r, 3) * n
                    }, reverse: function () {
                        return cc.easeBezierAction(n, i, e, t)
                    }
                }
            };
            var p = {
                easing: function (t) {
                    return Math.pow(t, 2)
                }, reverse: function () {
                    return p
                }
            };
            cc.easeQuadraticActionIn = function () {
                return p
            };
            var v = {
                easing: function (t) {
                    return -t * (t - 2)
                }, reverse: function () {
                    return v
                }
            };
            cc.easeQuadraticActionOut = function () {
                return v
            };
            var g = {
                easing: function (t) {
                    return (t *= 2) < 1 ? t * t * .5 : -.5 * (--t * (t - 2) - 1)
                }, reverse: function () {
                    return g
                }
            };
            cc.easeQuadraticActionInOut = function () {
                return g
            };
            var m = {
                easing: function (t) {
                    return t * t * t * t
                }, reverse: function () {
                    return m
                }
            };
            cc.easeQuarticActionIn = function () {
                return m
            };
            var y = {
                easing: function (t) {
                    return -((t -= 1) * t * t * t - 1)
                }, reverse: function () {
                    return y
                }
            };
            cc.easeQuarticActionOut = function () {
                return y
            };
            var T = {
                easing: function (t) {
                    return (t *= 2) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2)
                }, reverse: function () {
                    return T
                }
            };
            cc.easeQuarticActionInOut = function () {
                return T
            };
            var E = {
                easing: function (t) {
                    return t * t * t * t * t
                }, reverse: function () {
                    return E
                }
            };
            cc.easeQuinticActionIn = function () {
                return E
            };
            var A = {
                easing: function (t) {
                    return (t -= 1) * t * t * t * t + 1
                }, reverse: function () {
                    return A
                }
            };
            cc.easeQuinticActionOut = function () {
                return A
            };
            var b = {
                easing: function (t) {
                    return (t *= 2) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2)
                }, reverse: function () {
                    return b
                }
            };
            cc.easeQuinticActionInOut = function () {
                return b
            };
            var x = {
                easing: function (t) {
                    return -1 * (Math.sqrt(1 - t * t) - 1)
                }, reverse: function () {
                    return x
                }
            };
            cc.easeCircleActionIn = function () {
                return x
            };
            var C = {
                easing: function (t) {
                    return t -= 1, Math.sqrt(1 - t * t)
                }, reverse: function () {
                    return C
                }
            };
            cc.easeCircleActionOut = function () {
                return C
            };
            var S = {
                easing: function (t) {
                    return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : (t -= 2, .5 * (Math.sqrt(1 - t * t) + 1))
                }, reverse: function () {
                    return S
                }
            };
            cc.easeCircleActionInOut = function () {
                return S
            };
            var w = {
                easing: function (t) {
                    return t * t * t
                }, reverse: function () {
                    return w
                }
            };
            cc.easeCubicActionIn = function () {
                return w
            };
            var M = {
                easing: function (t) {
                    return (t -= 1) * t * t + 1
                }, reverse: function () {
                    return M
                }
            };
            cc.easeCubicActionOut = function () {
                return M
            };
            var R = {
                easing: function (t) {
                    return (t *= 2) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2)
                }, reverse: function () {
                    return R
                }
            };
            cc.easeCubicActionInOut = function () {
                return R
            }
        }), {}],
        4: [(function () {
            "use strict";
            cc.ActionInstant = cc.Class({
                name: "cc.ActionInstant", extends: cc.FiniteTimeAction, isDone: function () {
                    return !0
                }, step: function () {
                    this.update(1)
                }, update: function () {
                }, reverse: function () {
                    return this.clone()
                }, clone: function () {
                    return new cc.ActionInstant
                }
            }), cc.Show = cc.Class({
                name: "cc.Show", extends: cc.ActionInstant, update: function () {
                    for (var t = this.target.getComponentsInChildren(cc.RenderComponent), e = 0; e < t.length; ++e) t[e].enabled = !0
                }, reverse: function () {
                    return new cc.Hide
                }, clone: function () {
                    return new cc.Show
                }
            }), cc.show = function () {
                return new cc.Show
            }, cc.Hide = cc.Class({
                name: "cc.Hide", extends: cc.ActionInstant, update: function () {
                    for (var t = this.target.getComponentsInChildren(cc.RenderComponent), e = 0; e < t.length; ++e) t[e].enabled = !1
                }, reverse: function () {
                    return new cc.Show
                }, clone: function () {
                    return new cc.Hide
                }
            }), cc.hide = function () {
                return new cc.Hide
            }, cc.ToggleVisibility = cc.Class({
                name: "cc.ToggleVisibility",
                extends: cc.ActionInstant,
                update: function () {
                    for (var t = this.target.getComponentsInChildren(cc.RenderComponent), e = 0; e < t.length; ++e) {
                        var i = t[e];
                        i.enabled = !i.enabled
                    }
                },
                reverse: function () {
                    return new cc.ToggleVisibility
                },
                clone: function () {
                    return new cc.ToggleVisibility
                }
            }), cc.toggleVisibility = function () {
                return new cc.ToggleVisibility
            }, cc.RemoveSelf = cc.Class({
                name: "cc.RemoveSelf", extends: cc.ActionInstant, ctor: function (t) {
                    this._isNeedCleanUp = !0, void 0 !== t && this.init(t)
                }, update: function () {
                    this.target.removeFromParent(this._isNeedCleanUp)
                }, init: function (t) {
                    return this._isNeedCleanUp = t, !0
                }, reverse: function () {
                    return new cc.RemoveSelf(this._isNeedCleanUp)
                }, clone: function () {
                    return new cc.RemoveSelf(this._isNeedCleanUp)
                }
            }), cc.removeSelf = function (t) {
                return new cc.RemoveSelf(t)
            }, cc.DestroySelf = cc.Class({
                name: "cc.DestroySelf", extends: cc.ActionInstant, update: function () {
                    this.target.destroy()
                }, reverse: function () {
                    return new cc.DestroySelf
                }, clone: function () {
                    return new cc.DestroySelf
                }
            }), cc.destroySelf = function () {
                return new cc.DestroySelf
            }, cc.FlipX = cc.Class({
                name: "cc.FlipX", extends: cc.ActionInstant, ctor: function (t) {
                    this._flippedX = !1, void 0 !== t && this.initWithFlipX(t)
                }, initWithFlipX: function (t) {
                    return this._flippedX = t, !0
                }, update: function () {
                    this.target.scaleX = Math.abs(this.target.scaleX) * (this._flippedX ? -1 : 1)
                }, reverse: function () {
                    return new cc.FlipX(!this._flippedX)
                }, clone: function () {
                    var t = new cc.FlipX;
                    return t.initWithFlipX(this._flippedX), t
                }
            }), cc.flipX = function (t) {
                return new cc.FlipX(t)
            }, cc.FlipY = cc.Class({
                name: "cc.FlipY", extends: cc.ActionInstant, ctor: function (t) {
                    this._flippedY = !1, void 0 !== t && this.initWithFlipY(t)
                }, initWithFlipY: function (t) {
                    return this._flippedY = t, !0
                }, update: function () {
                    this.target.scaleY = Math.abs(this.target.scaleY) * (this._flippedY ? -1 : 1)
                }, reverse: function () {
                    return new cc.FlipY(!this._flippedY)
                }, clone: function () {
                    var t = new cc.FlipY;
                    return t.initWithFlipY(this._flippedY), t
                }
            }), cc.flipY = function (t) {
                return new cc.FlipY(t)
            }, cc.Place = cc.Class({
                name: "cc.Place", extends: cc.ActionInstant, ctor: function (t, e) {
                    this._x = 0, this._y = 0, void 0 !== t && (void 0 !== t.x && (e = t.y, t = t.x), this.initWithPosition(t, e))
                }, initWithPosition: function (t, e) {
                    return this._x = t, this._y = e, !0
                }, update: function () {
                    this.target.setPosition(this._x, this._y)
                }, clone: function () {
                    var t = new cc.Place;
                    return t.initWithPosition(this._x, this._y), t
                }
            }), cc.place = function (t, e) {
                return new cc.Place(t, e)
            }, cc.CallFunc = cc.Class({
                name: "cc.CallFunc", extends: cc.ActionInstant, ctor: function (t, e, i) {
                    this._selectorTarget = null, this._function = null, this._data = null, this.initWithFunction(t, e, i)
                }, initWithFunction: function (t, e, i) {
                    return t && (this._function = t), e && (this._selectorTarget = e), void 0 !== i && (this._data = i), !0
                }, execute: function () {
                    this._function && this._function.call(this._selectorTarget, this.target, this._data)
                }, update: function () {
                    this.execute()
                }, getTargetCallback: function () {
                    return this._selectorTarget
                }, setTargetCallback: function (t) {
                    t !== this._selectorTarget && (this._selectorTarget && (this._selectorTarget = null), this._selectorTarget = t)
                }, clone: function () {
                    var t = new cc.CallFunc;
                    return t.initWithFunction(this._function, this._selectorTarget, this._data), t
                }
            }), cc.callFunc = function (t, e, i) {
                return new cc.CallFunc(t, e, i)
            }
        }), {}],
        5: [(function () {
            "use strict";

            function t(t, e, i, n, r) {
                return Math.pow(1 - r, 3) * t + 3 * r * Math.pow(1 - r, 2) * e + 3 * Math.pow(r, 2) * (1 - r) * i + Math.pow(r, 3) * n
            }

            cc.ActionInterval = cc.Class({
                name: "cc.ActionInterval", extends: cc.FiniteTimeAction, ctor: function (t) {
                    this.MAX_VALUE = 2, this._elapsed = 0, this._firstTick = !1, this._easeList = null, this._speed = 1, this._timesForRepeat = 1, this._repeatForever = !1, this._repeatMethod = !1, this._speedMethod = !1, void 0 !== t && cc.ActionInterval.prototype.initWithDuration.call(this, t)
                }, getElapsed: function () {
                    return this._elapsed
                }, initWithDuration: function (t) {
                    return this._duration = 0 === t ? cc.macro.FLT_EPSILON : t, this._elapsed = 0, this._firstTick = !0, !0
                }, isDone: function () {
                    return this._elapsed >= this._duration
                }, _cloneDecoration: function (t) {
                    t._repeatForever = this._repeatForever, t._speed = this._speed, t._timesForRepeat = this._timesForRepeat, t._easeList = this._easeList, t._speedMethod = this._speedMethod, t._repeatMethod = this._repeatMethod
                }, _reverseEaseList: function (t) {
                    if (this._easeList) {
                        t._easeList = [];
                        for (var e = 0; e < this._easeList.length; e++) t._easeList.push(this._easeList[e].reverse())
                    }
                }, clone: function () {
                    var t = new cc.ActionInterval(this._duration);
                    return this._cloneDecoration(t), t
                }, easing: function () {
                    this._easeList ? this._easeList.length = 0 : this._easeList = [];
                    for (var t = 0; t < arguments.length; t++) this._easeList.push(arguments[t]);
                    return this
                }, _computeEaseTime: function (t) {
                    var e = this._easeList;
                    if (!e || 0 === e.length) return t;
                    for (var i = 0, n = e.length; i < n; i++) t = e[i].easing(t);
                    return t
                }, step: function (t) {
                    this._firstTick ? (this._firstTick = !1, this._elapsed = 0) : this._elapsed += t;
                    var e = this._elapsed / (this._duration > 1.192092896e-7 ? this._duration : 1.192092896e-7);
                    e = 1 > e ? e : 1, this.update(e > 0 ? e : 0), this._repeatMethod && this._timesForRepeat > 1 && this.isDone() && (this._repeatForever || this._timesForRepeat--, this.startWithTarget(this.target), this.step(this._elapsed - this._duration))
                }, startWithTarget: function (t) {
                    cc.Action.prototype.startWithTarget.call(this, t), this._elapsed = 0, this._firstTick = !0
                }, reverse: function () {
                    return cc.logID(1010), null
                }, setAmplitudeRate: function () {
                    cc.logID(1011)
                }, getAmplitudeRate: function () {
                    return cc.logID(1012), 0
                }, speed: function (t) {
                    return t <= 0 ? (cc.logID(1013), this) : (this._speedMethod = !0, this._speed *= t, this)
                }, getSpeed: function () {
                    return this._speed
                }, setSpeed: function (t) {
                    return this._speed = t, this
                }, repeat: function (t) {
                    return t = Math.round(t), isNaN(t) || t < 1 ? (cc.logID(1014), this) : (this._repeatMethod = !0, this._timesForRepeat *= t, this)
                }, repeatForever: function () {
                    return this._repeatMethod = !0, this._timesForRepeat = this.MAX_VALUE, this._repeatForever = !0, this
                }
            }), cc.actionInterval = function (t) {
                return new cc.ActionInterval(t)
            }, cc.Sequence = cc.Class({
                name: "cc.Sequence", extends: cc.ActionInterval, ctor: function (t) {
                    this._actions = [], this._split = null, this._last = 0, this._reversed = !1;
                    var e = t instanceof Array ? t : arguments;
                    if (1 !== e.length) {
                        var i = e.length - 1;
                        if (i >= 0 && null == e[i] && cc.logID(1015), i >= 0) {
                            for (var n, r = e[0], s = 1; s < i; s++) e[s] && (n = r, r = cc.Sequence._actionOneTwo(n, e[s]));
                            this.initWithTwoActions(r, e[i])
                        }
                    } else cc.errorID(1019)
                }, initWithTwoActions: function (t, e) {
                    if (!t || !e) return cc.errorID(1025), !1;
                    var i = t._duration, n = e._duration,
                        r = (i *= t._repeatMethod ? t._timesForRepeat : 1) + (n *= e._repeatMethod ? e._timesForRepeat : 1);
                    return this.initWithDuration(r), this._actions[0] = t, this._actions[1] = e, !0
                }, clone: function () {
                    var t = new cc.Sequence;
                    return this._cloneDecoration(t), t.initWithTwoActions(this._actions[0].clone(), this._actions[1].clone()), t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t), this._split = this._actions[0]._duration / this._duration, this._split *= this._actions[0]._repeatMethod ? this._actions[0]._timesForRepeat : 1, this._last = -1
                }, stop: function () {
                    -1 !== this._last && this._actions[this._last].stop(), cc.Action.prototype.stop.call(this)
                }, update: function (t) {
                    var e, i, n = 0, r = this._split, s = this._actions, a = this._last;
                    (t = this._computeEaseTime(t)) < r ? (e = 0 !== r ? t / r : 1, 0 === n && 1 === a && this._reversed && (s[1].update(0), s[1].stop())) : (n = 1, e = 1 === r ? 1 : (t - r) / (1 - r), -1 === a && (s[0].startWithTarget(this.target), s[0].update(1), s[0].stop()), 0 === a && (s[0].update(1), s[0].stop())), i = s[n], a === n && i.isDone() || (a !== n && i.startWithTarget(this.target), e *= i._timesForRepeat, i.update(e > 1 ? e % 1 : e), this._last = n)
                }, reverse: function () {
                    var t = cc.Sequence._actionOneTwo(this._actions[1].reverse(), this._actions[0].reverse());
                    return this._cloneDecoration(t), this._reverseEaseList(t), t._reversed = !0, t
                }
            }), cc.sequence = function (t) {
                var e = t instanceof Array ? t : arguments;
                if (1 === e.length) return cc.errorID(1019), null;
                var i = e.length - 1;
                i >= 0 && null == e[i] && cc.logID(1015);
                var n = null;
                if (i >= 0) {
                    n = e[0];
                    for (var r = 1; r <= i; r++) e[r] && (n = cc.Sequence._actionOneTwo(n, e[r]))
                }
                return n
            }, cc.Sequence._actionOneTwo = function (t, e) {
                var i = new cc.Sequence;
                return i.initWithTwoActions(t, e), i
            }, cc.Repeat = cc.Class({
                name: "cc.Repeat", extends: cc.ActionInterval, ctor: function (t, e) {
                    this._times = 0, this._total = 0, this._nextDt = 0, this._actionInstant = !1, this._innerAction = null, void 0 !== e && this.initWithAction(t, e)
                }, initWithAction: function (t, e) {
                    var i = t._duration * e;
                    return !!this.initWithDuration(i) && (this._times = e, this._innerAction = t, t instanceof cc.ActionInstant && (this._actionInstant = !0, this._times -= 1), this._total = 0, !0)
                }, clone: function () {
                    var t = new cc.Repeat;
                    return this._cloneDecoration(t), t.initWithAction(this._innerAction.clone(), this._times), t
                }, startWithTarget: function (t) {
                    this._total = 0, this._nextDt = this._innerAction._duration / this._duration, cc.ActionInterval.prototype.startWithTarget.call(this, t), this._innerAction.startWithTarget(t)
                }, stop: function () {
                    this._innerAction.stop(), cc.Action.prototype.stop.call(this)
                }, update: function (t) {
                    t = this._computeEaseTime(t);
                    var e = this._innerAction, i = this._duration, n = this._times, r = this._nextDt;
                    if (t >= r) {
                        for (; t > r && this._total < n;) e.update(1), this._total++, e.stop(), e.startWithTarget(this.target), r += e._duration / i, this._nextDt = r > 1 ? 1 : r;
                        t >= 1 && this._total < n && (e.update(1), this._total++), this._actionInstant || (this._total === n ? e.stop() : e.update(t - (r - e._duration / i)))
                    } else e.update(t * n % 1)
                }, isDone: function () {
                    return this._total === this._times
                }, reverse: function () {
                    var t = new cc.Repeat(this._innerAction.reverse(), this._times);
                    return this._cloneDecoration(t), this._reverseEaseList(t), t
                }, setInnerAction: function (t) {
                    this._innerAction !== t && (this._innerAction = t)
                }, getInnerAction: function () {
                    return this._innerAction
                }
            }), cc.repeat = function (t, e) {
                return new cc.Repeat(t, e)
            }, cc.repeatForever = function (t) {
                return new cc.RepeatForever(t)
            }, cc.RepeatForever = cc.Class({
                name: "cc.RepeatForever", extends: cc.ActionInterval, ctor: function (t) {
                    this._innerAction = null, t && this.initWithAction(t)
                }, initWithAction: function (t) {
                    return t ? (this._innerAction = t, !0) : (cc.errorID(1026), !1)
                }, clone: function () {
                    var t = new cc.RepeatForever;
                    return this._cloneDecoration(t), t.initWithAction(this._innerAction.clone()), t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t), this._innerAction.startWithTarget(t)
                }, step: function (t) {
                    var e = this._innerAction;
                    e.step(t), e.isDone() && (e.startWithTarget(this.target), e.step(e.getElapsed() - e._duration))
                }, isDone: function () {
                    return !1
                }, reverse: function () {
                    var t = new cc.RepeatForever(this._innerAction.reverse());
                    return this._cloneDecoration(t), this._reverseEaseList(t), t
                }, setInnerAction: function (t) {
                    this._innerAction !== t && (this._innerAction = t)
                }, getInnerAction: function () {
                    return this._innerAction
                }
            }), cc.repeatForever = function (t) {
                return new cc.RepeatForever(t)
            }, cc.Spawn = cc.Class({
                name: "cc.Spawn", extends: cc.ActionInterval, ctor: function (t) {
                    this._one = null, this._two = null;
                    var e = t instanceof Array ? t : arguments;
                    if (1 !== e.length) {
                        var i = e.length - 1;
                        if (i >= 0 && null == e[i] && cc.logID(1015), i >= 0) {
                            for (var n, r = e[0], s = 1; s < i; s++) e[s] && (n = r, r = cc.Spawn._actionOneTwo(n, e[s]));
                            this.initWithTwoActions(r, e[i])
                        }
                    } else cc.errorID(1020)
                }, initWithTwoActions: function (t, e) {
                    if (!t || !e) return cc.errorID(1027), !1;
                    var i = !1, n = t._duration, r = e._duration;
                    return this.initWithDuration(Math.max(n, r)) && (this._one = t, this._two = e, n > r ? this._two = cc.Sequence._actionOneTwo(e, cc.delayTime(n - r)) : n < r && (this._one = cc.Sequence._actionOneTwo(t, cc.delayTime(r - n))), i = !0), i
                }, clone: function () {
                    var t = new cc.Spawn;
                    return this._cloneDecoration(t), t.initWithTwoActions(this._one.clone(), this._two.clone()), t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t), this._one.startWithTarget(t), this._two.startWithTarget(t)
                }, stop: function () {
                    this._one.stop(), this._two.stop(), cc.Action.prototype.stop.call(this)
                }, update: function (t) {
                    t = this._computeEaseTime(t), this._one && this._one.update(t), this._two && this._two.update(t)
                }, reverse: function () {
                    var t = cc.Spawn._actionOneTwo(this._one.reverse(), this._two.reverse());
                    return this._cloneDecoration(t), this._reverseEaseList(t), t
                }
            }), cc.spawn = function (t) {
                var e = t instanceof Array ? t : arguments;
                if (1 === e.length) return cc.errorID(1020), null;
                e.length > 0 && null == e[e.length - 1] && cc.logID(1015);
                for (var i = e[0], n = 1; n < e.length; n++) null != e[n] && (i = cc.Spawn._actionOneTwo(i, e[n]));
                return i
            }, cc.Spawn._actionOneTwo = function (t, e) {
                var i = new cc.Spawn;
                return i.initWithTwoActions(t, e), i
            }, cc.RotateTo = cc.Class({
                name: "cc.RotateTo",
                extends: cc.ActionInterval,
                statics: {_reverse: !1},
                ctor: function (t, e) {
                    this._startAngle = 0, this._dstAngle = 0, this._angle = 0, void 0 !== e && this.initWithDuration(t, e)
                },
                initWithDuration: function (t, e) {
                    return !!cc.ActionInterval.prototype.initWithDuration.call(this, t) && (this._dstAngle = e, !0)
                },
                clone: function () {
                    var t = new cc.RotateTo;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._dstAngle), t
                },
                startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t);
                    var e = t.angle % 360, i = cc.RotateTo._reverse ? this._dstAngle - e : this._dstAngle + e;
                    i > 180 && (i -= 360), i < -180 && (i += 360), this._startAngle = e, this._angle = cc.RotateTo._reverse ? i : -i
                },
                reverse: function () {
                    cc.logID(1016)
                },
                update: function (t) {
                    t = this._computeEaseTime(t), this.target && (this.target.angle = this._startAngle + this._angle * t)
                }
            }), cc.rotateTo = function (t, e) {
                return new cc.RotateTo(t, e)
            }, cc.RotateBy = cc.Class({
                name: "cc.RotateBy",
                extends: cc.ActionInterval,
                statics: {_reverse: !1},
                ctor: function (t, e) {
                    e *= cc.RotateBy._reverse ? 1 : -1, this._deltaAngle = 0, this._startAngle = 0, void 0 !== e && this.initWithDuration(t, e)
                },
                initWithDuration: function (t, e) {
                    return !!cc.ActionInterval.prototype.initWithDuration.call(this, t) && (this._deltaAngle = e, !0)
                },
                clone: function () {
                    var t = new cc.RotateBy;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._deltaAngle), t
                },
                startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t), this._startAngle = t.angle
                },
                update: function (t) {
                    t = this._computeEaseTime(t), this.target && (this.target.angle = this._startAngle + this._deltaAngle * t)
                },
                reverse: function () {
                    var t = new cc.RotateBy;
                    return t.initWithDuration(this._duration, -this._deltaAngle), this._cloneDecoration(t), this._reverseEaseList(t), t
                }
            }), cc.rotateBy = function (t, e) {
                return new cc.RotateBy(t, e)
            }, cc.MoveBy = cc.Class({
                name: "cc.MoveBy", extends: cc.ActionInterval, ctor: function (t, e, i) {
                    this._positionDelta = cc.v2(0, 0), this._startPosition = cc.v2(0, 0), this._previousPosition = cc.v2(0, 0), void 0 !== e && cc.MoveBy.prototype.initWithDuration.call(this, t, e, i)
                }, initWithDuration: function (t, e, i) {
                    return !!cc.ActionInterval.prototype.initWithDuration.call(this, t) && (void 0 !== e.x && (i = e.y, e = e.x), this._positionDelta.x = e, this._positionDelta.y = i, !0)
                }, clone: function () {
                    var t = new cc.MoveBy;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._positionDelta), t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t);
                    var e = t.x, i = t.y;
                    this._previousPosition.x = e, this._previousPosition.y = i, this._startPosition.x = e, this._startPosition.y = i
                }, update: function (t) {
                    if (t = this._computeEaseTime(t), this.target) {
                        var e = this._positionDelta.x * t, i = this._positionDelta.y * t, n = this._startPosition;
                        if (cc.macro.ENABLE_STACKABLE_ACTIONS) {
                            var r = this.target.x, s = this.target.y, a = this._previousPosition;
                            n.x = n.x + r - a.x, n.y = n.y + s - a.y, e += n.x, i += n.y, a.x = e, a.y = i, this.target.setPosition(e, i)
                        } else this.target.setPosition(n.x + e, n.y + i)
                    }
                }, reverse: function () {
                    var t = new cc.MoveBy(this._duration, cc.v2(-this._positionDelta.x, -this._positionDelta.y));
                    return this._cloneDecoration(t), this._reverseEaseList(t), t
                }
            }), cc.moveBy = function (t, e, i) {
                return new cc.MoveBy(t, e, i)
            }, cc.MoveTo = cc.Class({
                name: "cc.MoveTo", extends: cc.MoveBy, ctor: function (t, e, i) {
                    this._endPosition = cc.v2(0, 0), void 0 !== e && this.initWithDuration(t, e, i)
                }, initWithDuration: function (t, e, i) {
                    return !!cc.MoveBy.prototype.initWithDuration.call(this, t, e, i) && (void 0 !== e.x && (i = e.y, e = e.x), this._endPosition.x = e, this._endPosition.y = i, !0)
                }, clone: function () {
                    var t = new cc.MoveTo;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._endPosition), t
                }, startWithTarget: function (t) {
                    cc.MoveBy.prototype.startWithTarget.call(this, t), this._positionDelta.x = this._endPosition.x - t.x, this._positionDelta.y = this._endPosition.y - t.y
                }
            }), cc.moveTo = function (t, e, i) {
                return new cc.MoveTo(t, e, i)
            }, cc.SkewTo = cc.Class({
                name: "cc.SkewTo", extends: cc.ActionInterval, ctor: function (t, e, i) {
                    this._skewX = 0, this._skewY = 0, this._startSkewX = 0, this._startSkewY = 0, this._endSkewX = 0, this._endSkewY = 0, this._deltaX = 0, this._deltaY = 0, void 0 !== i && cc.SkewTo.prototype.initWithDuration.call(this, t, e, i)
                }, initWithDuration: function (t, e, i) {
                    var n = !1;
                    return cc.ActionInterval.prototype.initWithDuration.call(this, t) && (this._endSkewX = e, this._endSkewY = i, n = !0), n
                }, clone: function () {
                    var t = new cc.SkewTo;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._endSkewX, this._endSkewY), t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t), this._startSkewX = t.skewX % 180, this._deltaX = this._endSkewX - this._startSkewX, this._deltaX > 180 && (this._deltaX -= 360), this._deltaX < -180 && (this._deltaX += 360), this._startSkewY = t.skewY % 360, this._deltaY = this._endSkewY - this._startSkewY, this._deltaY > 180 && (this._deltaY -= 360), this._deltaY < -180 && (this._deltaY += 360)
                }, update: function (t) {
                    t = this._computeEaseTime(t), this.target.skewX = this._startSkewX + this._deltaX * t, this.target.skewY = this._startSkewY + this._deltaY * t
                }
            }), cc.skewTo = function (t, e, i) {
                return new cc.SkewTo(t, e, i)
            }, cc.SkewBy = cc.Class({
                name: "cc.SkewBy", extends: cc.SkewTo, ctor: function (t, e, i) {
                    void 0 !== i && this.initWithDuration(t, e, i)
                }, initWithDuration: function (t, e, i) {
                    var n = !1;
                    return cc.SkewTo.prototype.initWithDuration.call(this, t, e, i) && (this._skewX = e, this._skewY = i, n = !0), n
                }, clone: function () {
                    var t = new cc.SkewBy;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._skewX, this._skewY), t
                }, startWithTarget: function (t) {
                    cc.SkewTo.prototype.startWithTarget.call(this, t), this._deltaX = this._skewX, this._deltaY = this._skewY, this._endSkewX = this._startSkewX + this._deltaX, this._endSkewY = this._startSkewY + this._deltaY
                }, reverse: function () {
                    var t = new cc.SkewBy(this._duration, -this._skewX, -this._skewY);
                    return this._cloneDecoration(t), this._reverseEaseList(t), t
                }
            }), cc.skewBy = function (t, e, i) {
                return new cc.SkewBy(t, e, i)
            }, cc.JumpBy = cc.Class({
                name: "cc.JumpBy", extends: cc.ActionInterval, ctor: function (t, e, i, n, r) {
                    this._startPosition = cc.v2(0, 0), this._previousPosition = cc.v2(0, 0), this._delta = cc.v2(0, 0), this._height = 0, this._jumps = 0, void 0 !== n && cc.JumpBy.prototype.initWithDuration.call(this, t, e, i, n, r)
                }, initWithDuration: function (t, e, i, n, r) {
                    return !!cc.ActionInterval.prototype.initWithDuration.call(this, t) && (void 0 === r && (r = n, n = i, i = e.y, e = e.x), this._delta.x = e, this._delta.y = i, this._height = n, this._jumps = r, !0)
                }, clone: function () {
                    var t = new cc.JumpBy;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._delta, this._height, this._jumps), t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t);
                    var e = t.x, i = t.y;
                    this._previousPosition.x = e, this._previousPosition.y = i, this._startPosition.x = e, this._startPosition.y = i
                }, update: function (t) {
                    if (t = this._computeEaseTime(t), this.target) {
                        var e = t * this._jumps % 1, i = 4 * this._height * e * (1 - e);
                        i += this._delta.y * t;
                        var n = this._delta.x * t, r = this._startPosition;
                        if (cc.macro.ENABLE_STACKABLE_ACTIONS) {
                            var s = this.target.x, a = this.target.y, o = this._previousPosition;
                            r.x = r.x + s - o.x, r.y = r.y + a - o.y, n += r.x, i += r.y, o.x = n, o.y = i, this.target.setPosition(n, i)
                        } else this.target.setPosition(r.x + n, r.y + i)
                    }
                }, reverse: function () {
                    var t = new cc.JumpBy(this._duration, cc.v2(-this._delta.x, -this._delta.y), this._height, this._jumps);
                    return this._cloneDecoration(t), this._reverseEaseList(t), t
                }
            }), cc.jumpBy = function (t, e, i, n, r) {
                return new cc.JumpBy(t, e, i, n, r)
            }, cc.JumpTo = cc.Class({
                name: "cc.JumpTo", extends: cc.JumpBy, ctor: function (t, e, i, n, r) {
                    this._endPosition = cc.v2(0, 0), void 0 !== n && this.initWithDuration(t, e, i, n, r)
                }, initWithDuration: function (t, e, i, n, r) {
                    return !!cc.JumpBy.prototype.initWithDuration.call(this, t, e, i, n, r) && (void 0 === r && (i = e.y, e = e.x), this._endPosition.x = e, this._endPosition.y = i, !0)
                }, startWithTarget: function (t) {
                    cc.JumpBy.prototype.startWithTarget.call(this, t), this._delta.x = this._endPosition.x - this._startPosition.x, this._delta.y = this._endPosition.y - this._startPosition.y
                }, clone: function () {
                    var t = new cc.JumpTo;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._endPosition, this._height, this._jumps), t
                }
            }), cc.jumpTo = function (t, e, i, n, r) {
                return new cc.JumpTo(t, e, i, n, r)
            }, cc.BezierBy = cc.Class({
                name: "cc.BezierBy", extends: cc.ActionInterval, ctor: function (t, e) {
                    this._config = [], this._startPosition = cc.v2(0, 0), this._previousPosition = cc.v2(0, 0), e && cc.BezierBy.prototype.initWithDuration.call(this, t, e)
                }, initWithDuration: function (t, e) {
                    return !!cc.ActionInterval.prototype.initWithDuration.call(this, t) && (this._config = e, !0)
                }, clone: function () {
                    var t = new cc.BezierBy;
                    this._cloneDecoration(t);
                    for (var e = [], i = 0; i < this._config.length; i++) {
                        var n = this._config[i];
                        e.push(cc.v2(n.x, n.y))
                    }
                    return t.initWithDuration(this._duration, e), t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t);
                    var e = t.x, i = t.y;
                    this._previousPosition.x = e, this._previousPosition.y = i, this._startPosition.x = e, this._startPosition.y = i
                }, update: function (e) {
                    if (e = this._computeEaseTime(e), this.target) {
                        var i = this._config, n = i[0].x, r = i[1].x, s = i[2].x, a = i[0].y, o = i[1].y, c = i[2].y,
                            l = t(0, n, r, s, e), h = t(0, a, o, c, e), u = this._startPosition;
                        if (cc.macro.ENABLE_STACKABLE_ACTIONS) {
                            var f = this.target.x, d = this.target.y, _ = this._previousPosition;
                            u.x = u.x + f - _.x, u.y = u.y + d - _.y, l += u.x, h += u.y, _.x = l, _.y = h, this.target.setPosition(l, h)
                        } else this.target.setPosition(u.x + l, u.y + h)
                    }
                }, reverse: function () {
                    var t = this._config, e = t[0].x, i = t[0].y, n = t[1].x, r = t[1].y, s = t[2].x, a = t[2].y,
                        o = [cc.v2(n - s, r - a), cc.v2(e - s, i - a), cc.v2(-s, -a)],
                        c = new cc.BezierBy(this._duration, o);
                    return this._cloneDecoration(c), this._reverseEaseList(c), c
                }
            }), cc.bezierBy = function (t, e) {
                return new cc.BezierBy(t, e)
            }, cc.BezierTo = cc.Class({
                name: "cc.BezierTo", extends: cc.BezierBy, ctor: function (t, e) {
                    this._toConfig = [], e && this.initWithDuration(t, e)
                }, initWithDuration: function (t, e) {
                    return !!cc.ActionInterval.prototype.initWithDuration.call(this, t) && (this._toConfig = e, !0)
                }, clone: function () {
                    var t = new cc.BezierTo;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._toConfig), t
                }, startWithTarget: function (t) {
                    cc.BezierBy.prototype.startWithTarget.call(this, t);
                    var e = this._startPosition, i = this._toConfig, n = this._config;
                    n[0] = i[0].sub(e), n[1] = i[1].sub(e), n[2] = i[2].sub(e)
                }
            }), cc.bezierTo = function (t, e) {
                return new cc.BezierTo(t, e)
            }, cc.ScaleTo = cc.Class({
                name: "cc.ScaleTo", extends: cc.ActionInterval, ctor: function (t, e, i) {
                    this._scaleX = 1, this._scaleY = 1, this._startScaleX = 1, this._startScaleY = 1, this._endScaleX = 0, this._endScaleY = 0, this._deltaX = 0, this._deltaY = 0, void 0 !== e && cc.ScaleTo.prototype.initWithDuration.call(this, t, e, i)
                }, initWithDuration: function (t, e, i) {
                    return !!cc.ActionInterval.prototype.initWithDuration.call(this, t) && (this._endScaleX = e, this._endScaleY = null != i ? i : e, !0)
                }, clone: function () {
                    var t = new cc.ScaleTo;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._endScaleX, this._endScaleY), t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t), this._startScaleX = t.scaleX, this._startScaleY = t.scaleY, this._deltaX = this._endScaleX - this._startScaleX, this._deltaY = this._endScaleY - this._startScaleY
                }, update: function (t) {
                    t = this._computeEaseTime(t), this.target && (this.target.scaleX = this._startScaleX + this._deltaX * t, this.target.scaleY = this._startScaleY + this._deltaY * t)
                }
            }), cc.scaleTo = function (t, e, i) {
                return new cc.ScaleTo(t, e, i)
            }, cc.ScaleBy = cc.Class({
                name: "cc.ScaleBy", extends: cc.ScaleTo, startWithTarget: function (t) {
                    cc.ScaleTo.prototype.startWithTarget.call(this, t), this._deltaX = this._startScaleX * this._endScaleX - this._startScaleX, this._deltaY = this._startScaleY * this._endScaleY - this._startScaleY
                }, reverse: function () {
                    var t = new cc.ScaleBy(this._duration, 1 / this._endScaleX, 1 / this._endScaleY);
                    return this._cloneDecoration(t), this._reverseEaseList(t), t
                }, clone: function () {
                    var t = new cc.ScaleBy;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._endScaleX, this._endScaleY), t
                }
            }), cc.scaleBy = function (t, e, i) {
                return new cc.ScaleBy(t, e, i)
            }, cc.Blink = cc.Class({
                name: "cc.Blink", extends: cc.ActionInterval, ctor: function (t, e) {
                    this._times = 0, this._originalState = !1, void 0 !== e && this.initWithDuration(t, e)
                }, initWithDuration: function (t, e) {
                    return !!cc.ActionInterval.prototype.initWithDuration.call(this, t) && (this._times = e, !0)
                }, clone: function () {
                    var t = new cc.Blink;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._times), t
                }, update: function (t) {
                    if (t = this._computeEaseTime(t), this.target && !this.isDone()) {
                        var e = 1 / this._times, i = t % e;
                        this.target.opacity = i > e / 2 ? 255 : 0
                    }
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t), this._originalState = t.opacity
                }, stop: function () {
                    this.target.opacity = this._originalState, cc.ActionInterval.prototype.stop.call(this)
                }, reverse: function () {
                    var t = new cc.Blink(this._duration, this._times);
                    return this._cloneDecoration(t), this._reverseEaseList(t), t
                }
            }), cc.blink = function (t, e) {
                return new cc.Blink(t, e)
            }, cc.FadeTo = cc.Class({
                name: "cc.FadeTo", extends: cc.ActionInterval, ctor: function (t, e) {
                    this._toOpacity = 0, this._fromOpacity = 0, void 0 !== e && cc.FadeTo.prototype.initWithDuration.call(this, t, e)
                }, initWithDuration: function (t, e) {
                    return !!cc.ActionInterval.prototype.initWithDuration.call(this, t) && (this._toOpacity = e, !0)
                }, clone: function () {
                    var t = new cc.FadeTo;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._toOpacity), t
                }, update: function (t) {
                    t = this._computeEaseTime(t);
                    var e = void 0 !== this._fromOpacity ? this._fromOpacity : 255;
                    this.target.opacity = e + (this._toOpacity - e) * t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t), this._fromOpacity = t.opacity
                }
            }), cc.fadeTo = function (t, e) {
                return new cc.FadeTo(t, e)
            }, cc.FadeIn = cc.Class({
                name: "cc.FadeIn", extends: cc.FadeTo, ctor: function (t) {
                    null == t && (t = 0), this._reverseAction = null, this.initWithDuration(t, 255)
                }, reverse: function () {
                    var t = new cc.FadeOut;
                    return t.initWithDuration(this._duration, 0), this._cloneDecoration(t), this._reverseEaseList(t), t
                }, clone: function () {
                    var t = new cc.FadeIn;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._toOpacity), t
                }, startWithTarget: function (t) {
                    this._reverseAction && (this._toOpacity = this._reverseAction._fromOpacity), cc.FadeTo.prototype.startWithTarget.call(this, t)
                }
            }), cc.fadeIn = function (t) {
                return new cc.FadeIn(t)
            }, cc.FadeOut = cc.Class({
                name: "cc.FadeOut", extends: cc.FadeTo, ctor: function (t) {
                    null == t && (t = 0), this._reverseAction = null, this.initWithDuration(t, 0)
                }, reverse: function () {
                    var t = new cc.FadeIn;
                    return t._reverseAction = this, t.initWithDuration(this._duration, 255), this._cloneDecoration(t), this._reverseEaseList(t), t
                }, clone: function () {
                    var t = new cc.FadeOut;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._toOpacity), t
                }
            }), cc.fadeOut = function (t) {
                return new cc.FadeOut(t)
            }, cc.TintTo = cc.Class({
                name: "cc.TintTo", extends: cc.ActionInterval, ctor: function (t, e, i, n) {
                    this._to = cc.color(0, 0, 0), this._from = cc.color(0, 0, 0), e instanceof cc.Color && (n = e.b, i = e.g, e = e.r), void 0 !== n && this.initWithDuration(t, e, i, n)
                }, initWithDuration: function (t, e, i, n) {
                    return !!cc.ActionInterval.prototype.initWithDuration.call(this, t) && (this._to = cc.color(e, i, n), !0)
                }, clone: function () {
                    var t = new cc.TintTo;
                    this._cloneDecoration(t);
                    var e = this._to;
                    return t.initWithDuration(this._duration, e.r, e.g, e.b), t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t), this._from = this.target.color
                }, update: function (t) {
                    t = this._computeEaseTime(t);
                    var e = this._from, i = this._to;
                    e && (this.target.color = cc.color(e.r + (i.r - e.r) * t, e.g + (i.g - e.g) * t, e.b + (i.b - e.b) * t))
                }
            }), cc.tintTo = function (t, e, i, n) {
                return new cc.TintTo(t, e, i, n)
            }, cc.TintBy = cc.Class({
                name: "cc.TintBy", extends: cc.ActionInterval, ctor: function (t, e, i, n) {
                    this._deltaR = 0, this._deltaG = 0, this._deltaB = 0, this._fromR = 0, this._fromG = 0, this._fromB = 0, void 0 !== n && this.initWithDuration(t, e, i, n)
                }, initWithDuration: function (t, e, i, n) {
                    return !!cc.ActionInterval.prototype.initWithDuration.call(this, t) && (this._deltaR = e, this._deltaG = i, this._deltaB = n, !0)
                }, clone: function () {
                    var t = new cc.TintBy;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._deltaR, this._deltaG, this._deltaB), t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t);
                    var e = t.color;
                    this._fromR = e.r, this._fromG = e.g, this._fromB = e.b
                }, update: function (t) {
                    t = this._computeEaseTime(t), this.target.color = cc.color(this._fromR + this._deltaR * t, this._fromG + this._deltaG * t, this._fromB + this._deltaB * t)
                }, reverse: function () {
                    var t = new cc.TintBy(this._duration, -this._deltaR, -this._deltaG, -this._deltaB);
                    return this._cloneDecoration(t), this._reverseEaseList(t), t
                }
            }), cc.tintBy = function (t, e, i, n) {
                return new cc.TintBy(t, e, i, n)
            }, cc.DelayTime = cc.Class({
                name: "cc.DelayTime", extends: cc.ActionInterval, update: function () {
                }, reverse: function () {
                    var t = new cc.DelayTime(this._duration);
                    return this._cloneDecoration(t), this._reverseEaseList(t), t
                }, clone: function () {
                    var t = new cc.DelayTime;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration), t
                }
            }), cc.delayTime = function (t) {
                return new cc.DelayTime(t)
            }, cc.ReverseTime = cc.Class({
                name: "cc.ReverseTime", extends: cc.ActionInterval, ctor: function (t) {
                    this._other = null, t && this.initWithAction(t)
                }, initWithAction: function (t) {
                    return t ? t === this._other ? (cc.errorID(1029), !1) : !!cc.ActionInterval.prototype.initWithDuration.call(this, t._duration) && (this._other = t, !0) : (cc.errorID(1028), !1)
                }, clone: function () {
                    var t = new cc.ReverseTime;
                    return this._cloneDecoration(t), t.initWithAction(this._other.clone()), t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t), this._other.startWithTarget(t)
                }, update: function (t) {
                    t = this._computeEaseTime(t), this._other && this._other.update(1 - t)
                }, reverse: function () {
                    return this._other.clone()
                }, stop: function () {
                    this._other.stop(), cc.Action.prototype.stop.call(this)
                }
            }), cc.reverseTime = function (t) {
                return new cc.ReverseTime(t)
            }, cc.TargetedAction = cc.Class({
                name: "cc.TargetedAction",
                extends: cc.ActionInterval,
                ctor: function (t, e) {
                    this._action = null, this._forcedTarget = null, e && this.initWithTarget(t, e)
                },
                initWithTarget: function (t, e) {
                    return !!this.initWithDuration(e._duration) && (this._forcedTarget = t, this._action = e, !0)
                },
                clone: function () {
                    var t = new cc.TargetedAction;
                    return this._cloneDecoration(t), t.initWithTarget(this._forcedTarget, this._action.clone()), t
                },
                startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t), this._action.startWithTarget(this._forcedTarget)
                },
                stop: function () {
                    this._action.stop()
                },
                update: function (t) {
                    t = this._computeEaseTime(t), this._action.update(t)
                },
                getForcedTarget: function () {
                    return this._forcedTarget
                },
                setForcedTarget: function (t) {
                    this._forcedTarget !== t && (this._forcedTarget = t)
                }
            }), cc.targetedAction = function (t, e) {
                return new cc.TargetedAction(t, e)
            }
        }), {}],
        6: [(function (t) {
            "use strict";
            t("../core/platform/CCClass");
            var e = t("../core/platform/js"), i = function () {
                this.actions = [], this.target = null, this.actionIndex = 0, this.currentAction = null, this.paused = !1, this.lock = !1
            };
            cc.ActionManager = function () {
                this._hashTargets = e.createMap(!0), this._arrayTargets = [], this._currentTarget = null, cc.director._scheduler && cc.director._scheduler.enableForTarget(this)
            }, cc.ActionManager.prototype = {
                constructor: cc.ActionManager, _elementPool: [], _searchElementByTarget: function (t, e) {
                    for (var i = 0; i < t.length; i++) if (e === t[i].target) return t[i];
                    return null
                }, _getElement: function (t, e) {
                    var n = this._elementPool.pop();
                    return n || (n = new i), n.target = t, n.paused = !!e, n
                }, _putElement: function (t) {
                    t.actions.length = 0, t.actionIndex = 0, t.currentAction = null, t.paused = !1, t.target = null, t.lock = !1, this._elementPool.push(t)
                }, addAction: function (t, e, i) {
                    if (t && e) {
                        var n = this._hashTargets[e._id];
                        n ? n.actions || (n.actions = []) : (n = this._getElement(e, i), this._hashTargets[e._id] = n, this._arrayTargets.push(n)), n.actions.push(t), t.startWithTarget(e)
                    } else cc.errorID(1e3)
                }, removeAllActions: function () {
                    for (var t = this._arrayTargets, i = 0; i < t.length; i++) {
                        var n = t[i];
                        n && this._putElement(n)
                    }
                    this._arrayTargets.length = 0, this._hashTargets = e.createMap(!0)
                }, removeAllActionsFromTarget: function (t) {
                    if (null != t) {
                        var e = this._hashTargets[t._id];
                        e && (e.actions.length = 0, this._deleteHashElement(e))
                    }
                }, removeAction: function (t) {
                    if (t) {
                        var e = t.getOriginalTarget(), i = this._hashTargets[e._id];
                        if (i) for (var n = 0; n < i.actions.length; n++) if (i.actions[n] === t) {
                            i.actions.splice(n, 1), i.actionIndex >= n && i.actionIndex--;
                            break
                        }
                    }
                }, _removeActionByTag: function (t, e, i) {
                    for (var n = 0, r = e.actions.length; n < r; ++n) {
                        var s = e.actions[n];
                        if (s && s.getTag() === t) {
                            if (i && s.getOriginalTarget() !== i) continue;
                            this._removeActionAtIndex(n, e);
                            break
                        }
                    }
                }, _removeAllActionsByTag: function (t, e, i) {
                    for (var n = e.actions.length - 1; n >= 0; --n) {
                        var r = e.actions[n];
                        if (r && r.getTag() === t) {
                            if (i && r.getOriginalTarget() !== i) continue;
                            this._removeActionAtIndex(n, e)
                        }
                    }
                }, removeActionByTag: function (t, e) {
                    t === cc.Action.TAG_INVALID && cc.logID(1002);
                    var i = this._hashTargets;
                    if (e) {
                        var n = i[e._id];
                        n && this._removeActionByTag(t, n, e)
                    } else for (var r in i) {
                        var s = i[r];
                        this._removeActionByTag(t, s)
                    }
                }, removeAllActionsByTag: function (t, e) {
                    t === cc.Action.TAG_INVALID && cc.logID(1002);
                    var i = this._hashTargets;
                    if (e) {
                        var n = i[e._id];
                        n && this._removeAllActionsByTag(t, n, e)
                    } else for (var r in i) {
                        var s = i[r];
                        this._removeAllActionsByTag(t, s)
                    }
                }, getActionByTag: function (t, e) {
                    t === cc.Action.TAG_INVALID && cc.logID(1004);
                    var i = this._hashTargets[e._id];
                    if (i) {
                        if (null != i.actions) for (var n = 0; n < i.actions.length; ++n) {
                            var r = i.actions[n];
                            if (r && r.getTag() === t) return r
                        }
                        cc.logID(1005, t)
                    }
                    return null
                }, getNumberOfRunningActionsInTarget: function (t) {
                    var e = this._hashTargets[t._id];
                    return e && e.actions ? e.actions.length : 0
                }, pauseTarget: function (t) {
                    var e = this._hashTargets[t._id];
                    e && (e.paused = !0)
                }, resumeTarget: function (t) {
                    var e = this._hashTargets[t._id];
                    e && (e.paused = !1)
                }, pauseAllRunningActions: function () {
                    for (var t = [], e = this._arrayTargets, i = 0; i < e.length; i++) {
                        var n = e[i];
                        n && !n.paused && (n.paused = !0, t.push(n.target))
                    }
                    return t
                }, resumeTargets: function (t) {
                    if (t) for (var e = 0; e < t.length; e++) t[e] && this.resumeTarget(t[e])
                }, pauseTargets: function (t) {
                    if (t) for (var e = 0; e < t.length; e++) t[e] && this.pauseTarget(t[e])
                }, purgeSharedManager: function () {
                    cc.director.getScheduler().unscheduleUpdate(this)
                }, _removeActionAtIndex: function (t, e) {
                    e.actions[t], e.actions.splice(t, 1), e.actionIndex >= t && e.actionIndex--, 0 === e.actions.length && this._deleteHashElement(e)
                }, _deleteHashElement: function (t) {
                    var e = !1;
                    if (t && !t.lock && this._hashTargets[t.target._id]) {
                        delete this._hashTargets[t.target._id];
                        for (var i = this._arrayTargets, n = 0, r = i.length; n < r; n++) if (i[n] === t) {
                            i.splice(n, 1);
                            break
                        }
                        this._putElement(t), e = !0
                    }
                    return e
                }, update: function (t) {
                    for (var e, i = this._arrayTargets, n = 0; n < i.length; n++) {
                        if (this._currentTarget = i[n], !(e = this._currentTarget).paused && e.actions) {
                            for (e.lock = !0, e.actionIndex = 0; e.actionIndex < e.actions.length; e.actionIndex++) if (e.currentAction = e.actions[e.actionIndex], e.currentAction) {
                                if (e.currentAction.step(t * (e.currentAction._speedMethod ? e.currentAction._speed : 1)), e.currentAction && e.currentAction.isDone()) {
                                    e.currentAction.stop();
                                    var r = e.currentAction;
                                    e.currentAction = null, this.removeAction(r)
                                }
                                e.currentAction = null
                            }
                            e.lock = !1
                        }
                        0 === e.actions.length && this._deleteHashElement(e) && n--
                    }
                }
            }
        }), {"../core/platform/CCClass": 167, "../core/platform/js": 188}],
        7: [(function (t) {
            "use strict";
            t("./CCActionManager"), t("./CCAction"), t("./CCActionInterval"), t("./CCActionInstant"), t("./CCActionEase"), t("./CCActionCatmullRom"), t("./tween")
        }), {
            "./CCAction": 1,
            "./CCActionCatmullRom": 2,
            "./CCActionEase": 3,
            "./CCActionInstant": 4,
            "./CCActionInterval": 5,
            "./CCActionManager": 6,
            "./tween": 8
        }],
        8: [(function (t) {
            "use strict";
            var e = t("../animation/bezier"), i = 0, n = cc.Class({
                name: "cc.TweenAction", extends: cc.ActionInterval, ctor: function (t, e, i) {
                    if (this._opts = i = i || Object.create(null), this._props = Object.create(null), i.progress = i.progress || this.progress, i.easing && "string" == typeof i.easing) {
                        var n = i.easing;
                        i.easing = cc.easing[n], !i.easing && cc.warnID(1031, n)
                    }
                    var r = this._opts.relative;
                    for (var s in e) {
                        var a = e[s], o = void 0, c = void 0;
                        if (void 0 !== a.value && (a.easing || a.progress) && ("string" == typeof a.easing ? !(o = cc.easing[a.easing]) && cc.warnID(1031, a.easing) : o = a.easing, c = a.progress, a = a.value), "number" == typeof a || a.lerp && (!r || a.add || a.mul) && a.clone) {
                            var l = Object.create(null);
                            l.value = a, l.easing = o, l.progress = c, this._props[s] = l
                        } else cc.warn("Can not animate " + s + " property, because it do not have [lerp, (add|mul), clone] function.")
                    }
                    this._originProps = e, this.initWithDuration(t)
                }, clone: function () {
                    var t = new n(this._duration, this._originProps, this._opts);
                    return this._cloneDecoration(t), t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t);
                    var e = !!this._opts.relative, i = this._props;
                    for (var n in i) {
                        var r = t[n], s = i[n];
                        "number" == typeof r ? (s.start = r, s.current = r, s.end = e ? r + s.value : s.value) : (s.start = r.clone(), s.current = r.clone(), s.end = e ? (r.add || r.mul).call(r, s.value) : s.value)
                    }
                }, update: function (t) {
                    var e = this._opts, i = t;
                    e.easing && (i = e.easing(t));
                    var n = this.target;
                    if (n) {
                        var r = this._props, s = e.progress;
                        for (var a in r) {
                            var o = r[a], c = o.easing ? o.easing(t) : i,
                                l = o.current = (o.progress || s)(o.start, o.end, o.current, c);
                            n[a] = l
                        }
                        var h = e.onUpdate;
                        h && h(n, t)
                    }
                }, progress: function (t, e, i, n) {
                    return "number" == typeof t ? i = t + (e - t) * n : t.lerp(e, n, i), i
                }
            }), r = cc.Class({
                name: "cc.SetAction", extends: cc.ActionInstant, ctor: function (t) {
                    this._props = {}, void 0 !== t && this.init(t)
                }, init: function (t) {
                    for (var e in t) this._props[e] = t[e];
                    return !0
                }, update: function () {
                    var t = this._props, e = this.target;
                    for (var i in t) e[i] = t[i]
                }, clone: function () {
                    var t = new r;
                    return t.init(this._props), t
                }
            });

            function s(t) {
                this._actions = [], this._finalAction = null, this._target = t, this._tag = cc.Action.TAG_INVALID
            }

            s.stopAll = function () {
                cc.director.getActionManager().removeAllActions()
            }, s.stopAllByTag = function (t) {
                cc.director.getActionManager().removeAllActionsByTag(t)
            }, s.stopAllByTarget = function (t) {
                cc.director.getActionManager().removeAllActionsFromTarget(t)
            }, s.prototype.then = function (t) {
                return t instanceof cc.Action ? this._actions.push(t.clone()) : this._actions.push(t._union()), this
            }, s.prototype.target = function (t) {
                return this._target = t, this
            }, s.prototype.start = function () {
                var t = this._target;
                return t ? t instanceof cc.Object && !t.isValid ? void 0 : (this._finalAction && cc.director.getActionManager().removeAction(this._finalAction), this._finalAction = this._union(), void 0 === t._id && (t._id = ++i), this._finalAction.setTag(this._tag), cc.director.getActionManager().addAction(this._finalAction, t, !1), this) : (cc.warn("Please set target to tween first"), this)
            }, s.prototype.stop = function () {
                return this._finalAction && cc.director.getActionManager().removeAction(this._finalAction), this
            }, s.prototype.tag = function (t) {
                return this._tag = t, this
            }, s.prototype.clone = function (t) {
                var e = this._union();
                return cc.tween(t).then(e.clone())
            }, s.prototype.union = function () {
                var t = this._union();
                return this._actions.length = 0, this._actions.push(t), this
            }, s.prototype._union = function () {
                var t = this._actions;
                return 1 === t.length ? t[0] : cc.sequence(t)
            }, Object.assign(s.prototype, {
                bezierTo: function (t, i, n, r, s) {
                    var a = i.x, o = i.y, c = n.x, l = n.y;
                    return (s = s || Object.create(null)).progress = function (t, i, n, r) {
                        return n.x = (0, e.bezier)(t.x, a, c, i.x, r), n.y = (0, e.bezier)(t.y, o, l, i.y, r), n
                    }, this.to(t, {position: r}, s)
                }, bezierBy: function (t, i, n, r, s) {
                    var a = i.x, o = i.y, c = n.x, l = n.y;
                    return (s = s || Object.create(null)).progress = function (t, i, n, r) {
                        var s = t.x, h = t.y;
                        return n.x = (0, e.bezier)(s, a + s, c + s, i.x, r), n.y = (0, e.bezier)(h, o + h, l + h, i.y, r), n
                    }, this.by(t, {position: r}, s)
                }, flipX: function () {
                    var t = this;
                    return this.call((function () {
                        t._target.scaleX *= -1
                    }), this)
                }, flipY: function () {
                    var t = this;
                    return this.call((function () {
                        t._target.scaleY *= -1
                    }), this)
                }, blink: function (t, e, i) {
                    var n = 1 / e;
                    return (i = i || Object.create(null)).progress = function (t, e, i, r) {
                        return r >= 1 ? t : r % n > n / 2 ? 255 : 0
                    }, this.to(t, {opacity: 1}, i)
                }
            });
            var a = [];

            function o(t) {
                return function () {
                    a.length = 0;
                    for (var e = arguments.length, i = 0; i < e; i++) {
                        var n = a[i] = arguments[i];
                        n instanceof s && (a[i] = n._union())
                    }
                    return t.apply(this, a)
                }
            }

            for (var c = {
                to: function (t, e, i) {
                    return (i = i || Object.create(null)).relative = !1, new n(t, e, i)
                },
                by: function (t, e, i) {
                    return (i = i || Object.create(null)).relative = !0, new n(t, e, i)
                },
                set: function (t) {
                    return new r(t)
                },
                delay: cc.delayTime,
                call: cc.callFunc,
                hide: cc.hide,
                show: cc.show,
                removeSelf: cc.removeSelf,
                sequence: o(cc.sequence),
                parallel: o(cc.spawn)
            }, l = {
                repeat: cc.repeat,
                repeatForever: cc.repeatForever,
                reverseTime: cc.reverseTime
            }, h = Object.keys(c), u = function () {
                var t = h[f];
                s.prototype[t] = function () {
                    var e = c[t].apply(this, arguments);
                    return this._actions.push(e), this
                }
            }, f = 0; f < h.length; f++) u();
            h = Object.keys(l);
            for (var d = function () {
                var t = h[_];
                s.prototype[t] = function () {
                    var e = this._actions, i = arguments[arguments.length - 1], n = arguments.length - 1;
                    i instanceof cc.Tween ? i = i._union() : i instanceof cc.Action || (i = e[e.length - 1], e.length -= 1, n += 1);
                    for (var r = [i], s = 0; s < n; s++) r.push(arguments[s]);
                    return i = l[t].apply(this, r), e.push(i), this
                }
            }, _ = 0; _ < h.length; _++) d();
            cc.tween = function (t) {
                return new s(t)
            }, cc.Tween = s
        }), {"../animation/bezier": 14}],
        9: [(function (t, e) {
            "use strict";
            var i = cc.js, n = t("./playable"), r = t("./animation-curves"), s = r.EventAnimCurve, a = r.EventInfo,
                o = t("./types").WrapModeMask, c = t("../core/utils/binary-search").binarySearchEpsilon;

            function l(t, e) {
                n.call(this), this.target = t, this.animation = e, this._anims = new i.array.MutableForwardIterator([])
            }

            i.extend(l, n);
            var h = l.prototype;

            function u(t, e) {
                var i = e.clip;
                e.duration = i.duration, e.speed = i.speed, e.wrapMode = i.wrapMode, e.frameRate = i.sample, (e.wrapMode & o.Loop) === o.Loop ? e.repeatCount = 1 / 0 : e.repeatCount = 1;
                var n = e.curves = i.createCurves(e, t), r = i.events;
                if (r) for (var l, h = 0, u = r.length; h < u; h++) {
                    l || ((l = new s).target = t, n.push(l));
                    var f = r[h], d = f.frame / e.duration, _ = void 0, p = c(l.ratios, d);
                    p >= 0 ? _ = l.events[p] : (_ = new a, l.ratios.push(d), l.events.push(_)), _.add(f.func, f.params)
                }
            }

            h.playState = function (t, e) {
                t.clip && (t.curveLoaded || u(this.target, t), t.animator = this, t.play(), "number" == typeof e && t.setTime(e), this.play())
            }, h.stopStatesExcept = function (t) {
                var e = this._anims, i = e.array;
                for (e.i = 0; e.i < i.length; ++e.i) {
                    var n = i[e.i];
                    n !== t && this.stopState(n)
                }
            }, h.addAnimation = function (t) {
                -1 === this._anims.array.indexOf(t) && this._anims.push(t), t._setEventTarget(this.animation)
            }, h.removeAnimation = function (t) {
                var e = this._anims.array.indexOf(t);
                e >= 0 ? (this._anims.fastRemoveAt(e), 0 === this._anims.array.length && this.stop()) : cc.errorID(3907), t.animator = null
            }, h.sample = function () {
                var t = this._anims, e = t.array;
                for (t.i = 0; t.i < e.length; ++t.i) e[t.i].sample()
            }, h.stopState = function (t) {
                t && t.stop()
            }, h.pauseState = function (t) {
                t && t.pause()
            }, h.resumeState = function (t) {
                t && t.resume(), this.isPaused && this.resume()
            }, h.setStateTime = function (t, e) {
                if (void 0 !== e) t && (t.setTime(e), t.sample()); else {
                    e = t;
                    for (var i = this._anims.array, n = 0; n < i.length; ++n) {
                        var r = i[n];
                        r.setTime(e), r.sample()
                    }
                }
            }, h.onStop = function () {
                var t = this._anims, e = t.array;
                for (t.i = 0; t.i < e.length; ++t.i) e[t.i].stop()
            }, h.onPause = function () {
                for (var t = this._anims.array, e = 0; e < t.length; ++e) {
                    var i = t[e];
                    i.pause(), i.animator = null
                }
            }, h.onResume = function () {
                for (var t = this._anims.array, e = 0; e < t.length; ++e) {
                    var i = t[e];
                    i.animator = this, i.resume()
                }
            }, h._reloadClip = function (t) {
                u(this.target, t)
            }, e.exports = l
        }), {"../core/utils/binary-search": 243, "./animation-curves": 11, "./playable": 18, "./types": 19}],
        10: [(function (t, e) {
            "use strict";
            var i = t("./types").WrapMode, n = t("./animation-curves"), r = n.DynamicAnimCurve, s = n.quickFindIndex,
                a = t("./motion-path-helper").sampleMotionPaths,
                o = t("../core/utils/binary-search").binarySearchEpsilon, c = cc.Class({
                    name: "cc.AnimationClip",
                    extends: cc.Asset,
                    properties: {
                        _duration: {default: 0, type: cc.Float},
                        duration: {
                            get: function () {
                                return this._duration
                            }
                        },
                        sample: {default: 60},
                        speed: {default: 1},
                        wrapMode: {default: i.Normal},
                        curveData: {default: {}, visible: !1},
                        events: {default: [], visible: !1}
                    },
                    statics: {
                        createWithSpriteFrames: function (t, e) {
                            if (!Array.isArray(t)) return cc.errorID(3905), null;
                            var i = new c;
                            i.sample = e || i.sample, i._duration = t.length / i.sample;
                            for (var n = [], r = 1 / i.sample, s = 0, a = t.length; s < a; s++) n[s] = {
                                frame: s * r,
                                value: t[s]
                            };
                            return i.curveData = {comps: {"cc.Sprite": {spriteFrame: n}}}, i
                        }
                    },
                    onLoad: function () {
                        this._duration = Number.parseFloat(this.duration), this.speed = Number.parseFloat(this.speed), this.wrapMode = Number.parseInt(this.wrapMode), this.frameRate = Number.parseFloat(this.sample)
                    },
                    createPropCurve: function (t, e, i) {
                        var n = [], c = t instanceof cc.Node && "position" === e, l = new r;
                        l.target = t, l.prop = e;
                        for (var h = 0, u = i.length; h < u; h++) {
                            var f = i[h], d = f.frame / this.duration;
                            l.ratios.push(d), c && n.push(f.motionPath);
                            var _ = f.value;
                            l.values.push(_);
                            var p = f.curve;
                            if (p) {
                                if ("string" == typeof p) {
                                    l.types.push(p);
                                    continue
                                }
                                if (Array.isArray(p)) {
                                    p[0] === p[1] && p[2] === p[3] ? l.types.push(r.Linear) : l.types.push(r.Bezier(p));
                                    continue
                                }
                            }
                            l.types.push(r.Linear)
                        }
                        c && a(n, l, this.duration, this.sample, t);
                        for (var v, g, m = l.ratios, y = !0, T = 1, E = m.length; T < E; T++) if (v = m[T] - m[T - 1], 1 === T) g = v; else if (Math.abs(v - g) > 1e-6) {
                            y = !1;
                            break
                        }
                        l._findFrameIndex = y ? s : o;
                        var A = l.values[0];
                        return null == A || l._lerp || ("number" == typeof A ? l._lerp = r.prototype._lerpNumber : A instanceof cc.Quat ? l._lerp = r.prototype._lerpQuat : A instanceof cc.Vec2 ? l._lerp = r.prototype._lerpVector2 : A instanceof cc.Vec3 ? l._lerp = r.prototype._lerpVector3 : A.lerp && (l._lerp = r.prototype._lerpObject)), l
                    },
                    createTargetCurves: function (t, e, i) {
                        var n = e.props, r = e.comps;
                        if (n) for (var s in n) {
                            var a = n[s], o = this.createPropCurve(t, s, a);
                            i.push(o)
                        }
                        if (r) for (var c in r) {
                            var l = t.getComponent(c);
                            if (l) {
                                var h = r[c];
                                for (var u in h) {
                                    var f = h[u], d = this.createPropCurve(l, u, f);
                                    i.push(d)
                                }
                            }
                        }
                    },
                    createCurves: function (t, e) {
                        var i = this.curveData, n = i.paths, r = [];
                        for (var s in this.createTargetCurves(e, i, r), n) {
                            var a = cc.find(s, e);
                            if (a) {
                                var o = n[s];
                                this.createTargetCurves(a, o, r)
                            }
                        }
                        return r
                    }
                });
            cc.AnimationClip = e.exports = c
        }), {"../core/utils/binary-search": 243, "./animation-curves": 11, "./motion-path-helper": 17, "./types": 19}],
        11: [(function (t, e) {
            "use strict";
            var i = t("./bezier").bezierByTime, n = t("../core/utils/binary-search").binarySearchEpsilon,
                r = t("./types").WrapModeMask, s = t("./types").WrappedInfo;

            function a(t, e) {
                if ("string" == typeof e) {
                    var n = cc.easing[e];
                    n ? t = n(t) : cc.errorID(3906, e)
                } else Array.isArray(e) && (t = i(e, t));
                return t
            }

            var o = cc.Class({
                name: "cc.AnimCurve", sample: function () {
                }, onTimeChangedManually: void 0
            });
            var c, l = cc.Class({
                name: "cc.DynamicAnimCurve",
                extends: o,
                ctor: function () {
                    this._cachedIndex = 0
                },
                properties: {target: null, prop: "", values: [], ratios: [], types: []},
                _findFrameIndex: n,
                _lerp: void 0,
                _lerpNumber: function (t, e, i) {
                    return t + (e - t) * i
                },
                _lerpObject: function (t, e, i) {
                    return t.lerp(e, i)
                },
                _lerpQuat: (c = cc.quat(), function (t, e, i) {
                    return t.lerp(e, i, c)
                }),
                _lerpVector2: (function () {
                    var t = cc.v2();
                    return function (e, i, n) {
                        return e.lerp(i, n, t)
                    }
                })(),
                _lerpVector3: (function () {
                    var t = cc.v3();
                    return function (e, i, n) {
                        return e.lerp(i, n, t)
                    }
                })(),
                sample: function (t, e) {
                    var i = this.values, n = this.ratios, r = n.length;
                    if (0 !== r) {
                        var s, o = !0, c = this._cachedIndex;
                        if (c < 0 && (c = ~c) > 0 && c < n.length) {
                            var l = n[c - 1], h = n[c];
                            e > l && e < h && (o = !1)
                        }
                        o && (this._cachedIndex = this._findFrameIndex(n, e));
                        var u = this._cachedIndex;
                        if (u < 0) if ((u = ~u) <= 0) s = i[0]; else if (u >= r) s = i[r - 1]; else {
                            var f = i[u - 1];
                            if (this._lerp) {
                                var d = n[u - 1], _ = n[u], p = this.types[u - 1], v = (e - d) / (_ - d);
                                p && (v = a(v, p));
                                var g = i[u];
                                s = this._lerp(f, g, v)
                            } else s = f
                        } else s = i[u];
                        this.target[this.prop] = s
                    }
                }
            });
            l.Linear = null, l.Bezier = function (t) {
                return t
            };
            var h = function () {
                this.events = []
            };
            h.prototype.add = function (t, e) {
                this.events.push({func: t || "", params: e || []})
            };
            var u = cc.Class({
                name: "cc.EventAnimCurve",
                extends: o,
                properties: {
                    target: null, ratios: [], events: [], _wrappedInfo: {
                        default: function () {
                            return new s
                        }
                    }, _lastWrappedInfo: null, _ignoreIndex: NaN
                },
                _wrapIterations: function (t) {
                    return t - (0 | t) == 0 && (t -= 1), 0 | t
                },
                sample: function (t, e, i) {
                    var a = this.ratios.length, o = i.getWrappedInfo(i.time, this._wrappedInfo), c = o.direction,
                        l = n(this.ratios, o.ratio);
                    if (l < 0 && (l = ~l - 1, c < 0 && (l += 1)), this._ignoreIndex !== l && (this._ignoreIndex = NaN), o.frameIndex = l, !this._lastWrappedInfo) return this._fireEvent(l), void (this._lastWrappedInfo = new s(o));
                    var h = i.wrapMode, u = this._wrapIterations(o.iterations), f = this._lastWrappedInfo,
                        d = this._wrapIterations(f.iterations), _ = f.frameIndex, p = f.direction,
                        v = -1 !== d && u !== d;
                    if (_ === l && v && 1 === a) this._fireEvent(0); else if (_ !== l || v) {
                        c = p;
                        do {
                            if (_ !== l) {
                                if (-1 === c && 0 === _ && l > 0 ? ((h & r.PingPong) === r.PingPong ? c *= -1 : _ = a, d++) : 1 === c && _ === a - 1 && l < a - 1 && ((h & r.PingPong) === r.PingPong ? c *= -1 : _ = -1, d++), _ === l) break;
                                if (d > u) break
                            }
                            _ += c, cc.director.getAnimationManager().pushDelayEvent(this, "_fireEvent", [_])
                        } while (_ !== l && _ > -1 && _ < a)
                    }
                    this._lastWrappedInfo.set(o)
                },
                _fireEvent: function (t) {
                    if (!(t < 0 || t >= this.events.length || this._ignoreIndex === t)) {
                        var e = this.events[t].events;
                        if (this.target.isValid) for (var i = this.target._components, n = 0; n < e.length; n++) for (var r = e[n], s = r.func, a = 0; a < i.length; a++) {
                            var o = i[a], c = o[s];
                            c && c.apply(o, r.params)
                        }
                    }
                },
                onTimeChangedManually: function (t, e) {
                    this._lastWrappedInfo = null, this._ignoreIndex = NaN;
                    var i = e.getWrappedInfo(t, this._wrappedInfo), r = i.direction, s = n(this.ratios, i.ratio);
                    s < 0 && (s = ~s - 1, r < 0 && (s += 1), this._ignoreIndex = s)
                }
            });
            e.exports = {
                AnimCurve: o,
                DynamicAnimCurve: l,
                EventAnimCurve: u,
                EventInfo: h,
                computeRatioByType: a,
                quickFindIndex: function (t, e) {
                    var i = t.length - 1;
                    if (0 === i) return 0;
                    var n = t[0];
                    if (e < n) return 0;
                    var r = t[i];
                    if (e > r) return ~t.length;
                    var s = (e = (e - n) / (r - n)) / (1 / i), a = 0 | s;
                    return s - a < 1e-6 ? a : a + 1 - s < 1e-6 ? a + 1 : ~(a + 1)
                }
            }
        }), {"../core/utils/binary-search": 243, "./bezier": 14, "./types": 19}],
        12: [(function (t, e) {
            "use strict";
            var i = cc.js, n = cc.Class({
                ctor: function () {
                    this._anims = new i.array.MutableForwardIterator([]), this._delayEvents = [], cc.director._scheduler && cc.director._scheduler.enableForTarget(this)
                }, update: function (t) {
                    var e = this._anims, i = e.array;
                    for (e.i = 0; e.i < i.length; ++e.i) {
                        var n = i[e.i];
                        n._isPlaying && !n._isPaused && n.update(t)
                    }
                    for (var r = this._delayEvents, s = 0; s < r.length; s++) {
                        var a = r[s];
                        a.target[a.func].apply(a.target, a.args)
                    }
                    r.length = 0
                }, destruct: function () {
                }, addAnimation: function (t) {
                    -1 === this._anims.array.indexOf(t) && this._anims.push(t)
                }, removeAnimation: function (t) {
                    var e = this._anims.array.indexOf(t);
                    e >= 0 ? this._anims.fastRemoveAt(e) : cc.errorID(3907)
                }, pushDelayEvent: function (t, e, i) {
                    this._delayEvents.push({target: t, func: e, args: i})
                }
            });
            cc.AnimationManager = e.exports = n
        }), {}],
        13: [(function (t, e) {
            "use strict";
            var i = cc.js, n = t("./playable"), r = t("./types"), s = r.WrappedInfo, a = r.WrapMode, o = r.WrapModeMask;

            function c(t, e) {
                n.call(this), this._currentFramePlayed = !1, this._delay = 0, this._delayTime = 0, this._wrappedInfo = new s, this._lastWrappedInfo = null, this._process = h, this._clip = t, this._name = e || t && t.name, this.animator = null, this.curves = [], this.delay = 0, this.repeatCount = 1, this.duration = 1, this.speed = 1, this.wrapMode = a.Normal, this.time = 0, this._target = null, this._lastframeEventOn = !1, this.emit = function () {
                    for (var t = new Array(arguments.length), e = 0, i = t.length; e < i; e++) t[e] = arguments[e];
                    cc.director.getAnimationManager().pushDelayEvent(this, "_emit", t)
                }
            }

            i.extend(c, n);
            var l = c.prototype;

            function h() {
                var t, e = this.sample();
                this._lastframeEventOn && (t = this._lastWrappedInfo ? this._lastWrappedInfo : this._lastWrappedInfo = new s(e), this.repeatCount > 1 && (0 | e.iterations) > (0 | t.iterations) && this.emit("lastframe", this), t.set(e)), e.stopped && (this.stop(), this.emit("finished", this))
            }

            function u() {
                var t = this.time, e = this.duration;
                t > e ? 0 == (t %= e) && (t = e) : t < 0 && 0 != (t %= e) && (t += e);
                for (var i = t / e, n = this.curves, r = 0, s = n.length; r < s; r++) n[r].sample(t, i, this);
                this._lastframeEventOn && (void 0 === this._lastIterations && (this._lastIterations = i), (this.time > 0 && this._lastIterations > i || this.time < 0 && this._lastIterations < i) && this.emit("lastframe", this), this._lastIterations = i)
            }

            l._emit = function (t, e) {
                this._target && this._target.isValid && this._target.emit(t, t, e)
            }, l.on = function (t, e, i) {
                return this._target && this._target.isValid ? ("lastframe" === t && (this._lastframeEventOn = !0), this._target.on(t, e, i)) : null
            }, l.once = function (t, e, i) {
                if (this._target && this._target.isValid) {
                    "lastframe" === t && (this._lastframeEventOn = !0);
                    var n = this;
                    return this._target.once(t, (function (t) {
                        e.call(i, t), n._lastframeEventOn = !1
                    }))
                }
                return null
            }, l.off = function (t, e, i) {
                this._target && this._target.isValid && ("lastframe" === t && (this._target.hasEventListener(t) || (this._lastframeEventOn = !1)), this._target.off(t, e, i))
            }, l._setEventTarget = function (t) {
                this._target = t
            }, l.onPlay = function () {
                this.setTime(0), this._delayTime = this._delay, cc.director.getAnimationManager().addAnimation(this), this.animator && this.animator.addAnimation(this), this.emit("play", this)
            }, l.onStop = function () {
                this.isPaused || cc.director.getAnimationManager().removeAnimation(this), this.animator && this.animator.removeAnimation(this), this.emit("stop", this)
            }, l.onResume = function () {
                cc.director.getAnimationManager().addAnimation(this), this.emit("resume", this)
            }, l.onPause = function () {
                cc.director.getAnimationManager().removeAnimation(this), this.emit("pause", this)
            }, l.setTime = function (t) {
                this._currentFramePlayed = !1, this.time = t || 0;
                for (var e = this.curves, i = 0, n = e.length; i < n; i++) {
                    var r = e[i];
                    r.onTimeChangedManually && r.onTimeChangedManually(t, this)
                }
            }, l.update = function (t) {
                this._delayTime > 0 && (this._delayTime -= t, this._delayTime > 0) || (this._currentFramePlayed ? this.time += t * this.speed : this._currentFramePlayed = !0, this._process())
            }, l._needRevers = function (t) {
                var e = this.wrapMode, i = !1;
                return (e & o.PingPong) === o.PingPong && (t - (0 | t) == 0 && t > 0 && (t -= 1), 1 & t && (i = !i)), (e & o.Reverse) === o.Reverse && (i = !i), i
            }, l.getWrappedInfo = function (t, e) {
                e = e || new s;
                var i = !1, n = this.duration, r = this.repeatCount, a = t > 0 ? t / n : -t / n;
                if (a >= r) {
                    a = r, i = !0;
                    var c = r - (0 | r);
                    0 === c && (c = 1), t = c * n * (t > 0 ? 1 : -1)
                }
                if (t > n) {
                    var l = t % n;
                    t = 0 === l ? n : l
                } else t < 0 && 0 != (t %= n) && (t += n);
                var h = !1, u = this._wrapMode & o.ShouldWrap;
                u && (h = this._needRevers(a));
                var f = h ? -1 : 1;
                return this.speed < 0 && (f *= -1), u && h && (t = n - t), e.ratio = t / n, e.time = t, e.direction = f, e.stopped = i, e.iterations = a, e
            }, l.sample = function () {
                for (var t = this.getWrappedInfo(this.time, this._wrappedInfo), e = this.curves, i = 0, n = e.length; i < n; i++) e[i].sample(t.time, t.ratio, this);
                return t
            }, i.get(l, "clip", (function () {
                return this._clip
            })), i.get(l, "name", (function () {
                return this._name
            })), i.obsolete(l, "AnimationState.length", "duration"), i.getset(l, "curveLoaded", (function () {
                return this.curves.length > 0
            }), (function () {
                this.curves.length = 0
            })), i.getset(l, "wrapMode", (function () {
                return this._wrapMode
            }), (function (t) {
                this._wrapMode = t, this.time = 0, t & o.Loop ? this.repeatCount = 1 / 0 : this.repeatCount = 1
            })), i.getset(l, "repeatCount", (function () {
                return this._repeatCount
            }), (function (t) {
                this._repeatCount = t;
                var e = this._wrapMode & o.ShouldWrap, i = (this.wrapMode & o.Reverse) === o.Reverse;
                this._process = t !== 1 / 0 || e || i ? h : u
            })), i.getset(l, "delay", (function () {
                return this._delay
            }), (function (t) {
                this._delayTime = this._delay = t
            })), cc.AnimationState = e.exports = c
        }), {"./playable": 18, "./types": 19}],
        14: [(function (t, e) {
            "use strict";
            var i = Math.cos, n = Math.acos, r = Math.max, s = 2 * Math.PI, a = Math.sqrt;

            function o(t) {
                return t < 0 ? -Math.pow(-t, 1 / 3) : Math.pow(t, 1 / 3)
            }

            function c(t, e) {
                var c, l, h, u, f = e - 0, d = e - t[0], _ = 3 * f, p = 3 * d, v = 3 * (e - t[2]),
                    g = 1 / (-f + p - v + (e - 1)), m = (_ - 6 * d + v) * g, y = m * (1 / 3), T = (-_ + p) * g,
                    E = 1 / 3 * (3 * T - m * m), A = E * (1 / 3), b = (2 * m * m * m - 9 * m * T + f * g * 27) / 27,
                    x = b / 2, C = x * x + A * A * A;
                if (C < 0) {
                    var S = 1 / 3 * -E, w = a(S * S * S), M = -b / (2 * w), R = n(M < -1 ? -1 : M > 1 ? 1 : M),
                        I = 2 * o(w);
                    return l = I * i(R * (1 / 3)) - y, h = I * i((R + s) * (1 / 3)) - y, u = I * i((R + 2 * s) * (1 / 3)) - y, 0 <= l && l <= 1 ? 0 <= h && h <= 1 ? 0 <= u && u <= 1 ? r(l, h, u) : r(l, h) : 0 <= u && u <= 1 ? r(l, u) : l : 0 <= h && h <= 1 ? 0 <= u && u <= 1 ? r(h, u) : h : u
                }
                if (0 === C) return h = -(c = x < 0 ? o(-x) : -o(x)) - y, 0 <= (l = 2 * c - y) && l <= 1 ? 0 <= h && h <= 1 ? r(l, h) : l : h;
                var O = a(C);
                return (c = o(-x + O)) - o(x + O) - y
            }

            e.exports = {
                bezier: function (t, e, i, n, r) {
                    var s = 1 - r;
                    return s * (s * (t + (3 * e - t) * r) + 3 * i * r * r) + n * r * r * r
                }, bezierByTime: function (t, e) {
                    var i = c(t, e), n = t[1];
                    return ((1 - i) * (n + (t[3] - n) * i) * 3 + i * i) * i
                }
            }
        }), {}],
        15: [(function (t, e) {
            "use strict";
            var i = {
                constant: function () {
                    return 0
                }, linear: function (t) {
                    return t
                }, quadIn: function (t) {
                    return t * t
                }, quadOut: function (t) {
                    return t * (2 - t)
                }, quadInOut: function (t) {
                    return (t *= 2) < 1 ? .5 * t * t : -.5 * (--t * (t - 2) - 1)
                }, cubicIn: function (t) {
                    return t * t * t
                }, cubicOut: function (t) {
                    return --t * t * t + 1
                }, cubicInOut: function (t) {
                    return (t *= 2) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2)
                }, quartIn: function (t) {
                    return t * t * t * t
                }, quartOut: function (t) {
                    return 1 - --t * t * t * t
                }, quartInOut: function (t) {
                    return (t *= 2) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2)
                }, quintIn: function (t) {
                    return t * t * t * t * t
                }, quintOut: function (t) {
                    return --t * t * t * t * t + 1
                }, quintInOut: function (t) {
                    return (t *= 2) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2)
                }, sineIn: function (t) {
                    return 1 - Math.cos(t * Math.PI / 2)
                }, sineOut: function (t) {
                    return Math.sin(t * Math.PI / 2)
                }, sineInOut: function (t) {
                    return .5 * (1 - Math.cos(Math.PI * t))
                }, expoIn: function (t) {
                    return 0 === t ? 0 : Math.pow(1024, t - 1)
                }, expoOut: function (t) {
                    return 1 === t ? 1 : 1 - Math.pow(2, -10 * t)
                }, expoInOut: function (t) {
                    return 0 === t ? 0 : 1 === t ? 1 : (t *= 2) < 1 ? .5 * Math.pow(1024, t - 1) : .5 * (2 - Math.pow(2, -10 * (t - 1)))
                }, circIn: function (t) {
                    return 1 - Math.sqrt(1 - t * t)
                }, circOut: function (t) {
                    return Math.sqrt(1 - --t * t)
                }, circInOut: function (t) {
                    return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
                }, elasticIn: function (t) {
                    var e, i = .1;
                    return 0 === t ? 0 : 1 === t ? 1 : (!i || i < 1 ? (i = 1, e = .1) : e = .4 * Math.asin(1 / i) / (2 * Math.PI), -i * Math.pow(2, 10 * (t -= 1)) * Math.sin(2 * (t - e) * Math.PI / .4))
                }, elasticOut: function (t) {
                    var e, i = .1;
                    return 0 === t ? 0 : 1 === t ? 1 : (!i || i < 1 ? (i = 1, e = .1) : e = .4 * Math.asin(1 / i) / (2 * Math.PI), i * Math.pow(2, -10 * t) * Math.sin(2 * (t - e) * Math.PI / .4) + 1)
                }, elasticInOut: function (t) {
                    var e, i = .1;
                    return 0 === t ? 0 : 1 === t ? 1 : (!i || i < 1 ? (i = 1, e = .1) : e = .4 * Math.asin(1 / i) / (2 * Math.PI), (t *= 2) < 1 ? i * Math.pow(2, 10 * (t -= 1)) * Math.sin(2 * (t - e) * Math.PI / .4) * -.5 : i * Math.pow(2, -10 * (t -= 1)) * Math.sin(2 * (t - e) * Math.PI / .4) * .5 + 1)
                }, backIn: function (t) {
                    var e = 1.70158;
                    return t * t * ((e + 1) * t - e)
                }, backOut: function (t) {
                    var e = 1.70158;
                    return --t * t * ((e + 1) * t + e) + 1
                }, backInOut: function (t) {
                    var e = 2.5949095;
                    return (t *= 2) < 1 ? t * t * ((e + 1) * t - e) * .5 : .5 * ((t -= 2) * t * ((e + 1) * t + e) + 2)
                }, bounceIn: function (t) {
                    return 1 - i.bounceOut(1 - t)
                }, bounceOut: function (t) {
                    return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375
                }, bounceInOut: function (t) {
                    return t < .5 ? .5 * i.bounceIn(2 * t) : .5 * i.bounceOut(2 * t - 1) + .5
                }, smooth: function (t) {
                    return t <= 0 ? 0 : t >= 1 ? 1 : t * t * (3 - 2 * t)
                }, fade: function (t) {
                    return t <= 0 ? 0 : t >= 1 ? 1 : t * t * t * (t * (6 * t - 15) + 10)
                }
            };

            function n(t, e) {
                return function (i) {
                    return i < .5 ? e(2 * i) / 2 : t(2 * i - 1) / 2 + .5
                }
            }

            i.quadOutIn = n(i.quadIn, i.quadOut), i.cubicOutIn = n(i.cubicIn, i.cubicOut), i.quartOutIn = n(i.quartIn, i.quartOut), i.quintOutIn = n(i.quintIn, i.quintOut), i.sineOutIn = n(i.sineIn, i.sineOut), i.expoOutIn = n(i.expoIn, i.expoOut), i.circOutIn = n(i.circIn, i.circOut), i.backOutIn = n(i.backIn, i.backOut), i.bounceIn = function (t) {
                return 1 - i.bounceOut(1 - t)
            }, i.bounceInOut = function (t) {
                return t < .5 ? .5 * i.bounceIn(2 * t) : .5 * i.bounceOut(2 * t - 1) + .5
            }, i.bounceOutIn = n(i.bounceIn, i.bounceOut), cc.easing = e.exports = i
        }), {}],
        16: [(function (t) {
            "use strict";
            t("./bezier"), t("./easing"), t("./types"), t("./motion-path-helper"), t("./animation-curves"), t("./animation-clip"), t("./animation-manager"), t("./animation-state"), t("./animation-animator")
        }), {
            "./animation-animator": 9,
            "./animation-clip": 10,
            "./animation-curves": 11,
            "./animation-manager": 12,
            "./animation-state": 13,
            "./bezier": 14,
            "./easing": 15,
            "./motion-path-helper": 17,
            "./types": 19
        }],
        17: [(function (t, e) {
            "use strict";
            var i = t("./animation-curves").DynamicAnimCurve, n = t("./animation-curves").computeRatioByType,
                r = t("./bezier").bezier, s = t("../core/utils/binary-search").binarySearchEpsilon, a = cc.v2;

            function o(t) {
                this.points = t || [], this.beziers = [], this.ratios = [], this.progresses = [], this.length = 0, this.computeBeziers()
            }

            function c() {
                this.start = a(), this.end = a(), this.startCtrlPoint = a(), this.endCtrlPoint = a()
            }

            function l(t) {
                if (!Array.isArray(t)) return !1;
                for (var e = 0, i = t.length; e < i; e++) {
                    var n = t[e];
                    if (!Array.isArray(n) || 6 !== n.length) return !1
                }
                return !0
            }

            o.prototype.computeBeziers = function () {
                var t;
                this.beziers.length = 0, this.ratios.length = 0, this.progresses.length = 0, this.length = 0;
                for (var e = 1; e < this.points.length; e++) {
                    var i = this.points[e - 1], n = this.points[e];
                    (t = new c).start = i.pos, t.startCtrlPoint = i.out, t.end = n.pos, t.endCtrlPoint = n.in, this.beziers.push(t), this.length += t.getLength()
                }
                var r = 0;
                for (e = 0; e < this.beziers.length; e++) t = this.beziers[e], this.ratios[e] = t.getLength() / this.length, this.progresses[e] = r += this.ratios[e];
                return this.beziers
            }, c.prototype.getPointAt = function (t) {
                var e = this.getUtoTmapping(t);
                return this.getPoint(e)
            }, c.prototype.getPoint = function (t) {
                var e = r(this.start.x, this.startCtrlPoint.x, this.endCtrlPoint.x, this.end.x, t),
                    i = r(this.start.y, this.startCtrlPoint.y, this.endCtrlPoint.y, this.end.y, t);
                return new a(e, i)
            }, c.prototype.getLength = function () {
                var t = this.getLengths();
                return t[t.length - 1]
            }, c.prototype.getLengths = function (t) {
                if (t || (t = this.__arcLengthDivisions ? this.__arcLengthDivisions : 200), this.cacheArcLengths && this.cacheArcLengths.length === t + 1) return this.cacheArcLengths;
                var e, i, n = [], r = this.getPoint(0), s = a(), o = 0;
                for (n.push(0), i = 1; i <= t; i++) e = this.getPoint(i / t), s.x = r.x - e.x, s.y = r.y - e.y, o += s.mag(), n.push(o), r = e;
                return this.cacheArcLengths = n, n
            }, c.prototype.getUtoTmapping = function (t, e) {
                var i, n = this.getLengths(), r = 0, s = n.length;
                i = e || t * n[s - 1];
                for (var a, o = 0, c = s - 1; o <= c;) if ((a = n[r = Math.floor(o + (c - o) / 2)] - i) < 0) o = r + 1; else {
                    if (!(a > 0)) {
                        c = r;
                        break
                    }
                    c = r - 1
                }
                if (n[r = c] === i) return r / (s - 1);
                var l = n[r];
                return (r + (i - l) / (n[r + 1] - l)) / (s - 1)
            }, e.exports = {
                sampleMotionPaths: function (t, e, r, c, h) {
                    function u(t) {
                        return t instanceof cc.Vec2 ? {
                            in: t,
                            pos: t,
                            out: t
                        } : Array.isArray(t) && 6 === t.length ? {
                            in: a(t[2], t[3]),
                            pos: a(t[0], t[1]),
                            out: a(t[4], t[5])
                        } : {in: cc.Vec2.ZERO, pos: cc.Vec2.ZERO, out: cc.Vec2.ZERO}
                    }

                    var f = e.values = e.values.map((function (t) {
                        return Array.isArray(t) && (t = 2 === t.length ? cc.v2(t[0], t[1]) : cc.v3(t[0], t[1], t[2])), t
                    }));
                    if (0 !== t.length && 0 !== f.length) {
                        for (var d = !1, _ = 0; _ < t.length; _++) {
                            var p = t[_];
                            if (p && !l(p) && (cc.errorID(3904, h ? h.name : "", "position", _), p = null), p && p.length > 0) {
                                d = !0;
                                break
                            }
                        }
                        if (d && 1 !== f.length) {
                            for (var v = e.types, g = e.ratios, m = e.values = [], y = e.types = [], T = e.ratios = [], E = 0, A = i.Linear, b = 0, x = t.length; b < x - 1; b++) {
                                var C, S = t[b], w = g[b], M = g[b + 1] - w, R = f[b], I = f[b + 1], O = v[b], D = [],
                                    P = E / M, L = 1 / (M * r * c);
                                if (S && S.length > 0) {
                                    var N = [];
                                    N.push(u(R));
                                    for (var F = 0, B = S.length; F < B; F++) {
                                        var k = u(S[F]);
                                        N.push(k)
                                    }
                                    N.push(u(I));
                                    var V = new o(N);
                                    V.computeBeziers();
                                    for (var U = V.progresses; 1 - P > 1e-6;) {
                                        var z, H, W, G;
                                        if ((C = n(C = P, O)) < 0) G = (0 - C) * (H = V.beziers[0]).getLength(), W = H.start.sub(H.endCtrlPoint).normalize(), z = H.start.add(W.mul(G)); else if (C > 1) G = (C - 1) * (H = V.beziers[V.beziers.length - 1]).getLength(), W = H.end.sub(H.startCtrlPoint).normalize(), z = H.end.add(W.mul(G)); else {
                                            var j = s(U, C);
                                            j < 0 && (j = ~j), C -= j > 0 ? U[j - 1] : 0, C /= V.ratios[j], z = V.beziers[j].getPointAt(C)
                                        }
                                        D.push(z), P += L
                                    }
                                } else for (; 1 - P > 1e-6;) C = n(C = P, O), D.push(R.lerp(I, C)), P += L;
                                for (A = "constant" === O ? O : i.Linear, F = 0, B = D.length; F < B; F++) {
                                    var X = w + E + L * F * M;
                                    Y(D[F], A, X)
                                }
                                E = Math.abs(P - 1) > 1e-6 ? (P - 1) * M : 0
                            }
                            g[g.length - 1] !== T[T.length - 1] && Y(f[f.length - 1], A, g[g.length - 1])
                        }
                    }

                    function Y(t, e, i) {
                        m.push(t), y.push(e), T.push(i)
                    }
                }, Curve: o, Bezier: c
            }
        }), {"../core/utils/binary-search": 243, "./animation-curves": 11, "./bezier": 14}],
        18: [(function (t, e) {
            "use strict";
            var i = cc.js, n = t("../core/CCDebug");

            function r() {
                this._isPlaying = !1, this._isPaused = !1, this._stepOnce = !1
            }

            var s = r.prototype;
            i.get(s, "isPlaying", (function () {
                return this._isPlaying
            }), !0), i.get(s, "isPaused", (function () {
                return this._isPaused
            }), !0);
            var a = function () {
            };
            s.onPlay = a, s.onPause = a, s.onResume = a, s.onStop = a, s.onError = a, s.play = function () {
                this._isPlaying ? this._isPaused ? (this._isPaused = !1, this.onResume()) : this.onError(n.getError(3912)) : (this._isPlaying = !0, this.onPlay())
            }, s.stop = function () {
                this._isPlaying && (this._isPlaying = !1, this.onStop(), this._isPaused = !1)
            }, s.pause = function () {
                this._isPlaying && !this._isPaused && (this._isPaused = !0, this.onPause())
            }, s.resume = function () {
                this._isPlaying && this._isPaused && (this._isPaused = !1, this.onResume())
            }, s.step = function () {
                this.pause(), this._stepOnce = !0, this._isPlaying || this.play()
            }, e.exports = r
        }), {"../core/CCDebug": 36}],
        19: [(function (t, e) {
            "use strict";
            var i = {Loop: 2, ShouldWrap: 4, PingPong: 22, Reverse: 36}, n = cc.Enum({
                Default: 0,
                Normal: 1,
                Reverse: i.Reverse,
                Loop: i.Loop,
                LoopReverse: i.Loop | i.Reverse,
                PingPong: i.PingPong,
                PingPongReverse: i.PingPong | i.Reverse
            });

            function r(t) {
                t ? this.set(t) : (this.ratio = 0, this.time = 0, this.direction = 1, this.stopped = !0, this.iterations = 0, this.frameIndex = void 0)
            }

            cc.WrapMode = n, r.prototype.set = function (t) {
                this.ratio = t.ratio, this.time = t.time, this.direction = t.direction, this.stopped = t.stopped, this.iterations = t.iterations, this.frameIndex = t.frameIndex
            }, e.exports = {WrapModeMask: i, WrapMode: n, WrappedInfo: r}
        }), {}],
        20: [(function (t, e) {
            "use strict";
            var i, n, r = t("../core/event/event-target"), s = t("../core/platform/CCSys"),
                a = t("../core/assets/CCAudioClip").LoadMode, o = !1, c = [], l = function t(e) {
                    r.call(this), this._shouldRecycleOnEnded = !1, this._src = e, this._element = null, this.id = 0, this._state = t.State.INITIALZING;
                    var i = this;
                    this._onended = function () {
                        i._state = t.State.STOPPED, i.emit("ended")
                    }, this._onendedSecond = function () {
                        i._unbindEnded(i._onendedSecond), i._bindEnded()
                    }
                };
            cc.js.extend(l, r), l.State = {
                ERROR: -1,
                INITIALZING: 0,
                PLAYING: 1,
                PAUSED: 2,
                STOPPED: 3
            }, (i = l.prototype)._bindEnded = function (t) {
                if (!(t = t || this._onended)._binded) {
                    t._binded = !0;
                    var e = this._element;
                    this._src && e instanceof HTMLAudioElement ? e.addEventListener("ended", t) : e.onended = t
                }
            }, i._unbindEnded = function (t) {
                if ((t = t || this._onended)._binded) {
                    t._binded = !1;
                    var e = this._element;
                    e instanceof HTMLAudioElement ? e.removeEventListener("ended", t) : e && (e.onended = null)
                }
            }, i._onLoaded = function () {
                this._createElement(), this._state = l.State.INITIALZING, this.setVolume(1), this.setLoop(!1)
            }, i._createElement = function () {
                var t = this._src._nativeAsset;
                t instanceof HTMLAudioElement ? (this._element || (this._element = document.createElement("audio")), this._element.src = t.src) : this._element = new h(t, this)
            }, i.play = function () {
                var t = this;
                this._src && this._src._ensureLoaded((function () {
                    t._state = l.State.PLAYING, t._bindEnded();
                    var e = t._element.play();
                    window.Promise && e instanceof Promise && e.catch((function () {
                    })), t._touchToPlay()
                }))
            }, i._touchToPlay = function () {
                if (this._src && this._src.loadMode === a.DOM_AUDIO && this._element.paused && c.push({
                    instance: this,
                    offset: 0,
                    audio: this._element
                }), !o) {
                    o = !0;
                    var t = "ontouchend" in window ? "touchend" : "mousedown";
                    cc.game.canvas.addEventListener(t, (function () {
                        for (var t; t = c.pop();) t.audio.play(t.offset)
                    }))
                }
            }, i.destroy = function () {
                this._element = null
            }, i.pause = function () {
                if (this.getState() === l.State.PLAYING) {
                    var t = this;
                    this._src && this._src._ensureLoaded((function () {
                        t._unbindEnded(), t._element.pause(), t._state = l.State.PAUSED
                    }))
                }
            }, i.resume = function () {
                if (this.getState() === l.State.PAUSED) {
                    var t = this;
                    this._src && this._src._ensureLoaded((function () {
                        t._bindEnded(), t._element.play(), t._state = l.State.PLAYING
                    }))
                }
            }, i.stop = function () {
                var t = this;
                this._src && this._src._ensureLoaded((function () {
                    t._element.pause(), t._element.currentTime = 0;
                    for (var e = 0; e < c.length; e++) if (c[e].instance === t) {
                        c.splice(e, 1);
                        break
                    }
                    t._unbindEnded(), t.emit("stop"), t._state = l.State.STOPPED
                }))
            }, i.setLoop = function (t) {
                var e = this;
                this._src && this._src._ensureLoaded((function () {
                    e._element.loop = t
                }))
            }, i.getLoop = function () {
                return !!this._element && this._element.loop
            }, i.setVolume = function (t) {
                var e = this;
                this._src && this._src._ensureLoaded((function () {
                    e._element.volume = t
                }))
            }, i.getVolume = function () {
                return this._element ? this._element.volume : 1
            }, i.setCurrentTime = function (t) {
                var e = this;
                this._src && this._src._ensureLoaded((function () {
                    e._unbindEnded(), e._bindEnded(e._onendedSecond), e._element.currentTime = t
                }))
            }, i.getCurrentTime = function () {
                return this._element ? this._element.currentTime : 0
            }, i.getDuration = function () {
                return this._src ? this._src.duration : 0
            }, i.getState = function (t) {
                return void 0 === t && (t = !0), t && this._forceUpdatingState(), this._state
            }, i._forceUpdatingState = function () {
                var t = this._element;
                t && (l.State.PLAYING === this._state && t.paused ? this._state = l.State.STOPPED : l.State.STOPPED !== this._state || t.paused || (this._state = l.State.PLAYING))
            }, Object.defineProperty(i, "src", {
                get: function () {
                    return this._src
                }, set: function (t) {
                    if (this._unbindEnded(), t && t.isValid) {
                        if (t !== this._src) if (this._src = t, t.loaded) this._onLoaded(); else {
                            var e = this;
                            t.once("load", (function () {
                                t === e._src && e._onLoaded()
                            }))
                        }
                    } else this._src = null, this._element instanceof h ? this._element = null : this._element && (this._element.src = ""), this._state = l.State.INITIALZING;
                    return t
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(i, "paused", {
                get: function () {
                    return !this._element || this._element.paused
                }, enumerable: !0, configurable: !0
            }), n = cc.sys.browserType === cc.sys.BROWSER_TYPE_EDGE || cc.sys.browserType === cc.sys.BROWSER_TYPE_BAIDU || cc.sys.browserType === cc.sys.BROWSER_TYPE_UC ? .01 : 0;
            var h = function (t, e) {
                this._audio = e, this._context = s.__audioSupport.context, this._buffer = t, this._gainObj = this._context.createGain(), this.volume = 1, this._gainObj.connect(this._context.destination), this._loop = !1, this._startTime = -1, this._currentSource = null, this.playedLength = 0, this._currentTimer = null, this._endCallback = function () {
                    this.onended && this.onended(this)
                }.bind(this)
            };
            (function (t) {
                t.play = function (t) {
                    this._currentSource && !this.paused && (this._currentSource.onended = null, this._currentSource.stop(0), this.playedLength = 0);
                    var e = this._context.createBufferSource();
                    e.buffer = this._buffer, e.connect(this._gainObj), e.loop = this._loop, this._startTime = this._context.currentTime, (t = t || this.playedLength) && (this._startTime -= t);
                    var i, n = this._buffer.duration, r = t;
                    if (this._loop ? e.start ? e.start(0, r) : e.notoGrainOn ? e.noteGrainOn(0, r) : e.noteOn(0, r) : (i = n - t, e.start ? e.start(0, r, i) : e.noteGrainOn ? e.noteGrainOn(0, r, i) : e.noteOn(0, r, i)), this._currentSource = e, e.onended = this._endCallback, (!e.context.state || "suspended" === e.context.state) && 0 === this._context.currentTime) {
                        var s = this;
                        clearTimeout(this._currentTimer), this._currentTimer = setTimeout((function () {
                            0 === s._context.currentTime && c.push({instance: s._audio, offset: t, audio: s})
                        }), 10)
                    }
                    var a = cc.sys;
                    a.os === a.OS_IOS && a.isBrowser && a.isMobile && ("suspended" === e.context.state && 0 !== this._context.currentTime || "interrupted" === e.context.state) && e.context.resume()
                }, t.pause = function () {
                    if (clearTimeout(this._currentTimer), !this.paused) {
                        this.playedLength = this._context.currentTime - this._startTime, this.playedLength %= this._buffer.duration;
                        var t = this._currentSource;
                        t && (t.onended && (t.onended._binded = !1, t.onended = null), t.stop(0)), this._currentSource = null, this._startTime = -1
                    }
                }, Object.defineProperty(t, "paused", {
                    get: function () {
                        return (!this._currentSource || !this._currentSource.loop) && (-1 === this._startTime || this._context.currentTime - this._startTime > this._buffer.duration)
                    }, enumerable: !0, configurable: !0
                }), Object.defineProperty(t, "loop", {
                    get: function () {
                        return this._loop
                    }, set: function (t) {
                        return this._currentSource && (this._currentSource.loop = t), this._loop = t
                    }, enumerable: !0, configurable: !0
                }), Object.defineProperty(t, "volume", {
                    get: function () {
                        return this._volume
                    }, set: function (t) {
                        if (this._volume = t, this._gainObj.gain.setTargetAtTime) try {
                            this._gainObj.gain.setTargetAtTime(t, this._context.currentTime, n)
                        } catch (e) {
                            this._gainObj.gain.setTargetAtTime(t, this._context.currentTime, .01)
                        } else this._gainObj.gain.value = t;
                        s.os === s.OS_IOS && !this.paused && this._currentSource && (this._currentSource.onended = null, this.pause(), this.play())
                    }, enumerable: !0, configurable: !0
                }), Object.defineProperty(t, "currentTime", {
                    get: function () {
                        return this.paused ? this.playedLength : (this.playedLength = this._context.currentTime - this._startTime, this.playedLength %= this._buffer.duration, this.playedLength)
                    }, set: function (t) {
                        return this.paused ? this.playedLength = t : (this.pause(), this.playedLength = t, this.play()), t
                    }, enumerable: !0, configurable: !0
                }), Object.defineProperty(t, "duration", {
                    get: function () {
                        return this._buffer.duration
                    }, enumerable: !0, configurable: !0
                })
            })(h.prototype), e.exports = cc._Audio = l
        }), {"../core/assets/CCAudioClip": 73, "../core/event/event-target": 140, "../core/platform/CCSys": 176}],
        21: [(function (t, e) {
            "use strict";
            var i = t("./CCAudio"), n = t("../core/assets/CCAudioClip"), r = cc.js, s = 0, a = r.createMap(!0), o = {},
                c = [], l = function (t) {
                    t._shouldRecycleOnEnded && (t._finishCallback = null, t.off("ended"), t.off("stop"), t.src = null, c.includes(t) || (c.length < d._maxPoolSize ? c.push(t) : t.destroy()), t._shouldRecycleOnEnded = !1)
                }, h = function (t) {
                    var e = ++s, n = o[t];
                    if (n || (n = o[t] = []), d._maxAudioInstance <= n.length) {
                        var r = n.shift();
                        u(r).stop()
                    }
                    var h = c.pop() || new i, f = function () {
                        if (u(this.id)) {
                            delete a[this.id];
                            var t = n.indexOf(this.id);
                            cc.js.array.fastRemoveAt(n, t)
                        }
                        l(this)
                    };
                    return h.on("ended", (function () {
                        this._finishCallback && this._finishCallback(), this.getLoop() || f.call(this)
                    }), h), h.on("stop", f, h), h.id = e, a[e] = h, n.push(e), h
                }, u = function (t) {
                    return a[t]
                }, f = function (t) {
                    return void 0 === t ? t = 1 : "string" == typeof t && (t = Number.parseFloat(t)), t
                }, d = {
                    AudioState: i.State,
                    _maxAudioInstance: 24,
                    _maxPoolSize: 32,
                    _id2audio: a,
                    play: function (t, e, i) {
                        if (!(t instanceof n)) return cc.error("Wrong type of AudioClip.");
                        var r = t.nativeUrl, s = h(r);
                        return s.src = t, t._ensureLoaded(), s._shouldRecycleOnEnded = !0, s.setLoop(e || !1), i = f(i), s.setVolume(i), s.play(), s.id
                    },
                    setLoop: function (t, e) {
                        var i = u(t);
                        i && i.setLoop && i.setLoop(e)
                    },
                    isLoop: function (t) {
                        var e = u(t);
                        return !(!e || !e.getLoop) && e.getLoop()
                    },
                    setVolume: function (t, e) {
                        var i = u(t);
                        i && i.setVolume(e)
                    },
                    getVolume: function (t) {
                        var e = u(t);
                        return e ? e.getVolume() : 1
                    },
                    setCurrentTime: function (t, e) {
                        var i = u(t);
                        return !!i && (i.setCurrentTime(e), !0)
                    },
                    getCurrentTime: function (t) {
                        var e = u(t);
                        return e ? e.getCurrentTime() : 0
                    },
                    getDuration: function (t) {
                        var e = u(t);
                        return e ? e.getDuration() : 0
                    },
                    getState: function (t) {
                        var e = u(t);
                        return e ? e.getState() : this.AudioState.ERROR
                    },
                    isPlaying: function (t) {
                        return this.getState(t) === this.AudioState.PLAYING
                    },
                    setFinishCallback: function (t, e) {
                        var i = u(t);
                        i && (i._finishCallback = e)
                    },
                    pause: function (t) {
                        var e = u(t);
                        return !!e && (e.pause(), !0)
                    },
                    _pauseIDCache: [],
                    pauseAll: function () {
                        for (var t in a) {
                            var e = a[t];
                            e.getState() === i.State.PLAYING && (this._pauseIDCache.push(t), e.pause())
                        }
                    },
                    resume: function (t) {
                        var e = u(t);
                        e && e.resume()
                    },
                    resumeAll: function () {
                        for (var t = 0; t < this._pauseIDCache.length; ++t) {
                            var e = this._pauseIDCache[t], i = u(e);
                            i && i.resume()
                        }
                        this._pauseIDCache.length = 0
                    },
                    stop: function (t) {
                        var e = u(t);
                        return !!e && (e.stop(), !0)
                    },
                    stopAll: function () {
                        for (var t in a) {
                            var e = a[t];
                            e && e.stop()
                        }
                    },
                    setMaxAudioInstance: function () {
                    },
                    getMaxAudioInstance: function () {
                        return this._maxAudioInstance
                    },
                    uncache: function (t) {
                        var e = t;
                        if ("string" == typeof t) cc.warnID(8401, "cc.audioEngine", "cc.AudioClip", "AudioClip", "cc.AudioClip", "audio"), e = t; else {
                            if (!t) return;
                            e = t.nativeUrl
                        }
                        var i = o[e];
                        if (i) for (; i.length > 0;) {
                            var n = i.pop(), r = a[n];
                            r && (r.stop(), delete a[n])
                        }
                    },
                    uncacheAll: function () {
                        var t;
                        for (var e in this.stopAll(), a) (t = a[e]) && t.destroy();
                        for (; t = c.pop();) t.destroy();
                        a = r.createMap(!0), o = {}
                    },
                    _breakCache: null,
                    _break: function () {
                        for (var t in this._breakCache = [], a) {
                            var e = a[t];
                            e.getState() === i.State.PLAYING && (this._breakCache.push(t), e.pause())
                        }
                    },
                    _restore: function () {
                        if (this._breakCache) {
                            for (; this._breakCache.length > 0;) {
                                var t = this._breakCache.pop(), e = u(t);
                                e && e.resume && e.resume()
                            }
                            this._breakCache = null
                        }
                    },
                    _music: {id: -1, loop: !1, volume: 1},
                    _effect: {volume: 1, pauseCache: []},
                    playMusic: function (t, e) {
                        var i = this._music;
                        return this.stop(i.id), i.id = this.play(t, e, i.volume), i.loop = e, i.id
                    },
                    stopMusic: function () {
                        this.stop(this._music.id)
                    },
                    pauseMusic: function () {
                        return this.pause(this._music.id), this._music.id
                    },
                    resumeMusic: function () {
                        return this.resume(this._music.id), this._music.id
                    },
                    getMusicVolume: function () {
                        return this._music.volume
                    },
                    setMusicVolume: function (t) {
                        t = f(t);
                        var e = this._music;
                        return e.volume = t, this.setVolume(e.id, e.volume), e.volume
                    },
                    isMusicPlaying: function () {
                        return this.getState(this._music.id) === this.AudioState.PLAYING
                    },
                    playEffect: function (t, e) {
                        return this.play(t, e || !1, this._effect.volume)
                    },
                    setEffectsVolume: function (t) {
                        t = f(t);
                        var e = this._music.id;
                        for (var i in this._effect.volume = t, a) {
                            var n = a[i];
                            n && n.id !== e && d.setVolume(i, t)
                        }
                    },
                    getEffectsVolume: function () {
                        return this._effect.volume
                    },
                    pauseEffect: function (t) {
                        return this.pause(t)
                    },
                    pauseAllEffects: function () {
                        var t = this._music.id, e = this._effect;
                        for (var i in e.pauseCache.length = 0, a) {
                            var n = a[i];
                            n && n.id !== t && n.getState() === this.AudioState.PLAYING && (e.pauseCache.push(i), n.pause())
                        }
                    },
                    resumeEffect: function (t) {
                        this.resume(t)
                    },
                    resumeAllEffects: function () {
                        for (var t = this._effect.pauseCache, e = 0; e < t.length; ++e) {
                            var i = t[e], n = a[i];
                            n && n.resume()
                        }
                    },
                    stopEffect: function (t) {
                        return this.stop(t)
                    },
                    stopAllEffects: function () {
                        var t = this._music.id;
                        for (var e in a) {
                            var i = a[e];
                            i && i.id !== t && i.getState() === d.AudioState.PLAYING && i.stop()
                        }
                    }
                };
            e.exports = cc.audioEngine = d
        }), {"../core/assets/CCAudioClip": 73, "./CCAudio": 20}],
        22: [(function (t, e) {
            "use strict";
            var i = {name: "Jacob__Codec"};
            i.Base64 = t("./base64"), i.GZip = t("./gzip"), i.unzip = function () {
                return i.GZip.gunzip.apply(i.GZip, arguments)
            }, i.unzipBase64 = function () {
                var t = i.Base64.decode.apply(i.Base64, arguments);
                try {
                    return i.GZip.gunzip.call(i.GZip, t)
                } catch (e) {
                    return t.slice(7)
                }
            }, i.unzipBase64AsArray = function (t, e) {
                e = e || 1;
                var i, n, r, s = this.unzipBase64(t), a = [];
                for (i = 0, r = s.length / e; i < r; i++) for (a[i] = 0, n = e - 1; n >= 0; --n) a[i] += s.charCodeAt(i * e + n) << 8 * n;
                return a
            }, i.unzipAsArray = function (t, e) {
                e = e || 1;
                var i, n, r, s = this.unzip(t), a = [];
                for (i = 0, r = s.length / e; i < r; i++) for (a[i] = 0, n = e - 1; n >= 0; --n) a[i] += s.charCodeAt(i * e + n) << 8 * n;
                return a
            }, cc.codec = e.exports = i
        }), {"./base64": 23, "./gzip": 24}],
        23: [(function (t, e) {
            "use strict";
            var i = t("../core/utils/misc").BASE64_VALUES, n = {
                name: "Jacob__Codec__Base64", decode: function (t) {
                    var e, n, r, s, a, o, c = [], l = 0;
                    for (t = t.replace(/[^A-Za-z0-9\+\/\=]/g, ""); l < t.length;) e = i[t.charCodeAt(l++)] << 2 | (s = i[t.charCodeAt(l++)]) >> 4, n = (15 & s) << 4 | (a = i[t.charCodeAt(l++)]) >> 2, r = (3 & a) << 6 | (o = i[t.charCodeAt(l++)]), c.push(String.fromCharCode(e)), 64 !== a && c.push(String.fromCharCode(n)), 64 !== o && c.push(String.fromCharCode(r));
                    return c.join("")
                }, decodeAsArray: function (t, e) {
                    var i, n, r, s = this.decode(t), a = [];
                    for (i = 0, r = s.length / e; i < r; i++) for (a[i] = 0, n = e - 1; n >= 0; --n) a[i] += s.charCodeAt(i * e + n) << 8 * n;
                    return a
                }
            };
            e.exports = n
        }), {"../core/utils/misc": 250}],
        24: [(function (t, e) {
            "use strict";
            var i = function (t) {
                this.data = t, this.debug = !1, this.gpflags = void 0, this.files = 0, this.unzipped = [], this.buf32k = new Array(32768), this.bIdx = 0, this.modeZIP = !1, this.bytepos = 0, this.bb = 1, this.bits = 0, this.nameBuf = [], this.fileout = void 0, this.literalTree = new Array(i.LITERALS), this.distanceTree = new Array(32), this.treepos = 0, this.Places = null, this.len = 0, this.fpos = new Array(17), this.fpos[0] = 0, this.flens = void 0, this.fmax = void 0
            };
            i.gunzip = function (t) {
                return t.constructor === Array || (t.constructor, String), new i(t).gunzip()[0][0]
            }, i.HufNode = function () {
                this.b0 = 0, this.b1 = 0, this.jump = null, this.jumppos = -1
            }, i.LITERALS = 288, i.NAMEMAX = 256, i.bitReverse = [0, 128, 64, 192, 32, 160, 96, 224, 16, 144, 80, 208, 48, 176, 112, 240, 8, 136, 72, 200, 40, 168, 104, 232, 24, 152, 88, 216, 56, 184, 120, 248, 4, 132, 68, 196, 36, 164, 100, 228, 20, 148, 84, 212, 52, 180, 116, 244, 12, 140, 76, 204, 44, 172, 108, 236, 28, 156, 92, 220, 60, 188, 124, 252, 2, 130, 66, 194, 34, 162, 98, 226, 18, 146, 82, 210, 50, 178, 114, 242, 10, 138, 74, 202, 42, 170, 106, 234, 26, 154, 90, 218, 58, 186, 122, 250, 6, 134, 70, 198, 38, 166, 102, 230, 22, 150, 86, 214, 54, 182, 118, 246, 14, 142, 78, 206, 46, 174, 110, 238, 30, 158, 94, 222, 62, 190, 126, 254, 1, 129, 65, 193, 33, 161, 97, 225, 17, 145, 81, 209, 49, 177, 113, 241, 9, 137, 73, 201, 41, 169, 105, 233, 25, 153, 89, 217, 57, 185, 121, 249, 5, 133, 69, 197, 37, 165, 101, 229, 21, 149, 85, 213, 53, 181, 117, 245, 13, 141, 77, 205, 45, 173, 109, 237, 29, 157, 93, 221, 61, 189, 125, 253, 3, 131, 67, 195, 35, 163, 99, 227, 19, 147, 83, 211, 51, 179, 115, 243, 11, 139, 75, 203, 43, 171, 107, 235, 27, 155, 91, 219, 59, 187, 123, 251, 7, 135, 71, 199, 39, 167, 103, 231, 23, 151, 87, 215, 55, 183, 119, 247, 15, 143, 79, 207, 47, 175, 111, 239, 31, 159, 95, 223, 63, 191, 127, 255], i.cplens = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0], i.cplext = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 99, 99], i.cpdist = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577], i.cpdext = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13], i.border = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], i.prototype.gunzip = function () {
                return this.outputArr = [], this.nextFile(), this.unzipped
            }, i.prototype.readByte = function () {
                return this.bits += 8, this.bytepos < this.data.length ? this.data.charCodeAt(this.bytepos++) : -1
            }, i.prototype.byteAlign = function () {
                this.bb = 1
            }, i.prototype.readBit = function () {
                var t;
                return this.bits++, t = 1 & this.bb, this.bb >>= 1, 0 === this.bb && (this.bb = this.readByte(), t = 1 & this.bb, this.bb = this.bb >> 1 | 128), t
            }, i.prototype.readBits = function (t) {
                for (var e = 0, n = t; n--;) e = e << 1 | this.readBit();
                return t && (e = i.bitReverse[e] >> 8 - t), e
            }, i.prototype.flushBuffer = function () {
                this.bIdx = 0
            }, i.prototype.addBuffer = function (t) {
                this.buf32k[this.bIdx++] = t, this.outputArr.push(String.fromCharCode(t)), 32768 === this.bIdx && (this.bIdx = 0)
            }, i.prototype.IsPat = function () {
                for (; ;) {
                    if (this.fpos[this.len] >= this.fmax) return -1;
                    if (this.flens[this.fpos[this.len]] === this.len) return this.fpos[this.len]++;
                    this.fpos[this.len]++
                }
            }, i.prototype.Rec = function () {
                var t, e = this.Places[this.treepos];
                if (17 === this.len) return -1;
                if (this.treepos++, this.len++, (t = this.IsPat()) >= 0) e.b0 = t; else if (e.b0 = 32768, this.Rec()) return -1;
                if ((t = this.IsPat()) >= 0) e.b1 = t, e.jump = null; else if (e.b1 = 32768, e.jump = this.Places[this.treepos], e.jumppos = this.treepos, this.Rec()) return -1;
                return this.len--, 0
            }, i.prototype.CreateTree = function (t, e, i) {
                var n;
                for (this.Places = t, this.treepos = 0, this.flens = i, this.fmax = e, n = 0; n < 17; n++) this.fpos[n] = 0;
                return this.len = 0, this.Rec() ? -1 : 0
            }, i.prototype.DecodeValue = function (t) {
                for (var e, i, n = 0, r = t[n]; ;) if (this.readBit()) {
                    if (!(32768 & r.b1)) return r.b1;
                    for (r = r.jump, e = t.length, i = 0; i < e; i++) if (t[i] === r) {
                        n = i;
                        break
                    }
                } else {
                    if (!(32768 & r.b0)) return r.b0;
                    r = t[++n]
                }
                return -1
            }, i.prototype.DeflateLoop = function () {
                var t, e, n;
                do {
                    var r, s;
                    if (t = this.readBit(), 0 === (e = this.readBits(2))) for (this.byteAlign(), r = this.readByte(), r |= this.readByte() << 8, s = this.readByte(), 65535 & (r ^ ~(s |= this.readByte() << 8)) && document.write("BlockLen checksum mismatch\n"); r--;) a = this.readByte(), this.addBuffer(a); else if (1 === e) for (; ;) if ((o = i.bitReverse[this.readBits(7)] >> 1) > 23 ? (o = o << 1 | this.readBit()) > 199 ? o = (o -= 128) << 1 | this.readBit() : (o -= 48) > 143 && (o += 136) : o += 256, o < 256) this.addBuffer(o); else {
                        if (256 === o) break;
                        for (o -= 257, p = this.readBits(i.cplext[o]) + i.cplens[o], o = i.bitReverse[this.readBits(5)] >> 3, i.cpdext[o] > 8 ? (v = this.readBits(8), v |= this.readBits(i.cpdext[o] - 8) << 8) : v = this.readBits(i.cpdext[o]), v += i.cpdist[o], o = 0; o < p; o++) {
                            var a = this.buf32k[this.bIdx - v & 32767];
                            this.addBuffer(a)
                        }
                    } else if (2 === e) {
                        var o, c, l, h, u, f = new Array(320);
                        for (l = 257 + this.readBits(5), h = 1 + this.readBits(5), u = 4 + this.readBits(4), o = 0; o < 19; o++) f[o] = 0;
                        for (o = 0; o < u; o++) f[i.border[o]] = this.readBits(3);
                        for (p = this.distanceTree.length, n = 0; n < p; n++) this.distanceTree[n] = new i.HufNode;
                        if (this.CreateTree(this.distanceTree, 19, f, 0)) return this.flushBuffer(), 1;
                        for (c = l + h, n = 0; n < c;) if ((o = this.DecodeValue(this.distanceTree)) < 16) f[n++] = o; else if (16 === o) {
                            var d;
                            if (n + (o = 3 + this.readBits(2)) > c) return this.flushBuffer(), 1;
                            for (d = n ? f[n - 1] : 0; o--;) f[n++] = d
                        } else {
                            if (n + (o = 17 === o ? 3 + this.readBits(3) : 11 + this.readBits(7)) > c) return this.flushBuffer(), 1;
                            for (; o--;) f[n++] = 0
                        }
                        for (p = this.literalTree.length, n = 0; n < p; n++) this.literalTree[n] = new i.HufNode;
                        if (this.CreateTree(this.literalTree, l, f, 0)) return this.flushBuffer(), 1;
                        for (p = this.literalTree.length, n = 0; n < p; n++) this.distanceTree[n] = new i.HufNode;
                        var _ = new Array;
                        for (n = l; n < f.length; n++) _[n - l] = f[n];
                        if (this.CreateTree(this.distanceTree, h, _, 0)) return this.flushBuffer(), 1;
                        for (; ;) if ((o = this.DecodeValue(this.literalTree)) >= 256) {
                            var p, v;
                            if (0 == (o -= 256)) break;
                            for (o--, p = this.readBits(i.cplext[o]) + i.cplens[o], o = this.DecodeValue(this.distanceTree), i.cpdext[o] > 8 ? (v = this.readBits(8), v |= this.readBits(i.cpdext[o] - 8) << 8) : v = this.readBits(i.cpdext[o]), v += i.cpdist[o]; p--;) a = this.buf32k[this.bIdx - v & 32767], this.addBuffer(a)
                        } else this.addBuffer(o)
                    }
                } while (!t);
                return this.flushBuffer(), this.byteAlign(), 0
            }, i.prototype.unzipFile = function (t) {
                var e;
                for (this.gunzip(), e = 0; e < this.unzipped.length; e++) if (this.unzipped[e][1] === t) return this.unzipped[e][0]
            }, i.prototype.nextFile = function () {
                this.outputArr = [], this.modeZIP = !1;
                var t = [];
                if (t[0] = this.readByte(), t[1] = this.readByte(), 120 === t[0] && 218 === t[1] && (this.DeflateLoop(), this.unzipped[this.files] = [this.outputArr.join(""), "geonext.gxt"], this.files++), 31 === t[0] && 139 === t[1] && (this.skipdir(), this.unzipped[this.files] = [this.outputArr.join(""), "file"], this.files++), 80 === t[0] && 75 === t[1] && (this.modeZIP = !0, t[2] = this.readByte(), t[3] = this.readByte(), 3 === t[2] && 4 === t[3])) {
                    t[0] = this.readByte(), t[1] = this.readByte(), this.gpflags = this.readByte(), this.gpflags |= this.readByte() << 8;
                    var e = this.readByte();
                    e |= this.readByte() << 8, this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte();
                    var n = this.readByte();
                    n |= this.readByte() << 8;
                    var r = this.readByte();
                    for (r |= this.readByte() << 8, a = 0, this.nameBuf = []; n--;) {
                        var s = this.readByte();
                        "/" === s | ":" === s ? a = 0 : a < i.NAMEMAX - 1 && (this.nameBuf[a++] = String.fromCharCode(s))
                    }
                    this.fileout || (this.fileout = this.nameBuf);
                    for (var a = 0; a < r;) s = this.readByte(), a++;
                    8 === e && (this.DeflateLoop(), this.unzipped[this.files] = [this.outputArr.join(""), this.nameBuf.join("")], this.files++), this.skipdir()
                }
            }, i.prototype.skipdir = function () {
                var t, e, n = [];
                if (8 & this.gpflags && (n[0] = this.readByte(), n[1] = this.readByte(), n[2] = this.readByte(), n[3] = this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte()), this.modeZIP && this.nextFile(), n[0] = this.readByte(), 8 !== n[0]) return 0;
                if (this.gpflags = this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), 4 & this.gpflags) for (n[0] = this.readByte(), n[2] = this.readByte(), this.len = n[0] + 256 * n[1], t = 0; t < this.len; t++) this.readByte();
                if (8 & this.gpflags) for (t = 0, this.nameBuf = []; e = this.readByte();) "7" !== e && ":" !== e || (t = 0), t < i.NAMEMAX - 1 && (this.nameBuf[t++] = e);
                if (16 & this.gpflags) for (; e = this.readByte();) ;
                2 & this.gpflags && (this.readByte(), this.readByte()), this.DeflateLoop(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.modeZIP && this.nextFile()
            }, e.exports = i
        }), {}],
        25: [(function (t, e) {
            "use strict";
            (function () {
                function t(t) {
                    throw t
                }

                var e = void 0, i = !0, n = this;

                function r(t, i) {
                    var r, s = t.split("."), a = n;
                    !(s[0] in a) && a.execScript && a.execScript("var " + s[0]);
                    for (; s.length && (r = s.shift());) s.length || i === e ? a = a[r] ? a[r] : a[r] = {} : a[r] = i
                }

                var s = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Uint32Array;

                function a(t) {
                    if ("string" == typeof t) {
                        var e, i, n = t.split("");
                        for (e = 0, i = n.length; e < i; e++) n[e] = (255 & n[e].charCodeAt(0)) >>> 0;
                        t = n
                    }
                    for (var r, s = 1, a = 0, o = t.length, c = 0; 0 < o;) {
                        o -= r = 1024 < o ? 1024 : o;
                        do {
                            a += s += t[c++]
                        } while (--r);
                        s %= 65521, a %= 65521
                    }
                    return (a << 16 | s) >>> 0
                }

                function o(e, i) {
                    this.index = "number" == typeof i ? i : 0, this.i = 0, this.buffer = e instanceof (s ? Uint8Array : Array) ? e : new (s ? Uint8Array : Array)(32768), 2 * this.buffer.length <= this.index && t(Error("invalid index")), this.buffer.length <= this.index && this.f()
                }

                o.prototype.f = function () {
                    var t, e = this.buffer, i = e.length, n = new (s ? Uint8Array : Array)(i << 1);
                    if (s) n.set(e); else for (t = 0; t < i; ++t) n[t] = e[t];
                    return this.buffer = n
                }, o.prototype.d = function (t, e, i) {
                    var n, r = this.buffer, s = this.index, a = this.i, o = r[s];
                    if (i && 1 < e && (t = 8 < e ? (d[255 & t] << 24 | d[t >>> 8 & 255] << 16 | d[t >>> 16 & 255] << 8 | d[t >>> 24 & 255]) >> 32 - e : d[t] >> 8 - e), 8 > e + a) o = o << e | t, a += e; else for (n = 0; n < e; ++n) o = o << 1 | t >> e - n - 1 & 1, 8 == ++a && (a = 0, r[s++] = d[o], o = 0, s === r.length && (r = this.f()));
                    r[s] = o, this.buffer = r, this.i = a, this.index = s
                }, o.prototype.finish = function () {
                    var t, e = this.buffer, i = this.index;
                    return 0 < this.i && (e[i] <<= 8 - this.i, e[i] = d[e[i]], i++), s ? t = e.subarray(0, i) : (e.length = i, t = e), t
                };
                var c, l = new (s ? Uint8Array : Array)(256);
                for (c = 0; 256 > c; ++c) {
                    for (var h = f = c, u = 7, f = f >>> 1; f; f >>>= 1) h <<= 1, h |= 1 & f, --u;
                    l[c] = (h << u & 255) >>> 0
                }
                var d = l;

                function _(t) {
                    this.buffer = new (s ? Uint16Array : Array)(2 * t), this.length = 0
                }

                function p(t) {
                    var e, i, n, r, a, o, c, l, h, u = t.length, f = 0, d = Number.POSITIVE_INFINITY;
                    for (l = 0; l < u; ++l) t[l] > f && (f = t[l]), t[l] < d && (d = t[l]);
                    for (e = 1 << f, i = new (s ? Uint32Array : Array)(e), n = 1, r = 0, a = 2; n <= f;) {
                        for (l = 0; l < u; ++l) if (t[l] === n) {
                            for (o = 0, c = r, h = 0; h < n; ++h) o = o << 1 | 1 & c, c >>= 1;
                            for (h = o; h < e; h += a) i[h] = n << 16 | l;
                            ++r
                        }
                        ++n, r <<= 1, a <<= 1
                    }
                    return [i, f, d]
                }

                function v(t, e) {
                    this.h = m, this.w = 0, this.input = t, this.b = 0, e && (e.lazy && (this.w = e.lazy), "number" == typeof e.compressionType && (this.h = e.compressionType), e.outputBuffer && (this.a = s && e.outputBuffer instanceof Array ? new Uint8Array(e.outputBuffer) : e.outputBuffer), "number" == typeof e.outputIndex && (this.b = e.outputIndex)), this.a || (this.a = new (s ? Uint8Array : Array)(32768))
                }

                s && new Uint32Array([0, 1996959894, 3993919788, 2567524794, 124634137, 1886057615, 3915621685, 2657392035, 249268274, 2044508324, 3772115230, 2547177864, 162941995, 2125561021, 3887607047, 2428444049, 498536548, 1789927666, 4089016648, 2227061214, 450548861, 1843258603, 4107580753, 2211677639, 325883990, 1684777152, 4251122042, 2321926636, 335633487, 1661365465, 4195302755, 2366115317, 997073096, 1281953886, 3579855332, 2724688242, 1006888145, 1258607687, 3524101629, 2768942443, 901097722, 1119000684, 3686517206, 2898065728, 853044451, 1172266101, 3705015759, 2882616665, 651767980, 1373503546, 3369554304, 3218104598, 565507253, 1454621731, 3485111705, 3099436303, 671266974, 1594198024, 3322730930, 2970347812, 795835527, 1483230225, 3244367275, 3060149565, 1994146192, 31158534, 2563907772, 4023717930, 1907459465, 112637215, 2680153253, 3904427059, 2013776290, 251722036, 2517215374, 3775830040, 2137656763, 141376813, 2439277719, 3865271297, 1802195444, 476864866, 2238001368, 4066508878, 1812370925, 453092731, 2181625025, 4111451223, 1706088902, 314042704, 2344532202, 4240017532, 1658658271, 366619977, 2362670323, 4224994405, 1303535960, 984961486, 2747007092, 3569037538, 1256170817, 1037604311, 2765210733, 3554079995, 1131014506, 879679996, 2909243462, 3663771856, 1141124467, 855842277, 2852801631, 3708648649, 1342533948, 654459306, 3188396048, 3373015174, 1466479909, 544179635, 3110523913, 3462522015, 1591671054, 702138776, 2966460450, 3352799412, 1504918807, 783551873, 3082640443, 3233442989, 3988292384, 2596254646, 62317068, 1957810842, 3939845945, 2647816111, 81470997, 1943803523, 3814918930, 2489596804, 225274430, 2053790376, 3826175755, 2466906013, 167816743, 2097651377, 4027552580, 2265490386, 503444072, 1762050814, 4150417245, 2154129355, 426522225, 1852507879, 4275313526, 2312317920, 282753626, 1742555852, 4189708143, 2394877945, 397917763, 1622183637, 3604390888, 2714866558, 953729732, 1340076626, 3518719985, 2797360999, 1068828381, 1219638859, 3624741850, 2936675148, 906185462, 1090812512, 3747672003, 2825379669, 829329135, 1181335161, 3412177804, 3160834842, 628085408, 1382605366, 3423369109, 3138078467, 570562233, 1426400815, 3317316542, 2998733608, 733239954, 1555261956, 3268935591, 3050360625, 752459403, 1541320221, 2607071920, 3965973030, 1969922972, 40735498, 2617837225, 3943577151, 1913087877, 83908371, 2512341634, 3803740692, 2075208622, 213261112, 2463272603, 3855990285, 2094854071, 198958881, 2262029012, 4057260610, 1759359992, 534414190, 2176718541, 4139329115, 1873836001, 414664567, 2282248934, 4279200368, 1711684554, 285281116, 2405801727, 4167216745, 1634467795, 376229701, 2685067896, 3608007406, 1308918612, 956543938, 2808555105, 3495958263, 1231636301, 1047427035, 2932959818, 3654703836, 1088359270, 936918e3, 2847714899, 3736837829, 1202900863, 817233897, 3183342108, 3401237130, 1404277552, 615818150, 3134207493, 3453421203, 1423857449, 601450431, 3009837614, 3294710456, 1567103746, 711928724, 3020668471, 3272380065, 1510334235, 755167117]), _.prototype.getParent = function (t) {
                    return 2 * ((t - 2) / 4 | 0)
                }, _.prototype.push = function (t, e) {
                    var i, n, r, s = this.buffer;
                    for (i = this.length, s[this.length++] = e, s[this.length++] = t; 0 < i && (n = this.getParent(i), s[i] > s[n]);) r = s[i], s[i] = s[n], s[n] = r, r = s[i + 1], s[i + 1] = s[n + 1], s[n + 1] = r, i = n;
                    return this.length
                }, _.prototype.pop = function () {
                    var t, e, i, n, r, s = this.buffer;
                    for (e = s[0], t = s[1], this.length -= 2, s[0] = s[this.length], s[1] = s[this.length + 1], r = 0; !((n = 2 * r + 2) >= this.length) && (n + 2 < this.length && s[n + 2] > s[n] && (n += 2), s[n] > s[r]);) i = s[r], s[r] = s[n], s[n] = i, i = s[r + 1], s[r + 1] = s[n + 1], s[n + 1] = i, r = n;
                    return {index: t, value: e, length: this.length}
                };
                var g, m = 2, y = {NONE: 0, r: 1, j: m, N: 3}, T = [];
                for (g = 0; 288 > g; g++) switch (i) {
                    case 143 >= g:
                        T.push([g + 48, 8]);
                        break;
                    case 255 >= g:
                        T.push([g - 144 + 400, 9]);
                        break;
                    case 279 >= g:
                        T.push([g - 256 + 0, 7]);
                        break;
                    case 287 >= g:
                        T.push([g - 280 + 192, 8]);
                        break;
                    default:
                        t("invalid literal: " + g)
                }

                function E(t, e) {
                    this.length = t, this.G = e
                }

                function A() {
                    var e = b;
                    switch (i) {
                        case 3 === e:
                            return [257, e - 3, 0];
                        case 4 === e:
                            return [258, e - 4, 0];
                        case 5 === e:
                            return [259, e - 5, 0];
                        case 6 === e:
                            return [260, e - 6, 0];
                        case 7 === e:
                            return [261, e - 7, 0];
                        case 8 === e:
                            return [262, e - 8, 0];
                        case 9 === e:
                            return [263, e - 9, 0];
                        case 10 === e:
                            return [264, e - 10, 0];
                        case 12 >= e:
                            return [265, e - 11, 1];
                        case 14 >= e:
                            return [266, e - 13, 1];
                        case 16 >= e:
                            return [267, e - 15, 1];
                        case 18 >= e:
                            return [268, e - 17, 1];
                        case 22 >= e:
                            return [269, e - 19, 2];
                        case 26 >= e:
                            return [270, e - 23, 2];
                        case 30 >= e:
                            return [271, e - 27, 2];
                        case 34 >= e:
                            return [272, e - 31, 2];
                        case 42 >= e:
                            return [273, e - 35, 3];
                        case 50 >= e:
                            return [274, e - 43, 3];
                        case 58 >= e:
                            return [275, e - 51, 3];
                        case 66 >= e:
                            return [276, e - 59, 3];
                        case 82 >= e:
                            return [277, e - 67, 4];
                        case 98 >= e:
                            return [278, e - 83, 4];
                        case 114 >= e:
                            return [279, e - 99, 4];
                        case 130 >= e:
                            return [280, e - 115, 4];
                        case 162 >= e:
                            return [281, e - 131, 5];
                        case 194 >= e:
                            return [282, e - 163, 5];
                        case 226 >= e:
                            return [283, e - 195, 5];
                        case 257 >= e:
                            return [284, e - 227, 5];
                        case 258 === e:
                            return [285, e - 258, 0];
                        default:
                            t("invalid length: " + e)
                    }
                }

                v.prototype.n = function () {
                    var n, r, a, c, l = this.input;
                    switch (this.h) {
                        case 0:
                            for (a = 0, c = l.length; a < c;) {
                                var h, u, f, d = r = s ? l.subarray(a, a + 65535) : l.slice(a, a + 65535),
                                    _ = (a += r.length) === c, p = e, v = e, g = this.a, y = this.b;
                                if (s) {
                                    for (g = new Uint8Array(this.a.buffer); g.length <= y + d.length + 5;) g = new Uint8Array(g.length << 1);
                                    g.set(this.a)
                                }
                                if (h = _ ? 1 : 0, g[y++] = 0 | h, f = 65536 + ~(u = d.length) & 65535, g[y++] = 255 & u, g[y++] = u >>> 8 & 255, g[y++] = 255 & f, g[y++] = f >>> 8 & 255, s) g.set(d, y), y += d.length, g = g.subarray(0, y); else {
                                    for (p = 0, v = d.length; p < v; ++p) g[y++] = d[p];
                                    g.length = y
                                }
                                this.b = y, this.a = g
                            }
                            break;
                        case 1:
                            var E = new o(new Uint8Array(this.a.buffer), this.b);
                            E.d(1, 1, i), E.d(1, 2, i);
                            var A, b, x, C = w(this, l);
                            for (A = 0, b = C.length; A < b; A++) if (x = C[A], o.prototype.d.apply(E, T[x]), 256 < x) E.d(C[++A], C[++A], i), E.d(C[++A], 5), E.d(C[++A], C[++A], i); else if (256 === x) break;
                            this.a = E.finish(), this.b = this.a.length;
                            break;
                        case m:
                            var S, I, O, D, P, L, N, F, B, k, V, U, z, H, W, G = new o(new Uint8Array(this.a), this.b),
                                j = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], X = Array(19);
                            for (S = m, G.d(1, 1, i), G.d(S, 2, i), I = w(this, l), N = R(L = M(this.L, 15)), B = R(F = M(this.K, 7)), O = 286; 257 < O && 0 === L[O - 1]; O--) ;
                            for (D = 30; 1 < D && 0 === F[D - 1]; D--) ;
                            var Y, q, Z, K, J, Q, $ = O, tt = D, et = new (s ? Uint32Array : Array)($ + tt),
                                it = new (s ? Uint32Array : Array)(316), nt = new (s ? Uint8Array : Array)(19);
                            for (Y = q = 0; Y < $; Y++) et[q++] = L[Y];
                            for (Y = 0; Y < tt; Y++) et[q++] = F[Y];
                            if (!s) for (Y = 0, K = nt.length; Y < K; ++Y) nt[Y] = 0;
                            for (Y = J = 0, K = et.length; Y < K; Y += q) {
                                for (q = 1; Y + q < K && et[Y + q] === et[Y]; ++q) ;
                                if (Z = q, 0 === et[Y]) if (3 > Z) for (; 0 < Z--;) it[J++] = 0, nt[0]++; else for (; 0 < Z;) (Q = 138 > Z ? Z : 138) > Z - 3 && Q < Z && (Q = Z - 3), 10 >= Q ? (it[J++] = 17, it[J++] = Q - 3, nt[17]++) : (it[J++] = 18, it[J++] = Q - 11, nt[18]++), Z -= Q; else if (it[J++] = et[Y], nt[et[Y]]++, 3 > --Z) for (; 0 < Z--;) it[J++] = et[Y], nt[et[Y]]++; else for (; 0 < Z;) (Q = 6 > Z ? Z : 6) > Z - 3 && Q < Z && (Q = Z - 3), it[J++] = 16, it[J++] = Q - 3, nt[16]++, Z -= Q
                            }
                            for (n = s ? it.subarray(0, J) : it.slice(0, J), k = M(nt, 7), H = 0; 19 > H; H++) X[H] = k[j[H]];
                            for (P = 19; 4 < P && 0 === X[P - 1]; P--) ;
                            for (V = R(k), G.d(O - 257, 5, i), G.d(D - 1, 5, i), G.d(P - 4, 4, i), H = 0; H < P; H++) G.d(X[H], 3, i);
                            for (H = 0, W = n.length; H < W; H++) if (U = n[H], G.d(V[U], k[U], i), 16 <= U) {
                                switch (H++, U) {
                                    case 16:
                                        z = 2;
                                        break;
                                    case 17:
                                        z = 3;
                                        break;
                                    case 18:
                                        z = 7;
                                        break;
                                    default:
                                        t("invalid code: " + U)
                                }
                                G.d(n[H], z, i)
                            }
                            var rt, st, at, ot, ct, lt, ht, ut, ft = [N, L], dt = [B, F];
                            for (ct = ft[0], lt = ft[1], ht = dt[0], ut = dt[1], rt = 0, st = I.length; rt < st; ++rt) if (at = I[rt], G.d(ct[at], lt[at], i), 256 < at) G.d(I[++rt], I[++rt], i), ot = I[++rt], G.d(ht[ot], ut[ot], i), G.d(I[++rt], I[++rt], i); else if (256 === at) break;
                            this.a = G.finish(), this.b = this.a.length;
                            break;
                        default:
                            t("invalid compression type")
                    }
                    return this.a
                };
                var b, x, C = [];
                for (b = 3; 258 >= b; b++) x = A(), C[b] = x[2] << 24 | x[1] << 16 | x[0];
                var S = s ? new Uint32Array(C) : C;

                function w(n, r) {
                    function a(e, n) {
                        var r, s, a, o, c = e.G, l = [], h = 0;
                        switch (r = S[e.length], l[h++] = 65535 & r, l[h++] = r >> 16 & 255, l[h++] = r >> 24, i) {
                            case 1 === c:
                                s = [0, c - 1, 0];
                                break;
                            case 2 === c:
                                s = [1, c - 2, 0];
                                break;
                            case 3 === c:
                                s = [2, c - 3, 0];
                                break;
                            case 4 === c:
                                s = [3, c - 4, 0];
                                break;
                            case 6 >= c:
                                s = [4, c - 5, 1];
                                break;
                            case 8 >= c:
                                s = [5, c - 7, 1];
                                break;
                            case 12 >= c:
                                s = [6, c - 9, 2];
                                break;
                            case 16 >= c:
                                s = [7, c - 13, 2];
                                break;
                            case 24 >= c:
                                s = [8, c - 17, 3];
                                break;
                            case 32 >= c:
                                s = [9, c - 25, 3];
                                break;
                            case 48 >= c:
                                s = [10, c - 33, 4];
                                break;
                            case 64 >= c:
                                s = [11, c - 49, 4];
                                break;
                            case 96 >= c:
                                s = [12, c - 65, 5];
                                break;
                            case 128 >= c:
                                s = [13, c - 97, 5];
                                break;
                            case 192 >= c:
                                s = [14, c - 129, 6];
                                break;
                            case 256 >= c:
                                s = [15, c - 193, 6];
                                break;
                            case 384 >= c:
                                s = [16, c - 257, 7];
                                break;
                            case 512 >= c:
                                s = [17, c - 385, 7];
                                break;
                            case 768 >= c:
                                s = [18, c - 513, 8];
                                break;
                            case 1024 >= c:
                                s = [19, c - 769, 8];
                                break;
                            case 1536 >= c:
                                s = [20, c - 1025, 9];
                                break;
                            case 2048 >= c:
                                s = [21, c - 1537, 9];
                                break;
                            case 3072 >= c:
                                s = [22, c - 2049, 10];
                                break;
                            case 4096 >= c:
                                s = [23, c - 3073, 10];
                                break;
                            case 6144 >= c:
                                s = [24, c - 4097, 11];
                                break;
                            case 8192 >= c:
                                s = [25, c - 6145, 11];
                                break;
                            case 12288 >= c:
                                s = [26, c - 8193, 12];
                                break;
                            case 16384 >= c:
                                s = [27, c - 12289, 12];
                                break;
                            case 24576 >= c:
                                s = [28, c - 16385, 13];
                                break;
                            case 32768 >= c:
                                s = [29, c - 24577, 13];
                                break;
                            default:
                                t("invalid distance")
                        }
                        for (r = s, l[h++] = r[0], l[h++] = r[1], l[h++] = r[2], a = 0, o = l.length; a < o; ++a) g[m++] = l[a];
                        T[l[0]]++, A[l[3]]++, y = e.length + n - 1, _ = null
                    }

                    var o, c, l, h, u, f, d, _, p, v = {}, g = s ? new Uint16Array(2 * r.length) : [], m = 0, y = 0,
                        T = new (s ? Uint32Array : Array)(286), A = new (s ? Uint32Array : Array)(30), b = n.w;
                    if (!s) {
                        for (l = 0; 285 >= l;) T[l++] = 0;
                        for (l = 0; 29 >= l;) A[l++] = 0
                    }
                    for (T[256] = 1, o = 0, c = r.length; o < c; ++o) {
                        for (l = u = 0, h = 3; l < h && o + l !== c; ++l) u = u << 8 | r[o + l];
                        if (v[u] === e && (v[u] = []), f = v[u], !(0 < y--)) {
                            for (; 0 < f.length && 32768 < o - f[0];) f.shift();
                            if (o + 3 >= c) {
                                for (_ && a(_, -1), l = 0, h = c - o; l < h; ++l) p = r[o + l], g[m++] = p, ++T[p];
                                break
                            }
                            if (0 < f.length) {
                                var x = e, C = e, w = 0, M = e, R = e, I = e, O = r.length, D = (R = 0, f.length);
                                t:for (; R < D; R++) {
                                    if (x = f[D - R - 1], M = 3, 3 < w) {
                                        for (I = w; 3 < I; I--) if (r[x + I - 1] !== r[o + I - 1]) continue t;
                                        M = w
                                    }
                                    for (; 258 > M && o + M < O && r[x + M] === r[o + M];) ++M;
                                    if (M > w && (C = x, w = M), 258 === M) break
                                }
                                d = new E(w, o - C), _ ? _.length < d.length ? (p = r[o - 1], g[m++] = p, ++T[p], a(d, 0)) : a(_, -1) : d.length < b ? _ = d : a(d, 0)
                            } else _ ? a(_, -1) : (p = r[o], g[m++] = p, ++T[p])
                        }
                        f.push(o)
                    }
                    return g[m++] = 256, T[256]++, n.L = T, n.K = A, s ? g.subarray(0, m) : g
                }

                function M(t, e) {
                    function i(t) {
                        var e = b[t][x[t]];
                        e === m ? (i(t + 1), i(t + 1)) : --E[e], ++x[t]
                    }

                    var n, r, a, o, c, l = t.length, h = new _(572), u = new (s ? Uint8Array : Array)(l);
                    if (!s) for (o = 0; o < l; o++) u[o] = 0;
                    for (o = 0; o < l; ++o) 0 < t[o] && h.push(o, t[o]);
                    if (n = Array(h.length / 2), r = new (s ? Uint32Array : Array)(h.length / 2), 1 === n.length) return u[h.pop().index] = 1, u;
                    for (o = 0, c = h.length / 2; o < c; ++o) n[o] = h.pop(), r[o] = n[o].value;
                    var f, d, p, v, g, m = r.length, y = new (s ? Uint16Array : Array)(e),
                        T = new (s ? Uint8Array : Array)(e), E = new (s ? Uint8Array : Array)(m), A = Array(e),
                        b = Array(e), x = Array(e), C = (1 << e) - m, S = 1 << e - 1;
                    for (y[e - 1] = m, d = 0; d < e; ++d) C < S ? T[d] = 0 : (T[d] = 1, C -= S), C <<= 1, y[e - 2 - d] = (y[e - 1 - d] / 2 | 0) + m;
                    for (y[0] = T[0], A[0] = Array(y[0]), b[0] = Array(y[0]), d = 1; d < e; ++d) y[d] > 2 * y[d - 1] + T[d] && (y[d] = 2 * y[d - 1] + T[d]), A[d] = Array(y[d]), b[d] = Array(y[d]);
                    for (f = 0; f < m; ++f) E[f] = e;
                    for (p = 0; p < y[e - 1]; ++p) A[e - 1][p] = r[p], b[e - 1][p] = p;
                    for (f = 0; f < e; ++f) x[f] = 0;
                    for (1 === T[e - 1] && (--E[0], ++x[e - 1]), d = e - 2; 0 <= d; --d) {
                        for (v = f = 0, g = x[d + 1], p = 0; p < y[d]; p++) (v = A[d + 1][g] + A[d + 1][g + 1]) > r[f] ? (A[d][p] = v, b[d][p] = m, g += 2) : (A[d][p] = r[f], b[d][p] = f, ++f);
                        x[d] = 0, 1 === T[d] && i(d)
                    }
                    for (a = E, o = 0, c = n.length; o < c; ++o) u[n[o].index] = a[o];
                    return u
                }

                function R(e) {
                    var i, n, r, a, o = new (s ? Uint16Array : Array)(e.length), c = [], l = [], h = 0;
                    for (i = 0, n = e.length; i < n; i++) c[e[i]] = 1 + (0 | c[e[i]]);
                    for (i = 1, n = 16; i <= n; i++) l[i] = h, (h += 0 | c[i]) > 1 << i && t("overcommitted"), h <<= 1;
                    for (65536 > h && t("undercommitted"), i = 0, n = e.length; i < n; i++) for (h = l[e[i]], l[e[i]] += 1, r = o[i] = 0, a = e[i]; r < a; r++) o[i] = o[i] << 1 | 1 & h, h >>>= 1;
                    return o
                }

                function I(t, e) {
                    this.input = t, this.a = new (s ? Uint8Array : Array)(32768), this.h = O.j;
                    var i, n = {};
                    for (i in !e && (e = {}) || "number" != typeof e.compressionType || (this.h = e.compressionType), e) n[i] = e[i];
                    n.outputBuffer = this.a, this.z = new v(this.input, n)
                }

                var O = y;

                function D(e, i) {
                    switch (this.k = [], this.l = 32768, this.e = this.g = this.c = this.q = 0, this.input = s ? new Uint8Array(e) : e, this.s = !1, this.m = L, this.B = !1, !i && (i = {}) || (i.index && (this.c = i.index), i.bufferSize && (this.l = i.bufferSize), i.bufferType && (this.m = i.bufferType), i.resize && (this.B = i.resize)), this.m) {
                        case P:
                            this.b = 32768, this.a = new (s ? Uint8Array : Array)(32768 + this.l + 258);
                            break;
                        case L:
                            this.b = 0, this.a = new (s ? Uint8Array : Array)(this.l), this.f = this.J, this.t = this.H, this.o = this.I;
                            break;
                        default:
                            t(Error("invalid inflate mode"))
                    }
                }

                I.prototype.n = function () {
                    var e, i, n, r, o, c, l, h = 0;
                    switch (l = this.a, e = ht) {
                        case ht:
                            i = Math.LOG2E * Math.log(32768) - 8;
                            break;
                        default:
                            t(Error("invalid compression method"))
                    }
                    switch (n = i << 4 | e, l[h++] = n, e) {
                        case ht:
                            switch (this.h) {
                                case O.NONE:
                                    o = 0;
                                    break;
                                case O.r:
                                    o = 1;
                                    break;
                                case O.j:
                                    o = 2;
                                    break;
                                default:
                                    t(Error("unsupported compression type"))
                            }
                            break;
                        default:
                            t(Error("invalid compression method"))
                    }
                    return r = o << 6 | 0, l[h++] = r | 31 - (256 * n + r) % 31, c = a(this.input), this.z.b = h, h = (l = this.z.n()).length, s && ((l = new Uint8Array(l.buffer)).length <= h + 4 && (this.a = new Uint8Array(l.length + 4), this.a.set(l), l = this.a), l = l.subarray(0, h + 4)), l[h++] = c >> 24 & 255, l[h++] = c >> 16 & 255, l[h++] = c >> 8 & 255, l[h++] = 255 & c, l
                }, r("Zlib.Deflate", I), r("Zlib.Deflate.compress", (function (t, e) {
                    return new I(t, e).n()
                })), r("Zlib.Deflate.CompressionType", O), r("Zlib.Deflate.CompressionType.NONE", O.NONE), r("Zlib.Deflate.CompressionType.FIXED", O.r), r("Zlib.Deflate.CompressionType.DYNAMIC", O.j);
                var P = 0, L = 1, N = {D: P, C: L};
                D.prototype.p = function () {
                    for (; !this.s;) {
                        var n = tt(this, 3);
                        switch (1 & n && (this.s = i), n >>>= 1) {
                            case 0:
                                var r = this.input, a = this.c, o = this.a, c = this.b, l = e, h = e, u = e,
                                    f = o.length, d = e;
                                switch (this.e = this.g = 0, (l = r[a++]) === e && t(Error("invalid uncompressed block header: LEN (first byte)")), h = l, (l = r[a++]) === e && t(Error("invalid uncompressed block header: LEN (second byte)")), h |= l << 8, (l = r[a++]) === e && t(Error("invalid uncompressed block header: NLEN (first byte)")), u = l, (l = r[a++]) === e && t(Error("invalid uncompressed block header: NLEN (second byte)")), h === ~(u |= l << 8) && t(Error("invalid uncompressed block header: length verify")), a + h > r.length && t(Error("input buffer is broken")), this.m) {
                                    case P:
                                        for (; c + h > o.length;) {
                                            if (h -= d = f - c, s) o.set(r.subarray(a, a + d), c), c += d, a += d; else for (; d--;) o[c++] = r[a++];
                                            this.b = c, o = this.f(), c = this.b
                                        }
                                        break;
                                    case L:
                                        for (; c + h > o.length;) o = this.f({v: 2});
                                        break;
                                    default:
                                        t(Error("invalid inflate mode"))
                                }
                                if (s) o.set(r.subarray(a, a + h), c), c += h, a += h; else for (; h--;) o[c++] = r[a++];
                                this.c = a, this.b = c, this.a = o;
                                break;
                            case 1:
                                this.o(J, $);
                                break;
                            case 2:
                                it(this);
                                break;
                            default:
                                t(Error("unknown BTYPE: " + n))
                        }
                    }
                    return this.t()
                };
                var F, B, k = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
                    V = s ? new Uint16Array(k) : k,
                    U = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 258, 258],
                    z = s ? new Uint16Array(U) : U,
                    H = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0],
                    W = s ? new Uint8Array(H) : H,
                    G = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577],
                    j = s ? new Uint16Array(G) : G,
                    X = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
                    Y = s ? new Uint8Array(X) : X, q = new (s ? Uint8Array : Array)(288);
                for (F = 0, B = q.length; F < B; ++F) q[F] = 143 >= F ? 8 : 255 >= F ? 9 : 279 >= F ? 7 : 8;
                var Z, K, J = p(q), Q = new (s ? Uint8Array : Array)(30);
                for (Z = 0, K = Q.length; Z < K; ++Z) Q[Z] = 5;
                var $ = p(Q);

                function tt(i, n) {
                    for (var r, s = i.g, a = i.e, o = i.input, c = i.c; a < n;) (r = o[c++]) === e && t(Error("input buffer is broken")), s |= r << a, a += 8;
                    return r = s & (1 << n) - 1, i.g = s >>> n, i.e = a - n, i.c = c, r
                }

                function et(i, n) {
                    for (var r, s, a, o = i.g, c = i.e, l = i.input, h = i.c, u = n[0], f = n[1]; c < f;) (r = l[h++]) === e && t(Error("input buffer is broken")), o |= r << c, c += 8;
                    return a = (s = u[o & (1 << f) - 1]) >>> 16, i.g = o >> a, i.e = c - a, i.c = h, 65535 & s
                }

                function it(t) {
                    function e(t, e, i) {
                        var n, r, s, a;
                        for (a = 0; a < t;) switch (n = et(this, e), n) {
                            case 16:
                                for (s = 3 + tt(this, 2); s--;) i[a++] = r;
                                break;
                            case 17:
                                for (s = 3 + tt(this, 3); s--;) i[a++] = 0;
                                r = 0;
                                break;
                            case 18:
                                for (s = 11 + tt(this, 7); s--;) i[a++] = 0;
                                r = 0;
                                break;
                            default:
                                r = i[a++] = n
                        }
                        return i
                    }

                    var i, n, r, a, o = tt(t, 5) + 257, c = tt(t, 5) + 1, l = tt(t, 4) + 4,
                        h = new (s ? Uint8Array : Array)(V.length);
                    for (a = 0; a < l; ++a) h[V[a]] = tt(t, 3);
                    i = p(h), n = new (s ? Uint8Array : Array)(o), r = new (s ? Uint8Array : Array)(c), t.o(p(e.call(t, o, i, n)), p(e.call(t, c, i, r)))
                }

                function nt(e, i) {
                    var n, r;
                    switch (this.input = e, this.c = 0, !i && (i = {}) || (i.index && (this.c = i.index), i.verify && (this.M = i.verify)), n = e[this.c++], r = e[this.c++], 15 & n) {
                        case ht:
                            this.method = ht;
                            break;
                        default:
                            t(Error("unsupported compression method"))
                    }
                    0 != ((n << 8) + r) % 31 && t(Error("invalid fcheck flag:" + ((n << 8) + r) % 31)), 32 & r && t(Error("fdict flag is not supported")), this.A = new D(e, {
                        index: this.c,
                        bufferSize: i.bufferSize,
                        bufferType: i.bufferType,
                        resize: i.resize
                    })
                }

                D.prototype.o = function (t, e) {
                    var i = this.a, n = this.b;
                    this.u = t;
                    for (var r, s, a, o, c = i.length - 258; 256 !== (r = et(this, t));) if (256 > r) n >= c && (this.b = n, i = this.f(), n = this.b), i[n++] = r; else for (o = z[s = r - 257], 0 < W[s] && (o += tt(this, W[s])), r = et(this, e), a = j[r], 0 < Y[r] && (a += tt(this, Y[r])), n >= c && (this.b = n, i = this.f(), n = this.b); o--;) i[n] = i[n++ - a];
                    for (; 8 <= this.e;) this.e -= 8, this.c--;
                    this.b = n
                }, D.prototype.I = function (t, e) {
                    var i = this.a, n = this.b;
                    this.u = t;
                    for (var r, s, a, o, c = i.length; 256 !== (r = et(this, t));) if (256 > r) n >= c && (c = (i = this.f()).length), i[n++] = r; else for (o = z[s = r - 257], 0 < W[s] && (o += tt(this, W[s])), r = et(this, e), a = j[r], 0 < Y[r] && (a += tt(this, Y[r])), n + o > c && (c = (i = this.f()).length); o--;) i[n] = i[n++ - a];
                    for (; 8 <= this.e;) this.e -= 8, this.c--;
                    this.b = n
                }, D.prototype.f = function () {
                    var t, e, i = new (s ? Uint8Array : Array)(this.b - 32768), n = this.b - 32768, r = this.a;
                    if (s) i.set(r.subarray(32768, i.length)); else for (t = 0, e = i.length; t < e; ++t) i[t] = r[t + 32768];
                    if (this.k.push(i), this.q += i.length, s) r.set(r.subarray(n, n + 32768)); else for (t = 0; 32768 > t; ++t) r[t] = r[n + t];
                    return this.b = 32768, r
                }, D.prototype.J = function (t) {
                    var e, i, n, r = this.input.length / this.c + 1 | 0, a = this.input, o = this.a;
                    return t && ("number" == typeof t.v && (r = t.v), "number" == typeof t.F && (r += t.F)), i = 2 > r ? (n = (a.length - this.c) / this.u[2] / 2 * 258 | 0) < o.length ? o.length + n : o.length << 1 : o.length * r, s ? (e = new Uint8Array(i)).set(o) : e = o, this.a = e
                }, D.prototype.t = function () {
                    var t, e, i, n, r, a = 0, o = this.a, c = this.k,
                        l = new (s ? Uint8Array : Array)(this.q + (this.b - 32768));
                    if (0 === c.length) return s ? this.a.subarray(32768, this.b) : this.a.slice(32768, this.b);
                    for (e = 0, i = c.length; e < i; ++e) for (n = 0, r = (t = c[e]).length; n < r; ++n) l[a++] = t[n];
                    for (e = 32768, i = this.b; e < i; ++e) l[a++] = o[e];
                    return this.k = [], this.buffer = l
                }, D.prototype.H = function () {
                    var t, e = this.b;
                    return s ? this.B ? (t = new Uint8Array(e)).set(this.a.subarray(0, e)) : t = this.a.subarray(0, e) : (this.a.length > e && (this.a.length = e), t = this.a), this.buffer = t
                }, nt.prototype.p = function () {
                    var e, i = this.input;
                    return e = this.A.p(), this.c = this.A.c, this.M && (i[this.c++] << 24 | i[this.c++] << 16 | i[this.c++] << 8 | i[this.c++]) >>> 0 !== a(e) && t(Error("invalid adler-32 checksum")), e
                }, r("Zlib.Inflate", nt), r("Zlib.Inflate.BufferType", N), N.ADAPTIVE = N.C, N.BLOCK = N.D, r("Zlib.Inflate.prototype.decompress", nt.prototype.p), s && new Uint16Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]), s && new Uint16Array([3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 258, 258]), s && new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0]), s && new Uint16Array([1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577]), s && new Uint8Array([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13]);
                var rt, st, at = new (s ? Uint8Array : Array)(288);
                for (rt = 0, st = at.length; rt < st; ++rt) at[rt] = 143 >= rt ? 8 : 255 >= rt ? 9 : 279 >= rt ? 7 : 8;
                p(at);
                var ot, ct, lt = new (s ? Uint8Array : Array)(30);
                for (ot = 0, ct = lt.length; ot < ct; ++ot) lt[ot] = 5;
                p(lt);
                var ht = 8
            }).call(window);
            var i = window.Zlib;
            i.Deflate = i.Deflate, i.Deflate.compress = i.Deflate.compress, i.Inflate = i.Inflate, i.Inflate.BufferType = i.Inflate.BufferType, i.Inflate.prototype.decompress = i.Inflate.prototype.decompress, e.exports = i
        }), {}],
        26: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r, s, a, o, c, l, h, u, f, d, _, p, v, g, m, y, T, E, A, b, x = O(t("../../renderer/enums")),
                C = O(t("../value-types/color")), S = t("../value-types"), w = O(t("../renderer/index")),
                M = O(t("../platform/CCEnum")), R = O(t("../components/CCComponent")),
                I = t("../platform/CCClassDecorator");

            function O(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function D(t, e, i, n) {
                i && Object.defineProperty(t, e, {
                    enumerable: i.enumerable,
                    configurable: i.configurable,
                    writable: i.writable,
                    value: i.initializer ? i.initializer.call(n) : void 0
                })
            }

            function P(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = L(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function L(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            function N(t) {
                if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return t
            }

            function F(t, e) {
                return (F = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            function B(t, e, i, n, r) {
                var s = {};
                return Object.keys(n).forEach((function (t) {
                    s[t] = n[t]
                })), s.enumerable = !!s.enumerable, s.configurable = !!s.configurable, ("value" in s || s.initializer) && (s.writable = !0), s = i.slice().reverse().reduce((function (i, n) {
                    return n(t, e, i) || i
                }), s), r && void 0 !== s.initializer && (s.value = s.initializer ? s.initializer.call(r) : void 0, s.initializer = void 0), void 0 === s.initializer && (Object.defineProperty(t, e, s), s = null), s
            }

            var k = null;
            k = t("../../renderer/scene/light");
            var V = (0, M.default)({DIRECTIONAL: 0, POINT: 1, SPOT: 2, AMBIENT: 3}),
                U = (0, M.default)({NONE: 0, HARD: 2, SOFT_PCF3X3: 3, SOFT_PCF5X5: 4}),
                z = (n = (0, I.ccclass)("cc.Light"), r = (0, I.menu)("i18n:MAIN_MENU.component.renderers/Light"), s = (0, I.inspector)("packages://inspector/inspectors/comps/light.js"), a = (0, I.property)({type: V}), o = (0, I.property)({type: U}), n(c = r(c = (0, I.executeInEditMode)(c = s(((b = (function (t) {
                    var e, i;

                    function n() {
                        var e;
                        return D(e = t.call(this) || this, "_type", h, N(e)), D(e, "_color", u, N(e)), D(e, "_intensity", f, N(e)), D(e, "_range", d, N(e)), D(e, "_spotAngle", _, N(e)), D(e, "_spotExp", p, N(e)), D(e, "_shadowType", v, N(e)), D(e, "_shadowResolution", g, N(e)), D(e, "_shadowDarkness", m, N(e)), D(e, "_shadowMinDepth", y, N(e)), D(e, "_shadowMaxDepth", T, N(e)), D(e, "_shadowFrustumSize", E, N(e)), D(e, "_shadowBias", A, N(e)), e._light = new k, e
                    }

                    i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, F(e, i);
                    var r, s, a = n.prototype;
                    return a.onLoad = function () {
                        this._light.setNode(this.node), this.type = this._type, this.color = this._color, this.intensity = this._intensity, this.range = this._range, this.spotAngle = this._spotAngle, this.spotExp = this._spotExp, this.shadowType = this._shadowType, this.shadowResolution = this._shadowResolution, this.shadowDarkness = this._shadowDarkness, this.shadowMaxDepth = this._shadowMaxDepth, this.shadowFrustumSize = this._shadowFrustumSize, this.shadowBias = this._shadowBias
                    }, a.onEnable = function () {
                        w.default.scene.addLight(this._light)
                    }, a.onDisable = function () {
                        w.default.scene.removeLight(this._light)
                    }, r = n, (s = [{
                        key: "type", get: function () {
                            return this._type
                        }, set: function (t) {
                            this._type = t;
                            var e = x.default.LIGHT_DIRECTIONAL;
                            t === V.POINT ? e = x.default.LIGHT_POINT : t === V.SPOT ? e = x.default.LIGHT_SPOT : t === V.AMBIENT && (e = x.default.LIGHT_AMBIENT), this._light.setType(e)
                        }
                    }, {
                        key: "color", get: function () {
                            return this._color
                        }, set: function (t) {
                            this._color.equals(t) || this._color.set(t), this._light.setColor(t.r / 255, t.g / 255, t.b / 255)
                        }
                    }, {
                        key: "intensity", get: function () {
                            return this._intensity
                        }, set: function (t) {
                            this._intensity = t, this._light.setIntensity(t)
                        }
                    }, {
                        key: "range", get: function () {
                            return this._range
                        }, set: function (t) {
                            this._range = t, this._light.setRange(t)
                        }
                    }, {
                        key: "spotAngle", get: function () {
                            return this._spotAngle
                        }, set: function (t) {
                            this._spotAngle = t, this._light.setSpotAngle((0, S.toRadian)(t))
                        }
                    }, {
                        key: "spotExp", get: function () {
                            return this._spotExp
                        }, set: function (t) {
                            this._spotExp = t, this._light.setSpotExp(t)
                        }
                    }, {
                        key: "shadowType", get: function () {
                            return this._shadowType
                        }, set: function (t) {
                            this._shadowType = t, this._light.setShadowType(t)
                        }
                    }, {
                        key: "shadowResolution", get: function () {
                            return this._shadowResolution
                        }, set: function (t) {
                            this._shadowResolution = t, this._light.setShadowResolution(t)
                        }
                    }, {
                        key: "shadowDarkness", get: function () {
                            return this._shadowDarkness
                        }, set: function (t) {
                            this._shadowDarkness = t, this._light.setShadowDarkness(t)
                        }
                    }, {
                        key: "shadowMinDepth", get: function () {
                            return this._shadowMinDepth
                        }, set: function (t) {
                            this._shadowMinDepth = t, this._light.setShadowMinDepth(t)
                        }
                    }, {
                        key: "shadowMaxDepth", get: function () {
                            return this._shadowMaxDepth
                        }, set: function (t) {
                            this._shadowMaxDepth = t, this._light.setShadowMaxDepth(t)
                        }
                    }, {
                        key: "shadowFrustumSize", get: function () {
                            return this._shadowFrustumSize
                        }, set: function (t) {
                            this._shadowFrustumSize = t, this._light.setShadowFrustumSize(t)
                        }
                    }]) && P(r.prototype, s), Object.defineProperty(r, "prototype", {writable: !1}), n
                })(R.default)).Type = V, b.ShadowType = U, h = B((l = b).prototype, "_type", [I.property], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                        return V.DIRECTIONAL
                    }
                }), u = B(l.prototype, "_color", [I.property], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                        return C.default.WHITE
                    }
                }), f = B(l.prototype, "_intensity", [I.property], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                        return 1
                    }
                }), d = B(l.prototype, "_range", [I.property], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                        return 1e3
                    }
                }), _ = B(l.prototype, "_spotAngle", [I.property], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                        return 60
                    }
                }), p = B(l.prototype, "_spotExp", [I.property], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                        return 1
                    }
                }), v = B(l.prototype, "_shadowType", [I.property], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                        return U.NONE
                    }
                }), g = B(l.prototype, "_shadowResolution", [I.property], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                        return 1024
                    }
                }), m = B(l.prototype, "_shadowDarkness", [I.property], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                        return .5
                    }
                }), y = B(l.prototype, "_shadowMinDepth", [I.property], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                        return 1
                    }
                }), T = B(l.prototype, "_shadowMaxDepth", [I.property], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                        return 4096
                    }
                }), E = B(l.prototype, "_shadowFrustumSize", [I.property], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                        return 1024
                    }
                }), A = B(l.prototype, "_shadowBias", [I.property], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function () {
                        return 5e-4
                    }
                }), B(l.prototype, "type", [a], Object.getOwnPropertyDescriptor(l.prototype, "type"), l.prototype), B(l.prototype, "color", [I.property], Object.getOwnPropertyDescriptor(l.prototype, "color"), l.prototype), B(l.prototype, "intensity", [I.property], Object.getOwnPropertyDescriptor(l.prototype, "intensity"), l.prototype), B(l.prototype, "range", [I.property], Object.getOwnPropertyDescriptor(l.prototype, "range"), l.prototype), B(l.prototype, "spotAngle", [I.property], Object.getOwnPropertyDescriptor(l.prototype, "spotAngle"), l.prototype), B(l.prototype, "spotExp", [I.property], Object.getOwnPropertyDescriptor(l.prototype, "spotExp"), l.prototype), B(l.prototype, "shadowType", [o], Object.getOwnPropertyDescriptor(l.prototype, "shadowType"), l.prototype), B(l.prototype, "shadowResolution", [I.property], Object.getOwnPropertyDescriptor(l.prototype, "shadowResolution"), l.prototype), B(l.prototype, "shadowDarkness", [I.property], Object.getOwnPropertyDescriptor(l.prototype, "shadowDarkness"), l.prototype), B(l.prototype, "shadowMinDepth", [I.property], Object.getOwnPropertyDescriptor(l.prototype, "shadowMinDepth"), l.prototype), B(l.prototype, "shadowMaxDepth", [I.property], Object.getOwnPropertyDescriptor(l.prototype, "shadowMaxDepth"), l.prototype), B(l.prototype, "shadowFrustumSize", [I.property], Object.getOwnPropertyDescriptor(l.prototype, "shadowFrustumSize"), l.prototype), c = l)) || c) || c) || c) || c);
            i.default = z, cc.Light = z, e.exports = i.default
        }), {
            "../../renderer/enums": 287,
            "../../renderer/scene/light": 313,
            "../components/CCComponent": 108,
            "../platform/CCClassDecorator": 168,
            "../platform/CCEnum": 169,
            "../renderer/index": 199,
            "../value-types": 265,
            "../value-types/color": 264
        }],
        27: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                name: "cc.Model", extends: cc.Asset, ctor: function () {
                    this._rootNode = null, this.loaded = !1
                }, properties: {
                    _nodes: {default: []}, _precomputeJointMatrix: !1, nodes: {
                        get: function () {
                            return this._nodes
                        }
                    }, rootNode: {
                        get: function () {
                            return this._rootNode
                        }
                    }, precomputeJointMatrix: {
                        get: function () {
                            return this._precomputeJointMatrix
                        }
                    }
                }, onLoad: function () {
                    var t = this._nodes;
                    this._rootNode = t[0];
                    for (var e = 0; e < t.length; e++) {
                        var i = t[e];
                        i.position = cc.v3.apply(this, i.position), i.scale = cc.v3.apply(this, i.scale), i.quat = cc.quat.apply(this, i.quat), i.uniqueBindPose && (i.uniqueBindPose = cc.mat4.apply(this, i.uniqueBindPose));
                        var n = i.bindpose;
                        if (n) for (var r in n) n[r] = cc.mat4.apply(this, n[r]);
                        var s = i.children;
                        if (s) for (var a = 0; a < s.length; a++) s[a] = t[s[a]]
                    }
                }
            });
            cc.Model = e.exports = i
        }), {}],
        28: [(function (t) {
            "use strict";
            var e = n(t("../value-types/quat")), i = n(t("../value-types/vec3"));

            function n(t) {
                return t && t.__esModule ? t : {default: t}
            }

            var r = cc.quat(), s = cc.v3();
            cc.Rotate3DTo = cc.Class({
                name: "cc.Rotate3DTo", extends: cc.ActionInterval, ctor: function (t, e, i, n) {
                    this._startQuat = cc.quat(), this._dstQuat = cc.quat(), void 0 !== e && this.initWithDuration(t, e, i, n)
                }, initWithDuration: function (t, i, n, r) {
                    if (cc.ActionInterval.prototype.initWithDuration.call(this, t)) {
                        var s = this._dstQuat;
                        return i instanceof cc.Quat ? s.set(i) : (i instanceof cc.Vec3 ? (n = i.y, r = i.z, i = i.x) : (n = n || 0, r = r || 0), e.default.fromEuler(s, i, n, r)), !0
                    }
                    return !1
                }, clone: function () {
                    var t = new cc.Rotate3DTo;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._dstQuat), t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t), this._startQuat.set(t.quat)
                }, reverse: function () {
                    cc.logID(1016)
                }, update: function (t) {
                    t = this._computeEaseTime(t), this.target && (e.default.slerp(r, this._startQuat, this._dstQuat, t), this.target.setRotation(r))
                }
            }), cc.rotate3DTo = function (t, e, i, n) {
                return new cc.Rotate3DTo(t, e, i, n)
            }, cc.Rotate3DBy = cc.Class({
                name: "cc.Rotate3DBy", extends: cc.ActionInterval, ctor: function (t, e, i, n) {
                    this._startQuat = cc.quat(), this._dstQuat = cc.quat(), this._deltaAngle = cc.v3(), void 0 !== e && this.initWithDuration(t, e, i, n)
                }, initWithDuration: function (t, e, n, r) {
                    return !!cc.ActionInterval.prototype.initWithDuration.call(this, t) && (e instanceof cc.Vec3 ? (n = e.y, r = e.z, e = e.x) : (n = n || 0, r = r || 0), i.default.set(this._deltaAngle, e, n, r), !0)
                }, clone: function () {
                    var t = new cc.Rotate3DBy;
                    return this._cloneDecoration(t), t.initWithDuration(this._duration, this._angle), t
                }, startWithTarget: function (t) {
                    cc.ActionInterval.prototype.startWithTarget.call(this, t);
                    var i = t.eulerAngles, n = this._deltaAngle;
                    e.default.fromEuler(this._dstQuat, i.x + n.x, i.y + n.y, i.z + n.z), this._startQuat.set(t.quat)
                }, update: (Math.PI, function (t) {
                    t = this._computeEaseTime(t), this.target && (e.default.slerp(r, this._startQuat, this._dstQuat, t), this.target.setRotation(r))
                }), reverse: function () {
                    var t = this._angle;
                    s.x = -t.x, s.y = -t.y, s.z = -t.z;
                    var e = new cc.Rotate3DBy(this._duration, s);
                    return this._cloneDecoration(e), this._reverseEaseList(e), e
                }
            }), cc.rotate3DBy = function (t, e, i, n) {
                return new cc.Rotate3DBy(t, e, i, n)
            }
        }), {"../value-types/quat": 268, "../value-types/vec3": 275}],
        29: [(function (t) {
            "use strict";
            t("./primitive"), t("./physics/exports/physics-builtin"), t("./physics/exports/physics-cannon"), t("./physics/exports/physics-framework"), t("./CCModel"), t("./skeleton/CCSkeleton"), t("./skeleton/CCSkeletonAnimationClip"), t("./actions"), t("./physics/framework/assets/physics-material"), t("./skeleton/CCSkeletonAnimation"), t("./skeleton/CCSkinnedMeshRenderer"), t("./skeleton/skinned-mesh-renderer"), t("./CCLightComponent"), t("./particle/particle-system-3d"), t("./particle/renderer/particle-system-3d-renderer")
        }), {
            "./CCLightComponent": 26,
            "./CCModel": 27,
            "./actions": 28,
            "./particle/particle-system-3d": void 0,
            "./particle/renderer/particle-system-3d-renderer": void 0,
            "./physics/exports/physics-builtin": void 0,
            "./physics/exports/physics-cannon": void 0,
            "./physics/exports/physics-framework": void 0,
            "./physics/framework/assets/physics-material": void 0,
            "./primitive": void 0,
            "./skeleton/CCSkeleton": 31,
            "./skeleton/CCSkeletonAnimation": 32,
            "./skeleton/CCSkeletonAnimationClip": 33,
            "./skeleton/CCSkinnedMeshRenderer": 34,
            "./skeleton/skinned-mesh-renderer": 35
        }],
        30: [(function (t, e) {
            "use strict";
            var i = t("../../../animation/animation-curves"), n = i.DynamicAnimCurve, r = i.quickFindIndex,
                s = cc.Class({
                    name: "cc.JointMatrixCurve", extends: n, _findFrameIndex: r, sample: function (t, e) {
                        var i = this.ratios, n = this._findFrameIndex(i, e);
                        n < -1 && (n = ~n - 1);
                        for (var r = this.pairs, s = 0; s < r.length; s++) {
                            var a = r[s];
                            a.target._jointMatrix = a.values[n]
                        }
                    }
                });
            e.exports = s
        }), {"../../../animation/animation-curves": 11}],
        31: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                name: "cc.Skeleton", extends: cc.Asset, ctor: function () {
                    this.loaded = !1, this._bindposes = [], this._uniqueBindPoses = [], this._jointPaths = []
                }, properties: {
                    _model: cc.Model, _jointIndices: [], _skinIndex: -1, jointPaths: {
                        get: function () {
                            return this._jointPaths
                        }
                    }, bindposes: {
                        get: function () {
                            return this._bindposes
                        }
                    }, uniqueBindPoses: {
                        get: function () {
                            return this._uniqueBindPoses
                        }
                    }, model: {
                        get: function () {
                            return this._model
                        }
                    }
                }, onLoad: function () {
                    for (var t = this._model.nodes, e = this._jointIndices, i = this._jointPaths, n = this._bindposes, r = this._uniqueBindPoses, s = 0; s < e.length; s++) {
                        var a = t[e[s]];
                        i[s] = a.path, a.uniqueBindPose ? n[s] = r[s] = a.uniqueBindPose : n[s] = a.bindpose[this._skinIndex]
                    }
                }
            });
            cc.Skeleton = e.exports = i
        }), {}],
        32: [(function (t, e) {
            "use strict";
            var i = t("../../components/CCAnimation"), n = t("../CCModel"), r = t("./CCSkeletonAnimationClip"),
                s = cc.Class({
                    name: "cc.SkeletonAnimation",
                    extends: i,
                    editor: !1,
                    properties: {
                        _model: {default: null, type: n},
                        _defaultClip: {override: !0, default: null, type: r},
                        _clips: {override: !0, default: [], type: [r], visible: !0},
                        defaultClip: {
                            override: !0, get: function () {
                                return this._defaultClip
                            }, set: function (t) {
                                this._defaultClip = t
                            }, type: r
                        },
                        model: {
                            get: function () {
                                return this._model
                            }, set: function (t) {
                                this._model = t, this._updateClipModel()
                            }, type: n
                        }
                    },
                    __preload: function () {
                        this._updateClipModel()
                    },
                    _updateClipModel: function () {
                        this._defaultClip && (this._defaultClip._model = this._model);
                        for (var t = this._clips, e = 0; e < t.length; e++) t[e]._model = this._model
                    },
                    addClip: function (t, e) {
                        return t._model = this._model, i.prototype.addClip.call(this, t, e)
                    },
                    searchClips: !1
                });
            cc.SkeletonAnimation = e.exports = s
        }), {
            "../../components/CCAnimation": 103,
            "../CCModel": 27,
            "./CCSkeletonAnimationClip": 33,
            "fire-path": void 0
        }],
        33: [(function (t, e) {
            "use strict";
            var i, n = (i = t("../../value-types/mat4")) && i.__esModule ? i : {default: i},
                r = t("../../../animation/animation-clip"), s = t("./CCJointMatrixCurve");

            function a(t) {
                var e = new Float32Array(16);
                return e.set(t.m), e
            }

            var o = cc.Class({
                name: "cc.SkeletonAnimationClip",
                extends: r,
                properties: {
                    _nativeAsset: {
                        override: !0, get: function () {
                            return this._buffer
                        }, set: function (t) {
                            var e = ArrayBuffer.isView(t) ? t.buffer : t;
                            this._buffer = new Float32Array(e || t, 0, e.byteLength / 4)
                        }
                    },
                    description: {default: null, type: Object},
                    curveData: {
                        visible: !1, override: !0, get: function () {
                            return this._curveData || {}
                        }, set: function () {
                        }
                    }
                },
                statics: {preventDeferredLoadDependents: !0},
                _init: function () {
                    return this._curveData ? this._curveData : (this._curveData = {}, this._generateCommonCurve(), this._model.precomputeJointMatrix && this._generateJointMatrixCurve(), this._curveData)
                },
                _generateCommonCurve: function () {
                    var t = this._buffer, e = this.description, i = 0;

                    function n() {
                        return t[i++]
                    }

                    this._curveData.paths || (this._curveData.paths = {});
                    var r = this._curveData.paths;
                    for (var s in e) {
                        var a = e[s], o = {};
                        for (var c in r[s] = {props: o}, a) {
                            var l = [], h = a[c].frameCount;
                            i = a[c].offset;
                            for (var u = 0; u < h; u++) {
                                var f = n(), d = void 0;
                                "position" === c || "scale" === c ? d = cc.v3(n(), n(), n()) : "quat" === c && (d = cc.quat(n(), n(), n(), n())), l.push({
                                    frame: f,
                                    value: d
                                })
                            }
                            o[c] = l
                        }
                    }
                },
                _generateJointMatrixCurve: function () {
                    var t = this._model.rootNode, e = this._curveData.paths, i = {ratios: [], jointMatrixMap: {}},
                        r = i.jointMatrixMap;

                    function s(i, o, c) {
                        var l, h = e[i.path];
                        if (i !== t && h) {
                            var u, f = h.props;
                            for (var d in f) for (var _ = f[d], p = 0; p < _.length; p++) {
                                var v = _[p];
                                if (Math.abs(v.frame - o) < 1e-4) {
                                    i[d].set(v.value);
                                    break
                                }
                                if (v.frame > o) {
                                    var g = _[p - 1], m = (o - g.frame) / (v.frame - g.frame);
                                    g.value.lerp(v.value, m, i[d]);
                                    break
                                }
                            }
                            l = cc.mat4(), n.default.fromRTS(l, i.quat, i.position, i.scale), c && n.default.mul(l, c, l), f._jointMatrix || (f._jointMatrix = []), i.uniqueBindPose && (u = cc.mat4(), n.default.mul(u, l, i.uniqueBindPose)), r[i.path] || (r[i.path] = []), u ? r[i.path].push(a(u)) : r[i.path].push(l)
                        }
                        var y = i.children;
                        for (var T in y) s(y[T], o, l)
                    }

                    for (var o = 0, c = this.duration, l = 1 / this.sample; o < c;) i.ratios.push(o / c), s(t, o), o += l;
                    this._curveData = i
                },
                _createJointMatrixCurve: function (t, e) {
                    var i = new s;
                    i.ratios = this.curveData.ratios, i.pairs = [];
                    var n = this.curveData.jointMatrixMap;
                    for (var r in n) {
                        var a = cc.find(r, e);
                        a && i.pairs.push({target: a, values: n[r]})
                    }
                    return [i]
                },
                createCurves: function (t, e) {
                    return this._model ? (this._init(), this._model.precomputeJointMatrix ? this._createJointMatrixCurve(t, e) : r.prototype.createCurves.call(this, t, e)) : (cc.warn("Skeleton Animation Clip [" + this.name + "] Can not find model"), [])
                }
            });
            cc.SkeletonAnimationClip = e.exports = o
        }), {"../../../animation/animation-clip": 10, "../../value-types/mat4": 267, "./CCJointMatrixCurve": 30}],
        34: [(function (t, e) {
            "use strict";
            var i, n = (i = t("../../value-types/mat4")) && i.__esModule ? i : {default: i}, r = t("./CCSkeleton"),
                s = t("../../mesh/CCMeshRenderer"), a = t("../../renderer/render-flow"),
                o = (t("../../../renderer/enums"), cc.mat4()), c = cc.mat4(), l = cc.Class({
                    name: "cc.SkinnedMeshRenderer", extends: s, editor: !1, ctor: function () {
                        this._jointsData = this._jointsFloat32Data = null, this._jointsTexture = null, this._joints = [], this._dummyNode = new cc.Node, this._jointsTextureOptions = null, this._usingRGBA8Texture = !1
                    }, properties: {
                        _skeleton: r, _rootBone: cc.Node, skeleton: {
                            get: function () {
                                return this._skeleton
                            }, set: function (t) {
                                this._skeleton = t, this._init()
                            }, type: r
                        }, rootBone: {
                            get: function () {
                                return this._rootBone
                            }, set: function (t) {
                                this._rootBone = t, this._init()
                            }, type: cc.Node
                        }, enableAutoBatch: {
                            get: function () {
                                return !1
                            }, visible: !1, override: !0
                        }
                    }, __preload: function () {
                        this._super(), this._init()
                    }, _init: function () {
                        this._model = this._skeleton && this._skeleton.model, this._calFunc = null, this._initJoints(), this._initJointsTexture(), this._initCalcFunc(), this._updateRenderNode()
                    }, _calcWorldMatrixToRoot: function (t) {
                        var e = t._worldMatrixToRoot;
                        if (!e) {
                            t._worldMatrixToRoot = e = cc.mat4(), t.getLocalMatrix(e);
                            var i = t.parent;
                            i !== this.rootBone && (i._worldMatrixToRoot || this._calcWorldMatrixToRoot(i), n.default.mul(e, i._worldMatrixToRoot, e))
                        }
                    }, _validateRender: function () {
                        this._jointsData ? this._super() : this.disableRender()
                    }, _initJoints: function () {
                        var t = this._joints;
                        if (t.length = 0, this.skeleton && this.rootBone) {
                            for (var e = this._useJointMatrix(), i = this.skeleton.jointPaths, r = this.rootBone, s = 0; s < i.length; s++) {
                                var c = cc.find(i[s], r);
                                c || cc.warn("Can not find joint in root bone [%s] with path [%s]", r.name, i[s]), e && (c._renderFlag &= ~a.FLAG_CHILDREN, this._calcWorldMatrixToRoot(c)), t.push(c)
                            }
                            if (e) for (var l = this.skeleton.uniqueBindPoses, h = 0; h < i.length; h++) {
                                var u = t[h];
                                l[h] ? (n.default.mul(o, u._worldMatrixToRoot, l[h]), u._jointMatrix = n.default.toArray([], o)) : u._jointMatrix = u._worldMatrixToRoot
                            }
                        }
                    }, _initJointsTexture: function () {
                        if (this._skeleton) {
                            var t = this._joints.length, e = !1;
                            if (t <= cc.sys.getMaxJointMatrixSize() && (e = !0, this._jointsData = this._jointsFloat32Data = new Float32Array(16 * t)), !e) {
                                var i, n = !!cc.sys.glExtension("OES_texture_float");
                                i = t > 256 ? 64 : t > 64 ? 32 : t > 16 ? 16 : 8, this._jointsData = this._jointsFloat32Data = new Float32Array(i * i * 4);
                                var r = cc.Texture2D.PixelFormat.RGBA32F, s = i, a = i;
                                n || (this._jointsData = new Uint8Array(this._jointsFloat32Data.buffer), r = cc.Texture2D.PixelFormat.RGBA8888, s *= 4, this._usingRGBA8Texture = !0, cc.warn("SkinnedMeshRenderer [" + this.node.name + "] has too many joints [" + t + "] and device do not support float32 texture, fallback to use RGBA8888 texture, which is much slower."));
                                var o = this._jointsTexture || new cc.Texture2D, c = cc.Texture2D.Filter.NEAREST;
                                o.setFilters(c, c), o.initWithData(this._jointsData, r, s, a), this._jointsTexture = o, this._jointsTextureOptions = {
                                    format: r,
                                    width: o.width,
                                    height: o.height,
                                    images: []
                                }
                            }
                            this._updateMaterial()
                        }
                    }, _updateMaterial: function () {
                        s.prototype._updateMaterial.call(this);
                        for (var t = this.getMaterials(), e = 0; e < t.length; e++) {
                            var i = t[e];
                            this._jointsTexture ? (i.setProperty("jointsTexture", this._jointsTexture), i.setProperty("jointsTextureSize", new Float32Array([this._jointsTexture.width, this._jointsTexture.height])), i.define("CC_JOINTS_TEXTURE_FLOAT32", !!cc.sys.glExtension("OES_texture_float")), i.define("CC_USE_JOINTS_TEXTRUE", !0)) : (this._jointsFloat32Data && i.setProperty("jointMatrices", this._jointsFloat32Data, void 0, !0), i.define("CC_USE_JOINTS_TEXTRUE", !1)), i.define("CC_USE_SKINNING", !0)
                        }
                    }, _setJointsDataWithArray: function (t, e) {
                        this._jointsFloat32Data.set(e, 16 * t)
                    }, _setJointsDataWithMatrix: function (t, e) {
                        this._jointsFloat32Data.set(e.m, 16 * t)
                    }, _commitJointsData: function () {
                        this._jointsTexture && (this._jointsTextureOptions.images[0] = this._jointsData, this._jointsTexture.update(this._jointsTextureOptions))
                    }, _useJointMatrix: function () {
                        return this._model && this._model.precomputeJointMatrix
                    }, _updateRenderNode: function () {
                        this._useJointMatrix() || this._usingRGBA8Texture ? this._assembler.setRenderNode(this.rootBone) : this._assembler.setRenderNode(this._dummyNode)
                    }, _initCalcFunc: function () {
                        this._useJointMatrix() ? this._calFunc = this._calJointMatrix : this._usingRGBA8Texture ? this._calFunc = this._calRGBA8WorldMatrix : this._calFunc = this._calWorldMatrix
                    }, _calJointMatrix: function () {
                        for (var t = this._joints, e = this.skeleton.bindposes, i = this.skeleton.uniqueBindPoses, r = 0; r < t.length; ++r) {
                            var s = t[r]._jointMatrix;
                            i[r] ? this._setJointsDataWithArray(r, s) : (n.default.multiply(o, s, e[r]), this._setJointsDataWithMatrix(r, o))
                        }
                    }, _calRGBA8WorldMatrix: function () {
                        var t = this._joints, e = this.skeleton.bindposes;
                        this.rootBone._updateWorldMatrix();
                        for (var i = this.rootBone._worldMatrix, r = n.default.invert(c, i), s = 0; s < t.length; ++s) {
                            var a = t[s];
                            a._updateWorldMatrix(), n.default.multiply(o, r, a._worldMatrix), n.default.multiply(o, o, e[s]), this._setJointsDataWithMatrix(s, o)
                        }
                    }, _calWorldMatrix: function () {
                        for (var t = this._joints, e = this.skeleton.bindposes, i = 0; i < t.length; ++i) {
                            var r = t[i];
                            r._updateWorldMatrix(), n.default.multiply(o, r._worldMatrix, e[i]), this._setJointsDataWithMatrix(i, o)
                        }
                    }, calcJointMatrix: function () {
                        this.skeleton && this.rootBone && (this._calFunc.call(this), this._commitJointsData())
                    }
                });
            cc.SkinnedMeshRenderer = e.exports = l
        }), {
            "../../../renderer/enums": 287,
            "../../mesh/CCMeshRenderer": 162,
            "../../renderer/render-flow": 200,
            "../../value-types/mat4": 267,
            "./CCSkeleton": 31
        }],
        35: [(function (t, e, i) {
            "use strict";

            function n(t, e) {
                return (n = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            i.__esModule = !0, i.default = void 0;
            var r = t("./CCSkinnedMeshRenderer"), s = t("../../mesh/mesh-renderer"),
                a = (t("../../renderer/render-flow"), (function (t) {
                    var e, i;

                    function r() {
                        return t.apply(this, arguments) || this
                    }

                    return i = t, (e = r).prototype = Object.create(i.prototype), e.prototype.constructor = e, n(e, i), r.prototype.fillBuffers = function (e, i) {
                        e.calcJointMatrix(), t.prototype.fillBuffers.call(this, e, i)
                    }, r
                })(s));
            i.default = a, cc.Assembler.register(r, a), e.exports = i.default
        }), {"../../mesh/mesh-renderer": 165, "../../renderer/render-flow": 200, "./CCSkinnedMeshRenderer": 34}],
        36: [(function (t, e) {
            "use strict";
            var i, n = t("./platform/utils"),
                r = (t("../../DebugInfos"), "https://github.com/cocos-creator/engine/blob/master/EngineErrorMap.md");

            function s(t) {
                return function () {
                    var e = arguments[0], i = t + " " + e + ", please go to " + r + "#" + e + " to see details.";
                    if (1 === arguments.length) return i;
                    if (2 === arguments.length) return i + " Arguments: " + arguments[1];
                    var n = cc.js.shiftArguments.apply(null, arguments);
                    return i + " Arguments: " + n.join(", ")
                }
            }

            cc.log = cc.warn = cc.error = cc.assert = console.log.bind ? console.log.bind(console) : console.log, cc._throw = function (t) {
                n.callInNextTick((function () {
                    throw t
                }))
            };
            var a = s("Log");
            cc.logID = function () {
                cc.log(a.apply(null, arguments))
            };
            var o = s("Warning");
            cc.warnID = function () {
                cc.warn(o.apply(null, arguments))
            };
            var c = s("Error");
            cc.errorID = function () {
                cc.error(c.apply(null, arguments))
            };
            var l = s("Assert");
            cc.assertID = function (t) {
                t || cc.assert(!1, l.apply(null, cc.js.shiftArguments.apply(null, arguments)))
            };
            var h = cc.Enum({
                NONE: 0,
                INFO: 1,
                WARN: 2,
                ERROR: 3,
                INFO_FOR_WEB_PAGE: 4,
                WARN_FOR_WEB_PAGE: 5,
                ERROR_FOR_WEB_PAGE: 6
            });
            e.exports = cc.debug = {
                DebugMode: h, _resetDebugSetting: function (t) {
                    if (cc.log = cc.warn = cc.error = cc.assert = function () {
                    }, t !== h.NONE) {
                        if (t > h.ERROR) {
                            var e = function (t) {
                                if (cc.game.canvas) {
                                    if (!i) {
                                        var e = document.createElement("Div");
                                        e.setAttribute("id", "logInfoDiv"), e.setAttribute("width", "200"), e.setAttribute("height", cc.game.canvas.height);
                                        var n = e.style;
                                        n.zIndex = "99999", n.position = "absolute", n.top = n.left = "0", (i = document.createElement("textarea")).setAttribute("rows", "20"), i.setAttribute("cols", "30"), i.setAttribute("disabled", "true");
                                        var r = i.style;
                                        r.backgroundColor = "transparent", r.borderBottom = "1px solid #cccccc", r.borderTopWidth = r.borderLeftWidth = r.borderRightWidth = "0px", r.borderTopStyle = r.borderLeftStyle = r.borderRightStyle = "none", r.padding = "0px", r.margin = 0, e.appendChild(i), cc.game.canvas.parentNode.appendChild(e)
                                    }
                                    i.value = i.value + t + "\r\n", i.scrollTop = i.scrollHeight
                                }
                            };
                            cc.error = function () {
                                e("ERROR :  " + cc.js.formatStr.apply(null, arguments))
                            }, cc.assert = function (t, i) {
                                !t && i && (i = cc.js.formatStr.apply(null, cc.js.shiftArguments.apply(null, arguments)), e("ASSERT: " + i))
                            }, t !== h.ERROR_FOR_WEB_PAGE && (cc.warn = function () {
                                e("WARN :  " + cc.js.formatStr.apply(null, arguments))
                            }), t === h.INFO_FOR_WEB_PAGE && (cc.log = function () {
                                e(cc.js.formatStr.apply(null, arguments))
                            })
                        } else console && console.log.apply && (console.error || (console.error = console.log), console.warn || (console.warn = console.log), console.error.bind ? cc.error = console.error.bind(console) : cc.error = function () {
                            return console.error.apply(console, arguments)
                        }, cc.assert = function (t, e) {
                            if (!t) throw e && (e = cc.js.formatStr.apply(null, cc.js.shiftArguments.apply(null, arguments))), new Error(e)
                        });
                        t !== h.ERROR && (console.warn.bind ? cc.warn = console.warn.bind(console) : cc.warn = function () {
                            return console.warn.apply(console, arguments)
                        }), t === h.INFO && (console.log.bind ? cc.log = console.log.bind(console) : cc.log = function () {
                            return console.log.apply(console, arguments)
                        })
                    }
                }, getError: s("ERROR"), isDisplayStats: function () {
                    return !!cc.profiler && cc.profiler.isShowingStats()
                }, setDisplayStats: function (t) {
                    cc.profiler && cc.game.renderType !== cc.game.RENDER_TYPE_CANVAS && (t ? cc.profiler.showStats() : cc.profiler.hideStats(), cc.game.config.showFPS = !!t)
                }
            }
        }), {"../../DebugInfos": void 0, "./platform/utils": 191}],
        37: [(function (t, e) {
            "use strict";
            var i = t("./event/event-target"), n = t("./component-scheduler"), r = t("./node-activator"),
                s = t("./platform/CCObject"), a = t("./CCGame"), o = t("./renderer"), c = t("./event-manager"),
                l = t("./CCScheduler");
            cc.Director = function () {
                i.call(this), this._paused = !1, this._purgeDirectorInNextLoop = !1, this._winSizeInPoints = null, this._scene = null, this._loadingScene = "", this._totalFrames = 0, this._lastUpdate = 0, this._deltaTime = 0, this._startTime = 0, this._maxParticleDeltaTime = 0, this._scheduler = null, this._compScheduler = null, this._nodeActivator = null, this._actionManager = null;
                var t = this;
                a.on(a.EVENT_SHOW, (function () {
                    t._lastUpdate = performance.now()
                })), a.once(a.EVENT_ENGINE_INITED, this.init, this)
            }, cc.Director.prototype = {
                constructor: cc.Director, init: function () {
                    return this._totalFrames = 0, this._lastUpdate = performance.now(), this._startTime = this._lastUpdate, this._paused = !1, this._purgeDirectorInNextLoop = !1, this._winSizeInPoints = cc.size(0, 0), this._scheduler = new l, cc.ActionManager ? (this._actionManager = new cc.ActionManager, this._scheduler.scheduleUpdate(this._actionManager, l.PRIORITY_SYSTEM, !1)) : this._actionManager = null, this.sharedInit(), !0
                }, sharedInit: function () {
                    this._compScheduler = new n, this._nodeActivator = new r, c && c.setEnabled(!0), cc.AnimationManager ? (this._animationManager = new cc.AnimationManager, this._scheduler.scheduleUpdate(this._animationManager, l.PRIORITY_SYSTEM, !1)) : this._animationManager = null, cc.CollisionManager ? (this._collisionManager = new cc.CollisionManager, this._scheduler.scheduleUpdate(this._collisionManager, l.PRIORITY_SYSTEM, !1)) : this._collisionManager = null, cc.PhysicsManager ? (this._physicsManager = new cc.PhysicsManager, this._scheduler.scheduleUpdate(this._physicsManager, l.PRIORITY_SYSTEM, !1)) : this._physicsManager = null, cc.Physics3DManager, this._physics3DManager = null, cc._widgetManager && cc._widgetManager.init(this)
                }, calculateDeltaTime: function (t) {
                    t || (t = performance.now()), this._deltaTime = t > this._lastUpdate ? (t - this._lastUpdate) / 1e3 : 0, this._lastUpdate = t
                }, convertToGL: function (t) {
                    var e = a.container, i = cc.view, n = e.getBoundingClientRect(),
                        r = n.left + window.pageXOffset - e.clientLeft, s = n.top + window.pageYOffset - e.clientTop,
                        o = i._devicePixelRatio * (t.x - r), c = i._devicePixelRatio * (s + n.height - t.y);
                    return i._isRotated ? cc.v2(i._viewportRect.width - c, o) : cc.v2(o, c)
                }, convertToUI: function (t) {
                    var e = a.container, i = cc.view, n = e.getBoundingClientRect(),
                        r = n.left + window.pageXOffset - e.clientLeft, s = n.top + window.pageYOffset - e.clientTop,
                        o = cc.v2(0, 0);
                    return i._isRotated ? (o.x = r + t.y / i._devicePixelRatio, o.y = s + n.height - (i._viewportRect.width - t.x) / i._devicePixelRatio) : (o.x = r + t.x * i._devicePixelRatio, o.y = s + n.height - t.y * i._devicePixelRatio), o
                }, end: function () {
                    this._purgeDirectorInNextLoop = !0
                }, getWinSize: function () {
                    return cc.size(cc.winSize)
                }, getWinSizeInPixels: function () {
                    return cc.size(cc.winSize)
                }, pause: function () {
                    this._paused || (this._paused = !0)
                }, purgeCachedData: function () {
                    cc.assetManager.releaseAll()
                }, purgeDirector: function () {
                    this._scheduler.unscheduleAll(), this._compScheduler.unscheduleAll(), this._nodeActivator.reset(), c && c.setEnabled(!1), cc.isValid(this._scene) && this._scene.destroy(), this._scene = null, cc.renderer.clear(), cc.assetManager.builtins.clear(), cc.game.pause(), cc.assetManager.releaseAll()
                }, reset: function () {
                    this.purgeDirector(), c && c.setEnabled(!0), this._actionManager && this._scheduler.scheduleUpdate(this._actionManager, cc.Scheduler.PRIORITY_SYSTEM, !1), this._animationManager && this._scheduler.scheduleUpdate(this._animationManager, cc.Scheduler.PRIORITY_SYSTEM, !1), this._collisionManager && this._scheduler.scheduleUpdate(this._collisionManager, cc.Scheduler.PRIORITY_SYSTEM, !1), this._physicsManager && this._scheduler.scheduleUpdate(this._physicsManager, cc.Scheduler.PRIORITY_SYSTEM, !1), cc.game.resume()
                }, runSceneImmediate: function (t, e, i) {
                    cc.assertID(t instanceof cc.Scene || t instanceof cc.SceneAsset, 1216), t instanceof cc.SceneAsset && (t = t.scene), t._load();
                    for (var n = Object.keys(a._persistRootNodes).map((function (t) {
                        return a._persistRootNodes[t]
                    })), r = 0; r < n.length; r++) {
                        var o = n[r], c = t.getChildByUuid(o.uuid);
                        if (c) {
                            var l = c.getSiblingIndex();
                            c._destroyImmediate(), t.insertChild(o, l)
                        } else o.parent = t
                    }
                    var h = this._scene;
                    cc.assetManager._releaseManager._autoRelease(h, t, a._persistRootNodes), cc.isValid(h) && h.destroy(), this._scene = null, s._deferredDestroy(), e && e(), this.emit(cc.Director.EVENT_BEFORE_SCENE_LAUNCH, t), this._scene = t, t._activate(), cc.game.resume(), i && i(null, t), this.emit(cc.Director.EVENT_AFTER_SCENE_LAUNCH, t)
                }, runScene: function (t, e, i) {
                    cc.assertID(t, 1205), cc.assertID(t instanceof cc.Scene || t instanceof cc.SceneAsset, 1216), t instanceof cc.SceneAsset && (t = t.scene), t._load(), this.once(cc.Director.EVENT_AFTER_DRAW, (function () {
                        this.runSceneImmediate(t, e, i)
                    }), this)
                }, loadScene: function (t, e, i) {
                    if (this._loadingScene) return cc.warnID(1208, t, this._loadingScene), !1;
                    var n = cc.assetManager.bundles.find((function (e) {
                        return e.getSceneInfo(t)
                    }));
                    if (n) {
                        this.emit(cc.Director.EVENT_BEFORE_SCENE_LOADING, t), this._loadingScene = t;
                        var r = this;
                        return console.time("LoadScene " + t), n.loadScene(t, (function (n, s) {
                            console.timeEnd("LoadScene " + t), r._loadingScene = "", n ? (n = "Failed to load scene: " + n, cc.error(n), e && e(n)) : r.runSceneImmediate(s, i, e)
                        })), !0
                    }
                    return cc.errorID(1209, t), !1
                }, preloadScene: function (t, e, i) {
                    var n = cc.assetManager.bundles.find((function (e) {
                        return e.getSceneInfo(t)
                    }));
                    if (!n) return cc.errorID(1209, t), null;
                    n.preloadScene(t, null, e, i)
                }, resume: function () {
                    this._paused && (this._lastUpdate = performance.now(), this._lastUpdate || cc.logID(1200), this._paused = !1, this._deltaTime = 0)
                }, setDepthTest: function (t) {
                    cc.Camera.main && (cc.Camera.main.depth = !!t)
                }, setClearColor: function (t) {
                    cc.Camera.main && (cc.Camera.main.backgroundColor = t)
                }, getRunningScene: function () {
                    return this._scene
                }, getScene: function () {
                    return this._scene
                }, getAnimationInterval: function () {
                    return 1e3 / a.getFrameRate()
                }, setAnimationInterval: function (t) {
                    a.setFrameRate(Math.round(1e3 / t))
                }, getDeltaTime: function () {
                    return this._deltaTime
                }, getTotalTime: function () {
                    return performance.now() - this._startTime
                }, getTotalFrames: function () {
                    return this._totalFrames
                }, isPaused: function () {
                    return this._paused
                }, getScheduler: function () {
                    return this._scheduler
                }, setScheduler: function (t) {
                    this._scheduler !== t && (this._scheduler = t)
                }, getActionManager: function () {
                    return this._actionManager
                }, setActionManager: function (t) {
                    this._actionManager !== t && (this._actionManager && this._scheduler.unscheduleUpdate(this._actionManager), this._actionManager = t, this._scheduler.scheduleUpdate(this._actionManager, cc.Scheduler.PRIORITY_SYSTEM, !1))
                }, getAnimationManager: function () {
                    return this._animationManager
                }, getCollisionManager: function () {
                    return this._collisionManager
                }, getPhysicsManager: function () {
                    return this._physicsManager
                }, getPhysics3DManager: function () {
                    return this._physics3DManager
                }, startAnimation: function () {
                    cc.game.resume()
                }, stopAnimation: function () {
                    cc.game.pause()
                }, _resetDeltaTime: function () {
                    this._lastUpdate = performance.now(), this._deltaTime = 0
                }, mainLoop: function (t) {
                    this._purgeDirectorInNextLoop ? (this._purgeDirectorInNextLoop = !1, this.purgeDirector()) : (this.calculateDeltaTime(t), this._paused || (this.emit(cc.Director.EVENT_BEFORE_UPDATE), this._compScheduler.startPhase(), this._compScheduler.updatePhase(this._deltaTime), this._scheduler.update(this._deltaTime), this._compScheduler.lateUpdatePhase(this._deltaTime), this.emit(cc.Director.EVENT_AFTER_UPDATE), s._deferredDestroy()), this.emit(cc.Director.EVENT_BEFORE_DRAW), o.render(this._scene, this._deltaTime), this.emit(cc.Director.EVENT_AFTER_DRAW), c.frameUpdateListeners(), this._totalFrames++)
                }, __fastOn: function (t, e, i) {
                    this.on(t, e, i)
                }, __fastOff: function (t, e, i) {
                    this.off(t, e, i)
                }
            }, cc.js.addon(cc.Director.prototype, i.prototype), cc.Director.EVENT_PROJECTION_CHANGED = "director_projection_changed", cc.Director.EVENT_BEFORE_SCENE_LOADING = "director_before_scene_loading", cc.Director.EVENT_BEFORE_SCENE_LAUNCH = "director_before_scene_launch", cc.Director.EVENT_AFTER_SCENE_LAUNCH = "director_after_scene_launch", cc.Director.EVENT_BEFORE_UPDATE = "director_before_update", cc.Director.EVENT_AFTER_UPDATE = "director_after_update", cc.Director.EVENT_BEFORE_VISIT = "director_before_draw", cc.Director.EVENT_AFTER_VISIT = "director_before_draw", cc.Director.EVENT_BEFORE_DRAW = "director_before_draw", cc.Director.EVENT_AFTER_DRAW = "director_after_draw", cc.Director.PROJECTION_2D = 0, cc.Director.PROJECTION_3D = 1, cc.Director.PROJECTION_CUSTOM = 3, cc.Director.PROJECTION_DEFAULT = cc.Director.PROJECTION_2D, cc.Director.EVENT_BEFORE_PHYSICS = "director_before_physics", cc.Director.EVENT_AFTER_PHYSICS = "director_after_physics", cc.director = new cc.Director, e.exports = cc.director
        }), {
            "./CCGame": 38,
            "./CCScheduler": 42,
            "./component-scheduler": 102,
            "./event-manager": 138,
            "./event/event-target": 140,
            "./node-activator": 166,
            "./platform/CCObject": 173,
            "./renderer": 199
        }],
        38: [(function (t, e) {
            "use strict";
            var i = t("./event/event-target");
            t("../audio/CCAudioEngine");
            var n = t("./CCDebug"), r = t("./renderer/index.js"), s = t("../core/renderer/utils/dynamic-atlas/manager"),
                a = {
                    EVENT_HIDE: "game_on_hide",
                    EVENT_SHOW: "game_on_show",
                    EVENT_RESTART: "game_on_restart",
                    EVENT_GAME_INITED: "game_inited",
                    EVENT_ENGINE_INITED: "engine_inited",
                    EVENT_RENDERER_INITED: "engine_inited",
                    RENDER_TYPE_CANVAS: 0,
                    RENDER_TYPE_WEBGL: 1,
                    RENDER_TYPE_OPENGL: 2,
                    _persistRootNodes: {},
                    _paused: !0,
                    _configLoaded: !1,
                    _isCloning: !1,
                    _prepared: !1,
                    _rendererInitialized: !1,
                    _renderContext: null,
                    _intervalId: null,
                    _lastTime: null,
                    _frameTime: null,
                    frame: null,
                    container: null,
                    canvas: null,
                    renderType: -1,
                    config: null,
                    onStart: null,
                    setFrameRate: function (t) {
                        this.config.frameRate = t, this._intervalId && window.cancelAnimFrame(this._intervalId), this._intervalId = 0, this._paused = !0, this._setAnimFrame(), this._runMainLoop()
                    },
                    getFrameRate: function () {
                        return this.config.frameRate
                    },
                    step: function () {
                        cc.director.mainLoop()
                    },
                    pause: function () {
                        this._paused || (this._paused = !0, cc.audioEngine && cc.audioEngine._break(), this._intervalId && window.cancelAnimFrame(this._intervalId), this._intervalId = 0)
                    },
                    resume: function () {
                        this._paused && (this._paused = !1, cc.audioEngine && cc.audioEngine._restore(), cc.director._resetDeltaTime(), this._runMainLoop())
                    },
                    isPaused: function () {
                        return this._paused
                    },
                    restart: function () {
                        cc.director.once(cc.Director.EVENT_AFTER_DRAW, (function () {
                            for (var t in a._persistRootNodes) a.removePersistRootNode(a._persistRootNodes[t]);
                            cc.director.getScene().destroy(), cc.Object._deferredDestroy(), cc.audioEngine && cc.audioEngine.uncacheAll(), cc.director.reset(), a.pause(), cc.assetManager.builtins.init((function () {
                                a.onStart(), a.emit(a.EVENT_RESTART)
                            }))
                        }))
                    },
                    end: function () {
                        close()
                    },
                    _initEngine: function () {
                        this._rendererInitialized || (this._initRenderer(), this._initEvents(), this.emit(this.EVENT_ENGINE_INITED))
                    },
                    _loadPreviewScript: function (t) {
                        t()
                    },
                    _prepareFinished: function (t) {
                        var e = this;
                        this._initEngine(), this._setAnimFrame(), cc.assetManager.builtins.init((function () {
                            console.log("Cocos Creator v" + cc.ENGINE_VERSION), e._prepared = !0, e._runMainLoop(), e.emit(e.EVENT_GAME_INITED), t && t()
                        }))
                    },
                    eventTargetOn: i.prototype.on,
                    eventTargetOnce: i.prototype.once,
                    on: function (t, e, i, n) {
                        this._prepared && t === this.EVENT_ENGINE_INITED || !this._paused && t === this.EVENT_GAME_INITED ? e.call(i) : this.eventTargetOn(t, e, i, n)
                    },
                    once: function (t, e, i) {
                        this._prepared && t === this.EVENT_ENGINE_INITED || !this._paused && t === this.EVENT_GAME_INITED ? e.call(i) : this.eventTargetOnce(t, e, i)
                    },
                    prepare: function (t) {
                        var e = this;
                        this._prepared ? t && t() : this._loadPreviewScript((function () {
                            e._prepareFinished(t)
                        }))
                    },
                    run: function (t, e) {
                        this._initConfig(t), this.onStart = e, this.prepare(a.onStart && a.onStart.bind(a))
                    },
                    addPersistRootNode: function (t) {
                        if (cc.Node.isNode(t) && t.uuid) {
                            var e = t.uuid;
                            if (!this._persistRootNodes[e]) {
                                var i = cc.director._scene;
                                if (cc.isValid(i)) if (t.parent) {
                                    if (!(t.parent instanceof cc.Scene)) return void cc.warnID(3801);
                                    if (t.parent !== i) return void cc.warnID(3802)
                                } else t.parent = i;
                                this._persistRootNodes[e] = t, t._persistNode = !0, cc.assetManager._releaseManager._addPersistNodeRef(t)
                            }
                        } else cc.warnID(3800)
                    },
                    removePersistRootNode: function (t) {
                        var e = t.uuid || "";
                        t === this._persistRootNodes[e] && (delete this._persistRootNodes[e], t._persistNode = !1, cc.assetManager._releaseManager._removePersistNodeRef(t))
                    },
                    isPersistRootNode: function (t) {
                        return t._persistNode
                    },
                    _setAnimFrame: function () {
                        this._lastTime = performance.now();
                        var t = a.config.frameRate;
                        this._frameTime = 1e3 / t, cc.director._maxParticleDeltaTime = this._frameTime / 1e3 * 2;
                        var e = window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;
                        60 !== t && 30 !== t ? (window.requestAnimFrame = e ? this._stTimeWithRAF : this._stTime, window.cancelAnimFrame = this._ctTime) : (window.requestAnimFrame = e || this._stTime, window.cancelAnimFrame = window.cancelAnimationFrame || window.cancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.webkitCancelRequestAnimationFrame || window.msCancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.oCancelAnimationFrame || this._ctTime)
                    },
                    _stTimeWithRAF: function (t) {
                        var e = performance.now(), i = Math.max(0, a._frameTime - (e - a._lastTime)),
                            n = window.setTimeout((function () {
                                window.requestAnimationFrame(t)
                            }), i);
                        return a._lastTime = e + i, n
                    },
                    _stTime: function (t) {
                        var e = performance.now(), i = Math.max(0, a._frameTime - (e - a._lastTime)),
                            n = window.setTimeout((function () {
                                t()
                            }), i);
                        return a._lastTime = e + i, n
                    },
                    _ctTime: function (t) {
                        window.clearTimeout(t)
                    },
                    _runMainLoop: function () {
                        if (this._prepared) {
                            var t, e = this, i = e.config, r = cc.director, s = !0, a = i.frameRate;
                            n.setDisplayStats(i.showFPS), t = function (i) {
                                if (!e._paused) {
                                    if (e._intervalId = window.requestAnimFrame(t), 30 === a && (s = !s)) return;
                                    r.mainLoop(i)
                                }
                            }, e._intervalId = window.requestAnimFrame(t), e._paused = !1
                        }
                    },
                    _initConfig: function (t) {
                        "number" != typeof t.debugMode && (t.debugMode = 0), t.exposeClassName = !!t.exposeClassName, "number" != typeof t.frameRate && (t.frameRate = 60);
                        var e = t.renderMode;
                        ("number" != typeof e || e > 2 || e < 0) && (t.renderMode = 0), "boolean" != typeof t.registerSystemEvent && (t.registerSystemEvent = !0), t.showFPS = 1 !== e && !!t.showFPS, this.collisionMatrix = t.collisionMatrix || [], this.groupList = t.groupList || [], n._resetDebugSetting(t.debugMode), this.config = t, this._configLoaded = !0
                    },
                    _determineRenderType: function () {
                        var t = this.config, e = parseInt(t.renderMode) || 0;
                        this.renderType = this.RENDER_TYPE_CANVAS;
                        var i = !1;
                        if (0 === e ? cc.sys.capabilities.opengl ? (this.renderType = this.RENDER_TYPE_WEBGL, i = !0) : cc.sys.capabilities.canvas && (this.renderType = this.RENDER_TYPE_CANVAS, i = !0) : 1 === e && cc.sys.capabilities.canvas ? (this.renderType = this.RENDER_TYPE_CANVAS, i = !0) : 2 === e && cc.sys.capabilities.opengl && (this.renderType = this.RENDER_TYPE_WEBGL, i = !0), !i) throw new Error(n.getError(3820, e))
                    },
                    _initRenderer: function () {
                        if (!this._rendererInitialized) {
                            var t, e, i, n, a = this.config.id,
                                o = a instanceof HTMLElement ? a : document.querySelector(a) || document.querySelector("#" + a);
                            if ("CANVAS" === o.tagName ? (t = o.width, e = o.height, this.canvas = i = o, this.container = n = document.createElement("DIV"), i.parentNode && i.parentNode.insertBefore(n, i)) : ("DIV" !== o.tagName && cc.warnID(3819), t = o.clientWidth, e = o.clientHeight, this.canvas = i = document.createElement("CANVAS"), this.container = n = document.createElement("DIV"), o.appendChild(n)), n.setAttribute("id", "Cocos2dGameContainer"), n.appendChild(i), this.frame = n.parentNode === document.body ? document.documentElement : n.parentNode, (function (t) {
                                (" " + t.className + " ").indexOf(" gameCanvas ") > -1 || (t.className && (t.className += " "), t.className += "gameCanvas")
                            })(i), i.setAttribute("width", t || 480), i.setAttribute("height", e || 320), i.setAttribute("tabindex", 99), this._determineRenderType(), this.renderType === this.RENDER_TYPE_WEBGL) {
                                var c = {
                                    stencil: !0,
                                    antialias: cc.macro.ENABLE_WEBGL_ANTIALIAS,
                                    alpha: cc.macro.ENABLE_TRANSPARENT_CANVAS
                                };
                                r.initWebGL(i, c), this._renderContext = r.device._gl, !cc.macro.CLEANUP_IMAGE_CACHE && s && (s.enabled = !0)
                            }
                            this._renderContext || (this.renderType = this.RENDER_TYPE_CANVAS, r.initCanvas(i), this._renderContext = r.device._ctx), this.canvas.oncontextmenu = function () {
                                if (!cc._isContextMenuEnable) return !1
                            }, this._rendererInitialized = !0
                        }
                    },
                    _initEvents: function () {
                        var t, e = window;
                        this.config.registerSystemEvent && cc.internal.inputManager.registerSystemEvent(this.canvas), void 0 !== document.hidden ? t = "hidden" : void 0 !== document.mozHidden ? t = "mozHidden" : void 0 !== document.msHidden ? t = "msHidden" : void 0 !== document.webkitHidden && (t = "webkitHidden");
                        var i = !1;

                        function n() {
                            i || (i = !0, a.emit(a.EVENT_HIDE))
                        }

                        function r(t, e, n, r, s) {
                            i && (i = !1, a.emit(a.EVENT_SHOW, t, e, n, r, s))
                        }

                        if (t) for (var s = ["visibilitychange", "mozvisibilitychange", "msvisibilitychange", "webkitvisibilitychange", "qbrowserVisibilityChange"], o = 0; o < s.length; o++) document.addEventListener(s[o], (function (e) {
                            var i = document[t];
                            (i = i || e.hidden) ? n() : r()
                        })); else e.addEventListener("blur", n), e.addEventListener("focus", r);
                        navigator.userAgent.indexOf("MicroMessenger") > -1 && (e.onfocus = r), "onpageshow" in window && "onpagehide" in window && (e.addEventListener("pagehide", n), e.addEventListener("pageshow", r), document.addEventListener("pagehide", n), document.addEventListener("pageshow", r)), this.on(a.EVENT_HIDE, (function () {
                            a.pause()
                        })), this.on(a.EVENT_SHOW, (function () {
                            a.resume()
                        }))
                    }
                };
            i.call(a), cc.js.addon(a, i.prototype), cc.game = e.exports = a
        }), {
            "../audio/CCAudioEngine": 21,
            "../core/renderer/utils/dynamic-atlas/manager": void 0,
            "./CCDebug": 36,
            "./event/event-target": 140,
            "./renderer/index.js": 199
        }],
        39: [(function (t, e) {
            "use strict";
            var i = t("./value-types"), n = t("./value-types/utils"), r = t("./utils/base-node"),
                s = t("./utils/prefab-helper"), a = t("./utils/trans-pool").NodeMemPool,
                o = t("./utils/affine-transform"), c = t("./event-manager"), l = t("./platform/CCMacro"),
                h = t("./platform/js"), u = (t("./event/event"), t("./event/event-target")),
                f = t("./renderer/render-flow"), d = cc.Object.Flags.Destroying, _ = Math.PI / 180,
                p = !!cc.ActionManager, v = function () {
                }, g = new i.Vec3, m = new i.Quat, y = new i.Vec3, T = new i.Vec3, E = new i.Quat, A = new i.Quat,
                b = new i.Vec3, x = new i.Vec3, C = new i.Vec3, S = new i.Vec3, w = new i.Vec3, M = new i.Quat,
                R = new i.Quat, I = new i.Vec3, O = new i.Quat, D = new i.Vec3, P = new i.Quat, L = new i.Vec3,
                N = new i.Vec3, F = new i.Quat, B = new i.Quat, k = (new i.Quat, cc.mat4()), V = new i.Vec3,
                U = new h.Pool;
            U.get = function () {
                return this._get() || []
            };
            var z = cc.Enum({DEBUG: 31}), H = cc.Enum({
                    POSITION: 1,
                    SCALE: 2,
                    ROTATION: 4,
                    SKEW: 8,
                    TRS: 7,
                    RS: 6,
                    TRSS: 15,
                    PHYSICS_POSITION: 16,
                    PHYSICS_SCALE: 32,
                    PHYSICS_ROTATION: 64,
                    PHYSICS_TRS: 112,
                    PHYSICS_RS: 96,
                    ALL_POSITION: 17,
                    ALL_SCALE: 34,
                    ALL_ROTATION: 68,
                    ALL_TRS: 119,
                    ALL: 65535
                }), W = cc.Enum({
                    TOUCH_START: "touchstart",
                    TOUCH_MOVE: "touchmove",
                    TOUCH_END: "touchend",
                    TOUCH_CANCEL: "touchcancel",
                    MOUSE_DOWN: "mousedown",
                    MOUSE_MOVE: "mousemove",
                    MOUSE_ENTER: "mouseenter",
                    MOUSE_LEAVE: "mouseleave",
                    MOUSE_UP: "mouseup",
                    MOUSE_WHEEL: "mousewheel",
                    POSITION_CHANGED: "position-changed",
                    ROTATION_CHANGED: "rotation-changed",
                    SCALE_CHANGED: "scale-changed",
                    SIZE_CHANGED: "size-changed",
                    ANCHOR_CHANGED: "anchor-changed",
                    COLOR_CHANGED: "color-changed",
                    CHILD_ADDED: "child-added",
                    CHILD_REMOVED: "child-removed",
                    CHILD_REORDER: "child-reorder",
                    GROUP_CHANGED: "group-changed",
                    SIBLING_ORDER_CHANGED: "sibling-order-changed"
                }), G = [W.TOUCH_START, W.TOUCH_MOVE, W.TOUCH_END, W.TOUCH_CANCEL],
                j = [W.MOUSE_DOWN, W.MOUSE_ENTER, W.MOUSE_MOVE, W.MOUSE_LEAVE, W.MOUSE_UP, W.MOUSE_WHEEL], X = !0,
                Y = function (t) {
                    if (0 !== t) {
                        X && cc.warn("`cc.Node.skewX/Y` is deprecated since v2.2.1, please use 3D node instead.", ""), X = !1
                    }
                }, q = null, Z = function (t, e) {
                    var i = t.getLocation(), n = this.owner;
                    return !!n._hitTest(i, this) && (e.type = W.TOUCH_START, e.touch = t, e.bubbles = !0, n.dispatchEvent(e), !0)
                }, K = function (t, e) {
                    var i = this.owner;
                    e.type = W.TOUCH_MOVE, e.touch = t, e.bubbles = !0, i.dispatchEvent(e)
                }, J = function (t, e) {
                    var i = t.getLocation(), n = this.owner;
                    n._hitTest(i, this) ? e.type = W.TOUCH_END : e.type = W.TOUCH_CANCEL, e.touch = t, e.bubbles = !0, n.dispatchEvent(e)
                }, Q = function (t, e) {
                    t.getLocation();
                    var i = this.owner;
                    e.type = W.TOUCH_CANCEL, e.touch = t, e.bubbles = !0, i.dispatchEvent(e)
                }, $ = function (t) {
                    var e = t.getLocation(), i = this.owner;
                    i._hitTest(e, this) && (t.type = W.MOUSE_DOWN, t.bubbles = !0, i.dispatchEvent(t))
                }, tt = function (t) {
                    var e = t.getLocation(), i = this.owner;
                    if (i._hitTest(e, this)) this._previousIn || (q && q._mouseListener && (t.type = W.MOUSE_LEAVE, q.dispatchEvent(t), q._mouseListener._previousIn = !1), q = this.owner, t.type = W.MOUSE_ENTER, i.dispatchEvent(t), this._previousIn = !0), t.type = W.MOUSE_MOVE, t.bubbles = !0, i.dispatchEvent(t); else {
                        if (!this._previousIn) return;
                        t.type = W.MOUSE_LEAVE, i.dispatchEvent(t), this._previousIn = !1, q = null
                    }
                    t.stopPropagation()
                }, et = function (t) {
                    var e = t.getLocation(), i = this.owner;
                    i._hitTest(e, this) && (t.type = W.MOUSE_UP, t.bubbles = !0, i.dispatchEvent(t), t.stopPropagation())
                }, it = function (t) {
                    var e = t.getLocation(), i = this.owner;
                    i._hitTest(e, this) && (t.type = W.MOUSE_WHEEL, t.bubbles = !0, i.dispatchEvent(t), t.stopPropagation())
                };

            function nt(t, e) {
                if (e) {
                    for (var i = 0, n = null, r = t; r && cc.Node.isNode(r); r = r._parent, ++i) if (r.getComponent(e)) {
                        var s = {index: i, node: r};
                        n ? n.push(s) : n = [s]
                    }
                    return n
                }
                return null
            }

            function rt(t, e) {
                if (!(t._objFlags & d)) {
                    if (t._bubblingListeners) for (var i = 0, n = e.length; i < n; ++i) if (t._bubblingListeners.hasEventListener(e[i])) return !0;
                    if (t._capturingListeners) for (var r = 0, s = e.length; r < s; ++r) if (t._capturingListeners.hasEventListener(e[r])) return !0;
                    return !1
                }
                return !0
            }

            function st(t, e, i) {
                var n, r;
                for (e.target = t, i.length = 0, t._getCapturingTargets(e.type, i), e.eventPhase = 1, r = i.length - 1; r >= 0; --r) if ((n = i[r])._capturingListeners && (e.currentTarget = n, n._capturingListeners.emit(e.type, e, i), e._propagationStopped)) return void (i.length = 0);
                if (i.length = 0, e.eventPhase = 2, e.currentTarget = t, t._capturingListeners && t._capturingListeners.emit(e.type, e), !e._propagationImmediateStopped && t._bubblingListeners && t._bubblingListeners.emit(e.type, e), !e._propagationStopped && e.bubbles) for (t._getBubblingTargets(e.type, i), e.eventPhase = 3, r = 0; r < i.length; ++r) if ((n = i[r])._bubblingListeners && (e.currentTarget = n, n._bubblingListeners.emit(e.type, e), e._propagationStopped)) return void (i.length = 0);
                i.length = 0
            }

            function at(t) {
                var e = t.groupIndex;
                return 0 === e && t.parent && (e = at(t.parent)), e
            }

            function ot(t) {
                var e = at(t);
                t._cullingMask = 1 << e;
                for (var i = 0; i < t._children.length; i++) ot(t._children[i])
            }

            function ct() {
                if (this._localMatDirty & H.TRSS) {
                    var t = this._matrix, e = t.m;
                    if (i.Trs.toMat4(t, this._trs), this._skewX || this._skewY) {
                        var n = e[0], r = e[1], s = e[4], a = e[5], o = Math.tan(this._skewX * _),
                            c = Math.tan(this._skewY * _);
                        o === 1 / 0 && (o = 99999999), c === 1 / 0 && (c = 99999999), e[0] = n + s * c, e[1] = r + a * c, e[4] = s + n * o, e[5] = a + r * o
                    }
                    this._localMatDirty &= ~H.TRSS, this._worldMatDirty = !0
                }
            }

            function lt() {
                var t = this._localMatDirty;
                if (t & H.TRSS) {
                    var e = this._matrix.m, i = this._trs;
                    if (t & (H.RS | H.SKEW)) {
                        var n = -this._eulerAngles.z, r = this._skewX || this._skewY, s = i[7], a = i[8];
                        if (n || r) {
                            var o = 1, c = 0, l = 0, h = 1;
                            if (n) {
                                var u = n * _;
                                l = Math.sin(u), o = h = Math.cos(u), c = -l
                            }
                            if (e[0] = o *= s, e[1] = c *= s, e[4] = l *= a, e[5] = h *= a, r) {
                                var f = e[0], d = e[1], p = e[4], v = e[5], g = Math.tan(this._skewX * _),
                                    m = Math.tan(this._skewY * _);
                                g === 1 / 0 && (g = 99999999), m === 1 / 0 && (m = 99999999), e[0] = f + p * m, e[1] = d + v * m, e[4] = p + f * g, e[5] = v + d * g
                            }
                        } else e[0] = s, e[1] = 0, e[4] = 0, e[5] = a
                    }
                    e[12] = i[0], e[13] = i[1], this._localMatDirty &= ~H.TRSS, this._worldMatDirty = !0
                }
            }

            function ht() {
                if (this._localMatDirty & H.TRSS && this._updateLocalMatrix(), this._parent) {
                    var t = this._parent._worldMatrix;
                    i.Mat4.mul(this._worldMatrix, t, this._matrix)
                } else i.Mat4.copy(this._worldMatrix, this._matrix);
                this._worldMatDirty = !1
            }

            function ut() {
                this._localMatDirty & H.TRSS && this._updateLocalMatrix();
                var t = this._parent;
                t ? this._mulMat(this._worldMatrix, t._worldMatrix, this._matrix) : i.Mat4.copy(this._worldMatrix, this._matrix), this._worldMatDirty = !1
            }

            function ft(t, e, i) {
                var n = e.m, r = i.m, s = t.m, a = n[0], o = n[1], c = n[4], l = n[5], h = n[12], u = n[13], f = r[0],
                    d = r[1], _ = r[4], p = r[5], v = r[12], g = r[13];
                0 !== o || 0 !== c ? (s[0] = f * a + d * c, s[1] = f * o + d * l, s[4] = _ * a + p * c, s[5] = _ * o + p * l, s[12] = a * v + c * g + h, s[13] = o * v + l * g + u) : (s[0] = f * a, s[1] = d * l, s[4] = _ * a, s[5] = p * l, s[12] = a * v + h, s[13] = l * g + u)
            }

            var dt = i.Mat4.mul, _t = {
                name: "cc.Node", extends: r, properties: {
                    _opacity: 255,
                    _color: cc.Color.WHITE,
                    _contentSize: cc.Size,
                    _anchorPoint: cc.v2(.5, .5),
                    _position: void 0,
                    _scale: void 0,
                    _trs: null,
                    _eulerAngles: cc.Vec3,
                    _skewX: 0,
                    _skewY: 0,
                    _zIndex: {default: void 0, type: cc.Integer},
                    _localZOrder: {default: 0, serializable: !1},
                    _is3DNode: !1,
                    _groupIndex: {default: 0, formerlySerializedAs: "groupIndex"},
                    groupIndex: {
                        get: function () {
                            return this._groupIndex
                        }, set: function (t) {
                            this._groupIndex = t, ot(this), this.emit(W.GROUP_CHANGED, this)
                        }
                    },
                    group: {
                        get: function () {
                            return cc.game.groupList[this.groupIndex] || ""
                        }, set: function (t) {
                            this.groupIndex = cc.game.groupList.indexOf(t)
                        }
                    },
                    x: {
                        get: function () {
                            return this._trs[0]
                        }, set: function (t) {
                            var e = this._trs;
                            t !== e[0] && (e[0] = t, this.setLocalDirty(H.ALL_POSITION), 1 & this._eventMask && this.emit(W.POSITION_CHANGED))
                        }
                    },
                    y: {
                        get: function () {
                            return this._trs[1]
                        }, set: function (t) {
                            var e = this._trs;
                            t !== e[1] && (e[1] = t, this.setLocalDirty(H.ALL_POSITION), 1 & this._eventMask && this.emit(W.POSITION_CHANGED))
                        }
                    },
                    z: {
                        get: function () {
                            return this._trs[2]
                        }, set: function (t) {
                            var e = this._trs;
                            t !== e[2] && (e[2] = t, this.setLocalDirty(H.ALL_POSITION), this._renderFlag |= f.FLAG_WORLD_TRANSFORM, 1 & this._eventMask && this.emit(W.POSITION_CHANGED))
                        }
                    },
                    rotation: {
                        get: function () {
                            return -this.angle
                        }, set: function (t) {
                            this.angle = -t
                        }
                    },
                    angle: {
                        get: function () {
                            return this._eulerAngles.z
                        }, set: function (t) {
                            i.Vec3.set(this._eulerAngles, 0, 0, t), i.Trs.fromAngleZ(this._trs, t), this.setLocalDirty(H.ALL_ROTATION), 4 & this._eventMask && this.emit(W.ROTATION_CHANGED)
                        }
                    },
                    rotationX: {
                        get: function () {
                            return this._eulerAngles.x
                        }, set: function (t) {
                            this._eulerAngles.x !== t && (this._eulerAngles.x = t, this._eulerAngles.x === this._eulerAngles.y ? i.Trs.fromAngleZ(this._trs, -t) : i.Trs.fromEulerNumber(this._trs, t, this._eulerAngles.y, 0), this.setLocalDirty(H.ALL_ROTATION), 4 & this._eventMask && this.emit(W.ROTATION_CHANGED))
                        }
                    },
                    rotationY: {
                        get: function () {
                            return this._eulerAngles.y
                        }, set: function (t) {
                            this._eulerAngles.y !== t && (this._eulerAngles.y = t, this._eulerAngles.x === this._eulerAngles.y ? i.Trs.fromAngleZ(this._trs, -t) : i.Trs.fromEulerNumber(this._trs, this._eulerAngles.x, t, 0), this.setLocalDirty(H.ALL_ROTATION), 4 & this._eventMask && this.emit(W.ROTATION_CHANGED))
                        }
                    },
                    eulerAngles: {
                        get: function () {
                            return i.Trs.toEuler(this._eulerAngles, this._trs)
                        }, set: function (t) {
                            i.Trs.fromEuler(this._trs, t), this.setLocalDirty(H.ALL_ROTATION), this._renderFlag |= f.FLAG_TRANSFORM, 4 & this._eventMask && this.emit(W.ROTATION_CHANGED)
                        }
                    },
                    quat: {
                        get: function () {
                            var t = this._trs;
                            return new i.Quat(t[3], t[4], t[5], t[6])
                        }, set: function (t) {
                            this.setRotation(t)
                        }
                    },
                    scale: {
                        get: function () {
                            return this._trs[7]
                        }, set: function (t) {
                            this.setScale(t)
                        }
                    },
                    scaleX: {
                        get: function () {
                            return this._trs[7]
                        }, set: function (t) {
                            this._trs[7] !== t && (this._trs[7] = t, this.setLocalDirty(H.ALL_SCALE), 2 & this._eventMask && this.emit(W.SCALE_CHANGED))
                        }
                    },
                    scaleY: {
                        get: function () {
                            return this._trs[8]
                        }, set: function (t) {
                            this._trs[8] !== t && (this._trs[8] = t, this.setLocalDirty(H.ALL_SCALE), 2 & this._eventMask && this.emit(W.SCALE_CHANGED))
                        }
                    },
                    scaleZ: {
                        get: function () {
                            return this._trs[9]
                        }, set: function (t) {
                            this._trs[9] !== t && (this._trs[9] = t, this.setLocalDirty(H.ALL_SCALE), this._renderFlag |= f.FLAG_TRANSFORM, 2 & this._eventMask && this.emit(W.SCALE_CHANGED))
                        }
                    },
                    skewX: {
                        get: function () {
                            return this._skewX
                        }, set: function (t) {
                            Y(t), this._skewX = t, this.setLocalDirty(H.SKEW)
                        }
                    },
                    skewY: {
                        get: function () {
                            return this._skewY
                        }, set: function (t) {
                            Y(t), this._skewY = t, this.setLocalDirty(H.SKEW)
                        }
                    },
                    opacity: {
                        get: function () {
                            return this._opacity
                        }, set: function (t) {
                            t = cc.misc.clampf(t, 0, 255), this._opacity !== t && (this._opacity = t, this._renderFlag |= f.FLAG_OPACITY_COLOR)
                        }, range: [0, 255]
                    },
                    color: {
                        get: function () {
                            return this._color.clone()
                        }, set: function (t) {
                            this._color.equals(t) || (this._color.set(t), this._renderFlag |= f.FLAG_COLOR, 32 & this._eventMask && this.emit(W.COLOR_CHANGED, t))
                        }
                    },
                    anchorX: {
                        get: function () {
                            return this._anchorPoint.x
                        }, set: function (t) {
                            var e = this._anchorPoint;
                            e.x !== t && (e.x = t, 16 & this._eventMask && this.emit(W.ANCHOR_CHANGED))
                        }
                    },
                    anchorY: {
                        get: function () {
                            return this._anchorPoint.y
                        }, set: function (t) {
                            var e = this._anchorPoint;
                            e.y !== t && (e.y = t, 16 & this._eventMask && this.emit(W.ANCHOR_CHANGED))
                        }
                    },
                    width: {
                        get: function () {
                            return this._contentSize.width
                        }, set: function (t) {
                            t !== this._contentSize.width && (this._contentSize.width = t, 8 & this._eventMask && this.emit(W.SIZE_CHANGED))
                        }
                    },
                    height: {
                        get: function () {
                            return this._contentSize.height
                        }, set: function (t) {
                            t !== this._contentSize.height && (this._contentSize.height = t, 8 & this._eventMask && this.emit(W.SIZE_CHANGED))
                        }
                    },
                    zIndex: {
                        get: function () {
                            return this._localZOrder >> 16
                        }, set: function (t) {
                            t > l.MAX_ZINDEX ? (cc.warnID(1636), t = l.MAX_ZINDEX) : t < l.MIN_ZINDEX && (cc.warnID(1637), t = l.MIN_ZINDEX), this.zIndex !== t && (this._localZOrder = 65535 & this._localZOrder | t << 16, this.emit(W.SIBLING_ORDER_CHANGED), this._onSiblingIndexChanged())
                        }
                    },
                    is3DNode: {
                        get: function () {
                            return this._is3DNode
                        }, set: function (t) {
                            this._is3DNode !== t && (this._is3DNode = t, this._update3DFunction())
                        }
                    },
                    up: {
                        get: function () {
                            return i.Vec3.transformQuat(D, i.Vec3.UP, this.getWorldRotation(P)).clone()
                        }
                    },
                    right: {
                        get: function () {
                            return i.Vec3.transformQuat(D, i.Vec3.RIGHT, this.getWorldRotation(P)).clone()
                        }
                    },
                    forward: {
                        get: function () {
                            return i.Vec3.transformQuat(D, i.Vec3.FORWARD, this.getWorldRotation(P)).clone()
                        }
                    }
                }, ctor: function () {
                    this._reorderChildDirty = !1, this._widget = null, this._renderComponent = null, this._capturingListeners = null, this._bubblingListeners = null, this._touchListener = null, this._mouseListener = null, this._initDataFromPool(), this._eventMask = 0, this._cullingMask = 1, this._childArrivalOrder = 1, this._renderFlag = f.FLAG_TRANSFORM | f.FLAG_OPACITY_COLOR
                }, statics: {
                    EventType: W, _LocalDirtyFlag: H, isNode: function (t) {
                        return t instanceof pt && (t.constructor === pt || !(t instanceof cc.Scene))
                    }, BuiltinGroupIndex: z
                }, _onSiblingIndexChanged: function () {
                    this._parent && this._parent._delaySort()
                }, _onPreDestroy: function () {
                    this._onPreDestroyBase(), p && cc.director.getActionManager().removeAllActionsFromTarget(this), q === this && (q = null), this._bubblingListeners && this._bubblingListeners.clear(), this._capturingListeners && this._capturingListeners.clear(), (this._touchListener || this._mouseListener) && (c.removeListeners(this), this._touchListener && (this._touchListener.owner = null, this._touchListener.mask = null, this._touchListener = null), this._mouseListener && (this._mouseListener.owner = null, this._mouseListener.mask = null, this._mouseListener = null)), this._backDataIntoPool(), this._reorderChildDirty && cc.director.__fastOff(cc.Director.EVENT_AFTER_UPDATE, this.sortAllChildren, this)
                }, _onPostActivated: function (t) {
                    var e = p ? cc.director.getActionManager() : null;
                    t ? (this._renderFlag |= f.FLAG_WORLD_TRANSFORM, e && e.resumeTarget(this), c.resumeTarget(this), this._checkListenerMask()) : (e && e.pauseTarget(this), c.pauseTarget(this))
                }, _onHierarchyChanged: function (t) {
                    this._updateOrderOfArrival(), ot(this), this._parent && this._parent._delaySort(), this._renderFlag |= f.FLAG_WORLD_TRANSFORM | f.FLAG_OPACITY_COLOR, this._onHierarchyChangedBase(t), cc._widgetManager && (cc._widgetManager._nodesOrderDirty = !0), t && this._activeInHierarchy && this._checkListenerMask()
                }, _update3DFunction: function () {
                    this._is3DNode ? (this._updateLocalMatrix = ct, this._calculWorldMatrix = ht, this._mulMat = dt) : (this._updateLocalMatrix = lt, this._calculWorldMatrix = ut, this._mulMat = ft), this._renderComponent && this._renderComponent._on3DNodeChanged && this._renderComponent._on3DNodeChanged(), this._renderFlag |= f.FLAG_TRANSFORM, this._localMatDirty = H.ALL
                }, _initDataFromPool: function () {
                    this._spaceInfo || (this._spaceInfo = a.pop());
                    var t = this._spaceInfo;
                    this._matrix = cc.mat4(t.localMat), i.Mat4.identity(this._matrix), this._worldMatrix = cc.mat4(t.worldMat), i.Mat4.identity(this._worldMatrix), this._localMatDirty = H.ALL, this._worldMatDirty = !0;
                    var e = this._trs = t.trs;
                    e[0] = 0, e[1] = 0, e[2] = 0, e[3] = 0, e[4] = 0, e[5] = 0, e[6] = 1, e[7] = 1, e[8] = 1, e[9] = 1
                }, _backDataIntoPool: function () {
                    a.push(this._spaceInfo), this._matrix = null, this._worldMatrix = null, this._trs = null, this._spaceInfo = null
                }, _toEuler: function () {
                    if (this.is3DNode) i.Trs.toEuler(this._eulerAngles, this._trs); else {
                        var t = Math.asin(this._trs[5]) / _ * 2;
                        i.Vec3.set(this._eulerAngles, 0, 0, t)
                    }
                }, _fromEuler: function () {
                    this.is3DNode ? i.Trs.fromEuler(this._trs, this._eulerAngles) : i.Trs.fromAngleZ(this._trs, this._eulerAngles.z)
                }, _initProperties: function () {
                    this._is3DNode && this._update3DFunction();
                    var t = this._trs;
                    if (t) {
                        var e = t;
                        t = this._trs = this._spaceInfo.trs, 11 === e.length ? t.set(e.subarray(1)) : t.set(e)
                    } else t = this._trs = this._spaceInfo.trs;
                    this._fromEuler()
                }, _onBatchCreated: function (t) {
                    this._initProperties(), this._cullingMask = 1 << at(this), this._activeInHierarchy || (p && cc.director.getActionManager().pauseTarget(this), c.pauseTarget(this));
                    for (var e = this._children, i = 0, n = e.length; i < n; i++) {
                        var r = e[i];
                        if (!t) {
                            var a = r._prefab;
                            a && a.sync && a.root === r && s.syncWithPrefab(r), r._updateOrderOfArrival()
                        }
                        r._onBatchCreated(t)
                    }
                    e.length > 0 && (this._renderFlag |= f.FLAG_CHILDREN)
                }, _checkListenerMask: function () {
                    if (this._touchListener) {
                        var t = this._touchListener.mask = nt(this, cc.Mask);
                        this._mouseListener && (this._mouseListener.mask = t)
                    } else this._mouseListener && (this._mouseListener.mask = nt(this, cc.Mask))
                }, _checknSetupSysEvent: function (t) {
                    var e = !1, i = !1;
                    return -1 !== G.indexOf(t) ? (this._touchListener || (this._touchListener = cc.EventListener.create({
                        event: cc.EventListener.TOUCH_ONE_BY_ONE,
                        swallowTouches: !0,
                        owner: this,
                        mask: nt(this, cc.Mask),
                        onTouchBegan: Z,
                        onTouchMoved: K,
                        onTouchEnded: J,
                        onTouchCancelled: Q
                    }), c.addListener(this._touchListener, this), e = !0), i = !0) : -1 !== j.indexOf(t) && (this._mouseListener || (this._mouseListener = cc.EventListener.create({
                        event: cc.EventListener.MOUSE,
                        _previousIn: !1,
                        owner: this,
                        mask: nt(this, cc.Mask),
                        onMouseDown: $,
                        onMouseMove: tt,
                        onMouseUp: et,
                        onMouseScroll: it
                    }), c.addListener(this._mouseListener, this), e = !0), i = !0), e && !this._activeInHierarchy && cc.director.getScheduler().schedule((function () {
                        this._activeInHierarchy || c.pauseTarget(this)
                    }), this, 0, 0, 0, !1), i
                }, on: function (t, e, i, n) {
                    if (this._checknSetupSysEvent(t)) return this._onDispatch(t, e, i, n);
                    switch (t) {
                        case W.POSITION_CHANGED:
                            this._eventMask |= 1;
                            break;
                        case W.SCALE_CHANGED:
                            this._eventMask |= 2;
                            break;
                        case W.ROTATION_CHANGED:
                            this._eventMask |= 4;
                            break;
                        case W.SIZE_CHANGED:
                            this._eventMask |= 8;
                            break;
                        case W.ANCHOR_CHANGED:
                            this._eventMask |= 16;
                            break;
                        case W.COLOR_CHANGED:
                            this._eventMask |= 32
                    }
                    return this._bubblingListeners || (this._bubblingListeners = new u), this._bubblingListeners.on(t, e, i)
                }, once: function (t, e, i, n) {
                    var r = this, s = null;
                    (s = this._checknSetupSysEvent(t) && n ? this._capturingListeners = this._capturingListeners || new u : this._bubblingListeners = this._bubblingListeners || new u).once(t, e, i), s.once(t, (function () {
                        r.off(t, e, i)
                    }), void 0)
                }, _onDispatch: function (t, e, i, n) {
                    if ("boolean" == typeof i ? (n = i, i = void 0) : n = !!n, e) {
                        var r = null;
                        return (r = n ? this._capturingListeners = this._capturingListeners || new u : this._bubblingListeners = this._bubblingListeners || new u).hasEventListener(t, e, i) || (r.on(t, e, i), i && i.__eventTargets && i.__eventTargets.push(this)), e
                    }
                    cc.errorID(6800)
                }, off: function (t, e, i, n) {
                    var r = -1 !== G.indexOf(t), s = !r && -1 !== j.indexOf(t);
                    if (r || s) this._offDispatch(t, e, i, n), r ? this._touchListener && !rt(this, G) && (c.removeListener(this._touchListener), this._touchListener = null) : s && this._mouseListener && !rt(this, j) && (c.removeListener(this._mouseListener), this._mouseListener = null); else if (this._bubblingListeners && (this._bubblingListeners.off(t, e, i), !this._bubblingListeners.hasEventListener(t))) switch (t) {
                        case W.POSITION_CHANGED:
                            this._eventMask &= -2;
                            break;
                        case W.SCALE_CHANGED:
                            this._eventMask &= -3;
                            break;
                        case W.ROTATION_CHANGED:
                            this._eventMask &= -5;
                            break;
                        case W.SIZE_CHANGED:
                            this._eventMask &= -9;
                            break;
                        case W.ANCHOR_CHANGED:
                            this._eventMask &= -17;
                            break;
                        case W.COLOR_CHANGED:
                            this._eventMask &= -33
                    }
                }, _offDispatch: function (t, e, i, n) {
                    if ("boolean" == typeof i ? (n = i, i = void 0) : n = !!n, e) {
                        var r = n ? this._capturingListeners : this._bubblingListeners;
                        r && (r.off(t, e, i), i && i.__eventTargets && h.array.fastRemove(i.__eventTargets, this))
                    } else this._capturingListeners && this._capturingListeners.removeAll(t), this._bubblingListeners && this._bubblingListeners.removeAll(t)
                }, targetOff: function (t) {
                    var e = this._bubblingListeners;
                    e && (e.targetOff(t), 1 & this._eventMask && !e.hasEventListener(W.POSITION_CHANGED) && (this._eventMask &= -2), 2 & this._eventMask && !e.hasEventListener(W.SCALE_CHANGED) && (this._eventMask &= -3), 4 & this._eventMask && !e.hasEventListener(W.ROTATION_CHANGED) && (this._eventMask &= -5), 8 & this._eventMask && !e.hasEventListener(W.SIZE_CHANGED) && (this._eventMask &= -9), 16 & this._eventMask && !e.hasEventListener(W.ANCHOR_CHANGED) && (this._eventMask &= -17), 32 & this._eventMask && !e.hasEventListener(W.COLOR_CHANGED) && (this._eventMask &= -33)), this._capturingListeners && this._capturingListeners.targetOff(t), t && t.__eventTargets && h.array.fastRemove(t.__eventTargets, this), this._touchListener && !rt(this, G) && (c.removeListener(this._touchListener), this._touchListener = null), this._mouseListener && !rt(this, j) && (c.removeListener(this._mouseListener), this._mouseListener = null)
                }, hasEventListener: function (t) {
                    var e = !1;
                    return this._bubblingListeners && (e = this._bubblingListeners.hasEventListener(t)), !e && this._capturingListeners && (e = this._capturingListeners.hasEventListener(t)), e
                }, emit: function (t, e, i, n, r, s) {
                    this._bubblingListeners && this._bubblingListeners.emit(t, e, i, n, r, s)
                }, dispatchEvent: function (t) {
                    var e = U.get();
                    st(this, t, e), U.put(e)
                }, pauseSystemEvents: function (t) {
                    c.pauseTarget(this, t)
                }, resumeSystemEvents: function (t) {
                    c.resumeTarget(this, t)
                }, _hitTest: function (t, e) {
                    var n = this._contentSize.width, r = this._contentSize.height, s = L, a = N,
                        o = cc.Camera.findCamera(this);
                    if (o ? o.getScreenToWorldPoint(t, s) : s.set(t), this._updateWorldMatrix(), !i.Mat4.invert(k, this._worldMatrix)) return !1;
                    i.Vec2.transformMat4(a, s, k), a.x += this._anchorPoint.x * n, a.y += this._anchorPoint.y * r;
                    var c = !1;
                    if (a.x >= 0 && a.y >= 0 && a.x <= n && a.y <= r && (c = !0, e && e.mask)) for (var l = e.mask, h = this, u = l ? l.length : 0, f = 0, d = 0; h && d < u; ++f, h = h.parent) {
                        var _ = l[d];
                        if (f === _.index) {
                            if (h !== _.node) {
                                l.length = d;
                                break
                            }
                            var p = h.getComponent(cc.Mask);
                            if (p && p._enabled && !p._hitTest(s)) {
                                c = !1;
                                break
                            }
                            d++
                        } else if (f > _.index) {
                            l.length = d;
                            break
                        }
                    }
                    return c
                }, _getCapturingTargets: function (t, e) {
                    for (var i = this.parent; i;) i._capturingListeners && i._capturingListeners.hasEventListener(t) && e.push(i), i = i.parent
                }, _getBubblingTargets: function (t, e) {
                    for (var i = this.parent; i;) i._bubblingListeners && i._bubblingListeners.hasEventListener(t) && e.push(i), i = i.parent
                }, runAction: p ? function (t) {
                    if (this.active) {
                        cc.assertID(t, 1618);
                        var e = cc.director.getActionManager();
                        return e._suppressDeprecation || (e._suppressDeprecation = !0, cc.warnID(1639)), e.addAction(t, this, !1), t
                    }
                } : v, pauseAllActions: p ? function () {
                    cc.director.getActionManager().pauseTarget(this)
                } : v, resumeAllActions: p ? function () {
                    cc.director.getActionManager().resumeTarget(this)
                } : v, stopAllActions: p ? function () {
                    cc.director.getActionManager().removeAllActionsFromTarget(this)
                } : v, stopAction: p ? function (t) {
                    cc.director.getActionManager().removeAction(t)
                } : v, stopActionByTag: p ? function (t) {
                    t !== cc.Action.TAG_INVALID ? cc.director.getActionManager().removeActionByTag(t, this) : cc.logID(1612)
                } : v, getActionByTag: p ? function (t) {
                    return t === cc.Action.TAG_INVALID ? (cc.logID(1613), null) : cc.director.getActionManager().getActionByTag(t, this)
                } : function () {
                    return null
                }, getNumberOfRunningActions: p ? function () {
                    return cc.director.getActionManager().getNumberOfRunningActionsInTarget(this)
                } : function () {
                    return 0
                }, getPosition: function (t) {
                    return t = t || new i.Vec3, i.Trs.toPosition(t, this._trs)
                }, setPosition: function (t, e, i) {
                    var n;
                    void 0 === e ? (n = t.x, e = t.y, i = t.z) : n = t;
                    var r = this._trs;
                    void 0 === i && (i = r[2]), (r[0] !== n || r[1] !== e || r[2] !== i) && (r[0] = n, r[1] = e, r[2] = i, this.setLocalDirty(H.ALL_POSITION), this._renderFlag |= f.FLAG_WORLD_TRANSFORM, 1 & this._eventMask && this.emit(W.POSITION_CHANGED))
                }, getScale: function (t) {
                    return void 0 !== t ? i.Trs.toScale(t, this._trs) : (cc.errorID(1400, "cc.Node.getScale", "cc.Node.scale or cc.Node.getScale(cc.Vec3)"), this._trs[7])
                }, setScale: function (t, e, i) {
                    var n;
                    t && "number" != typeof t ? (n = t.x, e = t.y, i = t.z) : void 0 !== t && void 0 === e ? (n = t, e = t, i = t) : n = t;
                    var r = this._trs;
                    void 0 === i && (i = r[9]), r[7] === n && r[8] === e && r[9] === i || (r[7] = n, r[8] = e, r[9] = i, this.setLocalDirty(H.ALL_SCALE), this._renderFlag |= f.FLAG_TRANSFORM, 2 & this._eventMask && this.emit(W.SCALE_CHANGED))
                }, getRotation: function (t) {
                    return t instanceof i.Quat ? i.Trs.toRotation(t, this._trs) : -this.angle
                }, setRotation: function (t, e, i, n) {
                    if ("number" == typeof t && void 0 === e) this.angle = -t; else {
                        var r = t;
                        void 0 === e && (r = t.x, e = t.y, i = t.z, n = t.w);
                        var s = this._trs;
                        s[3] === r && s[4] === e && s[5] === i && s[6] === n || (s[3] = r, s[4] = e, s[5] = i, s[6] = n, this.setLocalDirty(H.ALL_ROTATION), 4 & this._eventMask && this.emit(W.ROTATION_CHANGED))
                    }
                }, getContentSize: function () {
                    return cc.size(this._contentSize.width, this._contentSize.height)
                }, setContentSize: function (t, e) {
                    var i = this._contentSize;
                    if (void 0 === e) {
                        if ((0, n.approx)(t.width, i.width) && (0, n.approx)(t.height, i.height)) return;
                        i.width = t.width, i.height = t.height
                    } else {
                        if ((0, n.approx)(t, i.width) && (0, n.approx)(e, i.height)) return;
                        i.width = t, i.height = e
                    }
                    8 & this._eventMask && this.emit(W.SIZE_CHANGED)
                }, getAnchorPoint: function () {
                    return cc.v2(this._anchorPoint)
                }, setAnchorPoint: function (t, e) {
                    var i = this._anchorPoint;
                    if (void 0 === e) {
                        if (t.x === i.x && t.y === i.y) return;
                        i.x = t.x, i.y = t.y
                    } else {
                        if (t === i.x && e === i.y) return;
                        i.x = t, i.y = e
                    }
                    this.setLocalDirty(H.ALL_POSITION), 16 & this._eventMask && this.emit(W.ANCHOR_CHANGED)
                }, _invTransformPoint: function (t, e) {
                    this._parent ? this._parent._invTransformPoint(t, e) : i.Vec3.copy(t, e);
                    var n = this._trs;
                    return i.Trs.toPosition(y, n), i.Vec3.sub(t, t, y), i.Trs.toRotation(E, n), i.Quat.conjugate(A, E), i.Vec3.transformQuat(t, t, A), i.Trs.toScale(y, n), i.Vec3.inverseSafe(T, y), i.Vec3.mul(t, t, T), t
                }, getWorldPosition: function (t) {
                    i.Trs.toPosition(t, this._trs);
                    for (var e, n = this._parent; n;) e = n._trs, i.Trs.toScale(g, e), i.Vec3.mul(t, t, g), i.Trs.toRotation(m, e), i.Vec3.transformQuat(t, t, m), i.Trs.toPosition(g, e), i.Vec3.add(t, t, g), n = n._parent;
                    return t
                }, setWorldPosition: function (t) {
                    var e = this._trs;
                    this._parent ? this._parent._invTransformPoint(b, t) : i.Vec3.copy(b, t), i.Trs.fromPosition(e, b), this.setLocalDirty(H.ALL_POSITION), 1 & this._eventMask && this.emit(W.POSITION_CHANGED)
                }, getWorldRotation: function (t) {
                    i.Trs.toRotation(F, this._trs), i.Quat.copy(t, F);
                    for (var e = this._parent; e;) i.Trs.toRotation(F, e._trs), i.Quat.mul(t, F, t), e = e._parent;
                    return t
                }, setWorldRotation: function (t) {
                    this._parent ? (this._parent.getWorldRotation(B), i.Quat.conjugate(B, B), i.Quat.mul(B, B, t)) : i.Quat.copy(B, t), i.Trs.fromRotation(this._trs, B), this.setLocalDirty(H.ALL_ROTATION)
                }, getWorldScale: function (t) {
                    i.Trs.toScale(x, this._trs), i.Vec3.copy(t, x);
                    for (var e = this._parent; e;) i.Trs.toScale(x, e._trs), i.Vec3.mul(t, t, x), e = e._parent;
                    return t
                }, setWorldScale: function (t) {
                    this._parent ? (this._parent.getWorldScale(C), i.Vec3.div(C, t, C)) : i.Vec3.copy(C, t), i.Trs.fromScale(this._trs, C), this.setLocalDirty(H.ALL_SCALE)
                }, getWorldRT: function (t) {
                    var e = S, n = M, r = this._trs;
                    i.Trs.toPosition(e, r), i.Trs.toRotation(n, r);
                    for (var s = this._parent; s;) r = s._trs, i.Trs.toScale(w, r), i.Vec3.mul(e, e, w), i.Trs.toRotation(R, r), i.Vec3.transformQuat(e, e, R), i.Trs.toPosition(w, r), i.Vec3.add(e, e, w), i.Quat.mul(n, R, n), s = s._parent;
                    return i.Mat4.fromRT(t, n, e), t
                }, lookAt: function (t, e) {
                    this.getWorldPosition(I), i.Vec3.sub(I, I, t), i.Vec3.normalize(I, I), i.Quat.fromViewUp(O, I, e), this.setWorldRotation(O)
                }, _updateLocalMatrix: lt, _calculWorldMatrix: function () {
                    this._localMatDirty & H.TRSS && this._updateLocalMatrix();
                    var t = this._parent;
                    t ? this._mulMat(this._worldMatrix, t._worldMatrix, this._matrix) : i.Mat4.copy(this._worldMatrix, this._matrix), this._worldMatDirty = !1
                }, _mulMat: ft, _updateWorldMatrix: function () {
                    if (this._parent && this._parent._updateWorldMatrix(), this._worldMatDirty) {
                        this._calculWorldMatrix();
                        for (var t = this._children, e = 0, i = t.length; e < i; e++) t[e]._worldMatDirty = !0
                    }
                }, setLocalDirty: function (t) {
                    this._localMatDirty |= t, this._worldMatDirty = !0, t === H.ALL_POSITION || t === H.POSITION ? this._renderFlag |= f.FLAG_WORLD_TRANSFORM : this._renderFlag |= f.FLAG_TRANSFORM
                }, setWorldDirty: function () {
                    this._worldMatDirty = !0
                }, getLocalMatrix: function (t) {
                    return this._updateLocalMatrix(), i.Mat4.copy(t, this._matrix)
                }, getWorldMatrix: function (t) {
                    return this._updateWorldMatrix(), i.Mat4.copy(t, this._worldMatrix)
                }, convertToNodeSpaceAR: function (t, e) {
                    return this._updateWorldMatrix(), i.Mat4.invert(k, this._worldMatrix), t instanceof cc.Vec2 ? (e = e || new cc.Vec2, i.Vec2.transformMat4(e, t, k)) : (e = e || new cc.Vec3, i.Vec3.transformMat4(e, t, k))
                }, convertToWorldSpaceAR: function (t, e) {
                    return this._updateWorldMatrix(), t instanceof cc.Vec2 ? (e = e || new cc.Vec2, i.Vec2.transformMat4(e, t, this._worldMatrix)) : (e = e || new cc.Vec3, i.Vec3.transformMat4(e, t, this._worldMatrix))
                }, convertToNodeSpace: function (t) {
                    this._updateWorldMatrix(), i.Mat4.invert(k, this._worldMatrix);
                    var e = new cc.Vec2;
                    return i.Vec2.transformMat4(e, t, k), e.x += this._anchorPoint.x * this._contentSize.width, e.y += this._anchorPoint.y * this._contentSize.height, e
                }, convertToWorldSpace: function (t) {
                    this._updateWorldMatrix();
                    var e = new cc.Vec2(t.x - this._anchorPoint.x * this._contentSize.width, t.y - this._anchorPoint.y * this._contentSize.height);
                    return i.Vec2.transformMat4(e, e, this._worldMatrix)
                }, getNodeToParentTransform: function (t) {
                    t || (t = o.identity()), this._updateLocalMatrix();
                    var e = this._contentSize;
                    return V.x = -this._anchorPoint.x * e.width, V.y = -this._anchorPoint.y * e.height, i.Mat4.copy(k, this._matrix), i.Mat4.transform(k, k, V), o.fromMat4(t, k)
                }, getNodeToParentTransformAR: function (t) {
                    return t || (t = o.identity()), this._updateLocalMatrix(), o.fromMat4(t, this._matrix)
                }, getNodeToWorldTransform: function (t) {
                    t || (t = o.identity()), this._updateWorldMatrix();
                    var e = this._contentSize;
                    return V.x = -this._anchorPoint.x * e.width, V.y = -this._anchorPoint.y * e.height, i.Mat4.copy(k, this._worldMatrix), i.Mat4.transform(k, k, V), o.fromMat4(t, k)
                }, getNodeToWorldTransformAR: function (t) {
                    return t || (t = o.identity()), this._updateWorldMatrix(), o.fromMat4(t, this._worldMatrix)
                }, getParentToNodeTransform: function (t) {
                    return t || (t = o.identity()), this._updateLocalMatrix(), i.Mat4.invert(k, this._matrix), o.fromMat4(t, k)
                }, getWorldToNodeTransform: function (t) {
                    return t || (t = o.identity()), this._updateWorldMatrix(), i.Mat4.invert(k, this._worldMatrix), o.fromMat4(t, k)
                }, convertTouchToNodeSpace: function (t) {
                    return this.convertToNodeSpace(t.getLocation())
                }, convertTouchToNodeSpaceAR: function (t) {
                    return this.convertToNodeSpaceAR(t.getLocation())
                }, getBoundingBox: function () {
                    this._updateLocalMatrix();
                    var t = this._contentSize.width, e = this._contentSize.height,
                        i = cc.rect(-this._anchorPoint.x * t, -this._anchorPoint.y * e, t, e);
                    return i.transformMat4(i, this._matrix)
                }, getBoundingBoxToWorld: function () {
                    return this._parent ? (this._parent._updateWorldMatrix(), this._getBoundingBoxTo()) : this.getBoundingBox()
                }, _getBoundingBoxTo: function () {
                    var t = this._contentSize.width, e = this._contentSize.height,
                        i = cc.rect(-this._anchorPoint.x * t, -this._anchorPoint.y * e, t, e);
                    if (this._calculWorldMatrix(), i.transformMat4(i, this._worldMatrix), !this._children) return i;
                    for (var n = this._children, r = 0; r < n.length; r++) {
                        var s = n[r];
                        if (s && s.active) {
                            var a = s._getBoundingBoxTo();
                            a && i.union(i, a)
                        }
                    }
                    return i
                }, _updateOrderOfArrival: function () {
                    var t = this._parent ? ++this._parent._childArrivalOrder : 0;
                    this._localZOrder = 4294901760 & this._localZOrder | t, this.emit(W.SIBLING_ORDER_CHANGED)
                }, setSelfGroupIndex: function (t) {
                    this._groupIndex = t || 0, this._cullingMask = 1 << t
                }, addChild: function (t, e, i) {
                    cc.assertID(t, 1606), cc.assertID(null === t._parent, 1605), t.parent = this, void 0 !== e && (t.zIndex = e), void 0 !== i && (t.name = i)
                }, cleanup: function () {
                    p && cc.director.getActionManager().removeAllActionsFromTarget(this), c.removeListeners(this);
                    var t, e, i = this._children.length;
                    for (t = 0; t < i; ++t) (e = this._children[t]) && e.cleanup()
                }, sortAllChildren: function () {
                    if (this._reorderChildDirty) {
                        this._reorderChildDirty = !1;
                        var t = this._children;
                        this._childArrivalOrder = 1;
                        for (var e = 0, i = t.length; e < i; e++) t[e]._updateOrderOfArrival();
                        if (c._setDirtyForNode(this), t.length > 1) {
                            for (var n, r, s = 1, a = t.length; s < a; s++) {
                                n = t[s];
                                for (var o = s; o > 0 && (r = t[o - 1])._localZOrder > n._localZOrder; o--) t[o] = r;
                                t[o] = n
                            }
                            this.emit(W.CHILD_REORDER, this)
                        }
                        cc.director.__fastOff(cc.Director.EVENT_AFTER_UPDATE, this.sortAllChildren, this)
                    }
                }, _delaySort: function () {
                    this._reorderChildDirty || (this._reorderChildDirty = !0, cc.director.__fastOn(cc.Director.EVENT_AFTER_UPDATE, this.sortAllChildren, this))
                }, _restoreProperties: !1, onRestore: !1
            }, pt = cc.Class(_t), vt = pt.prototype;
            h.getset(vt, "position", vt.getPosition, vt.setPosition, !1, !0), cc.Node = e.exports = pt
        }), {
            "./event-manager": 138,
            "./event/event": 141,
            "./event/event-target": 140,
            "./platform/CCMacro": 172,
            "./platform/js": 188,
            "./renderer/render-flow": 200,
            "./utils/affine-transform": 241,
            "./utils/base-node": 242,
            "./utils/prefab-helper": 253,
            "./utils/trans-pool": 259,
            "./value-types": 265,
            "./value-types/utils": 272
        }],
        40: [(function (t, e) {
            "use strict";
            var i = t("./CCNode"), n = t("./renderer/render-flow"),
                r = (cc.Object.Flags.HideInHierarchy, i._LocalDirtyFlag), s = cc.Class({
                    name: "cc.PrivateNode", extends: i, properties: {
                        x: {
                            get: function () {
                                return this._originPos.x
                            }, set: function (t) {
                                var e = this._originPos;
                                t !== e.x && (e.x = t, this._posDirty(!0))
                            }, override: !0
                        }, y: {
                            get: function () {
                                return this._originPos.y
                            }, set: function (t) {
                                var e = this._originPos;
                                t !== e.y && (e.y = t, this._posDirty(!0))
                            }, override: !0
                        }, zIndex: {
                            get: function () {
                                return cc.macro.MIN_ZINDEX
                            }, set: function () {
                            }, override: !0
                        }, showInEditor: {default: !1, editorOnly: !0, override: !0}
                    }, ctor: function () {
                        this._localZOrder = cc.macro.MIN_ZINDEX << 16, this._originPos = cc.v2()
                    }, _posDirty: function (t) {
                        this.setLocalDirty(r.POSITION), this._renderFlag |= n.FLAG_TRANSFORM, !0 === t && 1 & this._eventMask && this.emit(i.EventType.POSITION_CHANGED)
                    }, _updateLocalMatrix: function () {
                        if (this._localMatDirty) {
                            var t = this.parent;
                            t && (this._trs[0] = this._originPos.x - (t._anchorPoint.x - .5) * t._contentSize.width, this._trs[1] = this._originPos.y - (t._anchorPoint.y - .5) * t._contentSize.height), this._super()
                        }
                    }, getPosition: function () {
                        return new cc.Vec2(this._originPos)
                    }, setPosition: function (t, e) {
                        void 0 === e && (e = (t = t.x).y);
                        var i = this._originPos;
                        i.x === t && i.y === e || (i.x = t, i.y = e, this._posDirty(!0))
                    }, setParent: function (t) {
                        var e = this._parent;
                        this._super(t), e !== t && (e && e.off(i.EventType.ANCHOR_CHANGED, this._posDirty, this), t && t.on(i.EventType.ANCHOR_CHANGED, this._posDirty, this))
                    }, _updateOrderOfArrival: function () {
                    }
                }), a = s.prototype;
            cc.js.getset(a, "parent", a.getParent, a.setParent), cc.js.getset(a, "position", a.getPosition, a.setPosition), cc.PrivateNode = e.exports = s
        }), {"./CCNode": 39, "./renderer/render-flow": 200}],
        41: [(function (t, e) {
            "use strict";
            cc.Scene = cc.Class({
                name: "cc.Scene",
                extends: t("./CCNode"),
                properties: {_is3DNode: {default: !0, override: !0}, autoReleaseAssets: !1},
                ctor: function () {
                    this._anchorPoint.x = 0, this._anchorPoint.y = 0, this._activeInHierarchy = !1, this._inited = !cc.game._isCloning, this.dependAssets = null
                },
                destroy: function () {
                    if (cc.Object.prototype.destroy.call(this)) for (var t = this._children, e = 0; e < t.length; ++e) t[e].active = !1;
                    this._active = !1, this._activeInHierarchy = !1
                },
                _onHierarchyChanged: function () {
                },
                _instantiate: null,
                _load: function () {
                    this._inited || (this._onBatchCreated(!1), this._inited = !0)
                },
                _activate: function (t) {
                    t = !1 !== t, cc.director._nodeActivator.activateNode(this, t)
                }
            }), e.exports = cc.Scene
        }), {"./CCNode": 39}],
        42: [(function (t, e) {
            "use strict";
            var i = t("./platform/js"), n = new (t("./platform/id-generater"))("Scheduler"), r = function (t, e, i, n) {
                this.target = t, this.priority = e, this.paused = i, this.markedForDeletion = n
            }, s = [];
            r.get = function (t, e, i, n) {
                var a = s.pop();
                return a ? (a.target = t, a.priority = e, a.paused = i, a.markedForDeletion = n) : a = new r(t, e, i, n), a
            }, r.put = function (t) {
                s.length < 20 && (t.target = null, s.push(t))
            };
            var a = function (t, e, i, n) {
                this.list = t, this.entry = e, this.target = i, this.callback = n
            }, o = [];
            a.get = function (t, e, i, n) {
                var r = o.pop();
                return r ? (r.list = t, r.entry = e, r.target = i, r.callback = n) : r = new a(t, e, i, n), r
            }, a.put = function (t) {
                o.length < 20 && (t.list = t.entry = t.target = t.callback = null, o.push(t))
            };
            var c = function (t, e, i, n, r, s) {
                var a = this;
                a.timers = t, a.target = e, a.timerIndex = i, a.currentTimer = n, a.currentTimerSalvaged = r, a.paused = s
            }, l = [];

            function h() {
                this._lock = !1, this._scheduler = null, this._elapsed = -1, this._runForever = !1, this._useDelay = !1, this._timesExecuted = 0, this._repeat = 0, this._delay = 0, this._interval = 0, this._target = null, this._callback = null
            }

            c.get = function (t, e, i, n, r, s) {
                var a = l.pop();
                return a ? (a.timers = t, a.target = e, a.timerIndex = i, a.currentTimer = n, a.currentTimerSalvaged = r, a.paused = s) : a = new c(t, e, i, n, r, s), a
            }, c.put = function (t) {
                l.length < 20 && (t.timers = t.target = t.currentTimer = null, l.push(t))
            };
            var u = h.prototype;
            u.initWithCallback = function (t, e, i, n, r, s) {
                return this._lock = !1, this._scheduler = t, this._target = i, this._callback = e, this._elapsed = -1, this._interval = n, this._delay = s, this._useDelay = this._delay > 0, this._repeat = r, this._runForever = this._repeat === cc.macro.REPEAT_FOREVER, !0
            }, u.getInterval = function () {
                return this._interval
            }, u.setInterval = function (t) {
                this._interval = t
            }, u.update = function (t) {
                -1 === this._elapsed ? (this._elapsed = 0, this._timesExecuted = 0) : (this._elapsed += t, this._runForever && !this._useDelay ? this._elapsed >= this._interval && (this.trigger(), this._elapsed = 0) : (this._useDelay ? this._elapsed >= this._delay && (this.trigger(), this._elapsed -= this._delay, this._timesExecuted += 1, this._useDelay = !1) : this._elapsed >= this._interval && (this.trigger(), this._elapsed = 0, this._timesExecuted += 1), this._callback && !this._runForever && this._timesExecuted > this._repeat && this.cancel()))
            }, u.getCallback = function () {
                return this._callback
            }, u.trigger = function () {
                this._target && this._callback && (this._lock = !0, this._callback.call(this._target, this._elapsed), this._lock = !1)
            }, u.cancel = function () {
                this._scheduler.unschedule(this._callback, this._target)
            };
            var f = [];
            h.get = function () {
                return f.pop() || new h
            }, h.put = function (t) {
                f.length < 20 && !t._lock && (t._scheduler = t._target = t._callback = null, f.push(t))
            }, cc.Scheduler = function () {
                this._timeScale = 1, this._updatesNegList = [], this._updates0List = [], this._updatesPosList = [], this._hashForUpdates = i.createMap(!0), this._hashForTimers = i.createMap(!0), this._currentTarget = null, this._currentTargetSalvaged = !1, this._updateHashLocked = !1, this._arrayForTimers = []
            }, cc.Scheduler.prototype = {
                constructor: cc.Scheduler, _removeHashElement: function (t) {
                    delete this._hashForTimers[t.target._id];
                    for (var e = this._arrayForTimers, i = 0, n = e.length; i < n; i++) if (e[i] === t) {
                        e.splice(i, 1);
                        break
                    }
                    c.put(t)
                }, _removeUpdateFromHash: function (t) {
                    var e = t.target._id, i = this._hashForUpdates[e];
                    if (i) {
                        for (var n = i.list, s = i.entry, o = 0, c = n.length; o < c; o++) if (n[o] === s) {
                            n.splice(o, 1);
                            break
                        }
                        delete this._hashForUpdates[e], r.put(s), a.put(i)
                    }
                }, _priorityIn: function (t, e, i) {
                    for (var n = 0; n < t.length; n++) if (i < t[n].priority) return void t.splice(n, 0, e);
                    t.push(e)
                }, _appendIn: function (t, e) {
                    t.push(e)
                }, enableForTarget: function (t) {
                    t._id || (t.__instanceId ? cc.warnID(1513) : t._id = n.getNewId())
                }, setTimeScale: function (t) {
                    this._timeScale = t
                }, getTimeScale: function () {
                    return this._timeScale
                }, update: function (t) {
                    var e, i, n, r;
                    for (this._updateHashLocked = !0, 1 !== this._timeScale && (t *= this._timeScale), e = 0, n = (i = this._updatesNegList).length; e < n; e++) (r = i[e]).paused || r.markedForDeletion || r.target.update(t);
                    for (e = 0, n = (i = this._updates0List).length; e < n; e++) (r = i[e]).paused || r.markedForDeletion || r.target.update(t);
                    for (e = 0, n = (i = this._updatesPosList).length; e < n; e++) (r = i[e]).paused || r.markedForDeletion || r.target.update(t);
                    var s, a = this._arrayForTimers;
                    for (e = 0; e < a.length; e++) {
                        if (s = a[e], this._currentTarget = s, this._currentTargetSalvaged = !1, !s.paused) for (s.timerIndex = 0; s.timerIndex < s.timers.length; ++s.timerIndex) s.currentTimer = s.timers[s.timerIndex], s.currentTimerSalvaged = !1, s.currentTimer.update(t), s.currentTimer = null;
                        this._currentTargetSalvaged && 0 === this._currentTarget.timers.length && (this._removeHashElement(this._currentTarget), --e)
                    }
                    for (e = 0, i = this._updatesNegList; e < i.length;) (r = i[e]).markedForDeletion ? this._removeUpdateFromHash(r) : e++;
                    for (e = 0, i = this._updates0List; e < i.length;) (r = i[e]).markedForDeletion ? this._removeUpdateFromHash(r) : e++;
                    for (e = 0, i = this._updatesPosList; e < i.length;) (r = i[e]).markedForDeletion ? this._removeUpdateFromHash(r) : e++;
                    this._updateHashLocked = !1, this._currentTarget = null
                }, schedule: function (t, e, i, n, r, s) {
                    if ("function" != typeof t) {
                        var a = t;
                        t = e, e = a
                    }
                    4 !== arguments.length && 5 !== arguments.length || (s = !!n, n = cc.macro.REPEAT_FOREVER, r = 0), cc.assertID(e, 1502);
                    var o = e._id;
                    o || (e.__instanceId ? (cc.warnID(1513), o = e._id = e.__instanceId) : cc.errorID(1510));
                    var l, u, f = this._hashForTimers[o];
                    if (f ? f.paused !== s && cc.warnID(1511) : (f = c.get(null, e, 0, null, null, s), this._arrayForTimers.push(f), this._hashForTimers[o] = f), null == f.timers) f.timers = []; else for (u = 0; u < f.timers.length; ++u) if ((l = f.timers[u]) && t === l._callback) return cc.logID(1507, l.getInterval(), i), void (l._interval = i);
                    (l = h.get()).initWithCallback(this, t, e, i, n, r), f.timers.push(l), this._currentTarget === f && this._currentTargetSalvaged && (this._currentTargetSalvaged = !1)
                }, scheduleUpdate: function (t, e, i) {
                    var n = t._id;
                    n || (t.__instanceId ? (cc.warnID(1513), n = t._id = t.__instanceId) : cc.errorID(1510));
                    var s = this._hashForUpdates[n];
                    if (s && s.entry) {
                        if (s.entry.priority === e) return s.entry.markedForDeletion = !1, void (s.entry.paused = i);
                        if (this._updateHashLocked) return cc.logID(1506), s.entry.markedForDeletion = !1, void (s.entry.paused = i);
                        this.unscheduleUpdate(t)
                    }
                    var o, c = r.get(t, e, i, !1);
                    0 === e ? (o = this._updates0List, this._appendIn(o, c)) : (o = e < 0 ? this._updatesNegList : this._updatesPosList, this._priorityIn(o, c, e)), this._hashForUpdates[n] = a.get(o, c, t, null)
                }, unschedule: function (t, e) {
                    if (e && t) {
                        var i = e._id;
                        i || (e.__instanceId ? (cc.warnID(1513), i = e._id = e.__instanceId) : cc.errorID(1510));
                        var n = this._hashForTimers[i];
                        if (n) for (var r = n.timers, s = 0, a = r.length; s < a; s++) {
                            var o = r[s];
                            if (t === o._callback) return o !== n.currentTimer || n.currentTimerSalvaged || (n.currentTimerSalvaged = !0), r.splice(s, 1), h.put(o), n.timerIndex >= s && n.timerIndex--, void (0 === r.length && (this._currentTarget === n ? this._currentTargetSalvaged = !0 : this._removeHashElement(n)))
                        }
                    }
                }, unscheduleUpdate: function (t) {
                    if (t) {
                        var e = t._id;
                        e || (t.__instanceId ? (cc.warnID(1513), e = t._id = t.__instanceId) : cc.errorID(1510));
                        var i = this._hashForUpdates[e];
                        i && (this._updateHashLocked ? i.entry.markedForDeletion = !0 : this._removeUpdateFromHash(i.entry))
                    }
                }, unscheduleAllForTarget: function (t) {
                    if (t) {
                        var e = t._id;
                        e || (t.__instanceId ? (cc.warnID(1513), e = t._id = t.__instanceId) : cc.errorID(1510));
                        var i = this._hashForTimers[e];
                        if (i) {
                            var n = i.timers;
                            n.indexOf(i.currentTimer) > -1 && !i.currentTimerSalvaged && (i.currentTimerSalvaged = !0);
                            for (var r = 0, s = n.length; r < s; r++) h.put(n[r]);
                            n.length = 0, this._currentTarget === i ? this._currentTargetSalvaged = !0 : this._removeHashElement(i)
                        }
                        this.unscheduleUpdate(t)
                    }
                }, unscheduleAll: function () {
                    this.unscheduleAllWithMinPriority(cc.Scheduler.PRIORITY_SYSTEM)
                }, unscheduleAllWithMinPriority: function (t) {
                    var e, i, n, r = this._arrayForTimers;
                    for (e = r.length - 1; e >= 0; e--) i = r[e], this.unscheduleAllForTarget(i.target);
                    var s = 0;
                    if (t < 0) for (e = 0; e < this._updatesNegList.length;) s = this._updatesNegList.length, (n = this._updatesNegList[e]) && n.priority >= t && this.unscheduleUpdate(n.target), s == this._updatesNegList.length && e++;
                    if (t <= 0) for (e = 0; e < this._updates0List.length;) s = this._updates0List.length, (n = this._updates0List[e]) && this.unscheduleUpdate(n.target), s == this._updates0List.length && e++;
                    for (e = 0; e < this._updatesPosList.length;) s = this._updatesPosList.length, (n = this._updatesPosList[e]) && n.priority >= t && this.unscheduleUpdate(n.target), s == this._updatesPosList.length && e++
                }, isScheduled: function (t, e) {
                    cc.assertID(t, 1508), cc.assertID(e, 1509);
                    var i = e._id;
                    i || (e.__instanceId ? (cc.warnID(1513), i = e._id = e.__instanceId) : cc.errorID(1510));
                    var n = this._hashForTimers[i];
                    if (!n) return !1;
                    if (null == n.timers) return !1;
                    for (var r = n.timers, s = 0; s < r.length; ++s) if (t === r[s]._callback) return !0;
                    return !1
                }, pauseAllTargets: function () {
                    return this.pauseAllTargetsWithMinPriority(cc.Scheduler.PRIORITY_SYSTEM)
                }, pauseAllTargetsWithMinPriority: function (t) {
                    var e, i, n, r, s = [], a = this._arrayForTimers;
                    for (i = 0, n = a.length; i < n; i++) (e = a[i]) && (e.paused = !0, s.push(e.target));
                    if (t < 0) for (i = 0; i < this._updatesNegList.length; i++) (r = this._updatesNegList[i]) && r.priority >= t && (r.paused = !0, s.push(r.target));
                    if (t <= 0) for (i = 0; i < this._updates0List.length; i++) (r = this._updates0List[i]) && (r.paused = !0, s.push(r.target));
                    for (i = 0; i < this._updatesPosList.length; i++) (r = this._updatesPosList[i]) && r.priority >= t && (r.paused = !0, s.push(r.target));
                    return s
                }, resumeTargets: function (t) {
                    if (t) for (var e = 0; e < t.length; e++) this.resumeTarget(t[e])
                }, pauseTarget: function (t) {
                    cc.assertID(t, 1503);
                    var e = t._id;
                    e || (t.__instanceId ? (cc.warnID(1513), e = t._id = t.__instanceId) : cc.errorID(1510));
                    var i = this._hashForTimers[e];
                    i && (i.paused = !0);
                    var n = this._hashForUpdates[e];
                    n && (n.entry.paused = !0)
                }, resumeTarget: function (t) {
                    cc.assertID(t, 1504);
                    var e = t._id;
                    e || (t.__instanceId ? (cc.warnID(1513), e = t._id = t.__instanceId) : cc.errorID(1510));
                    var i = this._hashForTimers[e];
                    i && (i.paused = !1);
                    var n = this._hashForUpdates[e];
                    n && (n.entry.paused = !1)
                }, isTargetPaused: function (t) {
                    cc.assertID(t, 1505);
                    var e = t._id;
                    e || (t.__instanceId ? (cc.warnID(1513), e = t._id = t.__instanceId) : cc.errorID(1510));
                    var i = this._hashForTimers[e];
                    if (i) return i.paused;
                    var n = this._hashForUpdates[e];
                    return !!n && n.entry.paused
                }
            }, cc.Scheduler.PRIORITY_SYSTEM = 1 << 31, cc.Scheduler.PRIORITY_NON_SYSTEM = cc.Scheduler.PRIORITY_SYSTEM + 1, e.exports = cc.Scheduler
        }), {"./platform/id-generater": 184, "./platform/js": 188}],
        43: [(function (t, e) {
            "use strict";
            var i = t("./preprocess"), n = t("./fetch"), r = t("./cache"), s = t("./helper"), a = t("./releaseManager"),
                o = t("./depend-util"), c = t("./load"), l = t("./pipeline"), h = t("./task"), u = t("./request-item"),
                f = t("./downloader"), d = t("./parser"), _ = t("./pack-manager"), p = t("./bundle"),
                v = t("./builtins"), g = t("./factory"), m = t("./urlTransformer"), y = m.parse, T = m.combine,
                E = t("./utilities"), A = E.parseParameters, b = E.asyncify, x = t("./shared"), C = x.assets,
                S = x.files, w = x.parsed, M = x.pipeline, R = x.transformPipeline, I = x.fetchPipeline,
                O = x.RequestType, D = x.bundles, P = x.BuiltinBundleName;

            function L() {
                this._preprocessPipe = i, this._fetchPipe = n, this._loadPipe = c, this.pipeline = M.append(i).append(c), this.fetchPipeline = I.append(i).append(n), this.transformPipeline = R.append(y).append(T), this.bundles = D, this.assets = C, this._files = S, this._parsed = w, this.generalImportBase = "", this.generalNativeBase = "", this.dependUtil = o, this._releaseManager = a, this.cacheAsset = !0, this.force = !1, this.utils = s, this.downloader = f, this.parser = d, this.builtins = v, this.packManager = _, this.factory = g, this.cacheManager = null, this.presets = {
                    default: {priority: 0},
                    preload: {maxConcurrency: 2, maxRequestsPerFrame: 2, priority: -1},
                    scene: {maxConcurrency: 8, maxRequestsPerFrame: 8, priority: 1},
                    bundle: {maxConcurrency: 8, maxRequestsPerFrame: 8, priority: 2},
                    remote: {maxRetryCount: 4},
                    script: {maxConcurrency: 1024, maxRequestsPerFrame: 1024, priority: 2}
                }
            }

            L.Pipeline = l, L.Task = h, L.Cache = r, L.RequestItem = u, L.Bundle = p, L.BuiltinBundleName = P, L.prototype = {
                constructor: L, get main() {
                    return D.get(P.MAIN)
                }, get resources() {
                    return D.get(P.RESOURCES)
                }, get internal() {
                    return D.get(P.INTERNAL)
                }, init: function (t) {
                    t = t || Object.create(null), this._files.clear(), this._parsed.clear(), this._releaseManager.init(), this.assets.clear(), this.bundles.clear(), this.packManager.init(), this.downloader.init(t.bundleVers, t.server), this.parser.init(), this.dependUtil.init(), this.generalImportBase = t.importBase, this.generalNativeBase = t.nativeBase
                }, initWithDownloader: function (t) {
                    (t = t || Object.create(null)).bundleVers && t.server && this.downloader.init(t.bundleVers, t.server)
                }, getBundle: function (t) {
                    return D.get(t)
                }, removeBundle: function (t) {
                    t._destroy(), D.remove(t.name)
                }, loadAny: function (t, e, i, n) {
                    var r = A(e, i, n);
                    e = r.options, i = r.onProgress, n = r.onComplete, e.preset = e.preset || "default", t = Array.isArray(t) ? t.concat() : t;
                    var s = new h({
                        input: t, onProgress: i, onComplete: b((function (r, s) {
                            if (r) {
                                var a = new h({input: t, onProgress: i, onComplete: b(n), options: e});
                                M.async(a)
                            } else n(r, s)
                        })), options: e
                    });
                    M.async(s)
                }, preloadAny: function (t, e, i, n) {
                    var r = A(e, i, n);
                    e = r.options, i = r.onProgress, n = r.onComplete, e.preset = e.preset || "preload", t = Array.isArray(t) ? t.concat() : t;
                    var s = new h({input: t, onProgress: i, onComplete: b(n), options: e});
                    I.async(s)
                }, postLoadNative: function (t, e, i) {
                    if (!(t instanceof cc.Asset)) throw new Error("input is not asset");
                    var n = A(e, void 0, i);
                    if (e = n.options, i = n.onComplete, !t._native || t._nativeAsset) return b(i)(null);
                    var r = o.getNativeDep(t._uuid);
                    if (r) {
                        if (!D.has(r.bundle)) {
                            var s = D.find((function (e) {
                                return e.getAssetInfo(t._uuid)
                            }));
                            s && (r.bundle = s.name)
                        }
                        this.loadAny(r, e, (function (e, n) {
                            e ? cc.error(e.message, e.stack) : t.isValid && !t._nativeAsset && (t._nativeAsset = n), i && i(e)
                        }))
                    }
                }, loadRemote: function (t, e, i, n) {
                    var r = A(e, void 0, i);
                    if (e = r.options, i = r.onComplete, this.assets.has(t)) return b(i)(null, this.assets.get(t));
                    e.__isNative__ = !0, e.preset = e.preset || "remote", this.loadAny({url: t}, e, n, (function (n, r) {
                        n ? (cc.error(n.message, n.stack), i && i(n, null)) : g.create(t, r, e.ext || cc.path.extname(t), e, (function (t, e) {
                            i && i(t, e)
                        }))
                    }))
                }, loadScript: function (t, e, i) {
                    var n = A(e, void 0, i);
                    e = n.options, i = n.onComplete, e.__requestType__ = O.URL, e.preset = e.preset || "script", this.loadAny(t, e, i)
                }, loadBundle: function (t, e, i) {
                    var n = A(e, void 0, i), r = (e = n.options, i = n.onComplete, cc.path.basename(t));
                    if (this.bundles.has(r)) return b(i)(null, this.getBundle(r));
                    e.preset = e.preset || "bundle", e.ext = "bundle", this.loadRemote(t, e, i)
                }, releaseAsset: function (t) {
                    a.tryRelease(t, !0)
                }, releaseUnusedAssets: function () {
                    C.forEach((function (t) {
                        a.tryRelease(t)
                    }))
                }, releaseAll: function () {
                    C.forEach((function (t) {
                        a.tryRelease(t, !0)
                    }))
                }, _transform: function (t, e) {
                    var i = h.create({input: t, options: e}), n = [];
                    try {
                        for (var r = R.sync(i), s = 0, a = r.length; s < a; s++) {
                            var o = r[s], c = o.url;
                            o.recycle(), n.push(c)
                        }
                    } catch (l) {
                        for (s = 0, a = i.output.length; s < a; s++) i.output[s].recycle();
                        cc.error(l.message, l.stack)
                    }
                    return i.recycle(), n.length > 1 ? n : n[0]
                }
            }, cc.AssetManager = L, cc.assetManager = new L, Object.defineProperty(cc, "resources", {
                get: function () {
                    return D.get(P.RESOURCES)
                }
            }), e.exports = cc.assetManager
        }), {
            "./builtins": 44,
            "./bundle": 45,
            "./cache": 46,
            "./depend-util": 48,
            "./downloader": 55,
            "./factory": 56,
            "./fetch": 57,
            "./helper": 59,
            "./load": 61,
            "./pack-manager": 62,
            "./parser": 63,
            "./pipeline": 64,
            "./preprocess": 65,
            "./releaseManager": 66,
            "./request-item": 67,
            "./shared": 68,
            "./task": 69,
            "./urlTransformer": 70,
            "./utilities": 71
        }],
        44: [(function (t, e) {
            "use strict";
            var i = t("./cache"), n = t("./releaseManager"), r = t("./shared").BuiltinBundleName, s = {
                _assets: new i({material: new i, effect: new i}), _loadBuiltins: function (t, e) {
                    var i = t + "s", n = this._assets.get(t);
                    return cc.assetManager.internal.loadDir(i, null, null, (function (t, i) {
                        if (t) cc.error(t.message, t.stack); else for (var r = 0; r < i.length; r++) {
                            var s = i[r];
                            n.add(s.name, s.addRef())
                        }
                        e()
                    }))
                }, init: function (t) {
                    var e = this;
                    if (this.clear(), cc.game.renderType === cc.game.RENDER_TYPE_CANVAS || !cc.assetManager.bundles.has(r.INTERNAL)) return t && t();
                    this._loadBuiltins("effect", (function () {
                        e._loadBuiltins("material", t)
                    }))
                }, getBuiltin: function (t, e) {
                    return 0 === arguments.length ? this._assets : 1 === arguments.length ? this._assets.get(t) : this._assets.get(t).get(e)
                }, clear: function () {
                    this._assets.forEach((function (t) {
                        t.forEach((function (t) {
                            n.tryRelease(t, !0)
                        })), t.clear()
                    }))
                }
            };
            e.exports = s
        }), {"./cache": 46, "./releaseManager": 66, "./shared": 68}],
        45: [(function (t, e) {
            "use strict";
            var i = t("./config"), n = t("./releaseManager"), r = t("./utilities"), s = r.parseParameters,
                a = r.parseLoadResArgs, o = t("./shared"), c = o.RequestType, l = o.assets, h = o.bundles;

            function u() {
                this._config = new i
            }

            u.prototype = {
                constructor: u, get name() {
                    return this._config.name
                }, get deps() {
                    return this._config.deps
                }, get base() {
                    return this._config.base
                }, getInfoWithPath: function (t, e) {
                    return this._config.getInfoWithPath(t, e)
                }, getDirWithPath: function (t, e, i) {
                    return this._config.getDirWithPath(t, e, i)
                }, getAssetInfo: function (t) {
                    return this._config.getAssetInfo(t)
                }, getSceneInfo: function (t) {
                    return this._config.getSceneInfo(t)
                }, init: function (t) {
                    this._config.init(t), h.add(t.name, this)
                }, load: function (t, e, i, n) {
                    var r = a(e, i, n);
                    e = r.type, i = r.onProgress, n = r.onComplete, cc.assetManager.loadAny(t, {
                        __requestType__: c.PATH,
                        type: e,
                        bundle: this.name,
                        __outputAsArray__: Array.isArray(t)
                    }, i, n)
                }, preload: function (t, e, i, n) {
                    var r = a(e, i, n);
                    e = r.type, i = r.onProgress, n = r.onComplete, cc.assetManager.preloadAny(t, {
                        __requestType__: c.PATH,
                        type: e,
                        bundle: this.name
                    }, i, n)
                }, loadDir: function (t, e, i, n) {
                    var r = a(e, i, n);
                    e = r.type, i = r.onProgress, n = r.onComplete, cc.assetManager.loadAny(t, {
                        __requestType__: c.DIR,
                        type: e,
                        bundle: this.name,
                        __outputAsArray__: !0
                    }, i, n)
                }, preloadDir: function (t, e, i, n) {
                    var r = a(e, i, n);
                    e = r.type, i = r.onProgress, n = r.onComplete, cc.assetManager.preloadAny(t, {
                        __requestType__: c.DIR,
                        type: e,
                        bundle: this.name
                    }, i, n)
                }, loadScene: function (t, e, i, n) {
                    var r = s(e, i, n);
                    e = r.options, i = r.onProgress, n = r.onComplete, e.preset = e.preset || "scene", e.bundle = this.name, cc.assetManager.loadAny({scene: t}, e, i, (function (t, e) {
                        if (t) cc.error(t.message, t.stack), n && n(t); else if (e instanceof cc.SceneAsset) {
                            var i = e.scene;
                            i._id = e._uuid, i._name = e._name, n && n(null, e)
                        } else n && n(new Error("The asset " + e._uuid + " is not a scene"))
                    }))
                }, preloadScene: function (t, e, i, n) {
                    var r = s(e, i, n);
                    e = r.options, i = r.onProgress, n = r.onComplete, e.bundle = this.name, cc.assetManager.preloadAny({scene: t}, e, i, (function (e) {
                        e && cc.errorID(1210, t, e.message), n && n(e)
                    }))
                }, get: function (t, e) {
                    var i = this.getInfoWithPath(t, e);
                    return l.get(i && i.uuid)
                }, release: function (t, e) {
                    n.tryRelease(this.get(t, e), !0)
                }, releaseUnusedAssets: function () {
                    var t = this;
                    l.forEach((function (e) {
                        var i = t.getAssetInfo(e._uuid);
                        i && !i.redirect && n.tryRelease(e)
                    }))
                }, releaseAll: function () {
                    var t = this;
                    l.forEach((function (e) {
                        var i = t.getAssetInfo(e._uuid);
                        i && !i.redirect && n.tryRelease(e, !0)
                    }))
                }, _destroy: function () {
                    this._config.destroy()
                }
            }, e.exports = u
        }), {"./config": 47, "./releaseManager": 66, "./shared": 68, "./utilities": 71}],
        46: [(function (t, e) {
            "use strict";
            var i = t("../platform/js");

            function n(t) {
                t ? (this._map = t, this._count = Object.keys(t).length) : (this._map = i.createMap(!0), this._count = 0)
            }

            n.prototype = {
                constructor: n, add: function (t, e) {
                    return t in this._map || this._count++, this._map[t] = e
                }, get: function (t) {
                    return this._map[t]
                }, has: function (t) {
                    return t in this._map
                }, remove: function (t) {
                    var e = this._map[t];
                    return t in this._map && (delete this._map[t], this._count--), e
                }, clear: function () {
                    0 !== this._count && (this._map = i.createMap(!0), this._count = 0)
                }, forEach: function (t) {
                    for (var e in this._map) t(this._map[e], e)
                }, find: function (t) {
                    for (var e in this._map) if (t(this._map[e], e)) return this._map[e];
                    return null
                }, get count() {
                    return this._count
                }, destroy: function () {
                    this._map = null
                }
            }, e.exports = n
        }), {"../platform/js": 188}],
        47: [(function (t, e) {
            "use strict";
            var i = t("../platform/js"), n = t("./cache"), r = t("./helper").normalize,
                s = t("./utilities").processOptions;

            function a() {
                this.name = "", this.base = "", this.importBase = "", this.nativeBase = "", this.deps = null, this.assetInfos = new n, this.scenes = new n, this.paths = new n
            }

            a.prototype = {
                constructor: a, init: function (t) {
                    s(t), this.importBase = t.importBase || "", this.nativeBase = t.nativeBase || "", this.base = t.base || "", this.name = t.name || "", this.deps = t.deps || [], this._initUuid(t.uuids), this._initPath(t.paths), this._initScene(t.scenes), this._initPackage(t.packs), this._initVersion(t.versions), this._initRedirect(t.redirect)
                }, _initUuid: function (t) {
                    if (t) {
                        this.assetInfos.clear();
                        for (var e = 0, i = t.length; e < i; e++) {
                            var n = t[e];
                            this.assetInfos.add(n, {uuid: n})
                        }
                    }
                }, _initPath: function (t) {
                    if (t) {
                        var e = this.paths;
                        for (var n in e.clear(), t) {
                            var r = t[n], s = r[0], a = r[1], o = 3 === r.length, c = this.assetInfos.get(n);
                            c.path = s, c.ctor = i._getClassById(a), e.has(s) ? o ? e.get(s).push(c) : e.get(s).unshift(c) : e.add(s, [c])
                        }
                    }
                }, _initScene: function (t) {
                    if (t) {
                        var e = this.scenes;
                        e.clear();
                        var i = this.assetInfos;
                        for (var n in t) {
                            var r = t[n], s = i.get(r);
                            s.url = n, e.add(n, s)
                        }
                    }
                }, _initPackage: function (t) {
                    if (t) {
                        var e = this.assetInfos;
                        for (var i in t) {
                            var n = t[i], r = {uuid: i, packs: n, ext: ".json"};
                            e.add(i, r);
                            for (var s = 0, a = n.length; s < a; s++) {
                                var o = n[s], c = e.get(o), l = c.packs;
                                l ? 1 === a ? l.unshift(r) : l.push(r) : c.packs = [r]
                            }
                        }
                    }
                }, _initVersion: function (t) {
                    if (t) {
                        var e = this.assetInfos, i = t.import;
                        if (i) for (var n = 0, r = i.length; n < r; n += 2) {
                            var s = i[n];
                            e.get(s).ver = i[n + 1]
                        }
                        if (i = t.native) for (n = 0, r = i.length; n < r; n += 2) s = i[n], e.get(s).nativeVer = i[n + 1]
                    }
                }, _initRedirect: function (t) {
                    if (t) for (var e = this.assetInfos, i = 0, n = t.length; i < n; i += 2) {
                        var r = t[i];
                        e.get(r).redirect = t[i + 1]
                    }
                }, getInfoWithPath: function (t, e) {
                    if (!t) return null;
                    t = r(t);
                    var n = this.paths.get(t);
                    if (n) {
                        if (!e) return n[0];
                        for (var s = 0, a = n.length; s < a; s++) {
                            var o = n[s];
                            if (i.isChildClassOf(o.ctor, e)) return o
                        }
                    }
                    return null
                }, getDirWithPath: function (t, e, n) {
                    "/" === (t = r(t))[t.length - 1] && (t = t.slice(0, -1));
                    var s = n || [];

                    function a(t, e) {
                        return !(t.length > e.length) || 47 === t.charCodeAt(e.length)
                    }

                    return this.paths.forEach((function (n, r) {
                        if (r.startsWith(t) && a(r, t) || !t) for (var o = 0, c = n.length; o < c; o++) {
                            var l = n[o];
                            e && !i.isChildClassOf(l.ctor, e) || s.push(l)
                        }
                    })), s
                }, getAssetInfo: function (t) {
                    return this.assetInfos.get(t)
                }, getSceneInfo: function (t) {
                    return t.endsWith(".fire") || (t += ".fire"), "/" === t[0] || t.startsWith("db://") || (t = "/" + t), this.scenes.find((function (e, i) {
                        return i.endsWith(t)
                    }))
                }, destroy: function () {
                    this.paths.destroy(), this.scenes.destroy(), this.assetInfos.destroy()
                }
            }, e.exports = a
        }), {"../platform/js": 188, "./cache": 46, "./helper": 59, "./utilities": 71}],
        48: [(function (t, e) {
            "use strict";
            var i = (function (t) {
                if (t && t.__esModule) return t;
                if (null === t || "object" != typeof t && "function" != typeof t) return {default: t};
                var e = n(void 0);
                if (e && e.has(t)) return e.get(t);
                var i = {}, r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (var s in t) if ("default" !== s && Object.prototype.hasOwnProperty.call(t, s)) {
                    var a = r ? Object.getOwnPropertyDescriptor(t, s) : null;
                    a && (a.get || a.set) ? Object.defineProperty(i, s, a) : i[s] = t[s]
                }
                return i.default = t, e && e.set(t, i), i
            })(t("../platform/deserialize-compiled"));

            function n(t) {
                if ("function" != typeof WeakMap) return null;
                var e = new WeakMap, i = new WeakMap;
                return (n = function (t) {
                    return t ? i : e
                })(t)
            }

            var r = t("./cache"), s = t("./deserialize"), a = t("./shared"), o = a.files, c = a.parsed, l = {
                _depends: new r, init: function () {
                    this._depends.clear()
                }, getNativeDep: function (t) {
                    var e = this._depends.get(t);
                    return e ? e.nativeDep && Object.assign({}, e.nativeDep) : null
                }, getDeps: function (t) {
                    return this._depends.has(t) ? this._depends.get(t).deps : []
                }, getDepsRecursively: function (t) {
                    var e = Object.create(null), i = [];
                    return this._descend(t, e, i), i
                }, _descend: function (t, e, i) {
                    for (var n = this.getDeps(t), r = 0; r < n.length; r++) {
                        var s = n[r];
                        e[s] || (e[s] = !0, i.push(s), this._descend(s, e, i))
                    }
                }, remove: function (t) {
                    this._depends.remove(t)
                }, parse: function (t, e) {
                    var n = null;
                    if (Array.isArray(e) || e.__type__) {
                        if (n = this._depends.get(t)) return n;
                        if (Array.isArray(e) && !(0, i.hasNativeDep)(e)) n = {deps: this._parseDepsFromJson(e)}; else try {
                            var r = s(e);
                            (n = this._parseDepsFromAsset(r)).nativeDep && (n.nativeDep.uuid = t), c.add(t + "@import", r)
                        } catch (a) {
                            o.remove(t + "@import"), n = {deps: []}
                        }
                    } else {
                        if ((n = this._depends.get(t)) && n.parsedFromExistAsset) return n;
                        n = this._parseDepsFromAsset(e)
                    }
                    return this._depends.add(t, n), n
                }, _parseDepsFromAsset: function (t) {
                    for (var e = {
                        deps: [],
                        parsedFromExistAsset: !0,
                        preventPreloadNativeObject: t.constructor.preventPreloadNativeObject,
                        preventDeferredLoadDependents: t.constructor.preventDeferredLoadDependents
                    }, i = t.__depends__, n = 0, r = i.length; n < r; n++) {
                        var s = i[n].uuid;
                        e.deps.push(s)
                    }
                    return t.__nativeDepend__ && (e.nativeDep = t._nativeDep), e
                }, _parseDepsFromJson: function (t) {
                    var e = (0, i.getDependUuidList)(t);
                    return e.forEach((function (t, i) {
                        return e[i] = cc.assetManager.utils.decodeUuid(t)
                    })), e
                }
            };
            e.exports = l
        }), {"../platform/deserialize-compiled": 182, "./cache": 46, "./deserialize": 50, "./shared": 68}],
        49: [(function (t) {
            "use strict";
            var e = t("../platform/js");
            t("../CCDirector");
            var i = t("./utilities"), n = t("./depend-util"), r = t("./releaseManager"), s = t("./downloader"),
                a = t("./factory"), o = t("./helper"),
                c = [".png", ".jpg", ".bmp", ".jpeg", ".gif", ".ico", ".tiff", ".webp", ".image", ".pvr", ".pkm"],
                l = [".mp3", ".ogg", ".wav", ".m4a"];

            function h() {
                return !0
            }

            var u = {
                transformURL: function (t) {
                    var e = o.getUuidFromURL(t);
                    if (!e) return t;
                    var i = cc.assetManager.bundles.find((function (t) {
                        return !!t.getAssetInfo(e)
                    }));
                    if (!i) return t;
                    var n, r = i.getAssetInfo(e);
                    if (!(n = t.startsWith(i.base + i._config.nativeBase) ? r.nativeVer || "" : r.ver || "") || -1 !== t.indexOf(n)) return t;
                    var s = !1;
                    if (".ttf" === cc.path.extname(t) && (s = !0), s) {
                        var a = cc.path.dirname(t), c = cc.path.basename(t);
                        t = a + "." + n + "/" + c
                    } else t = t.replace(/.*[/\\][0-9a-fA-F]{2}[/\\]([0-9a-fA-F-]{8,})/, (function (t) {
                        return t + "." + n
                    }));
                    return t
                }
            }, f = {
                onProgress: null, _autoReleaseSetting: Object.create(null), get _cache() {
                    return cc.assetManager.assets._map
                }, load: function (t, e, i) {
                    void 0 === i && void 0 !== e && (i = e, e = null), t = Array.isArray(t) ? t : [t];
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        "string" == typeof r ? t[n] = {
                            url: r,
                            __isNative__: !0
                        } : (r.type && (r.ext = "." + r.type, r.type = void 0), r.url && (r.__isNative__ = !0))
                    }
                    var s = [], o = [];
                    cc.assetManager.loadAny(t, null, (function (t, i, n) {
                        n.content && (c.includes(n.ext) ? s.push(n.content) : l.includes(n.ext) && o.push(n.content)), e && e(t, i, n)
                    }), (function (e, n) {
                        var r = null;
                        if (!e) {
                            n = Array.isArray(n) ? n : [n];
                            for (var c = 0; c < n.length; c++) {
                                var l = n[c];
                                if (!(l instanceof cc.Asset)) {
                                    var u = l, f = t[c].url;
                                    s.includes(u) ? a.create(f, l, ".png", null, (function (t, e) {
                                        u = n[c] = e
                                    })) : o.includes(u) && a.create(f, l, ".mp3", null, (function (t, e) {
                                        u = n[c] = e
                                    })), cc.assetManager.assets.add(f, u)
                                }
                            }
                            if (n.length > 1) {
                                var d = Object.create(null);
                                n.forEach((function (t) {
                                    d[t._uuid] = t
                                })), r = {isCompleted: h, _map: d}
                            } else r = n[0]
                        }
                        i && i(e, r)
                    }))
                }, getXMLHttpRequest: function () {
                    return new XMLHttpRequest
                }, _parseLoadResArgs: i.parseLoadResArgs, getItem: function (t) {
                    return cc.assetManager.assets.has(t) ? {content: cc.assetManager.assets.get(t)} : null
                }, loadRes: function (t, e, i, n) {
                    var r = this._parseLoadResArgs(e, i, n), s = (e = r.type, r.onProgress), a = r.onComplete,
                        o = cc.path.extname(t);
                    o && (t = t.slice(0, -o.length)), cc.resources.load(t, e, s, a)
                }, loadResArray: function (t, e, i, n) {
                    var r = this._parseLoadResArgs(e, i, n), s = (e = r.type, r.onProgress), a = r.onComplete;
                    t.forEach((function (e, i) {
                        var n = cc.path.extname(e);
                        n && (t[i] = e.slice(0, -n.length))
                    })), cc.resources.load(t, e, s, a)
                }, loadResDir: function (t, e, i, n) {
                    var r = this._parseLoadResArgs(e, i, n), s = (e = r.type, r.onProgress), a = r.onComplete;
                    cc.resources.loadDir(t, e, s, (function (i, n) {
                        var r = [];
                        i || (r = cc.resources.getDirWithPath(t, e).map((function (t) {
                            return t.path
                        }))), a && a(i, n, r)
                    }))
                }, getRes: function (t, e) {
                    return cc.assetManager.assets.has(t) ? cc.assetManager.assets.get(t) : cc.resources.get(t, e)
                }, getResCount: function () {
                    return cc.assetManager.assets.count
                }, getDependsRecursively: function (t) {
                    return t ? n.getDepsRecursively("string" == typeof t ? t : t._uuid).concat([t._uuid]) : []
                }, get assetLoader() {
                }, get md5Pipe() {
                    return u
                }, get downloader() {
                    return cc.assetManager.downloader
                }, get loader() {
                    return cc.assetManager.parser
                }, addDownloadHandlers: function (t) {
                    var e = Object.create(null);
                    for (var i in t) {
                        var n = t[i];
                        e["." + i] = function (t, e, i) {
                            n({url: t}, i)
                        }
                    }
                    cc.assetManager.downloader.register(e)
                }, addLoadHandlers: function (t) {
                    var e = Object.create(null);
                    for (var i in t) {
                        var n = t[i];
                        e["." + i] = function (t, e, i) {
                            n({content: t}, i)
                        }
                    }
                    cc.assetManager.parser.register(e)
                }, flowInDeps: function () {
                }, release: function (t) {
                    if (Array.isArray(t)) for (var e = 0; e < t.length; e++) {
                        var i = t[e];
                        "string" == typeof i && (i = cc.assetManager.assets.get(i)), cc.assetManager.builtins._assets.find((function (t) {
                            return t.find((function (t) {
                                return t === i
                            }))
                        })) || cc.assetManager.releaseAsset(i)
                    } else if (t) {
                        if ("string" == typeof t && (t = cc.assetManager.assets.get(t)), cc.assetManager.builtins._assets.find((function (e) {
                            return e.find((function (e) {
                                return e === t
                            }))
                        }))) return;
                        cc.assetManager.releaseAsset(t)
                    }
                }, releaseAsset: function (t) {
                    cc.assetManager.releaseAsset(t)
                }, releaseRes: function (t, e) {
                    cc.resources.release(t, e)
                }, releaseResDir: function () {
                }, releaseAll: function () {
                    cc.assetManager.releaseAll(), cc.assetManager.assets.clear()
                }, removeItem: function (t) {
                    cc.assetManager.assets.remove(t)
                }, setAutoRelease: function (t, e) {
                    "object" == typeof t && (t = t._uuid), this._autoReleaseSetting[t] = !!e
                }, setAutoReleaseRecursively: function (t, e) {
                    "object" == typeof t && (t = t._uuid), e = !!e, this._autoReleaseSetting[t] = e;
                    for (var i = n.getDepsRecursively(t), r = 0; r < i.length; r++) {
                        var s = i[r];
                        this._autoReleaseSetting[s] = e
                    }
                }, isAutoRelease: function (t) {
                    return "object" == typeof t && (t = t._uuid), !!this._autoReleaseSetting[t]
                }
            };
            s.loadSubpackage = function (t, e) {
                cc.assetManager.loadBundle(t, null, e)
            };
            var d = {
                init: function (t) {
                    t.importBase = t.libraryPath, t.nativeBase = t.rawAssetsBase, cc.assetManager.init(t), t.rawAssets && (new cc.AssetManager.Bundle).init({
                        name: cc.AssetManager.BuiltinBundleName.RESOURCES,
                        importBase: t.importBase,
                        nativeBase: t.nativeBase,
                        paths: t.rawAssets.assets,
                        uuids: Object.keys(t.rawAssets.assets)
                    })
                }, loadAsset: function (t, e) {
                    cc.assetManager.loadAny(t, e)
                }, getLibUrlNoExt: function () {
                }, queryAssetInfo: function () {
                }
            };
            cc.url = {
                normalize: function (t) {
                    return cc.warnID(1400, "cc.url.normalize", "cc.assetManager.utils.normalize"), cc.assetManager.utils.normalize(t)
                }, raw: function (t) {
                    return cc.warnID(1400, "cc.url.raw", "cc.resources.load"), t.startsWith("resources/") ? cc.assetManager._transform({
                        path: cc.path.changeExtname(t.substr(10)),
                        bundle: cc.AssetManager.BuiltinBundleName.RESOURCES,
                        __isNative__: !0,
                        ext: cc.path.extname(t)
                    }) : ""
                }
            }, Object.defineProperties(cc, {
                loader: {
                    get: function () {
                        return f
                    }
                }, AssetLibrary: {
                    get: function () {
                        return d
                    }
                }, LoadingItems: {
                    get: function () {
                        return cc.warnID(1400, "cc.LoadingItems", "cc.AssetManager.Task"), cc.AssetManager.Task
                    }
                }, Pipeline: {
                    get: function () {
                        return cc.warnID(1400, "cc.Pipeline", "cc.AssetManager.Pipeline"), cc.AssetManager.Pipeline
                    }
                }
            }), e.obsolete(cc, "cc.RawAsset", "cc.Asset"), e.obsolete(cc.Asset.prototype, "cc.Asset.url", "nativeUrl"), Object.defineProperties(cc.macro, {
                DOWNLOAD_MAX_CONCURRENT: {
                    get: function () {
                        return cc.assetManager.downloader.maxConcurrency
                    }, set: function (t) {
                        cc.assetManager.downloader.maxConcurrency = t
                    }
                }
            }), Object.assign(cc.director, {
                _getSceneUuid: function (t) {
                    cc.assetManager.main.getSceneInfo(t)
                }
            }), Object.defineProperties(cc.game, {
                _sceneInfos: {
                    get: function () {
                        var t = [];
                        return cc.assetManager.main._config.scenes.forEach((function (e) {
                            t.push(e)
                        })), t
                    }
                }
            });
            var _ = i.parseParameters;
            i.parseParameters = function (t, e, i) {
                var n = _(t, e, i);
                return n.onProgress = n.onProgress || f.onProgress, n
            };
            var p = r._autoRelease;
            r._autoRelease = function () {
                p.apply(this, arguments);
                for (var t = f._autoReleaseSetting, e = Object.keys(t), i = 0; i < e.length; i++) {
                    var n = e[i];
                    if (!0 === t[n]) {
                        var s = cc.assetManager.assets.get(n);
                        s && r.tryRelease(s)
                    }
                }
            }
        }), {
            "../CCDirector": 37,
            "../platform/js": 188,
            "./depend-util": 48,
            "./downloader": 55,
            "./factory": 56,
            "./helper": 59,
            "./releaseManager": 66,
            "./utilities": 71
        }],
        50: [(function (t, e) {
            "use strict";
            var i = t("./helper");
            t("../platform/deserialize"), e.exports = function (t, e) {
                var n;
                n = cc._MissingScript.safeFindClass;
                var r, s = null, a = (s = cc.deserialize.Details.pool).get();
                try {
                    r = cc.deserialize(t, a, {classFinder: n, customEnv: e})
                } catch (d) {
                    throw s.put(a), d
                }
                for (var o = a.uuidList, c = a.uuidObjList, l = a.uuidPropList, h = [], u = 0; u < o.length; u++) {
                    var f = o[u];
                    h[u] = {uuid: i.decodeUuid(f), owner: c[u], prop: l[u]}
                }
                return r.__depends__ = h, r._native && (r.__nativeDepend__ = !0), s.put(a), r
            }
        }), {
            "../platform/deserialize": 183,
            "../platform/deserialize-compiled": 182,
            "../platform/deserialize-editor": void 0,
            "./helper": 59
        }],
        51: [(function (t, e) {
            "use strict";
            var i = cc.sys.__audioSupport, n = t("./utilities").parseParameters;
            e.exports = function (t, e, r) {
                var s = n(e, void 0, r), a = (e = s.options, r = s.onComplete, document.createElement("audio"));
                a.src = t;
                var o = function () {
                    clearTimeout(c), a.removeEventListener("canplaythrough", l, !1), a.removeEventListener("error", h, !1), i.USE_LOADER_EVENT && a.removeEventListener(i.USE_LOADER_EVENT, l, !1)
                }, c = setTimeout((function () {
                    0 === a.readyState ? h() : l()
                }), 8e3), l = function () {
                    o(), r && r(null, a)
                }, h = function () {
                    o();
                    var e = "load audio failure - " + t;
                    cc.log(e), r && r(new Error(e))
                };
                return a.addEventListener("canplaythrough", l, !1), a.addEventListener("error", h, !1), i.USE_LOADER_EVENT && a.addEventListener(i.USE_LOADER_EVENT, l, !1), a
            }
        }), {"./utilities": 71}],
        52: [(function (t, e) {
            "use strict";
            var i = t("./utilities").parseParameters;
            e.exports = function (t, e, n) {
                var r = i(e, void 0, n), s = (e = r.options, n = r.onComplete, new Image);

                function a() {
                    s.removeEventListener("load", a), s.removeEventListener("error", o), n && n(null, s)
                }

                function o() {
                    s.removeEventListener("load", a), s.removeEventListener("error", o), n && n(new Error(cc.debug.getError(4930, t)))
                }

                return "file:" !== window.location.protocol && (s.crossOrigin = "anonymous"), s.addEventListener("load", a), s.addEventListener("error", o), s.src = t, s
            }
        }), {"./utilities": 71}],
        53: [(function (t, e) {
            "use strict";
            var i = t("./utilities").parseParameters;
            e.exports = function (t, e, n, r) {
                var s = i(e, n, r), a = (e = s.options, n = s.onProgress, r = s.onComplete, new XMLHttpRequest),
                    o = "download failed: " + t + ", status: ";
                if (a.open("GET", t, !0), void 0 !== e.responseType && (a.responseType = e.responseType), void 0 !== e.withCredentials && (a.withCredentials = e.withCredentials), void 0 !== e.mimeType && a.overrideMimeType && a.overrideMimeType(e.mimeType), void 0 !== e.timeout && (a.timeout = e.timeout), e.header) for (var c in e.header) a.setRequestHeader(c, e.header[c]);
                return a.onload = function () {
                    200 === a.status || 0 === a.status ? r && r(null, a.response) : r && r(new Error(o + a.status + "(no response)"))
                }, n && (a.onprogress = function (t) {
                    t.lengthComputable && n(t.loaded, t.total)
                }), a.onerror = function () {
                    r && r(new Error(o + a.status + "(error)"))
                }, a.ontimeout = function () {
                    r && r(new Error(o + a.status + "(time out)"))
                }, a.onabort = function () {
                    r && r(new Error(o + a.status + "(abort)"))
                }, a.send(null), a
            }
        }), {"./utilities": 71}],
        54: [(function (t, e) {
            "use strict";
            var i = t("./utilities").parseParameters, n = {};
            e.exports = function (t, e, r) {
                var s = i(e, void 0, r);
                if (e = s.options, r = s.onComplete, n[t]) return r && r(null);
                var a = document, o = document.createElement("script");

                function c() {
                    o.parentNode.removeChild(o), o.removeEventListener("load", c, !1), o.removeEventListener("error", l, !1), n[t] = !0, r && r(null)
                }

                function l() {
                    o.parentNode.removeChild(o), o.removeEventListener("load", c, !1), o.removeEventListener("error", l, !1), r && r(new Error(cc.debug.getError(4928, t)))
                }

                "file:" !== window.location.protocol && (o.crossOrigin = "anonymous"), o.async = e.async, o.src = t, o.addEventListener("load", c, !1), o.addEventListener("error", l, !1), a.body.appendChild(o)
            }
        }), {"./utilities": 71}],
        55: [(function (t, e) {
            "use strict";
            var i = t("../platform/js"), n = t("../CCDebug"), r = t("./font-loader").loadFont,
                s = t("../platform/utils").callInNextTick, a = t("./download-dom-image"), o = t("./download-dom-audio"),
                c = t("./download-file"), l = t("./download-script.js"), h = t("./cache"), u = t("./shared").files,
                f = t("../platform/CCSys"), d = f.__audioSupport, _ = f.capabilities, p = t("./utilities"),
                v = p.urlAppendTimestamp, g = p.retry, m = /^(?:\w+:\/\/|\.+\/).+/, y = function (t, e, i) {
                    e.audioLoadMode !== cc.AudioClip.LoadMode.DOM_AUDIO ? b(t, e, i) : o(t, e, i)
                }, T = (y = 0 === (d.format || []).length ? function (t, e, i) {
                    i(new Error(n.getError(4927)))
                } : d.WEB_AUDIO ? y : o, function () {
                    var t = _.imageBitmap && cc.macro.ALLOW_IMAGE_BITMAP ? E : a;
                    t.apply(this, arguments)
                }), E = function (t, e, i) {
                    e.responseType = "blob", c(t, e, e.onFileProgress, i)
                }, A = function (t, e, i) {
                    e.responseType = "json", c(t, e, e.onFileProgress, (function (t, e) {
                        if (!t && "string" == typeof e) try {
                            e = JSON.parse(e)
                        } catch (n) {
                            t = n
                        }
                        i && i(t, e)
                    }))
                }, b = function (t, e, i) {
                    e.responseType = "arraybuffer", c(t, e, e.onFileProgress, i)
                }, x = function (t, e, i) {
                    e.responseType = "text", c(t, e, e.onFileProgress, i)
                }, C = function (t, e, i) {
                    i(null, t)
                }, S = new h, w = [], M = !1, R = 0, I = 0, O = -1, D = !1, P = function () {
                    var t = Date.now(),
                        e = cc.director._deltaTime > N._maxInterval ? N._maxInterval : cc.director._deltaTime;
                    t - O > 1e3 * e && (I = 0, O = t)
                }, L = function t(e, i) {
                    for (D = !1, P(); w.length > 0 && R < e && I < i;) {
                        M && (w.sort((function (t, e) {
                            return t.priority - e.priority
                        })), M = !1);
                        var n = w.pop();
                        if (!n) break;
                        R++, I++, n.invoke()
                    }
                    w.length > 0 && R < e && (s(t, e, i), D = !0)
                }, N = {
                    _remoteServerAddress: "",
                    _maxInterval: 1 / 30,
                    get remoteServerAddress() {
                        return this._remoteServerAddress
                    },
                    maxConcurrency: 6,
                    maxRequestsPerFrame: 6,
                    maxRetryCount: 3,
                    appendTimeStamp: !1,
                    limited: !0,
                    retryInterval: 2e3,
                    bundleVers: null,
                    downloadDomImage: a,
                    downloadDomAudio: o,
                    downloadFile: c,
                    downloadScript: l,
                    init: function (t, e) {
                        S.clear(), w.length = 0, this._remoteServerAddress = e || "", this.bundleVers = t || Object.create(null)
                    },
                    register: function (t, e) {
                        "object" == typeof t ? i.mixin(F, t) : F[t] = e
                    },
                    download: function (t, e, i, n, r) {
                        var a, o, c = F[i] || F.default, l = this;
                        if (a = u.get(t)) r(null, a); else if (o = S.get(t)) {
                            o.push(r);
                            for (var h = 0, f = w.length; h < f; h++) {
                                var d = w[h];
                                if (d.id === t) {
                                    var _ = n.priority || 0;
                                    return void (d.priority < _ && (d.priority = _, M = !0))
                                }
                            }
                        } else {
                            var p = void 0 !== n.maxRetryCount ? n.maxRetryCount : this.maxRetryCount,
                                m = void 0 !== n.maxConcurrency ? n.maxConcurrency : this.maxConcurrency,
                                y = void 0 !== n.maxRequestsPerFrame ? n.maxRequestsPerFrame : this.maxRequestsPerFrame;
                            g((function (i, a) {
                                if (0 === i && S.add(t, [r]), !l.limited) return c(v(e), n, a);

                                function o() {
                                    c(v(e), n, (function () {
                                        R--, !D && w.length > 0 && (s(L, m, y), D = !0), a.apply(this, arguments)
                                    }))
                                }

                                P(), R < m && I < y ? (o(), R++, I++) : (w.push({
                                    id: t,
                                    priority: n.priority || 0,
                                    invoke: o
                                }), M = !0, !D && R < m && (s(L, m, y), D = !0))
                            }), p, this.retryInterval, (function (e, i) {
                                e || u.add(t, i);
                                for (var n = S.remove(t), r = 0, s = n.length; r < s; r++) n[r](e, i)
                            }))
                        }
                    }
                }, F = {
                    ".png": T,
                    ".jpg": T,
                    ".bmp": T,
                    ".jpeg": T,
                    ".gif": T,
                    ".ico": T,
                    ".tiff": T,
                    ".webp": T,
                    ".image": T,
                    ".pvr": b,
                    ".pkm": b,
                    ".mp3": y,
                    ".ogg": y,
                    ".wav": y,
                    ".m4a": y,
                    ".txt": x,
                    ".xml": x,
                    ".vsh": x,
                    ".fsh": x,
                    ".atlas": x,
                    ".tmx": x,
                    ".tsx": x,
                    ".json": A,
                    ".ExportJson": A,
                    ".plist": x,
                    ".fnt": x,
                    ".font": r,
                    ".eot": r,
                    ".ttf": r,
                    ".woff": r,
                    ".svg": r,
                    ".ttc": r,
                    ".mp4": C,
                    ".avi": C,
                    ".mov": C,
                    ".mpg": C,
                    ".mpeg": C,
                    ".rm": C,
                    ".rmvb": C,
                    ".binary": b,
                    ".bin": b,
                    ".dbbin": b,
                    ".skel": b,
                    ".js": l,
                    bundle: function (t, e, i) {
                        var n = cc.path.basename(t), r = t;
                        m.test(r) || (r = "assets/" + n);
                        var s = e.version || N.bundleVers[n], a = 0, o = null, c = null;
                        A(r + "/config." + (s ? s + "." : "") + "json", e, (function (t, e) {
                            t && (c = t), (o = e) && (o.base = r + "/"), 2 == ++a && i(c, o)
                        })), l(r + "/index." + (s ? s + "." : "") + "js", e, (function (t) {
                            t && (c = t), 2 == ++a && i(c, o)
                        }))
                    },
                    default: x
                };
            N._downloaders = F, e.exports = N
        }), {
            "../CCDebug": 36,
            "../platform/CCSys": 176,
            "../platform/js": 188,
            "../platform/utils": 191,
            "./cache": 46,
            "./download-dom-audio": 51,
            "./download-dom-image": 52,
            "./download-file": 53,
            "./download-script.js": 54,
            "./font-loader": 58,
            "./shared": 68,
            "./utilities": 71
        }],
        56: [(function (t, e) {
            "use strict";
            var i = t("./bundle"), n = t("./cache"), r = t("./shared"), s = r.assets, a = r.bundles, o = new n;

            function c(t, e, i, n) {
                var r = null, s = null;
                try {
                    (r = new cc.Texture2D)._nativeUrl = t, r._nativeAsset = e
                } catch (a) {
                    s = a
                }
                n && n(s, r)
            }

            function l(t, e, i, n) {
                var r = new cc.AudioClip;
                r._nativeUrl = t, r._nativeAsset = e, r.duration = e.duration, n && n(null, r)
            }

            function h(t, e, i, n) {
                var r = new cc.VideoClip;
                r._nativeUrl = t, r._nativeAsset = e, n && n(null, r)
            }

            function u(t, e, i, n) {
                var r = new cc.JsonAsset;
                r.json = e, n && n(null, r)
            }

            function f(t, e, i, n) {
                var r = new cc.TextAsset;
                r.text = e, n && n(null, r)
            }

            function d(t, e, i, n) {
                var r = new cc.TTFFont;
                r._nativeUrl = t, r._nativeAsset = e, n && n(null, r)
            }

            function _(t, e, i, n) {
                var r = new cc.BufferAsset;
                r._nativeUrl = t, r._nativeAsset = e, n && n(null, r)
            }

            var p = {
                register: function (t, e) {
                    "object" == typeof t ? cc.js.mixin(v, t) : v[t] = e
                }, create: function (t, e, i, n, r) {
                    var a, c, l = v[i] || v.default;
                    (a = s.get(t)) ? r(null, a) : (c = o.get(t)) ? c.push(r) : (o.add(t, [r]), l(t, e, n, (function (e, i) {
                        !e && i instanceof cc.Asset && (i._uuid = t, s.add(t, i));
                        for (var n = o.remove(t), r = 0, a = n.length; r < a; r++) n[r](e, i)
                    })))
                }
            }, v = {
                ".png": c,
                ".jpg": c,
                ".bmp": c,
                ".jpeg": c,
                ".gif": c,
                ".ico": c,
                ".tiff": c,
                ".webp": c,
                ".image": c,
                ".pvr": c,
                ".pkm": c,
                ".mp3": l,
                ".ogg": l,
                ".wav": l,
                ".m4a": l,
                ".mp4": h,
                ".avi": h,
                ".mov": h,
                ".mpg": h,
                ".mpeg": h,
                ".rm": h,
                ".rmvb": h,
                ".txt": f,
                ".xml": f,
                ".vsh": f,
                ".fsh": f,
                ".atlas": f,
                ".tmx": f,
                ".tsx": f,
                ".fnt": f,
                ".json": u,
                ".ExportJson": u,
                ".font": d,
                ".eot": d,
                ".ttf": d,
                ".woff": d,
                ".svg": d,
                ".ttc": d,
                ".binary": _,
                ".bin": _,
                ".dbbin": _,
                ".skel": _,
                bundle: function (t, e, n, r) {
                    var s = a.get(e.name);
                    s || (s = new i, e.base = e.base || t + "/", s.init(e)), r && r(null, s)
                },
                default: function (t, e, i, n) {
                    var r = new cc.Asset;
                    r._nativeUrl = t, r._nativeAsset = e, n && n(null, r)
                }
            };
            e.exports = p
        }), {"./bundle": 45, "./cache": 46, "./shared": 68}],
        57: [(function (t, e) {
            "use strict";
            var i = t("./pack-manager"), n = t("./task"), r = t("./utilities"), s = r.getDepends, a = r.clear,
                o = r.forEach, c = t("./shared"), l = c.assets, h = c.fetchPipeline;

            function u(t) {
                for (var e = t.output, i = 0, n = e.length; i < n; i++) e[i].content && e[i].content.decRef(!1)
            }

            function f(t, e, i, n, r, a, o) {
                var c = e.options.__exclude__, l = e.progress;
                t.content = i, t.file = n, e.output.push(t), r && (c[t.uuid] = !0, s(t.uuid, n || i, c, a, !0, !1, t.config), l.total = o + a.length), l.canInvoke && e.dispatch("progress", ++l.finish, l.total, t)
            }

            e.exports = function (t, e) {
                var r = !1;
                t.progress || (t.progress = {finish: 0, total: t.input.length, canInvoke: !0}, r = !0);
                var s = t.options, c = [], d = t.progress, _ = d.total;
                s.__exclude__ = s.__exclude__ || Object.create(null), t.output = [], o(t.input, (function (n, s) {
                    if (!n.isNative && l.has(n.uuid)) {
                        var a = l.get(n.uuid);
                        return a.addRef(), f(n, t, a, null, a.__asyncLoadAssets__, c, _), s()
                    }
                    i.load(n, t.options, (function (i, a) {
                        i ? t.isFinish || (!cc.assetManager.force || r ? (cc.error(i.message, i.stack), d.canInvoke = !1, e(i)) : f(n, t, null, null, !1, c, _)) : t.isFinish || f(n, t, null, a, !n.isNative, c, _), s()
                    }))
                }), (function () {
                    if (t.isFinish) return a(t, !0), t.dispatch("error");
                    if (c.length > 0) {
                        var i = n.create({
                            name: t.name + " dependencies",
                            input: c,
                            progress: d,
                            options: s,
                            onProgress: t.onProgress,
                            onError: n.prototype.recycle,
                            onComplete: function (n) {
                                n || (t.output.push.apply(t.output, this.output), i.recycle()), r && u(t), e(n)
                            }
                        });
                        h.async(i)
                    } else r && u(t), e()
                }))
            }
        }), {"./pack-manager": 62, "./shared": 68, "./task": 69, "./utilities": 71}],
        58: [(function (t, e) {
            "use strict";
            var i, n = t("../utils/text-utils"), r = null, s = "BES bswy:->@123\u4e01\u3041\u1101",
                a = Object.create(null), o = -1, c = [], l = 3e3, h = (i = void 0, function () {
                    if (void 0 === i) if (window.FontFace) {
                        var t = /Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),
                            e = /OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent) && /Apple/.exec(window.navigator.vendor);
                        i = t ? parseInt(t[1], 10) > 42 : !e
                    } else i = !1;
                    return i
                });

            function u() {
                for (var t = !0, e = Date.now(), i = c.length - 1; i >= 0; i--) {
                    var a = c[i], h = a.fontFamilyName;
                    if (e - a.startTime > l) cc.warnID(4933, h), a.onComplete(null, h), c.splice(i, 1); else {
                        var u = a.refWidth, f = "40px " + h;
                        r.font = f, u !== n.safeMeasureText(r, s, f) ? (c.splice(i, 1), a.onComplete(null, h)) : t = !1
                    }
                }
                t && (clearInterval(o), o = -1)
            }

            var f = {
                loadFont: function (t, e, i) {
                    var d = f._getFontFamily(t);
                    if (a[d]) return i(null, d);
                    if (!r) {
                        var _ = document.createElement("canvas");
                        _.width = 100, _.height = 100, r = _.getContext("2d")
                    }
                    var p = "40px " + d;
                    r.font = p;
                    var v = n.safeMeasureText(r, s, p), g = document.createElement("style");
                    g.type = "text/css";
                    var m = "";
                    isNaN(d - 0) ? m += "@font-face { font-family:" + d + "; src:" : m += "@font-face { font-family:'" + d + "'; src:", m += "url('" + t + "');", g.textContent = m + "}", document.body.appendChild(g);
                    var y, T, E, A, b, x, C = document.createElement("div"), S = C.style;
                    if (S.fontFamily = d, C.innerHTML = ".", S.position = "absolute", S.left = "-100px", S.top = "-100px", document.body.appendChild(C), h()) y = Date.now(), T = d, E = i, A = new Promise(function (t, e) {
                        (function i() {
                            Date.now() - y >= l ? e() : document.fonts.load("40px " + T).then((function (e) {
                                e.length >= 1 ? t() : setTimeout(i, 100)
                            }), (function () {
                                e()
                            }))
                        })()
                    }), b = null, x = new Promise(function (t, e) {
                        b = setTimeout(e, l)
                    }), Promise.race([x, A]).then((function () {
                        b && (clearTimeout(b), b = null), E(null, T)
                    }), (function () {
                        cc.warnID(4933, T), E(null, T)
                    })); else {
                        var w = {fontFamilyName: d, refWidth: v, onComplete: i, startTime: Date.now()};
                        c.push(w), -1 === o && (o = setInterval(u, 100))
                    }
                    a[d] = g
                }, _getFontFamily: function (t) {
                    var e = t.lastIndexOf(".ttf");
                    if (-1 === e) return t;
                    var i, n = t.lastIndexOf("/");
                    return -1 !== (i = -1 === n ? t.substring(0, e) + "_LABEL" : t.substring(n + 1, e) + "_LABEL").indexOf(" ") && (i = '"' + i + '"'), i
                }
            };
            e.exports = f
        }), {"../utils/text-utils": 257}],
        59: [(function (t, e) {
            "use strict";
            var i, n = t("./shared").bundles, r = {
                decodeUuid: t("../utils/decode-uuid"),
                getUuidFromURL: (i = /.*[/\\][0-9a-fA-F]{2}[/\\]([0-9a-fA-F-]{8,})/, function (t) {
                    var e = t.match(i);
                    return e ? e[1] : ""
                }),
                getUrlWithUuid: function (t, e) {
                    (e = e || Object.create(null)).__isNative__ = e.isNative, e.ext = e.nativeExt;
                    var i = n.find((function (e) {
                        return e.getAssetInfo(t)
                    }));
                    return i && (e.bundle = i.name), cc.assetManager._transform(t, e)
                },
                isScene: function (t) {
                    return t && (t.constructor === cc.SceneAsset || t instanceof cc.Scene)
                },
                normalize: function (t) {
                    return t && (46 === t.charCodeAt(0) && 47 === t.charCodeAt(1) ? t = t.slice(2) : 47 === t.charCodeAt(0) && (t = t.slice(1))), t
                }
            };
            e.exports = r
        }), {"../utils/decode-uuid": 245, "./shared": 68}],
        60: [(function (t) {
            "use strict";
            t("./deprecated"), t("./CCAssetManager")
        }), {"./CCAssetManager": 43, "./deprecated": 49}],
        61: [(function (t, e) {
            "use strict";
            var i = t("./pack-manager"), n = t("./pipeline"), r = t("./parser"), s = t("./utilities"), a = s.getDepends,
                o = s.cache, c = s.gatherAsset, l = s.setProperties, h = s.forEach, u = s.clear,
                f = s.checkCircleReference, d = t("./shared"), _ = d.assets, p = d.files, v = d.parsed, g = d.pipeline,
                m = t("./task"), y = new n("loadOneAsset", [function (t, e) {
                    var n = t.output = t.input, r = n.options, s = n.isNative, a = n.uuid, o = n.file, c = r.reload;
                    if (o || !c && !s && _.has(a)) return e();
                    t.onProgress && (t.options.onFileProgress = t.onProgress), i.load(n, t.options, (function (t, i) {
                        n.file = i, e(t)
                    }))
                }, function (t, e) {
                    var i = t.output = t.input, n = t.progress, s = t.options.__exclude__, a = i.id, o = i.file,
                        c = i.options;
                    if (i.isNative) r.parse(a, o, i.ext, c, (function (r, s) {
                        if (r) return e(r);
                        i.content = s, n.canInvoke && t.dispatch("progress", ++n.finish, n.total, i), p.remove(a), v.remove(a), e()
                    })); else {
                        var l = i.uuid;
                        if (l in s) {
                            var h = s[l], u = h.finish, d = h.content, g = h.err, m = h.callbacks;
                            n.canInvoke && t.dispatch("progress", ++n.finish, n.total, i), u || f(l, l, s) ? (d && d.addRef && d.addRef(), i.content = d, e(g)) : m.push({
                                done: e,
                                item: i
                            })
                        } else if (!c.reload && _.has(l)) {
                            var y = _.get(l);
                            c.__asyncLoadAssets__ || !y.__asyncLoadAssets__ ? (i.content = y.addRef(), n.canInvoke && t.dispatch("progress", ++n.finish, n.total, i), e()) : T(t, y, e, !1)
                        } else r.parse(a, o, "import", c, (function (i, n) {
                            if (i) return e(i);
                            n._uuid = l, T(t, n, e, !0)
                        }))
                    }
                }]);

            function T(t, e, i, n) {
                var r = t.input, s = t.progress, c = r.uuid, h = r.id, u = r.options, f = r.config,
                    d = u.__asyncLoadAssets__, _ = u.cacheAsset, y = [];
                e.addRef && e.addRef(), a(c, e, Object.create(null), y, !1, d, f), s.canInvoke && t.dispatch("progress", ++s.finish, s.total += y.length, r);
                var T = t.options.__exclude__[c] = {content: e, finish: !1, callbacks: [{done: i, item: r}]},
                    E = m.create({
                        input: y,
                        options: t.options,
                        onProgress: t.onProgress,
                        onError: m.prototype.recycle,
                        progress: s,
                        onComplete: function (t) {
                            if (e.decRef && e.decRef(!1), e.__asyncLoadAssets__ = d, T.finish = !0, T.err = t, !t) {
                                for (var i = Array.isArray(E.output) ? E.output : [E.output], r = Object.create(null), s = 0, a = i.length; s < a; s++) {
                                    var u = i[s];
                                    u && (r[u instanceof cc.Asset ? u._uuid + "@import" : c + "@native"] = u)
                                }
                                if (n) {
                                    if (!l(c, e, r) && !e.__onLoadInvoked__) try {
                                        e.onLoad && e.onLoad(), e.__onLoadInvoked__ = !0
                                    } catch (A) {
                                        cc.error(A.message, A.stack)
                                    }
                                    p.remove(h), v.remove(h), o(c, e, void 0 !== _ ? _ : cc.assetManager.cacheAsset)
                                } else if (e.__nativeDepend__ && !e._nativeAsset && !l(c, e, r) && !e.__onLoadInvoked__) try {
                                    e.onLoad && e.onLoad(), e.__onLoadInvoked__ = !0
                                } catch (A) {
                                    cc.error(A.message, A.stack)
                                }
                                E.recycle()
                            }
                            for (var f = T.callbacks, g = 0, m = f.length; g < m; g++) {
                                var y = f[g];
                                e.addRef && e.addRef(), y.item.content = e, y.done(t)
                            }
                            f.length = 0
                        }
                    });
                g.async(E)
            }

            e.exports = function (t, e) {
                var i = !1;
                t.progress || (t.progress = {finish: 0, total: t.input.length, canInvoke: !0}, i = !0);
                var n = t.options, r = t.progress;
                n.__exclude__ = n.__exclude__ || Object.create(null), t.output = [], h(t.input, (function (s, a) {
                    var o = m.create({
                        input: s,
                        onProgress: t.onProgress,
                        options: n,
                        progress: r,
                        onComplete: function (n, s) {
                            n && !t.isFinish && (!cc.assetManager.force || i ? (cc.error(n.message, n.stack), r.canInvoke = !1, e(n)) : r.canInvoke && t.dispatch("progress", ++r.finish, r.total, s)), t.output.push(s), o.recycle(), a()
                        }
                    });
                    y.async(o)
                }), (function () {
                    if (n.__exclude__ = null, t.isFinish) return u(t, !0), t.dispatch("error");
                    c(t), u(t, !0), e()
                }))
            }
        }), {"./pack-manager": 62, "./parser": 63, "./pipeline": 64, "./shared": 68, "./task": 69, "./utilities": 71}],
        62: [(function (t, e) {
            "use strict";
            var i = t("../platform/deserialize-compiled"), n = t("./downloader"), r = t("./cache"),
                s = t("../platform/js"), a = t("./shared").files, o = new r;

            function c(t) {
                return o.has(t.uuid)
            }

            var l = {
                unpackJson: function (t, e, n, r) {
                    var a = s.createMap(!0), o = null;
                    if (Array.isArray(e)) {
                        (e = (0, i.unpackJSONs)(e)).length !== t.length && cc.errorID(4915);
                        for (var c = 0; c < t.length; c++) a[t[c] + "@import"] = e[c]
                    } else {
                        var l = s._getClassId(cc.Texture2D);
                        if (e.type === l) {
                            if (e.data) {
                                var h = e.data.split("|");
                                h.length !== t.length && cc.errorID(4915);
                                for (var u = 0; u < t.length; u++) a[t[u] + "@import"] = (0, i.packCustomObjData)(l, h[u], !0)
                            }
                        } else o = new Error("unmatched type pack!"), a = null
                    }
                    r && r(o, a)
                }, init: function () {
                    o.clear()
                }, register: function (t, e) {
                    "object" == typeof t ? s.mixin(h, t) : h[t] = e
                }, unpack: function (t, e, i, n, r) {
                    e ? (0, h[i])(t, e, n, r) : r && r(new Error("package data is wrong!"))
                }, load: function (t, e, i) {
                    if (e.onFileProgress && t && t.options && (t.options.onFileProgress = e.onFileProgress), t.isNative || !t.info || !t.info.packs) return n.download(t.id, t.url, t.ext, t.options, i);
                    if (a.has(t.id)) return i(null, a.get(t.id));
                    var r = t.info.packs, s = r.find(c);
                    if (s) return o.get(s.uuid).push({onComplete: i, id: t.id});
                    s = r[0], o.add(s.uuid, [{onComplete: i, id: t.id}]);
                    var h = cc.assetManager._transform(s.uuid, {ext: s.ext, bundle: t.config.name});
                    n.download(s.uuid, h, s.ext, t.options, (function (e, i) {
                        a.remove(s.uuid), e && cc.error(e.message, e.stack), l.unpack(s.packs, i, s.ext, t.options, (function (t, e) {
                            if (t) t.message = "unpack " + h + " failed! details: " + t.message; else for (var i in e) a.add(i, e[i]);
                            for (var n = o.remove(s.uuid), r = 0, c = n.length; r < c; r++) {
                                var l = n[r];
                                if (t) l.onComplete(t); else {
                                    var u = e[l.id];
                                    u ? l.onComplete(null, u) : l.onComplete(new Error("can not retrieve data from package"))
                                }
                            }
                        }))
                    }))
                }
            }, h = {".json": l.unpackJson};
            e.exports = l
        }), {
            "../platform/deserialize-compiled": 182,
            "../platform/js": 188,
            "./cache": 46,
            "./downloader": 55,
            "./shared": 68
        }],
        63: [(function (t, e) {
            "use strict";
            var i = t("../platform/CCSAXParser").plistParser, n = t("../platform/js"), r = t("./deserialize"),
                s = t("./cache"), a = t("./helper").isScene, o = t("./shared"), c = o.parsed, l = o.files,
                h = t("../platform/CCSys"), u = h.__audioSupport, f = h.capabilities, d = new s, _ = [];
            _.push(/Error: ERROR 4930.*Arguments:\s+(?:(wxfile.*)|(http.*))/gm), _.push(/readFile:fail\s+(?:(wxfile.*)|(http.*))\s+/gm);
            var p = {
                parseImage: function (t, e, i) {
                    if (f.imageBitmap && t instanceof Blob) {
                        var n = {};
                        n.imageOrientation = e.__flipY__ ? "flipY" : "none", n.premultiplyAlpha = e.__premultiplyAlpha__ ? "premultiply" : "none", createImageBitmap(t, n).then((function (t) {
                            t.flipY = !!e.__flipY__, t.premultiplyAlpha = !!e.__premultiplyAlpha__, i && i(null, t)
                        }), (function (t) {
                            i && i(t, null)
                        }))
                    } else i && i(null, t)
                }, parseAudio: function (t, e, i) {
                    t instanceof ArrayBuffer ? u.context.decodeAudioData(t, (function (t) {
                        i && i(null, t)
                    }), (function (t) {
                        i && i(t, null)
                    })) : i && i(null, t)
                }, parsePVRTex: function (t, e, i) {
                    var n = null, r = null;
                    try {
                        var s = t instanceof ArrayBuffer ? t : t.buffer, a = new Int32Array(s, 0, 13);
                        if (55727696 != a[0]) throw new Error("Invalid magic number in PVR header");
                        var o = a[7], c = a[6], l = a[12] + 52;
                        r = {_data: new Uint8Array(s, l), _compressed: !0, width: o, height: c}
                    } catch (h) {
                        n = h
                    }
                    i && i(n, r)
                }, parsePKMTex: (function () {
                    function t(t, e) {
                        return t[e] << 8 | t[e + 1]
                    }

                    return function (e, i, n) {
                        var r = null, s = null;
                        try {
                            var a = e instanceof ArrayBuffer ? e : e.buffer, o = new Uint8Array(a), c = t(o, 6);
                            if (0 !== c && 1 !== c && 3 !== c) return new Error("Invalid magic number in ETC header");
                            var l = t(o, 12), h = t(o, 14);
                            t(o, 8), t(o, 10), s = {_data: new Uint8Array(a, 16), _compressed: !0, width: l, height: h}
                        } catch (u) {
                            r = u
                        }
                        n && n(r, s)
                    }
                })(), parsePlist: function (t, e, n) {
                    var r = null, s = i.parse(t);
                    s || (r = new Error("parse failed")), n && n(r, s)
                }, parseImport: function (t, e, i) {
                    if (!t) return i && i(new Error("Json is empty"));
                    var n, s = null;
                    try {
                        n = r(t, e)
                    } catch (a) {
                        s = a
                    }
                    i && i(s, n)
                }, init: function () {
                    d.clear()
                }, register: function (t, e) {
                    "object" == typeof t ? n.mixin(v, t) : v[t] = e
                }, parse: function (t, e, i, n, r) {
                    var s, o, h;
                    (s = c.get(t)) ? r(null, s) : (o = d.get(t)) ? o.push(r) : (h = v[i]) ? (d.add(t, [r]), h(e, n, (function (e, i) {
                        if (e) {
                            l.remove(t);
                            var n = e.toString && e.toString();
                            if (n) for (var r = 0; r < _.length; r++) {
                                var s = _[r].exec(n);
                                if (s && s.length > 1) {
                                    var o = s[1] || s[2], h = cc.assetManager.cacheManager.cachedFiles, u = h && h._map;
                                    if (u) for (var f in u) {
                                        if (u[f].url === o) {
                                            cc.assetManager.cacheManager.removeCache(f);
                                            break
                                        }
                                        if (-1 !== t.indexOf(f)) {
                                            cc.assetManager.cacheManager.removeCache(f);
                                            break
                                        }
                                    }
                                }
                            }
                        } else a(i) || c.add(t, i);
                        for (var p = d.remove(t), v = 0, g = p.length; v < g; v++) p[v](e, i)
                    }))) : r(null, e)
                }
            }, v = {
                ".png": p.parseImage,
                ".jpg": p.parseImage,
                ".bmp": p.parseImage,
                ".jpeg": p.parseImage,
                ".gif": p.parseImage,
                ".ico": p.parseImage,
                ".tiff": p.parseImage,
                ".webp": p.parseImage,
                ".image": p.parseImage,
                ".pvr": p.parsePVRTex,
                ".pkm": p.parsePKMTex,
                ".mp3": p.parseAudio,
                ".ogg": p.parseAudio,
                ".wav": p.parseAudio,
                ".m4a": p.parseAudio,
                ".plist": p.parsePlist,
                import: p.parseImport
            };
            e.exports = p
        }), {
            "../platform/CCSAXParser": 174,
            "../platform/CCSys": 176,
            "../platform/js": 188,
            "./cache": 46,
            "./deserialize": 50,
            "./helper": 59,
            "./shared": 68
        }],
        64: [(function (t, e) {
            "use strict";
            var i = t("./task"), n = 0;

            function r(t, e) {
                if (Array.isArray(e)) {
                    this.id = n++, this.name = t, this.pipes = [];
                    for (var i = 0, r = e.length; i < r; i++) "function" == typeof e[i] && this.pipes.push(e[i])
                } else cc.warn("funcs must be an array")
            }

            r.prototype = {
                constructor: r, insert: function (t, e) {
                    if (!("function" != typeof t || e > this.pipes.length)) return this.pipes.splice(e, 0, t), this;
                    cc.warnID(4921)
                }, append: function (t) {
                    if ("function" == typeof t) return this.pipes.push(t), this
                }, remove: function (t) {
                    if ("number" == typeof t) return this.pipes.splice(t, 1), this
                }, sync: function (t) {
                    var e = this.pipes;
                    if (t instanceof i && 0 !== e.length) {
                        null != t.output && (t.input = t.output, t.output = null), t._isFinish = !1;
                        for (var n = 0, r = e.length; n < r;) {
                            var s = (0, e[n])(t);
                            if (s) return t._isFinish = !0, s;
                            ++n !== r && (t.input = t.output, t.output = null)
                        }
                        return t._isFinish = !0, t.output
                    }
                }, async: function (t) {
                    var e = this.pipes;
                    t instanceof i && 0 !== e.length && (null != t.output && (t.input = t.output, t.output = null), t._isFinish = !1, this._flow(0, t))
                }, _flow: function (t, e) {
                    var i = this;
                    (0, this.pipes[t])(e, (function (n) {
                        n ? (e._isFinish = !0, e.onComplete && e.onComplete(n)) : ++t < i.pipes.length ? (e.input = e.output, e.output = null, i._flow(t, e)) : (e._isFinish = !0, e.onComplete && e.onComplete(n, e.output))
                    }))
                }
            }, e.exports = r
        }), {"./task": 69}],
        65: [(function (t, e) {
            "use strict";
            var i = t("./task"), n = t("./shared"), r = n.transformPipeline, s = n.RequestType;
            e.exports = function (t, e) {
                var n = t.options, a = Object.create(null), o = Object.create(null);
                for (var c in n) switch (c) {
                    case s.PATH:
                    case s.UUID:
                    case s.DIR:
                    case s.SCENE:
                    case s.URL:
                        break;
                    case"__requestType__":
                    case"__isNative__":
                    case"ext":
                    case"type":
                    case"__nativeName__":
                    case"audioLoadMode":
                    case"bundle":
                        a[c] = n[c];
                        break;
                    case"__exclude__":
                    case"__outputAsArray__":
                        o[c] = n[c];
                        break;
                    default:
                        a[c] = n[c], o[c] = n[c]
                }
                t.options = o;
                var l = i.create({input: t.input, options: a}), h = null;
                try {
                    t.output = t.source = r.sync(l)
                } catch (d) {
                    h = d;
                    for (var u = 0, f = l.output.length; u < f; u++) l.output[u].recycle()
                }
                l.recycle(), e(h)
            }
        }), {"./shared": 68, "./task": 69}],
        66: [(function (t, e) {
            "use strict";
            var i = t("./depend-util"), n = t("./cache");
            t("../assets/CCAsset");
            var r = t("./shared").assets, s = t("../platform/utils").callInNextTick;

            function a(t, e) {
                t._uuid && e.push(t._uuid)
            }

            function o(t, e) {
                for (var i = Object.getOwnPropertyNames(t), n = 0; n < i.length; n++) {
                    var r = i[n];
                    if ("node" !== r && "__eventTargets" !== r) {
                        var s = t[r];
                        if ("object" == typeof s && s) if (Array.isArray(s)) for (var o = 0; o < s.length; o++) {
                            var c = s[o];
                            c instanceof cc.Asset && a(c, e)
                        } else if (s.constructor && s.constructor !== Object) s instanceof cc.Asset && a(s, e); else for (var l = Object.getOwnPropertyNames(s), h = 0; h < l.length; h++) {
                            var u = s[l[h]];
                            u instanceof cc.Asset && a(u, e)
                        }
                    }
                }
            }

            var c = [];

            function l(t, e) {
                for (var i = 0; i < t._components.length; i++) o(t._components[i], e);
                for (var n = 0; n < t._children.length; n++) l(t._children[n], e)
            }

            function h(t, e, n, s) {
                n.push(t._uuid);
                for (var a = i.getDeps(t._uuid), o = 0, c = a.length; o < c; o++) {
                    var l = r.get(a[o]);
                    if (l) {
                        var u = l._uuid;
                        if (u in e ? e[u] += s : e[u] = l.refCount + s, n.includes(u)) continue;
                        h(l, e, n, s)
                    }
                }
            }

            function u(t) {
                var e = Object.create(null);
                if (e[t._uuid] = t.refCount, h(t, e, c, -1), c.length = 0, 0 !== e[t._uuid]) return e[t._uuid];
                for (var i in e) 0 !== e[i] && h(r.get(i), e, c, 1);
                return c.length = 0, e[t._uuid]
            }

            var f = new n, d = new n, _ = !1;

            function p() {
                _ = !1, d.forEach((function (t) {
                    v._free(t)
                })), d.clear()
            }

            var v = {
                init: function () {
                    f.clear(), d.clear()
                }, _addPersistNodeRef: function (t) {
                    var e = [];
                    l(t, e);
                    for (var i = 0, n = e.length; i < n; i++) {
                        var s = r.get(e[i]);
                        s && s.addRef()
                    }
                    f.add(t.uuid, e)
                }, _removePersistNodeRef: function (t) {
                    if (f.has(t.uuid)) {
                        for (var e = f.get(t.uuid), i = 0, n = e.length; i < n; i++) {
                            var s = r.get(e[i]);
                            s && s.decRef()
                        }
                        f.remove(t.uuid)
                    }
                }, _autoRelease: function (t, e, n) {
                    if (t) {
                        for (var s = i.getDeps(t._id), a = 0, o = s.length; a < o; a++) {
                            var c = r.get(s[a]);
                            c && c.decRef(t.autoReleaseAssets)
                        }
                        var l = i._depends.get(t._id);
                        if (l && l.persistDeps) for (var h = l.persistDeps, u = 0, d = h.length; u < d; u++) {
                            var _ = r.get(h[u]);
                            _ && _.decRef(t.autoReleaseAssets)
                        }
                        t._id !== e._id && i.remove(t._id)
                    }
                    var p = i._depends.get(e._id);
                    for (var v in p && (p.persistDeps = []), n) {
                        for (var g = n[v], m = f.get(g.uuid), y = 0, T = m.length; y < T; y++) {
                            var E = r.get(m[y]);
                            E && E.addRef()
                        }
                        p && p.persistDeps.push.apply(p.persistDeps, m)
                    }
                }, _free: function (t, e) {
                    if (d.remove(t._uuid), cc.isValid(t, !0) && !(!e && t.refCount > 0 && u(t) > 0)) {
                        r.remove(t._uuid);
                        for (var n = i.getDeps(t._uuid), s = 0, a = n.length; s < a; s++) {
                            var o = r.get(n[s]);
                            o && (o.decRef(!1), v._free(o, !1))
                        }
                        t.destroy(), i.remove(t._uuid)
                    }
                }, tryRelease: function (t, e) {
                    t instanceof cc.Asset && (e ? v._free(t, e) : (d.add(t._uuid, t), _ || (_ = !0, s(p))))
                }
            };
            e.exports = v
        }), {"../assets/CCAsset": 72, "../platform/utils": 191, "./cache": 46, "./depend-util": 48, "./shared": 68}],
        67: [(function (t, e) {
            "use strict";
            var i = [];

            function n() {
                this._id = "", this.uuid = "", this.url = "", this.ext = ".json", this.content = null, this.file = null, this.info = null, this.config = null, this.isNative = !1, this.options = Object.create(null)
            }

            n.prototype = {
                constructor: n, get id() {
                    return this._id || (this._id = this.uuid + "@" + (this.isNative ? "native" : "import")), this._id
                }, recycle: function () {
                    500 !== i.length && (this._id = "", this.uuid = "", this.url = "", this.ext = ".json", this.content = null, this.file = null, this.info = null, this.config = null, this.isNative = !1, this.options = Object.create(null), i.push(this))
                }
            }, n.create = function () {
                return 0 !== i.length ? i.pop() : new n
            }, e.exports = n
        }), {}],
        68: [(function (t, e) {
            "use strict";
            var i = t("./cache"), n = t("./pipeline"), r = new i, s = new i, a = new i, o = new i,
                c = new n("normal load", []), l = new n("fetch", []), h = new n("transform url", []);
            e.exports = {
                assets: r,
                files: s,
                parsed: a,
                pipeline: c,
                fetchPipeline: l,
                transformPipeline: h,
                RequestType: {UUID: "uuid", PATH: "path", DIR: "dir", URL: "url", SCENE: "scene"},
                bundles: o,
                BuiltinBundleName: {
                    RESOURCES: "resources",
                    INTERNAL: "internal",
                    MAIN: "main",
                    START_SCENE: "start-scene"
                }
            }
        }), {"./cache": 46, "./pipeline": 64}],
        69: [(function (t, e) {
            "use strict";
            var i = 0, n = [];

            function r(t) {
                this.id = i++, this._isFinish = !0, this.onComplete = null, this.onProgress = null, this.onError = null, this.source = null, this.output = null, this.input = null, this.progress = null, this.options = null, this.set(t)
            }

            r.prototype = {
                constructor: r, set: function (t) {
                    t = t || Object.create(null), this.onComplete = t.onComplete, this.onProgress = t.onProgress, this.onError = t.onError, this.source = this.input = t.input, this.output = null, this.progress = t.progress, this.options = t.options || Object.create(null)
                }, dispatch: function (t, e, i, n, r) {
                    switch (t) {
                        case"complete":
                            this.onComplete && this.onComplete(e, i, n, r);
                            break;
                        case"progress":
                            this.onProgress && this.onProgress(e, i, n, r);
                            break;
                        case"error":
                            this.onError && this.onError(e, i, n, r);
                            break;
                        default:
                            var s = "on" + t[0].toUpperCase() + t.substr(1);
                            "function" == typeof this[s] && this[s](e, i, n, r)
                    }
                }, recycle: function () {
                    500 !== n.length && (this.onComplete = null, this.onProgress = null, this.onError = null, this.source = this.output = this.input = null, this.progress = null, this.options = null, n.push(this))
                }, get isFinish() {
                    return this._isFinish
                }
            }, r.create = function (t) {
                var e = null;
                return 0 !== n.length ? (e = n.pop()).set(t) : e = new r(t), e
            }, e.exports = r
        }), {}],
        70: [(function (t, e) {
            "use strict";
            var i = t("./helper").decodeUuid, n = t("./request-item"), r = t("./shared"), s = r.RequestType,
                a = r.bundles;
            e.exports = {
                parse: function (t) {
                    var e = t.input, r = t.options;
                    e = Array.isArray(e) ? e : [e], t.output = [];
                    for (var o = 0; o < e.length; o++) {
                        var c = e[o], l = n.create();
                        if ("string" == typeof c && ((c = Object.create(null))[r.__requestType__ || s.UUID] = e[o]), "object" == typeof c) for (var h in cc.js.addon(c, r), c.preset && cc.js.addon(c, cc.assetManager.presets[c.preset]), c) {
                            switch (h) {
                                case s.UUID:
                                    var u = l.uuid = i(c.uuid);
                                    if (a.has(c.bundle)) {
                                        if ((p = (v = a.get(c.bundle)._config).getAssetInfo(u)) && p.redirect) {
                                            if (!a.has(p.redirect)) throw new Error("Please load bundle " + p.redirect + " first");
                                            p = (v = a.get(p.redirect)._config).getAssetInfo(u)
                                        }
                                        l.config = v, l.info = p
                                    }
                                    l.ext = c.ext || ".json";
                                    break;
                                case"__requestType__":
                                case"ext":
                                case"bundle":
                                case"preset":
                                case"type":
                                    break;
                                case s.DIR:
                                    if (a.has(c.bundle)) {
                                        var f = [];
                                        a.get(c.bundle)._config.getDirWithPath(c.dir, c.type, f);
                                        for (var d = 0, _ = f.length; d < _; d++) {
                                            var p = f[d];
                                            e.push({uuid: p.uuid, __isNative__: !1, ext: ".json", bundle: c.bundle})
                                        }
                                    }
                                    l.recycle(), l = null;
                                    break;
                                case s.PATH:
                                    if (a.has(c.bundle)) {
                                        if ((p = (v = a.get(c.bundle)._config).getInfoWithPath(c.path, c.type)) && p.redirect) {
                                            if (!a.has(p.redirect)) throw new Error("you need to load bundle " + p.redirect + " first");
                                            p = (v = a.get(p.redirect)._config).getAssetInfo(p.uuid)
                                        }
                                        if (!p) throw l.recycle(), new Error("Bundle " + c.bundle + " doesn't contain " + c.path);
                                        l.config = v, l.uuid = p.uuid, l.info = p
                                    }
                                    l.ext = c.ext || ".json";
                                    break;
                                case s.SCENE:
                                    if (a.has(c.bundle)) {
                                        var v;
                                        if ((p = (v = a.get(c.bundle)._config).getSceneInfo(c.scene)) && p.redirect) {
                                            if (!a.has(p.redirect)) throw new Error("you need to load bundle " + p.redirect + " first");
                                            p = (v = a.get(p.redirect)._config).getAssetInfo(p.uuid)
                                        }
                                        if (!p) throw l.recycle(), new Error("Bundle " + v.name + " doesn't contain scene " + c.scene);
                                        l.config = v, l.uuid = p.uuid, l.info = p
                                    }
                                    break;
                                case"__isNative__":
                                    l.isNative = c.__isNative__;
                                    break;
                                case s.URL:
                                    l.url = c.url, l.uuid = c.uuid || c.url, l.ext = c.ext || cc.path.extname(c.url), l.isNative = void 0 === c.__isNative__ || c.__isNative__;
                                    break;
                                default:
                                    l.options[h] = c[h]
                            }
                            if (!l) break
                        }
                        if (l && (t.output.push(l), !l.uuid && !l.url)) throw new Error("Can not parse this input:" + JSON.stringify(c))
                    }
                    return null
                }, combine: function (t) {
                    for (var e = t.output = t.input, i = 0; i < e.length; i++) {
                        var n = e[i];
                        if (!n.url) {
                            var r, s, a = n.config;
                            s = n.isNative ? a && a.nativeBase ? a.base + a.nativeBase : cc.assetManager.generalNativeBase : a && a.importBase ? a.base + a.importBase : cc.assetManager.generalImportBase;
                            var o = n.uuid, c = "";
                            n.info && (c = n.isNative ? n.info.nativeVer ? "." + n.info.nativeVer : "" : n.info.ver ? "." + n.info.ver : ""), r = ".ttf" === n.ext ? s + "/" + o.slice(0, 2) + "/" + o + c + "/" + n.options.__nativeName__ : s + "/" + o.slice(0, 2) + "/" + o + c + n.ext, n.url = r
                        }
                    }
                    return null
                }
            }
        }), {"./helper": 59, "./request-item": 67, "./shared": 68}],
        71: [(function (t, e) {
            "use strict";
            var i = t("./depend-util"), n = t("./helper"), r = n.isScene, s = n.decodeUuid, a = t("./shared").assets,
                o = t("../platform/utils").callInNextTick;
            t("../assets/CCAsset");
            var c = {
                processOptions: function (t) {
                    var e = t.uuids, i = t.paths, n = t.types, r = t.deps, a = t.paths = Object.create(null);
                    if (!1 === t.debug) {
                        for (var o = 0, c = e.length; o < c; o++) e[o] = s(e[o]);
                        for (var l in i) {
                            var h = i[l], u = h[1];
                            h[1] = n[u]
                        }
                    } else {
                        for (var f = Object.create(null), d = 0, _ = e.length; d < _; d++) {
                            var p = e[d];
                            e[d] = f[p] = s(p)
                        }
                        e = f
                    }
                    for (var v in i) {
                        var g = i[v];
                        a[e[v]] = g
                    }
                    var m = t.scenes;
                    for (var y in m) {
                        var T = m[y];
                        m[y] = e[T]
                    }
                    var E = t.packs;
                    for (var A in E) for (var b = E[A], x = 0; x < b.length; ++x) b[x] = e[b[x]];
                    var C = t.versions;
                    if (C) for (var S in C) for (var w = C[S], M = 0; M < w.length; M += 2) {
                        var R = w[M];
                        w[M] = e[R] || R
                    }
                    var I = t.redirect;
                    if (I) for (var O = 0; O < I.length; O += 2) I[O] = e[I[O]], I[O + 1] = r[I[O + 1]]
                }, clear: function (t, e) {
                    for (var i = 0, n = t.input.length; i < n; i++) {
                        var r = t.input[i];
                        e && !r.isNative && r.content && r.content.decRef && r.content.decRef(!1), r.recycle()
                    }
                    t.input = null
                }, urlAppendTimestamp: function (t) {
                    return cc.assetManager.downloader.appendTimeStamp && "string" == typeof t ? /\?/.test(t) ? t + "&_t=" + (new Date - 0) : t + "?_t=" + (new Date - 0) : t
                }, retry: function (t, e, i, n, r) {
                    t(r = r || 0, (function (s, a) {
                        r++, !s || r > e ? n && n(s, a) : setTimeout((function () {
                            c.retry(t, e, i, n, r)
                        }), i)
                    }))
                }, getDepends: function (t, e, n, r, s, a, o) {
                    try {
                        var c = i.parse(t, e), l = !0;
                        if (e instanceof cc.Asset && (!e.__nativeDepend__ || e._nativeAsset) && (l = !1), s) {
                            for (var h = 0, u = c.deps.length; h < u; h++) {
                                var f = c.deps[h];
                                f in n || (n[f] = !0, r.push({uuid: f, bundle: o && o.name}))
                            }
                            l && c.nativeDep && (o && (c.nativeDep.bundle = o.name), r.push(Object.assign({}, c.nativeDep)))
                        } else {
                            a = !!e.asyncLoadAssets || a && !c.preventDeferredLoadDependents;
                            for (var d = 0, _ = c.deps.length; d < _; d++) {
                                var p = c.deps[d];
                                p in n || (n[p] = !0, r.push({uuid: p, __asyncLoadAssets__: a, bundle: o && o.name}))
                            }
                            l && !a && !c.preventPreloadNativeObject && c.nativeDep && (o && (c.nativeDep.bundle = o.name), r.push(Object.assign({}, c.nativeDep)))
                        }
                    } catch (v) {
                        cc.error(v.message, v.stack)
                    }
                }, cache: function (t, e, i) {
                    e && (!r(e) && i && a.add(t, e))
                }, setProperties: function (t, e, i) {
                    var n = !1, r = e.__depends__;
                    if (r) {
                        for (var s = 0, a = r.length; s < a; s++) {
                            var o = r[s], c = i[o.uuid + "@import"];
                            c ? o.owner[o.prop] = c.addRef() : (cc.error("The asset " + o.uuid + " is missing!"), n = !0)
                        }
                        e.__depends__ = void 0
                    }
                    return e.__nativeDepend__ && (e._nativeAsset || (i[t + "@native"] ? e._nativeAsset = i[t + "@native"] : n = !0), e.__nativeDepend__ = void 0), n
                }, gatherAsset: function (t) {
                    var e = t.source;
                    if (t.options.__outputAsArray__ || 1 !== e.length) for (var i = t.output = [], n = 0, r = e.length; n < r; n++) i.push(e[n].content); else t.output = e[0].content
                }, forEach: function (t, e, i) {
                    var n = 0, r = [];
                    0 === t.length && i && i(r);
                    for (var s = 0, a = t.length; s < a; s++) e(t[s], (function (t) {
                        t && r.push(t), ++n === a && i && i(r)
                    }))
                }, parseParameters: function (t, e, i) {
                    if (void 0 === i) {
                        var n = "function" == typeof t;
                        e ? (i = e, n || (e = null)) : void 0 === e && n && (i = t, t = null, e = null), void 0 !== e && n && (e = t, t = null)
                    }
                    return {options: t = t || Object.create(null), onProgress: e, onComplete: i}
                }, parseLoadResArgs: function (t, e, i) {
                    if (void 0 === i) {
                        var n = cc.js.isChildClassOf(t, cc.Asset);
                        e ? (i = e, n && (e = null)) : void 0 !== e || n || (i = t, e = null, t = null), void 0 === e || n || (e = t, t = null)
                    }
                    return {type: t, onProgress: e, onComplete: i}
                }, checkCircleReference: function (t, e, n, r) {
                    if (r || (r = Object.create(null)), !n[e] || r[e]) return !1;
                    r[e] = !0;
                    var s = !1, a = i.getDeps(e);
                    if (a) for (var o = 0, l = a.length; o < l; o++) {
                        var h = a[o];
                        if (h === t || c.checkCircleReference(t, h, n, r)) {
                            s = !0;
                            break
                        }
                    }
                    return s
                }, asyncify: function (t) {
                    return function (e, i) {
                        if (t) {
                            var n = [];
                            Array.isArray(i) ? i.forEach((function (t) {
                                return t instanceof cc.Asset && n.push(t.addRef())
                            })) : i instanceof cc.Asset && n.push(i.addRef()), o((function () {
                                n.forEach((function (t) {
                                    return t.decRef(!1)
                                })), t(e, i)
                            }))
                        }
                    }
                }
            };
            e.exports = c
        }), {"../assets/CCAsset": 72, "../platform/utils": 191, "./depend-util": 48, "./helper": 59, "./shared": 68}],
        72: [(function (t, e) {
            "use strict";
            var i = t("../platform/CCObject");
            cc.Asset = cc.Class({
                name: "cc.Asset",
                extends: i,
                ctor: function () {
                    Object.defineProperty(this, "_uuid", {
                        value: "",
                        writable: !0
                    }), this.loaded = !0, this._nativeUrl = "", this._ref = 0
                },
                properties: {
                    nativeUrl: {
                        get: function () {
                            if (!this._nativeUrl && this._native) {
                                var t = this._native;
                                if (47 === t.charCodeAt(0)) return t.slice(1);
                                46 === t.charCodeAt(0) ? this._nativeUrl = cc.assetManager.utils.getUrlWithUuid(this._uuid, {
                                    nativeExt: t,
                                    isNative: !0
                                }) : this._nativeUrl = cc.assetManager.utils.getUrlWithUuid(this._uuid, {
                                    __nativeName__: t,
                                    nativeExt: cc.path.extname(t),
                                    isNative: !0
                                })
                            }
                            return this._nativeUrl
                        }, visible: !1
                    }, refCount: {
                        get: function () {
                            return this._ref
                        }
                    }, _native: "", _nativeAsset: {
                        get: function () {
                            return this._$nativeAsset
                        }, set: function (t) {
                            this._$nativeAsset = t
                        }
                    }, _nativeDep: {
                        get: function () {
                            if (this._native) return {__isNative__: !0, uuid: this._uuid, ext: this._native}
                        }
                    }
                },
                statics: {deserialize: !1, preventDeferredLoadDependents: !1, preventPreloadNativeObject: !1},
                toString: function () {
                    return this.nativeUrl
                },
                serialize: !1,
                createNode: null,
                _setRawAsset: function (t, e) {
                    this._native = !1 !== e ? t || void 0 : "/" + t
                },
                addRef: function () {
                    return this._ref++, this
                },
                decRef: function (t) {
                    return this._ref > 0 && this._ref--, !1 !== t && cc.assetManager._releaseManager.tryRelease(this), this
                },
                destroy: function () {
                    return this.loaded = !1, this._super()
                }
            }), e.exports = cc.Asset
        }), {"../platform/CCObject": 173}],
        73: [(function (t, e) {
            "use strict";
            var i = t("./CCAsset"), n = t("../event/event-target"), r = cc.Enum({WEB_AUDIO: 0, DOM_AUDIO: 1}),
                s = cc.Class({
                    name: "cc.AudioClip",
                    extends: i,
                    mixins: [n],
                    ctor: function () {
                        this._loading = !1, this.loaded = !1, this._audio = null
                    },
                    properties: {
                        duration: 0,
                        loadMode: {default: r.WEB_AUDIO, type: r},
                        _nativeAsset: {
                            get: function () {
                                return this._audio
                            }, set: function (t) {
                                t instanceof cc.AudioClip ? this._audio = t._nativeAsset : this._audio = t, this._audio && (this.loaded = !0, this.emit("load"))
                            }, override: !0
                        },
                        _nativeDep: {
                            get: function () {
                                return {
                                    uuid: this._uuid,
                                    audioLoadMode: this.loadMode,
                                    ext: cc.path.extname(this._native),
                                    __isNative__: !0
                                }
                            }, override: !0
                        }
                    },
                    statics: {
                        LoadMode: r, _loadByUrl: function (t, e) {
                            var i = cc.assetManager.assets.get(t);
                            i ? e(null, i) : cc.assetManager.loadRemote(t, (function (t, i) {
                                if (t) return e(t);
                                e(null, i)
                            }))
                        }
                    },
                    _ensureLoaded: function (t) {
                        if (this.isValid) {
                            if (this.loaded) return t && t();
                            if (t && this.once("load", t), !this._loading) {
                                this._loading = !0;
                                var e = this;
                                cc.assetManager.postLoadNative(this, (function () {
                                    e._loading = !1
                                }))
                            }
                        }
                    },
                    destroy: function () {
                        cc.audioEngine.uncache(this), this._super()
                    }
                });
            cc.AudioClip = s, e.exports = s
        }), {"../event/event-target": 140, "./CCAsset": 72}],
        74: [(function (t, e) {
            "use strict";
            var i = function () {
                this.u = 0, this.v = 0, this.w = 0, this.h = 0, this.offsetX = 0, this.offsetY = 0, this.textureID = 0, this.valid = !1, this.xAdvance = 0
            }, n = function (t) {
                this._letterDefinitions = {}, this._texture = t
            };
            n.prototype = {
                constructor: n, addLetterDefinitions: function (t, e) {
                    this._letterDefinitions[t] = e
                }, cloneLetterDefinition: function () {
                    var t = {};
                    for (var e in this._letterDefinitions) {
                        var n = new i;
                        cc.js.mixin(n, this._letterDefinitions[e]), t[e] = n
                    }
                    return t
                }, getTexture: function () {
                    return this._texture
                }, getLetter: function (t) {
                    return this._letterDefinitions[t]
                }, getLetterDefinitionForChar: function (t) {
                    var e = t.charCodeAt(0);
                    return this._letterDefinitions.hasOwnProperty(e) ? this._letterDefinitions[e] : null
                }, clear: function () {
                    this._letterDefinitions = {}
                }
            };
            var r = cc.Class({
                name: "cc.BitmapFont",
                extends: cc.Font,
                properties: {
                    fntDataStr: {default: ""},
                    spriteFrame: {default: null, type: cc.SpriteFrame},
                    fontSize: {default: -1},
                    _fntConfig: null,
                    _fontDefDictionary: null
                },
                onLoad: function () {
                    var t = this.spriteFrame;
                    this._fontDefDictionary || (this._fontDefDictionary = new n, t && (this._fontDefDictionary._texture = t._texture));
                    var e = this._fntConfig;
                    if (e) {
                        var r = e.fontDefDictionary;
                        for (var s in r) {
                            var a = new i, o = r[s].rect;
                            a.offsetX = r[s].xOffset, a.offsetY = r[s].yOffset, a.w = o.width, a.h = o.height, a.u = o.x, a.v = o.y, a.textureID = 0, a.valid = !0, a.xAdvance = r[s].xAdvance, this._fontDefDictionary.addLetterDefinitions(s, a)
                        }
                    }
                }
            });
            cc.BitmapFont = r, cc.BitmapFont.FontLetterDefinition = i, cc.BitmapFont.FontAtlas = n, e.exports = r
        }), {}],
        75: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                name: "cc.BufferAsset", extends: cc.Asset, ctor: function () {
                    this._buffer = null
                }, properties: {
                    _nativeAsset: {
                        get: function () {
                            return this._buffer
                        }, set: function (t) {
                            this._buffer = t.buffer || t
                        }, override: !0
                    }, buffer: function () {
                        return this._buffer
                    }
                }
            });
            cc.BufferAsset = e.exports = i
        }), {}],
        76: [(function (t, e) {
            "use strict";
            var i = cc.Class({name: "cc.Font", extends: cc.Asset});
            cc.Font = e.exports = i
        }), {}],
        77: [(function (t, e) {
            "use strict";
            var i = cc.Class({name: "cc.JsonAsset", extends: cc.Asset, properties: {json: null}});
            e.exports = cc.JsonAsset = i
        }), {}],
        78: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                name: "cc.LabelAtlas", extends: cc.BitmapFont, onLoad: function () {
                    this.spriteFrame ? this._fntConfig ? this._super() : cc.warnID(9101, this.name) : cc.warnID(9100, this.name)
                }
            });
            cc.LabelAtlas = i, e.exports = i
        }), {}],
        79: [(function (t, e) {
            "use strict";
            var i = cc.Enum({AUTO: 0, SINGLE_INSTANCE: 1, MULTI_INSTANCE: 2}), n = cc.Class({
                name: "cc.Prefab",
                extends: cc.Asset,
                ctor: function () {
                    this._createFunction = null, this._instantiatedTimes = 0
                },
                properties: {
                    data: null,
                    optimizationPolicy: i.AUTO,
                    asyncLoadAssets: !1,
                    readonly: {default: !1, editorOnly: !0}
                },
                statics: {OptimizationPolicy: i, OptimizationPolicyThreshold: 3},
                createNode: !1,
                compileCreateFunction: function () {
                    var e = t("../platform/instantiate-jit");
                    this._createFunction = e.compile(this.data)
                },
                _doInstantiate: function (t) {
                    return this.data._prefab || cc.warnID(3700), this._createFunction || this.compileCreateFunction(), this._createFunction(t)
                },
                _instantiate: function () {
                    var t;
                    return t = this.data._instantiate(), ++this._instantiatedTimes, t
                },
                destroy: function () {
                    this.data && this.data.destroy(), this._super()
                }
            });
            cc.Prefab = e.exports = n, cc.js.obsolete(cc, "cc._Prefab", "Prefab")
        }), {"../platform/instantiate-jit": 186}],
        80: [(function (t, e) {
            "use strict";
            var i, n = (i = t("../../renderer/gfx")) && i.__esModule ? i : {default: i}, r = t("../renderer"),
                s = t("./CCTexture2D"), a = cc.Enum({
                    RB_FMT_D24S8: n.default.RB_FMT_D24S8,
                    RB_FMT_S8: n.default.RB_FMT_S8,
                    RB_FMT_D16: n.default.RB_FMT_D16
                }), o = cc.Class({
                    name: "cc.RenderTexture", extends: s, statics: {DepthStencilFormat: a}, ctor: function () {
                        this._framebuffer = null
                    }, initWithSize: function (t, e, i) {
                        this.width = Math.floor(t || cc.visibleRect.width), this.height = Math.floor(e || cc.visibleRect.height), this._resetUnderlyingMipmaps();
                        var s, a = {colors: [this._texture]};
                        this._depthStencilBuffer && this._depthStencilBuffer.destroy(), i && (s = new n.default.RenderBuffer(r.device, i, t, e), i === n.default.RB_FMT_D24S8 ? a.depthStencil = s : i === n.default.RB_FMT_S8 ? a.stencil = s : i === n.default.RB_FMT_D16 && (a.depth = s)), this._depthStencilBuffer = s, this._framebuffer && this._framebuffer.destroy(), this._framebuffer = new n.default.FrameBuffer(r.device, t, e, a), this._packable = !1, this.loaded = !0, this.emit("load")
                    }, updateSize: function (t, e) {
                        this.width = Math.floor(t || cc.visibleRect.width), this.height = Math.floor(e || cc.visibleRect.height), this._resetUnderlyingMipmaps();
                        var i = this._depthStencilBuffer;
                        i && i.update(this.width, this.height), this._framebuffer._width = t, this._framebuffer._height = e
                    }, drawTextureAt: function (t, e, i) {
                        t._image && 0 !== t._image.width && this._texture.updateSubImage({
                            x: e,
                            y: i,
                            image: t._image,
                            width: t.width,
                            height: t.height,
                            level: 0,
                            flipY: !1,
                            premultiplyAlpha: t._premultiplyAlpha
                        })
                    }, readPixels: function (t, e, i, n, r) {
                        if (!this._framebuffer || !this._texture) return t;
                        e = e || 0, i = i || 0;
                        var s = n || this.width, a = r || this.height;
                        t = t || new Uint8Array(s * a * 4);
                        var o = cc.game._renderContext, c = o.getParameter(o.FRAMEBUFFER_BINDING);
                        return o.bindFramebuffer(o.FRAMEBUFFER, this._framebuffer.getHandle()), o.readPixels(e, i, s, a, o.RGBA, o.UNSIGNED_BYTE, t), o.bindFramebuffer(o.FRAMEBUFFER, c), t
                    }, destroy: function () {
                        this._super(), this._framebuffer && (this._framebuffer.destroy(), this._framebuffer = null)
                    }
                });
            cc.RenderTexture = e.exports = o
        }), {"../../renderer/gfx": 292, "../renderer": 199, "./CCTexture2D": 87}],
        81: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                name: "cc.SceneAsset",
                extends: cc.Asset,
                properties: {scene: null, asyncLoadAssets: void 0}
            });
            cc.SceneAsset = i, e.exports = i
        }), {}],
        82: [(function () {
            "use strict";
            var t = cc.Class({name: "cc.Script", extends: cc.Asset});
            cc._Script = t;
            var e = cc.Class({name: "cc.JavaScript", extends: t});
            cc._JavaScript = e;
            var i = cc.Class({name: "cc.TypeScript", extends: t});
            cc._TypeScript = i
        }), {}],
        83: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                name: "cc.SpriteAtlas",
                extends: cc.Asset,
                properties: {_spriteFrames: {default: {}}},
                getTexture: function () {
                    var t = Object.keys(this._spriteFrames);
                    if (t.length > 0) {
                        var e = this._spriteFrames[t[0]];
                        return e ? e.getTexture() : null
                    }
                    return null
                },
                getSpriteFrame: function (t) {
                    var e = this._spriteFrames[t];
                    return e ? (e.name || (e.name = t), e) : null
                },
                getSpriteFrames: function () {
                    var t = [], e = this._spriteFrames;
                    for (var i in e) t.push(this.getSpriteFrame(i));
                    return t
                }
            });
            cc.SpriteAtlas = i, e.exports = i
        }), {}],
        84: [(function (t, e) {
            "use strict";
            var i = t("../event/event-target"), n = [{u: 0, v: 0}, {u: 0, v: 0}, {u: 0, v: 0}, {u: 0, v: 0}],
                r = cc.Class({
                    name: "cc.SpriteFrame",
                    extends: t("../assets/CCAsset"),
                    mixins: [i],
                    properties: {
                        _textureSetter: {
                            set: function (t) {
                                t && this._texture !== t && this._refreshTexture(t)
                            }
                        }, insetTop: {
                            get: function () {
                                return this._capInsets[1]
                            }, set: function (t) {
                                this._capInsets[1] = t, this._texture && this._calculateSlicedUV()
                            }
                        }, insetBottom: {
                            get: function () {
                                return this._capInsets[3]
                            }, set: function (t) {
                                this._capInsets[3] = t, this._texture && this._calculateSlicedUV()
                            }
                        }, insetLeft: {
                            get: function () {
                                return this._capInsets[0]
                            }, set: function (t) {
                                this._capInsets[0] = t, this._texture && this._calculateSlicedUV()
                            }
                        }, insetRight: {
                            get: function () {
                                return this._capInsets[2]
                            }, set: function (t) {
                                this._capInsets[2] = t, this._texture && this._calculateSlicedUV()
                            }
                        }
                    },
                    ctor: function () {
                        i.call(this);
                        var t = arguments[0], e = arguments[1], n = arguments[2], r = arguments[3], s = arguments[4];
                        this._rect = null, this.uv = [], this._texture = null, this._original = null, this._offset = null, this._originalSize = null, this._rotated = !1, this._flipX = !1, this._flipY = !1, this.vertices = null, this._capInsets = [0, 0, 0, 0], this.uvSliced = [], void 0 !== t && this.setTexture(t, e, n, r, s)
                    },
                    textureLoaded: function () {
                        return this._texture && this._texture.loaded
                    },
                    onTextureLoaded: function (t, e) {
                        return this.textureLoaded() ? (t.call(e), !0) : (this.once("load", t, e), this.ensureLoadTexture(), !1)
                    },
                    isRotated: function () {
                        return this._rotated
                    },
                    setRotated: function (t) {
                        this._rotated = t, this._texture && this._calculateUV()
                    },
                    isFlipX: function () {
                        return this._flipX
                    },
                    isFlipY: function () {
                        return this._flipY
                    },
                    setFlipX: function (t) {
                        this._flipX = t, this._texture && this._calculateUV()
                    },
                    setFlipY: function (t) {
                        this._flipY = t, this._texture && this._calculateUV()
                    },
                    getRect: function () {
                        return cc.rect(this._rect)
                    },
                    setRect: function (t) {
                        this._rect = t, this._texture && this._calculateUV()
                    },
                    getOriginalSize: function () {
                        return cc.size(this._originalSize)
                    },
                    setOriginalSize: function (t) {
                        this._originalSize ? (this._originalSize.width = t.width, this._originalSize.height = t.height) : this._originalSize = cc.size(t)
                    },
                    getTexture: function () {
                        return this._texture
                    },
                    _textureLoadedCallback: function () {
                        var t = this._texture;
                        if (t) {
                            var e = t.width, i = t.height;
                            this._rect ? this._checkRect(this._texture) : this._rect = cc.rect(0, 0, e, i), this._originalSize || this.setOriginalSize(cc.size(e, i)), this._offset || this.setOffset(cc.v2(0, 0)), this._calculateUV(), this.emit("load")
                        }
                    },
                    _refreshTexture: function (t) {
                        this._texture = t, t.loaded ? this._textureLoadedCallback() : t.once("load", this._textureLoadedCallback, this)
                    },
                    getOffset: function () {
                        return cc.v2(this._offset)
                    },
                    setOffset: function (t) {
                        this._offset = cc.v2(t)
                    },
                    clone: function () {
                        return new r(this._texture, this.getRect(), this._rotated, this.getOffset(), this.getOriginalSize())
                    },
                    setTexture: function (t, e, i, n, r) {
                        if (1 !== arguments.length || t !== this._texture) {
                            if (this._rect = e || null, n ? this.setOffset(n) : this._offset = null, r ? this.setOriginalSize(r) : this._originalSize = null, this._rotated = i || !1, "string" != typeof t) return t instanceof cc.Texture2D && this._refreshTexture(t), !0;
                            cc.errorID(3401)
                        }
                    },
                    ensureLoadTexture: function () {
                        this._texture && (this._texture.loaded || (this._refreshTexture(this._texture), cc.assetManager.postLoadNative(this._texture)))
                    },
                    _checkRect: function (t) {
                        var e = this._rect, i = e.x, n = e.y;
                        this._rotated ? (i += e.height, n += e.width) : (i += e.width, n += e.height), i > t.width && cc.errorID(3300, t.nativeUrl + "/" + this.name, i, t.width), n > t.height && cc.errorID(3400, t.nativeUrl + "/" + this.name, n, t.height)
                    },
                    _flipXY: function (t) {
                        if (this._flipX) {
                            var e = t[0];
                            t[0] = t[1], t[1] = e, e = t[2], t[2] = t[3], t[3] = e
                        }
                        if (this._flipY) {
                            var i = t[0];
                            t[0] = t[2], t[2] = i, i = t[1], t[1] = t[3], t[3] = i
                        }
                    },
                    _calculateSlicedUV: function () {
                        var t = this._rect, e = this._texture.width, i = this._texture.height, r = this._capInsets[0],
                            s = this._capInsets[2], a = t.width - r - s, o = this._capInsets[1], c = this._capInsets[3],
                            l = t.height - o - c, h = this.uvSliced;
                        if (h.length = 0, this._rotated) {
                            n[0].u = t.x / e, n[1].u = (t.x + c) / e, n[2].u = (t.x + c + l) / e, n[3].u = (t.x + t.height) / e, n[3].v = t.y / i, n[2].v = (t.y + r) / i, n[1].v = (t.y + r + a) / i, n[0].v = (t.y + t.width) / i, this._flipXY(n);
                            for (var u = 0; u < 4; ++u) for (var f = n[u], d = 0; d < 4; ++d) {
                                var _ = n[3 - d];
                                h.push({u: f.u, v: _.v})
                            }
                        } else {
                            n[0].u = t.x / e, n[1].u = (t.x + r) / e, n[2].u = (t.x + r + a) / e, n[3].u = (t.x + t.width) / e, n[3].v = t.y / i, n[2].v = (t.y + o) / i, n[1].v = (t.y + o + l) / i, n[0].v = (t.y + t.height) / i, this._flipXY(n);
                            for (var p = 0; p < 4; ++p) for (var v = n[p], g = 0; g < 4; ++g) {
                                var m = n[g];
                                h.push({u: m.u, v: v.v})
                            }
                        }
                    },
                    _setDynamicAtlasFrame: function (t) {
                        t && (this._original = {
                            _texture: this._texture,
                            _x: this._rect.x,
                            _y: this._rect.y
                        }, this._texture = t.texture, this._rect.x = t.x, this._rect.y = t.y, this._calculateUV())
                    },
                    _resetDynamicAtlasFrame: function () {
                        this._original && (this._rect.x = this._original._x, this._rect.y = this._original._y, this._texture = this._original._texture, this._original = null, this._texture.loaded ? this._calculateUV() : this.ensureLoadTexture())
                    },
                    _calculateUV: function () {
                        var t = this._rect, e = this._texture, i = this.uv, n = e.width, r = e.height;
                        if (this._rotated) {
                            var s = 0 === n ? 0 : t.x / n, a = 0 === n ? 0 : (t.x + t.height) / n,
                                o = 0 === r ? 0 : (t.y + t.width) / r, c = 0 === r ? 0 : t.y / r;
                            i[0] = s, i[1] = c, i[2] = s, i[3] = o, i[4] = a, i[5] = c, i[6] = a, i[7] = o
                        } else {
                            var l = 0 === n ? 0 : t.x / n, h = 0 === n ? 0 : (t.x + t.width) / n,
                                u = 0 === r ? 0 : (t.y + t.height) / r, f = 0 === r ? 0 : t.y / r;
                            i[0] = l, i[1] = u, i[2] = h, i[3] = u, i[4] = l, i[5] = f, i[6] = h, i[7] = f
                        }
                        if (this._flipX) {
                            var d = i[0];
                            i[0] = i[2], i[2] = d, d = i[1], i[1] = i[3], i[3] = d, d = i[4], i[4] = i[6], i[6] = d, d = i[5], i[5] = i[7], i[7] = d
                        }
                        if (this._flipY) {
                            var _ = i[0];
                            i[0] = i[4], i[4] = _, _ = i[1], i[1] = i[5], i[5] = _, _ = i[2], i[2] = i[6], i[6] = _, _ = i[3], i[3] = i[7], i[7] = _
                        }
                        var p = this.vertices;
                        if (p) {
                            p.nu.length = 0, p.nv.length = 0;
                            for (var v = 0; v < p.u.length; v++) p.nu[v] = p.u[v] / n, p.nv[v] = p.v[v] / r
                        }
                        this._calculateSlicedUV()
                    },
                    _serialize: !1,
                    _deserialize: function (t) {
                        var e = t.rect;
                        e && (this._rect = new cc.Rect(e[0], e[1], e[2], e[3])), t.offset && this.setOffset(new cc.Vec2(t.offset[0], t.offset[1])), t.originalSize && this.setOriginalSize(new cc.Size(t.originalSize[0], t.originalSize[1])), this._rotated = 1 === t.rotated, this._name = t.name;
                        var i = t.capInsets;
                        i && (this._capInsets[0] = i[0], this._capInsets[1] = i[1], this._capInsets[2] = i[2], this._capInsets[3] = i[3]), this.vertices = t.vertices, this.vertices && (this.vertices.nu = [], this.vertices.nv = [])
                    }
                }), s = r.prototype;
            s.copyWithZone = s.clone, s.copy = s.clone, s.initWithTexture = s.setTexture, cc.SpriteFrame = r, e.exports = r
        }), {"../assets/CCAsset": 72, "../event/event-target": 140}],
        85: [(function (t, e) {
            "use strict";
            var i = t("./CCFont"), n = cc.Class({
                name: "cc.TTFFont",
                extends: i,
                properties: {
                    _fontFamily: null, _nativeAsset: {
                        type: cc.String, get: function () {
                            return this._fontFamily
                        }, set: function (t) {
                            this._fontFamily = t || "Arial"
                        }, override: !0
                    }, _nativeDep: {
                        get: function () {
                            return {
                                uuid: this._uuid,
                                __nativeName__: this._native,
                                ext: cc.path.extname(this._native),
                                __isNative__: !0
                            }
                        }, override: !0
                    }
                }
            });
            cc.TTFFont = e.exports = n
        }), {"./CCFont": 76}],
        86: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                name: "cc.TextAsset", extends: cc.Asset, properties: {text: ""}, toString: function () {
                    return this.text
                }
            });
            e.exports = cc.TextAsset = i
        }), {}],
        87: [(function (t, e) {
            "use strict";
            var i, n = (i = t("../../renderer/gfx")) && i.__esModule ? i : {default: i}, r = t("../event/event-target"),
                s = t("../renderer");
            t("../platform/CCClass");
            var a = new (t("../platform/id-generater"))("Tex"), o = 1024, c = cc.Enum({
                    RGB565: n.default.TEXTURE_FMT_R5_G6_B5,
                    RGB5A1: n.default.TEXTURE_FMT_R5_G5_B5_A1,
                    RGBA4444: n.default.TEXTURE_FMT_R4_G4_B4_A4,
                    RGB888: n.default.TEXTURE_FMT_RGB8,
                    RGBA8888: n.default.TEXTURE_FMT_RGBA8,
                    RGBA32F: n.default.TEXTURE_FMT_RGBA32F,
                    A8: n.default.TEXTURE_FMT_A8,
                    I8: n.default.TEXTURE_FMT_L8,
                    AI8: n.default.TEXTURE_FMT_L8_A8,
                    RGB_PVRTC_2BPPV1: n.default.TEXTURE_FMT_RGB_PVRTC_2BPPV1,
                    RGBA_PVRTC_2BPPV1: n.default.TEXTURE_FMT_RGBA_PVRTC_2BPPV1,
                    RGB_A_PVRTC_2BPPV1: o++,
                    RGB_PVRTC_4BPPV1: n.default.TEXTURE_FMT_RGB_PVRTC_4BPPV1,
                    RGBA_PVRTC_4BPPV1: n.default.TEXTURE_FMT_RGBA_PVRTC_4BPPV1,
                    RGB_A_PVRTC_4BPPV1: o++,
                    RGB_ETC1: n.default.TEXTURE_FMT_RGB_ETC1,
                    RGBA_ETC1: o++,
                    RGB_ETC2: n.default.TEXTURE_FMT_RGB_ETC2,
                    RGBA_ETC2: n.default.TEXTURE_FMT_RGBA_ETC2
                }), l = cc.Enum({REPEAT: 10497, CLAMP_TO_EDGE: 33071, MIRRORED_REPEAT: 33648}),
                h = cc.Enum({LINEAR: 9729, NEAREST: 9728}), u = {9728: 0, 9729: 1}, f = [], d = {
                    width: void 0,
                    height: void 0,
                    minFilter: void 0,
                    magFilter: void 0,
                    wrapS: void 0,
                    wrapT: void 0,
                    format: void 0,
                    genMipmaps: void 0,
                    images: void 0,
                    image: void 0,
                    flipY: void 0,
                    premultiplyAlpha: void 0
                };

            function _() {
                for (var t in d) d[t] = void 0;
                return f.length = 0, d.images = f, d
            }

            var p = cc.Class({
                name: "cc.Texture2D",
                extends: t("../assets/CCAsset"),
                mixins: [r],
                properties: {
                    _nativeAsset: {
                        get: function () {
                            return this._image
                        }, set: function (t) {
                            t._compressed && t._data ? this.initWithData(t._data, this._format, t.width, t.height) : this.initWithElement(t)
                        }, override: !0
                    },
                    _format: c.RGBA8888,
                    _premultiplyAlpha: !1,
                    _flipY: !1,
                    _minFilter: h.LINEAR,
                    _magFilter: h.LINEAR,
                    _mipFilter: h.LINEAR,
                    _wrapS: l.CLAMP_TO_EDGE,
                    _wrapT: l.CLAMP_TO_EDGE,
                    _isAlphaAtlas: !1,
                    _genMipmaps: !1,
                    genMipmaps: {
                        get: function () {
                            return this._genMipmaps
                        }, set: function (t) {
                            if (this._genMipmaps !== t) {
                                var e = _();
                                e.genMipmaps = t, this.update(e)
                            }
                        }
                    },
                    _packable: !0,
                    packable: {
                        get: function () {
                            return this._packable
                        }, set: function (t) {
                            this._packable = t
                        }
                    },
                    _nativeDep: {
                        get: function () {
                            return {
                                __isNative__: !0,
                                uuid: this._uuid,
                                ext: this._native,
                                __flipY__: this._flipY,
                                __premultiplyAlpha__: this._premultiplyAlpha
                            }
                        }, override: !0
                    }
                },
                statics: {
                    PixelFormat: c,
                    WrapMode: l,
                    Filter: h,
                    _FilterIndex: u,
                    extnames: [".png", ".jpg", ".jpeg", ".bmp", ".webp", ".pvr", ".pkm"],
                    _parseExt: function (t, e) {
                        for (var i = cc.renderer.device, n = t.split("_"), r = "", s = "", a = 999, o = e, l = cc.macro.SUPPORT_TEXTURE_FORMATS, h = 0; h < n.length; h++) {
                            var u = n[h].split("@"), f = u[0];
                            f = p.extnames[f.charCodeAt(0) - 48] || f;
                            var d = l.indexOf(f);
                            if (-1 !== d && d < a) {
                                var _ = u[1] ? parseInt(u[1]) : e;
                                if (".pvr" === f && !i.ext("WEBGL_compressed_texture_pvrtc")) continue;
                                if (!(_ !== c.RGB_ETC1 && _ !== c.RGBA_ETC1 || i.ext("WEBGL_compressed_texture_etc1"))) continue;
                                if (!(_ !== c.RGB_ETC2 && _ !== c.RGBA_ETC2 || i.ext("WEBGL_compressed_texture_etc"))) continue;
                                if (".webp" === f && !cc.sys.capabilities.webp) continue;
                                a = d, s = f, o = _
                            } else r || (r = f)
                        }
                        return {bestExt: s, bestFormat: o, defaultExt: r}
                    }
                },
                ctor: function () {
                    this._id = a.getNewId(), this.loaded = !1, this.width = 0, this.height = 0, this._hashDirty = !0, this._hash = 0, this._texture = null
                },
                getImpl: function () {
                    return this._texture || (this._texture = new s.Texture2D(s.device, {})), this._texture
                },
                getId: function () {
                    return this._id
                },
                toString: function () {
                    return this.nativeUrl || ""
                },
                update: function (t) {
                    if (t) {
                        var e = !1;
                        void 0 !== t.width && (this.width = t.width), void 0 !== t.height && (this.height = t.height), void 0 !== t.minFilter && (this._minFilter = t.minFilter, t.minFilter = u[t.minFilter]), void 0 !== t.magFilter && (this._magFilter = t.magFilter, t.magFilter = u[t.magFilter]), void 0 !== t.mipFilter && (this._mipFilter = t.mipFilter, t.mipFilter = u[t.mipFilter]), void 0 !== t.wrapS && (this._wrapS = t.wrapS), void 0 !== t.wrapT && (this._wrapT = t.wrapT), void 0 !== t.format && (this._format = t.format), void 0 !== t.flipY && (this._flipY = t.flipY, e = !0), void 0 !== t.premultiplyAlpha && (this._premultiplyAlpha = t.premultiplyAlpha, e = !0), void 0 !== t.genMipmaps && (this._genMipmaps = t.genMipmaps), cc.sys.capabilities.imageBitmap && this._image instanceof ImageBitmap ? this._checkImageBitmap(this._upload.bind(this, t, e)) : this._upload(t, e)
                    }
                },
                _upload: function (t, e) {
                    e && this._image && (t.image = this._image), t.images && t.images.length > 0 ? this._image = t.images[0] : void 0 !== t.image && (this._image = t.image, t.images || (f.length = 0, t.images = f), t.images.push(t.image)), this._texture && this._texture.update(t), this._hashDirty = !0
                },
                initWithElement: function (t) {
                    if (t) if (this._image = t, t.complete || t instanceof HTMLCanvasElement) this.handleLoadedTexture(); else if (cc.sys.capabilities.imageBitmap && t instanceof ImageBitmap) this._checkImageBitmap(this.handleLoadedTexture.bind(this)); else {
                        var e = this;
                        t.addEventListener("load", (function () {
                            e.handleLoadedTexture()
                        })), t.addEventListener("error", (function (t) {
                            cc.warnID(3119, t.message)
                        }))
                    }
                },
                initWithData: function (t, e, i, n) {
                    var r = _();
                    return r.image = t, r.images = [r.image], r.genMipmaps = this._genMipmaps, r.premultiplyAlpha = this._premultiplyAlpha, r.flipY = this._flipY, r.minFilter = u[this._minFilter], r.magFilter = u[this._magFilter], r.wrapS = this._wrapS, r.wrapT = this._wrapT, r.format = this._getGFXPixelFormat(e), r.width = i, r.height = n, this._texture ? this._texture.update(r) : this._texture = new s.Texture2D(s.device, r), this.width = i, this.height = n, this._updateFormat(), this._checkPackable(), this.loaded = !0, this.emit("load"), !0
                },
                getHtmlElementObj: function () {
                    return this._image
                },
                destroy: function () {
                    cc.sys.capabilities.imageBitmap && this._image instanceof ImageBitmap && this._image.close && this._image.close(), this._packable && cc.dynamicAtlasManager && cc.dynamicAtlasManager.deleteAtlasTexture(this), this._image = null, this._texture && this._texture.destroy(), this._super()
                },
                getPixelFormat: function () {
                    return this._format
                },
                hasPremultipliedAlpha: function () {
                    return this._premultiplyAlpha || !1
                },
                isAlphaAtlas: function () {
                    return this._isAlphaAtlas
                },
                handleLoadedTexture: function () {
                    if (this._image && this._image.width && this._image.height) {
                        this.width = this._image.width, this.height = this._image.height;
                        var t = _();
                        t.image = this._image, t.images = [t.image], t.width = this.width, t.height = this.height, t.genMipmaps = this._genMipmaps, t.format = this._getGFXPixelFormat(this._format), t.premultiplyAlpha = this._premultiplyAlpha, t.flipY = this._flipY, t.minFilter = u[this._minFilter], t.magFilter = u[this._magFilter], t.wrapS = this._wrapS, t.wrapT = this._wrapT, this._texture ? this._texture.update(t) : this._texture = new s.Texture2D(s.device, t), this._updateFormat(), this._checkPackable(), this.loaded = !0, this.emit("load"), cc.macro.CLEANUP_IMAGE_CACHE && this._cleanupImageCache()
                    }
                },
                _cleanupImageCache: function () {
                    this._image instanceof HTMLImageElement ? this._clearImage() : cc.sys.capabilities.imageBitmap && this._image instanceof ImageBitmap && this._image.close && this._image.close()
                },
                description: function () {
                    return "<cc.Texture2D | Name = " + this.nativeUrl + " | Dimensions = " + this.width + " x " + this.height + ">"
                },
                releaseTexture: function () {
                    this._image = null, this._texture && this._texture.destroy()
                },
                setWrapMode: function (t, e) {
                    if (this._wrapS !== t || this._wrapT !== e) {
                        var i = _();
                        i.wrapS = t, i.wrapT = e, this.update(i)
                    }
                },
                setFilters: function (t, e) {
                    if (this._minFilter !== t || this._magFilter !== e) {
                        var i = _();
                        i.minFilter = t, i.magFilter = e, this.update(i)
                    }
                },
                setFlipY: function (t) {
                    if (this._flipY !== t) {
                        var e = _();
                        e.flipY = t, e.premultiplyAlpha = this._premultiplyAlpha, this.update(e)
                    }
                },
                setPremultiplyAlpha: function (t) {
                    if (this._premultiplyAlpha !== t) {
                        var e = _();
                        e.flipY = this._flipY, e.premultiplyAlpha = t, this.update(e)
                    }
                },
                _updateFormat: function () {
                    this._isAlphaAtlas = this._format === c.RGBA_ETC1 || this._format === c.RGB_A_PVRTC_4BPPV1 || this._format === c.RGB_A_PVRTC_2BPPV1
                },
                _checkPackable: function () {
                    var t = cc.dynamicAtlasManager;
                    if (t) if (this._isCompressed()) this._packable = !1; else {
                        var e = this.width, i = this.height;
                        !this._image || e > t.maxFrameSize || i > t.maxFrameSize || this._getHash() !== t.Atlas.DEFAULT_HASH ? this._packable = !1 : this._image && this._image instanceof HTMLCanvasElement && (this._packable = !0)
                    }
                },
                _getOpts: function () {
                    var t = _();
                    return t.width = this.width, t.height = this.height, t.genMipmaps = this._genMipmaps, t.format = this._format, t.premultiplyAlpha = this._premultiplyAlpha, t.anisotropy = this._anisotropy, t.flipY = this._flipY, t.minFilter = u[this._minFilter], t.magFilter = u[this._magFilter], t.mipFilter = u[this._mipFilter], t.wrapS = this._wrapS, t.wrapT = this._wrapT, t
                },
                _getGFXPixelFormat: function (t) {
                    return t === c.RGBA_ETC1 ? t = c.RGB_ETC1 : t === c.RGB_A_PVRTC_4BPPV1 ? t = c.RGB_PVRTC_4BPPV1 : t === c.RGB_A_PVRTC_2BPPV1 && (t = c.RGB_PVRTC_2BPPV1), t
                },
                _resetUnderlyingMipmaps: function (t) {
                    var e = this._getOpts();
                    e.images = t || [null], this._texture ? this._texture.update(e) : this._texture = new s.Texture2D(s.device, e)
                },
                _serialize: !1,
                _deserialize: function (t) {
                    var e = t.split(","), i = e[0];
                    if (i) {
                        var n = p._parseExt(i, this._format);
                        if (n.bestExt) this._setRawAsset(n.bestExt), this._format = n.bestFormat; else {
                            if (!n.defaultExt) throw new Error(cc.debug.getError(3121));
                            this._setRawAsset(n.defaultExt), cc.warnID(3120, n.defaultExt, n.defaultExt)
                        }
                    }
                    8 === e.length && (this._minFilter = parseInt(e[1]), this._magFilter = parseInt(e[2]), this._wrapS = parseInt(e[3]), this._wrapT = parseInt(e[4]), this._premultiplyAlpha = 49 === e[5].charCodeAt(0), this._genMipmaps = 49 === e[6].charCodeAt(0), this._packable = 49 === e[7].charCodeAt(0))
                },
                _getHash: function () {
                    if (!this._hashDirty) return this._hash;
                    var t = this._genMipmaps ? 1 : 0, e = this._premultiplyAlpha ? 1 : 0, i = this._flipY ? 1 : 0,
                        n = this._minFilter === h.LINEAR ? 1 : 2, r = this._magFilter === h.LINEAR ? 1 : 2,
                        s = this._wrapS === l.REPEAT ? 1 : this._wrapS === l.CLAMP_TO_EDGE ? 2 : 3,
                        a = this._wrapT === l.REPEAT ? 1 : this._wrapT === l.CLAMP_TO_EDGE ? 2 : 3, o = this._format;
                    return this._image, this._hash = Number("" + n + r + o + s + a + t + e + i), this._hashDirty = !1, this._hash
                },
                _isCompressed: function () {
                    return this._format < c.A8 || this._format > c.RGBA32F
                },
                _clearImage: function () {
                    this._image.src = ""
                },
                _checkImageBitmap: function (t) {
                    var e = this, i = this._image, n = this._flipY, r = this._premultiplyAlpha;
                    this._flipY !== i.flipY || this._premultiplyAlpha !== i.premultiplyAlpha ? createImageBitmap(i, {
                        imageOrientation: n !== i.flipY ? "flipY" : "none",
                        premultiplyAlpha: r ? "premultiply" : "none"
                    }).then((function (s) {
                        i.close && i.close(), s.flipY = n, s.premultiplyAlpha = r, e._image = s, t()
                    }), (function (t) {
                        cc.error(t.message)
                    })) : t()
                }
            });
            cc.Texture2D = e.exports = p
        }), {
            "../../renderer/gfx": 292,
            "../assets/CCAsset": 72,
            "../event/event-target": 140,
            "../platform/CCClass": 167,
            "../platform/id-generater": 184,
            "../renderer": 199
        }],
        88: [(function (t, e) {
            "use strict";
            var i = t("./CCAsset"), n = t("../event/event-target"),
                r = cc.Class({name: "cc.VideoClip", extends: i, mixins: [n]});
            cc.VideoClip = r, e.exports = r
        }), {"../event/event-target": 140, "./CCAsset": 72}],
        89: [(function (t) {
            "use strict";
            t("./CCAsset"), t("./CCFont"), t("./CCPrefab"), t("./CCAudioClip"), t("./CCVideoClip"), t("./CCScripts"), t("./CCSceneAsset"), t("./CCSpriteFrame"), t("./CCTexture2D"), t("./CCRenderTexture"), t("./CCTTFFont"), t("./CCSpriteAtlas"), t("./CCBitmapFont"), t("./CCLabelAtlas"), t("./CCTextAsset"), t("./CCJsonAsset"), t("./CCBufferAsset"), t("./material")
        }), {
            "./CCAsset": 72,
            "./CCAudioClip": 73,
            "./CCBitmapFont": 74,
            "./CCBufferAsset": 75,
            "./CCFont": 76,
            "./CCJsonAsset": 77,
            "./CCLabelAtlas": 78,
            "./CCPrefab": 79,
            "./CCRenderTexture": 80,
            "./CCSceneAsset": 81,
            "./CCScripts": 82,
            "./CCSpriteAtlas": 83,
            "./CCSpriteFrame": 84,
            "./CCTTFFont": 85,
            "./CCTextAsset": 86,
            "./CCTexture2D": 87,
            "./CCVideoClip": 88,
            "./material": 96
        }],
        90: [(function (t, e) {
            "use strict";
            var i, n = (i = t("../CCAsset")) && i.__esModule ? i : {default: i}, r = t("./effect-parser"),
                s = cc.Class({
                    name: "cc.EffectAsset", extends: n.default, ctor: function () {
                        this._effect = null
                    }, properties: {properties: Object, techniques: [], shaders: []}, onLoad: function () {
                        if (cc.game.renderType !== cc.game.RENDER_TYPE_CANVAS) {
                            for (var t = cc.renderer._forward._programLib, e = 0; e < this.shaders.length; e++) t.define(this.shaders[e]);
                            this._initEffect()
                        }
                    }, _initEffect: function () {
                        this._effect || (this._effect = (0, r.parseEffect)(this), Object.freeze(this._effect))
                    }, getInstantiatedEffect: function () {
                        return this._initEffect(), this._effect.clone()
                    }, getEffect: function () {
                        return this._initEffect(), this._effect
                    }
                });
            e.exports = cc.EffectAsset = s
        }), {"../CCAsset": 72, "./effect-parser": 93}],
        91: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = t("../CCAsset"), r = t("../CCTexture2D"), s = (r.PixelFormat, t("./CCEffectAsset")),
                a = (t("../../utils/texture-util"), cc.gfx),
                o = cc.Enum({SPRITE: "2d-sprite", GRAY_SPRITE: "2d-gray-sprite", UNLIT: "unlit"}), c = cc.Class({
                    name: "cc.Material",
                    extends: n,
                    ctor: function () {
                        this.loaded = !1, this._manualHash = !1, this._dirty = !0, this._effect = null
                    },
                    properties: {
                        _defines: {default: void 0, type: Object},
                        _props: {default: void 0, type: Object},
                        _effectAsset: {type: s, default: null},
                        _techniqueIndex: 0,
                        _techniqueData: Object,
                        effectName: void 0,
                        effectAsset: {
                            get: function () {
                                return this._effectAsset
                            }, set: function (t) {
                                cc.game.renderType !== cc.game.RENDER_TYPE_CANVAS && (this._effectAsset = t, t ? this._effect = this._effectAsset.getInstantiatedEffect() : cc.error("Can not set an empty effect asset."))
                            }
                        },
                        effect: {
                            get: function () {
                                return this._effect
                            }
                        },
                        techniqueIndex: {
                            get: function () {
                                return this._techniqueIndex
                            }, set: function (t) {
                                this._techniqueIndex = t, this._effect.switchTechnique(t)
                            }
                        }
                    },
                    statics: {
                        getBuiltinMaterial: function (t) {
                            return cc.game.renderType === cc.game.RENDER_TYPE_CANVAS ? new cc.Material : cc.assetManager.builtins.getBuiltin("material", "builtin-" + t)
                        }, BUILTIN_NAME: o, createWithBuiltin: function (t, e) {
                            void 0 === e && (e = 0);
                            var i = cc.assetManager.builtins.getBuiltin("effect", "builtin-" + t);
                            return c.create(i, e)
                        }, create: function (t, e) {
                            if (void 0 === e && (e = 0), !t) return null;
                            var i = new c;
                            return i.effectAsset = t, i.techniqueIndex = e, i
                        }
                    },
                    setProperty: function (t, e, i, n) {
                        if (cc.game.renderType !== cc.game.RENDER_TYPE_CANVAS) {
                            if ("string" == typeof i && (i = parseInt(i)), e instanceof r) {
                                var s = e.isAlphaAtlas(), a = "CC_USE_ALPHA_ATLAS_" + t, o = this.getDefine(a, i);
                                (s || o) && this.define(a, s), e.loaded || cc.assetManager.postLoadNative(e)
                            }
                            this._effect.setProperty(t, e, i, n)
                        }
                    },
                    getProperty: function (t, e) {
                        return "string" == typeof e && (e = parseInt(e)), this._effect.getProperty(t, e)
                    },
                    define: function (t, e, i, n) {
                        cc.game.renderType !== cc.game.RENDER_TYPE_CANVAS && ("string" == typeof i && (i = parseInt(i)), this._effect.define(t, e, i, n))
                    },
                    getDefine: function (t, e) {
                        return "string" == typeof e && (e = parseInt(e)), this._effect.getDefine(t, e)
                    },
                    setCullMode: function (t, e) {
                        void 0 === t && (t = a.CULL_BACK), this._effect.setCullMode(t, e)
                    },
                    setDepth: function (t, e, i, n) {
                        void 0 === t && (t = !1), void 0 === e && (e = !1), void 0 === i && (i = a.DS_FUNC_LESS), this._effect.setDepth(t, e, i, n)
                    },
                    setBlend: function (t, e, i, n, r, s, o, c, l) {
                        void 0 === t && (t = !1), void 0 === e && (e = a.BLEND_FUNC_ADD), void 0 === i && (i = a.BLEND_SRC_ALPHA), void 0 === n && (n = a.BLEND_ONE_MINUS_SRC_ALPHA), void 0 === r && (r = a.BLEND_FUNC_ADD), void 0 === s && (s = a.BLEND_SRC_ALPHA), void 0 === o && (o = a.BLEND_ONE_MINUS_SRC_ALPHA), void 0 === c && (c = 4294967295), this._effect.setBlend(t, e, i, n, r, s, o, c, l)
                    },
                    setStencilEnabled: function (t, e) {
                        void 0 === t && (t = a.STENCIL_INHERIT), this._effect.setStencilEnabled(t, e)
                    },
                    setStencil: function (t, e, i, n, r, s, o, c, l) {
                        void 0 === t && (t = a.STENCIL_INHERIT), void 0 === e && (e = a.DS_FUNC_ALWAYS), void 0 === i && (i = 0), void 0 === n && (n = 255), void 0 === r && (r = a.STENCIL_OP_KEEP), void 0 === s && (s = a.STENCIL_OP_KEEP), void 0 === o && (o = a.STENCIL_OP_KEEP), void 0 === c && (c = 255), this._effect.setStencil(t, e, i, n, r, s, o, c, l)
                    },
                    updateHash: function (t) {
                        this._manualHash = t, this._effect && this._effect.updateHash(t)
                    },
                    getHash: function () {
                        return this._manualHash || this._effect && this._effect.getHash()
                    },
                    onLoad: function () {
                        if (this.effectAsset = this._effectAsset, this._effect) {
                            this._techniqueIndex && this._effect.switchTechnique(this._techniqueIndex), this._techniqueData = this._techniqueData || {};
                            var t = this._techniqueData;
                            for (var e in t) {
                                var i = t[e = parseInt(e)];
                                if (i) {
                                    for (var n in i.defines) this.define(n, i.defines[n], e);
                                    for (var r in i.props) this.setProperty(r, i.props[r], e)
                                }
                            }
                        }
                    }
                }), l = c;
            i.default = l, cc.Material = c, e.exports = i.default
        }), {"../../utils/texture-util": 258, "../CCAsset": 72, "../CCTexture2D": 87, "./CCEffectAsset": 90}],
        92: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = s(t("../../../renderer/core/pass")), r = s(t("../../../renderer/enums"));

            function s(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function a(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = o(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function o(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            var c = cc.gfx, l = (function () {
                function t() {
                    this._dirty = !0, this._name = "", this._technique = null
                }

                var e, i, s = t.prototype;
                return s._createPassProp = function (t, e) {
                    var i = e._properties[t];
                    if (i) {
                        var n = Object.create(null);
                        return n.name = t, n.type = i.type, i.value instanceof Float32Array ? n.value = new Float32Array(i.value) : i.value instanceof Float64Array ? n.value = new Float64Array(i.value) : n.value = i.value, e._properties[t] = n, n
                    }
                }, s._setPassProperty = function (t, e, i, s) {
                    var a = i._properties;
                    a.hasOwnProperty(t) || this._createPassProp(t, i);
                    var o = a[t], c = e;
                    return o.type === r.default.PARAM_TEXTURE_2D && (c = e && e.getImpl()), o.value === c || (this._dirty = !0, n.default.prototype.setProperty.call(i, t, e, s))
                }, s.setProperty = function (t, e, i, n) {
                    var r = !1, s = this.passes, a = 0, o = s.length;
                    void 0 !== i && (a = i, o = i + 1);
                    for (var c = a; c < o; c++) this._setPassProperty(t, e, s[c], n) && (r = !0);
                    r || cc.warnID(9103, this.name, t)
                }, s.getProperty = function (t, e) {
                    var i = this.passes;
                    if (!(e >= i.length)) {
                        var n = 0, r = i.length;
                        void 0 !== e && (n = e, r = e + 1);
                        for (var s = n; s < r; s++) {
                            var a = i[s].getProperty(t);
                            if (void 0 !== a) return a
                        }
                    }
                }, s.define = function (t, e, i, n) {
                    var r = !1, s = this.passes, a = 0, o = s.length;
                    void 0 !== i && (a = i, o = i + 1);
                    for (var c = a; c < o; c++) s[c].define(t, e, n) && (r = !0);
                    r || cc.warnID(9104, this.name, t)
                }, s.getDefine = function (t, e) {
                    var i = this.passes;
                    if (!(e >= i.length)) {
                        var n = 0, r = i.length;
                        void 0 !== e && (n = e, r = e + 1);
                        for (var s = n; s < r; s++) {
                            var a = i[s].getDefine(t);
                            if (void 0 !== a) return a
                        }
                    }
                }, s.setCullMode = function (t, e) {
                    void 0 === t && (t = c.CULL_BACK);
                    var i = this.passes, n = 0, r = i.length;
                    void 0 !== e && (n = e, r = e + 1);
                    for (var s = n; s < r; s++) i[s].setCullMode(t);
                    this._dirty = !0
                }, s.setDepth = function (t, e, i, n) {
                    var r = this.passes, s = 0, a = r.length;
                    void 0 !== n && (s = n, a = n + 1);
                    for (var o = s; o < a; o++) r[o].setDepth(t, e, i);
                    this._dirty = !0
                }, s.setBlend = function (t, e, i, n, r, s, a, o, c) {
                    var l = this.passes, h = 0, u = l.length;
                    void 0 !== c && (h = c, u = c + 1);
                    for (var f = h; f < u; f++) l[f].setBlend(t, e, i, n, r, s, a, o);
                    this._dirty = !0
                }, s.setStencilEnabled = function (t, e) {
                    void 0 === t && (t = c.STENCIL_INHERIT);
                    var i = this.passes, n = 0, r = i.length;
                    void 0 !== e && (n = e, r = e + 1);
                    for (var s = n; s < r; s++) i[s].setStencilEnabled(t);
                    this._dirty = !0
                }, s.setStencil = function (t, e, i, n, r, s, a, o, c) {
                    var l = this.passes, h = 0, u = l.length;
                    void 0 !== c && (h = c, u = c + 1);
                    for (var f = h; f < u; f++) {
                        var d = l[f];
                        d.setStencilFront(t, e, i, n, r, s, a, o), d.setStencilBack(t, e, i, n, r, s, a, o)
                    }
                    this._dirty = !0
                }, e = t, (i = [{
                    key: "name", get: function () {
                        return this._name
                    }
                }, {
                    key: "technique", get: function () {
                        return this._technique
                    }
                }, {
                    key: "passes", get: function () {
                        return []
                    }
                }]) && a(e.prototype, i), Object.defineProperty(e, "prototype", {writable: !1}), t
            })();
            i.default = l, cc.EffectBase = l, e.exports = i.default
        }), {"../../../renderer/core/pass": 283, "../../../renderer/enums": 287}],
        93: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.parseEffect = function (t) {
                var e = f(t);
                return new a.default(t.name, e, 0, t)
            };
            var n = c(t("../../../renderer/core/pass")), r = t("../../../renderer/types"),
                s = c(t("../../../renderer/enums")), a = c(t("./effect")), o = c(t("../../../renderer/core/technique"));

            function c(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function l(t) {
                return cc.renderer._forward._programLib.getTemplate(t)
            }

            function h(t, e) {
                var i = e.properties || {}, n = l(e.program), a = function (e) {
                    if (!n.uniforms.find((function (t) {
                        return t.name === e
                    }))) return cc.warnID(9107, t.name, e), "continue"
                };
                for (var o in i) a(o);
                var c = {};
                return n.uniforms.forEach((function (t) {
                    var e, n = t.name, a = c[n] = Object.assign({}, t), o = i[n];
                    void 0 === (e = o ? o.type === s.default.PARAM_TEXTURE_2D ? null : o.type === s.default.PARAM_INT || o.type === s.default.PARAM_FLOAT ? Array.isArray(o.value) ? o.value[0] : o.value : new Float32Array(o.value) : r.enums2default[t.type]) && (e = null), a.value = e
                })), c
            }

            function u(t) {
                var e = {};
                return l(t.program).defines.forEach((function (t) {
                    e[t.name] = r.enums2default[t.type]
                })), e
            }

            function f(t) {
                for (var e = t.techniques.length, i = new Array(e), r = 0; r < e; ++r) {
                    for (var s = t.techniques[r], a = s.name || r, c = s.passes.length, l = new Array(c), f = 0; f < c; ++f) {
                        var d = s.passes[f], _ = d.name || f, p = t.name + "-" + a + "-" + _, v = d.stage || "opaque",
                            g = h(t, d), m = u(d), y = l[f] = new n.default(_, p, d.program, v, g, m);
                        d.rasterizerState && y.setCullMode(d.rasterizerState.cullMode);
                        var T = d.blendState && d.blendState.targets[0];
                        T && y.setBlend(T.blend, T.blendEq, T.blendSrc, T.blendDst, T.blendAlphaEq, T.blendSrcAlpha, T.blendDstAlpha, T.blendColor);
                        var E = d.depthStencilState;
                        E && (y.setDepth(E.depthTest, E.depthWrite, E.depthFunc), y.setStencilFront(E.stencilTest, E.stencilFuncFront, E.stencilRefFront, E.stencilMaskFront, E.stencilFailOpFront, E.stencilZFailOpFront, E.stencilZPassOpFront, E.stencilWriteMaskFront), y.setStencilBack(E.stencilTest, E.stencilFuncBack, E.stencilRefBack, E.stencilMaskBack, E.stencilFailOpBack, E.stencilZFailOpBack, E.stencilZPassOpBack, E.stencilWriteMaskBack))
                    }
                    i[r] = new o.default(a, l)
                }
                return i
            }
        }), {
            "../../../renderer/core/pass": 283,
            "../../../renderer/core/technique": 285,
            "../../../renderer/enums": 287,
            "../../../renderer/types": 316,
            "./effect": 95
        }],
        94: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = a(t("../../../renderer/murmurhash2_gc")), r = a(t("./utils")), s = a(t("./effect-base"));

            function a(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function o(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = c(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function c(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            function l(t, e) {
                return (l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            cc.gfx;
            var h = (function (t) {
                var e, i;

                function s(e) {
                    var i;
                    return (i = t.call(this) || this)._effect = void 0, i._passes = [], i._stagePasses = {}, i._hash = 0, i.init(e), i
                }

                i = t, (e = s).prototype = Object.create(i.prototype), e.prototype.constructor = e, l(e, i);
                var a, c, h = s.prototype;
                return h._onEffectChanged = function () {
                }, h.init = function (t) {
                    if (t instanceof s && (t = t.effect), this._effect = t, this._dirty = !0, t) {
                        var e = t.passes, i = this._passes;
                        i.length = 0;
                        for (var n = this._stagePasses = {}, r = 0; r < e.length; r++) {
                            var a = i[r] = Object.setPrototypeOf({}, e[r]);
                            a._properties = Object.setPrototypeOf({}, e[r]._properties), a._defines = Object.setPrototypeOf({}, e[r]._defines), n[a._stage] || (n[a._stage] = []), n[a._stage].push(a)
                        }
                    }
                }, h.updateHash = function () {
                }, h.getHash = function () {
                    if (!this._dirty) return this._hash;
                    this._dirty = !1;
                    var t = "";
                    t += r.default.serializePasses(this._passes);
                    var e = this._effect;
                    return e && (t += r.default.serializePasses(e.passes)), this._hash = (0, n.default)(t, 666), this.updateHash(this._hash), this._hash
                }, a = s, (c = [{
                    key: "effect", get: function () {
                        return this._effect
                    }
                }, {
                    key: "name", get: function () {
                        return this._effect && this._effect.name + " (variant)"
                    }
                }, {
                    key: "passes", get: function () {
                        return this._passes
                    }
                }, {
                    key: "stagePasses", get: function () {
                        return this._stagePasses
                    }
                }]) && o(a.prototype, c), Object.defineProperty(a, "prototype", {writable: !1}), s
            })(s.default);
            i.default = h, cc.EffectVariant = h, e.exports = i.default
        }), {"../../../renderer/murmurhash2_gc": 310, "./effect-base": 92, "./utils": 99}],
        95: [(function (t, e, i) {
            "use strict";
            var n;

            function r(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = s(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function s(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            function a(t, e) {
                return (a = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            i.__esModule = !0, i.default = void 0;
            var o = (function (t) {
                var e, i;

                function n(e, i, n, r) {
                    var s;
                    return (s = t.call(this) || this)._techniques = [], s._asset = null, s.init(e, i, n, r, !0), s
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, a(e, i);
                var s, o, c = n.prototype;
                return c.init = function (t, e, i, n) {
                    this._name = t, this._techniques = e, this._technique = e[i], this._asset = n
                }, c.switchTechnique = function (t) {
                    t >= this._techniques.length ? cc.warn("Can not switch to technique with index [" + t + "]") : this._technique = this._techniques[t]
                }, c.clear = function () {
                    this._techniques = []
                }, c.clone = function () {
                    for (var t = [], e = 0; e < this._techniques.length; e++) t.push(this._techniques[e].clone());
                    var i = this._techniques.indexOf(this._technique);
                    return new n(this._name, t, i, this._asset)
                }, s = n, (o = [{
                    key: "technique", get: function () {
                        return this._technique
                    }
                }, {
                    key: "passes", get: function () {
                        return this._technique.passes
                    }
                }]) && r(s.prototype, o), Object.defineProperty(s, "prototype", {writable: !1}), n
            })(((n = t("./effect-base")) && n.__esModule ? n : {default: n}).default);
            i.default = o, cc.Effect = o, e.exports = i.default
        }), {"./effect-base": 92}],
        96: [(function (t) {
            "use strict";
            t("./CCEffectAsset"), t("./CCMaterial"), t("./material-variant")
        }), {"./CCEffectAsset": 90, "./CCMaterial": 91, "./material-variant": 98}],
        97: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = s(t("./utils")), r = s(t("../../utils/pool"));

            function s(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function a(t, e) {
                return (a = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var o = new (function (t) {
                var e, i;

                function r() {
                    for (var e, i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
                    return (e = t.call.apply(t, [this].concat(n)) || this).enabled = !1, e._pool = {}, e
                }

                i = t, (e = r).prototype = Object.create(i.prototype), e.prototype.constructor = e, a(e, i);
                var s = r.prototype;
                return s.get = function (t, e) {
                    var i, r = this._pool;
                    if (t instanceof cc.MaterialVariant) {
                        if (!t._owner) return t._owner = e, t;
                        if (t._owner === e) return t;
                        t = t.material
                    }
                    if (this.enabled) {
                        var s = t.effectAsset._uuid;
                        if (r[s]) {
                            var a = n.default.serializeDefines(t._effect._defines) + n.default.serializeTechniques(t._effect._techniques);
                            i = r[s][a] && r[s][a].pop()
                        }
                    }
                    return i ? this.count-- : ((i = new cc.MaterialVariant(t))._name = t._name + " (Instance)", i._uuid = t._uuid), i._owner = e, i
                }, s.put = function (t) {
                    if (this.enabled && t._owner) {
                        var e = this._pool, i = t.effectAsset._uuid;
                        e[i] || (e[i] = {});
                        var r = n.default.serializeDefines(t._effect._defines) + n.default.serializeTechniques(t._effect._techniques);
                        e[i][r] || (e[i][r] = []), this.count > this.maxSize || (this._clean(t), e[i][r].push(t), this.count++)
                    }
                }, s.clear = function () {
                    this._pool = {}, this.count = 0
                }, s._clean = function (t) {
                    t._owner = null
                }, r
            }(r.default));
            r.default.register("material", o);
            var c = o;
            i.default = c, e.exports = i.default
        }), {"../../utils/pool": 252, "./utils": 99}],
        98: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = o(t("./CCMaterial")), s = o(t("./effect-variant")), a = o(t("./material-pool"));

            function o(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function c(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = l(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function l(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            function h(t, e) {
                return (h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var u = (0, cc._decorator.ccclass)("cc.MaterialVariant")(n = (function (t) {
                var e, i, n, o;

                function l(e) {
                    var i;
                    return (i = t.call(this) || this)._owner = null, i._material = null, i.init(e), i
                }

                return i = t, (e = l).prototype = Object.create(i.prototype), e.prototype.constructor = e, h(e, i), l.createWithBuiltin = function (t, e) {
                    return l.create(r.default.getBuiltinMaterial(t), e)
                }, l.create = function (t, e) {
                    return t ? a.default.get(t, e) : null
                }, l.prototype.init = function (t) {
                    this._effect = new s.default(t.effect), this._effectAsset = t._effectAsset, this._material = t
                }, n = l, (o = [{
                    key: "uuid", get: function () {
                        return this._material._uuid
                    }
                }, {
                    key: "owner", get: function () {
                        return this._owner
                    }
                }, {
                    key: "material", get: function () {
                        return this._material
                    }
                }]) && c(n.prototype, o), Object.defineProperty(n, "prototype", {writable: !1}), l
            })(r.default)) || n;
            i.default = u, cc.MaterialVariant = u, e.exports = i.default
        }), {"./CCMaterial": 91, "./effect-variant": 94, "./material-pool": 97}],
        99: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../../renderer/enums")) && n.__esModule ? n : {default: n}, s = [];

            function a(t, e) {
                for (var i = e.length, n = 0; n < i; n++) {
                    var r = e[n];
                    s[n] = r + t[r]
                }
                return s.length = i, s.join("")
            }

            function o(t, e) {
                for (var i = 0, n = 0, a = e.length; n < a; n++) {
                    var o = t[e[n]], c = o.value;
                    c && (o.type === r.default.PARAM_TEXTURE_2D || o.type === r.default.PARAM_TEXTURE_CUBE ? s[i] = c._id : s[i] = c.toString(), i++)
                }
                return s.length = i, s.join(";")
            }

            var c = {
                serializeDefines: a, serializePasses: function (t) {
                    for (var e, i, n = "", r = 0; r < t.length; r++) n += (void 0, i = void 0, i = (e = t[r])._programName + e._cullMode, e._blend && (i += e._blendEq + e._blendAlphaEq + e._blendSrc + e._blendDst + e._blendSrcAlpha + e._blendDstAlpha + e._blendColor), e._depthTest && (i += e._depthWrite + e._depthFunc), e._stencilTest && (i += e._stencilFuncFront + e._stencilRefFront + e._stencilMaskFront + e._stencilFailOpFront + e._stencilZFailOpFront + e._stencilZPassOpFront + e._stencilWriteMaskFront + e._stencilFuncBack + e._stencilRefBack + e._stencilMaskBack + e._stencilFailOpBack + e._stencilZFailOpBack + e._stencilZPassOpBack + e._stencilWriteMaskBack), i += o(e._properties, e._propertyNames), i += a(e._defines, e._defineNames));
                    return n
                }, serializeUniforms: o
            };
            i.default = c, e.exports = i.default
        }), {"../../../renderer/enums": 287}],
        100: [(function (t, e) {
            "use strict";
            t("../CCNode").EventType;
            var i = 56, n = 7, r = cc.Enum({ONCE: 0, ON_WINDOW_RESIZE: 1, ALWAYS: 2});

            function s(t, e, i, n) {
                for (var r = t._parent.scaleX, s = t._parent.scaleY, a = 0, o = 0, c = t._parent; ;) {
                    if (a += c.x, o += c.y, !(c = c._parent)) return i.x = i.y = 0, void (n.x = n.y = 1);
                    if (c === e) break;
                    var l = c.scaleX, h = c.scaleY;
                    a *= l, o *= h, r *= l, s *= h
                }
                n.x = 0 !== r ? 1 / r : 1, n.y = 0 !== s ? 1 / s : 1, i.x = -a, i.y = -o
            }

            var a = cc.Vec2.ZERO, o = cc.Vec2.ONE;

            function c(t, e) {
                var r, c, l, h = e._target;
                h ? s(t, r = h, c = a, l = o) : r = t._parent;
                var u, f = (u = r) instanceof cc.Scene ? cc.visibleRect : u._contentSize, d = r._anchorPoint,
                    _ = r instanceof cc.Scene, p = t.x, v = t.y, g = t._anchorPoint;
                if (e._alignFlags & i) {
                    var m, y, T = f.width;
                    _ ? (m = cc.visibleRect.left.x, y = cc.visibleRect.right.x) : y = (m = -d.x * T) + T, m += e._isAbsLeft ? e._left : e._left * T, y -= e._isAbsRight ? e._right : e._right * T, h && (m += c.x, m *= l.x, y += c.x, y *= l.x);
                    var E, A = g.x, b = t.scaleX;
                    if (b < 0 && (A = 1 - A, b = -b), e.isStretchWidth) E = y - m, 0 !== b && (t.width = E / b), p = m + A * E; else if (E = t.width * b, e.isAlignHorizontalCenter) {
                        var x = e._isAbsHorizontalCenter ? e._horizontalCenter : e._horizontalCenter * T,
                            C = (.5 - d.x) * f.width;
                        h && (x *= l.x, C += c.x, C *= l.x), p = C + (A - .5) * E + x
                    } else p = e.isAlignLeft ? m + A * E : y + (A - 1) * E
                }
                if (e._alignFlags & n) {
                    var S, w, M = f.height;
                    _ ? (w = cc.visibleRect.bottom.y, S = cc.visibleRect.top.y) : S = (w = -d.y * M) + M, w += e._isAbsBottom ? e._bottom : e._bottom * M, S -= e._isAbsTop ? e._top : e._top * M, h && (w += c.y, w *= l.y, S += c.y, S *= l.y);
                    var R, I = g.y, O = t.scaleY;
                    if (O < 0 && (I = 1 - I, O = -O), e.isStretchHeight) R = S - w, 0 !== O && (t.height = R / O), v = w + I * R; else if (R = t.height * O, e.isAlignVerticalCenter) {
                        var D = e._isAbsVerticalCenter ? e._verticalCenter : e._verticalCenter * M,
                            P = (.5 - d.y) * f.height;
                        h && (D *= l.y, P += c.y, P *= l.y), v = P + (I - .5) * R + D
                    } else v = e.isAlignBottom ? w + I * R : S + (I - 1) * R
                }
                t.setPosition(p, v)
            }

            function l(t) {
                var e = t._widget;
                e && (c(t, e), e.alignMode !== r.ALWAYS ? f.remove(e) : u.push(e));
                for (var i = t._children, n = 0; n < i.length; n++) {
                    var s = i[n];
                    s._active && l(s)
                }
            }

            function h() {
                var t = cc.director.getScene();
                if (t) {
                    if (f.isAligning = !0, f._nodesOrderDirty) u.length = 0, l(t), f._nodesOrderDirty = !1; else {
                        var e, i = f._activeWidgetsIterator;
                        for (i.i = 0; i.i < u.length; ++i.i) c((e = u[i.i]).node, e)
                    }
                    f.isAligning = !1
                }
            }

            var u = [], f = cc._widgetManager = e.exports = {
                _AlignFlags: {
                    TOP: 1,
                    MID: 2,
                    BOT: 4,
                    LEFT: 8,
                    CENTER: 16,
                    RIGHT: 32
                },
                isAligning: !1,
                _nodesOrderDirty: !1,
                _activeWidgetsIterator: new cc.js.array.MutableForwardIterator(u),
                init: function (t) {
                    t.on(cc.Director.EVENT_AFTER_UPDATE, h);
                    var e = this.onResized.bind(this);
                    cc.view.on("canvas-resize", e), window.addEventListener("orientationchange", e)
                },
                add: function (t) {
                    t.node._widget = t, this._nodesOrderDirty = !0
                },
                remove: function (t) {
                    t.node._widget = null, this._activeWidgetsIterator.remove(t)
                },
                onResized: function () {
                    var t = cc.director.getScene();
                    t && this.refreshWidgetOnResized(t)
                },
                refreshWidgetOnResized: function (t) {
                    var e = cc.Node.isNode(t) && t.getComponent(cc.Widget);
                    e && e.enabled && e.alignMode === r.ON_WINDOW_RESIZE && this.add(e);
                    for (var i = t._children, n = 0; n < i.length; n++) {
                        var s = i[n];
                        this.refreshWidgetOnResized(s)
                    }
                },
                updateAlignment: function t(e) {
                    var i = e._parent;
                    cc.Node.isNode(i) && t(i);
                    var n = e._widget || e.getComponent(cc.Widget);
                    n && i && c(e, n)
                },
                AlignMode: r
            }
        }), {"../CCNode": 39}],
        101: [(function (t, e) {
            "use strict";
            var i = t("../value-types"), n = t("../geom-utils"), r = t("../utils/affine-transform"),
                s = t("../renderer/index"), a = t("../renderer/render-flow"), o = t("../CCGame"), c = null;
            c = t("../../renderer/scene/camera");
            var l = cc.mat4(), h = cc.mat4(), u = cc.v3(), f = cc.v3(), d = cc.v3(), _ = [];

            function p() {
                for (var t = 0, e = Number.MAX_VALUE; t < _.length; t++) {
                    var i = _[t];
                    i._depth < e && (T.main = i, e = i._depth)
                }
            }

            var v = null;

            function g() {
                if (v) {
                    var t = v.getNode(), e = cc.game.canvas;
                    t.z = e.height / 1.1566, t.x = e.width / 2, t.y = e.height / 2
                }
            }

            var m = cc.Enum({COLOR: 1, DEPTH: 2, STENCIL: 4}), y = cc.Enum({OPAQUE: 1, TRANSPARENT: 2}), T = cc.Class({
                name: "cc.Camera", extends: cc.Component, ctor: function () {
                    if (o.renderType !== o.RENDER_TYPE_CANVAS) {
                        var t = new c;
                        t.setStages(["opaque"]), t.dirty = !0, this._inited = !1, this._camera = t
                    } else this._inited = !0
                }, editor: !1, properties: {
                    _cullingMask: 4294967295,
                    _clearFlags: m.DEPTH | m.STENCIL,
                    _backgroundColor: cc.color(0, 0, 0, 255),
                    _depth: 0,
                    _zoomRatio: 1,
                    _targetTexture: null,
                    _fov: 60,
                    _orthoSize: 10,
                    _nearClip: 1,
                    _farClip: 4096,
                    _ortho: !0,
                    _rect: cc.rect(0, 0, 1, 1),
                    _renderStages: 1,
                    _alignWithScreen: !0,
                    zoomRatio: {
                        get: function () {
                            return this._zoomRatio
                        }, set: function (t) {
                            this._zoomRatio = t
                        }, tooltip: !1
                    },
                    fov: {
                        get: function () {
                            return this._fov
                        }, set: function (t) {
                            this._fov = t
                        }, tooltip: !1
                    },
                    orthoSize: {
                        get: function () {
                            return this._orthoSize
                        }, set: function (t) {
                            this._orthoSize = t
                        }, tooltip: !1
                    },
                    nearClip: {
                        get: function () {
                            return this._nearClip
                        }, set: function (t) {
                            this._nearClip = t, this._updateClippingpPlanes()
                        }, tooltip: !1
                    },
                    farClip: {
                        get: function () {
                            return this._farClip
                        }, set: function (t) {
                            this._farClip = t, this._updateClippingpPlanes()
                        }, tooltip: !1
                    },
                    ortho: {
                        get: function () {
                            return this._ortho
                        }, set: function (t) {
                            this._ortho = t, this._updateProjection()
                        }, tooltip: !1
                    },
                    rect: {
                        get: function () {
                            return this._rect
                        }, set: function (t) {
                            this._rect = t, this._updateRect()
                        }, tooltip: !1
                    },
                    cullingMask: {
                        get: function () {
                            return this._cullingMask
                        }, set: function (t) {
                            this._cullingMask = t, this._updateCameraMask()
                        }, tooltip: !1
                    },
                    clearFlags: {
                        get: function () {
                            return this._clearFlags
                        }, set: function (t) {
                            this._clearFlags = t, this._camera && this._camera.setClearFlags(t)
                        }, tooltip: !1
                    },
                    backgroundColor: {
                        get: function () {
                            return this._backgroundColor
                        }, set: function (t) {
                            this._backgroundColor.equals(t) || (this._backgroundColor.set(t), this._updateBackgroundColor())
                        }, tooltip: !1
                    },
                    depth: {
                        get: function () {
                            return this._depth
                        }, set: function (t) {
                            T.main === this ? this._depth < t && p() : T.main && t < T.main._depth && _.includes(this) && (T.main = this), this._depth = t, this._camera && this._camera.setPriority(t)
                        }, tooltip: !1
                    },
                    targetTexture: {
                        get: function () {
                            return this._targetTexture
                        }, set: function (t) {
                            this._targetTexture = t, this._updateTargetTexture()
                        }, tooltip: !1
                    },
                    renderStages: {
                        get: function () {
                            return this._renderStages
                        }, set: function (t) {
                            this._renderStages = t, this._updateStages()
                        }, tooltip: !1
                    },
                    alignWithScreen: {
                        get: function () {
                            return this._alignWithScreen
                        }, set: function (t) {
                            this._alignWithScreen = t
                        }
                    },
                    _is3D: {
                        get: function () {
                            return this.node && this.node._is3DNode
                        }
                    }
                }, statics: {
                    main: null, cameras: _, ClearFlags: m, findCamera: function (t) {
                        for (var e = 0, i = _.length; e < i; e++) {
                            var n = _[e];
                            if (n.containsNode(t)) return n
                        }
                        return null
                    }, _findRendererCamera: function (t) {
                        for (var e = s.scene._cameras, i = 0; i < e._count; i++) if (e._data[i]._cullingMask & t._cullingMask) return e._data[i];
                        return null
                    }, _setupDebugCamera: function () {
                        if (!v && o.renderType !== o.RENDER_TYPE_CANVAS) {
                            var t = new c;
                            v = t, t.setStages(["opaque"]), t.setFov(60 * Math.PI / 180), t.setNear(.1), t.setFar(4096), t.dirty = !0, t.cullingMask = 1 << cc.Node.BuiltinGroupIndex.DEBUG, t.setPriority(cc.macro.MAX_ZINDEX), t.setClearFlags(0), t.setColor(0, 0, 0, 0);
                            var e = new cc.Node;
                            t.setNode(e), g(), cc.view.on("design-resolution-changed", g), s.scene.addCamera(t)
                        }
                    }
                }, _updateCameraMask: function () {
                    if (this._camera) {
                        var t = this._cullingMask & ~(1 << cc.Node.BuiltinGroupIndex.DEBUG);
                        this._camera.cullingMask = t
                    }
                }, _updateBackgroundColor: function () {
                    if (this._camera) {
                        var t = this._backgroundColor;
                        this._camera.setColor(t.r / 255, t.g / 255, t.b / 255, t.a / 255)
                    }
                }, _updateTargetTexture: function () {
                    if (this._camera) {
                        var t = this._targetTexture;
                        this._camera.setFrameBuffer(t ? t._framebuffer : null)
                    }
                }, _updateClippingpPlanes: function () {
                    this._camera && (this._camera.setNear(this._nearClip), this._camera.setFar(this._farClip))
                }, _updateProjection: function () {
                    if (this._camera) {
                        var t = this._ortho ? 1 : 0;
                        this._camera.setType(t)
                    }
                }, _updateRect: function () {
                    if (this._camera) {
                        var t = this._rect;
                        this._camera.setRect(t.x, t.y, t.width, t.height)
                    }
                }, _updateStages: function () {
                    var t = this._renderStages, e = [];
                    t & y.OPAQUE && e.push("opaque"), t & y.TRANSPARENT && e.push("transparent"), this._camera.setStages(e)
                }, _init: function () {
                    if (!this._inited) {
                        this._inited = !0;
                        var t = this._camera;
                        t && (t.setNode(this.node), t.setClearFlags(this._clearFlags), t.setPriority(this._depth), this._updateBackgroundColor(), this._updateCameraMask(), this._updateTargetTexture(), this._updateClippingpPlanes(), this._updateProjection(), this._updateStages(), this._updateRect(), this.beforeDraw())
                    }
                }, __preload: function () {
                    this._init()
                }, onEnable: function () {
                    o.renderType !== o.RENDER_TYPE_CANVAS && (cc.director.on(cc.Director.EVENT_BEFORE_DRAW, this.beforeDraw, this), s.scene.addCamera(this._camera)), _.push(this), (!T.main || this._depth < T.main._depth) && (T.main = this)
                }, onDisable: function () {
                    o.renderType !== o.RENDER_TYPE_CANVAS && (cc.director.off(cc.Director.EVENT_BEFORE_DRAW, this.beforeDraw, this), s.scene.removeCamera(this._camera)), cc.js.array.fastRemove(_, this), T.main === this && (T.main = null, p())
                }, getScreenToWorldMatrix2D: function (t) {
                    return this.getWorldToScreenMatrix2D(t), i.Mat4.invert(t, t), t
                }, getWorldToScreenMatrix2D: function (t) {
                    this.node.getWorldRT(l);
                    var e = this.zoomRatio, n = l.m;
                    n[0] *= e, n[1] *= e, n[4] *= e, n[5] *= e;
                    var r = n[12], s = n[13], a = cc.visibleRect.center;
                    return n[12] = a.x - (n[0] * r + n[4] * s), n[13] = a.y - (n[1] * r + n[5] * s), t !== l && i.Mat4.copy(t, l), t
                }, getScreenToWorldPoint: function (t, e) {
                    return this.node.is3DNode ? (e = e || new cc.Vec3, this._camera.screenToWorld(e, t, cc.visibleRect.width, cc.visibleRect.height)) : (e = e || new cc.Vec2, this.getScreenToWorldMatrix2D(l), i.Vec2.transformMat4(e, t, l)), e
                }, getWorldToScreenPoint: function (t, e) {
                    return this.node.is3DNode ? (e = e || new cc.Vec3, this._camera.worldToScreen(e, t, cc.visibleRect.width, cc.visibleRect.height)) : (e = e || new cc.Vec2, this.getWorldToScreenMatrix2D(l), i.Vec2.transformMat4(e, t, l)), e
                }, getRay: function (t) {
                    return cc.geomUtils ? (i.Vec3.set(d, t.x, t.y, 1), this._camera.screenToWorld(f, d, cc.visibleRect.width, cc.visibleRect.height), this.ortho ? (i.Vec3.set(d, t.x, t.y, -1), this._camera.screenToWorld(u, d, cc.visibleRect.width, cc.visibleRect.height)) : this.node.getWorldPosition(u), n.Ray.fromPoints(new n.Ray, u, f)) : t
                }, containsNode: function (t) {
                    return (t._cullingMask & this.cullingMask) > 0
                }, render: function (t) {
                    if (!(t = t || cc.director.getScene())) return null;
                    this.node.getWorldMatrix(l), this.beforeDraw(), a.renderCamera(this._camera, t)
                }, _onAlignWithScreen: function () {
                    var t = cc.game.canvas.height / cc.view._scaleY;
                    this._targetTexture && (t = cc.visibleRect.height);
                    var e = this._fov * cc.macro.RAD;
                    this.node.z = t / (2 * Math.tan(e / 2)), e = 2 * Math.atan(Math.tan(e / 2) / this.zoomRatio), this._camera.setFov(e), this._camera.setOrthoHeight(t / 2 / this.zoomRatio), this.node.setRotation(0, 0, 0, 1)
                }, beforeDraw: function () {
                    if (this._camera) {
                        if (this._alignWithScreen) this._onAlignWithScreen(); else {
                            var t = this._fov * cc.macro.RAD;
                            t = 2 * Math.atan(Math.tan(t / 2) / this.zoomRatio), this._camera.setFov(t), this._camera.setOrthoHeight(this._orthoSize / this.zoomRatio)
                        }
                        this._camera.dirty = !0
                    }
                }
            });
            cc.js.mixin(T.prototype, {
                getNodeToCameraTransform: function (t) {
                    var e = r.identity();
                    return t.getWorldMatrix(h), this.containsNode(t) && (this.getWorldToCameraMatrix(l), i.Mat4.mul(h, h, l)), r.fromMat4(e, h), e
                }, getCameraToWorldPoint: function (t, e) {
                    return this.getScreenToWorldPoint(t, e)
                }, getWorldToCameraPoint: function (t, e) {
                    return this.getWorldToScreenPoint(t, e)
                }, getCameraToWorldMatrix: function (t) {
                    return this.getScreenToWorldMatrix2D(t)
                }, getWorldToCameraMatrix: function (t) {
                    return this.getWorldToScreenMatrix2D(t)
                }
            }), e.exports = cc.Camera = T
        }), {
            "../../renderer/scene/camera": 312,
            "../CCGame": 38,
            "../geom-utils": 148,
            "../renderer/index": 199,
            "../renderer/render-flow": 200,
            "../utils/affine-transform": 241,
            "../value-types": 265
        }],
        102: [(function (t, e) {
            "use strict";
            t("./platform/CCClass");
            var i = t("./platform/CCObject").Flags, n = t("./platform/js").array, r = i.IsStartCalled,
                s = i.IsOnEnableCalled;

            function a(t, e) {
                for (var i = e.constructor._executionOrder, n = e._id, r = 0, s = t.length - 1, a = s >>> 1; r <= s; a = r + s >>> 1) {
                    var o = t[a], c = o.constructor._executionOrder;
                    if (c > i) s = a - 1; else if (c < i) r = a + 1; else {
                        var l = o._id;
                        if (l > n) s = a - 1; else {
                            if (!(l < n)) return a;
                            r = a + 1
                        }
                    }
                }
                return ~r
            }

            function o(t, e) {
                for (var i = t.array, n = t.i + 1; n < i.length;) {
                    var r = i[n];
                    r._enabled && r.node && r.node._activeInHierarchy ? ++n : (t.removeAt(n), e && (r._objFlags &= ~e))
                }
            }

            i.IsEditorOnEnableCalled;
            var c = cc.Class({
                __ctor__: function (t) {
                    var e = n.MutableForwardIterator;
                    this._zero = new e([]), this._neg = new e([]), this._pos = new e([]), this._invoke = t
                }, statics: {stableRemoveInactive: o}, add: null, remove: null, invoke: null
            });

            function l(t, e) {
                return t.constructor._executionOrder - e.constructor._executionOrder
            }

            var h = cc.Class({
                extends: c, add: function (t) {
                    var e = t.constructor._executionOrder;
                    (0 === e ? this._zero : e < 0 ? this._neg : this._pos).array.push(t)
                }, remove: function (t) {
                    var e = t.constructor._executionOrder;
                    (0 === e ? this._zero : e < 0 ? this._neg : this._pos).fastRemove(t)
                }, cancelInactive: function (t) {
                    o(this._zero, t), o(this._neg, t), o(this._pos, t)
                }, invoke: function () {
                    var t = this._neg;
                    t.array.length > 0 && (t.array.sort(l), this._invoke(t), t.array.length = 0), this._invoke(this._zero), this._zero.array.length = 0;
                    var e = this._pos;
                    e.array.length > 0 && (e.array.sort(l), this._invoke(e), e.array.length = 0)
                }
            }), u = cc.Class({
                extends: c, add: function (t) {
                    var e = t.constructor._executionOrder;
                    if (0 === e) this._zero.array.push(t); else {
                        var i = e < 0 ? this._neg.array : this._pos.array, n = a(i, t);
                        n < 0 && i.splice(~n, 0, t)
                    }
                }, remove: function (t) {
                    var e = t.constructor._executionOrder;
                    if (0 === e) this._zero.fastRemove(t); else {
                        var i = e < 0 ? this._neg : this._pos, n = a(i.array, t);
                        n >= 0 && i.removeAt(n)
                    }
                }, invoke: function (t) {
                    this._neg.array.length > 0 && this._invoke(this._neg, t), this._invoke(this._zero, t), this._pos.array.length > 0 && this._invoke(this._pos, t)
                }
            });

            function f(t, e, i, n) {
                return function (e, r) {
                    try {
                        n(e, r)
                    } catch (a) {
                        cc._throw(a);
                        var s = e.array;
                        for (i && (s[e.i]._objFlags |= i), ++e.i; e.i < s.length; ++e.i) try {
                            t(s[e.i], r)
                        } catch (a) {
                            cc._throw(a), i && (s[e.i]._objFlags |= i)
                        }
                    }
                }
            }

            var d = f((function (t) {
                t.start(), t._objFlags |= r
            }), 0, r, (function (t) {
                var e = t.array;
                for (t.i = 0; t.i < e.length; ++t.i) {
                    var i = e[t.i];
                    i.start(), i._objFlags |= r
                }
            })), _ = f((function (t, e) {
                t.update(e)
            }), 0, void 0, (function (t, e) {
                var i = t.array;
                for (t.i = 0; t.i < i.length; ++t.i) i[t.i].update(e)
            })), p = f((function (t, e) {
                t.lateUpdate(e)
            }), 0, void 0, (function (t, e) {
                var i = t.array;
                for (t.i = 0; t.i < i.length; ++t.i) i[t.i].lateUpdate(e)
            }));

            function v() {
                this.startInvoker = new h(d), this.updateInvoker = new u(_), this.lateUpdateInvoker = new u(p), this._deferredComps = [], this._updating = !1
            }

            var g = cc.Class({
                ctor: v,
                unscheduleAll: v,
                statics: {
                    LifeCycleInvoker: c, OneOffInvoker: h, createInvokeImpl: f, invokeOnEnable: function (t) {
                        var e = cc.director._compScheduler, i = t.array;
                        for (t.i = 0; t.i < i.length; ++t.i) {
                            var n = i[t.i];
                            n._enabled && (n.onEnable(), !n.node._activeInHierarchy || e._onEnabled(n))
                        }
                    }
                },
                _onEnabled: function (t) {
                    cc.director.getScheduler().resumeTarget(t), t._objFlags |= s, this._updating ? this._deferredComps.push(t) : this._scheduleImmediate(t)
                },
                _onDisabled: function (t) {
                    cc.director.getScheduler().pauseTarget(t), t._objFlags &= ~s;
                    var e = this._deferredComps.indexOf(t);
                    e >= 0 ? n.fastRemoveAt(this._deferredComps, e) : (!t.start || t._objFlags & r || this.startInvoker.remove(t), t.update && this.updateInvoker.remove(t), t.lateUpdate && this.lateUpdateInvoker.remove(t))
                },
                enableComp: function (t, e) {
                    if (!(t._objFlags & s)) {
                        if (t.onEnable) {
                            if (e) return void e.add(t);
                            if (t.onEnable(), !t.node._activeInHierarchy) return
                        }
                        this._onEnabled(t)
                    }
                },
                disableComp: function (t) {
                    t._objFlags & s && (t.onDisable && t.onDisable(), this._onDisabled(t))
                },
                _scheduleImmediate: function (t) {
                    "function" != typeof t.start || t._objFlags & r || this.startInvoker.add(t), "function" == typeof t.update && this.updateInvoker.add(t), "function" == typeof t.lateUpdate && this.lateUpdateInvoker.add(t)
                },
                _deferredSchedule: function () {
                    for (var t = this._deferredComps, e = 0, i = t.length; e < i; e++) this._scheduleImmediate(t[e]);
                    t.length = 0
                },
                _startForNewComps: function () {
                    this._deferredComps.length > 0 && (this._deferredSchedule(), this.startInvoker.invoke())
                },
                startPhase: function () {
                    this._updating = !0, this.startInvoker.invoke(), this._startForNewComps()
                },
                updatePhase: function (t) {
                    this.updateInvoker.invoke(t)
                },
                lateUpdatePhase: function (t) {
                    this.lateUpdateInvoker.invoke(t), this._updating = !1, this._startForNewComps()
                }
            });
            e.exports = g
        }), {"./platform/CCClass": 167, "./platform/CCObject": 173, "./platform/js": 188, "./utils/misc": 250}],
        103: [(function (t, e) {
            "use strict";
            var i = t("../../animation/animation-animator"), n = t("../../animation/animation-clip"),
                r = t("../event/event-target"), s = t("../platform/js"), a = function (t, e) {
                    return t === e
                }, o = cc.Enum({
                    PLAY: "play",
                    STOP: "stop",
                    PAUSE: "pause",
                    RESUME: "resume",
                    LASTFRAME: "lastframe",
                    FINISHED: "finished"
                }), c = cc.Class({
                    name: "cc.Animation",
                    extends: t("./CCComponent"),
                    mixins: [r],
                    editor: !1,
                    statics: {EventType: o},
                    ctor: function () {
                        cc.EventTarget.call(this), this._animator = null, this._nameToState = s.createMap(!0), this._didInit = !1, this._currentClip = null
                    },
                    properties: {
                        _defaultClip: {default: null, type: n},
                        defaultClip: {
                            type: n, get: function () {
                                return this._defaultClip
                            }, set: function () {
                            }, tooltip: !1
                        },
                        currentClip: {
                            get: function () {
                                return this._currentClip
                            }, set: function (t) {
                                this._currentClip = t
                            }, type: n, visible: !1
                        },
                        _writableClips: {
                            get: function () {
                                return this._clips
                            }, set: function (t) {
                                this._didInit = !1, this._clips = t, this._init()
                            }, type: [n]
                        },
                        _clips: {default: [], type: [n], tooltip: !1, visible: !0},
                        playOnLoad: {default: !1, tooltip: !1}
                    },
                    start: function () {
                        if (this.playOnLoad && this._defaultClip && (!this._animator || !this._animator.isPlaying)) {
                            var t = this.getAnimationState(this._defaultClip.name);
                            this._animator.playState(t)
                        }
                    },
                    onEnable: function () {
                        this._animator && this._animator.resume()
                    },
                    onDisable: function () {
                        this._animator && this._animator.pause()
                    },
                    onDestroy: function () {
                        this.stop()
                    },
                    getClips: function () {
                        return this._clips
                    },
                    play: function (t, e) {
                        var i = this.playAdditive(t, e);
                        return this._animator.stopStatesExcept(i), i
                    },
                    playAdditive: function (t, e) {
                        this._init();
                        var i = this.getAnimationState(t || this._defaultClip && this._defaultClip.name);
                        if (i) {
                            this.enabled = !0;
                            var n = this._animator;
                            n.isPlaying && i.isPlaying ? i.isPaused ? n.resumeState(i) : (n.stopState(i), n.playState(i, e)) : n.playState(i, e), this.enabledInHierarchy || n.pause(), this.currentClip = i.clip
                        }
                        return i
                    },
                    stop: function (t) {
                        if (this._didInit) if (t) {
                            var e = this._nameToState[t];
                            e && this._animator.stopState(e)
                        } else this._animator.stop()
                    },
                    pause: function (t) {
                        if (this._didInit) if (t) {
                            var e = this._nameToState[t];
                            e && this._animator.pauseState(e)
                        } else this.enabled = !1
                    },
                    resume: function (t) {
                        if (this._didInit) if (t) {
                            var e = this.getAnimationState(t);
                            e && this._animator.resumeState(e)
                        } else this.enabled = !0
                    },
                    setCurrentTime: function (t, e) {
                        if (this._init(), e) {
                            var i = this.getAnimationState(e);
                            i && this._animator.setStateTime(i, t)
                        } else this._animator.setStateTime(t)
                    },
                    getAnimationState: function (t) {
                        this._init();
                        var e = this._nameToState[t];
                        return e && !e.curveLoaded && this._animator._reloadClip(e), e || null
                    },
                    hasAnimationState: function (t) {
                        return this._init(), !!this._nameToState[t]
                    },
                    addClip: function (t, e) {
                        if (t) {
                            this._init(), cc.js.array.contains(this._clips, t) || this._clips.push(t), e = e || t.name;
                            var i = this._nameToState[e];
                            if (i) {
                                if (i.clip === t) return i;
                                var n = this._clips.indexOf(i.clip);
                                -1 !== n && this._clips.splice(n, 1)
                            }
                            var r = new cc.AnimationState(t, e);
                            return this._nameToState[e] = r, r
                        }
                        cc.warnID(3900)
                    },
                    removeClip: function (t, e) {
                        if (t) {
                            var i;
                            for (var n in this._init(), this._nameToState) if (i = this._nameToState[n], a(i.clip, t)) break;
                            if (t === this._defaultClip) {
                                if (!e) return void cc.warnID(3902);
                                this._defaultClip = null
                            }
                            if (i && i.isPlaying) {
                                if (!e) return void cc.warnID(3903);
                                this.stop(i.name)
                            }
                            this._clips = this._clips.filter((function (e) {
                                return !a(e, t)
                            })), i && delete this._nameToState[i.name]
                        } else cc.warnID(3901)
                    },
                    sample: function (t) {
                        if (this._init(), t) {
                            var e = this.getAnimationState(t);
                            e && e.sample()
                        } else this._animator.sample()
                    },
                    on: function (t, e, i, n) {
                        this._init();
                        var r = this._EventTargetOn(t, e, i, n);
                        if ("lastframe" === t) {
                            var s = this._nameToState;
                            for (var a in s) s[a]._lastframeEventOn = !0
                        }
                        return r
                    },
                    off: function (t, e, i, n) {
                        if (this._init(), "lastframe" === t) {
                            var r = this._nameToState;
                            for (var s in r) r[s]._lastframeEventOn = !1
                        }
                        this._EventTargetOff(t, e, i, n)
                    },
                    _init: function () {
                        this._didInit || (this._didInit = !0, this._animator = new i(this.node, this), this._createStates())
                    },
                    _createStates: function () {
                        this._nameToState = s.createMap(!0);
                        for (var t = null, e = !1, i = 0; i < this._clips.length; ++i) {
                            var n = this._clips[i];
                            n && (t = new cc.AnimationState(n), this._nameToState[t.name] = t, a(this._defaultClip, n) && (e = t))
                        }
                        this._defaultClip && !e && (t = new cc.AnimationState(this._defaultClip), this._nameToState[t.name] = t)
                    }
                });
            c.prototype._EventTargetOn = r.prototype.on, c.prototype._EventTargetOff = r.prototype.off, cc.Animation = e.exports = c
        }), {
            "../../animation/animation-animator": 9,
            "../../animation/animation-clip": 10,
            "../event/event-target": 140,
            "../platform/js": 188,
            "./CCComponent": 108
        }],
        104: [(function (t, e) {
            "use strict";
            var i = t("../utils/misc"), n = t("./CCComponent"), r = t("../assets/CCAudioClip"), s = cc.Class({
                name: "cc.AudioSource",
                extends: n,
                editor: !1,
                ctor: function () {
                    this.audio = new cc._Audio
                },
                properties: {
                    _clip: {default: null, type: r},
                    _volume: 1,
                    _mute: !1,
                    _loop: !1,
                    _pausedFlag: {default: !1, serializable: !1},
                    _firstlyEnabled: !0,
                    isPlaying: {
                        get: function () {
                            return this.audio.getState() === cc._Audio.State.PLAYING
                        }, visible: !1
                    },
                    clip: {
                        get: function () {
                            return this._clip
                        }, set: function (t) {
                            if (t !== this._clip) {
                                if (!(t instanceof r)) return cc.error("Wrong type of AudioClip.");
                                this._clip = t, this.audio.stop(), this.audio.src = this._clip, this.preload && this._clip._ensureLoaded()
                            }
                        }, type: r, tooltip: !1, animatable: !1
                    },
                    volume: {
                        get: function () {
                            return this._volume
                        }, set: function (t) {
                            return t = i.clamp01(t), this._volume = t, this._mute || this.audio.setVolume(t), t
                        }, tooltip: !1
                    },
                    mute: {
                        get: function () {
                            return this._mute
                        }, set: function (t) {
                            return this._mute = t, this.audio.setVolume(t ? 0 : this._volume), t
                        }, animatable: !1, tooltip: !1
                    },
                    loop: {
                        get: function () {
                            return this._loop
                        }, set: function (t) {
                            return this._loop = t, this.audio.setLoop(t), t
                        }, animatable: !1, tooltip: !1
                    },
                    playOnLoad: {default: !1, tooltip: !1, animatable: !1},
                    preload: {default: !1, animatable: !1}
                },
                _pausedCallback: function () {
                    this.audio.getState() === cc._Audio.State.PLAYING && (this.audio.pause(), this._pausedFlag = !0)
                },
                _restoreCallback: function () {
                    this._pausedFlag && this.audio.resume(), this._pausedFlag = !1
                },
                onLoad: function () {
                    this.audio.src || (this.audio.src = this._clip), this.preload && this._clip._ensureLoaded()
                },
                onEnable: function () {
                    this.playOnLoad && this._firstlyEnabled && (this._firstlyEnabled = !1, this.play()), cc.game.on(cc.game.EVENT_HIDE, this._pausedCallback, this), cc.game.on(cc.game.EVENT_SHOW, this._restoreCallback, this)
                },
                onDisable: function () {
                    this.stop(), cc.game.off(cc.game.EVENT_HIDE, this._pausedCallback, this), cc.game.off(cc.game.EVENT_SHOW, this._restoreCallback, this)
                },
                onDestroy: function () {
                    this.audio.destroy()
                },
                play: function () {
                    if (this._clip) {
                        var t = this.audio;
                        t.setVolume(this._mute ? 0 : this._volume), t.setLoop(this._loop), t.setCurrentTime(0), t.play()
                    }
                },
                stop: function () {
                    this.audio.stop()
                },
                pause: function () {
                    this.audio.pause()
                },
                resume: function () {
                    this.audio.resume()
                },
                rewind: function () {
                    this.audio.setCurrentTime(0)
                },
                getCurrentTime: function () {
                    return this.audio.getCurrentTime()
                },
                setCurrentTime: function (t) {
                    return this.audio.setCurrentTime(t), t
                },
                getDuration: function () {
                    return this.audio.getDuration()
                }
            });
            cc.AudioSource = e.exports = s
        }), {"../assets/CCAudioClip": 73, "../utils/misc": 250, "./CCComponent": 108}],
        105: [(function (t, e) {
            "use strict";
            var i = ["touchstart", "touchmove", "touchend", "mousedown", "mousemove", "mouseup", "mouseenter", "mouseleave", "mousewheel"];

            function n(t) {
                t.stopPropagation()
            }

            var r = cc.Class({
                name: "cc.BlockInputEvents",
                extends: t("./CCComponent"),
                editor: {
                    menu: "i18n:MAIN_MENU.component.ui/Block Input Events",
                    inspector: "packages://inspector/inspectors/comps/block-input-events.js",
                    help: "i18n:COMPONENT.help_url.block_input_events"
                },
                onEnable: function () {
                    for (var t = 0; t < i.length; t++) this.node.on(i[t], n, this)
                },
                onDisable: function () {
                    for (var t = 0; t < i.length; t++) this.node.off(i[t], n, this)
                }
            });
            cc.BlockInputEvents = e.exports = r
        }), {"./CCComponent": 108}],
        106: [(function (t, e) {
            "use strict";
            var i = t("./CCComponent"), n = t("../utils/gray-sprite-state"),
                r = cc.Enum({NONE: 0, COLOR: 1, SPRITE: 2, SCALE: 3}),
                s = cc.Enum({NORMAL: 0, HOVER: 1, PRESSED: 2, DISABLED: 3}), a = cc.Class({
                    name: "cc.Button", extends: i, mixins: [n], ctor: function () {
                        this._pressed = !1, this._hovered = !1, this._fromColor = null, this._toColor = null, this._time = 0, this._transitionFinished = !0, this._fromScale = cc.Vec2.ZERO, this._toScale = cc.Vec2.ZERO, this._originalScale = null, this._graySpriteMaterial = null, this._spriteMaterial = null, this._sprite = null
                    }, editor: !1, properties: {
                        interactable: {
                            default: !0, tooltip: !1, notify: function () {
                                this._updateState(), this.interactable || this._resetState()
                            }, animatable: !1
                        },
                        _resizeToTarget: {
                            animatable: !1, set: function (t) {
                                t && this._resizeNodeToTargetNode()
                            }
                        },
                        enableAutoGrayEffect: {
                            default: !1, tooltip: !1, notify: function () {
                                this._updateDisabledState(!0)
                            }
                        },
                        transition: {
                            default: r.NONE, tooltip: !1, type: r, animatable: !1, notify: function (t) {
                                this._updateTransition(t)
                            }, formerlySerializedAs: "transition"
                        },
                        normalColor: {
                            default: cc.Color.WHITE, displayName: "Normal", tooltip: !1, notify: function () {
                                this.transition === r.Color && this._getButtonState() === s.NORMAL && (this._getTarget().opacity = this.normalColor.a), this._updateState()
                            }
                        },
                        pressedColor: {
                            default: cc.color(211, 211, 211),
                            displayName: "Pressed",
                            tooltip: !1,
                            notify: function () {
                                this.transition === r.Color && this._getButtonState() === s.PRESSED && (this._getTarget().opacity = this.pressedColor.a), this._updateState()
                            },
                            formerlySerializedAs: "pressedColor"
                        },
                        hoverColor: {
                            default: cc.Color.WHITE, displayName: "Hover", tooltip: !1, notify: function () {
                                this.transition === r.Color && this._getButtonState() === s.HOVER && (this._getTarget().opacity = this.hoverColor.a), this._updateState()
                            }, formerlySerializedAs: "hoverColor"
                        },
                        disabledColor: {
                            default: cc.color(124, 124, 124),
                            displayName: "Disabled",
                            tooltip: !1,
                            notify: function () {
                                this.transition === r.Color && this._getButtonState() === s.DISABLED && (this._getTarget().opacity = this.disabledColor.a), this._updateState()
                            }
                        },
                        duration: {default: .1, range: [0, 10], tooltip: !1},
                        zoomScale: {default: 1.2, tooltip: !1},
                        normalSprite: {
                            default: null,
                            type: cc.SpriteFrame,
                            displayName: "Normal",
                            tooltip: !1,
                            notify: function () {
                                this._updateState()
                            }
                        },
                        pressedSprite: {
                            default: null,
                            type: cc.SpriteFrame,
                            displayName: "Pressed",
                            tooltip: !1,
                            formerlySerializedAs: "pressedSprite",
                            notify: function () {
                                this._updateState()
                            }
                        },
                        hoverSprite: {
                            default: null,
                            type: cc.SpriteFrame,
                            displayName: "Hover",
                            tooltip: !1,
                            formerlySerializedAs: "hoverSprite",
                            notify: function () {
                                this._updateState()
                            }
                        },
                        disabledSprite: {
                            default: null,
                            type: cc.SpriteFrame,
                            displayName: "Disabled",
                            tooltip: !1,
                            notify: function () {
                                this._updateState()
                            }
                        },
                        target: {
                            default: null, type: cc.Node, tooltip: !1, notify: function (t) {
                                this._applyTarget(), t && this.target !== t && this._unregisterTargetEvent(t)
                            }
                        },
                        clickEvents: {default: [], type: cc.Component.EventHandler, tooltip: !1}
                    }, statics: {Transition: r}, __preload: function () {
                        this._applyTarget(), this._resetState()
                    }, _resetState: function () {
                        this._pressed = !1, this._hovered = !1;
                        var t = this._getTarget(), e = this.transition, i = this._originalScale;
                        e === r.COLOR && this.interactable ? this._setTargetColor(this.normalColor) : e === r.SCALE && i && t.setScale(i.x, i.y), this._transitionFinished = !0
                    }, onEnable: function () {
                        this.normalSprite && this.normalSprite.ensureLoadTexture(), this.hoverSprite && this.hoverSprite.ensureLoadTexture(), this.pressedSprite && this.pressedSprite.ensureLoadTexture(), this.disabledSprite && this.disabledSprite.ensureLoadTexture(), this._registerNodeEvent(), this._updateState()
                    }, onDisable: function () {
                        this._resetState(), this._unregisterNodeEvent()
                    }, _getTarget: function () {
                        return this.target ? this.target : this.node
                    }, _onTargetSpriteFrameChanged: function (t) {
                        this.transition === r.SPRITE && this._setCurrentStateSprite(t.spriteFrame)
                    }, _onTargetColorChanged: function (t) {
                        this.transition === r.COLOR && this._setCurrentStateColor(t)
                    }, _onTargetScaleChanged: function () {
                        var t = this._getTarget();
                        this._originalScale && (this.transition !== r.SCALE || this._transitionFinished) && (this._originalScale.x = t.scaleX, this._originalScale.y = t.scaleY)
                    }, _setTargetColor: function (t) {
                        var e = this._getTarget(), i = t.clone();
                        e.opacity = i.a, i.a = 255, e.color = i
                    }, _getStateColor: function (t) {
                        switch (t) {
                            case s.NORMAL:
                                return this.normalColor;
                            case s.HOVER:
                                return this.hoverColor;
                            case s.PRESSED:
                                return this.pressedColor;
                            case s.DISABLED:
                                return this.disabledColor
                        }
                    }, _getStateSprite: function (t) {
                        switch (t) {
                            case s.NORMAL:
                                return this.normalSprite;
                            case s.HOVER:
                                return this.hoverSprite;
                            case s.PRESSED:
                                return this.pressedSprite;
                            case s.DISABLED:
                                return this.disabledSprite
                        }
                    }, _setCurrentStateColor: function (t) {
                        switch (this._getButtonState()) {
                            case s.NORMAL:
                                this.normalColor = t;
                                break;
                            case s.HOVER:
                                this.hoverColor = t;
                                break;
                            case s.PRESSED:
                                this.pressedColor = t;
                                break;
                            case s.DISABLED:
                                this.disabledColor = t
                        }
                    }, _setCurrentStateSprite: function (t) {
                        switch (this._getButtonState()) {
                            case s.NORMAL:
                                this.normalSprite = t;
                                break;
                            case s.HOVER:
                                this.hoverSprite = t;
                                break;
                            case s.PRESSED:
                                this.pressedSprite = t;
                                break;
                            case s.DISABLED:
                                this.disabledSprite = t
                        }
                    }, update: function (t) {
                        var e = this._getTarget();
                        if (!this._transitionFinished && (this.transition === r.COLOR || this.transition === r.SCALE)) {
                            this.time += t;
                            var i = 1;
                            if (this.duration > 0 && (i = this.time / this.duration), i >= 1 && (i = 1), this.transition === r.COLOR) {
                                var n = this._fromColor.lerp(this._toColor, i);
                                this._setTargetColor(n)
                            } else this.transition === r.SCALE && this._originalScale && (e.scale = this._fromScale.lerp(this._toScale, i));
                            1 === i && (this._transitionFinished = !0)
                        }
                    }, _registerNodeEvent: function () {
                        this.node.on(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this), this.node.on(cc.Node.EventType.TOUCH_MOVE, this._onTouchMove, this), this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancel, this), this.node.on(cc.Node.EventType.MOUSE_ENTER, this._onMouseMoveIn, this), this.node.on(cc.Node.EventType.MOUSE_LEAVE, this._onMouseMoveOut, this)
                    }, _unregisterNodeEvent: function () {
                        this.node.off(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this), this.node.off(cc.Node.EventType.TOUCH_MOVE, this._onTouchMove, this), this.node.off(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this), this.node.off(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancel, this), this.node.off(cc.Node.EventType.MOUSE_ENTER, this._onMouseMoveIn, this), this.node.off(cc.Node.EventType.MOUSE_LEAVE, this._onMouseMoveOut, this)
                    }, _registerTargetEvent: function (t) {
                        t.on(cc.Node.EventType.SCALE_CHANGED, this._onTargetScaleChanged, this)
                    }, _unregisterTargetEvent: function (t) {
                        t.off(cc.Node.EventType.SCALE_CHANGED, this._onTargetScaleChanged, this)
                    }, _getTargetSprite: function (t) {
                        var e = null;
                        return t && (e = t.getComponent(cc.Sprite)), e
                    }, _applyTarget: function () {
                        var t = this._getTarget();
                        this._sprite = this._getTargetSprite(t), this._originalScale || (this._originalScale = cc.Vec2.ZERO), this._originalScale.x = t.scaleX, this._originalScale.y = t.scaleY, this._registerTargetEvent(t)
                    }, _onTouchBegan: function (t) {
                        this.interactable && this.enabledInHierarchy && (this._pressed = !0, this._updateState(), t.stopPropagation())
                    }, _onTouchMove: function (t) {
                        if (this.interactable && this.enabledInHierarchy && this._pressed) {
                            var e, i = t.touch, n = this.node._hitTest(i.getLocation()), a = this._getTarget(),
                                o = this._originalScale;
                            this.transition === r.SCALE && o ? n ? (this._fromScale.x = o.x, this._fromScale.y = o.y, this._toScale.x = o.x * this.zoomScale, this._toScale.y = o.y * this.zoomScale, this._transitionFinished = !1) : (this.time = 0, this._transitionFinished = !0, a.setScale(o.x, o.y)) : (e = n ? s.PRESSED : s.NORMAL, this._applyTransition(e)), t.stopPropagation()
                        }
                    }, _onTouchEnded: function (t) {
                        this.interactable && this.enabledInHierarchy && (this._pressed && (cc.Component.EventHandler.emitEvents(this.clickEvents, t), this.node.emit("click", this)), this._pressed = !1, this._updateState(), t.stopPropagation())
                    }, _onTouchCancel: function () {
                        this.interactable && this.enabledInHierarchy && (this._pressed = !1, this._updateState())
                    }, _onMouseMoveIn: function () {
                        !this._pressed && this.interactable && this.enabledInHierarchy && (this.transition !== r.SPRITE || this.hoverSprite) && (this._hovered || (this._hovered = !0, this._updateState()))
                    }, _onMouseMoveOut: function () {
                        this._hovered && (this._hovered = !1, this._updateState())
                    }, _updateState: function () {
                        var t = this._getButtonState();
                        this._applyTransition(t), this._updateDisabledState()
                    }, _getButtonState: function () {
                        return this.interactable ? this._pressed ? s.PRESSED : this._hovered ? s.HOVER : s.NORMAL : s.DISABLED
                    }, _updateColorTransitionImmediately: function (t) {
                        var e = this._getStateColor(t);
                        this._setTargetColor(e), this._fromColor = e.clone(), this._toColor = e
                    }, _updateColorTransition: function (t) {
                        if (t === s.DISABLED) this._updateColorTransitionImmediately(t); else {
                            var e = this._getTarget(), i = this._getStateColor(t);
                            this._fromColor = e.color.clone(), this._toColor = i, this.time = 0, this._transitionFinished = !1
                        }
                    }, _updateSpriteTransition: function (t) {
                        var e = this._getStateSprite(t);
                        this._sprite && e && (this._sprite.spriteFrame = e)
                    }, _updateScaleTransition: function (t) {
                        t === s.PRESSED ? this._zoomUp() : this._zoomBack()
                    }, _zoomUp: function () {
                        this._originalScale && (this._fromScale.x = this._originalScale.x, this._fromScale.y = this._originalScale.y, this._toScale.x = this._originalScale.x * this.zoomScale, this._toScale.y = this._originalScale.y * this.zoomScale, this.time = 0, this._transitionFinished = !1)
                    }, _zoomBack: function () {
                        if (this._originalScale) {
                            var t = this._getTarget();
                            this._fromScale.x = t.scaleX, this._fromScale.y = t.scaleY, this._toScale.x = this._originalScale.x, this._toScale.y = this._originalScale.y, this.time = 0, this._transitionFinished = !1
                        }
                    }, _updateTransition: function (t) {
                        t === r.COLOR ? this._updateColorTransitionImmediately(s.NORMAL) : t === r.SPRITE && this._updateSpriteTransition(s.NORMAL), this._updateState()
                    }, _applyTransition: function (t) {
                        var e = this.transition;
                        e === r.COLOR ? this._updateColorTransition(t) : e === r.SPRITE ? this._updateSpriteTransition(t) : e === r.SCALE && this._updateScaleTransition(t)
                    }, _resizeNodeToTargetNode: !1, _updateDisabledState: function (t) {
                        if (this._sprite && (this.enableAutoGrayEffect || t)) {
                            var e = !1;
                            this.transition === r.SPRITE && this.disabledSprite || (e = this.enableAutoGrayEffect && !this.interactable), this._switchGrayMaterial(e, this._sprite)
                        }
                    }
                });
            cc.Button = e.exports = a
        }), {"../utils/gray-sprite-state": 247, "./CCComponent": 108}],
        107: [(function (t, e) {
            "use strict";
            var i = t("../camera/CCCamera"), n = t("./CCComponent"), r = cc.Class({
                name: "cc.Canvas",
                extends: n,
                editor: !1,
                resetInEditor: !1,
                statics: {instance: null},
                properties: {
                    _designResolution: cc.size(960, 640), designResolution: {
                        get: function () {
                            return cc.size(this._designResolution)
                        }, set: function (t) {
                            this._designResolution.width = t.width, this._designResolution.height = t.height, this.applySettings()
                        }, tooltip: !1
                    }, _fitWidth: !1, _fitHeight: !0, fitHeight: {
                        get: function () {
                            return this._fitHeight
                        }, set: function (t) {
                            this._fitHeight !== t && (this._fitHeight = t, this.applySettings())
                        }, tooltip: !1
                    }, fitWidth: {
                        get: function () {
                            return this._fitWidth
                        }, set: function (t) {
                            this._fitWidth !== t && (this._fitWidth = t, this.applySettings())
                        }, tooltip: !1
                    }
                },
                _fitDesignResolution: !1,
                __preload: function () {
                    if (r.instance) return cc.warnID(6700, this.node.name, r.instance.node.name);
                    r.instance = this, this.applySettings();
                    var t = this.getComponent(cc.Widget);
                    t && t.updateAlignment()
                },
                start: function () {
                    if (!i.main && cc.game.renderType !== cc.game.RENDER_TYPE_CANVAS) {
                        var t = new cc.Node("Main Camera");
                        t.parent = this.node, t.setSiblingIndex(0);
                        var e = t.addComponent(i), n = i.ClearFlags;
                        e.clearFlags = n.COLOR | n.DEPTH | n.STENCIL, e.depth = -1
                    }
                },
                onDestroy: function () {
                    r.instance === this && (r.instance = null)
                },
                applySettings: function () {
                    var t, e = cc.ResolutionPolicy;
                    t = this.fitHeight && this.fitWidth ? e.SHOW_ALL : this.fitHeight || this.fitWidth ? this.fitWidth ? e.FIXED_WIDTH : e.FIXED_HEIGHT : e.NO_BORDER;
                    var i = this._designResolution;
                    cc.view.setDesignResolutionSize(i.width, i.height, t)
                }
            });
            cc.Canvas = e.exports = r
        }), {"../camera/CCCamera": 101, "./CCComponent": 108}],
        108: [(function (t, e) {
            "use strict";
            var i = t("../platform/CCObject"), n = t("../platform/js"), r = new (t("../platform/id-generater"))("Comp"),
                s = (i.Flags.IsOnEnableCalled, i.Flags.IsOnLoadCalled), a = !!cc.ActionManager, o = cc.Class({
                    name: "cc.Component",
                    extends: i,
                    ctor: function () {
                        this._id = r.getNewId(), this.__eventTargets = []
                    },
                    properties: {
                        node: {default: null, visible: !1}, name: {
                            get: function () {
                                if (this._name) return this._name;
                                var t = cc.js.getClassName(this), e = t.lastIndexOf(".");
                                return e >= 0 && (t = t.slice(e + 1)), this.node.name + "<" + t + ">"
                            }, set: function (t) {
                                this._name = t
                            }, visible: !1
                        }, uuid: {
                            get: function () {
                                return this._id
                            }, visible: !1
                        }, __scriptAsset: !1, _enabled: !0, enabled: {
                            get: function () {
                                return this._enabled
                            }, set: function (t) {
                                if (this._enabled !== t && (this._enabled = t, this.node._activeInHierarchy)) {
                                    var e = cc.director._compScheduler;
                                    t ? e.enableComp(this) : e.disableComp(this)
                                }
                            }, visible: !1, animatable: !0
                        }, enabledInHierarchy: {
                            get: function () {
                                return this._enabled && this.node && this.node._activeInHierarchy
                            }, visible: !1
                        }, _isOnLoadCalled: {
                            get: function () {
                                return this._objFlags & s
                            }
                        }
                    },
                    update: null,
                    lateUpdate: null,
                    __preload: null,
                    onLoad: null,
                    start: null,
                    onEnable: null,
                    onDisable: null,
                    onDestroy: null,
                    onFocusInEditor: null,
                    onLostFocusInEditor: null,
                    resetInEditor: null,
                    addComponent: function (t) {
                        return this.node.addComponent(t)
                    },
                    getComponent: function (t) {
                        return this.node.getComponent(t)
                    },
                    getComponents: function (t) {
                        return this.node.getComponents(t)
                    },
                    getComponentInChildren: function (t) {
                        return this.node.getComponentInChildren(t)
                    },
                    getComponentsInChildren: function (t) {
                        return this.node.getComponentsInChildren(t)
                    },
                    _getLocalBounds: null,
                    onRestore: null,
                    destroy: function () {
                        this._super() && this._enabled && this.node._activeInHierarchy && cc.director._compScheduler.disableComp(this)
                    },
                    _onPreDestroy: function () {
                        a && cc.director.getActionManager().removeAllActionsFromTarget(this), this.unscheduleAllCallbacks();
                        for (var t = this.__eventTargets, e = t.length - 1; e >= 0; --e) {
                            var i = t[e];
                            i && i.targetOff(this)
                        }
                        t.length = 0, cc.director._nodeActivator.destroyComp(this), this.node._removeComponent(this)
                    },
                    _instantiate: function (t) {
                        return t || (t = cc.instantiate._clone(this, this)), t.node = null, t
                    },
                    schedule: function (t, e, i, n) {
                        cc.assertID(t, 1619), e = e || 0, cc.assertID(e >= 0, 1620), i = isNaN(i) ? cc.macro.REPEAT_FOREVER : i, n = n || 0;
                        var r = cc.director.getScheduler(), s = r.isTargetPaused(this);
                        r.schedule(t, this, e, i, n, s)
                    },
                    scheduleOnce: function (t, e) {
                        this.schedule(t, 0, 0, e)
                    },
                    unschedule: function (t) {
                        t && cc.director.getScheduler().unschedule(t, this)
                    },
                    unscheduleAllCallbacks: function () {
                        cc.director.getScheduler().unscheduleAllForTarget(this)
                    }
                });
            o._requireComponent = null, o._executionOrder = 0, n.value(o, "_registerEditorProps", (function (t, e) {
                var i = e.requireComponent;
                i && (t._requireComponent = i);
                var n = e.executionOrder;
                n && "number" == typeof n && (t._executionOrder = n)
            })), o.prototype.__scriptUuid = "", cc.Component = e.exports = o
        }), {"../platform/CCObject": 173, "../platform/id-generater": 184, "../platform/js": 188}],
        109: [(function () {
            "use strict";
            cc.Component.EventHandler = cc.Class({
                name: "cc.ClickEvent",
                properties: {
                    target: {default: null, type: cc.Node},
                    component: "",
                    _componentId: "",
                    _componentName: {
                        get: function () {
                            return this._genCompIdIfNeeded(), this._compId2Name(this._componentId)
                        }, set: function (t) {
                            this._componentId = this._compName2Id(t)
                        }
                    },
                    handler: {default: ""},
                    customEventData: {default: ""}
                },
                statics: {
                    emitEvents: function (t) {
                        var e;
                        if (arguments.length > 0) for (var i = 0, n = (e = new Array(arguments.length - 1)).length; i < n; i++) e[i] = arguments[i + 1];
                        for (var r = 0, s = t.length; r < s; r++) {
                            var a = t[r];
                            a instanceof cc.Component.EventHandler && a.emit(e)
                        }
                    }
                },
                emit: function (t) {
                    var e = this.target;
                    if (cc.isValid(e)) {
                        this._genCompIdIfNeeded();
                        var i = cc.js._getClassById(this._componentId), n = e.getComponent(i);
                        if (cc.isValid(n)) {
                            var r = n[this.handler];
                            "function" == typeof r && (null != this.customEventData && "" !== this.customEventData && (t = t.slice()).push(this.customEventData), r.apply(n, t))
                        }
                    }
                },
                _compName2Id: function (t) {
                    var e = cc.js.getClassByName(t);
                    return cc.js._getClassId(e)
                },
                _compId2Name: function (t) {
                    var e = cc.js._getClassById(t);
                    return cc.js.getClassName(e)
                },
                _genCompIdIfNeeded: function () {
                    this._componentId || (this._componentName = this.component, this.component = "")
                }
            })
        }), {}],
        110: [(function (t, e) {
            "use strict";
            var i = t("../platform/CCMacro"), n = t("./CCRenderComponent"),
                r = (t("../assets/material/CCMaterial"), t("../renderer/utils/label/label-frame")),
                s = t("../utils/blend-func"), a = t("../renderer/utils/utils").deleteFromDynamicAtlas,
                o = i.TextAlignment, c = i.VerticalTextAlignment,
                l = cc.Enum({NONE: 0, CLAMP: 1, SHRINK: 2, RESIZE_HEIGHT: 3}),
                h = cc.Enum({NONE: 0, BITMAP: 1, CHAR: 2}), u = cc.Class({
                    name: "cc.Label",
                    extends: n,
                    mixins: [s],
                    ctor: function () {
                        this._actualFontSize = 0, this._assemblerData = null, this._frame = null, this._ttfTexture = null, this._letterTexture = null, cc.game.renderType === cc.game.RENDER_TYPE_CANVAS ? this._updateMaterial = this._updateMaterialCanvas : this._updateMaterial = this._updateMaterialWebgl
                    },
                    editor: !1,
                    properties: {
                        _string: {default: "", formerlySerializedAs: "_N$string"},
                        string: {
                            get: function () {
                                return this._string
                            }, set: function (t) {
                                var e = this._string;
                                this._string = "" + t, this.string !== e && this.setVertsDirty(), this._checkStringEmpty()
                            }, multiline: !0, tooltip: !1
                        },
                        horizontalAlign: {
                            default: o.LEFT, type: o, tooltip: !1, notify: function (t) {
                                this.horizontalAlign !== t && this.setVertsDirty()
                            }, animatable: !1
                        },
                        verticalAlign: {
                            default: c.TOP, type: c, tooltip: !1, notify: function (t) {
                                this.verticalAlign !== t && this.setVertsDirty()
                            }, animatable: !1
                        },
                        actualFontSize: {
                            displayName: "Actual Font Size", animatable: !1, readonly: !0, get: function () {
                                return this._actualFontSize
                            }, tooltip: !1
                        },
                        _fontSize: 40,
                        fontSize: {
                            get: function () {
                                return this._fontSize
                            }, set: function (t) {
                                this._fontSize !== t && (this._fontSize = t, this.setVertsDirty())
                            }, range: [0, 512], tooltip: !1
                        },
                        fontFamily: {
                            default: "Arial", tooltip: !1, notify: function (t) {
                                this.fontFamily !== t && this.setVertsDirty()
                            }, animatable: !1
                        },
                        _lineHeight: 40,
                        lineHeight: {
                            get: function () {
                                return this._lineHeight
                            }, set: function (t) {
                                this._lineHeight !== t && (this._lineHeight = t, this.setVertsDirty())
                            }, tooltip: !1
                        },
                        overflow: {
                            default: l.NONE, type: l, tooltip: !1, notify: function (t) {
                                this.overflow !== t && this.setVertsDirty()
                            }, animatable: !1
                        },
                        _enableWrapText: !0,
                        enableWrapText: {
                            get: function () {
                                return this._enableWrapText
                            }, set: function (t) {
                                this._enableWrapText !== t && (this._enableWrapText = t, this.setVertsDirty())
                            }, animatable: !1, tooltip: !1
                        },
                        _N$file: null,
                        font: {
                            get: function () {
                                return this._N$file
                            }, set: function (t) {
                                this.font !== t && (t || (this._isSystemFontUsed = !0), this._N$file = t, t && this._isSystemFontUsed && (this._isSystemFontUsed = !1), this.enabledInHierarchy && this._forceUpdateRenderData())
                            }, type: cc.Font, tooltip: !1, animatable: !1
                        },
                        _isSystemFontUsed: !0,
                        useSystemFont: {
                            get: function () {
                                return this._isSystemFontUsed
                            }, set: function (t) {
                                if (this._isSystemFontUsed !== t) {
                                    if (this._isSystemFontUsed = !!t, t) {
                                        if (this.font = null, !this.enabledInHierarchy) return;
                                        this._forceUpdateRenderData()
                                    }
                                    this.markForValidate()
                                }
                            }, animatable: !1, tooltip: !1
                        },
                        _bmFontOriginalSize: {
                            displayName: "BMFont Original Size", get: function () {
                                return this._N$file instanceof cc.BitmapFont ? this._N$file.fontSize : -1
                            }, visible: !0, animatable: !1
                        },
                        _spacingX: 0,
                        spacingX: {
                            get: function () {
                                return this._spacingX
                            }, set: function (t) {
                                this._spacingX = t, this.setVertsDirty()
                            }, tooltip: !1
                        },
                        _batchAsBitmap: !1,
                        cacheMode: {
                            default: h.NONE, type: h, tooltip: !1, notify: function (t) {
                                this.cacheMode !== t && (t !== h.BITMAP || this.font instanceof cc.BitmapFont || this._frame && this._frame._resetDynamicAtlasFrame(), t === h.CHAR && (this._ttfTexture = null), this.enabledInHierarchy && this._forceUpdateRenderData())
                            }, animatable: !1
                        },
                        _styleFlags: 0,
                        enableBold: {
                            get: function () {
                                return !!(1 & this._styleFlags)
                            }, set: function (t) {
                                t ? this._styleFlags |= 1 : this._styleFlags &= -2, this.setVertsDirty()
                            }, animatable: !1, tooltip: !1
                        },
                        enableItalic: {
                            get: function () {
                                return !!(2 & this._styleFlags)
                            }, set: function (t) {
                                t ? this._styleFlags |= 2 : this._styleFlags &= -3, this.setVertsDirty()
                            }, animatable: !1, tooltip: !1
                        },
                        enableUnderline: {
                            get: function () {
                                return !!(4 & this._styleFlags)
                            }, set: function (t) {
                                t ? this._styleFlags |= 4 : this._styleFlags &= -5, this.setVertsDirty()
                            }, animatable: !1, tooltip: !1
                        },
                        _underlineHeight: 0,
                        underlineHeight: {
                            get: function () {
                                return this._underlineHeight
                            }, set: function (t) {
                                this._underlineHeight !== t && (this._underlineHeight = t, this.setVertsDirty())
                            }, tooltip: !1
                        }
                    },
                    statics: {
                        HorizontalAlign: o,
                        VerticalAlign: c,
                        Overflow: l,
                        CacheMode: h,
                        _shareAtlas: null,
                        clearCharCache: function () {
                            u._shareAtlas && u._shareAtlas.clearAllCache()
                        }
                    },
                    onLoad: function () {
                        this._batchAsBitmap && this.cacheMode === h.NONE && (this.cacheMode = h.BITMAP, this._batchAsBitmap = !1), cc.game.renderType === cc.game.RENDER_TYPE_CANVAS && (this.cacheMode = h.NONE)
                    },
                    onEnable: function () {
                        this._super(), this.node.on(cc.Node.EventType.SIZE_CHANGED, this._nodeSizeChanged, this), this.node.on(cc.Node.EventType.ANCHOR_CHANGED, this.setVertsDirty, this), this.node.on(cc.Node.EventType.COLOR_CHANGED, this._nodeColorChanged, this), this._forceUpdateRenderData()
                    },
                    onDisable: function () {
                        this._super(), this.node.off(cc.Node.EventType.SIZE_CHANGED, this._nodeSizeChanged, this), this.node.off(cc.Node.EventType.ANCHOR_CHANGED, this.setVertsDirty, this), this.node.off(cc.Node.EventType.COLOR_CHANGED, this._nodeColorChanged, this)
                    },
                    onDestroy: function () {
                        this._assembler && this._assembler._resetAssemblerData && this._assembler._resetAssemblerData(this._assemblerData), this._assemblerData = null, this._letterTexture = null, this._ttfTexture && (this._ttfTexture.destroy(), this._ttfTexture = null), this._super()
                    },
                    _nodeSizeChanged: function () {
                        this.overflow !== l.NONE && this.setVertsDirty()
                    },
                    _nodeColorChanged: function () {
                        this.font instanceof cc.BitmapFont || this.setVertsDirty()
                    },
                    setVertsDirty: function () {
                        this._super()
                    },
                    _updateColor: function () {
                        this.font instanceof cc.BitmapFont || this._srcBlendFactor === cc.macro.BlendFactor.SRC_ALPHA && this.node._renderFlag & cc.RenderFlow.FLAG_OPACITY || this.setVertsDirty(), n.prototype._updateColor.call(this)
                    },
                    _validateRender: function () {
                        if (this.string) {
                            if (this._materials[0]) {
                                var t = this.font;
                                if (!(t instanceof cc.BitmapFont)) return;
                                var e = t.spriteFrame;
                                if (e && e.textureLoaded() && t._fntConfig) return
                            }
                            this.disableRender()
                        } else this.disableRender()
                    },
                    _resetAssembler: function () {
                        this._resetFrame(), n.prototype._resetAssembler.call(this)
                    },
                    _resetFrame: function () {
                        !this._frame || this.font instanceof cc.BitmapFont || (a(this, this._frame), this._frame = null)
                    },
                    _checkStringEmpty: function () {
                        this.markForRender(!!this.string)
                    },
                    _on3DNodeChanged: function () {
                        this._resetAssembler(), this._applyFontTexture()
                    },
                    _onBMFontTextureLoaded: function () {
                        this._frame._texture = this.font.spriteFrame._texture, this.markForRender(!0), this._updateMaterial(), this._assembler && this._assembler.updateRenderData(this)
                    },
                    _onBlendChanged: function () {
                        this.useSystemFont && this.enabledInHierarchy && this._forceUpdateRenderData()
                    },
                    _applyFontTexture: function () {
                        var t = this.font;
                        if (t instanceof cc.BitmapFont) {
                            var e = t.spriteFrame;
                            this._frame = e, e && e.onTextureLoaded(this._onBMFontTextureLoaded, this)
                        } else this._nativeTTF() || (this._frame || (this._frame = new r), this.cacheMode === h.CHAR ? (this._letterTexture = this._assembler._getAssemblerData(), this._frame._refreshTexture(this._letterTexture)) : this._ttfTexture || (this._ttfTexture = new cc.Texture2D, this._assemblerData = this._assembler._getAssemblerData(), this._ttfTexture.initWithElement(this._assemblerData.canvas)), this.cacheMode !== h.CHAR && (this._frame._resetDynamicAtlasFrame(), this._frame._refreshTexture(this._ttfTexture), this._srcBlendFactor === cc.macro.BlendFactor.ONE && this._ttfTexture.setPremultiplyAlpha(!0)), this._updateMaterial()), this._assembler && this._assembler.updateRenderData(this);
                        this.markForValidate()
                    },
                    _updateMaterialCanvas: function () {
                        this._frame && (this._frame._texture._nativeUrl = this.uuid + "_texture")
                    },
                    _updateMaterialWebgl: function () {
                        var t = this.getMaterial(0);
                        this._nativeTTF() ? t && this._assembler._updateTTFMaterial(this) : this._frame && (t && t.setProperty("texture", this._frame._texture), s.prototype._updateMaterial.call(this))
                    },
                    _forceUseCanvas: !1,
                    _useNativeTTF: function () {
                        return cc.macro.ENABLE_NATIVE_TTF_RENDERER && !this._forceUseCanvas
                    },
                    _nativeTTF: function () {
                        return this._useNativeTTF() && !!this._assembler && !!this._assembler._updateTTFMaterial
                    },
                    _forceUpdateRenderData: function () {
                        this.setVertsDirty(), this._resetAssembler(), this._applyFontTexture()
                    },
                    _enableBold: function (t) {
                        this.enableBold = !!t
                    },
                    _enableItalics: function (t) {
                        this.enableItalic = !!t
                    },
                    _enableUnderline: function (t) {
                        this.enableUnderline = !!t
                    }
                });
            cc.Label = e.exports = u
        }), {
            "../assets/material/CCMaterial": 91,
            "../platform/CCMacro": 172,
            "../renderer/utils/label/label-frame": 202,
            "../renderer/utils/utils": 205,
            "../utils/blend-func": 244,
            "./CCRenderComponent": 117
        }],
        111: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                name: "cc.LabelOutline",
                extends: t("./CCComponent"),
                editor: !1,
                properties: {
                    _color: cc.Color.WHITE, _width: 1, color: {
                        tooltip: !1, get: function () {
                            return this._color.clone()
                        }, set: function (t) {
                            this._color.equals(t) || this._color.set(t), this._updateRenderData()
                        }
                    }, width: {
                        tooltip: !1, get: function () {
                            return this._width
                        }, set: function (t) {
                            this._width !== t && (this._width = t, this._updateRenderData())
                        }, range: [0, 512]
                    }
                },
                onEnable: function () {
                    this._updateRenderData()
                },
                onDisable: function () {
                    this._updateRenderData()
                },
                _updateRenderData: function () {
                    var t = this.node.getComponent(cc.Label);
                    t && t.setVertsDirty()
                }
            });
            cc.LabelOutline = e.exports = i
        }), {"./CCComponent": 108}],
        112: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                name: "cc.LabelShadow",
                extends: t("./CCComponent"),
                editor: !1,
                properties: {
                    _color: cc.Color.WHITE,
                    _offset: cc.v2(2, 2),
                    _blur: 2,
                    color: {
                        tooltip: !1, get: function () {
                            return this._color.clone()
                        }, set: function (t) {
                            this._color.equals(t) || this._color.set(t), this._updateRenderData()
                        }
                    },
                    offset: {
                        tooltip: !1, get: function () {
                            return this._offset
                        }, set: function (t) {
                            this._offset = t, this._updateRenderData()
                        }
                    },
                    blur: {
                        tooltip: !1, get: function () {
                            return this._blur
                        }, set: function (t) {
                            this._blur = t, this._updateRenderData()
                        }, range: [0, 1024]
                    }
                },
                onEnable: function () {
                    this._updateRenderData()
                },
                onDisable: function () {
                    this._updateRenderData()
                },
                _updateRenderData: function () {
                    var t = this.node.getComponent(cc.Label);
                    t && t.setVertsDirty()
                }
            });
            cc.LabelShadow = e.exports = i
        }), {"./CCComponent": 108}],
        113: [(function (t, e) {
            "use strict";
            var i = t("../CCNode").EventType, n = cc.Enum({NONE: 0, HORIZONTAL: 1, VERTICAL: 2, GRID: 3}),
                r = cc.Enum({NONE: 0, CONTAINER: 1, CHILDREN: 2}), s = cc.Enum({HORIZONTAL: 0, VERTICAL: 1}),
                a = cc.Enum({BOTTOM_TO_TOP: 0, TOP_TO_BOTTOM: 1}), o = cc.Enum({LEFT_TO_RIGHT: 0, RIGHT_TO_LEFT: 1}),
                c = cc.Class({
                    name: "cc.Layout",
                    extends: t("./CCComponent"),
                    editor: !1,
                    properties: {
                        _layoutSize: cc.size(300, 200),
                        _layoutDirty: {default: !0, serializable: !1},
                        _resize: r.NONE,
                        _N$layoutType: n.NONE,
                        type: {
                            type: n, get: function () {
                                return this._N$layoutType
                            }, set: function (t) {
                                this._N$layoutType = t, this._doLayoutDirty()
                            }, tooltip: !1, animatable: !1
                        },
                        resizeMode: {
                            type: r, tooltip: !1, animatable: !1, get: function () {
                                return this._resize
                            }, set: function (t) {
                                this.type === n.NONE && t === r.CHILDREN || (this._resize = t, this._doLayoutDirty())
                            }
                        },
                        cellSize: {
                            default: cc.size(40, 40), tooltip: !1, type: cc.Size, notify: function () {
                                this._doLayoutDirty()
                            }
                        },
                        startAxis: {
                            default: s.HORIZONTAL, tooltip: !1, type: s, notify: function () {
                                this._doLayoutDirty()
                            }, animatable: !1
                        },
                        paddingLeft: {
                            default: 0, tooltip: !1, notify: function () {
                                this._doLayoutDirty()
                            }
                        },
                        paddingRight: {
                            default: 0, tooltip: !1, notify: function () {
                                this._doLayoutDirty()
                            }
                        },
                        paddingTop: {
                            default: 0, tooltip: !1, notify: function () {
                                this._doLayoutDirty()
                            }
                        },
                        paddingBottom: {
                            default: 0, tooltip: !1, notify: function () {
                                this._doLayoutDirty()
                            }
                        },
                        spacingX: {
                            default: 0, notify: function () {
                                this._doLayoutDirty()
                            }, tooltip: !1
                        },
                        spacingY: {
                            default: 0, notify: function () {
                                this._doLayoutDirty()
                            }, tooltip: !1
                        },
                        verticalDirection: {
                            default: a.TOP_TO_BOTTOM, type: a, notify: function () {
                                this._doLayoutDirty()
                            }, tooltip: !1, animatable: !1
                        },
                        horizontalDirection: {
                            default: o.LEFT_TO_RIGHT, type: o, notify: function () {
                                this._doLayoutDirty()
                            }, tooltip: !1, animatable: !1
                        },
                        affectedByScale: {
                            default: !1, notify: function () {
                                this._doLayoutDirty()
                            }, animatable: !1, tooltip: !1
                        }
                    },
                    statics: {Type: n, VerticalDirection: a, HorizontalDirection: o, ResizeMode: r, AxisDirection: s},
                    onEnable: function () {
                        this._addEventListeners(), this.node.getContentSize().equals(cc.size(0, 0)) && this.node.setContentSize(this._layoutSize), this._doLayoutDirty()
                    },
                    onDisable: function () {
                        this._removeEventListeners()
                    },
                    _doLayoutDirty: function () {
                        this._layoutDirty = !0
                    },
                    _doScaleDirty: function () {
                        this._layoutDirty = this._layoutDirty || this.affectedByScale
                    },
                    _addEventListeners: function () {
                        cc.director.on(cc.Director.EVENT_AFTER_UPDATE, this.updateLayout, this), this.node.on(i.SIZE_CHANGED, this._resized, this), this.node.on(i.ANCHOR_CHANGED, this._doLayoutDirty, this), this.node.on(i.CHILD_ADDED, this._childAdded, this), this.node.on(i.CHILD_REMOVED, this._childRemoved, this), this.node.on(i.CHILD_REORDER, this._doLayoutDirty, this), this._addChildrenEventListeners()
                    },
                    _removeEventListeners: function () {
                        cc.director.off(cc.Director.EVENT_AFTER_UPDATE, this.updateLayout, this), this.node.off(i.SIZE_CHANGED, this._resized, this), this.node.off(i.ANCHOR_CHANGED, this._doLayoutDirty, this), this.node.off(i.CHILD_ADDED, this._childAdded, this), this.node.off(i.CHILD_REMOVED, this._childRemoved, this), this.node.off(i.CHILD_REORDER, this._doLayoutDirty, this), this._removeChildrenEventListeners()
                    },
                    _addChildrenEventListeners: function () {
                        for (var t = this.node.children, e = 0; e < t.length; ++e) {
                            var n = t[e];
                            n.on(i.SCALE_CHANGED, this._doScaleDirty, this), n.on(i.SIZE_CHANGED, this._doLayoutDirty, this), n.on(i.POSITION_CHANGED, this._doLayoutDirty, this), n.on(i.ANCHOR_CHANGED, this._doLayoutDirty, this), n.on("active-in-hierarchy-changed", this._doLayoutDirty, this)
                        }
                    },
                    _removeChildrenEventListeners: function () {
                        for (var t = this.node.children, e = 0; e < t.length; ++e) {
                            var n = t[e];
                            n.off(i.SCALE_CHANGED, this._doScaleDirty, this), n.off(i.SIZE_CHANGED, this._doLayoutDirty, this), n.off(i.POSITION_CHANGED, this._doLayoutDirty, this), n.off(i.ANCHOR_CHANGED, this._doLayoutDirty, this), n.off("active-in-hierarchy-changed", this._doLayoutDirty, this)
                        }
                    },
                    _childAdded: function (t) {
                        t.on(i.SCALE_CHANGED, this._doScaleDirty, this), t.on(i.SIZE_CHANGED, this._doLayoutDirty, this), t.on(i.POSITION_CHANGED, this._doLayoutDirty, this), t.on(i.ANCHOR_CHANGED, this._doLayoutDirty, this), t.on("active-in-hierarchy-changed", this._doLayoutDirty, this), this._doLayoutDirty()
                    },
                    _childRemoved: function (t) {
                        t.off(i.SCALE_CHANGED, this._doScaleDirty, this), t.off(i.SIZE_CHANGED, this._doLayoutDirty, this), t.off(i.POSITION_CHANGED, this._doLayoutDirty, this), t.off(i.ANCHOR_CHANGED, this._doLayoutDirty, this), t.off("active-in-hierarchy-changed", this._doLayoutDirty, this), this._doLayoutDirty()
                    },
                    _resized: function () {
                        this._layoutSize = this.node.getContentSize(), this._doLayoutDirty()
                    },
                    _doLayoutHorizontally: function (t, e, i, s) {
                        var c = this.node.getAnchorPoint(), l = this.node.children, h = 1, u = this.paddingLeft,
                            f = -c.x * t;
                        this.horizontalDirection === o.RIGHT_TO_LEFT && (h = -1, f = (1 - c.x) * t, u = this.paddingRight);
                        for (var d = f + h * u - h * this.spacingX, _ = 0, p = 0, v = 0, g = 0, m = 0, y = 0, T = 0, E = 0; E < l.length; ++E) (b = l[E]).activeInHierarchy && T++;
                        var A = this.cellSize.width;
                        for (this.type !== n.GRID && this.resizeMode === r.CHILDREN && (A = (t - (this.paddingLeft + this.paddingRight) - (T - 1) * this.spacingX) / T), E = 0; E < l.length; ++E) {
                            var b = l[E], x = this._getUsedScaleValue(b.scaleX), C = this._getUsedScaleValue(b.scaleY);
                            if (b.activeInHierarchy) {
                                this._resize === r.CHILDREN && (b.width = A / x, this.type === n.GRID && (b.height = this.cellSize.height / C));
                                var S = b.anchorX, w = b.width * x, M = b.height * C;
                                v > p && (p = v), M >= p && (v = p, p = M, y = b.getAnchorPoint().y), this.horizontalDirection === o.RIGHT_TO_LEFT && (S = 1 - b.anchorX), d = d + h * S * w + h * this.spacingX;
                                var R = h * (1 - S) * w;
                                if (e) {
                                    var I = d + R + h * (h > 0 ? this.paddingRight : this.paddingLeft),
                                        O = this.horizontalDirection === o.LEFT_TO_RIGHT && I > (1 - c.x) * t,
                                        D = this.horizontalDirection === o.RIGHT_TO_LEFT && I < -c.x * t;
                                    (O || D) && (M >= p ? (0 === v && (v = p), _ += v, v = p) : (_ += p, v = M, p = 0), d = f + h * (u + S * w), g++)
                                }
                                var P = i(b, _, g);
                                t >= w + this.paddingLeft + this.paddingRight && s && b.setPosition(cc.v2(d, P));
                                var L, N = 1, F = 0 === p ? M : p;
                                this.verticalDirection === a.TOP_TO_BOTTOM ? (m = m || this.node._contentSize.height, (L = P + (N = -1) * (F * y + this.paddingBottom)) < m && (m = L)) : (m = m || -this.node._contentSize.height, (L = P + N * (F * y + this.paddingTop)) > m && (m = L)), d += R
                            }
                        }
                        return m
                    },
                    _getVerticalBaseHeight: function (t) {
                        var e = 0, i = 0;
                        if (this.resizeMode === r.CONTAINER) {
                            for (var n = 0; n < t.length; ++n) {
                                var s = t[n];
                                s.activeInHierarchy && (i++, e += s.height * this._getUsedScaleValue(s.scaleY))
                            }
                            e += (i - 1) * this.spacingY + this.paddingBottom + this.paddingTop
                        } else e = this.node.getContentSize().height;
                        return e
                    },
                    _doLayoutVertically: function (t, e, i, s) {
                        var c = this.node.getAnchorPoint(), l = this.node.children, h = 1, u = this.paddingBottom,
                            f = -c.y * t;
                        this.verticalDirection === a.TOP_TO_BOTTOM && (h = -1, f = (1 - c.y) * t, u = this.paddingTop);
                        for (var d = f + h * u - h * this.spacingY, _ = 0, p = 0, v = 0, g = 0, m = 0, y = 0, T = 0, E = 0; E < l.length; ++E) (b = l[E]).activeInHierarchy && T++;
                        var A = this.cellSize.height;
                        for (this.type !== n.GRID && this.resizeMode === r.CHILDREN && (A = (t - (this.paddingTop + this.paddingBottom) - (T - 1) * this.spacingY) / T), E = 0; E < l.length; ++E) {
                            var b = l[E], x = this._getUsedScaleValue(b.scaleX), C = this._getUsedScaleValue(b.scaleY);
                            if (b.activeInHierarchy) {
                                this.resizeMode === r.CHILDREN && (b.height = A / C, this.type === n.GRID && (b.width = this.cellSize.width / x));
                                var S = b.anchorY, w = b.width * x, M = b.height * C;
                                v > p && (p = v), w >= p && (v = p, p = w, y = b.getAnchorPoint().x), this.verticalDirection === a.TOP_TO_BOTTOM && (S = 1 - b.anchorY), d = d + h * S * M + h * this.spacingY;
                                var R = h * (1 - S) * M;
                                if (e) {
                                    var I = d + R + h * (h > 0 ? this.paddingTop : this.paddingBottom),
                                        O = this.verticalDirection === a.BOTTOM_TO_TOP && I > (1 - c.y) * t,
                                        D = this.verticalDirection === a.TOP_TO_BOTTOM && I < -c.y * t;
                                    (O || D) && (w >= p ? (0 === v && (v = p), _ += v, v = p) : (_ += p, v = w, p = 0), d = f + h * (u + S * M), g++)
                                }
                                var P = i(b, _, g);
                                t >= M + (this.paddingTop + this.paddingBottom) && s && b.setPosition(cc.v2(P, d));
                                var L, N = 1, F = 0 === p ? w : p;
                                this.horizontalDirection === o.RIGHT_TO_LEFT ? (N = -1, m = m || this.node._contentSize.width, (L = P + N * (F * y + this.paddingLeft)) < m && (m = L)) : (m = m || -this.node._contentSize.width, (L = P + N * (F * y + this.paddingRight)) > m && (m = L)), d += R
                            }
                        }
                        return m
                    },
                    _doLayoutBasic: function () {
                        for (var t = this.node.children, e = null, i = 0; i < t.length; ++i) {
                            var n = t[i];
                            n.activeInHierarchy && (e ? e.union(e, n.getBoundingBoxToWorld()) : e = n.getBoundingBoxToWorld())
                        }
                        if (e) {
                            var r = this.node.convertToNodeSpaceAR(cc.v2(e.x, e.y));
                            r = cc.v2(r.x - this.paddingLeft, r.y - this.paddingBottom);
                            var s = this.node.convertToNodeSpaceAR(cc.v2(e.xMax, e.yMax)),
                                a = (s = cc.v2(s.x + this.paddingRight, s.y + this.paddingTop)).sub(r);
                            if (0 !== (a = cc.size(parseFloat(a.x.toFixed(2)), parseFloat(a.y.toFixed(2)))).width) {
                                var o = -r.x / a.width;
                                this.node.anchorX = parseFloat(o.toFixed(2))
                            }
                            if (0 !== a.height) {
                                var c = -r.y / a.height;
                                this.node.anchorY = parseFloat(c.toFixed(2))
                            }
                            this.node.setContentSize(a)
                        }
                    },
                    _doLayoutGridAxisHorizontal: function (t, e) {
                        var i = e.width, n = 1, s = -t.y * e.height, o = this.paddingBottom;
                        this.verticalDirection === a.TOP_TO_BOTTOM && (n = -1, s = (1 - t.y) * e.height, o = this.paddingTop);
                        var c = function (t, e, i) {
                            return s + n * (e + t.anchorY * t.height * this._getUsedScaleValue(t.scaleY) + o + i * this.spacingY)
                        }.bind(this), l = 0;
                        if (this.resizeMode === r.CONTAINER) {
                            var h = this._doLayoutHorizontally(i, !0, c, !1);
                            (l = s - h) < 0 && (l *= -1), s = -t.y * l, this.verticalDirection === a.TOP_TO_BOTTOM && (n = -1, s = (1 - t.y) * l)
                        }
                        this._doLayoutHorizontally(i, !0, c, !0), this.resizeMode === r.CONTAINER && this.node.setContentSize(i, l)
                    },
                    _doLayoutGridAxisVertical: function (t, e) {
                        var i = e.height, n = 1, s = -t.x * e.width, a = this.paddingLeft;
                        this.horizontalDirection === o.RIGHT_TO_LEFT && (n = -1, s = (1 - t.x) * e.width, a = this.paddingRight);
                        var c = function (t, e, i) {
                            return s + n * (e + t.anchorX * t.width * this._getUsedScaleValue(t.scaleX) + a + i * this.spacingX)
                        }.bind(this), l = 0;
                        if (this.resizeMode === r.CONTAINER) {
                            var h = this._doLayoutVertically(i, !0, c, !1);
                            (l = s - h) < 0 && (l *= -1), s = -t.x * l, this.horizontalDirection === o.RIGHT_TO_LEFT && (n = -1, s = (1 - t.x) * l)
                        }
                        this._doLayoutVertically(i, !0, c, !0), this.resizeMode === r.CONTAINER && this.node.setContentSize(l, i)
                    },
                    _doLayoutGrid: function () {
                        var t = this.node.getAnchorPoint(), e = this.node.getContentSize();
                        this.startAxis === s.HORIZONTAL ? this._doLayoutGridAxisHorizontal(t, e) : this.startAxis === s.VERTICAL && this._doLayoutGridAxisVertical(t, e)
                    },
                    _getHorizontalBaseWidth: function (t) {
                        var e = 0, i = 0;
                        if (this.resizeMode === r.CONTAINER) {
                            for (var n = 0; n < t.length; ++n) {
                                var s = t[n];
                                s.activeInHierarchy && (i++, e += s.width * this._getUsedScaleValue(s.scaleX))
                            }
                            e += (i - 1) * this.spacingX + this.paddingLeft + this.paddingRight
                        } else e = this.node.getContentSize().width;
                        return e
                    },
                    _doLayout: function () {
                        if (this.type === n.HORIZONTAL) {
                            var t = this._getHorizontalBaseWidth(this.node.children);
                            this._doLayoutHorizontally(t, !1, (function (t) {
                                return t.y
                            }), !0), this.node.width = t
                        } else if (this.type === n.VERTICAL) {
                            var e = this._getVerticalBaseHeight(this.node.children);
                            this._doLayoutVertically(e, !1, (function (t) {
                                return t.x
                            }), !0), this.node.height = e
                        } else this.type === n.NONE ? this.resizeMode === r.CONTAINER && this._doLayoutBasic() : this.type === n.GRID && this._doLayoutGrid()
                    },
                    _getUsedScaleValue: function (t) {
                        return this.affectedByScale ? Math.abs(t) : 1
                    },
                    updateLayout: function () {
                        this._layoutDirty && this.node.children.length > 0 && this.node.children.find((function (t) {
                            return t.activeInHierarchy
                        })) && (this._doLayout(), this._layoutDirty = !1)
                    }
                });
            cc.Layout = e.exports = c
        }), {"../CCNode": 39, "./CCComponent": 108}],
        114: [(function (t, e) {
            "use strict";
            var i = a(t("../../renderer/gfx")), n = a(t("../value-types/mat4")), r = a(t("../value-types/vec2")),
                s = a(t("../assets/material/material-variant"));

            function a(t) {
                return t && t.__esModule ? t : {default: t}
            }

            var o = t("../utils/misc"), c = t("./CCRenderComponent"), l = t("../renderer/render-flow"),
                h = t("../graphics/graphics"), u = new r.default, f = new n.default, d = [];

            function _(t, e, i) {
                d.length = 0;
                for (var n = 2 * Math.PI / i, r = 0; r < i; ++r) d.push(cc.v2(e.x * Math.cos(n * r) + t.x, e.y * Math.sin(n * r) + t.y));
                return d
            }

            var p = cc.Enum({RECT: 0, ELLIPSE: 1, IMAGE_STENCIL: 2}), v = cc.Class({
                name: "cc.Mask", extends: c, editor: !1, ctor: function () {
                    this._graphics = null, this._enableMaterial = null, this._exitMaterial = null, this._clearMaterial = null
                }, properties: {
                    _spriteFrame: {default: null, type: cc.SpriteFrame},
                    _type: p.RECT,
                    type: {
                        get: function () {
                            return this._type
                        }, set: function (t) {
                            this._type !== t && this._resetAssembler(), this._type = t, this._type !== p.IMAGE_STENCIL && (this.spriteFrame = null, this.alphaThreshold = 0, this._updateGraphics()), this._activateMaterial()
                        }, type: p, tooltip: !1
                    },
                    spriteFrame: {
                        type: cc.SpriteFrame, tooltip: !1, get: function () {
                            return this._spriteFrame
                        }, set: function (t) {
                            var e = this._spriteFrame;
                            e !== t && (e && e.off("load", this.setVertsDirty, this), this._spriteFrame = t, this.setVertsDirty(), this._updateMaterial())
                        }
                    },
                    alphaThreshold: {
                        default: .1,
                        type: cc.Float,
                        range: [0, 1, .1],
                        slide: !0,
                        tooltip: !1,
                        notify: function () {
                            cc.game.renderType !== cc.game.RENDER_TYPE_CANVAS ? this._updateMaterial() : cc.warnID(4201)
                        }
                    },
                    inverted: {
                        default: !1, type: cc.Boolean, tooltip: !1, notify: function () {
                            cc.game.renderType === cc.game.RENDER_TYPE_CANVAS && cc.warnID(4202)
                        }
                    },
                    _segments: 64,
                    segements: {
                        get: function () {
                            return this._segments
                        }, set: function (t) {
                            this._segments = o.clampf(t, 3, 1e4), this._updateGraphics()
                        }, type: cc.Integer, tooltip: !1
                    },
                    _resizeToTarget: {
                        animatable: !1, set: function (t) {
                            t && this._resizeNodeToTargetNode()
                        }
                    }
                }, statics: {Type: p}, onRestore: function () {
                    this._activateMaterial()
                }, onEnable: function () {
                    this._super(), this._type !== p.IMAGE_STENCIL ? this._updateGraphics() : this._spriteFrame && this._spriteFrame.once("load", this.setVertsDirty, this), this.node.on(cc.Node.EventType.POSITION_CHANGED, this._updateGraphics, this), this.node.on(cc.Node.EventType.ROTATION_CHANGED, this._updateGraphics, this), this.node.on(cc.Node.EventType.SCALE_CHANGED, this._updateGraphics, this), this.node.on(cc.Node.EventType.SIZE_CHANGED, this._updateGraphics, this), this.node.on(cc.Node.EventType.ANCHOR_CHANGED, this._updateGraphics, this)
                }, onDisable: function () {
                    this._super(), this.node.off(cc.Node.EventType.POSITION_CHANGED, this._updateGraphics, this), this.node.off(cc.Node.EventType.ROTATION_CHANGED, this._updateGraphics, this), this.node.off(cc.Node.EventType.SCALE_CHANGED, this._updateGraphics, this), this.node.off(cc.Node.EventType.SIZE_CHANGED, this._updateGraphics, this), this.node.off(cc.Node.EventType.ANCHOR_CHANGED, this._updateGraphics, this), this.node._renderFlag &= ~l.FLAG_POST_RENDER
                }, onDestroy: function () {
                    this._super(), this._removeGraphics(), this._spriteFrame && this._spriteFrame.off("load", this.setVertsDirty, this)
                }, _resizeNodeToTargetNode: !1, _validateRender: function () {
                    if (this._type === p.IMAGE_STENCIL) {
                        var t = this._spriteFrame;
                        t && t.textureLoaded() || this.disableRender()
                    }
                }, _activateMaterial: function () {
                    this._createGraphics();
                    var t = this._materials[0];
                    (t = t ? s.default.create(t, this) : s.default.createWithBuiltin("2d-sprite", this)).define("USE_ALPHA_TEST", !0), this._type === p.IMAGE_STENCIL ? (t.define("CC_USE_MODEL", !1), t.define("USE_TEXTURE", !0)) : (t.define("CC_USE_MODEL", !0), t.define("USE_TEXTURE", !1)), this._enableMaterial || (this._enableMaterial = s.default.createWithBuiltin("2d-sprite", this)), this._exitMaterial || (this._exitMaterial = s.default.createWithBuiltin("2d-sprite", this), this._exitMaterial.setStencilEnabled(i.default.STENCIL_DISABLE)), this._clearMaterial || (this._clearMaterial = s.default.createWithBuiltin("clear-stencil", this)), this.setMaterial(0, t), this._graphics._materials[0] = t, this._updateMaterial()
                }, _updateMaterial: function () {
                    var t = this._materials[0];
                    if (t) {
                        if (this._type === p.IMAGE_STENCIL && this.spriteFrame) {
                            var e = this.spriteFrame.getTexture();
                            t.setProperty("texture", e)
                        }
                        t.setProperty("alphaThreshold", this.alphaThreshold)
                    }
                }, _createGraphics: function () {
                    this._graphics || (this._graphics = new h, cc.Assembler.init(this._graphics), this._graphics.node = this.node, this._graphics.lineWidth = 0, this._graphics.strokeColor = cc.color(0, 0, 0, 0))
                }, _updateGraphics: function () {
                    if (this.enabledInHierarchy) {
                        var t = this.node, e = this._graphics;
                        e.clear(!1);
                        var i = t._contentSize.width, n = t._contentSize.height, r = -i * t._anchorPoint.x,
                            s = -n * t._anchorPoint.y;
                        if (this._type === p.RECT) e.rect(r, s, i, n); else if (this._type === p.ELLIPSE) {
                            for (var a = _(cc.v2(r + i / 2, s + n / 2), {
                                x: i / 2,
                                y: n / 2
                            }, this._segments), o = 0; o < a.length; ++o) {
                                var c = a[o];
                                0 === o ? e.moveTo(c.x, c.y) : e.lineTo(c.x, c.y)
                            }
                            e.close()
                        }
                        cc.game.renderType === cc.game.RENDER_TYPE_CANVAS ? e.stroke() : e.fill(), this.setVertsDirty()
                    }
                }, _removeGraphics: function () {
                    this._graphics && (this._graphics.destroy(), this._graphics._destroyImmediate(), this._graphics = null)
                }, _hitTest: function (t) {
                    var e = this.node, i = e.getContentSize(), s = i.width, a = i.height, o = u;
                    if (e._updateWorldMatrix(), !n.default.invert(f, e._worldMatrix)) return !1;
                    r.default.transformMat4(o, t, f), o.x += e._anchorPoint.x * s, o.y += e._anchorPoint.y * a;
                    var c = !1;
                    if (this.type === p.RECT || this.type === p.IMAGE_STENCIL) c = o.x >= 0 && o.y >= 0 && o.x <= s && o.y <= a; else if (this.type === p.ELLIPSE) {
                        var l = s / 2, h = a / 2, d = o.x - .5 * s, _ = o.y - .5 * a;
                        c = d * d / (l * l) + _ * _ / (h * h) < 1
                    }
                    return this.inverted && (c = !c), c
                }, markForRender: function (t) {
                    var e = l.FLAG_RENDER | l.FLAG_UPDATE_RENDER_DATA | l.FLAG_POST_RENDER;
                    t ? (this.node._renderFlag |= e, this.markForValidate()) : t || (this.node._renderFlag &= ~e)
                }, disableRender: function () {
                    this.node._renderFlag &= ~(l.FLAG_RENDER | l.FLAG_UPDATE_RENDER_DATA | l.FLAG_POST_RENDER)
                }
            });
            cc.Mask = e.exports = v
        }), {
            "../../renderer/gfx": 292,
            "../assets/material/material-variant": 98,
            "../graphics/graphics": 156,
            "../renderer/render-flow": 200,
            "../utils/misc": 250,
            "../value-types/mat4": 267,
            "../value-types/vec2": 274,
            "./CCRenderComponent": 117
        }],
        115: [(function (t, e) {
            "use strict";
            var i = t("../components/CCRenderComponent"), n = t("../../core/utils/blend-func"), r = cc.Class({
                name: "cc.MotionStreak",
                extends: i,
                mixins: [n],
                editor: !1,
                ctor: function () {
                    this._points = [], this._lastWPos = new cc.Vec2
                },
                properties: {
                    preview: {default: !1, editorOnly: !0, notify: !1, animatable: !1},
                    _fadeTime: 1,
                    fadeTime: {
                        get: function () {
                            return this._fadeTime
                        }, set: function (t) {
                            this._fadeTime = t, this.reset()
                        }, animatable: !1, tooltip: !1
                    },
                    _minSeg: 1,
                    minSeg: {
                        get: function () {
                            return this._minSeg
                        }, set: function (t) {
                            this._minSeg = t
                        }, animatable: !1, tooltip: !1
                    },
                    _stroke: 64,
                    stroke: {
                        get: function () {
                            return this._stroke
                        }, set: function (t) {
                            this._stroke = t
                        }, animatable: !1, tooltip: !1
                    },
                    _texture: {default: null, type: cc.Texture2D},
                    texture: {
                        get: function () {
                            return this._texture
                        }, set: function (t) {
                            this._texture !== t && (this._texture = t, this._updateMaterial())
                        }, type: cc.Texture2D, animatable: !1, tooltip: !1
                    },
                    _color: cc.Color.WHITE,
                    color: {
                        get: function () {
                            return this._color.clone()
                        }, set: function (t) {
                            this._color.equals(t) || this._color.set(t)
                        }, type: cc.Color, tooltip: !1
                    },
                    _fastMode: !1,
                    fastMode: {
                        get: function () {
                            return this._fastMode
                        }, set: function (t) {
                            this._fastMode = t
                        }, animatable: !1, tooltip: !1
                    }
                },
                onEnable: function () {
                    this._super(), this.reset()
                },
                _updateMaterial: function () {
                    var t = this.getMaterial(0);
                    t && t.setProperty("texture", this._texture), n.prototype._updateMaterial.call(this)
                },
                onFocusInEditor: !1,
                onLostFocusInEditor: !1,
                reset: function () {
                    this._points.length = 0, this._assembler && this._assembler._renderData.clear(), this._lastWPos.x = 0, this._lastWPos.y = 0
                },
                lateUpdate: function (t) {
                    this._assembler && this._assembler.update(this, t)
                }
            });
            cc.MotionStreak = e.exports = r
        }), {"../../core/utils/blend-func": 244, "../components/CCRenderComponent": 117}],
        116: [(function (t, e) {
            "use strict";
            var i = t("../utils/misc"), n = t("./CCComponent"), r = cc.Enum({HORIZONTAL: 0, VERTICAL: 1, FILLED: 2}),
                s = cc.Class({
                    name: "cc.ProgressBar", extends: n, editor: !1, _initBarSprite: function () {
                        if (this.barSprite) {
                            var t = this.barSprite.node;
                            if (!t) return;
                            var e = this.node.getContentSize(), i = this.node.getAnchorPoint(), n = t.getContentSize();
                            t.parent === this.node && this.node.setContentSize(n), this.barSprite.fillType === cc.Sprite.FillType.RADIAL && (this.mode = r.FILLED);
                            var s = t.getContentSize();
                            if (this.mode === r.HORIZONTAL ? this.totalLength = s.width : this.mode === r.VERTICAL ? this.totalLength = s.height : this.totalLength = this.barSprite.fillRange, t.parent === this.node) {
                                var a = -e.width * i.x;
                                t.setPosition(cc.v2(a, 0))
                            }
                        }
                    }, _updateBarStatus: function () {
                        if (this.barSprite) {
                            var t = this.barSprite.node;
                            if (!t) return;
                            var e, n, s, a = t.getAnchorPoint(), o = t.getContentSize(), c = t.getPosition(),
                                l = cc.v2(0, .5), h = i.clamp01(this.progress), u = this.totalLength * h;
                            switch (this.mode) {
                                case r.HORIZONTAL:
                                    this.reverse && (l = cc.v2(1, .5)), e = cc.size(u, o.height), n = this.totalLength, s = o.height;
                                    break;
                                case r.VERTICAL:
                                    l = this.reverse ? cc.v2(.5, 1) : cc.v2(.5, 0), e = cc.size(o.width, u), n = o.width, s = this.totalLength
                            }
                            if (this.mode === r.FILLED) this.barSprite.type !== cc.Sprite.Type.FILLED ? cc.warn("ProgressBar FILLED mode only works when barSprite's Type is FILLED!") : (this.reverse && (u *= -1), this.barSprite.fillRange = u); else if (this.barSprite.type !== cc.Sprite.Type.FILLED) {
                                var f = l.x - a.x, d = l.y - a.y, _ = cc.v2(n * f, s * d);
                                t.setPosition(c.x + _.x, c.y + _.y), t.setAnchorPoint(l), t.setContentSize(e)
                            } else cc.warn("ProgressBar non-FILLED mode only works when barSprite's Type is non-FILLED!")
                        }
                    }, properties: {
                        barSprite: {
                            default: null, type: cc.Sprite, tooltip: !1, notify: function () {
                                this._initBarSprite()
                            }, animatable: !1
                        },
                        mode: {
                            default: r.HORIZONTAL, type: r, tooltip: !1, notify: function () {
                                if (this.barSprite) {
                                    var t = this.barSprite.node;
                                    if (!t) return;
                                    var e = t.getContentSize();
                                    this.mode === r.HORIZONTAL ? this.totalLength = e.width : this.mode === r.VERTICAL ? this.totalLength = e.height : this.mode === r.FILLED && (this.totalLength = this.barSprite.fillRange)
                                }
                            }, animatable: !1
                        },
                        _N$totalLength: 1,
                        totalLength: {
                            range: [0, Number.MAX_VALUE], tooltip: !1, get: function () {
                                return this._N$totalLength
                            }, set: function (t) {
                                this.mode === r.FILLED && (t = i.clamp01(t)), this._N$totalLength = t, this._updateBarStatus()
                            }
                        },
                        progress: {
                            default: 1,
                            type: cc.Float,
                            range: [0, 1, .1],
                            slide: !0,
                            tooltip: !1,
                            notify: function () {
                                this._updateBarStatus()
                            }
                        },
                        reverse: {
                            default: !1, tooltip: !1, notify: function () {
                                this.barSprite && (this.barSprite.fillStart = 1 - this.barSprite.fillStart), this._updateBarStatus()
                            }, animatable: !1
                        }
                    }, statics: {Mode: r}
                });
            cc.ProgressBar = e.exports = s
        }), {"../utils/misc": 250, "./CCComponent": 108}],
        117: [(function (t, e) {
            "use strict";
            var i = s(t("../renderer/assembler")), n = s(t("../assets/material/material-variant")),
                r = t("../value-types");

            function s(t) {
                return t && t.__esModule ? t : {default: t}
            }

            var a = t("./CCComponent"), o = t("../renderer/render-flow"), c = t("../assets/material/CCMaterial"),
                l = new r.Color, h = cc.Class({
                    name: "RenderComponent",
                    extends: a,
                    editor: !1,
                    properties: {
                        _materials: {default: [], type: c}, materials: {
                            get: function () {
                                return this._materials
                            }, set: function (t) {
                                this._materials = t, this._activateMaterial()
                            }, type: [c], displayName: "Materials", animatable: !1
                        }
                    },
                    ctor: function () {
                        this._vertsDirty = !0, this._assembler = null
                    },
                    _resetAssembler: function () {
                        i.default.init(this), this._updateColor(), this.setVertsDirty()
                    },
                    __preload: function () {
                        this._resetAssembler(), this._activateMaterial()
                    },
                    onEnable: function () {
                        this.node._renderComponent && (this.node._renderComponent.enabled = !1), this.node._renderComponent = this, this.node._renderFlag |= o.FLAG_OPACITY_COLOR, this.setVertsDirty()
                    },
                    onDisable: function () {
                        this.node._renderComponent = null, this.disableRender()
                    },
                    onDestroy: function () {
                        for (var t = this._materials, e = 0; e < t.length; e++) cc.pool.material.put(t[e]);
                        t.length = 0, cc.pool.assembler.put(this._assembler), this.disableRender()
                    },
                    setVertsDirty: function () {
                        this._vertsDirty = !0, this.markForRender(!0)
                    },
                    _on3DNodeChanged: function () {
                        this._resetAssembler()
                    },
                    _validateRender: function () {
                    },
                    markForValidate: function () {
                        cc.RenderFlow.registerValidate(this)
                    },
                    markForRender: function (t) {
                        var e = o.FLAG_RENDER | o.FLAG_UPDATE_RENDER_DATA;
                        t ? (this.node._renderFlag |= e, this.markForValidate()) : this.node._renderFlag &= ~e
                    },
                    disableRender: function () {
                        this.node._renderFlag &= ~(o.FLAG_RENDER | o.FLAG_UPDATE_RENDER_DATA)
                    },
                    getMaterial: function (t) {
                        if (t < 0 || t >= this._materials.length) return null;
                        var e = this._materials[t];
                        if (!e) return null;
                        var i = n.default.create(e, this);
                        return i !== e && this.setMaterial(t, i), i
                    },
                    getMaterials: function () {
                        for (var t = this._materials, e = 0; e < t.length; e++) t[e] = n.default.create(t[e], this);
                        return t
                    },
                    setMaterial: function (t, e) {
                        return e !== this._materials[t] && (e = n.default.create(e, this), this._materials[t] = e), this._updateMaterial(), this.markForRender(!0), e
                    },
                    _getDefaultMaterial: function () {
                        return c.getBuiltinMaterial("2d-sprite")
                    },
                    _activateMaterial: function () {
                        var t = this._materials;
                        if (!t[0]) {
                            var e = this._getDefaultMaterial();
                            t[0] = e
                        }
                        for (var i = 0; i < t.length; i++) t[i] = n.default.create(t[i], this);
                        this._updateMaterial()
                    },
                    _updateMaterial: function () {
                    },
                    _updateColor: function () {
                        if (this._assembler.updateColor) {
                            var t = this.srcBlendFactor === cc.macro.BlendFactor.ONE;
                            t && r.Color.premultiplyAlpha(l, this.node._color);
                            var e = t ? l._val : null;
                            this._assembler.updateColor(this, e)
                        }
                    },
                    _checkBacth: function (t, e) {
                        var i = this._materials[0];
                        (i && i.getHash() !== t.material.getHash() || t.cullingMask !== e) && (t._flush(), t.node = i.getDefine("CC_USE_MODEL") ? this.node : t._dummyNode, t.material = i, t.cullingMask = e)
                    }
                });
            cc.RenderComponent = e.exports = h
        }), {
            "../assets/material/CCMaterial": 91,
            "../assets/material/material-variant": 98,
            "../renderer/assembler": 196,
            "../renderer/render-flow": 200,
            "../value-types": 265,
            "./CCComponent": 108
        }],
        118: [(function (t, e) {
            "use strict";
            var i = t("../platform/js"), n = t("../platform/CCMacro"), r = t("../utils/text-utils"),
                s = new (t("../utils/html-text-parser")), a = n.TextAlignment, o = n.VerticalTextAlignment,
                c = cc.Label.CacheMode, l = new i.Pool(function (t) {
                    if (!cc.isValid(t)) return !1;
                    var e = t.getComponent(cc.LabelOutline);
                    return e && (e.width = 0), !0
                }, 20);
            l.get = function () {
                var t = this._get();
                t || ((t = new cc.PrivateNode("RICHTEXT_CHILD"))._objFlags |= cc.Object.Flags.DontSave), t.setPosition(0, 0), t.setAnchorPoint(.5, .5), t.skewX = 0;
                var e = t.getComponent(cc.Label);
                return e || (e = t.addComponent(cc.Label)), e.string = "", e.horizontalAlign = a.LEFT, e.verticalAlign = o.CENTER, e._forceUseCanvas = !0, t
            };
            var h = cc.Class({
                name: "cc.RichText", extends: cc.Component, ctor: function () {
                    this._textArray = null, this._labelSegments = [], this._labelSegmentsCache = [], this._linesWidth = [], this._updateRichTextStatus = this._updateRichText
                }, editor: !1, properties: {
                    string: {
                        default: "<color=#00ff00>Rich</c><color=#0fffff>Text</color>",
                        multiline: !0,
                        tooltip: !1,
                        notify: function () {
                            this._updateRichTextStatus()
                        }
                    }, horizontalAlign: {
                        default: a.LEFT, type: a, tooltip: !1, animatable: !1, notify: function (t) {
                            this.horizontalAlign !== t && (this._layoutDirty = !0, this._updateRichTextStatus())
                        }
                    }, fontSize: {
                        default: 40, tooltip: !1, notify: function (t) {
                            this.fontSize !== t && (this._layoutDirty = !0, this._updateRichTextStatus())
                        }
                    }, _fontFamily: "Arial", fontFamily: {
                        tooltip: !1, get: function () {
                            return this._fontFamily
                        }, set: function (t) {
                            this._fontFamily !== t && (this._fontFamily = t, this._layoutDirty = !0, this._updateRichTextStatus())
                        }, animatable: !1
                    }, font: {
                        default: null, type: cc.TTFFont, tooltip: !1, notify: function (t) {
                            this.font !== t && (this._layoutDirty = !0, this.font ? (this.useSystemFont = !1, this._onTTFLoaded()) : this.useSystemFont = !0, this._updateRichTextStatus())
                        }
                    }, _isSystemFontUsed: !0, useSystemFont: {
                        get: function () {
                            return this._isSystemFontUsed
                        }, set: function (t) {
                            this._isSystemFontUsed !== t && (this._isSystemFontUsed = t, this._layoutDirty = !0, this._updateRichTextStatus())
                        }, animatable: !1, tooltip: !1
                    }, cacheMode: {
                        default: c.NONE, type: c, tooltip: !1, notify: function (t) {
                            this.cacheMode !== t && this._updateRichTextStatus()
                        }, animatable: !1
                    }, maxWidth: {
                        default: 0, tooltip: !1, notify: function (t) {
                            this.maxWidth !== t && (this._layoutDirty = !0, this._updateRichTextStatus())
                        }
                    }, lineHeight: {
                        default: 40, tooltip: !1, notify: function (t) {
                            this.lineHeight !== t && (this._layoutDirty = !0, this._updateRichTextStatus())
                        }
                    }, imageAtlas: {
                        default: null, type: cc.SpriteAtlas, tooltip: !1, notify: function (t) {
                            this.imageAtlas !== t && (this._layoutDirty = !0, this._updateRichTextStatus())
                        }
                    }, handleTouchEvent: {
                        default: !0, tooltip: !1, notify: function (t) {
                            this.handleTouchEvent !== t && this.enabledInHierarchy && (this.handleTouchEvent ? this._addEventListeners() : this._removeEventListeners())
                        }
                    }
                }, statics: {HorizontalAlign: a, VerticalAlign: o}, onEnable: function () {
                    this.handleTouchEvent && this._addEventListeners(), this._onTTFLoaded(), this._activateChildren(!0)
                }, onDisable: function () {
                    this.handleTouchEvent && this._removeEventListeners(), this._activateChildren(!1)
                }, _onColorChanged: function (t) {
                    this.node.children.forEach((function (e) {
                        e.color = t
                    }))
                }, _addEventListeners: function () {
                    this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this), this.node.on(cc.Node.EventType.COLOR_CHANGED, this._onColorChanged, this)
                }, _removeEventListeners: function () {
                    this.node.off(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this), this.node.off(cc.Node.EventType.COLOR_CHANGED, this._onColorChanged, this)
                }, _updateLabelSegmentTextAttributes: function () {
                    this._labelSegments.forEach(function (t) {
                        this._applyTextAttribute(t, null, !0)
                    }.bind(this))
                }, _createFontLabel: function (t) {
                    return l.get(t, this)
                }, _onTTFLoaded: function () {
                    if (this.font instanceof cc.TTFFont) if (this.font._nativeAsset) this._layoutDirty = !0, this._updateRichTextStatus(); else {
                        var t = this;
                        cc.assetManager.postLoadNative(this.font, (function () {
                            t._layoutDirty = !0, t._updateRichTextStatus()
                        }))
                    } else this._layoutDirty = !0, this._updateRichTextStatus()
                }, _measureText: function (t, e) {
                    var i = this, n = function (e) {
                        var n;
                        return 0 === i._labelSegmentsCache.length ? (n = i._createFontLabel(e), i._labelSegmentsCache.push(n)) : n = i._labelSegmentsCache[0], n._styleIndex = t, i._applyTextAttribute(n, e, !0), n.getContentSize().width
                    };
                    return e ? n(e) : n
                }, _onTouchEnded: function (t) {
                    for (var e = this, i = this.node.getComponents(cc.Component), n = function () {
                        var n = e._labelSegments[r], s = n._clickHandler, a = n._clickParam;
                        s && e._containsTouchLocation(n, t.touch.getLocation()) && (i.forEach((function (e) {
                            e.enabledInHierarchy && e[s] && e[s](t, a)
                        })), t.stopPropagation())
                    }, r = 0; r < this._labelSegments.length; ++r) n()
                }, _containsTouchLocation: function (t, e) {
                    return t.getBoundingBoxToWorld().contains(e)
                }, _resetState: function () {
                    for (var t = this.node.children, e = t.length - 1; e >= 0; e--) {
                        var i = t[e];
                        "RICHTEXT_CHILD" !== i.name && "RICHTEXT_Image_CHILD" !== i.name || (i.parent === this.node ? i.parent = null : t.splice(e, 1), "RICHTEXT_CHILD" === i.name && l.put(i))
                    }
                    this._labelSegments.length = 0, this._labelSegmentsCache.length = 0, this._linesWidth.length = 0, this._lineOffsetX = 0, this._lineCount = 1, this._labelWidth = 0, this._labelHeight = 0, this._layoutDirty = !0
                }, onRestore: !1, _activateChildren: function (t) {
                    for (var e = this.node.children.length - 1; e >= 0; e--) {
                        var i = this.node.children[e];
                        "RICHTEXT_CHILD" !== i.name && "RICHTEXT_Image_CHILD" !== i.name || (i.active = t)
                    }
                }, _addLabelSegment: function (t, e) {
                    var i;
                    return (i = 0 === this._labelSegmentsCache.length ? this._createFontLabel(t) : this._labelSegmentsCache.pop())._styleIndex = e, i._lineCount = this._lineCount, i.active = this.node.active, i.setAnchorPoint(0, 0), this._applyTextAttribute(i, t, !1), this.node.addChild(i), this._labelSegments.push(i), i
                }, _updateRichTextWithMaxWidth: function (t, e, i) {
                    var n = e;
                    if (this._lineOffsetX > 0 && n + this._lineOffsetX > this.maxWidth) for (var s = 0; this._lineOffsetX <= this.maxWidth;) {
                        var a = this._getFirstWordLen(t, s, t.length), o = t.substr(s, a), c = this._measureText(i, o);
                        if (!(this._lineOffsetX + c <= this.maxWidth)) {
                            if (s > 0) {
                                var l = t.substr(0, s);
                                this._addLabelSegment(l, i), t = t.substr(s, t.length), n = this._measureText(i, t)
                            }
                            this._updateLineInfo();
                            break
                        }
                        this._lineOffsetX += c, s += a
                    }
                    if (n > this.maxWidth) for (var h = r.fragmentText(t, n, this.maxWidth, this._measureText(i)), u = 0; u < h.length; ++u) {
                        var f = h[u], d = this._addLabelSegment(f, i).getContentSize();
                        this._lineOffsetX += d.width, h.length > 1 && u < h.length - 1 && this._updateLineInfo()
                    } else this._lineOffsetX += n, this._addLabelSegment(t, i)
                }, _isLastComponentCR: function (t) {
                    return t.length - 1 === t.lastIndexOf("\n")
                }, _updateLineInfo: function () {
                    this._linesWidth.push(this._lineOffsetX), this._lineOffsetX = 0, this._lineCount++
                }, _needsUpdateTextLayout: function (t) {
                    if (this._layoutDirty || !this._textArray || !t) return !0;
                    if (this._textArray.length !== t.length) return !0;
                    for (var e = 0; e < this._textArray.length; ++e) {
                        var i = this._textArray[e], n = t[e];
                        if (i.text !== n.text) return !0;
                        var r = i.style, s = n.style;
                        if (r) {
                            if (s) {
                                if (!r.outline != !s.outline) return !0;
                                if (r.size !== s.size || !r.italic != !s.italic || r.isImage !== s.isImage) return !0;
                                if (r.src !== s.src || r.imageAlign !== s.imageAlign || r.imageHeight !== s.imageHeight || r.imageWidth !== s.imageWidth || r.imageOffset !== s.imageOffset) return !0
                            } else if (r.size || r.italic || r.isImage || r.outline) return !0
                        } else if (s && (s.size || s.italic || s.isImage || s.outline)) return !0
                    }
                    return !1
                }, _addRichTextImageElement: function (t) {
                    var e = t.style.src, i = this.imageAtlas.getSpriteFrame(e);
                    if (i) {
                        var n = new cc.PrivateNode("RICHTEXT_Image_CHILD");
                        n._objFlags |= cc.Object.Flags.DontSave;
                        var r = n.addComponent(cc.Sprite);
                        switch (t.style.imageAlign) {
                            case"top":
                                n.setAnchorPoint(0, 1);
                                break;
                            case"center":
                                n.setAnchorPoint(0, .5);
                                break;
                            default:
                                n.setAnchorPoint(0, 0)
                        }
                        t.style.imageOffset && (n._imageOffset = t.style.imageOffset), r.type = cc.Sprite.Type.SLICED, r.sizeMode = cc.Sprite.SizeMode.CUSTOM, this.node.addChild(n), this._labelSegments.push(n);
                        var s = i.getRect(), a = 1, o = s.width, c = s.height, l = t.style.imageWidth,
                            h = t.style.imageHeight;
                        h > 0 ? (o *= a = h / c, c *= a) : (o *= a = this.lineHeight / c, c *= a), l > 0 && (o = l), this.maxWidth > 0 ? (this._lineOffsetX + o > this.maxWidth && this._updateLineInfo(), this._lineOffsetX += o) : (this._lineOffsetX += o, this._lineOffsetX > this._labelWidth && (this._labelWidth = this._lineOffsetX)), r.spriteFrame = i, n.setContentSize(o, c), n._lineCount = this._lineCount, t.style.event ? (t.style.event.click && (n._clickHandler = t.style.event.click), t.style.event.param ? n._clickParam = t.style.event.param : n._clickParam = "") : n._clickHandler = null
                    } else cc.warnID(4400)
                }, _updateRichText: function () {
                    if (this.enabledInHierarchy) {
                        var t = s.parse(this.string);
                        if (!this._needsUpdateTextLayout(t)) return this._textArray = t, void this._updateLabelSegmentTextAttributes();
                        this._textArray = t, this._resetState();
                        for (var e, i = !1, n = 0; n < this._textArray.length; ++n) {
                            var a = this._textArray[n], o = a.text;
                            if ("" === o) {
                                if (a.style && a.style.newline) {
                                    this._updateLineInfo();
                                    continue
                                }
                                if (a.style && a.style.isImage && this.imageAtlas) {
                                    this._addRichTextImageElement(a);
                                    continue
                                }
                            }
                            for (var c = o.split("\n"), l = 0; l < c.length; ++l) {
                                var h = c[l];
                                if ("" !== h) if (i = !1, this.maxWidth > 0) {
                                    var u = this._measureText(n, h);
                                    this._updateRichTextWithMaxWidth(h, u, n), c.length > 1 && l < c.length - 1 && this._updateLineInfo()
                                } else e = this._addLabelSegment(h, n).getContentSize(), this._lineOffsetX += e.width, this._lineOffsetX > this._labelWidth && (this._labelWidth = this._lineOffsetX), c.length > 1 && l < c.length - 1 && this._updateLineInfo(); else {
                                    if (this._isLastComponentCR(o) && l === c.length - 1) continue;
                                    this._updateLineInfo(), i = !0
                                }
                            }
                        }
                        i || this._linesWidth.push(this._lineOffsetX), this.maxWidth > 0 && (this._labelWidth = this.maxWidth), this._labelHeight = (this._lineCount + r.BASELINE_RATIO) * this.lineHeight, this.node.setContentSize(this._labelWidth, this._labelHeight), this._updateRichTextPosition(), this._layoutDirty = !1
                    }
                }, _getFirstWordLen: function (t, e, i) {
                    var n = t.charAt(e);
                    if (r.isUnicodeCJK(n) || r.isUnicodeSpace(n)) return 1;
                    for (var s = 1, a = e + 1; a < i && (n = t.charAt(a), !r.isUnicodeSpace(n) && !r.isUnicodeCJK(n)); ++a) s++;
                    return s
                }, _updateRichTextPosition: function () {
                    for (var t = 0, e = 1, i = this._lineCount, n = 0; n < this._labelSegments.length; ++n) {
                        var s = this._labelSegments[n], o = s._lineCount;
                        o > e && (t = 0, e = o);
                        var c = 0;
                        switch (this.horizontalAlign) {
                            case a.LEFT:
                                c = -this._labelWidth / 2;
                                break;
                            case a.CENTER:
                                c = -this._linesWidth[o - 1] / 2;
                                break;
                            case a.RIGHT:
                                c = this._labelWidth / 2 - this._linesWidth[o - 1]
                        }
                        s.x = t + c;
                        var l = s.getContentSize();
                        if (s.y = this.lineHeight * (i - o) - this._labelHeight / 2, o === e && (t += l.width), s.getComponent(cc.Sprite)) {
                            var h = this.lineHeight, u = this.lineHeight * (1 + r.BASELINE_RATIO);
                            switch (s.anchorY) {
                                case 1:
                                    s.y += h + (u - h) / 2;
                                    break;
                                case.5:
                                    s.y += u / 2;
                                    break;
                                default:
                                    s.y += (u - h) / 2
                            }
                            if (s._imageOffset) {
                                var f = s._imageOffset.split(",");
                                if (1 === f.length && f[0]) {
                                    var d = parseFloat(f[0]);
                                    Number.isInteger(d) && (s.y += d)
                                } else if (2 === f.length) {
                                    var _ = parseFloat(f[0]), p = parseFloat(f[1]);
                                    Number.isInteger(_) && (s.x += _), Number.isInteger(p) && (s.y += p)
                                }
                            }
                        }
                        var v = s.getComponent(cc.LabelOutline);
                        v && v.width && (s.y = s.y - v.width)
                    }
                }, _convertLiteralColorValue: function (t) {
                    var e = t.toUpperCase();
                    return cc.Color[e] ? cc.Color[e] : cc.color().fromHEX(t)
                }, _applyTextAttribute: function (t, e, i) {
                    var n = t.getComponent(cc.Label);
                    if (n) {
                        var r = t._styleIndex, s = null;
                        if (this._textArray[r] && (s = this._textArray[r].style), s && s.color ? t.color = this._convertLiteralColorValue(s.color) : t.color = this.node.color, n.cacheMode = this.cacheMode, this.font instanceof cc.Font && !this._isSystemFontUsed ? n.font = this.font : n.fontFamily = this.fontFamily, n.useSystemFont = this._isSystemFontUsed, n.lineHeight = this.lineHeight, n.enableBold = s && s.bold, n.enableItalics = s && s.italic, s && s.italic && (t.skewX = 12), n.enableUnderline = s && s.underline, s && s.outline) {
                            var a = t.getComponent(cc.LabelOutline);
                            a || (a = t.addComponent(cc.LabelOutline)), a.color = this._convertLiteralColorValue(s.outline.color), a.width = s.outline.width
                        }
                        s && s.size ? n.fontSize = s.size : n.fontSize = this.fontSize, null !== e && ("string" != typeof e && (e = "" + e), n.string = e), i && n._forceUpdateRenderData(), s && s.event ? (s.event.click && (t._clickHandler = s.event.click), s.event.param ? t._clickParam = s.event.param : t._clickParam = "") : t._clickHandler = null
                    }
                }, onDestroy: function () {
                    for (var t = 0; t < this._labelSegments.length; ++t) this._labelSegments[t].removeFromParent(), l.put(this._labelSegments[t])
                }
            });
            cc.RichText = e.exports = h
        }), {
            "../platform/CCMacro": 172,
            "../platform/js": 188,
            "../utils/html-text-parser": 248,
            "../utils/text-utils": 257
        }],
        119: [(function (t, e) {
            "use strict";
            var i = t("./CCWidget"), n = t("../base-ui/CCWidgetManager"), r = cc.Class({
                name: "cc.SafeArea", extends: t("./CCComponent"), editor: !1, onEnable: function () {
                    this.updateArea(), cc.view.on("canvas-resize", this.updateArea, this)
                }, onDisable: function () {
                    cc.view.off("canvas-resize", this.updateArea, this)
                }, updateArea: function () {
                    var t = this.node.getComponent(i);
                    if (t) {
                        t.updateAlignment();
                        var e = this.node.position, r = this.node.getAnchorPoint();
                        t.isAlignTop = t.isAlignBottom = t.isAlignLeft = t.isAlignRight = !0;
                        var s = cc.winSize.width, a = cc.winSize.height, o = cc.sys.getSafeAreaRect();
                        t.top = a - o.y - o.height, t.bottom = o.y, t.left = o.x, t.right = s - o.x - o.width, t.updateAlignment();
                        var c = this.node.position, l = r.x - (c.x - e.x) / this.node.width,
                            h = r.y - (c.y - e.y) / this.node.height;
                        this.node.setAnchorPoint(l, h), n.add(t)
                    }
                }
            });
            cc.SafeArea = e.exports = r
        }), {"../base-ui/CCWidgetManager": 100, "./CCComponent": 108, "./CCWidget": 125}],
        120: [(function (t, e) {
            "use strict";
            var i = t("../utils/misc"), n = (t("./CCComponent"), cc.Enum({HORIZONTAL: 0, VERTICAL: 1})), r = cc.Class({
                name: "cc.Scrollbar",
                extends: t("./CCComponent"),
                editor: !1,
                properties: {
                    _scrollView: null,
                    _touching: !1,
                    _autoHideRemainingTime: {default: 0, serializable: !1},
                    _opacity: 255,
                    handle: {
                        default: null, type: cc.Sprite, tooltip: !1, notify: function () {
                            this._onScroll(cc.v2(0, 0))
                        }, animatable: !1
                    },
                    direction: {
                        default: n.HORIZONTAL, type: n, tooltip: !1, notify: function () {
                            this._onScroll(cc.v2(0, 0))
                        }, animatable: !1
                    },
                    enableAutoHide: {default: !0, animatable: !1, tooltip: !1},
                    autoHideTime: {default: 1, animatable: !1, tooltip: !1}
                },
                statics: {Direction: n},
                setTargetScrollView: function (t) {
                    this._scrollView = t
                },
                _convertToScrollViewSpace: function (t) {
                    var e = this._scrollView.node,
                        i = t.convertToWorldSpaceAR(cc.v2(-t.anchorX * t.width, -t.anchorY * t.height)),
                        n = e.convertToNodeSpaceAR(i);
                    return n.x += e.anchorX * e.width, n.y += e.anchorY * e.height, n
                },
                _setOpacity: function (t) {
                    this.handle && (this.node.opacity = t, this.handle.node.opacity = t)
                },
                _onScroll: function (t) {
                    if (this._scrollView) {
                        var e = this._scrollView.content;
                        if (e) {
                            var i = e.getContentSize(), r = this._scrollView.node.getContentSize(),
                                s = this.node.getContentSize();
                            if (this._conditionalDisableScrollBar(i, r)) return;
                            this.enableAutoHide && (this._autoHideRemainingTime = this.autoHideTime, this._setOpacity(this._opacity));
                            var a = 0, o = 0, c = 0, l = 0, h = 0;
                            this.direction === n.HORIZONTAL ? (a = i.width, o = r.width, h = s.width, c = t.x, l = -this._convertToScrollViewSpace(e).x) : this.direction === n.VERTICAL && (a = i.height, o = r.height, h = s.height, c = t.y, l = -this._convertToScrollViewSpace(e).y);
                            var u = this._calculateLength(a, o, h, c), f = this._calculatePosition(a, o, h, l, c, u);
                            this._updateLength(u), this._updateHanlderPosition(f)
                        }
                    }
                },
                _updateHanlderPosition: function (t) {
                    if (this.handle) {
                        var e = this._fixupHandlerPosition();
                        this.handle.node.setPosition(t.x + e.x, t.y + e.y)
                    }
                },
                _fixupHandlerPosition: function () {
                    var t = this.node.getContentSize(), e = this.node.getAnchorPoint(),
                        i = this.handle.node.getContentSize(), r = this.handle.node.parent,
                        s = this.node.convertToWorldSpaceAR(cc.v2(-t.width * e.x, -t.height * e.y)),
                        a = r.convertToNodeSpaceAR(s);
                    return this.direction === n.HORIZONTAL ? a = cc.v2(a.x, a.y + (t.height - i.height) / 2) : this.direction === n.VERTICAL && (a = cc.v2(a.x + (t.width - i.width) / 2, a.y)), this.handle.node.setPosition(a), a
                },
                _onTouchBegan: function () {
                    this.enableAutoHide && (this._touching = !0)
                },
                _conditionalDisableScrollBar: function (t, e) {
                    return t.width <= e.width && this.direction === n.HORIZONTAL || t.height <= e.height && this.direction === n.VERTICAL
                },
                _onTouchEnded: function () {
                    if (this.enableAutoHide && (this._touching = !1, !(this.autoHideTime <= 0))) {
                        if (this._scrollView) {
                            var t = this._scrollView.content;
                            if (t) {
                                var e = t.getContentSize(), i = this._scrollView.node.getContentSize();
                                if (this._conditionalDisableScrollBar(e, i)) return
                            }
                        }
                        this._autoHideRemainingTime = this.autoHideTime
                    }
                },
                _calculateLength: function (t, e, i, n) {
                    var r = t;
                    return n && (r += 20 * (n > 0 ? n : -n)), i * (e / r)
                },
                _calculatePosition: function (t, e, r, s, a, o) {
                    var c = t - e;
                    a && (c += Math.abs(a));
                    var l = 0;
                    c && (l = s / c, l = i.clamp01(l));
                    var h = (r - o) * l;
                    return this.direction === n.VERTICAL ? cc.v2(0, h) : cc.v2(h, 0)
                },
                _updateLength: function (t) {
                    if (this.handle) {
                        var e = this.handle.node, i = e.getContentSize();
                        e.setAnchorPoint(cc.v2(0, 0)), this.direction === n.HORIZONTAL ? e.setContentSize(t, i.height) : e.setContentSize(i.width, t)
                    }
                },
                _processAutoHide: function (t) {
                    if (this.enableAutoHide && !(this._autoHideRemainingTime <= 0) && !this._touching && (this._autoHideRemainingTime -= t, this._autoHideRemainingTime <= this.autoHideTime)) {
                        this._autoHideRemainingTime = Math.max(0, this._autoHideRemainingTime);
                        var e = this._opacity * (this._autoHideRemainingTime / this.autoHideTime);
                        this._setOpacity(e)
                    }
                },
                start: function () {
                    this.enableAutoHide && this._setOpacity(0)
                },
                hide: function () {
                    this._autoHideRemainingTime = 0, this._setOpacity(0)
                },
                show: function () {
                    this._autoHideRemainingTime = this.autoHideTime, this._setOpacity(this._opacity)
                },
                update: function (t) {
                    this._processAutoHide(t)
                }
            });
            cc.Scrollbar = e.exports = r
        }), {"../utils/misc": 250, "./CCComponent": 108}],
        121: [(function (t, e) {
            "use strict";
            var i = t("../CCNode").EventType, n = cc.v2(), r = cc.v2(), s = function () {
                return (new Date).getMilliseconds()
            }, a = cc.Enum({
                SCROLL_TO_TOP: 0,
                SCROLL_TO_BOTTOM: 1,
                SCROLL_TO_LEFT: 2,
                SCROLL_TO_RIGHT: 3,
                SCROLLING: 4,
                BOUNCE_TOP: 5,
                BOUNCE_BOTTOM: 6,
                BOUNCE_LEFT: 7,
                BOUNCE_RIGHT: 8,
                SCROLL_ENDED: 9,
                TOUCH_UP: 10,
                AUTOSCROLL_ENDED_WITH_THRESHOLD: 11,
                SCROLL_BEGAN: 12
            }), o = {
                "scroll-to-top": a.SCROLL_TO_TOP,
                "scroll-to-bottom": a.SCROLL_TO_BOTTOM,
                "scroll-to-left": a.SCROLL_TO_LEFT,
                "scroll-to-right": a.SCROLL_TO_RIGHT,
                scrolling: a.SCROLLING,
                "bounce-bottom": a.BOUNCE_BOTTOM,
                "bounce-left": a.BOUNCE_LEFT,
                "bounce-right": a.BOUNCE_RIGHT,
                "bounce-top": a.BOUNCE_TOP,
                "scroll-ended": a.SCROLL_ENDED,
                "touch-up": a.TOUCH_UP,
                "scroll-ended-with-threshold": a.AUTOSCROLL_ENDED_WITH_THRESHOLD,
                "scroll-began": a.SCROLL_BEGAN
            }, c = cc.Class({
                name: "cc.ScrollView",
                extends: t("./CCViewGroup"),
                editor: !1,
                ctor: function () {
                    this._topBoundary = 0, this._bottomBoundary = 0, this._leftBoundary = 0, this._rightBoundary = 0, this._touchMoveDisplacements = [], this._touchMoveTimeDeltas = [], this._touchMovePreviousTimestamp = 0, this._touchMoved = !1, this._autoScrolling = !1, this._autoScrollAttenuate = !1, this._autoScrollStartPosition = cc.v2(0, 0), this._autoScrollTargetDelta = cc.v2(0, 0), this._autoScrollTotalTime = 0, this._autoScrollAccumulatedTime = 0, this._autoScrollCurrentlyOutOfBoundary = !1, this._autoScrollBraking = !1, this._autoScrollBrakingStartPosition = cc.v2(0, 0), this._outOfBoundaryAmount = cc.v2(0, 0), this._outOfBoundaryAmountDirty = !0, this._stopMouseWheel = !1, this._mouseWheelEventElapsedTime = 0, this._isScrollEndedWithThresholdEventFired = !1, this._scrollEventEmitMask = 0, this._isBouncing = !1, this._scrolling = !1
                },
                properties: {
                    content: {
                        default: void 0,
                        type: cc.Node,
                        tooltip: !1,
                        formerlySerializedAs: "content",
                        notify: function () {
                            this._calculateBoundary()
                        }
                    },
                    horizontal: {default: !0, animatable: !1, tooltip: !1},
                    vertical: {default: !0, animatable: !1, tooltip: !1},
                    inertia: {default: !0, tooltip: !1},
                    brake: {default: .5, type: cc.Float, range: [0, 1, .1], tooltip: !1},
                    elastic: {default: !0, animatable: !1, tooltip: !1},
                    bounceDuration: {default: 1, range: [0, 10], tooltip: !1},
                    horizontalScrollBar: {
                        default: void 0, type: cc.Scrollbar, tooltip: !1, notify: function () {
                            this.horizontalScrollBar && (this.horizontalScrollBar.setTargetScrollView(this), this._updateScrollBar(0))
                        }, animatable: !1
                    },
                    verticalScrollBar: {
                        default: void 0, type: cc.Scrollbar, tooltip: !1, notify: function () {
                            this.verticalScrollBar && (this.verticalScrollBar.setTargetScrollView(this), this._updateScrollBar(0))
                        }, animatable: !1
                    },
                    scrollEvents: {default: [], type: cc.Component.EventHandler, tooltip: !1},
                    cancelInnerEvents: {default: !0, animatable: !1, tooltip: !1},
                    _view: {
                        get: function () {
                            if (this.content) return this.content.parent
                        }
                    }
                },
                statics: {EventType: a},
                scrollToBottom: function (t, e) {
                    var i = this._calculateMovePercentDelta({
                        anchor: cc.v2(0, 0),
                        applyToHorizontal: !1,
                        applyToVertical: !0
                    });
                    t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i, !0)
                },
                scrollToTop: function (t, e) {
                    var i = this._calculateMovePercentDelta({
                        anchor: cc.v2(0, 1),
                        applyToHorizontal: !1,
                        applyToVertical: !0
                    });
                    t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i)
                },
                scrollToLeft: function (t, e) {
                    var i = this._calculateMovePercentDelta({
                        anchor: cc.v2(0, 0),
                        applyToHorizontal: !0,
                        applyToVertical: !1
                    });
                    t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i)
                },
                scrollToRight: function (t, e) {
                    var i = this._calculateMovePercentDelta({
                        anchor: cc.v2(1, 0),
                        applyToHorizontal: !0,
                        applyToVertical: !1
                    });
                    t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i)
                },
                scrollToTopLeft: function (t, e) {
                    var i = this._calculateMovePercentDelta({
                        anchor: cc.v2(0, 1),
                        applyToHorizontal: !0,
                        applyToVertical: !0
                    });
                    t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i)
                },
                scrollToTopRight: function (t, e) {
                    var i = this._calculateMovePercentDelta({
                        anchor: cc.v2(1, 1),
                        applyToHorizontal: !0,
                        applyToVertical: !0
                    });
                    t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i)
                },
                scrollToBottomLeft: function (t, e) {
                    var i = this._calculateMovePercentDelta({
                        anchor: cc.v2(0, 0),
                        applyToHorizontal: !0,
                        applyToVertical: !0
                    });
                    t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i)
                },
                scrollToBottomRight: function (t, e) {
                    var i = this._calculateMovePercentDelta({
                        anchor: cc.v2(1, 0),
                        applyToHorizontal: !0,
                        applyToVertical: !0
                    });
                    t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i)
                },
                scrollToOffset: function (t, e, i) {
                    var n = this.getMaxScrollOffset(), r = cc.v2(0, 0);
                    0 === n.x ? r.x = 0 : r.x = t.x / n.x, 0 === n.y ? r.y = 1 : r.y = (n.y - t.y) / n.y, this.scrollTo(r, e, i)
                },
                getScrollOffset: function () {
                    var t = this._getContentTopBoundary() - this._topBoundary,
                        e = this._getContentLeftBoundary() - this._leftBoundary;
                    return cc.v2(e, t)
                },
                getMaxScrollOffset: function () {
                    var t = this._view.getContentSize(), e = this.content.getContentSize(), i = e.width - t.width,
                        n = e.height - t.height;
                    return i = i >= 0 ? i : 0, n = n >= 0 ? n : 0, cc.v2(i, n)
                },
                scrollToPercentHorizontal: function (t, e, i) {
                    var n = this._calculateMovePercentDelta({
                        anchor: cc.v2(t, 0),
                        applyToHorizontal: !0,
                        applyToVertical: !1
                    });
                    e ? this._startAutoScroll(n, e, !1 !== i) : this._moveContent(n)
                },
                scrollTo: function (t, e, i) {
                    var n = this._calculateMovePercentDelta({
                        anchor: cc.v2(t),
                        applyToHorizontal: !0,
                        applyToVertical: !0
                    });
                    e ? this._startAutoScroll(n, e, !1 !== i) : this._moveContent(n)
                },
                scrollToPercentVertical: function (t, e, i) {
                    var n = this._calculateMovePercentDelta({
                        anchor: cc.v2(0, t),
                        applyToHorizontal: !1,
                        applyToVertical: !0
                    });
                    e ? this._startAutoScroll(n, e, !1 !== i) : this._moveContent(n)
                },
                stopAutoScroll: function () {
                    this._autoScrolling = !1, this._autoScrollAccumulatedTime = this._autoScrollTotalTime
                },
                setContentPosition: function (t) {
                    t.fuzzyEquals(this.getContentPosition(), 1e-4) || (this.content.setPosition(t), this._outOfBoundaryAmountDirty = !0)
                },
                getContentPosition: function () {
                    return this.content.getPosition()
                },
                isScrolling: function () {
                    return this._scrolling
                },
                isAutoScrolling: function () {
                    return this._autoScrolling
                },
                _registerEvent: function () {
                    this.node.on(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this, !0), this.node.on(cc.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this, !0), this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this, !0), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancelled, this, !0), this.node.on(cc.Node.EventType.MOUSE_WHEEL, this._onMouseWheel, this, !0)
                },
                _unregisterEvent: function () {
                    this.node.off(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this, !0), this.node.off(cc.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this, !0), this.node.off(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this, !0), this.node.off(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancelled, this, !0), this.node.off(cc.Node.EventType.MOUSE_WHEEL, this._onMouseWheel, this, !0)
                },
                _onMouseWheel: function (t, e) {
                    if (this.enabledInHierarchy && !this.hasNestedViewGroup(t, e)) {
                        var i = cc.v2(0, 0), n = -.1;
                        cc.sys.os === cc.sys.OS_WINDOWS && cc.sys.browserType === cc.sys.BROWSER_TYPE_FIREFOX && (n = -.1 / 3), this.vertical ? i = cc.v2(0, t.getScrollY() * n) : this.horizontal && (i = cc.v2(t.getScrollY() * n, 0)), this._mouseWheelEventElapsedTime = 0, this._processDeltaMove(i), this._stopMouseWheel || (this._handlePressLogic(), this.schedule(this._checkMouseWheel, 1 / 60), this._stopMouseWheel = !0), this._stopPropagationIfTargetIsMe(t)
                    }
                },
                _checkMouseWheel: function (t) {
                    if (!this._getHowMuchOutOfBoundary().fuzzyEquals(cc.v2(0, 0), 1e-4)) return this._processInertiaScroll(), this.unschedule(this._checkMouseWheel), this._dispatchEvent("scroll-ended"), void (this._stopMouseWheel = !1);
                    this._mouseWheelEventElapsedTime += t, this._mouseWheelEventElapsedTime > .1 && (this._onScrollBarTouchEnded(), this.unschedule(this._checkMouseWheel), this._dispatchEvent("scroll-ended"), this._stopMouseWheel = !1)
                },
                _calculateMovePercentDelta: function (t) {
                    var e = t.anchor, i = t.applyToHorizontal, n = t.applyToVertical;
                    this._calculateBoundary(), e = e.clampf(cc.v2(0, 0), cc.v2(1, 1));
                    var r = this._view.getContentSize(), s = this.content.getContentSize(),
                        a = this._getContentBottomBoundary() - this._bottomBoundary;
                    a = -a;
                    var o = this._getContentLeftBoundary() - this._leftBoundary;
                    o = -o;
                    var c = cc.v2(0, 0), l = 0;
                    return i && (l = s.width - r.width, c.x = o - l * e.x), n && (l = s.height - r.height, c.y = a - l * e.y), c
                },
                _moveContentToTopLeft: function (t) {
                    var e = this.content.getContentSize(), i = this._getContentBottomBoundary() - this._bottomBoundary;
                    i = -i;
                    var n = cc.v2(0, 0), r = 0, s = this._getContentLeftBoundary() - this._leftBoundary;
                    s = -s, e.height < t.height && (r = e.height - t.height, n.y = i - r), e.width < t.width && (r = e.width - t.width, n.x = s), this._updateScrollBarState(), this._moveContent(n), this._adjustContentOutOfBoundary()
                },
                _calculateBoundary: function () {
                    if (this.content) {
                        var t = this.content.getComponent(cc.Layout);
                        t && t.enabledInHierarchy && t.updateLayout();
                        var e = this._view.getContentSize(), i = e.width * this._view.anchorX,
                            n = e.height * this._view.anchorY;
                        this._leftBoundary = -i, this._bottomBoundary = -n, this._rightBoundary = this._leftBoundary + e.width, this._topBoundary = this._bottomBoundary + e.height, this._moveContentToTopLeft(e)
                    }
                },
                hasNestedViewGroup: function (t, e) {
                    if (t.eventPhase === cc.Event.CAPTURING_PHASE) {
                        if (e) for (var i = 0; i < e.length; ++i) {
                            var n = e[i];
                            if (this.node === n) return !!t.target.getComponent(cc.ViewGroup);
                            if (n.getComponent(cc.ViewGroup)) return !0
                        }
                        return !1
                    }
                },
                _stopPropagationIfTargetIsMe: function (t) {
                    t.eventPhase === cc.Event.AT_TARGET && t.target === this.node && t.stopPropagation()
                },
                _onTouchBegan: function (t, e) {
                    if (this.enabledInHierarchy && !this.hasNestedViewGroup(t, e)) {
                        var i = t.touch;
                        this.content && this._handlePressLogic(i), this._touchMoved = !1, this._stopPropagationIfTargetIsMe(t)
                    }
                },
                _onTouchMoved: function (t, e) {
                    if (this.enabledInHierarchy && !this.hasNestedViewGroup(t, e)) {
                        var i = t.touch;
                        if (this.content && this._handleMoveLogic(i), this.cancelInnerEvents) {
                            if (i.getLocation().sub(i.getStartLocation()).mag() > 7 && !this._touchMoved && t.target !== this.node) {
                                var n = new cc.Event.EventTouch(t.getTouches(), t.bubbles);
                                n.type = cc.Node.EventType.TOUCH_CANCEL, n.touch = t.touch, n.simulate = !0, t.target.dispatchEvent(n), this._touchMoved = !0
                            }
                            this._stopPropagationIfTargetIsMe(t)
                        }
                    }
                },
                _onTouchEnded: function (t, e) {
                    if (this.enabledInHierarchy && !this.hasNestedViewGroup(t, e)) {
                        this._dispatchEvent("touch-up");
                        var i = t.touch;
                        this.content && this._handleReleaseLogic(i), this._touchMoved ? t.stopPropagation() : this._stopPropagationIfTargetIsMe(t)
                    }
                },
                _onTouchCancelled: function (t, e) {
                    if (this.enabledInHierarchy && !this.hasNestedViewGroup(t, e)) {
                        if (!t.simulate) {
                            var i = t.touch;
                            this.content && this._handleReleaseLogic(i)
                        }
                        this._stopPropagationIfTargetIsMe(t)
                    }
                },
                _processDeltaMove: function (t) {
                    this._scrollChildren(t), this._gatherTouchMove(t)
                },
                _getLocalAxisAlignDelta: function (t) {
                    return this.node.convertToNodeSpaceAR(t.getLocation(), n), this.node.convertToNodeSpaceAR(t.getPreviousLocation(), r), n.sub(r)
                },
                _handleMoveLogic: function (t) {
                    var e = this._getLocalAxisAlignDelta(t);
                    this._processDeltaMove(e)
                },
                _scrollChildren: function (t) {
                    var e, i = t = this._clampDelta(t);
                    this.elastic && (e = this._getHowMuchOutOfBoundary(), i.x *= 0 === e.x ? 1 : .5, i.y *= 0 === e.y ? 1 : .5), this.elastic || (e = this._getHowMuchOutOfBoundary(i), i = i.add(e));
                    var n = "", r = "";
                    this.vertical && (i.y > 0 ? this.content.y - this.content.anchorY * this.content.height + i.y >= this._bottomBoundary && (n = "scroll-to-bottom") : i.y < 0 && this.content.y - this.content.anchorY * this.content.height + this.content.height + i.y <= this._topBoundary && (n = "scroll-to-top")), this.horizontal && (i.x < 0 ? this.content.x - this.content.anchorX * this.content.width + this.content.width + i.x <= this._rightBoundary && (r = "scroll-to-right") : i.x > 0 && this.content.x - this.content.anchorX * this.content.width + i.x >= this._leftBoundary && (r = "scroll-to-left")), this._moveContent(i, !1), (this.horizontal && 0 !== i.x || this.vertical && 0 !== i.y) && (this._scrolling || (this._scrolling = !0, this._dispatchEvent("scroll-began")), this._dispatchEvent("scrolling")), "" !== n && this._dispatchEvent(n), "" !== r && this._dispatchEvent(r)
                },
                _handlePressLogic: function () {
                    this._autoScrolling && this._dispatchEvent("scroll-ended"), this._autoScrolling = !1, this._isBouncing = !1, this._touchMovePreviousTimestamp = s(), this._touchMoveDisplacements.length = 0, this._touchMoveTimeDeltas.length = 0, this._onScrollBarTouchBegan()
                },
                _clampDelta: function (t) {
                    var e = this.content.getContentSize(), i = this._view.getContentSize();
                    return e.width < i.width && (t.x = 0), e.height < i.height && (t.y = 0), t
                },
                _gatherTouchMove: function (t) {
                    for (t = this._clampDelta(t); this._touchMoveDisplacements.length >= 5;) this._touchMoveDisplacements.shift(), this._touchMoveTimeDeltas.shift();
                    this._touchMoveDisplacements.push(t);
                    var e = s();
                    this._touchMoveTimeDeltas.push((e - this._touchMovePreviousTimestamp) / 1e3), this._touchMovePreviousTimestamp = e
                },
                _startBounceBackIfNeeded: function () {
                    if (!this.elastic) return !1;
                    var t = this._getHowMuchOutOfBoundary();
                    if ((t = this._clampDelta(t)).fuzzyEquals(cc.v2(0, 0), 1e-4)) return !1;
                    var e = Math.max(this.bounceDuration, 0);
                    return this._startAutoScroll(t, e, !0), this._isBouncing || (t.y > 0 && this._dispatchEvent("bounce-top"), t.y < 0 && this._dispatchEvent("bounce-bottom"), t.x > 0 && this._dispatchEvent("bounce-right"), t.x < 0 && this._dispatchEvent("bounce-left"), this._isBouncing = !0), !0
                },
                _processInertiaScroll: function () {
                    if (!this._startBounceBackIfNeeded() && this.inertia) {
                        var t = this._calculateTouchMoveVelocity();
                        !t.fuzzyEquals(cc.v2(0, 0), 1e-4) && this.brake < 1 && this._startInertiaScroll(t)
                    }
                    this._onScrollBarTouchEnded()
                },
                _handleReleaseLogic: function (t) {
                    var e = this._getLocalAxisAlignDelta(t);
                    this._gatherTouchMove(e), this._processInertiaScroll(), this._scrolling && (this._scrolling = !1, this._autoScrolling || this._dispatchEvent("scroll-ended"))
                },
                _isOutOfBoundary: function () {
                    return !this._getHowMuchOutOfBoundary().fuzzyEquals(cc.v2(0, 0), 1e-4)
                },
                _isNecessaryAutoScrollBrake: function () {
                    if (this._autoScrollBraking) return !0;
                    if (this._isOutOfBoundary()) {
                        if (!this._autoScrollCurrentlyOutOfBoundary) return this._autoScrollCurrentlyOutOfBoundary = !0, this._autoScrollBraking = !0, this._autoScrollBrakingStartPosition = this.getContentPosition(), !0
                    } else this._autoScrollCurrentlyOutOfBoundary = !1;
                    return !1
                },
                getScrollEndedEventTiming: function () {
                    return 1e-4
                },
                _processAutoScrolling: function (t) {
                    var e = this._isNecessaryAutoScrollBrake(), i = e ? .05 : 1;
                    this._autoScrollAccumulatedTime += t * (1 / i);
                    var n, r = Math.min(1, this._autoScrollAccumulatedTime / this._autoScrollTotalTime);
                    this._autoScrollAttenuate && (n = r, r = (n -= 1) * n * n * n * n + 1);
                    var s = this._autoScrollStartPosition.add(this._autoScrollTargetDelta.mul(r)),
                        a = Math.abs(r - 1) <= 1e-4;
                    if (Math.abs(r - 1) <= this.getScrollEndedEventTiming() && !this._isScrollEndedWithThresholdEventFired && (this._dispatchEvent("scroll-ended-with-threshold"), this._isScrollEndedWithThresholdEventFired = !0), this.elastic) {
                        var o = s.sub(this._autoScrollBrakingStartPosition);
                        e && (o = o.mul(i)), s = this._autoScrollBrakingStartPosition.add(o)
                    } else {
                        var c = s.sub(this.getContentPosition()), l = this._getHowMuchOutOfBoundary(c);
                        l.fuzzyEquals(cc.v2(0, 0), 1e-4) || (s = s.add(l), a = !0)
                    }
                    a && (this._autoScrolling = !1);
                    var h = s.sub(this.getContentPosition());
                    this._moveContent(this._clampDelta(h), a), this._dispatchEvent("scrolling"), this._autoScrolling || (this._isBouncing = !1, this._scrolling = !1, this._dispatchEvent("scroll-ended"))
                },
                _startInertiaScroll: function (t) {
                    var e = t.mul(.7);
                    this._startAttenuatingAutoScroll(e, t)
                },
                _calculateAttenuatedFactor: function (t) {
                    return this.brake <= 0 ? 1 - this.brake : (1 - this.brake) * (1 / (1 + 14e-6 * t + t * t * 8e-9))
                },
                _startAttenuatingAutoScroll: function (t, e) {
                    var i = this._calculateAutoScrollTimeByInitalSpeed(e.mag()), n = t.normalize(),
                        r = this.content.getContentSize(), s = this._view.getContentSize(), a = r.width - s.width,
                        o = r.height - s.height, c = this._calculateAttenuatedFactor(a),
                        l = this._calculateAttenuatedFactor(o);
                    n = cc.v2(n.x * a * (1 - this.brake) * c, n.y * o * l * (1 - this.brake));
                    var h = t.mag(), u = n.mag() / h;
                    n = n.add(t), this.brake > 0 && u > 7 && (u = Math.sqrt(u), n = t.mul(u).add(t)), this.brake > 0 && u > 3 && (i *= u = 3), 0 === this.brake && u > 1 && (i *= u), this._startAutoScroll(n, i, !0)
                },
                _calculateAutoScrollTimeByInitalSpeed: function (t) {
                    return Math.sqrt(Math.sqrt(t / 5))
                },
                _startAutoScroll: function (t, e, i) {
                    var n = this._flattenVectorByDirection(t);
                    this._autoScrolling = !0, this._autoScrollTargetDelta = n, this._autoScrollAttenuate = i, this._autoScrollStartPosition = this.getContentPosition(), this._autoScrollTotalTime = e, this._autoScrollAccumulatedTime = 0, this._autoScrollBraking = !1, this._isScrollEndedWithThresholdEventFired = !1, this._autoScrollBrakingStartPosition = cc.v2(0, 0), this._getHowMuchOutOfBoundary().fuzzyEquals(cc.v2(0, 0), 1e-4) || (this._autoScrollCurrentlyOutOfBoundary = !0)
                },
                _calculateTouchMoveVelocity: function () {
                    var t = 0;
                    if ((t = this._touchMoveTimeDeltas.reduce((function (t, e) {
                        return t + e
                    }), t)) <= 0 || t >= .5) return cc.v2(0, 0);
                    var e = cc.v2(0, 0);
                    return e = this._touchMoveDisplacements.reduce((function (t, e) {
                        return t.add(e)
                    }), e), cc.v2(e.x * (1 - this.brake) / t, e.y * (1 - this.brake) / t)
                },
                _flattenVectorByDirection: function (t) {
                    var e = t;
                    return e.x = this.horizontal ? e.x : 0, e.y = this.vertical ? e.y : 0, e
                },
                _moveContent: function (t, e) {
                    var i = this._flattenVectorByDirection(t), n = this.getContentPosition().add(i);
                    this.setContentPosition(n);
                    var r = this._getHowMuchOutOfBoundary();
                    this._updateScrollBar(r), this.elastic && e && this._startBounceBackIfNeeded()
                },
                _getContentLeftBoundary: function () {
                    return this.getContentPosition().x - this.content.getAnchorPoint().x * this.content.getContentSize().width
                },
                _getContentRightBoundary: function () {
                    var t = this.content.getContentSize();
                    return this._getContentLeftBoundary() + t.width
                },
                _getContentTopBoundary: function () {
                    var t = this.content.getContentSize();
                    return this._getContentBottomBoundary() + t.height
                },
                _getContentBottomBoundary: function () {
                    return this.getContentPosition().y - this.content.getAnchorPoint().y * this.content.getContentSize().height
                },
                _getHowMuchOutOfBoundary: function (t) {
                    if ((t = t || cc.v2(0, 0)).fuzzyEquals(cc.v2(0, 0), 1e-4) && !this._outOfBoundaryAmountDirty) return this._outOfBoundaryAmount;
                    var e = cc.v2(0, 0);
                    return this._getContentLeftBoundary() + t.x > this._leftBoundary ? e.x = this._leftBoundary - (this._getContentLeftBoundary() + t.x) : this._getContentRightBoundary() + t.x < this._rightBoundary && (e.x = this._rightBoundary - (this._getContentRightBoundary() + t.x)), this._getContentTopBoundary() + t.y < this._topBoundary ? e.y = this._topBoundary - (this._getContentTopBoundary() + t.y) : this._getContentBottomBoundary() + t.y > this._bottomBoundary && (e.y = this._bottomBoundary - (this._getContentBottomBoundary() + t.y)), t.fuzzyEquals(cc.v2(0, 0), 1e-4) && (this._outOfBoundaryAmount = e, this._outOfBoundaryAmountDirty = !1), this._clampDelta(e)
                },
                _updateScrollBarState: function () {
                    if (this.content) {
                        var t = this.content.getContentSize(), e = this._view.getContentSize();
                        this.verticalScrollBar && (t.height < e.height ? this.verticalScrollBar.hide() : this.verticalScrollBar.show()), this.horizontalScrollBar && (t.width < e.width ? this.horizontalScrollBar.hide() : this.horizontalScrollBar.show())
                    }
                },
                _updateScrollBar: function (t) {
                    this.horizontalScrollBar && this.horizontalScrollBar._onScroll(t), this.verticalScrollBar && this.verticalScrollBar._onScroll(t)
                },
                _onScrollBarTouchBegan: function () {
                    this.horizontalScrollBar && this.horizontalScrollBar._onTouchBegan(), this.verticalScrollBar && this.verticalScrollBar._onTouchBegan()
                },
                _onScrollBarTouchEnded: function () {
                    this.horizontalScrollBar && this.horizontalScrollBar._onTouchEnded(), this.verticalScrollBar && this.verticalScrollBar._onTouchEnded()
                },
                _dispatchEvent: function (t) {
                    if ("scroll-ended" === t) this._scrollEventEmitMask = 0; else if ("scroll-to-top" === t || "scroll-to-bottom" === t || "scroll-to-left" === t || "scroll-to-right" === t) {
                        var e = 1 << o[t];
                        if (this._scrollEventEmitMask & e) return;
                        this._scrollEventEmitMask |= e
                    }
                    cc.Component.EventHandler.emitEvents(this.scrollEvents, this, o[t]), this.node.emit(t, this)
                },
                _adjustContentOutOfBoundary: function () {
                    if (this._outOfBoundaryAmountDirty = !0, this._isOutOfBoundary()) {
                        var t = this._getHowMuchOutOfBoundary(cc.v2(0, 0)), e = this.getContentPosition().add(t);
                        this.content && (this.content.setPosition(e), this._updateScrollBar(0))
                    }
                },
                start: function () {
                    this._calculateBoundary(), this.content && cc.director.once(cc.Director.EVENT_BEFORE_DRAW, this._adjustContentOutOfBoundary, this)
                },
                _hideScrollbar: function () {
                    this.horizontalScrollBar && this.horizontalScrollBar.hide(), this.verticalScrollBar && this.verticalScrollBar.hide()
                },
                onDisable: function () {
                    this._unregisterEvent(), this.content && (this.content.off(i.SIZE_CHANGED, this._calculateBoundary, this), this.content.off(i.SCALE_CHANGED, this._calculateBoundary, this), this._view && (this._view.off(i.POSITION_CHANGED, this._calculateBoundary, this), this._view.off(i.SCALE_CHANGED, this._calculateBoundary, this), this._view.off(i.SIZE_CHANGED, this._calculateBoundary, this))), this._hideScrollbar(), this.stopAutoScroll()
                },
                onEnable: function () {
                    this._registerEvent(), this.content && (this.content.on(i.SIZE_CHANGED, this._calculateBoundary, this), this.content.on(i.SCALE_CHANGED, this._calculateBoundary, this), this._view && (this._view.on(i.POSITION_CHANGED, this._calculateBoundary, this), this._view.on(i.SCALE_CHANGED, this._calculateBoundary, this), this._view.on(i.SIZE_CHANGED, this._calculateBoundary, this))), this._updateScrollBarState()
                },
                update: function (t) {
                    this._autoScrolling && this._processAutoScrolling(t)
                }
            });
            cc.ScrollView = e.exports = c
        }), {"../CCNode": 39, "./CCViewGroup": 124}],
        122: [(function (t, e) {
            "use strict";
            var i = t("../utils/misc"), n = t("./CCComponent"), r = cc.Enum({Horizontal: 0, Vertical: 1}),
                s = cc.Class({
                    name: "cc.Slider", extends: n, editor: !1, ctor: function () {
                        this._offset = cc.v2(), this._touchHandle = !1, this._dragging = !1
                    }, properties: {
                        handle: {
                            default: null, type: cc.Button, tooltip: !1, notify: function () {
                            }
                        },
                        direction: {default: r.Horizontal, type: r, tooltip: !1},
                        progress: {
                            default: .5,
                            type: cc.Float,
                            range: [0, 1, .1],
                            slide: !0,
                            tooltip: !1,
                            notify: function () {
                                this._updateHandlePosition()
                            }
                        },
                        slideEvents: {default: [], type: cc.Component.EventHandler, tooltip: !1}
                    }, statics: {Direction: r}, __preload: function () {
                        this._updateHandlePosition()
                    }, onEnable: function () {
                        this.node.on(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this), this.node.on(cc.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this), this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancelled, this), this.handle && this.handle.isValid && (this.handle.node.on(cc.Node.EventType.TOUCH_START, this._onHandleDragStart, this), this.handle.node.on(cc.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this), this.handle.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this))
                    }, onDisable: function () {
                        this.node.off(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this), this.node.off(cc.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this), this.node.off(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this), this.node.off(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancelled, this), this.handle && this.handle.isValid && (this.handle.node.off(cc.Node.EventType.TOUCH_START, this._onHandleDragStart, this), this.handle.node.off(cc.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this), this.handle.node.off(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this))
                    }, _onHandleDragStart: function (t) {
                        this._dragging = !0, this._touchHandle = !0, this._offset = this.handle.node.convertToNodeSpaceAR(t.touch.getLocation()), t.stopPropagation()
                    }, _onTouchBegan: function (t) {
                        this.handle && (this._dragging = !0, this._touchHandle || this._handleSliderLogic(t.touch), t.stopPropagation())
                    }, _onTouchMoved: function (t) {
                        this._dragging && (this._handleSliderLogic(t.touch), t.stopPropagation())
                    }, _onTouchEnded: function (t) {
                        this._dragging = !1, this._touchHandle = !1, this._offset = cc.v2(), t.stopPropagation()
                    }, _onTouchCancelled: function (t) {
                        this._dragging = !1, t.stopPropagation()
                    }, _handleSliderLogic: function (t) {
                        this._updateProgress(t), this._emitSlideEvent()
                    }, _emitSlideEvent: function () {
                        cc.Component.EventHandler.emitEvents(this.slideEvents, this), this.node.emit("slide", this)
                    }, _updateProgress: function (t) {
                        if (this.handle) {
                            var e = this.node, n = e.convertToNodeSpaceAR(t.getLocation());
                            this.direction === r.Horizontal ? this.progress = i.clamp01((n.x - this._offset.x + e.anchorX * e.width) / e.width) : this.progress = i.clamp01((n.y - this._offset.y + e.anchorY * e.height) / e.height)
                        }
                    }, _updateHandlePosition: function () {
                        if (this.handle) {
                            var t;
                            t = this.direction === r.Horizontal ? cc.v2(-this.node.width * this.node.anchorX + this.progress * this.node.width, 0) : cc.v2(0, -this.node.height * this.node.anchorY + this.progress * this.node.height);
                            var e = this.node.convertToWorldSpaceAR(t);
                            this.handle.node.position = this.handle.node.parent.convertToNodeSpaceAR(e)
                        }
                    }
                });
            cc.Slider = e.exports = s
        }), {"../utils/misc": 250, "./CCComponent": 108}],
        123: [(function (t, e) {
            "use strict";
            var i = t("../utils/misc"), n = (t("../CCNode").EventType, t("./CCRenderComponent")),
                r = t("../utils/blend-func"), s = cc.Enum({SIMPLE: 0, SLICED: 1, TILED: 2, FILLED: 3, MESH: 4}),
                a = cc.Enum({HORIZONTAL: 0, VERTICAL: 1, RADIAL: 2}), o = cc.Enum({CUSTOM: 0, TRIMMED: 1, RAW: 2}),
                c = cc.Enum({NORMAL: 0, GRAY: 1}), l = cc.Class({
                    name: "cc.Sprite", extends: n, mixins: [r], editor: !1, properties: {
                        _spriteFrame: {default: null, type: cc.SpriteFrame},
                        _type: s.SIMPLE,
                        _sizeMode: o.TRIMMED,
                        _fillType: 0,
                        _fillCenter: cc.v2(0, 0),
                        _fillStart: 0,
                        _fillRange: 0,
                        _isTrimmedMode: !0,
                        _atlas: {
                            default: null,
                            type: cc.SpriteAtlas,
                            tooltip: !1,
                            editorOnly: !0,
                            visible: !0,
                            animatable: !1
                        },
                        spriteFrame: {
                            get: function () {
                                return this._spriteFrame
                            }, set: function (t) {
                                var e = this._spriteFrame;
                                e !== t && (this._spriteFrame = t, this._applySpriteFrame(e))
                            }, type: cc.SpriteFrame
                        },
                        type: {
                            get: function () {
                                return this._type
                            }, set: function (t) {
                                this._type !== t && (this._type = t, this.setVertsDirty(), this._resetAssembler())
                            }, type: s, animatable: !1, tooltip: !1
                        },
                        fillType: {
                            get: function () {
                                return this._fillType
                            }, set: function (t) {
                                t !== this._fillType && (this._fillType = t, this.setVertsDirty(), this._resetAssembler())
                            }, type: a, tooltip: !1
                        },
                        fillCenter: {
                            get: function () {
                                return this._fillCenter
                            }, set: function (t) {
                                this._fillCenter.x = t.x, this._fillCenter.y = t.y, this._type === s.FILLED && this.setVertsDirty()
                            }, tooltip: !1
                        },
                        fillStart: {
                            get: function () {
                                return this._fillStart
                            }, set: function (t) {
                                this._fillStart = i.clampf(t, -1, 1), this._type === s.FILLED && this.setVertsDirty()
                            }, tooltip: !1
                        },
                        fillRange: {
                            get: function () {
                                return this._fillRange
                            }, set: function (t) {
                                this._fillRange = i.clampf(t, -1, 1), this._type === s.FILLED && this.setVertsDirty()
                            }, tooltip: !1
                        },
                        trim: {
                            get: function () {
                                return this._isTrimmedMode
                            }, set: function (t) {
                                this._isTrimmedMode !== t && (this._isTrimmedMode = t, this._type !== s.SIMPLE && this._type !== s.MESH || this.setVertsDirty())
                            }, animatable: !1, tooltip: !1
                        },
                        sizeMode: {
                            get: function () {
                                return this._sizeMode
                            }, set: function (t) {
                                this._sizeMode = t, t !== o.CUSTOM && this._applySpriteSize()
                            }, animatable: !1, type: o, tooltip: !1
                        }
                    }, statics: {FillType: a, Type: s, SizeMode: o, State: c}, setVisible: function (t) {
                        this.enabled = t
                    }, setState: function () {
                    }, getState: function () {
                    }, __preload: function () {
                        this._super(), this._applySpriteFrame()
                    }, onEnable: function () {
                        this._super(), this._spriteFrame && this._spriteFrame.isValid && this._spriteFrame.ensureLoadTexture(), this.node.on(cc.Node.EventType.SIZE_CHANGED, this.setVertsDirty, this), this.node.on(cc.Node.EventType.ANCHOR_CHANGED, this.setVertsDirty, this)
                    }, onDisable: function () {
                        this._super(), this.node.off(cc.Node.EventType.SIZE_CHANGED, this.setVertsDirty, this), this.node.off(cc.Node.EventType.ANCHOR_CHANGED, this.setVertsDirty, this)
                    }, onRestore: !1, _updateMaterial: function () {
                        var t = null;
                        this._spriteFrame && (t = this._spriteFrame.getTexture());
                        var e = this.getMaterial(0);
                        if (e) {
                            var i = e.getDefine("USE_TEXTURE");
                            void 0 === i || i || e.define("USE_TEXTURE", !0);
                            var n = t && t.getImpl();
                            e.getProperty("texture") !== n && e.setProperty("texture", t)
                        }
                        r.prototype._updateMaterial.call(this)
                    }, _applyAtlas: !1, _validateRender: function () {
                        var t = this._spriteFrame;
                        this._materials[0] && t && t.textureLoaded() || this.disableRender()
                    }, _applySpriteSize: function () {
                        if (this.isValid && this._spriteFrame && this._spriteFrame.isValid) {
                            if (o.RAW === this._sizeMode) {
                                var t = this._spriteFrame._originalSize;
                                this.node.setContentSize(t)
                            } else if (o.TRIMMED === this._sizeMode) {
                                var e = this._spriteFrame._rect;
                                this.node.setContentSize(e.width, e.height)
                            }
                            this.setVertsDirty()
                        }
                    }, _applySpriteFrame: function (t) {
                        if (this.isValid) {
                            var e = t && t.isValid && t.getTexture();
                            e && !e.loaded && t.off("load", this._applySpriteSize, this);
                            var i = this._spriteFrame, n = i && i.isValid, r = n && i.getTexture();
                            e !== r && this._updateMaterial(), r && r.loaded ? this._applySpriteSize() : (this.disableRender(), n && i.once("load", this._applySpriteSize, this))
                        }
                    }
                });
            cc.Sprite = e.exports = l
        }), {"../CCNode": 39, "../utils/blend-func": 244, "../utils/misc": 250, "./CCRenderComponent": 117}],
        124: [(function (t, e) {
            "use strict";
            var i = cc.Class({name: "cc.ViewGroup", extends: t("./CCComponent")});
            cc.ViewGroup = e.exports = i
        }), {"./CCComponent": 108}],
        125: [(function (t, e) {
            "use strict";
            var i = t("../base-ui/CCWidgetManager"), n = i.AlignMode, r = i._AlignFlags, s = r.TOP, a = r.MID,
                o = r.BOT, c = r.LEFT, l = r.CENTER, h = r.RIGHT, u = s | o, f = c | h, d = cc.Class({
                    name: "cc.Widget", extends: t("./CCComponent"), editor: !1, properties: {
                        target: {
                            get: function () {
                                return this._target
                            }, set: function (t) {
                                this._target = t
                            }, type: cc.Node, tooltip: !1
                        },
                        isAlignTop: {
                            get: function () {
                                return (this._alignFlags & s) > 0
                            }, set: function (t) {
                                this._setAlign(s, t)
                            }, animatable: !1, tooltip: !1
                        },
                        isAlignVerticalCenter: {
                            get: function () {
                                return (this._alignFlags & a) > 0
                            }, set: function (t) {
                                t ? (this.isAlignTop = !1, this.isAlignBottom = !1, this._alignFlags |= a) : this._alignFlags &= ~a
                            }, animatable: !1, tooltip: !1
                        },
                        isAlignBottom: {
                            get: function () {
                                return (this._alignFlags & o) > 0
                            }, set: function (t) {
                                this._setAlign(o, t)
                            }, animatable: !1, tooltip: !1
                        },
                        isAlignLeft: {
                            get: function () {
                                return (this._alignFlags & c) > 0
                            }, set: function (t) {
                                this._setAlign(c, t)
                            }, animatable: !1, tooltip: !1
                        },
                        isAlignHorizontalCenter: {
                            get: function () {
                                return (this._alignFlags & l) > 0
                            }, set: function (t) {
                                t ? (this.isAlignLeft = !1, this.isAlignRight = !1, this._alignFlags |= l) : this._alignFlags &= ~l
                            }, animatable: !1, tooltip: !1
                        },
                        isAlignRight: {
                            get: function () {
                                return (this._alignFlags & h) > 0
                            }, set: function (t) {
                                this._setAlign(h, t)
                            }, animatable: !1, tooltip: !1
                        },
                        isStretchWidth: {
                            get: function () {
                                return (this._alignFlags & f) === f
                            }, visible: !1
                        },
                        isStretchHeight: {
                            get: function () {
                                return (this._alignFlags & u) === u
                            }, visible: !1
                        },
                        top: {
                            get: function () {
                                return this._top
                            }, set: function (t) {
                                this._top = t
                            }, tooltip: !1
                        },
                        bottom: {
                            get: function () {
                                return this._bottom
                            }, set: function (t) {
                                this._bottom = t
                            }, tooltip: !1
                        },
                        left: {
                            get: function () {
                                return this._left
                            }, set: function (t) {
                                this._left = t
                            }, tooltip: !1
                        },
                        right: {
                            get: function () {
                                return this._right
                            }, set: function (t) {
                                this._right = t
                            }, tooltip: !1
                        },
                        horizontalCenter: {
                            get: function () {
                                return this._horizontalCenter
                            }, set: function (t) {
                                this._horizontalCenter = t
                            }, tooltip: !1
                        },
                        verticalCenter: {
                            get: function () {
                                return this._verticalCenter
                            }, set: function (t) {
                                this._verticalCenter = t
                            }, tooltip: !1
                        },
                        isAbsoluteHorizontalCenter: {
                            get: function () {
                                return this._isAbsHorizontalCenter
                            }, set: function (t) {
                                this._isAbsHorizontalCenter = t
                            }, animatable: !1
                        },
                        isAbsoluteVerticalCenter: {
                            get: function () {
                                return this._isAbsVerticalCenter
                            }, set: function (t) {
                                this._isAbsVerticalCenter = t
                            }, animatable: !1
                        },
                        isAbsoluteTop: {
                            get: function () {
                                return this._isAbsTop
                            }, set: function (t) {
                                this._isAbsTop = t
                            }, animatable: !1
                        },
                        isAbsoluteBottom: {
                            get: function () {
                                return this._isAbsBottom
                            }, set: function (t) {
                                this._isAbsBottom = t
                            }, animatable: !1
                        },
                        isAbsoluteLeft: {
                            get: function () {
                                return this._isAbsLeft
                            }, set: function (t) {
                                this._isAbsLeft = t
                            }, animatable: !1
                        },
                        isAbsoluteRight: {
                            get: function () {
                                return this._isAbsRight
                            }, set: function (t) {
                                this._isAbsRight = t
                            }, animatable: !1
                        },
                        alignMode: {default: n.ON_WINDOW_RESIZE, type: n, tooltip: !1},
                        _wasAlignOnce: {default: void 0, formerlySerializedAs: "isAlignOnce"},
                        _target: null,
                        _alignFlags: 0,
                        _left: 0,
                        _right: 0,
                        _top: 0,
                        _bottom: 0,
                        _verticalCenter: 0,
                        _horizontalCenter: 0,
                        _isAbsLeft: !0,
                        _isAbsRight: !0,
                        _isAbsTop: !0,
                        _isAbsBottom: !0,
                        _isAbsHorizontalCenter: !0,
                        _isAbsVerticalCenter: !0,
                        _originalWidth: 0,
                        _originalHeight: 0
                    }, statics: {AlignMode: n}, onLoad: function () {
                        void 0 !== this._wasAlignOnce && (this.alignMode = this._wasAlignOnce ? n.ONCE : n.ALWAYS, this._wasAlignOnce = void 0)
                    }, onEnable: function () {
                        i.add(this)
                    }, onDisable: function () {
                        i.remove(this)
                    }, _validateTargetInDEV: !1, _setAlign: function (t, e) {
                        if (e !== (this._alignFlags & t) > 0) {
                            var i = (t & f) > 0;
                            e ? (this._alignFlags |= t, i ? (this.isAlignHorizontalCenter = !1, this.isStretchWidth && (this._originalWidth = this.node.width)) : (this.isAlignVerticalCenter = !1, this.isStretchHeight && (this._originalHeight = this.node.height))) : (i ? this.isStretchWidth && (this.node.width = this._originalWidth) : this.isStretchHeight && (this.node.height = this._originalHeight), this._alignFlags &= ~t)
                        }
                    }, updateAlignment: function () {
                        i.updateAlignment(this.node)
                    }
                });
            Object.defineProperty(d.prototype, "isAlignOnce", {
                get: function () {
                    return this.alignMode === n.ONCE
                }, set: function (t) {
                    this.alignMode = t ? n.ONCE : n.ALWAYS
                }
            }), cc.Widget = e.exports = d
        }), {"../base-ui/CCWidgetManager": 100, "./CCComponent": 108}],
        126: [(function (t, e) {
            "use strict";
            var i = t("./CCComponent"), n = cc.Class({
                name: "cc.SubContextView",
                extends: i,
                editor: !1,
                properties: {
                    _firstlyEnabled: !0, _fps: 60, fps: {
                        get: function () {
                            return this._fps
                        }, set: function (t) {
                            this._fps !== t && (this._fps = t, this._updateInterval = 1 / t, this._updateSubContextFrameRate())
                        }, tooltip: !1
                    }
                },
                ctor: function () {
                    this._sprite = null, this._tex = new cc.Texture2D, this._tex._packable = !1, this._context = null, this._updatedTime = performance.now(), this._updateInterval = 0
                },
                onLoad: function () {
                    if (window.__globalAdapter && __globalAdapter.getOpenDataContext) {
                        this._updateInterval = 1e3 / this._fps, this._context = __globalAdapter.getOpenDataContext(), this.reset();
                        var t = this._context.canvas;
                        this._tex.setPremultiplyAlpha(!0), this._tex.initWithElement(t), this._tex._packable = !1, this._sprite = this.node.getComponent(cc.Sprite), this._sprite || (this._sprite = this.node.addComponent(cc.Sprite), this._sprite.srcBlendFactor = cc.macro.BlendFactor.ONE), this._sprite.spriteFrame = new cc.SpriteFrame(this._tex)
                    } else this.enabled = !1
                },
                reset: function () {
                    if (this._context) {
                        this.updateSubContextViewport();
                        var t = this._context.canvas;
                        t && (t.width = this.node.width, t.height = this.node.height)
                    }
                },
                onEnable: function () {
                    this._firstlyEnabled && this._context ? (this._context.postMessage({
                        fromEngine: !0,
                        event: "boot"
                    }), this._firstlyEnabled = !1) : this._runSubContextMainLoop(), this._registerNodeEvent(), this._updateSubContextFrameRate(), this.updateSubContextViewport()
                },
                onDisable: function () {
                    this._unregisterNodeEvent(), this._stopSubContextMainLoop()
                },
                update: function (t) {
                    if (void 0 === t) return this._context && this._context.postMessage({
                        fromEngine: !0,
                        event: "step"
                    }), void this._updateSubContextTexture();
                    performance.now() - this._updatedTime >= this._updateInterval && (this._updatedTime += this._updateInterval, this._updateSubContextTexture())
                },
                _updateSubContextTexture: function () {
                    this._tex && this._context && (this._tex.initWithElement(this._context.canvas), this._tex._packable = !1, this._sprite._activateMaterial())
                },
                updateSubContextViewport: function () {
                    if (this._context) {
                        var t = this.node.getBoundingBoxToWorld(), e = cc.view._scaleX, i = cc.view._scaleY;
                        this._context.postMessage({
                            fromEngine: !0,
                            event: "viewport",
                            x: t.x * e + cc.view._viewportRect.x,
                            y: t.y * i + cc.view._viewportRect.y,
                            width: t.width * e,
                            height: t.height * i
                        })
                    }
                },
                _registerNodeEvent: function () {
                    this.node.on("position-changed", this.updateSubContextViewport, this), this.node.on("scale-changed", this.updateSubContextViewport, this), this.node.on("size-changed", this.updateSubContextViewport, this)
                },
                _unregisterNodeEvent: function () {
                    this.node.off("position-changed", this.updateSubContextViewport, this), this.node.off("scale-changed", this.updateSubContextViewport, this), this.node.off("size-changed", this.updateSubContextViewport, this)
                },
                _runSubContextMainLoop: function () {
                    this._context && this._context.postMessage({fromEngine: !0, event: "mainLoop", value: !0})
                },
                _stopSubContextMainLoop: function () {
                    this._context && this._context.postMessage({fromEngine: !0, event: "mainLoop", value: !1})
                },
                _updateSubContextFrameRate: function () {
                    this._context && this._context.postMessage({fromEngine: !0, event: "frameRate", value: this._fps})
                }
            });
            cc.SubContextView = e.exports = n, cc.WXSubContextView = n, cc.SwanSubContextView = n
        }), {"./CCComponent": 108}],
        127: [(function (t, e) {
            "use strict";
            var i = t("../../platform/CCMacro"), n = t("../editbox/EditBoxImplBase"), r = t("../CCLabel"),
                s = t("./types"), a = s.InputMode, o = s.InputFlag, c = s.KeyboardReturnType;

            function l(t) {
                return t.charAt(0).toUpperCase() + t.slice(1)
            }

            var h = cc.Class({
                name: "cc.EditBox", extends: cc.Component, editor: !1, properties: {
                    _string: "",
                    string: {
                        tooltip: !1, get: function () {
                            return this._string
                        }, set: function (t) {
                            t = "" + t, this.maxLength >= 0 && t.length >= this.maxLength && (t = t.slice(0, this.maxLength)), this._string = t, this._updateString(t)
                        }
                    },
                    textLabel: {
                        tooltip: !1, default: null, type: r, notify: function (t) {
                            this.textLabel && this.textLabel !== t && (this._updateTextLabel(), this._updateLabels())
                        }
                    },
                    placeholderLabel: {
                        tooltip: !1, default: null, type: r, notify: function (t) {
                            this.placeholderLabel && this.placeholderLabel !== t && (this._updatePlaceholderLabel(), this._updateLabels())
                        }
                    },
                    background: {
                        tooltip: !1, default: null, type: cc.Sprite, notify: function (t) {
                            this.background && this.background !== t && this._updateBackgroundSprite()
                        }
                    },
                    _N$backgroundImage: {default: void 0, type: cc.SpriteFrame},
                    backgroundImage: {
                        get: function () {
                            return this.background ? this.background.spriteFrame : null
                        }, set: function (t) {
                            this.background && (this.background.spriteFrame = t)
                        }
                    },
                    returnType: {default: c.DEFAULT, tooltip: !1, displayName: "KeyboardReturnType", type: c},
                    _N$returnType: {default: void 0, type: cc.Float},
                    inputFlag: {
                        tooltip: !1, default: o.DEFAULT, type: o, notify: function () {
                            this._updateString(this._string)
                        }
                    },
                    inputMode: {
                        tooltip: !1, default: a.ANY, type: a, notify: function (t) {
                            this.inputMode !== t && (this._updateTextLabel(), this._updatePlaceholderLabel())
                        }
                    },
                    fontSize: {
                        get: function () {
                            return this.textLabel ? this.textLabel.fontSize : 0
                        }, set: function (t) {
                            this.textLabel && (this.textLabel.fontSize = t)
                        }
                    },
                    _N$fontSize: {default: void 0, type: cc.Float},
                    lineHeight: {
                        get: function () {
                            return this.textLabel ? this.textLabel.lineHeight : 0
                        }, set: function (t) {
                            this.textLabel && (this.textLabel.lineHeight = t)
                        }
                    },
                    _N$lineHeight: {default: void 0, type: cc.Float},
                    fontColor: {
                        get: function () {
                            return this.textLabel ? this.textLabel.node.color : cc.Color.BLACK
                        }, set: function (t) {
                            this.textLabel && (this.textLabel.node.color = t, this.textLabel.node.opacity = t.a)
                        }
                    },
                    _N$fontColor: void 0,
                    placeholder: {
                        tooltip: !1, get: function () {
                            return this.placeholderLabel ? this.placeholderLabel.string : ""
                        }, set: function (t) {
                            this.placeholderLabel && (this.placeholderLabel.string = t)
                        }
                    },
                    _N$placeholder: {default: void 0, type: cc.String},
                    placeholderFontSize: {
                        get: function () {
                            return this.placeholderLabel ? this.placeholderLabel.fontSize : 0
                        }, set: function (t) {
                            this.placeholderLabel && (this.placeholderLabel.fontSize = t)
                        }
                    },
                    _N$placeholderFontSize: {default: void 0, type: cc.Float},
                    placeholderFontColor: {
                        get: function () {
                            return this.placeholderLabel ? this.placeholderLabel.node.color : cc.Color.BLACK
                        }, set: function (t) {
                            this.placeholderLabel && (this.placeholderLabel.node.color = t, this.placeholderLabel.node.opacity = t.a)
                        }
                    },
                    _N$placeholderFontColor: void 0,
                    maxLength: {tooltip: !1, default: 20},
                    _N$maxLength: {default: void 0, type: cc.Float},
                    stayOnTop: {
                        default: !1, notify: function () {
                            cc.warn("editBox.stayOnTop is removed since v2.1.")
                        }
                    },
                    _tabIndex: 0,
                    tabIndex: {
                        tooltip: !1, get: function () {
                            return this._tabIndex
                        }, set: function (t) {
                            this._tabIndex !== t && (this._tabIndex = t, this._impl && this._impl.setTabIndex(t))
                        }
                    },
                    editingDidBegan: {default: [], type: cc.Component.EventHandler},
                    textChanged: {default: [], type: cc.Component.EventHandler},
                    editingDidEnded: {default: [], type: cc.Component.EventHandler},
                    editingReturn: {default: [], type: cc.Component.EventHandler}
                }, statics: {_ImplClass: n, KeyboardReturnType: c, InputFlag: o, InputMode: a}, _init: function () {
                    this._upgradeComp(), this._isLabelVisible = !0, this.node.on(cc.Node.EventType.SIZE_CHANGED, this._syncSize, this), (this._impl = new h._ImplClass).init(this), this._updateString(this._string), this._syncSize()
                }, _updateBackgroundSprite: function () {
                    var t = this.background;
                    if (!t) {
                        var e = this.node.getChildByName("BACKGROUND_SPRITE");
                        e || (e = new cc.Node("BACKGROUND_SPRITE")), (t = e.getComponent(cc.Sprite)) || (t = e.addComponent(cc.Sprite)), e.parent = this.node, this.background = t
                    }
                    t.type = cc.Sprite.Type.SLICED, void 0 !== this._N$backgroundImage && (t.spriteFrame = this._N$backgroundImage, this._N$backgroundImage = void 0)
                }, _updateTextLabel: function () {
                    var t = this.textLabel;
                    if (!t) {
                        var e = this.node.getChildByName("TEXT_LABEL");
                        e || (e = new cc.Node("TEXT_LABEL")), (t = e.getComponent(r)) || (t = e.addComponent(r)), e.parent = this.node, this.textLabel = t
                    }
                    t.node.setAnchorPoint(0, 1), t.overflow = r.Overflow.CLAMP, this.inputMode === a.ANY ? (t.verticalAlign = i.VerticalTextAlignment.TOP, t.enableWrapText = !0) : (t.verticalAlign = i.VerticalTextAlignment.CENTER, t.enableWrapText = !1), t.string = this._updateLabelStringStyle(this._string), void 0 !== this._N$fontColor && (t.node.color = this._N$fontColor, t.node.opacity = this._N$fontColor.a, this._N$fontColor = void 0), void 0 !== this._N$fontSize && (t.fontSize = this._N$fontSize, this._N$fontSize = void 0), void 0 !== this._N$lineHeight && (t.lineHeight = this._N$lineHeight, this._N$lineHeight = void 0)
                }, _updatePlaceholderLabel: function () {
                    var t = this.placeholderLabel;
                    if (!t) {
                        var e = this.node.getChildByName("PLACEHOLDER_LABEL");
                        e || (e = new cc.Node("PLACEHOLDER_LABEL")), (t = e.getComponent(r)) || (t = e.addComponent(r)), e.parent = this.node, this.placeholderLabel = t
                    }
                    t.node.setAnchorPoint(0, 1), t.overflow = r.Overflow.CLAMP, this.inputMode === a.ANY ? (t.verticalAlign = i.VerticalTextAlignment.TOP, t.enableWrapText = !0) : (t.verticalAlign = i.VerticalTextAlignment.CENTER, t.enableWrapText = !1), t.string = this.placeholder, void 0 !== this._N$placeholderFontColor && (t.node.color = this._N$placeholderFontColor, t.node.opacity = this._N$placeholderFontColor.a, this._N$placeholderFontColor = void 0), void 0 !== this._N$placeholderFontSize && (t.fontSize = this._N$placeholderFontSize, this._N$placeholderFontSize = void 0)
                }, _upgradeComp: function () {
                    void 0 !== this._N$returnType && (this.returnType = this._N$returnType, this._N$returnType = void 0), void 0 !== this._N$maxLength && (this.maxLength = this._N$maxLength, this._N$maxLength = void 0), void 0 !== this._N$backgroundImage && this._updateBackgroundSprite(), void 0 === this._N$fontColor && void 0 === this._N$fontSize && void 0 === this._N$lineHeight || this._updateTextLabel(), void 0 === this._N$placeholderFontColor && void 0 === this._N$placeholderFontSize || this._updatePlaceholderLabel(), void 0 !== this._N$placeholder && (this.placeholder = this._N$placeholder, this._N$placeholder = void 0)
                }, _syncSize: function () {
                    if (this._impl) {
                        var t = this.node.getContentSize();
                        this._impl.setSize(t.width, t.height)
                    }
                }, _showLabels: function () {
                    this._isLabelVisible = !0, this._updateLabels()
                }, _hideLabels: function () {
                    this._isLabelVisible = !1, this.textLabel && (this.textLabel.node.active = !1), this.placeholderLabel && (this.placeholderLabel.node.active = !1)
                }, _updateLabels: function () {
                    if (this._isLabelVisible) {
                        var t = this._string;
                        this.textLabel && (this.textLabel.node.active = "" !== t), this.placeholderLabel && (this.placeholderLabel.node.active = "" === t)
                    }
                }, _updateString: function (t) {
                    var e = this.textLabel;
                    if (e) {
                        var i = t;
                        i && (i = this._updateLabelStringStyle(i)), e.string = i, this._updateLabels()
                    }
                }, _updateLabelStringStyle: function (t, e) {
                    var i = this.inputFlag;
                    if (e || i !== o.PASSWORD) i === o.INITIAL_CAPS_ALL_CHARACTERS ? t = t.toUpperCase() : i === o.INITIAL_CAPS_WORD ? t = t.replace(/(?:^|\s)\S/g, (function (t) {
                        return t.toUpperCase()
                    })) : i === o.INITIAL_CAPS_SENTENCE && (t = l(t)); else {
                        for (var n = "", r = t.length, s = 0; s < r; ++s) n += "\u25cf";
                        t = n
                    }
                    return t
                }, editBoxEditingDidBegan: function () {
                    cc.Component.EventHandler.emitEvents(this.editingDidBegan, this), this.node.emit("editing-did-began", this)
                }, editBoxEditingDidEnded: function () {
                    cc.Component.EventHandler.emitEvents(this.editingDidEnded, this), this.node.emit("editing-did-ended", this)
                }, editBoxTextChanged: function (t) {
                    t = this._updateLabelStringStyle(t, !0), this.string = t, cc.Component.EventHandler.emitEvents(this.textChanged, t, this), this.node.emit("text-changed", this)
                }, editBoxEditingReturn: function () {
                    cc.Component.EventHandler.emitEvents(this.editingReturn, this), this.node.emit("editing-return", this)
                }, onEnable: function () {
                    this._registerEvent(), this._impl && this._impl.enable()
                }, onDisable: function () {
                    this._unregisterEvent(), this._impl && this._impl.disable()
                }, onDestroy: function () {
                    this._impl && this._impl.clear()
                }, __preload: function () {
                    this._init()
                }, _registerEvent: function () {
                    this.node.on(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this), this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this)
                }, _unregisterEvent: function () {
                    this.node.off(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this), this.node.off(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this)
                }, _onTouchBegan: function (t) {
                    t.stopPropagation()
                }, _onTouchCancel: function (t) {
                    t.stopPropagation()
                }, _onTouchEnded: function (t) {
                    this._impl && this._impl.beginEditing(), t.stopPropagation()
                }, setFocus: function () {
                    cc.errorID(1400, "setFocus()", "focus()"), this._impl && this._impl.setFocus(!0)
                }, focus: function () {
                    this._impl && this._impl.setFocus(!0)
                }, blur: function () {
                    this._impl && this._impl.setFocus(!1)
                }, isFocused: function () {
                    return !!this._impl && this._impl.isFocused()
                }, update: function () {
                    this._impl && this._impl.update()
                }
            });
            cc.EditBox = e.exports = h, cc.sys.isBrowser && t("./WebEditBoxImpl")
        }), {
            "../../platform/CCMacro": 172,
            "../CCLabel": 110,
            "../editbox/EditBoxImplBase": 128,
            "./WebEditBoxImpl": 129,
            "./types": 131
        }],
        128: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                ctor: function () {
                    this._delegate = null, this._editing = !1
                }, init: function () {
                }, enable: function () {
                }, disable: function () {
                    this._editing && this.endEditing()
                }, clear: function () {
                }, update: function () {
                }, setTabIndex: function () {
                }, setSize: function () {
                }, setFocus: function (t) {
                    t ? this.beginEditing() : this.endEditing()
                }, isFocused: function () {
                    return this._editing
                }, beginEditing: function () {
                }, endEditing: function () {
                }
            });
            e.exports = i
        }), {}],
        129: [(function (t) {
            "use strict";
            var e, i = (e = t("../../value-types/mat4")) && e.__esModule ? e : {default: e},
                n = t("../../platform/utils"), r = t("../../platform/CCMacro"), s = t("./types"), a = t("../CCLabel"),
                o = t("./tabIndexUtil"), c = cc.EditBox, l = cc.js, h = s.InputMode, u = s.InputFlag,
                f = s.KeyboardReturnType, d = {zoomInvalid: !1};
            cc.sys.OS_ANDROID !== cc.sys.os || cc.sys.browserType !== cc.sys.BROWSER_TYPE_SOUGOU && cc.sys.browserType !== cc.sys.BROWSER_TYPE_360 || (d.zoomInvalid = !0);
            var _ = 0, p = cc.v3(), v = null, g = !1, m = !1, y = c._ImplClass;

            function T() {
                y.call(this), this._domId = "EditBoxId_" + ++_, this._placeholderStyleSheet = null, this._elem = null, this._isTextArea = !1, this._worldMat = new i.default, this._cameraMat = new i.default, this._m00 = 0, this._m01 = 0, this._m04 = 0, this._m05 = 0, this._m12 = 0, this._m13 = 0, this._w = 0, this._h = 0, this._cacheViewportRect = cc.rect(0, 0, 0, 0), this._inputMode = null, this._inputFlag = null, this._returnType = null, this._eventListeners = {}, this._textLabelFont = null, this._textLabelFontSize = null, this._textLabelFontColor = null, this._textLabelAlign = null, this._placeholderLabelFont = null, this._placeholderLabelFontSize = null, this._placeholderLabelFontColor = null, this._placeholderLabelAlign = null, this._placeholderLineHeight = null
            }

            l.extend(T, y), c._ImplClass = T, Object.assign(T.prototype, {
                init: function (t) {
                    t && (this._delegate = t, t.inputMode === h.ANY ? this._createTextArea() : this._createInput(), o.add(this), this.setTabIndex(t.tabIndex), this._initStyleSheet(), this._registerEventListeners(), this._addDomToGameContainer(), g = cc.view.isAutoFullScreenEnabled(), m = cc.view._resizeWithBrowserSize)
                }, clear: function () {
                    this._removeEventListeners(), this._removeDomFromGameContainer(), o.remove(this), v === this && (v = null)
                }, update: function () {
                    this._updateMatrix()
                }, setTabIndex: function (t) {
                    this._elem.tabIndex = t, o.resort()
                }, setSize: function (t, e) {
                    var i = this._elem;
                    i.style.width = t + "px", i.style.height = e + "px"
                }, beginEditing: function () {
                    v && v !== this && v.setFocus(!1), this._editing = !0, v = this, this._delegate.editBoxEditingDidBegan(), this._showDom(), this._elem.focus()
                }, endEditing: function () {
                    this._elem && this._elem.blur()
                }, _createInput: function () {
                    this._isTextArea = !1, this._elem = document.createElement("input")
                }, _createTextArea: function () {
                    this._isTextArea = !0, this._elem = document.createElement("textarea")
                }, _addDomToGameContainer: function () {
                    cc.game.container.appendChild(this._elem), document.head.appendChild(this._placeholderStyleSheet)
                }, _removeDomFromGameContainer: function () {
                    n.contains(cc.game.container, this._elem) && cc.game.container.removeChild(this._elem), n.contains(document.head, this._placeholderStyleSheet) && document.head.removeChild(this._placeholderStyleSheet), delete this._elem, delete this._placeholderStyleSheet
                }, _showDom: function () {
                    this._updateMaxLength(), this._updateInputType(), this._updateStyleSheet(), this._elem.style.display = "", this._delegate._hideLabels(), cc.sys.isMobile && this._showDomOnMobile()
                }, _hideDom: function () {
                    this._elem.style.display = "none", this._delegate._showLabels(), cc.sys.isMobile && this._hideDomOnMobile()
                }, _showDomOnMobile: function () {
                    cc.sys.os === cc.sys.OS_ANDROID && (g && (cc.view.enableAutoFullScreen(!1), cc.screen.exitFullScreen()), m && cc.view.resizeWithBrowserSize(!1), this._adjustWindowScroll())
                }, _hideDomOnMobile: function () {
                    cc.sys.os === cc.sys.OS_ANDROID && (m && cc.view.resizeWithBrowserSize(!0), setTimeout((function () {
                        v || g && cc.view.enableAutoFullScreen(!0)
                    }), 800))
                }, _adjustWindowScroll: function () {
                    var t = this;
                    setTimeout((function () {
                        window.scrollY < 100 && t._elem.scrollIntoView({
                            block: "start",
                            inline: "nearest",
                            behavior: "smooth"
                        })
                    }), 800)
                }, _scrollBackWindow: function () {
                    setTimeout((function () {
                        var t = cc.sys;
                        t.browserType !== t.BROWSER_TYPE_WECHAT || t.os !== t.OS_IOS ? window.scrollTo(0, 0) : window.top && window.top.scrollTo(0, 0)
                    }), 800)
                }, _updateCameraMatrix: function () {
                    var t = this._delegate.node;
                    t.getWorldMatrix(this._worldMat);
                    var e = this._worldMat, n = t._contentSize, r = t._anchorPoint;
                    p.x = -r.x * n.width, p.y = -r.y * n.height, i.default.transform(e, e, p);
                    var s = cc.Camera.findCamera(t);
                    return !!s && (s.getWorldToScreenMatrix2D(this._cameraMat), i.default.mul(this._cameraMat, this._cameraMat, e), !0)
                }, _updateMatrix: function () {
                    if (this._updateCameraMatrix()) {
                        var t = this._cameraMat.m, e = this._delegate.node, i = cc.view;
                        if (this._m00 !== t[0] || this._m01 !== t[1] || this._m04 !== t[4] || this._m05 !== t[5] || this._m12 !== t[12] || this._m13 !== t[13] || this._w !== e._contentSize.width || this._h !== e._contentSize.height || !this._cacheViewportRect.equals(i._viewportRect)) {
                            this._m00 = t[0], this._m01 = t[1], this._m04 = t[4], this._m05 = t[5], this._m12 = t[12], this._m13 = t[13], this._w = e._contentSize.width, this._h = e._contentSize.height, this._cacheViewportRect.set(i._viewportRect);
                            var n = i._scaleX, r = i._scaleY, s = i._viewportRect, a = i._devicePixelRatio;
                            n /= a, r /= a;
                            var o = cc.game.container, c = t[0] * n, l = t[1], h = t[4], u = t[5] * r,
                                f = o && o.style.paddingLeft && parseInt(o.style.paddingLeft);
                            f += s.x / a;
                            var _ = o && o.style.paddingBottom && parseInt(o.style.paddingBottom);
                            _ += s.y / a;
                            var p = t[12] * n + f, v = t[13] * r + _;
                            d.zoomInvalid && (this.setSize(e.width * c, e.height * u), c = 1, u = 1);
                            var g = this._elem,
                                m = "matrix(" + c + "," + -l + "," + -h + "," + u + "," + p + "," + -v + ")";
                            g.style.transform = m, g.style["-webkit-transform"] = m, g.style["transform-origin"] = "0px 100% 0px", g.style["-webkit-transform-origin"] = "0px 100% 0px"
                        }
                    }
                }, _updateInputType: function () {
                    var t = this._delegate, e = t.inputMode, i = t.inputFlag, n = t.returnType, r = this._elem;
                    if (this._inputMode !== e || this._inputFlag !== i || this._returnType !== n) {
                        if (this._inputMode = e, this._inputFlag = i, this._returnType = n, this._isTextArea) {
                            var s = "none";
                            return i === u.INITIAL_CAPS_ALL_CHARACTERS ? s = "uppercase" : i === u.INITIAL_CAPS_WORD && (s = "capitalize"), void (r.style.textTransform = s)
                        }
                        if (i === u.PASSWORD) return r.type = "password", void (r.style.textTransform = "none");
                        var a = r.type;
                        e === h.EMAIL_ADDR ? a = "email" : e === h.NUMERIC || e === h.DECIMAL ? a = "number" : e === h.PHONE_NUMBER ? (a = "number", r.pattern = "[0-9]*", r.onmousewheel = function () {
                            return !1
                        }) : e === h.URL ? a = "url" : (a = "text", n === f.SEARCH && (a = "search")), r.type = a;
                        var o = "none";
                        i === u.INITIAL_CAPS_ALL_CHARACTERS ? o = "uppercase" : i === u.INITIAL_CAPS_WORD && (o = "capitalize"), r.style.textTransform = o
                    }
                }, _updateMaxLength: function () {
                    var t = this._delegate.maxLength;
                    t < 0 && (t = 65535), this._elem.maxLength = t
                }, _initStyleSheet: function () {
                    var t = this._elem;
                    t.style.display = "none", t.style.border = 0, t.style.background = "transparent", t.style.width = "100%", t.style.height = "100%", t.style.active = 0, t.style.outline = "medium", t.style.padding = "0", t.style.textTransform = "none", t.style.position = "absolute", t.style.bottom = "0px", t.style.left = "2px", t.className = "cocosEditBox", t.id = this._domId, this._isTextArea ? (t.style.resize = "none", t.style.overflow_y = "scroll") : (t.type = "text", t.style["-moz-appearance"] = "textfield"), this._placeholderStyleSheet = document.createElement("style")
                }, _updateStyleSheet: function () {
                    var t = this._delegate, e = this._elem;
                    e.value = t.string, e.placeholder = t.placeholder, this._updateTextLabel(t.textLabel), this._updatePlaceholderLabel(t.placeholderLabel)
                }, _updateTextLabel: function (t) {
                    if (t) {
                        var e = t.font;
                        e = !e || e instanceof cc.BitmapFont ? t.fontFamily : e._fontFamily;
                        var i = t.fontSize * t.node.scaleY;
                        if (this._textLabelFont !== e || this._textLabelFontSize !== i || this._textLabelFontColor !== t.fontColor || this._textLabelAlign !== t.horizontalAlign) {
                            this._textLabelFont = e, this._textLabelFontSize = i, this._textLabelFontColor = t.fontColor, this._textLabelAlign = t.horizontalAlign;
                            var n = this._elem;
                            switch (n.style.fontSize = i + "px", n.style.color = t.node.color.toCSS(), n.style.fontFamily = e, t.horizontalAlign) {
                                case a.HorizontalAlign.LEFT:
                                    n.style.textAlign = "left";
                                    break;
                                case a.HorizontalAlign.CENTER:
                                    n.style.textAlign = "center";
                                    break;
                                case a.HorizontalAlign.RIGHT:
                                    n.style.textAlign = "right"
                            }
                        }
                    }
                }, _updatePlaceholderLabel: function (t) {
                    if (t) {
                        var e = t.font;
                        e = !e || e instanceof cc.BitmapFont ? t.fontFamily : t.font._fontFamily;
                        var i = t.fontSize * t.node.scaleY;
                        if (this._placeholderLabelFont !== e || this._placeholderLabelFontSize !== i || this._placeholderLabelFontColor !== t.fontColor || this._placeholderLabelAlign !== t.horizontalAlign || this._placeholderLineHeight !== t.fontSize) {
                            this._placeholderLabelFont = e, this._placeholderLabelFontSize = i, this._placeholderLabelFontColor = t.fontColor, this._placeholderLabelAlign = t.horizontalAlign, this._placeholderLineHeight = t.fontSize;
                            var n, r = this._placeholderStyleSheet, s = t.node.color.toCSS(), o = t.fontSize;
                            switch (t.horizontalAlign) {
                                case a.HorizontalAlign.LEFT:
                                    n = "left";
                                    break;
                                case a.HorizontalAlign.CENTER:
                                    n = "center";
                                    break;
                                case a.HorizontalAlign.RIGHT:
                                    n = "right"
                            }
                            r.innerHTML = "#" + this._domId + "::-webkit-input-placeholder,#" + this._domId + "::-moz-placeholder,#" + this._domId + ":-ms-input-placeholder{text-transform: initial; font-family: " + e + "; font-size: " + i + "px; color: " + s + "; line-height: " + o + "px; text-align: " + n + ";}", cc.sys.browserType === cc.sys.BROWSER_TYPE_EDGE && (r.innerHTML += "#" + this._domId + "::-ms-clear{display: none;}")
                        }
                    }
                }, _registerEventListeners: function () {
                    var t = this, e = this._elem, i = !1, n = this._eventListeners;
                    n.compositionStart = function () {
                        i = !0
                    }, n.compositionEnd = function () {
                        i = !1, t._delegate.editBoxTextChanged(e.value)
                    }, n.onInput = function () {
                        if (!i) {
                            var n = t._delegate.maxLength;
                            n >= 0 && (e.value = e.value.slice(0, n)), t._delegate.editBoxTextChanged(e.value)
                        }
                    }, n.onClick = function () {
                        t._editing && cc.sys.isMobile && t._adjustWindowScroll()
                    }, n.onKeydown = function (i) {
                        i.keyCode === r.KEY.enter ? (i.stopPropagation(), t._delegate.editBoxEditingReturn(), t._isTextArea || e.blur()) : i.keyCode === r.KEY.tab && (i.stopPropagation(), i.preventDefault(), o.next(t))
                    }, n.onBlur = function () {
                        cc.sys.isMobile && i && n.compositionEnd(), t._editing = !1, v = null, t._hideDom(), t._delegate.editBoxEditingDidEnded()
                    }, e.addEventListener("compositionstart", n.compositionStart), e.addEventListener("compositionend", n.compositionEnd), e.addEventListener("input", n.onInput), e.addEventListener("keydown", n.onKeydown), e.addEventListener("blur", n.onBlur), e.addEventListener("touchstart", n.onClick)
                }, _removeEventListeners: function () {
                    var t = this._elem, e = this._eventListeners;
                    t.removeEventListener("compositionstart", e.compositionStart), t.removeEventListener("compositionend", e.compositionEnd), t.removeEventListener("input", e.onInput), t.removeEventListener("keydown", e.onKeydown), t.removeEventListener("blur", e.onBlur), t.removeEventListener("touchstart", e.onClick), e.compositionStart = null, e.compositionEnd = null, e.onInput = null, e.onKeydown = null, e.onBlur = null, e.onClick = null
                }
            })
        }), {
            "../../platform/CCMacro": 172,
            "../../platform/utils": 191,
            "../../value-types/mat4": 267,
            "../CCLabel": 110,
            "./tabIndexUtil": 130,
            "./types": 131
        }],
        130: [(function (t, e) {
            "use strict";
            e.exports = {
                _tabIndexList: [], add: function (t) {
                    var e = this._tabIndexList;
                    -1 === e.indexOf(t) && e.push(t)
                }, remove: function (t) {
                    var e = this._tabIndexList, i = e.indexOf(t);
                    -1 !== i && e.splice(i, 1)
                }, resort: function () {
                    this._tabIndexList.sort((function (t, e) {
                        return t._delegate._tabIndex - e._delegate._tabIndex
                    }))
                }, next: function (t) {
                    var e = this._tabIndexList, i = e.indexOf(t);
                    if (t.setFocus(!1), -1 !== i) {
                        var n = e[i + 1];
                        n && n._delegate._tabIndex >= 0 && n.setFocus(!0)
                    }
                }
            }
        }), {}],
        131: [(function (t, e) {
            "use strict";
            var i = cc.Enum({DEFAULT: 0, DONE: 1, SEND: 2, SEARCH: 3, GO: 4, NEXT: 5}),
                n = cc.Enum({ANY: 0, EMAIL_ADDR: 1, NUMERIC: 2, PHONE_NUMBER: 3, URL: 4, DECIMAL: 5, SINGLE_LINE: 6}),
                r = cc.Enum({
                    PASSWORD: 0,
                    SENSITIVE: 1,
                    INITIAL_CAPS_WORD: 2,
                    INITIAL_CAPS_SENTENCE: 3,
                    INITIAL_CAPS_ALL_CHARACTERS: 4,
                    DEFAULT: 5
                });
            e.exports = {KeyboardReturnType: i, InputMode: n, InputFlag: r}
        }), {}],
        132: [(function (t, e) {
            "use strict";
            t("./CCComponent"), t("./CCComponentEventHandler"), t("./missing-script");
            var i = t("./SubContextView");
            i || (i = cc.Class({
                name: "cc.SubContextView",
                extends: cc.Component
            }), cc.SubContextView = cc.WXSubContextView = cc.SwanSubContextView = i);
            var n = [t("./CCSprite"), t("./CCWidget"), t("./CCCanvas"), t("./CCAudioSource"), t("./CCAnimation"), t("./CCButton"), t("./CCLabel"), t("./CCProgressBar"), t("./CCMask"), t("./CCScrollBar"), t("./CCScrollView"), t("./CCPageViewIndicator"), t("./CCPageView"), t("./CCSlider"), t("./CCLayout"), t("./editbox/CCEditBox"), t("./CCLabelOutline"), t("./CCLabelShadow"), t("./CCRichText"), t("./CCToggleContainer"), t("./CCToggleGroup"), t("./CCToggle"), t("./CCBlockInputEvents"), t("./CCMotionStreak"), t("./CCSafeArea"), i];
            e.exports = n
        }), {
            "./CCAnimation": 103,
            "./CCAudioSource": 104,
            "./CCBlockInputEvents": 105,
            "./CCButton": 106,
            "./CCCanvas": 107,
            "./CCComponent": 108,
            "./CCComponentEventHandler": 109,
            "./CCLabel": 110,
            "./CCLabelOutline": 111,
            "./CCLabelShadow": 112,
            "./CCLayout": 113,
            "./CCMask": 114,
            "./CCMotionStreak": 115,
            "./CCPageView": void 0,
            "./CCPageViewIndicator": void 0,
            "./CCProgressBar": 116,
            "./CCRichText": 118,
            "./CCSafeArea": 119,
            "./CCScrollBar": 120,
            "./CCScrollView": 121,
            "./CCSlider": 122,
            "./CCSprite": 123,
            "./CCToggle": void 0,
            "./CCToggleContainer": void 0,
            "./CCToggleGroup": void 0,
            "./CCWidget": 125,
            "./SubContextView": 126,
            "./editbox/CCEditBox": 127,
            "./missing-script": 133
        }],
        133: [(function (t, e) {
            "use strict";
            var i = cc.js, n = cc.Class({
                name: "cc.MissingScript",
                extends: cc.Component,
                editor: {inspector: "packages://inspector/inspectors/comps/missing-script.js"},
                properties: {
                    compiled: {default: !1, serializable: !1},
                    _$erialized: {default: null, visible: !1, editorOnly: !0}
                },
                ctor: !1,
                statics: {
                    safeFindClass: function (t) {
                        return i._getClassById(t) || (cc.deserialize.reportMissingClass(t), n)
                    }
                },
                onLoad: function () {
                    cc.warnID(4600, this.node.name)
                }
            });
            cc._MissingScript = e.exports = n
        }), {}],
        134: [(function (t, e) {
            "use strict";
            var i = cc.js;
            t("../event/event");
            var n = function (t, e) {
                cc.Event.call(this, cc.Event.MOUSE, e), this._eventType = t, this._button = 0, this._x = 0, this._y = 0, this._prevX = 0, this._prevY = 0, this._scrollX = 0, this._scrollY = 0
            };
            i.extend(n, cc.Event);
            var r = n.prototype;
            r.setScrollData = function (t, e) {
                this._scrollX = t, this._scrollY = e
            }, r.getScrollX = function () {
                return this._scrollX
            }, r.getScrollY = function () {
                return this._scrollY
            }, r.setLocation = function (t, e) {
                this._x = t, this._y = e
            }, r.getLocation = function () {
                return cc.v2(this._x, this._y)
            }, r.getLocationInView = function () {
                return cc.v2(this._x, cc.view._designResolutionSize.height - this._y)
            }, r._setPrevCursor = function (t, e) {
                this._prevX = t, this._prevY = e
            }, r.getPreviousLocation = function () {
                return cc.v2(this._prevX, this._prevY)
            }, r.getDelta = function () {
                return cc.v2(this._x - this._prevX, this._y - this._prevY)
            }, r.getDeltaX = function () {
                return this._x - this._prevX
            }, r.getDeltaY = function () {
                return this._y - this._prevY
            }, r.setButton = function (t) {
                this._button = t
            }, r.getButton = function () {
                return this._button
            }, r.getLocationX = function () {
                return this._x
            }, r.getLocationY = function () {
                return this._y
            }, n.NONE = 0, n.DOWN = 1, n.UP = 2, n.MOVE = 3, n.SCROLL = 4, n.BUTTON_LEFT = 0, n.BUTTON_RIGHT = 2, n.BUTTON_MIDDLE = 1, n.BUTTON_4 = 3, n.BUTTON_5 = 4, n.BUTTON_6 = 5, n.BUTTON_7 = 6, n.BUTTON_8 = 7;
            var s = function (t, e) {
                cc.Event.call(this, cc.Event.TOUCH, e), this._eventCode = 0, this._touches = t || [], this.touch = null, this.currentTouch = null
            };
            i.extend(s, cc.Event), (r = s.prototype).getEventCode = function () {
                return this._eventCode
            }, r.getTouches = function () {
                return this._touches
            }, r._setEventCode = function (t) {
                this._eventCode = t
            }, r._setTouches = function (t) {
                this._touches = t
            }, r.setLocation = function (t, e) {
                this.touch && this.touch.setTouchInfo(this.touch.getID(), t, e)
            }, r.getLocation = function () {
                return this.touch ? this.touch.getLocation() : cc.v2()
            }, r.getLocationInView = function () {
                return this.touch ? this.touch.getLocationInView() : cc.v2()
            }, r.getPreviousLocation = function () {
                return this.touch ? this.touch.getPreviousLocation() : cc.v2()
            }, r.getStartLocation = function () {
                return this.touch ? this.touch.getStartLocation() : cc.v2()
            }, r.getID = function () {
                return this.touch ? this.touch.getID() : null
            }, r.getDelta = function () {
                return this.touch ? this.touch.getDelta() : cc.v2()
            }, r.getDeltaX = function () {
                return this.touch ? this.touch.getDelta().x : 0
            }, r.getDeltaY = function () {
                return this.touch ? this.touch.getDelta().y : 0
            }, r.getLocationX = function () {
                return this.touch ? this.touch.getLocationX() : 0
            }, r.getLocationY = function () {
                return this.touch ? this.touch.getLocationY() : 0
            }, s.MAX_TOUCHES = 5, s.BEGAN = 0, s.MOVED = 1, s.ENDED = 2, s.CANCELED = 3;
            var a = function (t, e) {
                cc.Event.call(this, cc.Event.ACCELERATION, e), this.acc = t
            };
            i.extend(a, cc.Event);
            var o = function (t, e, i) {
                cc.Event.call(this, cc.Event.KEYBOARD, i), this.keyCode = t, this.isPressed = e
            };
            i.extend(o, cc.Event), cc.Event.EventMouse = n, cc.Event.EventTouch = s, cc.Event.EventAcceleration = a, cc.Event.EventKeyboard = o, e.exports = cc.Event
        }), {"../event/event": 141}],
        135: [(function (t, e) {
            "use strict";
            var i = t("../platform/js");
            cc.EventListener = function (t, e, i) {
                this._onEvent = i, this._type = t || 0, this._listenerID = e || "", this._registered = !1, this._fixedPriority = 0, this._node = null, this._target = null, this._paused = !0, this._isEnabled = !0
            }, cc.EventListener.prototype = {
                constructor: cc.EventListener, _setPaused: function (t) {
                    this._paused = t
                }, _isPaused: function () {
                    return this._paused
                }, _setRegistered: function (t) {
                    this._registered = t
                }, _isRegistered: function () {
                    return this._registered
                }, _getType: function () {
                    return this._type
                }, _getListenerID: function () {
                    return this._listenerID
                }, _setFixedPriority: function (t) {
                    this._fixedPriority = t
                }, _getFixedPriority: function () {
                    return this._fixedPriority
                }, _setSceneGraphPriority: function (t) {
                    this._target = t, this._node = t
                }, _getSceneGraphPriority: function () {
                    return this._node
                }, checkAvailable: function () {
                    return null !== this._onEvent
                }, clone: function () {
                    return null
                }, setEnabled: function (t) {
                    this._isEnabled = t
                }, isEnabled: function () {
                    return this._isEnabled
                }, retain: function () {
                }, release: function () {
                }
            }, cc.EventListener.UNKNOWN = 0, cc.EventListener.TOUCH_ONE_BY_ONE = 1, cc.EventListener.TOUCH_ALL_AT_ONCE = 2, cc.EventListener.KEYBOARD = 3, cc.EventListener.MOUSE = 4, cc.EventListener.ACCELERATION = 6, cc.EventListener.CUSTOM = 8;
            var n = cc.EventListener.ListenerID = {
                MOUSE: "__cc_mouse",
                TOUCH_ONE_BY_ONE: "__cc_touch_one_by_one",
                TOUCH_ALL_AT_ONCE: "__cc_touch_all_at_once",
                KEYBOARD: "__cc_keyboard",
                ACCELERATION: "__cc_acceleration"
            }, r = function (t, e) {
                this._onCustomEvent = e, cc.EventListener.call(this, cc.EventListener.CUSTOM, t, this._callback)
            };
            i.extend(r, cc.EventListener), i.mixin(r.prototype, {
                _onCustomEvent: null, _callback: function (t) {
                    null !== this._onCustomEvent && this._onCustomEvent(t)
                }, checkAvailable: function () {
                    return cc.EventListener.prototype.checkAvailable.call(this) && null !== this._onCustomEvent
                }, clone: function () {
                    return new r(this._listenerID, this._onCustomEvent)
                }
            });
            var s = function () {
                cc.EventListener.call(this, cc.EventListener.MOUSE, n.MOUSE, this._callback)
            };
            i.extend(s, cc.EventListener), i.mixin(s.prototype, {
                onMouseDown: null,
                onMouseUp: null,
                onMouseMove: null,
                onMouseScroll: null,
                _callback: function (t) {
                    var e = cc.Event.EventMouse;
                    switch (t._eventType) {
                        case e.DOWN:
                            this.onMouseDown && this.onMouseDown(t);
                            break;
                        case e.UP:
                            this.onMouseUp && this.onMouseUp(t);
                            break;
                        case e.MOVE:
                            this.onMouseMove && this.onMouseMove(t);
                            break;
                        case e.SCROLL:
                            this.onMouseScroll && this.onMouseScroll(t)
                    }
                },
                clone: function () {
                    var t = new s;
                    return t.onMouseDown = this.onMouseDown, t.onMouseUp = this.onMouseUp, t.onMouseMove = this.onMouseMove, t.onMouseScroll = this.onMouseScroll, t
                },
                checkAvailable: function () {
                    return !0
                }
            });
            var a = function () {
                cc.EventListener.call(this, cc.EventListener.TOUCH_ONE_BY_ONE, n.TOUCH_ONE_BY_ONE, null), this._claimedTouches = []
            };
            i.extend(a, cc.EventListener), i.mixin(a.prototype, {
                constructor: a,
                _claimedTouches: null,
                swallowTouches: !1,
                onTouchBegan: null,
                onTouchMoved: null,
                onTouchEnded: null,
                onTouchCancelled: null,
                setSwallowTouches: function (t) {
                    this.swallowTouches = t
                },
                isSwallowTouches: function () {
                    return this.swallowTouches
                },
                clone: function () {
                    var t = new a;
                    return t.onTouchBegan = this.onTouchBegan, t.onTouchMoved = this.onTouchMoved, t.onTouchEnded = this.onTouchEnded, t.onTouchCancelled = this.onTouchCancelled, t.swallowTouches = this.swallowTouches, t
                },
                checkAvailable: function () {
                    return !!this.onTouchBegan || (cc.logID(1801), !1)
                }
            });
            var o = function () {
                cc.EventListener.call(this, cc.EventListener.TOUCH_ALL_AT_ONCE, n.TOUCH_ALL_AT_ONCE, null)
            };
            i.extend(o, cc.EventListener), i.mixin(o.prototype, {
                constructor: o,
                onTouchesBegan: null,
                onTouchesMoved: null,
                onTouchesEnded: null,
                onTouchesCancelled: null,
                clone: function () {
                    var t = new o;
                    return t.onTouchesBegan = this.onTouchesBegan, t.onTouchesMoved = this.onTouchesMoved, t.onTouchesEnded = this.onTouchesEnded, t.onTouchesCancelled = this.onTouchesCancelled, t
                },
                checkAvailable: function () {
                    return null !== this.onTouchesBegan || null !== this.onTouchesMoved || null !== this.onTouchesEnded || null !== this.onTouchesCancelled || (cc.logID(1802), !1)
                }
            });
            var c = function (t) {
                this._onAccelerationEvent = t, cc.EventListener.call(this, cc.EventListener.ACCELERATION, n.ACCELERATION, this._callback)
            };
            i.extend(c, cc.EventListener), i.mixin(c.prototype, {
                constructor: c,
                _onAccelerationEvent: null,
                _callback: function (t) {
                    this._onAccelerationEvent(t.acc, t)
                },
                checkAvailable: function () {
                    return cc.assertID(this._onAccelerationEvent, 1803), !0
                },
                clone: function () {
                    return new c(this._onAccelerationEvent)
                }
            });
            var l = function () {
                cc.EventListener.call(this, cc.EventListener.KEYBOARD, n.KEYBOARD, this._callback)
            };
            i.extend(l, cc.EventListener), i.mixin(l.prototype, {
                constructor: l,
                onKeyPressed: null,
                onKeyReleased: null,
                _callback: function (t) {
                    t.isPressed ? this.onKeyPressed && this.onKeyPressed(t.keyCode, t) : this.onKeyReleased && this.onKeyReleased(t.keyCode, t)
                },
                clone: function () {
                    var t = new l;
                    return t.onKeyPressed = this.onKeyPressed, t.onKeyReleased = this.onKeyReleased, t
                },
                checkAvailable: function () {
                    return null !== this.onKeyPressed || null !== this.onKeyReleased || (cc.logID(1800), !1)
                }
            }), cc.EventListener.create = function (t) {
                cc.assertID(t && t.event, 1900);
                var e = t.event;
                delete t.event;
                var i = null;
                for (var n in e === cc.EventListener.TOUCH_ONE_BY_ONE ? i = new a : e === cc.EventListener.TOUCH_ALL_AT_ONCE ? i = new o : e === cc.EventListener.MOUSE ? i = new s : e === cc.EventListener.CUSTOM ? (i = new r(t.eventName, t.callback), delete t.eventName, delete t.callback) : e === cc.EventListener.KEYBOARD ? i = new l : e === cc.EventListener.ACCELERATION && (i = new c(t.callback), delete t.callback), t) i[n] = t[n];
                return i
            }, e.exports = cc.EventListener
        }), {"../platform/js": 188}],
        136: [(function (t, e) {
            "use strict";
            var i = t("../platform/js");
            t("./CCEventListener");
            var n = cc.EventListener.ListenerID, r = function () {
                this._fixedListeners = [], this._sceneGraphListeners = [], this.gt0Index = 0
            };
            r.prototype = {
                constructor: r, size: function () {
                    return this._fixedListeners.length + this._sceneGraphListeners.length
                }, empty: function () {
                    return 0 === this._fixedListeners.length && 0 === this._sceneGraphListeners.length
                }, push: function (t) {
                    0 === t._getFixedPriority() ? this._sceneGraphListeners.push(t) : this._fixedListeners.push(t)
                }, clearSceneGraphListeners: function () {
                    this._sceneGraphListeners.length = 0
                }, clearFixedListeners: function () {
                    this._fixedListeners.length = 0
                }, clear: function () {
                    this._sceneGraphListeners.length = 0, this._fixedListeners.length = 0
                }, getFixedPriorityListeners: function () {
                    return this._fixedListeners
                }, getSceneGraphPriorityListeners: function () {
                    return this._sceneGraphListeners
                }
            };
            var s = function (t) {
                var e = cc.Event, i = t.type;
                return i === e.ACCELERATION ? n.ACCELERATION : i === e.KEYBOARD ? n.KEYBOARD : i.startsWith(e.MOUSE) ? n.MOUSE : (i.startsWith(e.TOUCH) && cc.logID(2e3), "")
            }, a = {
                DIRTY_NONE: 0,
                DIRTY_FIXED_PRIORITY: 1,
                DIRTY_SCENE_GRAPH_PRIORITY: 2,
                DIRTY_ALL: 3,
                _listenersMap: {},
                _priorityDirtyFlagMap: {},
                _nodeListenersMap: {},
                _toAddedListeners: [],
                _toRemovedListeners: [],
                _dirtyListeners: {},
                _inDispatch: 0,
                _isEnabled: !1,
                _currentTouch: null,
                _currentTouchListener: null,
                _internalCustomListenerIDs: [],
                _setDirtyForNode: function (t) {
                    var e = this._nodeListenersMap[t._id];
                    if (e) for (var i = 0, n = e.length; i < n; i++) {
                        var r = e[i]._getListenerID();
                        null == this._dirtyListeners[r] && (this._dirtyListeners[r] = !0)
                    }
                    if (t.childrenCount > 0) for (var s = t._children, a = 0, o = s.length; a < o; a++) this._setDirtyForNode(s[a])
                },
                pauseTarget: function (t, e) {
                    if (t instanceof cc._BaseNode) {
                        var i, n, r = this._nodeListenersMap[t._id];
                        if (r) for (i = 0, n = r.length; i < n; i++) {
                            var s = r[i];
                            s._setPaused(!0), s._claimedTouches && s._claimedTouches.includes(this._currentTouch) && this._clearCurTouch()
                        }
                        if (!0 === e) {
                            var a = t._children;
                            for (i = 0, n = a ? a.length : 0; i < n; i++) this.pauseTarget(a[i], !0)
                        }
                    } else cc.warnID(3506)
                },
                resumeTarget: function (t, e) {
                    if (t instanceof cc._BaseNode) {
                        var i, n, r = this._nodeListenersMap[t._id];
                        if (r) for (i = 0, n = r.length; i < n; i++) r[i]._setPaused(!1);
                        if (this._setDirtyForNode(t), !0 === e) {
                            var s = t._children;
                            for (i = 0, n = s ? s.length : 0; i < n; i++) this.resumeTarget(s[i], !0)
                        }
                    } else cc.warnID(3506)
                },
                _addListener: function (t) {
                    0 === this._inDispatch ? this._forceAddEventListener(t) : this._toAddedListeners.push(t)
                },
                _forceAddEventListener: function (t) {
                    var e = t._getListenerID(), i = this._listenersMap[e];
                    if (i || (i = new r, this._listenersMap[e] = i), i.push(t), 0 === t._getFixedPriority()) {
                        this._setDirty(e, this.DIRTY_SCENE_GRAPH_PRIORITY);
                        var n = t._getSceneGraphPriority();
                        null === n && cc.logID(3507), this._associateNodeAndEventListener(n, t), n.activeInHierarchy && this.resumeTarget(n)
                    } else this._setDirty(e, this.DIRTY_FIXED_PRIORITY)
                },
                _getListeners: function (t) {
                    return this._listenersMap[t]
                },
                _updateDirtyFlagForSceneGraph: function () {
                    var t = this._dirtyListeners;
                    for (var e in t) this._setDirty(e, this.DIRTY_SCENE_GRAPH_PRIORITY);
                    this._dirtyListeners = {}
                },
                _removeAllListenersInVector: function (t) {
                    if (t) for (var e, i = t.length - 1; i >= 0; i--) (e = t[i])._setRegistered(!1), null != e._getSceneGraphPriority() && (this._dissociateNodeAndEventListener(e._getSceneGraphPriority(), e), e._setSceneGraphPriority(null)), 0 === this._inDispatch && cc.js.array.removeAt(t, i)
                },
                _removeListenersForListenerID: function (t) {
                    var e, i = this._listenersMap[t];
                    if (i) {
                        var n = i.getFixedPriorityListeners(), r = i.getSceneGraphPriorityListeners();
                        this._removeAllListenersInVector(r), this._removeAllListenersInVector(n), delete this._priorityDirtyFlagMap[t], this._inDispatch || (i.clear(), delete this._listenersMap[t])
                    }
                    var s, a = this._toAddedListeners;
                    for (e = a.length - 1; e >= 0; e--) (s = a[e]) && s._getListenerID() === t && cc.js.array.removeAt(a, e)
                },
                _sortEventListeners: function (t) {
                    var e = this.DIRTY_NONE, i = this._priorityDirtyFlagMap;
                    i[t] && (e = i[t]), e !== this.DIRTY_NONE && (i[t] = this.DIRTY_NONE, e & this.DIRTY_FIXED_PRIORITY && this._sortListenersOfFixedPriority(t), e & this.DIRTY_SCENE_GRAPH_PRIORITY && cc.director.getScene() && this._sortListenersOfSceneGraphPriority(t))
                },
                _sortListenersOfSceneGraphPriority: function (t) {
                    var e = this._getListeners(t);
                    if (e) {
                        var i = e.getSceneGraphPriorityListeners();
                        i && 0 !== i.length && e.getSceneGraphPriorityListeners().sort(this._sortEventListenersOfSceneGraphPriorityDes)
                    }
                },
                _sortEventListenersOfSceneGraphPriorityDes: function (t, e) {
                    var i = t._getSceneGraphPriority(), n = e._getSceneGraphPriority();
                    if (!(e && n && n._activeInHierarchy && null !== n._parent)) return -1;
                    if (!t || !i || !i._activeInHierarchy || null === i._parent) return 1;
                    for (var r = i, s = n, a = !1; r._parent._id !== s._parent._id;) r = null === r._parent._parent ? (a = !0) && n : r._parent, s = null === s._parent._parent ? (a = !0) && i : s._parent;
                    if (r._id === s._id) {
                        if (r._id === n._id) return -1;
                        if (r._id === i._id) return 1
                    }
                    return a ? r._localZOrder - s._localZOrder : s._localZOrder - r._localZOrder
                },
                _sortListenersOfFixedPriority: function (t) {
                    var e = this._listenersMap[t];
                    if (e) {
                        var i = e.getFixedPriorityListeners();
                        if (i && 0 !== i.length) {
                            i.sort(this._sortListenersOfFixedPriorityAsc);
                            for (var n = 0, r = i.length; n < r && !(i[n]._getFixedPriority() >= 0);) ++n;
                            e.gt0Index = n
                        }
                    }
                },
                _sortListenersOfFixedPriorityAsc: function (t, e) {
                    return t._getFixedPriority() - e._getFixedPriority()
                },
                _onUpdateListeners: function (t) {
                    var e, i, n, r = t.getFixedPriorityListeners(), s = t.getSceneGraphPriorityListeners(),
                        a = this._toRemovedListeners;
                    if (s) for (e = s.length - 1; e >= 0; e--) (i = s[e])._isRegistered() || (cc.js.array.removeAt(s, e), -1 !== (n = a.indexOf(i)) && a.splice(n, 1));
                    if (r) for (e = r.length - 1; e >= 0; e--) (i = r[e])._isRegistered() || (cc.js.array.removeAt(r, e), -1 !== (n = a.indexOf(i)) && a.splice(n, 1));
                    s && 0 === s.length && t.clearSceneGraphListeners(), r && 0 === r.length && t.clearFixedListeners()
                },
                frameUpdateListeners: function () {
                    var t = this._listenersMap, e = this._priorityDirtyFlagMap;
                    for (var i in t) t[i].empty() && (delete e[i], delete t[i]);
                    var n = this._toAddedListeners;
                    if (0 !== n.length) {
                        for (var r = 0, s = n.length; r < s; r++) this._forceAddEventListener(n[r]);
                        n.length = 0
                    }
                    0 !== this._toRemovedListeners.length && this._cleanToRemovedListeners()
                },
                _updateTouchListeners: function () {
                    var t = this._inDispatch;
                    if (cc.assertID(t > 0, 3508), !(t > 1)) {
                        var e;
                        (e = this._listenersMap[n.TOUCH_ONE_BY_ONE]) && this._onUpdateListeners(e), (e = this._listenersMap[n.TOUCH_ALL_AT_ONCE]) && this._onUpdateListeners(e), cc.assertID(1 === t, 3509);
                        var i = this._toAddedListeners;
                        if (0 !== i.length) {
                            for (var r = 0, s = i.length; r < s; r++) this._forceAddEventListener(i[r]);
                            this._toAddedListeners.length = 0
                        }
                        0 !== this._toRemovedListeners.length && this._cleanToRemovedListeners()
                    }
                },
                _cleanToRemovedListeners: function () {
                    for (var t = this._toRemovedListeners, e = 0; e < t.length; e++) {
                        var i = t[e], n = this._listenersMap[i._getListenerID()];
                        if (n) {
                            var r, s = n.getFixedPriorityListeners(), a = n.getSceneGraphPriorityListeners();
                            a && -1 !== (r = a.indexOf(i)) && a.splice(r, 1), s && -1 !== (r = s.indexOf(i)) && s.splice(r, 1)
                        }
                    }
                    t.length = 0
                },
                _onTouchEventCallback: function (t, e) {
                    if (!t._isRegistered()) return !1;
                    var i = e.event, n = i.currentTouch;
                    i.currentTarget = t._node;
                    var r, s = !1, o = i.getEventCode(), c = cc.Event.EventTouch;
                    if (o === c.BEGAN) {
                        if (!cc.macro.ENABLE_MULTI_TOUCH && a._currentTouch) {
                            var l = a._currentTouchListener._node;
                            if (l && l.activeInHierarchy) return !1
                        }
                        t.onTouchBegan && (s = t.onTouchBegan(n, i)) && t._registered && (t._claimedTouches.push(n), a._currentTouchListener = t, a._currentTouch = n)
                    } else if (t._claimedTouches.length > 0 && -1 !== (r = t._claimedTouches.indexOf(n))) {
                        if (s = !0, !cc.macro.ENABLE_MULTI_TOUCH && a._currentTouch && a._currentTouch !== n) return !1;
                        o === c.MOVED && t.onTouchMoved ? t.onTouchMoved(n, i) : o === c.ENDED ? (t.onTouchEnded && t.onTouchEnded(n, i), t._registered && t._claimedTouches.splice(r, 1), a._clearCurTouch()) : o === c.CANCELED && (t.onTouchCancelled && t.onTouchCancelled(n, i), t._registered && t._claimedTouches.splice(r, 1), a._clearCurTouch())
                    }
                    return i.isStopped() ? (a._updateTouchListeners(i), !0) : !(!s || !t.swallowTouches || (e.needsMutableSet && e.touches.splice(n, 1), 0))
                },
                _dispatchTouchEvent: function (t) {
                    this._sortEventListeners(n.TOUCH_ONE_BY_ONE), this._sortEventListeners(n.TOUCH_ALL_AT_ONCE);
                    var e = this._getListeners(n.TOUCH_ONE_BY_ONE), i = this._getListeners(n.TOUCH_ALL_AT_ONCE);
                    if (null !== e || null !== i) {
                        var r = t.getTouches(), s = cc.js.array.copy(r),
                            a = {event: t, needsMutableSet: e && i, touches: s, selTouch: null};
                        if (e) for (var o = 0; o < r.length; o++) t.currentTouch = r[o], t._propagationStopped = t._propagationImmediateStopped = !1, this._dispatchEventToListeners(e, this._onTouchEventCallback, a);
                        i && s.length > 0 && (this._dispatchEventToListeners(i, this._onTouchesEventCallback, {
                            event: t,
                            touches: s
                        }), t.isStopped()) || this._updateTouchListeners(t)
                    }
                },
                _onTouchesEventCallback: function (t, e) {
                    if (!t._registered) return !1;
                    var i = cc.Event.EventTouch, n = e.event, r = e.touches, s = n.getEventCode();
                    return n.currentTarget = t._node, s === i.BEGAN && t.onTouchesBegan ? t.onTouchesBegan(r, n) : s === i.MOVED && t.onTouchesMoved ? t.onTouchesMoved(r, n) : s === i.ENDED && t.onTouchesEnded ? t.onTouchesEnded(r, n) : s === i.CANCELED && t.onTouchesCancelled && t.onTouchesCancelled(r, n), !!n.isStopped() && (a._updateTouchListeners(n), !0)
                },
                _associateNodeAndEventListener: function (t, e) {
                    var i = this._nodeListenersMap[t._id];
                    i || (i = [], this._nodeListenersMap[t._id] = i), i.push(e)
                },
                _dissociateNodeAndEventListener: function (t, e) {
                    var i = this._nodeListenersMap[t._id];
                    i && (cc.js.array.remove(i, e), 0 === i.length && delete this._nodeListenersMap[t._id])
                },
                _dispatchEventToListeners: function (t, e, i) {
                    var n, r, s = !1, a = t.getFixedPriorityListeners(), o = t.getSceneGraphPriorityListeners(), c = 0;
                    if (a && 0 !== a.length) for (; c < t.gt0Index; ++c) if ((r = a[c]).isEnabled() && !r._isPaused() && r._isRegistered() && e(r, i)) {
                        s = !0;
                        break
                    }
                    if (o && !s) for (n = 0; n < o.length; n++) if ((r = o[n]).isEnabled() && !r._isPaused() && r._isRegistered() && e(r, i)) {
                        s = !0;
                        break
                    }
                    if (a && !s) for (; c < a.length; ++c) if ((r = a[c]).isEnabled() && !r._isPaused() && r._isRegistered() && e(r, i)) {
                        s = !0;
                        break
                    }
                },
                _setDirty: function (t, e) {
                    var i = this._priorityDirtyFlagMap;
                    null == i[t] ? i[t] = e : i[t] = e | i[t]
                },
                _sortNumberAsc: function (t, e) {
                    return t - e
                },
                hasEventListener: function (t) {
                    return !!this._getListeners(t)
                },
                addListener: function (t, e) {
                    if (cc.assertID(t && e, 3503), cc.js.isNumber(e) || e instanceof cc._BaseNode) {
                        if (t instanceof cc.EventListener) {
                            if (t._isRegistered()) return void cc.logID(3505)
                        } else cc.assertID(!cc.js.isNumber(e), 3504), t = cc.EventListener.create(t);
                        if (t.checkAvailable()) {
                            if (cc.js.isNumber(e)) {
                                if (0 === e) return void cc.logID(3500);
                                t._setSceneGraphPriority(null), t._setFixedPriority(e), t._setRegistered(!0), t._setPaused(!1), this._addListener(t)
                            } else t._setSceneGraphPriority(e), t._setFixedPriority(0), t._setRegistered(!0), this._addListener(t);
                            return t
                        }
                    } else cc.warnID(3506)
                },
                addCustomListener: function (t, e) {
                    var i = new cc.EventListener.create({event: cc.EventListener.CUSTOM, eventName: t, callback: e});
                    return this.addListener(i, 1), i
                },
                removeListener: function (t) {
                    if (null != t) {
                        var e, i = this._listenersMap;
                        for (var n in i) {
                            var r = i[n], s = r.getFixedPriorityListeners(), a = r.getSceneGraphPriorityListeners();
                            if ((e = this._removeListenerInVector(a, t)) ? this._setDirty(t._getListenerID(), this.DIRTY_SCENE_GRAPH_PRIORITY) : (e = this._removeListenerInVector(s, t)) && this._setDirty(t._getListenerID(), this.DIRTY_FIXED_PRIORITY), r.empty() && (delete this._priorityDirtyFlagMap[t._getListenerID()], delete i[n]), e) break
                        }
                        if (!e) for (var o = this._toAddedListeners, c = o.length - 1; c >= 0; c--) {
                            var l = o[c];
                            if (l === t) {
                                cc.js.array.removeAt(o, c), l._setRegistered(!1);
                                break
                            }
                        }
                        this._currentTouchListener === t && this._clearCurTouch()
                    }
                },
                _clearCurTouch: function () {
                    this._currentTouchListener = null, this._currentTouch = null
                },
                _removeListenerInCallback: function (t, e) {
                    if (null == t) return !1;
                    for (var i = t.length - 1; i >= 0; i--) {
                        var n = t[i];
                        if (n._onCustomEvent === e || n._onEvent === e) return n._setRegistered(!1), null != n._getSceneGraphPriority() && (this._dissociateNodeAndEventListener(n._getSceneGraphPriority(), n), n._setSceneGraphPriority(null)), 0 === this._inDispatch ? cc.js.array.removeAt(t, i) : this._toRemovedListeners.push(n), !0
                    }
                    return !1
                },
                _removeListenerInVector: function (t, e) {
                    if (null == t) return !1;
                    for (var i = t.length - 1; i >= 0; i--) {
                        var n = t[i];
                        if (n === e) return n._setRegistered(!1), null != n._getSceneGraphPriority() && (this._dissociateNodeAndEventListener(n._getSceneGraphPriority(), n), n._setSceneGraphPriority(null)), 0 === this._inDispatch ? cc.js.array.removeAt(t, i) : this._toRemovedListeners.push(n), !0
                    }
                    return !1
                },
                removeListeners: function (t, e) {
                    var i = this;
                    if (cc.js.isNumber(t) || t instanceof cc._BaseNode) if (void 0 !== t._id) {
                        var r, s = i._nodeListenersMap[t._id];
                        if (s) {
                            var a = cc.js.array.copy(s);
                            for (r = 0; r < a.length; r++) i.removeListener(a[r]);
                            delete i._nodeListenersMap[t._id]
                        }
                        var o = i._toAddedListeners;
                        for (r = 0; r < o.length;) {
                            var c = o[r];
                            c._getSceneGraphPriority() === t ? (c._setSceneGraphPriority(null), c._setRegistered(!1), o.splice(r, 1)) : ++r
                        }
                        if (!0 === e) {
                            var l, h = t.children;
                            for (r = 0, l = h.length; r < l; r++) i.removeListeners(h[r], !0)
                        }
                    } else t === cc.EventListener.TOUCH_ONE_BY_ONE ? i._removeListenersForListenerID(n.TOUCH_ONE_BY_ONE) : t === cc.EventListener.TOUCH_ALL_AT_ONCE ? i._removeListenersForListenerID(n.TOUCH_ALL_AT_ONCE) : t === cc.EventListener.MOUSE ? i._removeListenersForListenerID(n.MOUSE) : t === cc.EventListener.ACCELERATION ? i._removeListenersForListenerID(n.ACCELERATION) : t === cc.EventListener.KEYBOARD ? i._removeListenersForListenerID(n.KEYBOARD) : cc.logID(3501); else cc.warnID(3506)
                },
                removeCustomListeners: function (t) {
                    this._removeListenersForListenerID(t)
                },
                removeAllListeners: function () {
                    var t = this._listenersMap, e = this._internalCustomListenerIDs;
                    for (var i in t) -1 === e.indexOf(i) && this._removeListenersForListenerID(i)
                },
                setPriority: function (t, e) {
                    if (null != t) {
                        var i = this._listenersMap;
                        for (var n in i) {
                            var r = i[n].getFixedPriorityListeners();
                            if (r && -1 !== r.indexOf(t)) return null != t._getSceneGraphPriority() && cc.logID(3502), void (t._getFixedPriority() !== e && (t._setFixedPriority(e), this._setDirty(t._getListenerID(), this.DIRTY_FIXED_PRIORITY)))
                        }
                    }
                },
                setEnabled: function (t) {
                    this._isEnabled = t
                },
                isEnabled: function () {
                    return this._isEnabled
                },
                dispatchEvent: function (t) {
                    if (this._isEnabled) if (this._updateDirtyFlagForSceneGraph(), this._inDispatch++, t && t.getType) {
                        if (t.getType().startsWith(cc.Event.TOUCH)) return this._dispatchTouchEvent(t), void this._inDispatch--;
                        var e = s(t);
                        this._sortEventListeners(e);
                        var i = this._listenersMap[e];
                        null != i && (this._dispatchEventToListeners(i, this._onListenerCallback, t), this._onUpdateListeners(i)), this._inDispatch--
                    } else cc.errorID(3511)
                },
                _onListenerCallback: function (t, e) {
                    return e.currentTarget = t._target, t._onEvent(e), e.isStopped()
                },
                dispatchCustomEvent: function (t, e) {
                    var i = new cc.Event.EventCustom(t);
                    i.setUserData(e), this.dispatchEvent(i)
                }
            };
            i.get(cc, "eventManager", (function () {
                return cc.errorID(1405, "cc.eventManager", "cc.EventTarget or cc.systemEvent"), a
            })), e.exports = cc.internal.eventManager = a
        }), {"../platform/js": 188, "./CCEventListener": 135}],
        137: [(function () {
            "use strict";
            cc.Touch = function (t, e, i) {
                this._lastModified = 0, this.setTouchInfo(i, t, e)
            }, cc.Touch.prototype = {
                constructor: cc.Touch, getLocation: function () {
                    return cc.v2(this._point.x, this._point.y)
                }, getLocationX: function () {
                    return this._point.x
                }, getLocationY: function () {
                    return this._point.y
                }, getPreviousLocation: function () {
                    return cc.v2(this._prevPoint.x, this._prevPoint.y)
                }, getStartLocation: function () {
                    return cc.v2(this._startPoint.x, this._startPoint.y)
                }, getDelta: function () {
                    return this._point.sub(this._prevPoint)
                }, getLocationInView: function () {
                    return cc.v2(this._point.x, cc.view._designResolutionSize.height - this._point.y)
                }, getPreviousLocationInView: function () {
                    return cc.v2(this._prevPoint.x, cc.view._designResolutionSize.height - this._prevPoint.y)
                }, getStartLocationInView: function () {
                    return cc.v2(this._startPoint.x, cc.view._designResolutionSize.height - this._startPoint.y)
                }, getID: function () {
                    return this._id
                }, setTouchInfo: function (t, e, i) {
                    this._prevPoint = this._point, this._point = cc.v2(e || 0, i || 0), this._id = t, this._startPointCaptured || (this._startPoint = cc.v2(this._point), cc.view._convertPointWithScale(this._startPoint), this._startPointCaptured = !0)
                }, _setPoint: function (t, e) {
                    void 0 === e ? (this._point.x = t.x, this._point.y = t.y) : (this._point.x = t, this._point.y = e)
                }, _setPrevPoint: function (t, e) {
                    this._prevPoint = void 0 === e ? cc.v2(t.x, t.y) : cc.v2(t || 0, e || 0)
                }
            }
        }), {}],
        138: [(function (t, e) {
            "use strict";
            t("./CCEvent"), t("./CCTouch"), t("./CCEventListener");
            var i = t("./CCEventManager");
            e.exports = i
        }), {"./CCEvent": 134, "./CCEventListener": 135, "./CCEventManager": 136, "./CCTouch": 137}],
        139: [(function (t, e) {
            "use strict";
            var i = cc.js, n = t("../platform/callbacks-invoker");

            function r() {
                n.call(this)
            }

            i.extend(r, n), r.prototype.emit = function (t, e) {
                var i = t.type, n = this._callbackTable[i];
                if (n) {
                    var r = !n.isInvoking;
                    n.isInvoking = !0;
                    for (var s = n.callbackInfos, a = 0, o = s.length; a < o; ++a) {
                        var c = s[a];
                        if (c && c.callback && (c.callback.call(c.target, t, e), t._propagationImmediateStopped)) break
                    }
                    r && (n.isInvoking = !1, n.containCanceled && n.purgeCanceled())
                }
            }, e.exports = r
        }), {"../platform/callbacks-invoker": 180}],
        140: [(function (t, e) {
            "use strict";
            var i = t("../platform/js"), n = t("../platform/callbacks-invoker"), r = i.array.fastRemove;

            function s() {
                n.call(this)
            }

            i.extend(s, n);
            var a = s.prototype;
            a.__on = a.on, a.on = function (t, e, i, n) {
                if (e) return this.hasEventListener(t, e, i) || (this.__on(t, e, i, n), i && i.__eventTargets && i.__eventTargets.push(this)), e;
                cc.errorID(6800)
            }, a.__off = a.off, a.off = function (t, e, i) {
                if (e) this.__off(t, e, i), i && i.__eventTargets && r(i.__eventTargets, this); else {
                    var n = this._callbackTable[t];
                    if (!n) return;
                    for (var s = n.callbackInfos, a = 0; a < s.length; ++a) {
                        var o = s[a] && s[a].target;
                        o && o.__eventTargets && r(o.__eventTargets, this)
                    }
                    this.removeAll(t)
                }
            }, a.targetOff = function (t) {
                this.removeAll(t), t && t.__eventTargets && r(t.__eventTargets, this)
            }, a.once = function (t, e, i) {
                this.on(t, e, i, !0)
            }, a.dispatchEvent = function (t) {
                this.emit(t.type, t)
            }, a.clear = function () {
                for (var t in this._callbackTable) for (var e = this._callbackTable[t].callbackInfos, i = e.length - 1; i >= 0; i--) {
                    var n = e[i];
                    n && this.off(t, n.callback, n.target)
                }
            }, cc.EventTarget = e.exports = s
        }), {"../platform/callbacks-invoker": 180, "../platform/js": 188}],
        141: [(function (t, e) {
            "use strict";
            var i = t("../platform/js");
            cc.Event = function (t, e) {
                this.type = t, this.bubbles = !!e, this.target = null, this.currentTarget = null, this.eventPhase = 0, this._propagationStopped = !1, this._propagationImmediateStopped = !1
            }, cc.Event.prototype = {
                constructor: cc.Event, unuse: function () {
                    this.type = cc.Event.NO_TYPE, this.target = null, this.currentTarget = null, this.eventPhase = cc.Event.NONE, this._propagationStopped = !1, this._propagationImmediateStopped = !1
                }, reuse: function (t, e) {
                    this.type = t, this.bubbles = e || !1
                }, stopPropagation: function () {
                    this._propagationStopped = !0
                }, stopPropagationImmediate: function () {
                    this._propagationImmediateStopped = !0
                }, isStopped: function () {
                    return this._propagationStopped || this._propagationImmediateStopped
                }, getCurrentTarget: function () {
                    return this.currentTarget
                }, getType: function () {
                    return this.type
                }
            }, cc.Event.NO_TYPE = "no_type", cc.Event.TOUCH = "touch", cc.Event.MOUSE = "mouse", cc.Event.KEYBOARD = "keyboard", cc.Event.ACCELERATION = "acceleration", cc.Event.NONE = 0, cc.Event.CAPTURING_PHASE = 1, cc.Event.AT_TARGET = 2, cc.Event.BUBBLING_PHASE = 3;
            var n = function (t, e) {
                cc.Event.call(this, t, e), this.detail = null
            };
            i.extend(n, cc.Event), n.prototype.reset = n, n.prototype.setUserData = function (t) {
                this.detail = t
            }, n.prototype.getUserData = function () {
                return this.detail
            }, n.prototype.getEventName = cc.Event.prototype.getType;
            var r = new i.Pool(10);
            n.put = function (t) {
                r.put(t)
            }, n.get = function (t, e) {
                var i = r._get();
                return i ? i.reset(t, e) : i = new n(t, e), i
            }, cc.Event.EventCustom = n, e.exports = cc.Event
        }), {"../platform/js": 188}],
        142: [(function (t) {
            "use strict";
            t("./event"), t("./event-listeners"), t("./event-target"), t("./system-event")
        }), {"./event": 141, "./event-listeners": 139, "./event-target": 140, "./system-event": 143}],
        143: [(function (t, e) {
            "use strict";
            var i = t("../event/event-target"), n = t("../event-manager"), r = t("../platform/CCInputManager"),
                s = cc.Enum({KEY_DOWN: "keydown", KEY_UP: "keyup", DEVICEMOTION: "devicemotion"}), a = null, o = null,
                c = cc.Class({
                    name: "SystemEvent", extends: i, statics: {EventType: s}, setAccelerometerEnabled: function (t) {
                        t && window.DeviceMotionEvent && "function" == typeof DeviceMotionEvent.requestPermission ? DeviceMotionEvent.requestPermission().then((function (t) {
                            console.log("Device Motion Event request permission: " + t), r.setAccelerometerEnabled("granted" === t)
                        })) : r.setAccelerometerEnabled(t)
                    }, setAccelerometerInterval: function (t) {
                        r.setAccelerometerInterval(t)
                    }, on: function (t, e, i, r) {
                        this._super(t, e, i, r), t !== s.KEY_DOWN && t !== s.KEY_UP || (a || (a = cc.EventListener.create({
                            event: cc.EventListener.KEYBOARD,
                            onKeyPressed: function (t, e) {
                                e.type = s.KEY_DOWN, cc.systemEvent.dispatchEvent(e)
                            },
                            onKeyReleased: function (t, e) {
                                e.type = s.KEY_UP, cc.systemEvent.dispatchEvent(e)
                            }
                        })), n.hasEventListener(cc.EventListener.ListenerID.KEYBOARD) || n.addListener(a, 1)), t === s.DEVICEMOTION && (o || (o = cc.EventListener.create({
                            event: cc.EventListener.ACCELERATION,
                            callback: function (t, e) {
                                e.type = s.DEVICEMOTION, cc.systemEvent.dispatchEvent(e)
                            }
                        })), n.hasEventListener(cc.EventListener.ListenerID.ACCELERATION) || n.addListener(o, 1))
                    }, off: function (t, e, i) {
                        if (this._super(t, e, i), a && (t === s.KEY_DOWN || t === s.KEY_UP)) {
                            var r = this.hasEventListener(s.KEY_DOWN), c = this.hasEventListener(s.KEY_UP);
                            r || c || n.removeListener(a)
                        }
                        o && t === s.DEVICEMOTION && n.removeListener(o)
                    }
                });
            cc.SystemEvent = e.exports = c, cc.systemEvent = new cc.SystemEvent
        }), {"../event-manager": 138, "../event/event-target": 140, "../platform/CCInputManager": 171}],
        144: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = a(t("../value-types/vec3")), r = a(t("../value-types/mat3")), s = a(t("./enums"));

            function a(t) {
                return t && t.__esModule ? t : {default: t}
            }

            var o = new n.default, c = new n.default, l = new r.default, h = function (t, e, i) {
                var r = l.m, s = i.m;
                r[0] = Math.abs(s[0]), r[1] = Math.abs(s[1]), r[2] = Math.abs(s[2]), r[3] = Math.abs(s[4]), r[4] = Math.abs(s[5]), r[5] = Math.abs(s[6]), r[6] = Math.abs(s[8]), r[7] = Math.abs(s[9]), r[8] = Math.abs(s[10]), n.default.transformMat3(t, e, l)
            }, u = (function () {
                function t(t, e, i, r, a, o) {
                    this.center = void 0, this.halfExtents = void 0, this._type = void 0, this._type = s.default.SHAPE_AABB, this.center = new n.default(t, e, i), this.halfExtents = new n.default(r, a, o)
                }

                t.create = function (e, i, n, r, s, a) {
                    return new t(e, i, n, r, s, a)
                }, t.clone = function (e) {
                    return new t(e.center.x, e.center.y, e.center.z, e.halfExtents.x, e.halfExtents.y, e.halfExtents.z)
                }, t.copy = function (t, e) {
                    return n.default.copy(t.center, e.center), n.default.copy(t.halfExtents, e.halfExtents), t
                }, t.fromPoints = function (t, e, i) {
                    return n.default.scale(t.center, n.default.add(o, e, i), .5), n.default.scale(t.halfExtents, n.default.sub(c, i, e), .5), t
                }, t.set = function (t, e, i, r, s, a, o) {
                    return n.default.set(t.center, e, i, r), n.default.set(t.halfExtents, s, a, o), t
                };
                var e = t.prototype;
                return e.getBoundary = function (t, e) {
                    n.default.sub(t, this.center, this.halfExtents), n.default.add(e, this.center, this.halfExtents)
                }, e.transform = function (t, e, i, r, s) {
                    s || (s = this), n.default.transformMat4(s.center, this.center, t), h(s.halfExtents, this.halfExtents, t)
                }, t
            })();
            i.default = u, e.exports = i.default
        }), {"../value-types/mat3": 266, "../value-types/vec3": 275, "./enums": 146}],
        145: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.point_plane = f, i.pt_point_aabb = function (t, e, i) {
                return n.Vec3.copy(t, e), n.Vec3.subtract(c, i.center, i.halfExtents), n.Vec3.add(l, i.center, i.halfExtents), t.x = t.x < c.x ? c.x : t.x, t.y = t.y < c.x ? c.y : t.y, t.z = t.z < c.x ? c.z : t.z, t.x = t.x > l.x ? l.x : t.x, t.y = t.y > l.x ? l.y : t.y, t.z = t.z > l.x ? l.z : t.z, t
            }, i.pt_point_obb = function (t, e, i) {
                var c = i.orientation.m;
                n.Vec3.set(r, c[0], c[1], c[2]), n.Vec3.set(s, c[3], c[4], c[5]), n.Vec3.set(a, c[6], c[7], c[8]), h[0] = r, h[1] = s, h[2] = a, u[0] = i.halfExtents.x, u[1] = i.halfExtents.y, u[2] = i.halfExtents.z, n.Vec3.subtract(o, e, i.center), n.Vec3.set(t, i.center.x, i.center.y, i.center.z);
                for (var l = 0; l < 3; l++) {
                    var f = n.Vec3.dot(o, h[l]);
                    f > u[l] && (f = u[l]), f < -u[l] && (f = -u[l]), t.x += f * h[l].x, t.y += f * h[l].y, t.z += f * h[l].z
                }
                return t
            }, i.pt_point_plane = function (t, e, i) {
                var r = f(e, i);
                return n.Vec3.subtract(t, e, n.Vec3.multiplyScalar(t, i.n, r))
            };
            var n = t("../value-types"), r = new n.Vec3, s = new n.Vec3, a = new n.Vec3, o = new n.Vec3, c = new n.Vec3,
                l = new n.Vec3, h = new Array(3), u = new Array(3);

            function f(t, e) {
                return n.Vec3.dot(e.n, t) - e.d
            }
        }), {"../value-types": 265}],
        146: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0, i.default = {
                SHAPE_RAY: 1,
                SHAPE_LINE: 2,
                SHAPE_SPHERE: 4,
                SHAPE_AABB: 8,
                SHAPE_OBB: 16,
                SHAPE_PLANE: 32,
                SHAPE_TRIANGLE: 64,
                SHAPE_FRUSTUM: 128,
                SHAPE_FRUSTUM_ACCURATE: 256
            }, e.exports = i.default
        }), {}],
        147: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = t("../value-types"), r = a(t("./enums")), s = a(t("./plane"));

            function a(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function o(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = c(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function c(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            var l = new Array(8);
            l[0] = new n.Vec3(1, 1, 1), l[1] = new n.Vec3(-1, 1, 1), l[2] = new n.Vec3(-1, -1, 1), l[3] = new n.Vec3(1, -1, 1), l[4] = new n.Vec3(1, 1, -1), l[5] = new n.Vec3(-1, 1, -1), l[6] = new n.Vec3(-1, -1, -1), l[7] = new n.Vec3(1, -1, -1);
            var h, u = (function () {
                function t() {
                    this.planes = void 0, this.vertices = void 0, this._type = void 0, this._type = r.default.SHAPE_FRUSTUM, this.planes = new Array(6);
                    for (var t = 0; t < 6; ++t) this.planes[t] = s.default.create(0, 0, 0, 0);
                    this.vertices = new Array(8);
                    for (var e = 0; e < 8; ++e) this.vertices[e] = new n.Vec3
                }

                t.create = function () {
                    return new t
                }, t.clone = function (e) {
                    return t.copy(new t, e)
                }, t.copy = function (t, e) {
                    t._type = e._type;
                    for (var i = 0; i < 6; ++i) s.default.copy(t.planes[i], e.planes[i]);
                    for (var r = 0; r < 8; ++r) n.Vec3.copy(t.vertices[r], e.vertices[r]);
                    return t
                };
                var e, i, a = t.prototype;
                return a.update = function (t, e) {
                    var i = t.m;
                    if (n.Vec3.set(this.planes[0].n, i[3] + i[0], i[7] + i[4], i[11] + i[8]), this.planes[0].d = -(i[15] + i[12]), n.Vec3.set(this.planes[1].n, i[3] - i[0], i[7] - i[4], i[11] - i[8]), this.planes[1].d = -(i[15] - i[12]), n.Vec3.set(this.planes[2].n, i[3] + i[1], i[7] + i[5], i[11] + i[9]), this.planes[2].d = -(i[15] + i[13]), n.Vec3.set(this.planes[3].n, i[3] - i[1], i[7] - i[5], i[11] - i[9]), this.planes[3].d = -(i[15] - i[13]), n.Vec3.set(this.planes[4].n, i[3] + i[2], i[7] + i[6], i[11] + i[10]), this.planes[4].d = -(i[15] + i[14]), n.Vec3.set(this.planes[5].n, i[3] - i[2], i[7] - i[6], i[11] - i[10]), this.planes[5].d = -(i[15] - i[14]), this._type === r.default.SHAPE_FRUSTUM_ACCURATE) {
                        for (var s = 0; s < 6; s++) {
                            var a = this.planes[s], o = 1 / a.n.length();
                            n.Vec3.multiplyScalar(a.n, a.n, o), a.d *= o
                        }
                        for (var c = 0; c < 8; c++) n.Vec3.transformMat4(this.vertices[c], l[c], e)
                    }
                }, a.transform = function (t) {
                    if (this._type === r.default.SHAPE_FRUSTUM_ACCURATE) {
                        for (var e = 0; e < 8; e++) n.Vec3.transformMat4(this.vertices[e], this.vertices[e], t);
                        s.default.fromPoints(this.planes[0], this.vertices[1], this.vertices[5], this.vertices[6]), s.default.fromPoints(this.planes[1], this.vertices[3], this.vertices[7], this.vertices[4]), s.default.fromPoints(this.planes[2], this.vertices[6], this.vertices[7], this.vertices[3]), s.default.fromPoints(this.planes[3], this.vertices[0], this.vertices[4], this.vertices[5]), s.default.fromPoints(this.planes[4], this.vertices[2], this.vertices[3], this.vertices[0]), s.default.fromPoints(this.planes[0], this.vertices[7], this.vertices[6], this.vertices[5])
                    }
                }, e = t, (i = [{
                    key: "accurate", set: function (t) {
                        this._type = t ? r.default.SHAPE_FRUSTUM_ACCURATE : r.default.SHAPE_FRUSTUM
                    }
                }]) && o(e.prototype, i), Object.defineProperty(e, "prototype", {writable: !1}), t
            })();
            i.default = u, u.createOrtho = (h = new n.Vec3, function (t, e, i, r, a, o) {
                var c = e / 2, l = i / 2;
                n.Vec3.set(h, c, l, r), n.Vec3.transformMat4(t.vertices[0], h, o), n.Vec3.set(h, -c, l, r), n.Vec3.transformMat4(t.vertices[1], h, o), n.Vec3.set(h, -c, -l, r), n.Vec3.transformMat4(t.vertices[2], h, o), n.Vec3.set(h, c, -l, r), n.Vec3.transformMat4(t.vertices[3], h, o), n.Vec3.set(h, c, l, a), n.Vec3.transformMat4(t.vertices[4], h, o), n.Vec3.set(h, -c, l, a), n.Vec3.transformMat4(t.vertices[5], h, o), n.Vec3.set(h, -c, -l, a), n.Vec3.transformMat4(t.vertices[6], h, o), n.Vec3.set(h, c, -l, a), n.Vec3.transformMat4(t.vertices[7], h, o), s.default.fromPoints(t.planes[0], t.vertices[1], t.vertices[6], t.vertices[5]), s.default.fromPoints(t.planes[1], t.vertices[3], t.vertices[4], t.vertices[7]), s.default.fromPoints(t.planes[2], t.vertices[6], t.vertices[3], t.vertices[7]), s.default.fromPoints(t.planes[3], t.vertices[0], t.vertices[5], t.vertices[4]), s.default.fromPoints(t.planes[4], t.vertices[2], t.vertices[0], t.vertices[3]), s.default.fromPoints(t.planes[0], t.vertices[7], t.vertices[5], t.vertices[6])
            }), e.exports = i.default
        }), {"../value-types": 265, "./enums": 146, "./plane": 152}],
        148: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0;
            var n = {
                enums: !0,
                Triangle: !0,
                Aabb: !0,
                Ray: !0,
                intersect: !0,
                Sphere: !0,
                Obb: !0,
                Frustum: !0,
                Line: !0,
                Plane: !0
            };
            i.intersect = i.enums = i.Triangle = i.Sphere = i.Ray = i.Plane = i.Obb = i.Line = i.Frustum = i.Aabb = void 0;
            var r = p(t("./enums"));
            i.enums = r.default;
            var s = p(t("./triangle"));
            i.Triangle = s.default;
            var a = p(t("./aabb"));
            i.Aabb = a.default;
            var o = p(t("./ray"));
            i.Ray = o.default;
            var c = p(t("./intersect"));
            i.intersect = c.default;
            var l = p(t("./sphere"));
            i.Sphere = l.default;
            var h = p(t("./obb"));
            i.Obb = h.default;
            var u = p(t("./frustum"));
            i.Frustum = u.default;
            var f = p(t("./line"));
            i.Line = f.default;
            var d = p(t("./plane"));
            i.Plane = d.default;
            var _ = t("./distance");

            function p(t) {
                return t && t.__esModule ? t : {default: t}
            }

            Object.keys(_).forEach((function (t) {
                "default" !== t && "__esModule" !== t && (Object.prototype.hasOwnProperty.call(n, t) || t in i && i[t] === _[t] || (i[t] = _[t]))
            })), cc.geomUtils = e.exports
        }), {
            "./aabb": 144,
            "./distance": 145,
            "./enums": 146,
            "./frustum": 147,
            "./intersect": 149,
            "./line": 150,
            "./obb": 151,
            "./plane": 152,
            "./ray": 153,
            "./sphere": 154,
            "./triangle": 155
        }],
        149: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = f(t("../../renderer/gfx")), r = f(t("../../renderer/memop/recycle-pool")), s = t("../value-types"),
                a = f(t("./aabb")), o = (function (t) {
                    if (t && t.__esModule) return t;
                    if (null === t || "object" != typeof t && "function" != typeof t) return {default: t};
                    var e = u(void 0);
                    if (e && e.has(t)) return e.get(t);
                    var i = {}, n = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var r in t) if ("default" !== r && Object.prototype.hasOwnProperty.call(t, r)) {
                        var s = n ? Object.getOwnPropertyDescriptor(t, r) : null;
                        s && (s.get || s.set) ? Object.defineProperty(i, r, s) : i[r] = t[r]
                    }
                    return i.default = t, e && e.set(t, i), i
                })(t("./distance")), c = f(t("./enums")), l = f(t("./ray")), h = f(t("./triangle"));

            function u(t) {
                if ("function" != typeof WeakMap) return null;
                var e = new WeakMap, i = new WeakMap;
                return (u = function (t) {
                    return t ? i : e
                })(t)
            }

            function f(t) {
                return t && t.__esModule ? t : {default: t}
            }

            var d, _, p, v, g, m, y, T, E, A, b, x, C, S, w, M = (function () {
                    var t = h.default.create(), e = 1 / 0;

                    function i(t, e, i, n) {
                        s.Vec3.set(t, e[i * n], e[i * n + 1], e[i * n + 2])
                    }

                    return function (r, s) {
                        e = 1 / 0;
                        for (var a = s._subMeshes, o = 0; o < a.length; o++) if (a[o]._primitiveType === n.default.PT_TRIANGLES) for (var c = s._subDatas[o] || s._subDatas[0], l = s._getAttrMeshData(o, n.default.ATTR_POSITION), h = c.getIData(Uint16Array), u = c.vfm.element(n.default.ATTR_POSITION).num, f = 0; f < h.length; f += 3) {
                            i(t.a, l, h[f], u), i(t.b, l, h[f + 1], u), i(t.c, l, h[f + 2], u);
                            var d = D(r, t);
                            d > 0 && d < e && (e = d)
                        }
                        return e
                    }
                })(), R = (function () {
                    function t(e, i) {
                        for (var n = e.children, r = n.length - 1; r >= 0; r--) t(n[r], i);
                        i(e)
                    }

                    function e(t, e) {
                        return t.distance - e.distance
                    }

                    function i(t, e, i) {
                        var n = i.m, r = e.x, s = e.y, a = e.z, o = n[3] * r + n[7] * s + n[11] * a;
                        return o = o ? 1 / o : 1, t.x = (n[0] * r + n[4] * s + n[8] * a) * o, t.y = (n[1] * r + n[5] * s + n[9] * a) * o, t.z = (n[2] * r + n[6] * s + n[10] * a) * o, t
                    }

                    var n = new r.default(function () {
                            return {distance: 0, node: null}
                        }, 1), o = [], c = a.default.create(), h = new s.Vec3, u = new s.Vec3, f = new l.default, d = cc.mat4(),
                        _ = cc.mat4(), p = new s.Vec3;

                    function v(t) {
                        return t > 0 && t < 1 / 0
                    }

                    return function (r, l, g, m) {
                        return n.reset(), o.length = 0, t(r = r || cc.director.getScene(), (function (t) {
                            if (!m || m(t)) {
                                s.Mat4.invert(_, t.getWorldMatrix(d)), s.Vec3.transformMat4(f.o, l.o, _), s.Vec3.normalize(f.d, i(f.d, l.d, _));
                                var e = 1 / 0, r = t._renderComponent;
                                if (r instanceof cc.MeshRenderer ? e = B(f, r._boundingBox) : t.width && t.height && (s.Vec3.set(h, -t.width * t.anchorX, -t.height * t.anchorY, t.z), s.Vec3.set(u, t.width * (1 - t.anchorX), t.height * (1 - t.anchorY), t.z), a.default.fromPoints(c, h, u), e = B(f, c)), v(e) && (g && (e = g(f, t, e)), v(e))) {
                                    s.Vec3.scale(p, f.d, e), i(p, p, d);
                                    var y = n.add();
                                    y.node = t, y.distance = s.Vec3.mag(p), o.push(y)
                                }
                            }
                        })), o.sort(e), o
                    }
                })(), I = (d = new s.Vec3(0, 0, 0), function (t, e) {
                    var i = s.Vec3.dot(t.d, e.n);
                    if (Math.abs(i) < Number.EPSILON) return 0;
                    s.Vec3.multiplyScalar(d, e.n, e.d);
                    var n = s.Vec3.dot(s.Vec3.subtract(d, d, t.o), e.n) / i;
                    return n < 0 ? 0 : n
                }), O = (_ = new s.Vec3(0, 0, 0), function (t, e) {
                    s.Vec3.subtract(_, t.e, t.s);
                    var i = (e.d - s.Vec3.dot(t.s, e.n)) / s.Vec3.dot(_, e.n);
                    return i < 0 || i > 1 ? 0 : i
                }), D = (function () {
                    var t = new s.Vec3(0, 0, 0), e = new s.Vec3(0, 0, 0), i = new s.Vec3(0, 0, 0), n = new s.Vec3(0, 0, 0),
                        r = new s.Vec3(0, 0, 0);
                    return function (a, o, c) {
                        s.Vec3.subtract(t, o.b, o.a), s.Vec3.subtract(e, o.c, o.a), s.Vec3.cross(i, a.d, e);
                        var l = s.Vec3.dot(t, i);
                        if (l < Number.EPSILON && (!c || l > -Number.EPSILON)) return 0;
                        var h = 1 / l;
                        s.Vec3.subtract(n, a.o, o.a);
                        var u = s.Vec3.dot(n, i) * h;
                        if (u < 0 || u > 1) return 0;
                        s.Vec3.cross(r, n, t);
                        var f = s.Vec3.dot(a.d, r) * h;
                        if (f < 0 || u + f > 1) return 0;
                        var d = s.Vec3.dot(e, r) * h;
                        return d < 0 ? 0 : d
                    }
                })(), P = D, L = (function () {
                    var t = new s.Vec3(0, 0, 0), e = new s.Vec3(0, 0, 0), i = new s.Vec3(0, 0, 0), n = new s.Vec3(0, 0, 0),
                        r = new s.Vec3(0, 0, 0), a = new s.Vec3(0, 0, 0);
                    return function (o, c, l) {
                        s.Vec3.subtract(t, c.b, c.a), s.Vec3.subtract(e, c.c, c.a), s.Vec3.subtract(i, o.s, o.e), s.Vec3.cross(r, t, e);
                        var h = s.Vec3.dot(i, r);
                        if (h <= 0) return 0;
                        s.Vec3.subtract(n, o.s, c.a);
                        var u = s.Vec3.dot(n, r);
                        if (u < 0 || u > h) return 0;
                        s.Vec3.cross(a, i, n);
                        var f = s.Vec3.dot(e, a);
                        if (f < 0 || f > h) return 0;
                        var d = -s.Vec3.dot(t, a);
                        if (d < 0 || f + d > h) return 0;
                        if (l) {
                            var _ = 1 / h, p = 1 - (f *= _) - (d *= _);
                            s.Vec3.set(l, c.a.x * p + c.b.x * f + c.c.x * d, c.a.y * p + c.b.y * f + c.c.y * d, c.a.z * p + c.b.z * f + c.c.z * d)
                        }
                        return 1
                    }
                })(),
                N = (p = new s.Vec3(0, 0, 0), v = new s.Vec3(0, 0, 0), g = new s.Vec3(0, 0, 0), m = new s.Vec3(0, 0, 0), y = new s.Vec3(0, 0, 0), T = new s.Vec3(0, 0, 0), E = new s.Vec3(0, 0, 0), function (t, e, i, n, r, a, o) {
                    s.Vec3.subtract(p, e, t), s.Vec3.subtract(v, i, t), s.Vec3.subtract(g, n, t), s.Vec3.subtract(m, r, t), s.Vec3.cross(T, m, p);
                    var c = s.Vec3.dot(v, T);
                    if (c >= 0) {
                        var l = -s.Vec3.dot(g, T);
                        if (l < 0) return 0;
                        var h = s.Vec3.dot(s.Vec3.cross(E, p, g), v);
                        if (h < 0) return 0;
                        if (o) {
                            var u = 1 / (l + c + h);
                            l *= u, c *= u, h *= u, s.Vec3.set(o, i.x * l + n.x * c + r.x * h, i.y * l + n.y * c + r.y * h, i.z * l + n.z * c + r.z * h)
                        }
                    } else {
                        s.Vec3.subtract(y, a, t);
                        var f = s.Vec3.dot(y, T);
                        if (f < 0) return 0;
                        var d = s.Vec3.dot(s.Vec3.cross(E, p, v), y);
                        if (d < 0) return 0;
                        if (o) {
                            var _ = 1 / (f + (c = -c) + d);
                            f *= _, c *= _, d *= _, s.Vec3.set(o, i.x * f + a.x * c + r.x * d, i.y * f + a.y * c + r.y * d, i.z * f + a.z * c + r.z * d)
                        }
                    }
                    return 1
                }), F = (function () {
                    var t = new s.Vec3(0, 0, 0);
                    return function (e, i) {
                        var n = i.radius, r = i.center, a = e.o, o = e.d, c = n * n;
                        s.Vec3.subtract(t, r, a);
                        var l = t.lengthSqr(), h = s.Vec3.dot(t, o), u = c - (l - h * h);
                        if (u < 0) return 0;
                        var f = Math.sqrt(u), d = l < c ? h + f : h - f;
                        return d < 0 ? 0 : d
                    }
                })(), B = (A = new s.Vec3, b = new s.Vec3, function (t, e) {
                    var i = t.o, n = t.d, r = 1 / n.x, a = 1 / n.y, o = 1 / n.z;
                    s.Vec3.subtract(A, e.center, e.halfExtents), s.Vec3.add(b, e.center, e.halfExtents);
                    var c = (A.x - i.x) * r, l = (b.x - i.x) * r, h = (A.y - i.y) * a, u = (b.y - i.y) * a,
                        f = (A.z - i.z) * o, d = (b.z - i.z) * o,
                        _ = Math.max(Math.max(Math.min(c, l), Math.min(h, u)), Math.min(f, d)),
                        p = Math.min(Math.min(Math.max(c, l), Math.max(h, u)), Math.max(f, d));
                    return p < 0 || _ > p ? 0 : _
                }), k = B, V = (function () {
                    var t = new s.Vec3, e = new s.Vec3, i = new s.Vec3, n = new s.Vec3, r = new s.Vec3, a = new s.Vec3,
                        o = new s.Vec3, c = new Array(3), l = new Array(3), h = new Array(3), u = new Array(6);
                    return function (f, d) {
                        c[0] = d.halfExtents.x, c[1] = d.halfExtents.y, c[2] = d.halfExtents.z, t = d.center, e = f.o, i = f.d;
                        var _ = d.orientation.m;
                        s.Vec3.set(n, _[0], _[1], _[2]), s.Vec3.set(r, _[3], _[4], _[5]), s.Vec3.set(a, _[6], _[7], _[8]), s.Vec3.subtract(o, t, e), l[0] = s.Vec3.dot(n, i), l[1] = s.Vec3.dot(r, i), l[2] = s.Vec3.dot(a, i), h[0] = s.Vec3.dot(n, o), h[1] = s.Vec3.dot(r, o), h[2] = s.Vec3.dot(a, o);
                        for (var p = 0; p < 3; ++p) {
                            if (0 === l[p]) {
                                if (-h[p] - c[p] > 0 || -h[p] + c[p] < 0) return 0;
                                l[p] = 1e-7
                            }
                            u[2 * p + 0] = (h[p] + c[p]) / l[p], u[2 * p + 1] = (h[p] - c[p]) / l[p]
                        }
                        var v = Math.max(Math.max(Math.min(u[0], u[1]), Math.min(u[2], u[3])), Math.min(u[4], u[5])),
                            g = Math.min(Math.min(Math.max(u[0], u[1]), Math.max(u[2], u[3])), Math.max(u[4], u[5]));
                        return g < 0 || v > g || v < 0 ? 0 : v
                    }
                })(), U = (x = new s.Vec3, C = new s.Vec3, S = new s.Vec3, w = new s.Vec3, function (t, e) {
                    return s.Vec3.subtract(x, t.center, t.halfExtents), s.Vec3.add(C, t.center, t.halfExtents), s.Vec3.subtract(S, e.center, e.halfExtents), s.Vec3.add(w, e.center, e.halfExtents), x.x <= w.x && C.x >= S.x && x.y <= w.y && C.y >= S.y && x.z <= w.z && C.z >= S.z
                });

            function z(t, e, i) {
                s.Vec3.set(i[0], t.x, e.y, e.z), s.Vec3.set(i[1], t.x, e.y, t.z), s.Vec3.set(i[2], t.x, t.y, e.z), s.Vec3.set(i[3], t.x, t.y, t.z), s.Vec3.set(i[4], e.x, e.y, e.z), s.Vec3.set(i[5], e.x, e.y, t.z), s.Vec3.set(i[6], e.x, t.y, e.z), s.Vec3.set(i[7], e.x, t.y, t.z)
            }

            function H(t, e, i, n, r, a) {
                s.Vec3.set(a[0], t.x + i.x * e.x + n.x * e.y + r.x * e.z, t.y + i.y * e.x + n.y * e.y + r.y * e.z, t.z + i.z * e.x + n.z * e.y + r.z * e.z), s.Vec3.set(a[1], t.x - i.x * e.x + n.x * e.y + r.x * e.z, t.y - i.y * e.x + n.y * e.y + r.y * e.z, t.z - i.z * e.x + n.z * e.y + r.z * e.z), s.Vec3.set(a[2], t.x + i.x * e.x - n.x * e.y + r.x * e.z, t.y + i.y * e.x - n.y * e.y + r.y * e.z, t.z + i.z * e.x - n.z * e.y + r.z * e.z), s.Vec3.set(a[3], t.x + i.x * e.x + n.x * e.y - r.x * e.z, t.y + i.y * e.x + n.y * e.y - r.y * e.z, t.z + i.z * e.x + n.z * e.y - r.z * e.z), s.Vec3.set(a[4], t.x - i.x * e.x - n.x * e.y - r.x * e.z, t.y - i.y * e.x - n.y * e.y - r.y * e.z, t.z - i.z * e.x - n.z * e.y - r.z * e.z), s.Vec3.set(a[5], t.x + i.x * e.x - n.x * e.y - r.x * e.z, t.y + i.y * e.x - n.y * e.y - r.y * e.z, t.z + i.z * e.x - n.z * e.y - r.z * e.z), s.Vec3.set(a[6], t.x - i.x * e.x + n.x * e.y - r.x * e.z, t.y - i.y * e.x + n.y * e.y - r.y * e.z, t.z - i.z * e.x + n.z * e.y - r.z * e.z), s.Vec3.set(a[7], t.x - i.x * e.x - n.x * e.y + r.x * e.z, t.y - i.y * e.x - n.y * e.y + r.y * e.z, t.z - i.z * e.x - n.z * e.y + r.z * e.z)
            }

            function W(t, e) {
                for (var i = s.Vec3.dot(e, t[0]), n = i, r = 1; r < 8; ++r) {
                    var a = s.Vec3.dot(e, t[r]);
                    i = a < i ? a : i, n = a > n ? a : n
                }
                return [i, n]
            }

            var G, j = (function () {
                for (var t = new Array(15), e = 0; e < 15; e++) t[e] = new s.Vec3(0, 0, 0);
                for (var i = new Array(8), n = new Array(8), r = 0; r < 8; r++) i[r] = new s.Vec3(0, 0, 0), n[r] = new s.Vec3(0, 0, 0);
                var a = new s.Vec3, o = new s.Vec3;
                return function (e, r) {
                    var c = r.orientation.m;
                    s.Vec3.set(t[0], 1, 0, 0), s.Vec3.set(t[1], 0, 1, 0), s.Vec3.set(t[2], 0, 0, 1), s.Vec3.set(t[3], c[0], c[1], c[2]), s.Vec3.set(t[4], c[3], c[4], c[5]), s.Vec3.set(t[5], c[6], c[7], c[8]);
                    for (var l = 0; l < 3; ++l) s.Vec3.cross(t[6 + 3 * l], t[l], t[0]), s.Vec3.cross(t[7 + 3 * l], t[l], t[1]), s.Vec3.cross(t[7 + 3 * l], t[l], t[2]);
                    s.Vec3.subtract(a, e.center, e.halfExtents), s.Vec3.add(o, e.center, e.halfExtents), z(a, o, i), H(r.center, r.halfExtents, t[3], t[4], t[5], n);
                    for (var h = 0; h < 15; ++h) {
                        var u = W(i, t[h]), f = W(n, t[h]);
                        if (f[0] > u[1] || u[0] > f[1]) return 0
                    }
                    return 1
                }
            })(), X = function (t, e) {
                var i = t.halfExtents.x * Math.abs(e.n.x) + t.halfExtents.y * Math.abs(e.n.y) + t.halfExtents.z * Math.abs(e.n.z),
                    n = s.Vec3.dot(e.n, t.center);
                return n + i < e.d ? -1 : n - i > e.d ? 0 : 1
            }, Y = function (t, e) {
                for (var i = 0; i < e.planes.length; i++) if (-1 === X(t, e.planes[i])) return 0;
                return 1
            }, q = (function () {
                for (var t = new Array(8), e = 0, i = 0, n = 0; n < t.length; n++) t[n] = new s.Vec3(0, 0, 0);
                return function (n, r) {
                    for (var a = 0, o = !1, c = 0; c < r.planes.length; c++) {
                        if (-1 === (a = X(n, r.planes[c]))) return 0;
                        1 === a && (o = !0)
                    }
                    if (!o) return 1;
                    for (var l = 0; l < r.vertices.length; l++) s.Vec3.subtract(t[l], r.vertices[l], n.center);
                    e = 0, i = 0;
                    for (var h = 0; h < r.vertices.length; h++) t[h].x > n.halfExtents.x ? e++ : t[h].x < -n.halfExtents.x && i++;
                    if (e === r.vertices.length || i === r.vertices.length) return 0;
                    e = 0, i = 0;
                    for (var u = 0; u < r.vertices.length; u++) t[u].y > n.halfExtents.y ? e++ : t[u].y < -n.halfExtents.y && i++;
                    if (e === r.vertices.length || i === r.vertices.length) return 0;
                    e = 0, i = 0;
                    for (var f = 0; f < r.vertices.length; f++) t[f].z > n.halfExtents.z ? e++ : t[f].z < -n.halfExtents.z && i++;
                    return e === r.vertices.length || i === r.vertices.length ? 0 : 1
                }
            })(), Z = (function () {
                var t = new s.Vec3(0, 0, 0), e = new s.Mat3;
                return function (i, n) {
                    return s.Vec3.subtract(t, n, i.center), s.Vec3.transformMat3(t, t, s.Mat3.transpose(e, i.orientation)), r = t, a = i.halfExtents, Math.abs(r.x) < a.x && Math.abs(r.y) < a.y && Math.abs(r.z) < a.z;
                    var r, a
                }
            })(), K = (G = function (t, e, i, n) {
                return Math.abs(t.x * e + t.y * i + t.z * n)
            }, function (t, e) {
                var i = t.orientation.m,
                    n = t.halfExtents.x * G(e.n, i[0], i[1], i[2]) + t.halfExtents.y * G(e.n, i[3], i[4], i[5]) + t.halfExtents.z * G(e.n, i[6], i[7], i[8]),
                    r = s.Vec3.dot(e.n, t.center);
                return r + n < e.d ? -1 : r - n > e.d ? 0 : 1
            }), J = function (t, e) {
                for (var i = 0; i < e.planes.length; i++) if (-1 === K(t, e.planes[i])) return 0;
                return 1
            }, Q = (function () {
                for (var t = new Array(8), e = 0, i = 0, n = 0, r = 0; r < t.length; r++) t[r] = new s.Vec3(0, 0, 0);
                var a = function (t, e, i, n) {
                    return t.x * e + t.y * i + t.z * n
                };
                return function (r, o) {
                    for (var c = 0, l = !1, h = 0; h < o.planes.length; h++) {
                        if (-1 === (c = K(r, o.planes[h]))) return 0;
                        1 === c && (l = !0)
                    }
                    if (!l) return 1;
                    for (var u = 0; u < o.vertices.length; u++) s.Vec3.subtract(t[u], o.vertices[u], r.center);
                    i = 0, n = 0;
                    for (var f = r.orientation.m, d = 0; d < o.vertices.length; d++) (e = a(t[d], f[0], f[1], f[2])) > r.halfExtents.x ? i++ : e < -r.halfExtents.x && n++;
                    if (i === o.vertices.length || n === o.vertices.length) return 0;
                    i = 0, n = 0;
                    for (var _ = 0; _ < o.vertices.length; _++) (e = a(t[_], f[3], f[4], f[5])) > r.halfExtents.y ? i++ : e < -r.halfExtents.y && n++;
                    if (i === o.vertices.length || n === o.vertices.length) return 0;
                    i = 0, n = 0;
                    for (var p = 0; p < o.vertices.length; p++) (e = a(t[p], f[6], f[7], f[8])) > r.halfExtents.z ? i++ : e < -r.halfExtents.z && n++;
                    return i === o.vertices.length || n === o.vertices.length ? 0 : 1
                }
            })(), $ = (function () {
                for (var t = new Array(15), e = 0; e < 15; e++) t[e] = new s.Vec3(0, 0, 0);
                for (var i = new Array(8), n = new Array(8), r = 0; r < 8; r++) i[r] = new s.Vec3(0, 0, 0), n[r] = new s.Vec3(0, 0, 0);
                return function (e, r) {
                    var a = e.orientation.m, o = r.orientation.m;
                    s.Vec3.set(t[0], a[0], a[1], a[2]), s.Vec3.set(t[1], a[3], a[4], a[5]), s.Vec3.set(t[2], a[6], a[7], a[8]), s.Vec3.set(t[3], o[0], o[1], o[2]), s.Vec3.set(t[4], o[3], o[4], o[5]), s.Vec3.set(t[5], o[6], o[7], o[8]);
                    for (var c = 0; c < 3; ++c) s.Vec3.cross(t[6 + 3 * c], t[c], t[0]), s.Vec3.cross(t[7 + 3 * c], t[c], t[1]), s.Vec3.cross(t[7 + 3 * c], t[c], t[2]);
                    H(e.center, e.halfExtents, t[0], t[1], t[2], i), H(r.center, r.halfExtents, t[3], t[4], t[5], n);
                    for (var l = 0; l < 15; ++l) {
                        var h = W(i, t[l]), u = W(n, t[l]);
                        if (u[0] > h[1] || h[0] > u[1]) return 0
                    }
                    return 1
                }
            })(), tt = function (t, e) {
                var i = s.Vec3.dot(e.n, t.center), n = t.radius * e.n.length();
                return i + n < e.d ? -1 : i - n > e.d ? 0 : 1
            }, et = function (t, e) {
                for (var i = 0; i < e.planes.length; i++) if (-1 === tt(t, e.planes[i])) return 0;
                return 1
            }, it = (function () {
                var t = new s.Vec3(0, 0, 0), e = [1, -1, 1, -1, 1, -1];
                return function (i, n) {
                    for (var r = 0; r < 6; r++) {
                        var a = n.planes[r], o = i.radius, c = i.center, l = a.n, h = a.d, u = s.Vec3.dot(l, c);
                        if (u + o < h) return 0;
                        if (!(u - o > h)) {
                            s.Vec3.add(t, c, s.Vec3.multiplyScalar(t, l, o));
                            for (var f = 0; f < 6; f++) if (f !== r && f !== r + e[r]) {
                                var d = n.planes[f];
                                if (s.Vec3.dot(d.n, t) < d.d) return 0
                            }
                        }
                    }
                    return 1
                }
            })(), nt = function (t, e) {
                var i = t.radius + e.radius;
                return s.Vec3.squaredDistance(t.center, e.center) < i * i
            }, rt = (function () {
                var t = new s.Vec3;
                return function (e, i) {
                    return o.pt_point_aabb(t, e.center, i), s.Vec3.squaredDistance(e.center, t) < e.radius * e.radius
                }
            })(), st = (function () {
                var t = new s.Vec3;
                return function (e, i) {
                    return o.pt_point_obb(t, e.center, i), s.Vec3.squaredDistance(e.center, t) < e.radius * e.radius
                }
            })(), at = {
                rayAabb: k,
                rayMesh: M,
                raycast: R,
                rayTriangle: P,
                ray_sphere: F,
                ray_aabb: B,
                ray_obb: V,
                ray_plane: I,
                ray_triangle: D,
                line_plane: O,
                line_triangle: L,
                line_quad: N,
                sphere_sphere: nt,
                sphere_aabb: rt,
                sphere_obb: st,
                sphere_plane: tt,
                sphere_frustum: et,
                sphere_frustum_accurate: it,
                aabb_aabb: U,
                aabb_obb: j,
                aabb_plane: X,
                aabb_frustum: Y,
                aabb_frustum_accurate: q,
                obb_obb: $,
                obb_plane: K,
                obb_frustum: J,
                obb_frustum_accurate: Q,
                obb_point: Z,
                resolve: function (t, e, i) {
                    void 0 === i && (i = null);
                    var n = t._type, r = e._type, s = this[n | r];
                    return n < r ? s(t, e, i) : s(e, t, i)
                }
            };
            at[c.default.SHAPE_RAY | c.default.SHAPE_SPHERE] = F, at[c.default.SHAPE_RAY | c.default.SHAPE_AABB] = B, at[c.default.SHAPE_RAY | c.default.SHAPE_OBB] = V, at[c.default.SHAPE_RAY | c.default.SHAPE_PLANE] = I, at[c.default.SHAPE_RAY | c.default.SHAPE_TRIANGLE] = D, at[c.default.SHAPE_LINE | c.default.SHAPE_PLANE] = O, at[c.default.SHAPE_LINE | c.default.SHAPE_TRIANGLE] = L, at[c.default.SHAPE_SPHERE] = nt, at[c.default.SHAPE_SPHERE | c.default.SHAPE_AABB] = rt, at[c.default.SHAPE_SPHERE | c.default.SHAPE_OBB] = st, at[c.default.SHAPE_SPHERE | c.default.SHAPE_PLANE] = tt, at[c.default.SHAPE_SPHERE | c.default.SHAPE_FRUSTUM] = et, at[c.default.SHAPE_SPHERE | c.default.SHAPE_FRUSTUM_ACCURATE] = it, at[c.default.SHAPE_AABB] = U, at[c.default.SHAPE_AABB | c.default.SHAPE_OBB] = j, at[c.default.SHAPE_AABB | c.default.SHAPE_PLANE] = X, at[c.default.SHAPE_AABB | c.default.SHAPE_FRUSTUM] = Y, at[c.default.SHAPE_AABB | c.default.SHAPE_FRUSTUM_ACCURATE] = q, at[c.default.SHAPE_OBB] = $, at[c.default.SHAPE_OBB | c.default.SHAPE_PLANE] = K, at[c.default.SHAPE_OBB | c.default.SHAPE_FRUSTUM] = J, at[c.default.SHAPE_OBB | c.default.SHAPE_FRUSTUM_ACCURATE] = Q;
            var ot = at;
            i.default = ot, e.exports = i.default
        }), {
            "../../renderer/gfx": 292,
            "../../renderer/memop/recycle-pool": 307,
            "../value-types": 265,
            "./aabb": 144,
            "./distance": 145,
            "./enums": 146,
            "./ray": 153,
            "./triangle": 155
        }],
        150: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = t("../value-types"), s = (n = t("./enums")) && n.__esModule ? n : {default: n},
                a = (function () {
                    function t(t, e, i, n, a, o) {
                        void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === a && (a = 0), void 0 === o && (o = -1), this.s = void 0, this.e = void 0, this._type = void 0, this._type = s.default.SHAPE_LINE, this.s = new r.Vec3(t, e, i), this.e = new r.Vec3(n, a, o)
                    }

                    return t.create = function (e, i, n, r, s, a) {
                        return new t(e, i, n, r, s, a)
                    }, t.clone = function (e) {
                        return new t(e.s.x, e.s.y, e.s.z, e.e.x, e.e.y, e.e.z)
                    }, t.copy = function (t, e) {
                        return r.Vec3.copy(t.s, e.s), r.Vec3.copy(t.e, e.e), t
                    }, t.fromPoints = function (t, e, i) {
                        return r.Vec3.copy(t.s, e), r.Vec3.copy(t.e, i), t
                    }, t.set = function (t, e, i, n, r, s, a) {
                        return t.s.x = e, t.s.y = i, t.s.z = n, t.e.x = r, t.e.y = s, t.e.z = a, t
                    }, t.len = function (t) {
                        return r.Vec3.distance(t.s, t.e)
                    }, t.prototype.length = function () {
                        return r.Vec3.distance(this.s, this.e)
                    }, t
                })();
            i.default = a, e.exports = i.default
        }), {"../value-types": 265, "./enums": 146}],
        151: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = t("../value-types"), s = (n = t("./enums")) && n.__esModule ? n : {default: n};

            function a(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = o(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function o(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            var c = new r.Vec3, l = new r.Vec3, h = new r.Mat3, u = (function () {
                function t(t, e, i, n, a, o, c, l, h, u, f, d, _, p, v) {
                    void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 1), void 0 === a && (a = 1), void 0 === o && (o = 1), void 0 === c && (c = 1), void 0 === l && (l = 0), void 0 === h && (h = 0), void 0 === u && (u = 0), void 0 === f && (f = 1), void 0 === d && (d = 0), void 0 === _ && (_ = 0), void 0 === p && (p = 0), void 0 === v && (v = 1), this.center = void 0, this.halfExtents = void 0, this.orientation = void 0, this._type = void 0, this._type = s.default.SHAPE_OBB, this.center = new r.Vec3(t, e, i), this.halfExtents = new r.Vec3(n, a, o), this.orientation = new r.Mat3(c, l, h, u, f, d, _, p, v)
                }

                t.create = function (e, i, n, r, s, a, o, c, l, h, u, f, d, _, p) {
                    return new t(e, i, n, r, s, a, o, c, l, h, u, f, d, _, p)
                }, t.clone = function (e) {
                    var i = e.orientation.m;
                    return new t(e.center.x, e.center.y, e.center.z, e.halfExtents.x, e.halfExtents.y, e.halfExtents.z, i[0], i[1], i[2], i[3], i[4], i[5], i[6], i[7], i[8])
                }, t.copy = function (t, e) {
                    return r.Vec3.copy(t.center, e.center), r.Vec3.copy(t.halfExtents, e.halfExtents), r.Mat3.copy(t.orientation, e.orientation), t
                }, t.fromPoints = function (t, e, i) {
                    return r.Vec3.multiplyScalar(t.center, r.Vec3.add(c, e, i), .5), r.Vec3.multiplyScalar(t.halfExtents, r.Vec3.subtract(l, i, e), .5), r.Mat3.identity(t.orientation), t
                }, t.set = function (t, e, i, n, s, a, o, c, l, h, u, f, d, _, p, v) {
                    return r.Vec3.set(t.center, e, i, n), r.Vec3.set(t.halfExtents, s, a, o), r.Mat3.set(t.orientation, c, l, h, u, f, d, _, p, v), t
                };
                var e, i, n = t.prototype;
                return n.getBoundary = function (t, e) {
                    var i, n, s, a, o;
                    i = c, n = this.halfExtents, s = this.orientation, a = h.m, o = s.m, a[0] = Math.abs(o[0]), a[1] = Math.abs(o[1]), a[2] = Math.abs(o[2]), a[3] = Math.abs(o[3]), a[4] = Math.abs(o[4]), a[5] = Math.abs(o[5]), a[6] = Math.abs(o[6]), a[7] = Math.abs(o[7]), a[8] = Math.abs(o[8]), r.Vec3.transformMat3(i, n, h), r.Vec3.subtract(t, this.center, c), r.Vec3.add(e, this.center, c)
                }, n.transform = function (t, e, i, n, s) {
                    r.Vec3.transformMat4(s.center, this.center, t), r.Mat3.fromQuat(s.orientation, i), r.Vec3.multiply(s.halfExtents, this.halfExtents, n)
                }, n.translateAndRotate = function (t, e, i) {
                    r.Vec3.transformMat4(i.center, this.center, t), r.Mat3.fromQuat(i.orientation, e)
                }, n.setScale = function (t, e) {
                    r.Vec3.multiply(e.halfExtents, this.halfExtents, t)
                }, e = t, (i = [{
                    key: "type", get: function () {
                        return this._type
                    }
                }]) && a(e.prototype, i), Object.defineProperty(e, "prototype", {writable: !1}), t
            })();
            i.default = u, e.exports = i.default
        }), {"../value-types": 265, "./enums": 146}],
        152: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = t("../value-types"), s = (n = t("./enums")) && n.__esModule ? n : {default: n},
                a = new r.Vec3(0, 0, 0), o = new r.Vec3(0, 0, 0), c = cc.mat4(), l = cc.v4(), h = (function () {
                    function t(t, e, i, n) {
                        void 0 === t && (t = 0), void 0 === e && (e = 1), void 0 === i && (i = 0), void 0 === n && (n = 0), this.n = void 0, this.d = void 0, this._type = void 0, this._type = s.default.SHAPE_PLANE, this.n = new r.Vec3(t, e, i), this.d = n
                    }

                    return t.create = function (e, i, n, r) {
                        return new t(e, i, n, r)
                    }, t.clone = function (e) {
                        return new t(e.n.x, e.n.y, e.n.z, e.d)
                    }, t.copy = function (t, e) {
                        return r.Vec3.copy(t.n, e.n), t.d = e.d, t
                    }, t.fromPoints = function (t, e, i, n) {
                        return r.Vec3.subtract(a, i, e), r.Vec3.subtract(o, n, e), r.Vec3.normalize(t.n, r.Vec3.cross(t.n, a, o)), t.d = r.Vec3.dot(t.n, e), t
                    }, t.set = function (t, e, i, n, r) {
                        return t.n.x = e, t.n.y = i, t.n.z = n, t.d = r, t
                    }, t.fromNormalAndPoint = function (t, e, i) {
                        return r.Vec3.copy(t.n, e), t.d = r.Vec3.dot(e, i), t
                    }, t.normalize = function (t, e) {
                        var i = e.n.len();
                        return r.Vec3.normalize(t.n, e.n), i > 0 && (t.d = e.d / i), t
                    }, t.prototype.transform = function (t) {
                        r.Mat4.invert(c, t), r.Mat4.transpose(c, c), r.Vec4.set(l, this.n.x, this.n.y, this.n.z, this.d), r.Vec4.transformMat4(l, l, c), r.Vec3.set(this.n, l.x, l.y, l.z), this.d = l.w
                    }, t
                })();
            i.default = h, e.exports = i.default
        }), {"../value-types": 265, "./enums": 146}],
        153: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = t("../value-types"), s = (n = t("./enums")) && n.__esModule ? n : {default: n},
                a = (function () {
                    function t(t, e, i, n, a, o) {
                        void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === a && (a = 0), void 0 === o && (o = -1), this.o = void 0, this.d = void 0, this._type = void 0, this._type = s.default.SHAPE_RAY, this.o = new r.Vec3(t, e, i), this.d = new r.Vec3(n, a, o)
                    }

                    return t.create = function (e, i, n, r, s, a) {
                        return void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === s && (s = 0), void 0 === a && (a = 1), new t(e, i, n, r, s, a)
                    }, t.clone = function (e) {
                        return new t(e.o.x, e.o.y, e.o.z, e.d.x, e.d.y, e.d.z)
                    }, t.copy = function (t, e) {
                        return r.Vec3.copy(t.o, e.o), r.Vec3.copy(t.d, e.d), t
                    }, t.fromPoints = function (t, e, i) {
                        return r.Vec3.copy(t.o, e), r.Vec3.normalize(t.d, r.Vec3.subtract(t.d, i, e)), t
                    }, t.set = function (t, e, i, n, r, s, a) {
                        return t.o.x = e, t.o.y = i, t.o.z = n, t.d.x = r, t.d.y = s, t.d.z = a, t
                    }, t.prototype.computeHit = function (t, e) {
                        r.Vec3.normalize(t, this.d), r.Vec3.scaleAndAdd(t, this.o, t, e)
                    }, t
                })();
            i.default = a, e.exports = i.default
        }), {"../value-types": 265, "./enums": 146}],
        154: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = t("../value-types"), s = (n = t("./enums")) && n.__esModule ? n : {default: n}, a = new r.Vec3,
                o = (function () {
                    function t(t, e, i, n) {
                        void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 1), this.center = void 0, this.radius = void 0, this._type = void 0, this._type = s.default.SHAPE_SPHERE, this.center = new r.Vec3(t, e, i), this.radius = n
                    }

                    t.create = function (e, i, n, r) {
                        return new t(e, i, n, r)
                    }, t.clone = function (e) {
                        return new t(e.center.x, e.center.y, e.center.z, e.radius)
                    }, t.copy = function (t, e) {
                        return r.Vec3.copy(t.center, e.center), t.radius = e.radius, t
                    }, t.fromPoints = function (t, e, i) {
                        return r.Vec3.multiplyScalar(t.center, r.Vec3.add(a, e, i), .5), t.radius = .5 * r.Vec3.subtract(a, i, e).len(), t
                    }, t.set = function (t, e, i, n, r) {
                        return t.center.x = e, t.center.y = i, t.center.z = n, t.radius = r, t
                    };
                    var e = t.prototype;
                    return e.clone = function () {
                        return t.clone(this)
                    }, e.copy = function (e) {
                        return t.copy(this, e)
                    }, e.getBoundary = function (t, e) {
                        r.Vec3.set(t, this.center.x - this.radius, this.center.y - this.radius, this.center.z - this.radius), r.Vec3.set(e, this.center.x + this.radius, this.center.y + this.radius, this.center.z + this.radius)
                    }, e.transform = function (t, e, i, n, s) {
                        r.Vec3.transformMat4(s.center, this.center, t), s.radius = this.radius * n.maxAxis()
                    }, e.translateAndRotate = function (t, e, i) {
                        r.Vec3.transformMat4(i.center, this.center, t)
                    }, e.setScale = function (t, e) {
                        e.radius = this.radius * t.maxAxis()
                    }, t
                })();
            i.default = o, e.exports = i.default
        }), {"../value-types": 265, "./enums": 146}],
        155: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = s(t("../value-types/vec3")), r = s(t("./enums"));

            function s(t) {
                return t && t.__esModule ? t : {default: t}
            }

            var a = (function () {
                function t(t, e, i, s, a, o, c, l, h) {
                    this.a = void 0, this.b = void 0, this.c = void 0, this._type = void 0, this.a = new n.default(t, e, i), this.b = new n.default(s, a, o), this.c = new n.default(c, l, h), this._type = r.default.SHAPE_TRIANGLE
                }

                return t.create = function (e, i, n, r, s, a, o, c, l) {
                    return new t(e, i, n, r, s, a, o, c, l)
                }, t.clone = function (e) {
                    return new t(e.a.x, e.a.y, e.a.z, e.b.x, e.b.y, e.b.z, e.c.x, e.c.y, e.c.z)
                }, t.copy = function (t, e) {
                    return n.default.copy(t.a, e.a), n.default.copy(t.b, e.b), n.default.copy(t.c, e.c), t
                }, t.fromPoints = function (t, e, i, r) {
                    return n.default.copy(t.a, e), n.default.copy(t.b, i), n.default.copy(t.c, r), t
                }, t.set = function (t, e, i, n, r, s, a, o, c, l) {
                    return t.a.x = e, t.a.y = i, t.a.z = n, t.b.x = r, t.b.y = s, t.b.z = a, t.c.x = o, t.c.y = c, t.c.z = l, t
                }, t
            })();
            i.default = a, e.exports = i.default
        }), {"../value-types/vec3": 275, "./enums": 146}],
        156: [(function (t, e) {
            "use strict";
            var i = t("../components/CCRenderComponent"), n = t("../assets/material/CCMaterial"), r = t("./types"),
                s = r.LineCap, a = r.LineJoin, o = cc.Class({
                    name: "cc.Graphics",
                    extends: i,
                    editor: !1,
                    ctor: function () {
                        this._impl = new o._Impl(this)
                    },
                    properties: {
                        _lineWidth: 2,
                        _strokeColor: cc.Color.BLACK,
                        _lineJoin: a.MITER,
                        _lineCap: s.BUTT,
                        _fillColor: cc.Color.WHITE,
                        _miterLimit: 10,
                        lineWidth: {
                            get: function () {
                                return this._lineWidth
                            }, set: function (t) {
                                this._lineWidth = t, this._impl.lineWidth = t
                            }
                        },
                        lineJoin: {
                            get: function () {
                                return this._lineJoin
                            }, set: function (t) {
                                this._lineJoin = t, this._impl.lineJoin = t
                            }, type: a
                        },
                        lineCap: {
                            get: function () {
                                return this._lineCap
                            }, set: function (t) {
                                this._lineCap = t, this._impl.lineCap = t
                            }, type: s
                        },
                        strokeColor: {
                            get: function () {
                                return this._strokeColor
                            }, set: function (t) {
                                this._impl.strokeColor = this._strokeColor = cc.color(t)
                            }
                        },
                        fillColor: {
                            get: function () {
                                return this._fillColor
                            }, set: function (t) {
                                this._impl.fillColor = this._fillColor = cc.color(t)
                            }
                        },
                        miterLimit: {
                            get: function () {
                                return this._miterLimit
                            }, set: function (t) {
                                this._miterLimit = t, this._impl.miterLimit = t
                            }
                        }
                    },
                    statics: {LineJoin: a, LineCap: s},
                    onRestore: function () {
                        this._impl || (this._impl = new o._Impl(this))
                    },
                    onDestroy: function () {
                        this.clear(!0), this._super(), this._impl = null
                    },
                    _getDefaultMaterial: function () {
                        return n.getBuiltinMaterial("2d-graphics")
                    },
                    _updateMaterial: function () {
                        var t = this._materials[0];
                        t && (void 0 !== t.getDefine("CC_USE_MODEL") && t.define("CC_USE_MODEL", !0), void 0 !== t.getDefine("CC_SUPPORT_standard_derivatives") && cc.sys.glExtension("OES_standard_derivatives") && t.define("CC_SUPPORT_standard_derivatives", !0))
                    },
                    moveTo: function (t, e) {
                        this._impl.moveTo(t, e)
                    },
                    lineTo: function (t, e) {
                        this._impl.lineTo(t, e)
                    },
                    bezierCurveTo: function (t, e, i, n, r, s) {
                        this._impl.bezierCurveTo(t, e, i, n, r, s)
                    },
                    quadraticCurveTo: function (t, e, i, n) {
                        this._impl.quadraticCurveTo(t, e, i, n)
                    },
                    arc: function (t, e, i, n, r, s) {
                        this._impl.arc(t, e, i, n, r, s)
                    },
                    ellipse: function (t, e, i, n) {
                        this._impl.ellipse(t, e, i, n)
                    },
                    circle: function (t, e, i) {
                        this._impl.circle(t, e, i)
                    },
                    rect: function (t, e, i, n) {
                        this._impl.rect(t, e, i, n)
                    },
                    roundRect: function (t, e, i, n, r) {
                        this._impl.roundRect(t, e, i, n, r)
                    },
                    fillRect: function (t, e, i, n) {
                        this.rect(t, e, i, n), this.fill()
                    },
                    clear: function (t) {
                        this._impl.clear(t), this._assembler && this._assembler.clear(t)
                    },
                    close: function () {
                        this._impl.close()
                    },
                    stroke: function () {
                        this._assembler || this._resetAssembler(), this._assembler.stroke(this)
                    },
                    fill: function () {
                        this._assembler || this._resetAssembler(), this._assembler.fill(this)
                    }
                });
            cc.Graphics = e.exports = o, cc.Graphics.Types = r, cc.Graphics.Helper = t("./helper")
        }), {
            "../assets/material/CCMaterial": 91,
            "../components/CCRenderComponent": 117,
            "./helper": 157,
            "./types": 159
        }],
        157: [(function (t, e) {
            "use strict";
            var i = t("./types").PointFlags, n = Math.PI, r = Math.min, s = Math.max, a = Math.cos, o = Math.sin,
                c = Math.abs, l = Math.sign, h = .5522847493;
            e.exports = {
                arc: function (t, e, i, l, h, u, f) {
                    var d, _, p, v = 0, g = 0, m = 0, y = 0, T = 0, E = 0, A = 0, b = 0, x = 0, C = 0, S = 0, w = 0,
                        M = 0;
                    if (g = u - h, f = f || !1) if (c(g) >= 2 * n) g = 2 * n; else for (; g < 0;) g += 2 * n; else if (c(g) >= 2 * n) g = 2 * -n; else for (; g > 0;) g -= 2 * n;
                    for (p = 0 | s(1, r(c(g) / (.5 * n) + .5, 5)), m = c(4 / 3 * (1 - a(d = g / p / 2)) / o(d)), f || (m = -m), _ = 0; _ <= p; _++) E = e + (y = a(v = h + g * (_ / p))) * l, A = i + (T = o(v)) * l, b = -T * l * m, x = y * l * m, 0 === _ ? t.moveTo(E, A) : t.bezierCurveTo(C + w, S + M, E - b, A - x, E, A), C = E, S = A, w = b, M = x
                }, ellipse: function (t, e, i, n, r) {
                    t.moveTo(e - n, i), t.bezierCurveTo(e - n, i + r * h, e - n * h, i + r, e, i + r), t.bezierCurveTo(e + n * h, i + r, e + n, i + r * h, e + n, i), t.bezierCurveTo(e + n, i - r * h, e + n * h, i - r, e, i - r), t.bezierCurveTo(e - n * h, i - r, e - n, i - r * h, e - n, i), t.close()
                }, roundRect: function (t, e, i, n, s, a) {
                    if (a < .1) t.rect(e, i, n, s); else {
                        var o = r(a, .5 * c(n)) * l(n), u = r(a, .5 * c(s)) * l(s);
                        t.moveTo(e, i + u), t.lineTo(e, i + s - u), t.bezierCurveTo(e, i + s - u * (1 - h), e + o * (1 - h), i + s, e + o, i + s), t.lineTo(e + n - o, i + s), t.bezierCurveTo(e + n - o * (1 - h), i + s, e + n, i + s - u * (1 - h), e + n, i + s - u), t.lineTo(e + n, i + u), t.bezierCurveTo(e + n, i + u * (1 - h), e + n - o * (1 - h), i, e + n - o, i), t.lineTo(e + o, i), t.bezierCurveTo(e + o * (1 - h), i, e, i + u * (1 - h), e, i + u), t.close()
                    }
                }, tesselateBezier: function t(e, n, r, s, a, o, l, h, u, f, d) {
                    var _, p, v, g, m, y, T, E, A, b, x, C, S, w, M, R;
                    f > 10 || (m = .5 * (o + h), y = .5 * (l + u), T = .5 * ((_ = .5 * (n + s)) + (v = .5 * (s + o))), E = .5 * ((p = .5 * (r + a)) + (g = .5 * (a + l))), ((M = c((s - h) * (w = u - r) - (a - u) * (S = h - n))) + (R = c((o - h) * w - (l - u) * S))) * (M + R) < e._tessTol * (S * S + w * w) ? e._addPoint(h, u, 0 === d ? d | i.PT_BEVEL : d) : (t(e, n, r, _, p, T, E, x = .5 * (T + (A = .5 * (v + m))), C = .5 * (E + (b = .5 * (g + y))), f + 1, 0), t(e, x, C, A, b, m, y, h, u, f + 1, d)))
                }
            }
        }), {"./types": 159}],
        158: [(function (t) {
            "use strict";
            t("./graphics")
        }), {"./graphics": 156}],
        159: [(function (t, e) {
            "use strict";
            var i = cc.Enum({BUTT: 0, ROUND: 1, SQUARE: 2}), n = cc.Enum({BEVEL: 0, ROUND: 1, MITER: 2}),
                r = cc.Enum({PT_CORNER: 1, PT_LEFT: 2, PT_BEVEL: 4, PT_INNERBEVEL: 8});
            e.exports = {LineCap: i, LineJoin: n, PointFlags: r}
        }), {}],
        160: [(function (t) {
            "use strict";
            t("./platform"), t("./assets"), t("./CCNode"), t("./CCPrivateNode"), t("./CCScene"), t("./components"), t("./graphics"), t("./collider"), t("./collider/CCIntersection"), t("./physics"), t("./camera/CCCamera"), t("./geom-utils"), t("./mesh"), t("./3d"), t("./base-ui/CCWidgetManager")
        }), {
            "./3d": 29,
            "./CCNode": 39,
            "./CCPrivateNode": 40,
            "./CCScene": 41,
            "./assets": 89,
            "./base-ui/CCWidgetManager": 100,
            "./camera/CCCamera": 101,
            "./collider": void 0,
            "./collider/CCIntersection": void 0,
            "./components": 132,
            "./geom-utils": 148,
            "./graphics": 158,
            "./mesh": 163,
            "./physics": void 0,
            "./platform": 185
        }],
        161: [(function (t, e) {
            "use strict";
            var i = s(t("../../renderer/core/input-assembler")), n = s(t("../../renderer/gfx")), r = t("./mesh-data");

            function s(t) {
                return t && t.__esModule ? t : {default: t}
            }

            var a = t("../renderer"), o = t("../event/event-target");

            function c(t, e, i) {
                t[e] = i._val
            }

            function l(t, e, i) {
                t[e] = i.x, t[e + 1] = i.y
            }

            function h(t, e, i) {
                t[e] = i.x, t[e + 1] = i.y, t[e + 2] = i.z
            }

            var u, f = {
                    5120: "getInt8",
                    5121: "getUint8",
                    5122: "getInt16",
                    5123: "getUint16",
                    5124: "getInt32",
                    5125: "getUint32",
                    5126: "getFloat32"
                }, d = {
                    5120: "setInt8",
                    5121: "setUint8",
                    5122: "setInt16",
                    5123: "setUint16",
                    5124: "setInt32",
                    5125: "setUint32",
                    5126: "setFloat32"
                }, _ = (u = new ArrayBuffer(2), new DataView(u).setInt16(0, 256, !0), 256 === new Int16Array(u)[0]),
                p = cc.Class({
                    name: "cc.Mesh",
                    extends: cc.Asset,
                    mixins: [o],
                    properties: {
                        _nativeAsset: {
                            override: !0, get: function () {
                                return this._buffer
                            }, set: function (t) {
                                this._buffer = ArrayBuffer.isView(t) ? t.buffer : t, this.initWithBuffer()
                            }
                        },
                        _vertexBundles: {default: null, type: r.VertexBundle},
                        _primitives: {default: null, Primitive: r.Primitive},
                        _minPos: cc.v3(),
                        _maxPos: cc.v3(),
                        subMeshes: {
                            get: function () {
                                return this._subMeshes
                            }, set: function (t) {
                                this._subMeshes = t
                            }
                        },
                        subDatas: {
                            get: function () {
                                return this._subDatas
                            }
                        }
                    },
                    ctor: function () {
                        this._subMeshes = [], this._subDatas = [], this.loaded = !1
                    },
                    initWithBuffer: function () {
                        this._subMeshes.length = 0;
                        for (var t = this._primitives, e = 0; e < t.length; e++) {
                            var s = t[e], o = s.data, c = new Uint8Array(this._buffer, o.offset, o.length),
                                l = this._vertexBundles[s.vertexBundleIndices[0]], h = l.data,
                                u = new n.default.VertexFormat(l.formats),
                                f = new Uint8Array(this._buffer, h.offset, h.length), d = this._canVertexFormatBatch(u),
                                _ = new r.MeshData;
                            _.vData = f, _.iData = c, _.vfm = u, _.offset = h.offset, _.canBatch = d, this._subDatas.push(_);
                            var p = new n.default.VertexBuffer(a.device, u, n.default.USAGE_STATIC, f),
                                v = new n.default.IndexBuffer(a.device, s.indexUnit, n.default.USAGE_STATIC, c);
                            this._subMeshes.push(new i.default(p, v))
                        }
                        this.loaded = !0, this.emit("load")
                    },
                    _canVertexFormatBatch: function (t) {
                        var e = t._attr2el[n.default.ATTR_POSITION];
                        return !e || e.type === n.default.ATTR_TYPE_FLOAT32 && t._bytes % 4 == 0
                    },
                    init: function (t, e, s, o) {
                        void 0 === s && (s = !1), void 0 === o && (o = 0);
                        var c = new Uint8Array(t._bytes * e), l = new r.MeshData;
                        l.vData = c, l.vfm = t, l.vDirty = !0, l.canBatch = this._canVertexFormatBatch(t);
                        var h = new n.default.VertexBuffer(a.device, t, s ? n.default.USAGE_DYNAMIC : n.default.USAGE_STATIC, c);
                        l.vb = h, this._subMeshes[o] = new i.default(l.vb);
                        var u = this._subDatas[o];
                        u && (u.vb && u.vb.destroy(), u.ib && u.ib.destroy()), this._subDatas[o] = l, this.loaded = !0, this.emit("load"), this.emit("init-format")
                    },
                    setVertices: function (t, e, i) {
                        i = i || 0;
                        var r = this._subDatas[i], s = r.vfm.element(t);
                        if (!s) return cc.warn("Cannot find " + t + " attribute in vertex defines.");
                        var a, o = "number" == typeof e[0], u = s.num, f = o ? e.length / u | 0 : e.length;
                        r.vData.byteLength < f * s.stride && r.setVData(new Uint8Array(f * r.vfm._bytes));
                        var d = 4;
                        t === n.default.ATTR_COLOR ? o ? (a = r.getVData(), d = 1) : a = r.getVData(Uint32Array) : a = r.getVData(Float32Array);
                        var _ = s.stride / d, p = s.offset / d;
                        if (o) for (var v = 0, g = e.length / u; v < g; v++) for (var m = v * u, y = v * _ + p, T = 0; T < u; T++) a[y + T] = e[m + T]; else {
                            var E;
                            E = t === n.default.ATTR_COLOR ? c : 2 === u ? l : h;
                            for (var A = 0, b = e.length; A < b; A++) E(a, A * _ + p, e[A])
                        }
                        r.vDirty = !0
                    },
                    setIndices: function (t, e, i) {
                        e = e || 0;
                        var r = t;
                        t instanceof Uint16Array ? r = new Uint8Array(t.buffer, t.byteOffset, t.byteLength) : Array.isArray(t) && (r = new Uint16Array(t), r = new Uint8Array(r.buffer, r.byteOffset, r.byteLength));
                        var s = i ? n.default.USAGE_DYNAMIC : n.default.USAGE_STATIC, o = this._subDatas[e];
                        if (o.ib) o.iData = r, o.iDirty = !0; else {
                            o.iData = r;
                            var c = new n.default.IndexBuffer(a.device, n.default.INDEX_FMT_UINT16, s, r, r.byteLength / n.default.IndexBuffer.BYTES_PER_INDEX[n.default.INDEX_FMT_UINT16]);
                            o.ib = c, this._subMeshes[e]._indexBuffer = o.ib
                        }
                    },
                    setPrimitiveType: function (t, e) {
                        e = e || 0, this._subMeshes[e] ? this._subMeshes[e]._primitiveType = t : cc.warn("Do not have sub mesh at index " + e)
                    },
                    clear: function () {
                        this._subMeshes.length = 0;
                        for (var t = this._subDatas, e = 0, i = t.length; e < i; e++) {
                            var n = t[e].vb;
                            n && n.destroy();
                            var r = t[e].ib;
                            r && r.destroy()
                        }
                        t.length = 0
                    },
                    setBoundingBox: function (t, e) {
                        this._minPos = t, this._maxPos = e
                    },
                    destroy: function () {
                        this.clear()
                    },
                    _uploadData: function () {
                        for (var t = this._subDatas, e = 0, i = t.length; e < i; e++) {
                            var n = t[e];
                            if (n.vDirty) {
                                var r = n.vb, s = n.vData;
                                r.update(0, s), n.vDirty = !1
                            }
                            if (n.iDirty) {
                                var a = n.ib, o = n.iData;
                                a.update(0, o), n.iDirty = !1
                            }
                        }
                    },
                    _getAttrMeshData: function (t, e) {
                        var i = this._subDatas[t];
                        if (!i) return [];
                        var n = i.vfm, r = n.element(e);
                        if (!r) return [];
                        i.attrDatas || (i.attrDatas = {});
                        var s = i.attrDatas, a = s[e];
                        if (a) return a;
                        a = s[e] = [];
                        for (var o = i.vData, c = new DataView(o.buffer, o.byteOffset, o.byteLength), l = r.stride, h = r.offset, u = r.num, d = r.bytes / u, p = f[r.type], v = o.byteLength / n._bytes, g = 0; g < v; g++) for (var m = g * l + h, y = 0; y < u; y++) {
                            var T = c[p](m + y * d, _);
                            a.push(T)
                        }
                        return a
                    },
                    copyAttribute: function (t, e, i, n, r) {
                        var s = !1, a = this._subDatas[t];
                        if (!a) return s;
                        var o = a.vfm, c = o.element(e);
                        if (!c) return s;
                        var l = d[c.type];
                        if (!l) return s;
                        var h = this._getAttrMeshData(t, e), u = a.vData.byteLength / o._bytes, f = c.bytes / c.num;
                        if (h.length > 0) {
                            for (var p = new DataView(i, r), v = n, g = c.num, m = 0; m < u; ++m) for (var y = m * g, T = 0; T < g; ++T) {
                                var E = y + T, A = v * m + f * T;
                                p[l](A, h[E], _)
                            }
                            s = !0
                        }
                        return s
                    },
                    copyIndices: function (t, e) {
                        var i = this._subDatas[t];
                        if (!i) return !1;
                        for (var r = i.iData, s = r.length / 2, a = new DataView(r.buffer, r.byteOffset, r.byteLength), o = f[n.default.INDEX_FMT_UINT8], c = 0; c < s; ++c) e[c] = a[o](2 * c);
                        return !0
                    }
                });
            cc.Mesh = e.exports = p
        }), {
            "../../renderer/core/input-assembler": 282,
            "../../renderer/gfx": 292,
            "../event/event-target": 140,
            "../renderer": 199,
            "./mesh-data": 164
        }],
        162: [(function (t, e) {
            "use strict";
            var i = s(t("../../renderer/gfx")),
                n = (s(t("../../renderer/core/input-assembler")), s(t("../geom-utils/aabb"))),
                r = (s(t("../value-types/vec3")), s(t("../value-types/mat4")), s(t("../assets/material/material-variant")));

            function s(t) {
                return t && t.__esModule ? t : {default: t}
            }

            var a = t("../components/CCRenderComponent"), o = t("./CCMesh"), c = t("../renderer/render-flow"),
                l = (t("../renderer"), t("../assets/material/CCMaterial")), h = cc.Enum({OFF: 0, ON: 1}), u = cc.Class({
                    name: "cc.MeshRenderer",
                    extends: a,
                    editor: !1,
                    properties: {
                        _mesh: {default: null, type: o},
                        _receiveShadows: !1,
                        _shadowCastingMode: h.OFF,
                        _enableAutoBatch: !1,
                        mesh: {
                            get: function () {
                                return this._mesh
                            }, set: function (t) {
                                this._mesh !== t && (this._setMesh(t), t ? (this.markForRender(!0), this.node._renderFlag |= c.FLAG_TRANSFORM) : this.disableRender())
                            }, type: o, animatable: !1
                        },
                        textures: {default: [], type: cc.Texture2D, visible: !1},
                        receiveShadows: {
                            get: function () {
                                return this._receiveShadows
                            }, set: function (t) {
                                this._receiveShadows = t, this._updateReceiveShadow()
                            }, animatable: !1
                        },
                        shadowCastingMode: {
                            get: function () {
                                return this._shadowCastingMode
                            }, set: function (t) {
                                this._shadowCastingMode = t, this._updateCastShadow()
                            }, type: h, animatable: !1
                        },
                        enableAutoBatch: {
                            get: function () {
                                return this._enableAutoBatch
                            }, set: function (t) {
                                this._enableAutoBatch = t
                            }
                        }
                    },
                    statics: {ShadowCastingMode: h},
                    ctor: function () {
                        this._boundingBox = cc.geomUtils && new n.default
                    },
                    onEnable: function () {
                        var t = this;
                        this._super(), this._mesh && !this._mesh.loaded ? (this.disableRender(), this._mesh.once("load", (function () {
                            t.isValid && (t._setMesh(t._mesh), t.markForRender(!0))
                        })), cc.assetManager.postLoadNative(this._mesh)) : this._setMesh(this._mesh), this._updateRenderNode(), this._updateMaterial()
                    },
                    onDestroy: function () {
                        this._setMesh(null), cc.pool.assembler.put(this._assembler)
                    },
                    _updateRenderNode: function () {
                        this._assembler.setRenderNode(this.node)
                    },
                    _setMesh: function (t) {
                        cc.geomUtils && t && n.default.fromPoints(this._boundingBox, t._minPos, t._maxPos), this._mesh && this._mesh.off("init-format", this._updateMeshAttribute, this), t && t.on("init-format", this._updateMeshAttribute, this), this._mesh = t, this._assembler && (this._assembler._worldDatas = {}), this._updateMeshAttribute()
                    },
                    _getDefaultMaterial: function () {
                        return l.getBuiltinMaterial("unlit")
                    },
                    _validateRender: function () {
                        var t = this._mesh;
                        t && t._subDatas.length > 0 || this.disableRender()
                    },
                    _updateMaterial: function () {
                        var t = this.textures;
                        if (t && t.length > 0) for (var e = this._getDefaultMaterial(), i = 0; i < t.length; i++) {
                            var n = this._materials[i];
                            n && n._uuid !== e._uuid || (n || (n = r.default.create(e, this), this.setMaterial(i, n)), n.setProperty("diffuseTexture", t[i]))
                        }
                        this._updateReceiveShadow(), this._updateCastShadow(), this._updateMeshAttribute()
                    },
                    _updateReceiveShadow: function () {
                        for (var t = this.getMaterials(), e = 0; e < t.length; e++) t[e].define("CC_USE_SHADOW_MAP", this._receiveShadows, void 0, !0)
                    },
                    _updateCastShadow: function () {
                        for (var t = this.getMaterials(), e = 0; e < t.length; e++) t[e].define("CC_CASTING_SHADOW", this._shadowCastingMode === h.ON, void 0, !0)
                    },
                    _updateMeshAttribute: function () {
                        var t = this._mesh && this._mesh.subDatas;
                        if (t) for (var e = this.getMaterials(), n = 0; n < e.length && t[n]; n++) {
                            var r = t[n].vfm, s = e[n];
                            s.define("CC_USE_ATTRIBUTE_COLOR", !!r.element(i.default.ATTR_COLOR), void 0, !0), s.define("CC_USE_ATTRIBUTE_UV0", !!r.element(i.default.ATTR_UV0), void 0, !0), s.define("CC_USE_ATTRIBUTE_NORMAL", !!r.element(i.default.ATTR_NORMAL), void 0, !0), s.define("CC_USE_ATTRIBUTE_TANGENT", !!r.element(i.default.ATTR_TANGENT), void 0, !0)
                        }
                    },
                    _checkBacth: function () {
                    }
                });
            cc.MeshRenderer = e.exports = u
        }), {
            "../../renderer/core/input-assembler": 282,
            "../../renderer/gfx": 292,
            "../assets/material/CCMaterial": 91,
            "../assets/material/material-variant": 98,
            "../components/CCRenderComponent": 117,
            "../geom-utils/aabb": 144,
            "../renderer": 199,
            "../renderer/render-flow": 200,
            "../value-types/mat4": 267,
            "../value-types/vec3": 275,
            "./CCMesh": 161
        }],
        163: [(function (t) {
            "use strict";
            t("./CCMesh"), t("./CCMeshRenderer"), t("./mesh-renderer")
        }), {"./CCMesh": 161, "./CCMeshRenderer": 162, "./mesh-renderer": 165}],
        164: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.BufferRange = void 0, i.MeshData = l, i.VertexFormat = i.VertexBundle = i.Primitive = void 0;
            var n, r = (n = t("../../renderer/gfx")) && n.__esModule ? n : {default: n},
                s = cc.Class({name: "cc.BufferRange", properties: {offset: 0, length: 0}});
            i.BufferRange = s;
            var a = cc.Class({name: "cc.mesh.VertexFormat", properties: {name: "", type: -1, num: -1, normalize: !1}});
            i.VertexFormat = a;
            var o = cc.Class({
                name: "cc.mesh.VertexBundle",
                properties: {data: {default: null, type: s}, formats: {default: [], type: a}, verticesCount: 0}
            });
            i.VertexBundle = o;
            var c = cc.Class({
                name: "cc.mesh.Primitive",
                properties: {
                    vertexBundleIndices: {default: [], type: cc.Float},
                    data: {default: null, type: s},
                    indexUnit: r.default.INDEX_FMT_UINT16,
                    topology: r.default.PT_TRIANGLES
                }
            });

            function l() {
                this.vData = null, this.float32VData = null, this.uint32VData = null, this.iData = null, this.uint16IData = null, this.vfm = null, this.offset = 0, this.vb = null, this.ib = null, this.vDirty = !1, this.iDirty = !1, this.enable = !0
            }

            i.Primitive = c, l.prototype.setVData = function (t) {
                this.vData = t, this.float32VData = null, this.uint32VData = null
            }, l.prototype.getVData = function (t) {
                return t === Float32Array ? (this.float32VData || (this.float32VData = new Float32Array(this.vData.buffer, this.vData.byteOffset, this.vData.byteLength / 4)), this.float32VData) : t === Uint32Array ? (this.uint32VData || (this.uint32VData = new Uint32Array(this.vData.buffer, this.vData.byteOffset, this.vData.byteLength / 4)), this.uint32VData) : this.vData
            }, l.prototype.getIData = function (t) {
                return t === Uint16Array ? (this.uint16IData || (this.uint16IData = new Uint16Array(this.iData.buffer, this.iData.byteOffset, this.iData.byteLength / 2)), this.uint16IData) : this.iData
            }
        }), {"../../renderer/gfx": 292}],
        165: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = a(t("../renderer/assembler")), r = a(t("../../renderer/gfx")), s = a(t("../value-types/vec3"));

            function a(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function o(t, e) {
                return (o = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var c = t("./CCMeshRenderer"), l = new s.default, h = (function (t) {
                var e, i;

                function n() {
                    return t.apply(this, arguments) || this
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, o(e, i);
                var a = n.prototype;
                return a.init = function (e) {
                    t.prototype.init.call(this, e), this._worldDatas = {}, this._renderNode = null
                }, a.setRenderNode = function (t) {
                    this._renderNode = t
                }, a.fillBuffers = function (t, e) {
                    if (t.mesh) {
                        t.mesh._uploadData();
                        for (var i = e.cullingMask === t.node._cullingMask, n = t.enableAutoBatch, s = t._materials, a = t.mesh._subMeshes, o = t.mesh.subDatas, c = 0; c < a.length; c++) {
                            var l = a[c], h = o[c], u = s[c] || s[0];
                            n && h.canBatch && l._primitiveType === r.default.PT_TRIANGLES ? (i && u.getHash() === e.material.getHash() || e._flush(), e.material = u, e.cullingMask = t.node._cullingMask, e.node = e._dummyNode, this._fillBuffer(t, h, e, c)) : (e._flush(), e.material = u, e.cullingMask = t.node._cullingMask, e.node = this._renderNode, e._flushIA(l))
                        }
                    }
                }, a._fillBuffer = function (t, e, i, n) {
                    var r = e.getVData(Float32Array), s = e.vfm, a = r.byteLength / s._bytes | 0,
                        o = e.getIData(Uint16Array), c = o.length, l = i.getBuffer("mesh", s), h = l.request(a, c),
                        u = h.indiceOffset, f = h.byteOffset >> 2, d = h.vertexOffset, _ = l._vData, p = l._iData;
                    !i.worldMatDirty && this._worldDatas[n] || this._updateWorldVertices(n, a, r, s, t.node._worldMatrix), _.set(this._worldDatas[n], f);
                    for (var v = 0; v < c; v++) p[u + v] = d + o[v]
                }, a._updateWorldVertices = function (t, e, i, n, a) {
                    var o = this._worldDatas[t];
                    o || (o = this._worldDatas[t] = new Float32Array(i.length)).set(i);
                    for (var c = n._bytes / 4, h = n._elements, u = 0, f = h.length; u < f; u++) {
                        var d = h[u], _ = d.offset / 4;
                        if (d.name === r.default.ATTR_POSITION || d.name === r.default.ATTR_NORMAL) for (var p = d.name === r.default.ATTR_NORMAL ? s.default.transformMat4Normal : s.default.transformMat4, v = 0; v < e; v++) {
                            var g = v * c + _;
                            l.x = i[g], l.y = i[g + 1], l.z = i[g + 2], p(l, l, a), o[g] = l.x, o[g + 1] = l.y, o[g + 2] = l.z
                        }
                    }
                }, a._drawDebugDatas = function (t, e, i) {
                    var n = t._debugDatas[i];
                    if (n) for (var r = 0; r < n.length; r++) {
                        var s = n[r];
                        if (s) {
                            var a = s.material;
                            e.material = a, e._flushIA(s.ia)
                        }
                    }
                }, n
            })(n.default);
            i.default = h, n.default.register(c, h), e.exports = i.default
        }), {
            "../../renderer/gfx": 292,
            "../renderer/assembler": 196,
            "../value-types/vec3": 275,
            "./CCMeshRenderer": 162
        }],
        166: [(function (t, e) {
            "use strict";
            var i = t("./component-scheduler"), n = t("./platform/CCObject").Flags, r = t("./platform/js"),
                s = n.IsPreloadStarted, a = n.IsOnLoadStarted, o = n.IsOnLoadCalled, c = n.Deactivating, l = cc.Class({
                    extends: i.LifeCycleInvoker, add: function (t) {
                        this._zero.array.push(t)
                    }, remove: function (t) {
                        this._zero.fastRemove(t)
                    }, cancelInactive: function (t) {
                        i.LifeCycleInvoker.stableRemoveInactive(this._zero, t)
                    }, invoke: function () {
                        this._invoke(this._zero), this._zero.array.length = 0
                    }
                }), h = i.createInvokeImpl((function (t) {
                    t.__preload()
                }), !1, void 0, (function (t) {
                    var e = t.array;
                    for (t.i = 0; t.i < e.length; ++t.i) e[t.i].__preload()
                })), u = i.createInvokeImpl((function (t) {
                    t.onLoad(), t._objFlags |= o
                }), !1, o, (function (t) {
                    var e = t.array;
                    for (t.i = 0; t.i < e.length; ++t.i) {
                        var i = e[t.i];
                        i.onLoad(), i._objFlags |= o
                    }
                })), f = new r.Pool(4);

            function d(t, e, i) {
                e ? t._removeComponent(e) : r.array.removeAt(t._components, i)
            }

            function _() {
                this._activatingStack = []
            }

            f.get = function () {
                var t = this._get() || {
                    preload: new l(h),
                    onLoad: new i.OneOffInvoker(u),
                    onEnable: new i.OneOffInvoker(i.invokeOnEnable)
                };
                t.preload._zero.i = -1;
                var e = t.onLoad;
                return e._zero.i = -1, e._neg.i = -1, e._pos.i = -1, (e = t.onEnable)._zero.i = -1, e._neg.i = -1, e._pos.i = -1, t
            };
            var p = cc.Class({
                ctor: _, reset: _, _activateNodeRecursively: function (t, e, i, n) {
                    if (t._objFlags & c) cc.errorID(3816, t.name); else {
                        t._activeInHierarchy = !0;
                        for (var r = t._components.length, s = 0; s < r; ++s) {
                            var a = t._components[s];
                            a instanceof cc.Component ? this.activateComp(a, e, i, n) : (d(t, a, s), --s, --r)
                        }
                        t._childArrivalOrder = t._children.length;
                        for (var o = 0, l = t._children.length; o < l; ++o) {
                            var h = t._children[o];
                            h._localZOrder = 4294901760 & h._localZOrder | o + 1, h._active && this._activateNodeRecursively(h, e, i, n)
                        }
                        t._onPostActivated(!0)
                    }
                }, _deactivateNodeRecursively: function (t) {
                    t._objFlags |= c, t._activeInHierarchy = !1;
                    for (var e = t._components.length, i = 0; i < e; ++i) {
                        var n = t._components[i];
                        if (n._enabled && (cc.director._compScheduler.disableComp(n), t._activeInHierarchy)) return void (t._objFlags &= ~c)
                    }
                    for (var r = 0, s = t._children.length; r < s; ++r) {
                        var a = t._children[r];
                        if (a._activeInHierarchy && (this._deactivateNodeRecursively(a), t._activeInHierarchy)) return void (t._objFlags &= ~c)
                    }
                    t._onPostActivated(!1), t._objFlags &= ~c
                }, activateNode: function (t, e) {
                    if (e) {
                        var i = f.get();
                        this._activatingStack.push(i), this._activateNodeRecursively(t, i.preload, i.onLoad, i.onEnable), i.preload.invoke(), i.onLoad.invoke(), i.onEnable.invoke(), this._activatingStack.pop(), f.put(i)
                    } else {
                        this._deactivateNodeRecursively(t);
                        for (var n = this._activatingStack, r = 0; r < n.length; r++) {
                            var o = n[r];
                            o.preload.cancelInactive(s), o.onLoad.cancelInactive(a), o.onEnable.cancelInactive()
                        }
                    }
                    t.emit("active-in-hierarchy-changed", t)
                }, activateComp: function (t, e, i, n) {
                    if (cc.isValid(t, !0) && (t._objFlags & s || (t._objFlags |= s, t.__preload && (e ? e.add(t) : t.__preload())), t._objFlags & a || (t._objFlags |= a, t.onLoad ? i ? i.add(t) : (t.onLoad(), t._objFlags |= o) : t._objFlags |= o), t._enabled)) {
                        if (!t.node._activeInHierarchy) return;
                        cc.director._compScheduler.enableComp(t, n)
                    }
                }, destroyComp: function (t) {
                    cc.director._compScheduler.disableComp(t), t.onDestroy && t._objFlags & o && t.onDestroy()
                }, resetComp: !1
            });
            e.exports = p
        }), {"./component-scheduler": 102, "./platform/CCObject": 173, "./platform/js": 188, "./utils/misc": 250}],
        167: [(function (t, e) {
            "use strict";
            var i = t("./js"), n = t("./CCEnum"), r = t("./utils"),
                s = (r.isPlainEmptyObj_DEV, r.cloneable_DEV, t("./attribute")), a = s.DELIMETER,
                o = t("./preprocess-class");
            t("./requiring-frame");
            var c = ["name", "extends", "mixins", "ctor", "__ctor__", "properties", "statics", "editor", "__ES6__"];

            function l(t, e) {
                t.indexOf(e) < 0 && t.push(e)
            }

            var h = {
                datas: null, push: function (t) {
                    if (this.datas) this.datas.push(t); else {
                        this.datas = [t];
                        var e = this;
                        setTimeout((function () {
                            e.init()
                        }), 0)
                    }
                }, init: function () {
                    var t = this.datas;
                    if (t) {
                        for (var e = 0; e < t.length; ++e) {
                            var n = t[e], r = n.cls, s = n.props;
                            "function" == typeof s && (s = s());
                            var a = i.getClassName(r);
                            s ? x(r, a, s, r.$super, n.mixins) : cc.errorID(3633, a)
                        }
                        this.datas = null
                    }
                }
            };

            function u(t, e) {
                l(t.__props__, e)
            }

            function f(t, e, i, n) {
                var r = n.default;
                s.setClassAttr(t, i, "default", r), u(t, i), w(t, n, 0, i)
            }

            function d(t, e, n, r, a) {
                var o = r.get, c = r.set, l = t.prototype, h = !Object.getOwnPropertyDescriptor(l, n);
                o && (w(t, r, 0, n), s.setClassAttr(t, n, "serializable", !1), a || i.get(l, n, o, h, h)), c && (a || i.set(l, n, c, h, h))
            }

            function _(t) {
                return "function" == typeof t ? t() : t
            }

            function p(t, e, n) {
                for (var r in e) t.hasOwnProperty(r) || n && !n(r) || Object.defineProperty(t, r, i.getPropertyDescriptor(e, r))
            }

            function v(t, e, n, r) {
                var a, o, c = r.__ctor__, l = r.ctor, h = r.__ES6__;
                h ? (a = [l], o = l) : (a = c ? [c] : E(e, n, r), o = T(a, e, t, r), i.value(o, "extend", (function (t) {
                    return t.extends = this, C(t)
                }), !0)), i.value(o, "__ctors__", a.length > 0 ? a : null, !0);
                var u = o.prototype;
                if (e && (h || (i.extend(o, e), u = o.prototype), o.$super = e), n) {
                    for (var f = n.length - 1; f >= 0; f--) {
                        var d = n[f];
                        p(u, d.prototype), p(o, d, (function (t) {
                            return d.hasOwnProperty(t) && !0
                        })), C._isCCClass(d) && p(s.getClassAttrs(o), s.getClassAttrs(d))
                    }
                    u.constructor = o
                }
                return h || (u.__initProps__ = y), i.setClassName(t, o), o
            }

            function g(t, e, n, r) {
                var s = cc.Component, a = cc._RF.peek();
                if (a && i.isChildClassOf(e, s)) {
                    if (i.isChildClassOf(a.cls, s)) return cc.errorID(3615), null;
                    t = t || a.script
                }
                var o = v(t, e, n, r);
                if (a) if (i.isChildClassOf(e, s)) {
                    var c = a.uuid;
                    c && i._setClassId(c, o), a.cls = o
                } else i.isChildClassOf(a.cls, s) || (a.cls = o);
                return o
            }

            function m(t, e) {
                var i = null, n = 0, r = 0;
                return (function () {
                    for (var s = null, o = null, c = null, l = 0; l < e.length; ++l) {
                        var h = e[l], u = h + a + "default";
                        if (u in t) {
                            var f = t[u];
                            "object" == typeof f && f || "function" == typeof f ? f instanceof cc.ValueType ? (o || (o = []), o.push(h, f)) : (c || (c = []), c.push(h, f)) : (s || (s = []), s.push(h, f))
                        }
                    }
                    n = s ? s.length : 0;
                    var d = (r = n + (o ? o.length : 0)) + (c ? c.length : 0);
                    i = new Array(d);
                    for (var _ = 0; _ < n; ++_) i[_] = s[_];
                    for (var p = n; p < r; ++p) i[p] = o[p - n];
                    for (var v = r; v < d; ++v) i[v] = c[v - r]
                })(), function () {
                    for (var t = 0; t < n; t += 2) this[i[t]] = i[t + 1];
                    for (; t < r; t += 2) this[i[t]] = i[t + 1].clone();
                    for (; t < i.length; t += 2) {
                        var e, s = i[t + 1];
                        Array.isArray(s) ? this[i[t]] = [] : (e = "object" == typeof s ? {} : s(), this[i[t]] = e)
                    }
                }
            }

            function y(t) {
                var e = s.getClassAttrs(t), i = t.__props__;
                null === i && (h.init(), i = t.__props__);
                var n = m(e, i);
                t.prototype.__initProps__ = n, n.call(this)
            }

            var T = function (t, e, i, n) {
                var r, s = e && b(e, n), a = t.length;
                return r = a > 0 ? s ? 2 === a ? function () {
                    this._super = null, this.__initProps__(r), t[0].apply(this, arguments), t[1].apply(this, arguments)
                } : function () {
                    this._super = null, this.__initProps__(r);
                    for (var e = 0; e < t.length; ++e) t[e].apply(this, arguments)
                } : 3 === a ? function () {
                    this.__initProps__(r), t[0].apply(this, arguments), t[1].apply(this, arguments), t[2].apply(this, arguments)
                } : function () {
                    this.__initProps__(r);
                    for (var t = r.__ctors__, e = 0; e < t.length; ++e) t[e].apply(this, arguments)
                } : function () {
                    s && (this._super = null), this.__initProps__(r)
                }
            };

            function E(t, e, i) {
                for (var n, r = [], s = [t].concat(e), a = 0; a < s.length; a++) {
                    var o = s[a];
                    if (o) for (var c = (n = o, C._isCCClass(n) ? n.__ctors__ || [] : [n]), h = 0; h < c.length; h++) l(r, c[h])
                }
                var u = i.ctor;
                return u && r.push(u), r
            }

            var A = /xyz/.test((function () {
                xyz
            })) ? /\b\._super\b/ : /.*/;

            function b(t, e) {
                var n = !1;
                for (var r in e) if (!(c.indexOf(r) >= 0)) {
                    var s = e[r];
                    if ("function" == typeof s) {
                        var a = i.getPropertyDescriptor(t.prototype, r);
                        if (a) {
                            var o = a.value;
                            if ("function" == typeof o) {
                                A.test(s) && (n = !0, e[r] = (function (t, e) {
                                    return function () {
                                        var i = this._super;
                                        this._super = t;
                                        var n = e.apply(this, arguments);
                                        return this._super = i, n
                                    }
                                })(o, s));
                                continue
                            }
                        }
                    }
                }
                return n
            }

            function x(t, e, i, n, r, c) {
                if (t.__props__ = [], n && n.__props__ && (t.__props__ = n.__props__.slice()), r) for (var l = 0; l < r.length; ++l) {
                    var h = r[l];
                    h.__props__ && (t.__props__ = t.__props__.concat(h.__props__.filter((function (e) {
                        return t.__props__.indexOf(e) < 0
                    }))))
                }
                if (i) for (var u in o.preprocessAttrs(i, e, t, c), i) {
                    var _ = i[u];
                    "default" in _ ? f(t, 0, u, _) : d(t, 0, u, _, c)
                }
                var p = s.getClassAttrs(t);
                t.__values__ = t.__props__.filter((function (t) {
                    return !1 !== p[t + a + "serializable"]
                }))
            }

            function C(t) {
                var e = (t = t || {}).name, n = t.extends, r = t.mixins, s = g(e, n, r, t);
                e || (e = cc.js.getClassName(s)), s._sealed = !0, n && (n._sealed = !1);
                var a = t.properties;
                "function" == typeof a || n && null === n.__props__ || r && r.some((function (t) {
                    return null === t.__props__
                })) ? (h.push({
                    cls: s,
                    props: a,
                    mixins: r
                }), s.__props__ = s.__values__ = null) : x(s, e, a, n, t.mixins, t.__ES6__);
                var l, u = t.statics;
                if (u) for (l in u) s[l] = u[l];
                for (var f in t) if (!(c.indexOf(f) >= 0)) {
                    var d = t[f];
                    o.validateMethodWithProps(d, f, e, s, n) && i.value(s.prototype, f, d, !0, !0)
                }
                var _ = t.editor;
                return _ && cc.Component._registerEditorProps(s, _), s
            }

            /xyz/.test((function () {
                xyz
            })), C._isCCClass = function (t) {
                return t && t.hasOwnProperty("__ctors__")
            }, C._fastDefine = function (t, e, n) {
                i.setClassName(t, e);
                for (var r = e.__props__ = e.__values__ = Object.keys(n), o = s.getClassAttrs(e), c = 0; c < r.length; c++) {
                    var l = r[c];
                    o[l + a + "visible"] = !1, o[l + a + "default"] = n[l]
                }
            }, C.Attr = s, C.attr = s.attr, C.getInheritanceChain = function (t) {
                for (var e = []; t = i.getSuper(t);) t !== Object && e.push(t);
                return e
            };
            var S = {Integer: "Number", Float: "Number", Boolean: "Boolean", String: "String"};

            function w(t, e, i, r) {
                var o = null, c = "";

                function l() {
                    return c = r + a, o = s.getClassAttrs(t)
                }

                var h = e.type;
                h && (S[h] ? (o || l())[c + "type"] = h : "Object" === h || (h === s.ScriptUuid ? ((o || l())[c + "type"] = "Script", o[c + "ctor"] = cc.ScriptAsset) : "object" == typeof h ? n.isEnum(h) && ((o || l())[c + "type"] = "Enum", o[c + "enumList"] = n.getList(h)) : "function" == typeof h && ((o || l())[c + "type"] = "Object", o[c + "ctor"] = h)));

                function u(t, i) {
                    if (t in e) {
                        var n = e[t];
                        typeof n === i && ((o || l())[c + t] = n)
                    }
                }

                e.editorOnly && ((o || l())[c + "editorOnly"] = !0), !1 === e.serializable && ((o || l())[c + "serializable"] = !1), u("formerlySerializedAs", "string");
                var f = e.range;
                f && Array.isArray(f) && f.length >= 2 && ((o || l())[c + "min"] = f[0], o[c + "max"] = f[1], f.length > 2 && (o[c + "step"] = f[2])), u("min", "number"), u("max", "number"), u("step", "number"), u("userData", "object")
            }

            cc.Class = C, e.exports = {
                isArray: function (t) {
                    return t = _(t), Array.isArray(t)
                },
                fastDefine: C._fastDefine,
                getNewValueTypeCode: !1,
                IDENTIFIER_RE: /^[A-Za-z_$][0-9A-Za-z_$]*$/,
                escapeForJS: function (t) {
                    return JSON.stringify(t).replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029")
                },
                getDefault: _
            }
        }), {
            "./CCEnum": 169,
            "./attribute": 179,
            "./js": 188,
            "./preprocess-class": 189,
            "./requiring-frame": 190,
            "./utils": 191
        }],
        168: [(function (t, e) {
            "use strict";
            t("./CCClass");
            var i = t("./preprocess-class"), n = t("./js"), r = "__ccclassCache__";

            function s(t) {
                return t
            }

            function a(t, e) {
                return t[e] || (t[e] = {})
            }

            function o(t) {
                return function (e) {
                    return "function" == typeof e ? t(e) : function (i) {
                        return t(i, e)
                    }
                }
            }

            function c(t, e) {
                return function (t) {
                    return function (i) {
                        return e(i, t)
                    }
                }
            }

            var l = c.bind(null, !1);

            function h() {
                return c.bind(null, !1)
            }

            var u = h(), f = h();

            function d(t) {
                return a(t, r)
            }

            function _(t) {
                var e;
                try {
                    e = t()
                } catch (i) {
                    return t
                }
                return "object" != typeof e || null === e ? e : t
            }

            function p(t) {
                var e;
                try {
                    e = new t
                } catch (i) {
                    return {}
                }
                return e
            }

            function v(t, e, r, s, a, o) {
                var c, l = a && (a.get || a.set);
                s && (c = i.getFullFormOfProperty(s, l));
                var h = e[r], u = n.mixin(h || {}, c || s || {});
                if (l) a.get && (u.get = a.get), a.set && (u.set = a.set); else {
                    var f = void 0;
                    if (a) a.initializer && (f = _(a.initializer)); else {
                        var d = o.default || (o.default = p(t));
                        d.hasOwnProperty(r) && (f = d[r])
                    }
                    u.default = f
                }
                e[r] = u
            }

            var g = o((function (t, e) {
                var i = n.getSuper(t);
                i === Object && (i = null);
                var s = {name: e, extends: i, ctor: t, __ES6__: !0}, a = t[r];
                if (a) {
                    var o = a.proto;
                    o && n.mixin(s, o), t[r] = void 0
                }
                return cc.Class(s)
            }));

            function m(t, e, i) {
                return t((function (t, n) {
                    var r = d(t);
                    if (r) {
                        var s = void 0 !== i ? i : n, o = a(r, "proto");
                        a(o, "editor")[e] = s
                    }
                }), e)
            }

            function y(t) {
                return t(s)
            }

            var T = y(o), E = m(l, "requireComponent"), A = y(u), b = m(f, "executionOrder"), x = y(o), C = y(o),
                S = y(u), w = y(u), M = y(u);
            cc._decorator = e.exports = {
                ccclass: g,
                property: function (t, e, i) {
                    var n = null;

                    function r(t, e, i) {
                        var r = d(t.constructor);
                        if (r) {
                            var s = a(r, "proto"), o = a(s, "properties");
                            v(t.constructor, o, e, n, i, r)
                        }
                    }

                    if (void 0 === e) return n = t, r;
                    r(t, e, i)
                },
                executeInEditMode: T,
                requireComponent: E,
                menu: A,
                executionOrder: b,
                disallowMultiple: x,
                playOnFocus: C,
                inspector: S,
                icon: w,
                help: M,
                mixins: function () {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    return function (e) {
                        var i = d(e);
                        i && (a(i, "proto").mixins = t)
                    }
                }
            }
        }), {"./CCClass": 167, "./js": 188, "./preprocess-class": 189, "./utils": 191}],
        169: [(function (t, e) {
            "use strict";
            var i = t("./js");

            function n(t) {
                if ("__enums__" in t) return t;
                i.value(t, "__enums__", null, !0);
                for (var e = -1, n = Object.keys(t), r = 0; r < n.length; r++) {
                    var s = n[r], a = t[s];
                    if (-1 === a) a = ++e, t[s] = a; else if ("number" == typeof a) e = a; else if ("string" == typeof a && Number.isInteger(parseFloat(s))) continue;
                    var o = "" + a;
                    s !== o && i.value(t, o, s)
                }
                return t
            }

            n.isEnum = function (t) {
                return t && t.hasOwnProperty("__enums__")
            }, n.getList = function (t) {
                if (t.__enums__) return t.__enums__;
                var e = t.__enums__ = [];
                for (var i in t) {
                    var n = t[i];
                    Number.isInteger(n) && e.push({name: i, value: n})
                }
                return e.sort((function (t, e) {
                    return t.value - e.value
                })), e
            }, e.exports = cc.Enum = n
        }), {"./js": 188}],
        170: [(function (t) {
            "use strict";
            var e, i = t("../event-manager"), n = t("./CCInputManager");
            cc.Acceleration = function (t, e, i, n) {
                this.x = t || 0, this.y = e || 0, this.z = i || 0, this.timestamp = n || 0
            }, n.setAccelerometerEnabled = function (t) {
                var e = this;
                if (e._accelEnabled !== t) {
                    e._accelEnabled = t;
                    var i = cc.director.getScheduler();
                    i.enableForTarget(e), e._accelEnabled ? (e._registerAccelerometerEvent(), e._accelCurTime = 0, i.scheduleUpdate(e)) : (e._unregisterAccelerometerEvent(), e._accelCurTime = 0, i.unscheduleUpdate(e))
                }
            }, n.setAccelerometerInterval = function (t) {
                this._accelInterval !== t && (this._accelInterval = t)
            }, n._registerKeyboardEvent = function () {
                cc.game.canvas.addEventListener("keydown", (function (t) {
                    i.dispatchEvent(new cc.Event.EventKeyboard(t.keyCode, !0)), t.stopPropagation(), t.preventDefault()
                }), !1), cc.game.canvas.addEventListener("keyup", (function (t) {
                    i.dispatchEvent(new cc.Event.EventKeyboard(t.keyCode, !1)), t.stopPropagation(), t.preventDefault()
                }), !1)
            }, n._registerAccelerometerEvent = function () {
                var t = window, i = this;
                i._acceleration = new cc.Acceleration, i._accelDeviceEvent = t.DeviceMotionEvent || t.DeviceOrientationEvent, cc.sys.browserType === cc.sys.BROWSER_TYPE_MOBILE_QQ && (i._accelDeviceEvent = window.DeviceOrientationEvent);
                var n = i._accelDeviceEvent === t.DeviceMotionEvent ? "devicemotion" : "deviceorientation",
                    r = navigator.userAgent;
                (/Android/.test(r) || /Adr/.test(r) && cc.sys.browserType === cc.BROWSER_TYPE_UC) && (i._minus = -1), e = i.didAccelerate.bind(i), t.addEventListener(n, e, !1)
            }, n._unregisterAccelerometerEvent = function () {
                var t = window,
                    i = this._accelDeviceEvent === t.DeviceMotionEvent ? "devicemotion" : "deviceorientation";
                e && t.removeEventListener(i, e, !1)
            }, n.didAccelerate = function (t) {
                var e = this, i = window;
                if (e._accelEnabled) {
                    var n, r, s, a = e._acceleration;
                    if (e._accelDeviceEvent === window.DeviceMotionEvent) {
                        var o = t.accelerationIncludingGravity;
                        n = e._accelMinus * o.x * .1, r = e._accelMinus * o.y * .1, s = .1 * o.z
                    } else n = t.gamma / 90 * .981, r = -t.beta / 90 * .981, s = t.alpha / 90 * .981;
                    if (cc.view._isRotated) {
                        var c = n;
                        n = -r, r = c
                    }
                    a.x = n, a.y = r, a.z = s, a.timestamp = t.timeStamp || Date.now();
                    var l = a.x;
                    90 === i.orientation ? (a.x = -a.y, a.y = l) : -90 === i.orientation ? (a.x = a.y, a.y = -l) : 180 === i.orientation && (a.x = -a.x, a.y = -a.y), cc.sys.os === cc.sys.OS_ANDROID && cc.sys.browserType !== cc.sys.BROWSER_TYPE_MOBILE_QQ && (a.x = -a.x, a.y = -a.y)
                }
            }
        }), {"../event-manager": 138, "./CCInputManager": 171}],
        171: [(function (t, e) {
            "use strict";
            var i = t("./CCMacro"), n = t("./CCSys"), r = t("../event-manager"), s = cc.v2(), a = {
                _mousePressed: !1,
                _isRegisterEvent: !1,
                _preTouchPoint: cc.v2(0, 0),
                _prevMousePoint: cc.v2(0, 0),
                _preTouchPool: [],
                _preTouchPoolPointer: 0,
                _touches: [],
                _maxTouches: 10,
                _touchesIntegerDict: {},
                _indexBitsUsed: 0,
                _touchesCache: {},
                _touchCount: 0,
                _accelEnabled: !1,
                _accelInterval: .2,
                _accelMinus: 1,
                _accelCurTime: 0,
                _acceleration: null,
                _accelDeviceEvent: null,
                _canvasBoundingRect: {left: 0, top: 0, adjustedLeft: 0, adjustedTop: 0, width: 0, height: 0},
                _getUnUsedIndex: function () {
                    for (var t = cc.sys.now(), e = i.TOUCH_TIMEOUT, n = this._indexBitsUsed, r = -1, s = this._touches, a = this._touchesIntegerDict, o = this._touchesCache, c = 0; c < this._maxTouches; c++) {
                        if (1 & n) {
                            var l = s[c];
                            if (l && t - l._lastModified > e) {
                                var h = l.getID();
                                delete a[h], delete o[h], this._touchCount--, -1 === r ? (r = c, this._indexBitsUsed |= 1 << c) : this._indexBitsUsed &= ~(1 << c)
                            }
                        } else -1 === r && (r = c, this._indexBitsUsed |= 1 << c);
                        n >>= 1
                    }
                    return r
                },
                _glView: null,
                _updateCanvasBoundingRect: function () {
                    var t = cc.game.canvas, e = this._canvasBoundingRect, i = document.documentElement,
                        n = window.pageXOffset - i.clientLeft, r = window.pageYOffset - i.clientTop;
                    if (t.getBoundingClientRect) {
                        var s = t.getBoundingClientRect();
                        e.left = s.left + n, e.top = s.top + r, e.width = s.width, e.height = s.height
                    } else t instanceof HTMLCanvasElement ? (e.left = n, e.top = r, e.width = t.width, e.height = t.height) : (e.left = n, e.top = r, e.width = parseInt(t.style.width), e.height = parseInt(t.style.height))
                },
                handleTouchesBegin: function (t) {
                    for (var e, i, s = n.now(), a = [], o = this._touches, c = this._touchesIntegerDict, l = this._touchesCache, h = 0, u = t.length; h < u; h++) if (void 0 === c[i = (e = t[h]).getID()]) {
                        var f = this._getUnUsedIndex();
                        if (-1 === f) {
                            cc.logID(2300, f);
                            continue
                        }
                        var d = new cc.Touch(e._point.x, e._point.y, i);
                        d._setPrevPoint(e._prevPoint), d._lastModified = s, o[f] = d, c[i] = f, l[i] = d, this._touchCount++, a.push(d)
                    }
                    if (a.length > 0) {
                        this._glView._convertTouchesWithScale(a);
                        var _ = new cc.Event.EventTouch(a);
                        _._eventCode = cc.Event.EventTouch.BEGAN, r.dispatchEvent(_)
                    }
                },
                handleTouchesMove: function (t) {
                    for (var e, i, s = n.now(), a = [], o = this._touches, c = this._touchesIntegerDict, l = 0, h = t.length; l < h; l++) if (void 0 !== (i = c[(e = t[l]).getID()])) {
                        var u = o[i];
                        u && (u._setPoint(e._point), u._setPrevPoint(e._prevPoint), u._lastModified = s, a.push(u))
                    }
                    if (a.length > 0) {
                        this._glView._convertTouchesWithScale(a);
                        var f = new cc.Event.EventTouch(a);
                        f._eventCode = cc.Event.EventTouch.MOVED, r.dispatchEvent(f)
                    }
                },
                handleTouchesEnd: function (t) {
                    var e = this.getSetOfTouchesEndOrCancel(t);
                    if (e.length > 0) {
                        this._glView._convertTouchesWithScale(e);
                        var i = new cc.Event.EventTouch(e);
                        i._eventCode = cc.Event.EventTouch.ENDED, r.dispatchEvent(i)
                    }
                    this._preTouchPool.length = 0
                },
                handleTouchesCancel: function (t) {
                    var e = this.getSetOfTouchesEndOrCancel(t);
                    if (e.length > 0) {
                        this._glView._convertTouchesWithScale(e);
                        var i = new cc.Event.EventTouch(e);
                        i._eventCode = cc.Event.EventTouch.CANCELED, r.dispatchEvent(i)
                    }
                    this._preTouchPool.length = 0
                },
                getSetOfTouchesEndOrCancel: function (t) {
                    for (var e, i, n, r = [], s = this._touches, a = this._touchesIntegerDict, o = this._touchesCache, c = 0, l = t.length; c < l; c++) if (void 0 !== (i = a[n = (e = t[c]).getID()])) {
                        var h = s[i];
                        h && (h._setPoint(e._point), h._setPrevPoint(e._prevPoint), r.push(h), delete a[n], delete o[n], this._touchCount--, this._indexBitsUsed &= ~(1 << i))
                    }
                    return r
                },
                getGlobalTouchCount: function () {
                    return this._touchCount
                },
                getGlobalTouches: function () {
                    return this._touchesCache
                },
                getPreTouch: function (t) {
                    for (var e = null, i = this._preTouchPool, n = t.getID(), r = i.length - 1; r >= 0; r--) if (i[r].getID() === n) {
                        e = i[r];
                        break
                    }
                    return e || (e = t), e
                },
                setPreTouch: function (t) {
                    for (var e = !1, i = this._preTouchPool, n = t.getID(), r = i.length - 1; r >= 0; r--) if (i[r].getID() === n) {
                        i[r] = t, e = !0;
                        break
                    }
                    e || (i.length <= 50 ? i.push(t) : (i[this._preTouchPoolPointer] = t, this._preTouchPoolPointer = (this._preTouchPoolPointer + 1) % 50))
                },
                getTouchByXY: function (t, e, i) {
                    var n = this._preTouchPoint, r = this._glView.convertToLocationInView(t, e, i),
                        s = new cc.Touch(r.x, r.y, 0);
                    return s._setPrevPoint(n.x, n.y), n.x = r.x, n.y = r.y, s
                },
                getMouseEvent: function (t, e, i) {
                    var n = this._prevMousePoint, r = new cc.Event.EventMouse(i);
                    return r._setPrevCursor(n.x, n.y), n.x = t.x, n.y = t.y, this._glView._convertMouseToLocationInView(n, e), r.setLocation(n.x, n.y), r
                },
                getPointByEvent: function (t, e) {
                    return cc.sys.browserType !== cc.sys.BROWSER_TYPE_QQ && cc.sys.browserType !== cc.sys.BROWSER_TYPE_UC && cc.sys.browserType !== cc.sys.BROWSER_TYPE_SAFARI || this._updateCanvasBoundingRect(), null != t.pageX ? {
                        x: t.pageX,
                        y: t.pageY
                    } : (e.left -= document.body.scrollLeft, e.top -= document.body.scrollTop, {
                        x: t.clientX,
                        y: t.clientY
                    })
                },
                getTouchesByEvent: function (t, e) {
                    for (var i, r, a, o = [], c = this._glView, l = this._preTouchPoint, h = t.changedTouches.length, u = 0; u < h; u++) if (i = t.changedTouches[u]) {
                        var f;
                        f = n.BROWSER_TYPE_FIREFOX === n.browserType ? c.convertToLocationInView(i.pageX, i.pageY, e, s) : c.convertToLocationInView(i.clientX, i.clientY, e, s), null != i.identifier ? (r = new cc.Touch(f.x, f.y, i.identifier), a = this.getPreTouch(r).getLocation(), r._setPrevPoint(a.x, a.y), this.setPreTouch(r)) : (r = new cc.Touch(f.x, f.y))._setPrevPoint(l.x, l.y), l.x = f.x, l.y = f.y, o.push(r)
                    }
                    return o
                },
                registerSystemEvent: function (t) {
                    if (!this._isRegisterEvent) {
                        this._glView = cc.view;
                        var e = this, i = this._canvasBoundingRect;
                        window.addEventListener("resize", this._updateCanvasBoundingRect.bind(this));
                        var s = n.isMobile, a = "mouse" in n.capabilities, o = "touches" in n.capabilities;
                        if (a) {
                            s || (window.addEventListener("mousedown", (function () {
                                e._mousePressed = !0
                            }), !1), window.addEventListener("mouseup", (function (t) {
                                if (e._mousePressed) {
                                    e._mousePressed = !1;
                                    var n = e.getPointByEvent(t, i);
                                    if (!cc.rect(i.left, i.top, i.width, i.height).contains(n)) {
                                        e.handleTouchesEnd([e.getTouchByXY(n.x, n.y, i)]);
                                        var s = e.getMouseEvent(n, i, cc.Event.EventMouse.UP);
                                        s.setButton(t.button), r.dispatchEvent(s)
                                    }
                                }
                            }), !1));
                            for (var c = cc.Event.EventMouse, l = [!s && ["mousedown", c.DOWN, function (i, n, r, s) {
                                e._mousePressed = !0, e.handleTouchesBegin([e.getTouchByXY(r.x, r.y, s)]), t.focus()
                            }], !s && ["mouseup", c.UP, function (t, i, n, r) {
                                e._mousePressed = !1, e.handleTouchesEnd([e.getTouchByXY(n.x, n.y, r)])
                            }], !s && ["mousemove", c.MOVE, function (t, i, n, r) {
                                e.handleTouchesMove([e.getTouchByXY(n.x, n.y, r)]), e._mousePressed || i.setButton(null)
                            }], ["mousewheel", c.SCROLL, function (t, e) {
                                e.setScrollData(0, t.wheelDelta)
                            }], ["DOMMouseScroll", c.SCROLL, function (t, e) {
                                e.setScrollData(0, -120 * t.detail)
                            }]], h = function () {
                                var n = l[u];
                                if (n) {
                                    var s = n[0], a = n[1], o = n[2];
                                    t.addEventListener(s, (function (t) {
                                        var n = e.getPointByEvent(t, i), s = e.getMouseEvent(n, i, a);
                                        s.setButton(t.button), o(t, s, n, i), r.dispatchEvent(s), t.stopPropagation(), t.preventDefault()
                                    }), !1)
                                }
                            }, u = 0; u < l.length; ++u) h()
                        }
                        if (window.navigator.msPointerEnabled) {
                            var f = {
                                MSPointerDown: e.handleTouchesBegin,
                                MSPointerMove: e.handleTouchesMove,
                                MSPointerUp: e.handleTouchesEnd,
                                MSPointerCancel: e.handleTouchesCancel
                            }, d = function () {
                                var n = f[_];
                                t.addEventListener(_, (function (t) {
                                    var r = document.documentElement;
                                    i.adjustedLeft = i.left - r.scrollLeft, i.adjustedTop = i.top - r.scrollTop, n.call(e, [e.getTouchByXY(t.clientX, t.clientY, i)]), t.stopPropagation()
                                }), !1)
                            };
                            for (var _ in f) d()
                        }
                        if (o) {
                            var p = {
                                touchstart: function (i) {
                                    e.handleTouchesBegin(i), t.focus()
                                }, touchmove: function (t) {
                                    e.handleTouchesMove(t)
                                }, touchend: function (t) {
                                    e.handleTouchesEnd(t)
                                }, touchcancel: function (t) {
                                    e.handleTouchesCancel(t)
                                }
                            }, v = function (n) {
                                var r = p[n];
                                t.addEventListener(n, (function (t) {
                                    if (t.changedTouches) {
                                        var n = document.body;
                                        i.adjustedLeft = i.left - (n.scrollLeft || window.scrollX || 0), i.adjustedTop = i.top - (n.scrollTop || window.scrollY || 0), r(e.getTouchesByEvent(t, i)), t.stopPropagation(), t.preventDefault()
                                    }
                                }), !1)
                            };
                            for (var g in p) v(g)
                        }
                        this._registerKeyboardEvent(), this._isRegisterEvent = !0
                    }
                },
                _registerKeyboardEvent: function () {
                },
                _registerAccelerometerEvent: function () {
                },
                update: function (t) {
                    this._accelCurTime > this._accelInterval && (this._accelCurTime -= this._accelInterval, r.dispatchEvent(new cc.Event.EventAcceleration(this._acceleration))), this._accelCurTime += t
                }
            };
            e.exports = cc.internal.inputManager = a
        }), {"../event-manager": 138, "./CCMacro": 172, "./CCSys": 176}],
        172: [(function (t, e) {
            "use strict";
            cc.macro = {
                RAD: Math.PI / 180,
                DEG: 180 / Math.PI,
                REPEAT_FOREVER: Number.MAX_VALUE - 1,
                FLT_EPSILON: 1.192092896e-7,
                MIN_ZINDEX: -Math.pow(2, 15),
                MAX_ZINDEX: Math.pow(2, 15) - 1,
                ONE: 1,
                ZERO: 0,
                SRC_ALPHA: 770,
                SRC_ALPHA_SATURATE: 776,
                SRC_COLOR: 768,
                DST_ALPHA: 772,
                DST_COLOR: 774,
                ONE_MINUS_SRC_ALPHA: 771,
                ONE_MINUS_SRC_COLOR: 769,
                ONE_MINUS_DST_ALPHA: 773,
                ONE_MINUS_DST_COLOR: 775,
                ONE_MINUS_CONSTANT_ALPHA: 32772,
                ONE_MINUS_CONSTANT_COLOR: 32770,
                ORIENTATION_PORTRAIT: 1,
                ORIENTATION_LANDSCAPE: 2,
                ORIENTATION_AUTO: 3,
                DENSITYDPI_DEVICE: "device-dpi",
                DENSITYDPI_HIGH: "high-dpi",
                DENSITYDPI_MEDIUM: "medium-dpi",
                DENSITYDPI_LOW: "low-dpi",
                FIX_ARTIFACTS_BY_STRECHING_TEXEL_TMX: !0,
                DIRECTOR_STATS_POSITION: cc.v2(0, 0),
                ENABLE_STACKABLE_ACTIONS: !0,
                TOUCH_TIMEOUT: 5e3,
                BATCH_VERTEX_COUNT: 2e4,
                ENABLE_TILEDMAP_CULLING: !0,
                ENABLE_TRANSPARENT_CANVAS: !1,
                ENABLE_WEBGL_ANTIALIAS: !1,
                ENABLE_CULLING: !1,
                CLEANUP_IMAGE_CACHE: !1,
                SHOW_MESH_WIREFRAME: !1,
                SHOW_MESH_NORMAL: !1,
                ENABLE_MULTI_TOUCH: !0,
                ALLOW_IMAGE_BITMAP: !cc.sys.isMobile,
                ENABLE_NATIVE_TTF_RENDERER: !0
            }, Object.defineProperty(cc.macro, "ROTATE_ACTION_CCW", {
                set: function (t) {
                    cc.RotateTo && cc.RotateBy && (cc.RotateTo._reverse = cc.RotateBy._reverse = t)
                }
            }), cc.macro.SUPPORT_TEXTURE_FORMATS = [".pkm", ".pvr", ".webp", ".jpg", ".jpeg", ".bmp", ".png"], cc.macro.KEY = {
                none: 0,
                back: 6,
                menu: 18,
                backspace: 8,
                tab: 9,
                enter: 13,
                shift: 16,
                ctrl: 17,
                alt: 18,
                pause: 19,
                capslock: 20,
                escape: 27,
                space: 32,
                pageup: 33,
                pagedown: 34,
                end: 35,
                home: 36,
                left: 37,
                up: 38,
                right: 39,
                down: 40,
                select: 41,
                insert: 45,
                Delete: 46,
                0: 48,
                1: 49,
                2: 50,
                3: 51,
                4: 52,
                5: 53,
                6: 54,
                7: 55,
                8: 56,
                9: 57,
                a: 65,
                b: 66,
                c: 67,
                d: 68,
                e: 69,
                f: 70,
                g: 71,
                h: 72,
                i: 73,
                j: 74,
                k: 75,
                l: 76,
                m: 77,
                n: 78,
                o: 79,
                p: 80,
                q: 81,
                r: 82,
                s: 83,
                t: 84,
                u: 85,
                v: 86,
                w: 87,
                x: 88,
                y: 89,
                z: 90,
                num0: 96,
                num1: 97,
                num2: 98,
                num3: 99,
                num4: 100,
                num5: 101,
                num6: 102,
                num7: 103,
                num8: 104,
                num9: 105,
                "*": 106,
                "+": 107,
                "-": 109,
                numdel: 110,
                "/": 111,
                f1: 112,
                f2: 113,
                f3: 114,
                f4: 115,
                f5: 116,
                f6: 117,
                f7: 118,
                f8: 119,
                f9: 120,
                f10: 121,
                f11: 122,
                f12: 123,
                numlock: 144,
                scrolllock: 145,
                ";": 186,
                semicolon: 186,
                equal: 187,
                "=": 187,
                ",": 188,
                comma: 188,
                dash: 189,
                ".": 190,
                period: 190,
                forwardslash: 191,
                grave: 192,
                "[": 219,
                openbracket: 219,
                backslash: 220,
                "]": 221,
                closebracket: 221,
                quote: 222,
                dpadLeft: 1e3,
                dpadRight: 1001,
                dpadUp: 1003,
                dpadDown: 1004,
                dpadCenter: 1005
            }, cc.macro.ImageFormat = cc.Enum({
                JPG: 0,
                PNG: 1,
                TIFF: 2,
                WEBP: 3,
                PVR: 4,
                ETC: 5,
                S3TC: 6,
                ATITC: 7,
                TGA: 8,
                RAWDATA: 9,
                UNKNOWN: 10
            }), cc.macro.BlendFactor = cc.Enum({
                ONE: 1,
                ZERO: 0,
                SRC_ALPHA: 770,
                SRC_COLOR: 768,
                DST_ALPHA: 772,
                DST_COLOR: 774,
                ONE_MINUS_SRC_ALPHA: 771,
                ONE_MINUS_SRC_COLOR: 769,
                ONE_MINUS_DST_ALPHA: 773,
                ONE_MINUS_DST_COLOR: 775
            }), cc.macro.TextAlignment = cc.Enum({
                LEFT: 0,
                CENTER: 1,
                RIGHT: 2
            }), cc.macro.VerticalTextAlignment = cc.Enum({TOP: 0, CENTER: 1, BOTTOM: 2}), e.exports = cc.macro
        }), {}],
        173: [(function (t, e) {
            "use strict";
            var i = t("./js"), n = t("./CCClass"), r = 1;

            function s() {
                this._name = "", this._objFlags = 0
            }

            n.fastDefine("cc.Object", s, {_name: "", _objFlags: 0}), i.value(s, "Flags", {
                Destroyed: r,
                DontSave: 8,
                EditorOnly: 16,
                Dirty: 32,
                DontDestroy: 64,
                PersistentMask: -4192741,
                Destroying: 128,
                Deactivating: 256,
                LockedInEditor: 512,
                HideInHierarchy: 1024,
                IsPreloadStarted: 8192,
                IsOnLoadStarted: 32768,
                IsOnLoadCalled: 16384,
                IsOnEnableCalled: 2048,
                IsStartCalled: 65536,
                IsEditorOnEnableCalled: 4096,
                IsPositionLocked: 1 << 21,
                IsRotationLocked: 1 << 17,
                IsScaleLocked: 1 << 18,
                IsAnchorLocked: 1 << 19,
                IsSizeLocked: 1 << 20
            });
            var a = [];
            i.value(s, "_deferredDestroy", (function () {
                for (var t = a.length, e = 0; e < t; ++e) {
                    var i = a[e];
                    i._objFlags & r || i._destroyImmediate()
                }
                t === a.length ? a.length = 0 : a.splice(0, t)
            }));
            var o = s.prototype;

            function c(t, e) {
                var i, n = t instanceof cc._BaseNode || t instanceof cc.Component, r = n ? "_id" : null, s = {};
                for (i in t) if (t.hasOwnProperty(i)) {
                    if (i === r) continue;
                    switch (typeof t[i]) {
                        case"string":
                            s[i] = "";
                            break;
                        case"object":
                        case"function":
                            s[i] = null
                    }
                }
                if (cc.Class._isCCClass(e)) for (var a = cc.Class.Attr.getClassAttrs(e), o = e.__props__, c = 0; c < o.length; c++) {
                    var l = (i = o[c]) + cc.Class.Attr.DELIMETER + "default";
                    if (l in a) {
                        if (n && "_id" === i) continue;
                        switch (typeof a[l]) {
                            case"string":
                                s[i] = "";
                                break;
                            case"object":
                            case"function":
                                s[i] = null;
                                break;
                            case"undefined":
                                s[i] = void 0
                        }
                    }
                }
                return function (t) {
                    for (var e in s) t[e] = s[e]
                }
            }

            i.getset(o, "name", (function () {
                return this._name
            }), (function (t) {
                this._name = t
            }), !0), i.get(o, "isValid", (function () {
                return !(this._objFlags & r)
            }), !0), o.destroy = function () {
                return this._objFlags & r ? (cc.warnID(5e3), !1) : !(4 & this._objFlags || (this._objFlags |= 4, a.push(this), 0))
            }, o._destruct = function () {
                var t = this.constructor, e = t.__destruct__;
                e || (e = c(this, t), i.value(t, "__destruct__", e, !0)), e(this)
            }, o._onPreDestroy = null, o._destroyImmediate = function () {
                this._objFlags & r ? cc.errorID(5e3) : (this._onPreDestroy && this._onPreDestroy(), this._destruct(), this._objFlags |= r)
            }, o._deserialize = null, cc.isValid = function (t, e) {
                return "object" == typeof t ? !(!t || t._objFlags & (e ? 4 | r : r)) : void 0 !== t
            }, cc.Object = e.exports = s
        }), {"./CCClass": 167, "./js": 188}],
        174: [(function (t, e) {
            "use strict";
            var i = t("../platform/js");
            cc.SAXParser = function () {
                window.DOMParser ? (this._isSupportDOMParser = !0, this._parser = new DOMParser) : (this._isSupportDOMParser = !1, this._parser = null)
            }, cc.SAXParser.prototype = {
                constructor: cc.SAXParser, parse: function (t) {
                    return this._parseXML(t)
                }, _parseXML: function (t) {
                    var e;
                    return this._isSupportDOMParser ? e = this._parser.parseFromString(t, "text/xml") : ((e = new ActiveXObject("Microsoft.XMLDOM")).async = "false", e.loadXML(t)), e
                }
            }, cc.PlistParser = function () {
                cc.SAXParser.call(this)
            }, i.extend(cc.PlistParser, cc.SAXParser), i.mixin(cc.PlistParser.prototype, {
                parse: function (t) {
                    var e = this._parseXML(t), i = e.documentElement;
                    if ("plist" !== i.tagName) return cc.warnID(5100), {};
                    for (var n = null, r = 0, s = i.childNodes.length; r < s && 1 !== (n = i.childNodes[r]).nodeType; r++) ;
                    return e = null, this._parseNode(n)
                }, _parseNode: function (t) {
                    var e = null, i = t.tagName;
                    if ("dict" === i) e = this._parseDict(t); else if ("array" === i) e = this._parseArray(t); else if ("string" === i) if (1 === t.childNodes.length) e = t.firstChild.nodeValue; else {
                        e = "";
                        for (var n = 0; n < t.childNodes.length; n++) e += t.childNodes[n].nodeValue
                    } else "false" === i ? e = !1 : "true" === i ? e = !0 : "real" === i ? e = parseFloat(t.firstChild.nodeValue) : "integer" === i && (e = parseInt(t.firstChild.nodeValue, 10));
                    return e
                }, _parseArray: function (t) {
                    for (var e = [], i = 0, n = t.childNodes.length; i < n; i++) {
                        var r = t.childNodes[i];
                        1 === r.nodeType && e.push(this._parseNode(r))
                    }
                    return e
                }, _parseDict: function (t) {
                    for (var e = {}, i = null, n = 0, r = t.childNodes.length; n < r; n++) {
                        var s = t.childNodes[n];
                        1 === s.nodeType && ("key" === s.tagName ? i = s.firstChild.nodeValue : e[i] = this._parseNode(s))
                    }
                    return e
                }
            }), cc.saxParser = new cc.SAXParser, cc.plistParser = new cc.PlistParser, e.exports = {
                saxParser: cc.saxParser,
                plistParser: cc.plistParser
            }
        }), {"../platform/js": 188}],
        175: [(function () {
            "use strict";
            cc.screen = {
                _supportsFullScreen: !1,
                _onfullscreenchange: null,
                _onfullscreenerror: null,
                _preOnFullScreenChange: null,
                _preOnFullScreenError: null,
                _preOnTouch: null,
                _touchEvent: "",
                _fn: null,
                _fnMap: [["requestFullscreen", "exitFullscreen", "fullscreenchange", "fullscreenEnabled", "fullscreenElement", "fullscreenerror"], ["requestFullScreen", "exitFullScreen", "fullScreenchange", "fullScreenEnabled", "fullScreenElement", "fullscreenerror"], ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitIsFullScreen", "webkitCurrentFullScreenElement", "webkitfullscreenerror"], ["mozRequestFullScreen", "mozCancelFullScreen", "mozfullscreenchange", "mozFullScreen", "mozFullScreenElement", "mozfullscreenerror"], ["msRequestFullscreen", "msExitFullscreen", "MSFullscreenChange", "msFullscreenEnabled", "msFullscreenElement", "msfullscreenerror"]],
                init: function () {
                    this._fn = {};
                    var t, e, i, n, r = this._fnMap;
                    for (t = 0, e = r.length; t < e; t++) if ((i = r[t]) && void 0 !== document[i[1]]) {
                        for (t = 0, n = i.length; t < n; t++) this._fn[r[0][t]] = i[t];
                        break
                    }
                    this._supportsFullScreen = void 0 !== this._fn.requestFullscreen, this._touchEvent = "ontouchend" in window ? "touchend" : "mousedown"
                },
                fullScreen: function () {
                    return !!this._supportsFullScreen && !!(document[this._fn.fullscreenElement] || document[this._fn.webkitFullscreenElement] || document[this._fn.mozFullScreenElement])
                },
                requestFullScreen: function (t, e, i) {
                    if (t && "video" === t.tagName.toLowerCase()) {
                        if (cc.sys.os === cc.sys.OS_IOS && cc.sys.isBrowser && t.readyState > 0) return void (t.webkitEnterFullscreen && t.webkitEnterFullscreen());
                        t.setAttribute("x5-video-player-fullscreen", "true")
                    }
                    if (this._supportsFullScreen) {
                        if (t = t || document.documentElement, e) {
                            var n = this._fn.fullscreenchange;
                            this._onfullscreenchange && document.removeEventListener(n, this._onfullscreenchange), this._onfullscreenchange = e, document.addEventListener(n, e, !1)
                        }
                        if (i) {
                            var r = this._fn.fullscreenerror;
                            this._onfullscreenerror && document.removeEventListener(r, this._onfullscreenerror), this._onfullscreenerror = i, document.addEventListener(r, i, {once: !0})
                        }
                        var s = t[this._fn.requestFullscreen]();
                        void 0 === document[this._fn.fullscreenerror] && window.Promise && s instanceof Promise && s.catch((function () {
                        }))
                    }
                },
                exitFullScreen: function (t) {
                    if (t && "video" === t.tagName.toLowerCase()) {
                        if (cc.sys.os === cc.sys.OS_IOS && cc.sys.isBrowser) return void (t.webkitExitFullscreen && t.webkitExitFullscreen());
                        t.setAttribute("x5-video-player-fullscreen", "false")
                    }
                    return !this._supportsFullScreen || document[this._fn.exitFullscreen]()
                },
                autoFullScreen: function (t, e) {
                    t = t || document.body, this._ensureFullScreen(t, e), this.requestFullScreen(t, e)
                },
                disableAutoFullScreen: function (t) {
                    var e = cc.game.canvas || t, i = this._touchEvent;
                    this._preOnTouch && (e.removeEventListener(i, this._preOnTouch), this._preOnTouch = null)
                },
                _ensureFullScreen: function (t, e) {
                    var i = this, n = cc.game.canvas || t, r = this._fn.fullscreenerror, s = this._touchEvent;

                    function a() {
                        i._preOnFullScreenError = null, i._preOnTouch && n.removeEventListener(s, i._preOnTouch), i._preOnTouch = function () {
                            i._preOnTouch = null, i.requestFullScreen(t, e)
                        }, n.addEventListener(s, i._preOnTouch, {once: !0})
                    }

                    this._preOnFullScreenError && t.removeEventListener(r, this._preOnFullScreenError), this._preOnFullScreenError = a, t.addEventListener(r, a, {once: !0})
                }
            }, cc.screen.init()
        }), {}],
        176: [(function (t, e) {
            "use strict";
            window._CCSettings && _CCSettings.platform;
            var i = "undefined" == typeof window ? global : window, n = cc && cc.sys ? cc.sys : (function () {
                cc.sys = {};
                var t, e, n = cc.sys;
                if (n.LANGUAGE_ENGLISH = "en", n.LANGUAGE_CHINESE = "zh", n.LANGUAGE_FRENCH = "fr", n.LANGUAGE_ITALIAN = "it", n.LANGUAGE_GERMAN = "de", n.LANGUAGE_SPANISH = "es", n.LANGUAGE_DUTCH = "du", n.LANGUAGE_RUSSIAN = "ru", n.LANGUAGE_KOREAN = "ko", n.LANGUAGE_JAPANESE = "ja", n.LANGUAGE_HUNGARIAN = "hu", n.LANGUAGE_PORTUGUESE = "pt", n.LANGUAGE_ARABIC = "ar", n.LANGUAGE_NORWEGIAN = "no", n.LANGUAGE_POLISH = "pl", n.LANGUAGE_TURKISH = "tr", n.LANGUAGE_UKRAINIAN = "uk", n.LANGUAGE_ROMANIAN = "ro", n.LANGUAGE_BULGARIAN = "bg", n.LANGUAGE_UNKNOWN = "unknown", n.OS_IOS = "iOS", n.OS_ANDROID = "Android", n.OS_WINDOWS = "Windows", n.OS_MARMALADE = "Marmalade", n.OS_LINUX = "Linux", n.OS_BADA = "Bada", n.OS_BLACKBERRY = "Blackberry", n.OS_OSX = "OS X", n.OS_WP8 = "WP8", n.OS_WINRT = "WINRT", n.OS_UNKNOWN = "Unknown", n.UNKNOWN = -1, n.WIN32 = 0, n.LINUX = 1, n.MACOS = 2, n.ANDROID = 3, n.IPHONE = 4, n.IPAD = 5, n.BLACKBERRY = 6, n.NACL = 7, n.EMSCRIPTEN = 8, n.TIZEN = 9, n.WINRT = 10, n.WP8 = 11, n.MOBILE_BROWSER = 100, n.DESKTOP_BROWSER = 101, n.EDITOR_PAGE = 102, n.EDITOR_CORE = 103, n.WECHAT_GAME = 104, n.QQ_PLAY = 105, n.FB_PLAYABLE_ADS = 106, n.BAIDU_GAME = 107, n.VIVO_GAME = 108, n.OPPO_GAME = 109, n.HUAWEI_GAME = 110, n.XIAOMI_GAME = 111, n.JKW_GAME = 112, n.ALIPAY_GAME = 113, n.WECHAT_GAME_SUB = 114, n.BAIDU_GAME_SUB = 115, n.QTT_GAME = 116, n.BYTEDANCE_GAME = 117, n.BYTEDANCE_GAME_SUB = 118, n.LINKSURE = 119, n.TAOBAO = 120, n.BROWSER_TYPE_WECHAT = "wechat", n.BROWSER_TYPE_ANDROID = "androidbrowser", n.BROWSER_TYPE_IE = "ie", n.BROWSER_TYPE_EDGE = "edge", n.BROWSER_TYPE_QQ = "qqbrowser", n.BROWSER_TYPE_MOBILE_QQ = "mqqbrowser", n.BROWSER_TYPE_UC = "ucbrowser", n.BROWSER_TYPE_UCBS = "ucbs", n.BROWSER_TYPE_360 = "360browser", n.BROWSER_TYPE_BAIDU_APP = "baiduboxapp", n.BROWSER_TYPE_BAIDU = "baidubrowser", n.BROWSER_TYPE_MAXTHON = "maxthon", n.BROWSER_TYPE_OPERA = "opera", n.BROWSER_TYPE_OUPENG = "oupeng", n.BROWSER_TYPE_MIUI = "miuibrowser", n.BROWSER_TYPE_FIREFOX = "firefox", n.BROWSER_TYPE_SAFARI = "safari", n.BROWSER_TYPE_CHROME = "chrome", n.BROWSER_TYPE_LIEBAO = "liebao", n.BROWSER_TYPE_QZONE = "qzone", n.BROWSER_TYPE_SOUGOU = "sogou", n.BROWSER_TYPE_HUAWEI = "huawei", n.BROWSER_TYPE_UNKNOWN = "unknown", n.isNative = !1, n.isBrowser = "object" == typeof window && "object" == typeof document && !0, n.glExtension = function (t) {
                    return !!cc.renderer.device.ext(t)
                }, n.getMaxJointMatrixSize = function () {
                    if (!n._maxJointMatrixSize) {
                        var t = cc.game._renderContext,
                            e = Math.floor(t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS) / 4) - 10;
                        n._maxJointMatrixSize = e < 50 ? 0 : 50
                    }
                    return n._maxJointMatrixSize
                }, n.getSafeAreaRect = function () {
                    var t = cc.view.getVisibleSize();
                    return cc.rect(0, 0, t.width, t.height)
                }, i.__globalAdapter && i.__globalAdapter.adaptSys) i.__globalAdapter.adaptSys(n); else {
                    var r = window, s = r.navigator, a = document, o = a.documentElement, c = s.userAgent.toLowerCase();
                    n.isMobile = /mobile|android|iphone|ipad/.test(c), "undefined" != typeof FbPlayableAd ? n.platform = n.FB_PLAYABLE_ADS : n.platform = n.isMobile ? n.MOBILE_BROWSER : n.DESKTOP_BROWSER;
                    var l = s.language;
                    l = l || s.browserLanguage, n.languageCode = l.toLowerCase(), l = l ? l.split("-")[0] : n.LANGUAGE_ENGLISH, n.language = l;
                    var h = !1, u = !1, f = "", d = 0,
                        _ = /android\s*(\d+(?:\.\d+)*)/i.exec(c) || /android\s*(\d+(?:\.\d+)*)/i.exec(s.platform);
                    _ && (h = !0, f = _[1] || "", d = parseInt(f) || 0), (_ = /(iPad|iPhone|iPod).*OS ((\d+_?){2,3})/i.exec(c)) ? (u = !0, f = _[2] || "", d = parseInt(f) || 0) : (/(iPhone|iPad|iPod)/.exec(s.platform) || "MacIntel" === s.platform && s.maxTouchPoints && s.maxTouchPoints > 1) && (u = !0, f = "", d = 0);
                    var p = n.OS_UNKNOWN;
                    -1 !== s.appVersion.indexOf("Win") ? p = n.OS_WINDOWS : u ? p = n.OS_IOS : -1 !== s.appVersion.indexOf("Mac") ? p = n.OS_OSX : -1 !== s.appVersion.indexOf("X11") && -1 === s.appVersion.indexOf("Linux") ? p = n.OS_UNIX : h ? p = n.OS_ANDROID : -1 === s.appVersion.indexOf("Linux") && -1 === c.indexOf("ubuntu") || (p = n.OS_LINUX), n.os = p, n.osVersion = f, n.osMainVersion = d, n.browserType = n.BROWSER_TYPE_UNKNOWN, (function () {
                        var t = /mqqbrowser|micromessenger|qqbrowser|sogou|qzone|liebao|maxthon|ucbs|360 aphone|360browser|baiduboxapp|baidubrowser|maxthon|mxbrowser|miuibrowser/i.exec(c) || /qq|ucbrowser|ubrowser|edge|HuaweiBrowser/i.exec(c) || /chrome|safari|firefox|trident|opera|opr\/|oupeng/i.exec(c),
                            e = t ? t[0].toLowerCase() : n.BROWSER_TYPE_UNKNOWN;
                        "safari" === e && h ? e = n.BROWSER_TYPE_ANDROID : "qq" === e && c.match(/android.*applewebkit/i) && (e = n.BROWSER_TYPE_ANDROID);
                        var i = {
                            micromessenger: n.BROWSER_TYPE_WECHAT,
                            trident: n.BROWSER_TYPE_IE,
                            edge: n.BROWSER_TYPE_EDGE,
                            "360 aphone": n.BROWSER_TYPE_360,
                            mxbrowser: n.BROWSER_TYPE_MAXTHON,
                            "opr/": n.BROWSER_TYPE_OPERA,
                            ubrowser: n.BROWSER_TYPE_UC,
                            huaweibrowser: n.BROWSER_TYPE_HUAWEI
                        };
                        "qqbrowser" !== e && "mqqbrowser" !== e || c.match(/wechat|micromessenger/i) && (e = n.BROWSER_TYPE_WECHAT), n.browserType = i[e] || e
                    })(), n.browserVersion = "", (e = c.match(/(mqqbrowser|micromessenger|qqbrowser|sogou|qzone|liebao|maxthon|uc|ucbs|360 aphone|360|baiduboxapp|baidu|maxthon|mxbrowser|miui(?:.hybrid)?)(mobile)?(browser)?\/?([\d.]+)/i)) || (e = c.match(/(qq|chrome|safari|firefox|trident|opera|opr\/|oupeng)(mobile)?(browser)?\/?([\d.]+)/i)), n.browserVersion = e ? e[4] : "";
                    var v = window.innerWidth || document.documentElement.clientWidth,
                        g = window.innerHeight || document.documentElement.clientHeight,
                        m = window.devicePixelRatio || 1;
                    n.windowPixelResolution = {width: m * v, height: m * g}, n._checkWebGLRenderMode = function () {
                        if (cc.game.renderType !== cc.game.RENDER_TYPE_WEBGL) throw new Error("This feature supports WebGL render mode only.")
                    };
                    var y = document.createElement("canvas");
                    try {
                        var T = n.localStorage = r.localStorage;
                        T.setItem("storage", ""), T.removeItem("storage"), T = null
                    } catch (M) {
                        var E = function () {
                            cc.warnID(5200)
                        };
                        n.localStorage = {getItem: E, setItem: E, removeItem: E, clear: E}
                    }
                    var A = y.toDataURL("image/webp").startsWith("data:image/webp"), b = !!y.getContext("2d"), x = !1;
                    r.WebGLRenderingContext && (x = !0);
                    var C, S = n.capabilities = {canvas: b, opengl: x, webp: A, imageBitmap: !1};
                    "undefined" != typeof createImageBitmap && "undefined" != typeof Blob && (y.width = y.height = 2, createImageBitmap(y, {}).then((function (t) {
                        S.imageBitmap = !0, t.close && t.close()
                    })).catch((function () {
                    }))), (void 0 !== o.ontouchstart || void 0 !== a.ontouchstart || s.msPointerEnabled) && (S.touches = !0), void 0 !== o.onmouseup && (S.mouse = !0), void 0 !== o.onkeyup && (S.keyboard = !0), (r.DeviceMotionEvent || r.DeviceOrientationEvent) && (S.accelerometer = !0), (function () {
                        n.browserVersion;
                        var t = !!(window.AudioContext || window.webkitAudioContext || window.mozAudioContext);
                        C = {
                            ONLY_ONE: !1,
                            WEB_AUDIO: t,
                            DELAY_CREATE_CTX: !1
                        }, n.os === n.OS_IOS && (C.USE_LOADER_EVENT = "loadedmetadata"), n.browserType === n.BROWSER_TYPE_FIREFOX && (C.DELAY_CREATE_CTX = !0, C.USE_LOADER_EVENT = "canplay"), n.os === n.OS_ANDROID && n.browserType === n.BROWSER_TYPE_UC && (C.ONE_SOURCE = !0)
                    })();
                    try {
                        C.WEB_AUDIO && (C.context = new (window.AudioContext || window.webkitAudioContext || window.mozAudioContext), C.DELAY_CREATE_CTX && setTimeout((function () {
                            C.context = new (window.AudioContext || window.webkitAudioContext || window.mozAudioContext)
                        }), 0))
                    } catch (R) {
                        C.WEB_AUDIO = !1, cc.logID(5201)
                    }
                    var w = [];
                    (t = document.createElement("audio")).canPlayType && (t.canPlayType('audio/ogg; codecs="vorbis"') && w.push(".ogg"), t.canPlayType("audio/mpeg") && w.push(".mp3"), t.canPlayType('audio/wav; codecs="1"') && w.push(".wav"), t.canPlayType("audio/mp4") && w.push(".mp4"), t.canPlayType("audio/x-m4a") && w.push(".m4a")), C.format = w, n.__audioSupport = C
                }
                return n.NetworkType = {NONE: 0, LAN: 1, WWAN: 2}, n.getNetworkType = function () {
                    return n.NetworkType.LAN
                }, n.getBatteryLevel = function () {
                    return 1
                }, n.garbageCollect = function () {
                }, n.restartVM = function () {
                }, n.isObjectValid = function (t) {
                    return !!t
                }, n.dump = function () {
                    var t = "";
                    t += "isMobile : " + this.isMobile + "\r\n", t += "language : " + this.language + "\r\n", t += "browserType : " + this.browserType + "\r\n", t += "browserVersion : " + this.browserVersion + "\r\n", t += "capabilities : " + JSON.stringify(this.capabilities) + "\r\n", t += "os : " + this.os + "\r\n", t += "osVersion : " + this.osVersion + "\r\n", t += "platform : " + this.platform + "\r\n", t += "Using " + (cc.game.renderType === cc.game.RENDER_TYPE_WEBGL ? "WEBGL" : "CANVAS") + " renderer.\r\n", cc.log(t)
                }, n.openURL = function (t) {
                    window.open(t)
                }, n.now = function () {
                    return Date.now ? Date.now() : +new Date
                }, n
            })();
            e.exports = n
        }), {}],
        177: [(function (t, e) {
            "use strict";
            var i = t("../event/event-target"), n = t("../platform/js"), r = t("../renderer");
            t("../platform/CCClass");
            var s = {
                init: function () {
                    this.html = document.getElementsByTagName("html")[0]
                }, availWidth: function (t) {
                    return t && t !== this.html ? t.clientWidth : window.innerWidth
                }, availHeight: function (t) {
                    return t && t !== this.html ? t.clientHeight : window.innerHeight
                }, meta: {width: "device-width"}, adaptationType: cc.sys.browserType
            };
            switch (cc.sys.os === cc.sys.OS_IOS && (s.adaptationType = cc.sys.BROWSER_TYPE_SAFARI), s.adaptationType) {
                case cc.sys.BROWSER_TYPE_SAFARI:
                case cc.sys.BROWSER_TYPE_SOUGOU:
                case cc.sys.BROWSER_TYPE_UC:
                    s.meta["minimal-ui"] = "true", s.availWidth = function (t) {
                        return t.clientWidth
                    }, s.availHeight = function (t) {
                        return t.clientHeight
                    }
            }
            var a = null, o = function () {
                i.call(this);
                var t = this, e = cc.ContainerStrategy, n = cc.ContentStrategy;
                s.init(this), t._frameSize = cc.size(0, 0), t._designResolutionSize = cc.size(0, 0), t._originalDesignResolutionSize = cc.size(0, 0), t._scaleX = 1, t._scaleY = 1, t._viewportRect = cc.rect(0, 0, 0, 0), t._visibleRect = cc.rect(0, 0, 0, 0), t._autoFullScreen = !1, t._devicePixelRatio = 1, t._maxPixelRatio = 2, t._retinaEnabled = !1, t._resizeCallback = null, t._resizing = !1, t._resizeWithBrowserSize = !1, t._orientationChanging = !0, t._isRotated = !1, t._orientation = cc.macro.ORIENTATION_AUTO, t._isAdjustViewport = !0, t._antiAliasEnabled = !1, t._resolutionPolicy = null, t._rpExactFit = new cc.ResolutionPolicy(e.EQUAL_TO_FRAME, n.EXACT_FIT), t._rpShowAll = new cc.ResolutionPolicy(e.EQUAL_TO_FRAME, n.SHOW_ALL), t._rpNoBorder = new cc.ResolutionPolicy(e.EQUAL_TO_FRAME, n.NO_BORDER), t._rpFixedHeight = new cc.ResolutionPolicy(e.EQUAL_TO_FRAME, n.FIXED_HEIGHT), t._rpFixedWidth = new cc.ResolutionPolicy(e.EQUAL_TO_FRAME, n.FIXED_WIDTH), cc.game.once(cc.game.EVENT_ENGINE_INITED, this.init, this)
            };
            cc.js.extend(o, i), cc.js.mixin(o.prototype, {
                init: function () {
                    this._initFrameSize();
                    var t = cc.game.canvas.width, e = cc.game.canvas.height;
                    this._designResolutionSize.width = t, this._designResolutionSize.height = e, this._originalDesignResolutionSize.width = t, this._originalDesignResolutionSize.height = e, this._viewportRect.width = t, this._viewportRect.height = e, this._visibleRect.width = t, this._visibleRect.height = e, cc.winSize.width = this._visibleRect.width, cc.winSize.height = this._visibleRect.height, cc.visibleRect && cc.visibleRect.init(this._visibleRect)
                }, _resizeEvent: function (t) {
                    var e;
                    e = this.setDesignResolutionSize ? this : cc.view;
                    var i = cc.sys;
                    if (i.browserType !== i.BROWSER_TYPE_UC || i.os !== i.OS_IOS) {
                        var n = e._frameSize.width, r = e._frameSize.height, s = e._isRotated;
                        if (cc.sys.isMobile) {
                            var a = cc.game.container.style, o = a.margin;
                            a.margin = "0", a.display = "none", e._initFrameSize(), a.margin = o, a.display = "block"
                        } else e._initFrameSize();
                        if (!0 === t || e._isRotated !== s || e._frameSize.width !== n || e._frameSize.height !== r) {
                            var c = e._originalDesignResolutionSize.width, l = e._originalDesignResolutionSize.height;
                            e._resizing = !0, c > 0 && e.setDesignResolutionSize(c, l, e._resolutionPolicy), e._resizing = !1, e.emit("canvas-resize"), e._resizeCallback && e._resizeCallback.call()
                        }
                    } else setTimeout((function () {
                        e._resizeEvent(t)
                    }), 0)
                }, _orientationChange: function () {
                    cc.view._orientationChanging = !0, cc.view._resizeEvent(), cc.sys.browserType === cc.sys.BROWSER_TYPE_SAFARI && cc.sys.isMobile && setTimeout((function () {
                        window.innerHeight > window.innerWidth && window.scrollTo(0, 1)
                    }), 500)
                }, _resize: function () {
                    cc.view._resizeEvent(!1)
                }, resizeWithBrowserSize: function (t) {
                    t ? this._resizeWithBrowserSize || (this._resizeWithBrowserSize = !0, window.addEventListener("resize", this._resize), window.addEventListener("orientationchange", this._orientationChange)) : this._resizeWithBrowserSize && (this._resizeWithBrowserSize = !1, window.removeEventListener("resize", this._resize), window.removeEventListener("orientationchange", this._orientationChange))
                }, setResizeCallback: function (t) {
                    "function" != typeof t && null != t || (this._resizeCallback = t)
                }, setOrientation: function (t) {
                    if ((t &= cc.macro.ORIENTATION_AUTO) && this._orientation !== t) {
                        this._orientation = t;
                        var e = this._originalDesignResolutionSize.width, i = this._originalDesignResolutionSize.height;
                        this.setDesignResolutionSize(e, i, this._resolutionPolicy)
                    }
                }, _initFrameSize: function () {
                    var t = this._frameSize, e = s.availWidth(cc.game.frame), i = s.availHeight(cc.game.frame),
                        n = e >= i;
                    !cc.sys.isMobile || n && this._orientation & cc.macro.ORIENTATION_LANDSCAPE || !n && this._orientation & cc.macro.ORIENTATION_PORTRAIT ? (t.width = e, t.height = i, cc.game.container.style["-webkit-transform"] = "rotate(0deg)", cc.game.container.style.transform = "rotate(0deg)", this._isRotated = !1) : (t.width = i, t.height = e, cc.game.container.style["-webkit-transform"] = "rotate(90deg)", cc.game.container.style.transform = "rotate(90deg)", cc.game.container.style["-webkit-transform-origin"] = "0px 0px 0px", cc.game.container.style.transformOrigin = "0px 0px 0px", this._isRotated = !0), this._orientationChanging && setTimeout((function () {
                        cc.view._orientationChanging = !1
                    }), 1e3)
                }, _setViewportMeta: function (t, e) {
                    var i = document.getElementById("cocosMetaElement");
                    i && e && document.head.removeChild(i);
                    var n, r, s, a = document.getElementsByName("viewport"), o = a ? a[0] : null;
                    for (r in n = o ? o.content : "", (i = i || document.createElement("meta")).id = "cocosMetaElement", i.name = "viewport", i.content = "", t) -1 == n.indexOf(r) ? n += "," + r + "=" + t[r] : e && (s = new RegExp(r + "s*=s*[^,]+"), n = n.replace(s, r + "=" + t[r]));
                    /^,/.test(n) && (n = n.substr(1)), i.content = n, o && (o.content = n), document.head.appendChild(i)
                }, _adjustViewportMeta: function () {
                    this._isAdjustViewport && (this._setViewportMeta(s.meta, !1), this._isAdjustViewport = !1)
                }, adjustViewportMeta: function (t) {
                    this._isAdjustViewport = t
                }, enableRetina: function (t) {
                    this._retinaEnabled = !!t
                }, isRetinaEnabled: function () {
                    return this._retinaEnabled
                }, enableAntiAlias: function (t) {
                    if (cc.warnID(9200), this._antiAliasEnabled !== t) if (this._antiAliasEnabled = t, cc.game.renderType === cc.game.RENDER_TYPE_WEBGL) cc.assetManager.assets.forEach((function (e) {
                        if (e instanceof cc.Texture2D) {
                            var i = cc.Texture2D.Filter;
                            t ? e.setFilters(i.LINEAR, i.LINEAR) : e.setFilters(i.NEAREST, i.NEAREST)
                        }
                    })); else if (cc.game.renderType === cc.game.RENDER_TYPE_CANVAS) {
                        var e = cc.game.canvas.getContext("2d");
                        e.imageSmoothingEnabled = t, e.mozImageSmoothingEnabled = t
                    }
                }, isAntiAliasEnabled: function () {
                    return this._antiAliasEnabled
                }, enableAutoFullScreen: function (t) {
                    t && t !== this._autoFullScreen && cc.sys.isMobile ? (this._autoFullScreen = !0, cc.screen.autoFullScreen(cc.game.frame)) : (this._autoFullScreen = !1, cc.screen.disableAutoFullScreen(cc.game.frame))
                }, isAutoFullScreenEnabled: function () {
                    return this._autoFullScreen
                }, setCanvasSize: function (t, e) {
                    var i = cc.game.canvas, n = cc.game.container;
                    i.width = t * this._devicePixelRatio, i.height = e * this._devicePixelRatio, i.style.width = t + "px", i.style.height = e + "px", n.style.width = t + "px", n.style.height = e + "px", this._resizeEvent()
                }, getCanvasSize: function () {
                    return cc.size(cc.game.canvas.width, cc.game.canvas.height)
                }, getFrameSize: function () {
                    return cc.size(this._frameSize.width, this._frameSize.height)
                }, setFrameSize: function (t, e) {
                    this._frameSize.width = t, this._frameSize.height = e, cc.game.frame.style.width = t + "px", cc.game.frame.style.height = e + "px", this._resizeEvent(!0)
                }, getVisibleSize: function () {
                    return cc.size(this._visibleRect.width, this._visibleRect.height)
                }, getVisibleSizeInPixel: function () {
                    return cc.size(this._visibleRect.width * this._scaleX, this._visibleRect.height * this._scaleY)
                }, getVisibleOrigin: function () {
                    return cc.v2(this._visibleRect.x, this._visibleRect.y)
                }, getVisibleOriginInPixel: function () {
                    return cc.v2(this._visibleRect.x * this._scaleX, this._visibleRect.y * this._scaleY)
                }, getResolutionPolicy: function () {
                    return this._resolutionPolicy
                }, setResolutionPolicy: function (t) {
                    var e = this;
                    if (t instanceof cc.ResolutionPolicy) e._resolutionPolicy = t; else {
                        var i = cc.ResolutionPolicy;
                        t === i.EXACT_FIT && (e._resolutionPolicy = e._rpExactFit), t === i.SHOW_ALL && (e._resolutionPolicy = e._rpShowAll), t === i.NO_BORDER && (e._resolutionPolicy = e._rpNoBorder), t === i.FIXED_HEIGHT && (e._resolutionPolicy = e._rpFixedHeight), t === i.FIXED_WIDTH && (e._resolutionPolicy = e._rpFixedWidth)
                    }
                }, setDesignResolutionSize: function (t, e, i) {
                    if (t > 0 && e > 0) {
                        this.setResolutionPolicy(i);
                        var n = this._resolutionPolicy;
                        if (n && n.preApply(this), cc.sys.isMobile && this._adjustViewportMeta(), this._orientationChanging = !0, this._resizing || this._initFrameSize(), n) {
                            this._originalDesignResolutionSize.width = this._designResolutionSize.width = t, this._originalDesignResolutionSize.height = this._designResolutionSize.height = e;
                            var s = n.apply(this, this._designResolutionSize);
                            if (s.scale && 2 === s.scale.length && (this._scaleX = s.scale[0], this._scaleY = s.scale[1]), s.viewport) {
                                var a = this._viewportRect, o = this._visibleRect, c = s.viewport;
                                a.x = c.x, a.y = c.y, a.width = c.width, a.height = c.height, o.x = 0, o.y = 0, o.width = c.width / this._scaleX, o.height = c.height / this._scaleY
                            }
                            n.postApply(this), cc.winSize.width = this._visibleRect.width, cc.winSize.height = this._visibleRect.height, cc.visibleRect && cc.visibleRect.init(this._visibleRect), r.updateCameraViewport(), cc.internal.inputManager._updateCanvasBoundingRect(), this.emit("design-resolution-changed")
                        } else cc.logID(2201)
                    } else cc.errorID(2200)
                }, getDesignResolutionSize: function () {
                    return cc.size(this._designResolutionSize.width, this._designResolutionSize.height)
                }, setRealPixelResolution: function (t, e, i) {
                    this._setViewportMeta({width: t}, !0), document.documentElement.style.width = t + "px", document.body.style.width = t + "px", document.body.style.left = "0px", document.body.style.top = "0px", this.setDesignResolutionSize(t, e, i)
                }, setViewportInPoints: function (t, e, i, n) {
                    var r = this._scaleX, s = this._scaleY;
                    cc.game._renderContext.viewport(t * r + this._viewportRect.x, e * s + this._viewportRect.y, i * r, n * s)
                }, setScissorInPoints: function (t, e, i, n) {
                    var r = this._scaleX, s = this._scaleY, o = Math.ceil(t * r + this._viewportRect.x),
                        c = Math.ceil(e * s + this._viewportRect.y), l = Math.ceil(i * r), h = Math.ceil(n * s),
                        u = cc.game._renderContext;
                    if (!a) {
                        var f = u.getParameter(u.SCISSOR_BOX);
                        a = cc.rect(f[0], f[1], f[2], f[3])
                    }
                    a.x === o && a.y === c && a.width === l && a.height === h || (a.x = o, a.y = c, a.width = l, a.height = h, u.scissor(o, c, l, h))
                }, isScissorEnabled: function () {
                    return cc.game._renderContext.isEnabled(gl.SCISSOR_TEST)
                }, getScissorRect: function () {
                    if (!a) {
                        var t = gl.getParameter(gl.SCISSOR_BOX);
                        a = cc.rect(t[0], t[1], t[2], t[3])
                    }
                    var e = 1 / this._scaleX, i = 1 / this._scaleY;
                    return cc.rect((a.x - this._viewportRect.x) * e, (a.y - this._viewportRect.y) * i, a.width * e, a.height * i)
                }, getViewportRect: function () {
                    return this._viewportRect
                }, getScaleX: function () {
                    return this._scaleX
                }, getScaleY: function () {
                    return this._scaleY
                }, getDevicePixelRatio: function () {
                    return this._devicePixelRatio
                }, convertToLocationInView: function (t, e, i, n) {
                    var r = n || cc.v2(), s = i.adjustedLeft ? i.adjustedLeft : i.left,
                        a = i.adjustedTop ? i.adjustedTop : i.top, o = this._devicePixelRatio * (t - s),
                        c = this._devicePixelRatio * (a + i.height - e);
                    return this._isRotated ? (r.x = cc.game.canvas.width - c, r.y = o) : (r.x = o, r.y = c), r
                }, _convertMouseToLocationInView: function (t, e) {
                    var i = this._viewportRect;
                    t.x = (this._devicePixelRatio * (t.x - e.left) - i.x) / this._scaleX, t.y = (this._devicePixelRatio * (e.top + e.height - t.y) - i.y) / this._scaleY
                }, _convertPointWithScale: function (t) {
                    var e = this._viewportRect;
                    t.x = (t.x - e.x) / this._scaleX, t.y = (t.y - e.y) / this._scaleY
                }, _convertTouchesWithScale: function (t) {
                    for (var e, i, n, r = this._viewportRect, s = this._scaleX, a = this._scaleY, o = 0; o < t.length; o++) i = (e = t[o])._point, n = e._prevPoint, i.x = (i.x - r.x) / s, i.y = (i.y - r.y) / a, n.x = (n.x - r.x) / s, n.y = (n.y - r.y) / a
                }
            }), cc.ContainerStrategy = cc.Class({
                name: "ContainerStrategy", preApply: function () {
                }, apply: function () {
                }, postApply: function () {
                }, _setupContainer: function (t, e, i) {
                    var n = cc.game.canvas;
                    this._setupStyle(t, e, i);
                    var r = t._devicePixelRatio = 1;
                    t.isRetinaEnabled() && (r = t._devicePixelRatio = Math.min(t._maxPixelRatio, window.devicePixelRatio || 1)), n.width = e * r, n.height = i * r
                }, _setupStyle: function (t, e, i) {
                    var n = cc.game.canvas, r = cc.game.container;
                    cc.sys.os === cc.sys.OS_ANDROID && (document.body.style.width = (t._isRotated ? i : e) + "px", document.body.style.height = (t._isRotated ? e : i) + "px"), r.style.width = n.style.width = e + "px", r.style.height = n.style.height = i + "px"
                }, _fixContainer: function () {
                    document.body.insertBefore(cc.game.container, document.body.firstChild);
                    var t = document.body.style;
                    t.width = window.innerWidth + "px", t.height = window.innerHeight + "px", t.overflow = "hidden";
                    var e = cc.game.container.style;
                    e.position = "fixed", e.left = e.top = "0px", document.body.scrollTop = 0
                }
            }), cc.ContentStrategy = cc.Class({
                name: "ContentStrategy", ctor: function () {
                    this._result = {scale: [1, 1], viewport: null}
                }, _buildResult: function (t, e, i, n, r, s) {
                    Math.abs(t - i) < 2 && (i = t), Math.abs(e - n) < 2 && (n = e);
                    var a = cc.rect((t - i) / 2, (e - n) / 2, i, n);
                    return cc.game.renderType, cc.game.RENDER_TYPE_CANVAS, this._result.scale = [r, s], this._result.viewport = a, this._result
                }, preApply: function () {
                }, apply: function () {
                    return {scale: [1, 1]}
                }, postApply: function () {
                }
            }), (function () {
                var t = cc.Class({
                    name: "EqualToFrame", extends: cc.ContainerStrategy, apply: function (t) {
                        var e = t._frameSize.height, i = cc.game.container.style;
                        this._setupContainer(t, t._frameSize.width, t._frameSize.height), t._isRotated ? i.margin = "0 0 0 " + e + "px" : i.margin = "0px", i.padding = "0px"
                    }
                }), e = cc.Class({
                    name: "ProportionalToFrame", extends: cc.ContainerStrategy, apply: function (t, e) {
                        var i, n, r = t._frameSize.width, s = t._frameSize.height, a = cc.game.container.style,
                            o = e.width, c = e.height, l = r / o, h = s / c;
                        l < h ? (i = r, n = c * l) : (i = o * h, n = s);
                        var u = Math.round((r - i) / 2), f = Math.round((s - n) / 2);
                        i = r - 2 * u, n = s - 2 * f, this._setupContainer(t, i, n), t._isRotated ? a.margin = "0 0 0 " + s + "px" : a.margin = "0px", a.paddingLeft = u + "px", a.paddingRight = u + "px", a.paddingTop = f + "px", a.paddingBottom = f + "px"
                    }
                }), i = (cc.Class({
                    name: "EqualToWindow", extends: t, preApply: function (t) {
                        this._super(t), cc.game.frame = document.documentElement
                    }, apply: function (t) {
                        this._super(t), this._fixContainer()
                    }
                }), cc.Class({
                    name: "ProportionalToWindow", extends: e, preApply: function (t) {
                        this._super(t), cc.game.frame = document.documentElement
                    }, apply: function (t, e) {
                        this._super(t, e), this._fixContainer()
                    }
                }), cc.Class({
                    name: "OriginalContainer", extends: cc.ContainerStrategy, apply: function (t) {
                        this._setupContainer(t, cc.game.canvas.width, cc.game.canvas.height)
                    }
                })), n = ("undefined" == typeof window ? global : window).__globalAdapter;
                n && (n.adaptContainerStrategy && n.adaptContainerStrategy(cc.ContainerStrategy.prototype), n.adaptView && n.adaptView(o.prototype)), cc.ContainerStrategy.EQUAL_TO_FRAME = new t, cc.ContainerStrategy.PROPORTION_TO_FRAME = new e, cc.ContainerStrategy.ORIGINAL_CONTAINER = new i;
                var r = cc.Class({
                    name: "ExactFit", extends: cc.ContentStrategy, apply: function (t, e) {
                        var i = cc.game.canvas.width, n = cc.game.canvas.height, r = i / e.width, s = n / e.height;
                        return this._buildResult(i, n, i, n, r, s)
                    }
                }), s = cc.Class({
                    name: "ShowAll", extends: cc.ContentStrategy, apply: function (t, e) {
                        var i, n, r = cc.game.canvas.width, s = cc.game.canvas.height, a = e.width, o = e.height,
                            c = r / a, l = s / o, h = 0;
                        return c < l ? (i = r, n = o * (h = c)) : (i = a * (h = l), n = s), this._buildResult(r, s, i, n, h, h)
                    }
                }), a = cc.Class({
                    name: "NoBorder", extends: cc.ContentStrategy, apply: function (t, e) {
                        var i, n, r, s = cc.game.canvas.width, a = cc.game.canvas.height, o = e.width, c = e.height,
                            l = s / o, h = a / c;
                        return l < h ? (n = o * (i = h), r = a) : (n = s, r = c * (i = l)), this._buildResult(s, a, n, r, i, i)
                    }
                }), c = cc.Class({
                    name: "FixedHeight", extends: cc.ContentStrategy, apply: function (t, e) {
                        var i = cc.game.canvas.width, n = cc.game.canvas.height, r = n / e.height, s = i, a = n;
                        return this._buildResult(i, n, s, a, r, r)
                    }
                }), l = cc.Class({
                    name: "FixedWidth", extends: cc.ContentStrategy, apply: function (t, e) {
                        var i = cc.game.canvas.width, n = cc.game.canvas.height, r = i / e.width, s = i, a = n;
                        return this._buildResult(i, n, s, a, r, r)
                    }
                });
                cc.ContentStrategy.EXACT_FIT = new r, cc.ContentStrategy.SHOW_ALL = new s, cc.ContentStrategy.NO_BORDER = new a, cc.ContentStrategy.FIXED_HEIGHT = new c, cc.ContentStrategy.FIXED_WIDTH = new l
            })(), cc.ResolutionPolicy = cc.Class({
                name: "cc.ResolutionPolicy", ctor: function (t, e) {
                    this._containerStrategy = null, this._contentStrategy = null, this.setContainerStrategy(t), this.setContentStrategy(e)
                }, preApply: function (t) {
                    this._containerStrategy.preApply(t), this._contentStrategy.preApply(t)
                }, apply: function (t, e) {
                    return this._containerStrategy.apply(t, e), this._contentStrategy.apply(t, e)
                }, postApply: function (t) {
                    this._containerStrategy.postApply(t), this._contentStrategy.postApply(t)
                }, setContainerStrategy: function (t) {
                    t instanceof cc.ContainerStrategy && (this._containerStrategy = t)
                }, setContentStrategy: function (t) {
                    t instanceof cc.ContentStrategy && (this._contentStrategy = t)
                }
            }), n.get(cc.ResolutionPolicy.prototype, "canvasSize", (function () {
                return cc.v2(cc.game.canvas.width, cc.game.canvas.height)
            })), cc.ResolutionPolicy.EXACT_FIT = 0, cc.ResolutionPolicy.NO_BORDER = 1, cc.ResolutionPolicy.SHOW_ALL = 2, cc.ResolutionPolicy.FIXED_HEIGHT = 3, cc.ResolutionPolicy.FIXED_WIDTH = 4, cc.ResolutionPolicy.UNKNOWN = 5, cc.view = new o, cc.winSize = cc.size(), e.exports = cc.view
        }), {"../event/event-target": 140, "../platform/CCClass": 167, "../platform/js": 188, "../renderer": 199}],
        178: [(function () {
            "use strict";
            cc.visibleRect = {
                topLeft: cc.v2(0, 0),
                topRight: cc.v2(0, 0),
                top: cc.v2(0, 0),
                bottomLeft: cc.v2(0, 0),
                bottomRight: cc.v2(0, 0),
                bottom: cc.v2(0, 0),
                center: cc.v2(0, 0),
                left: cc.v2(0, 0),
                right: cc.v2(0, 0),
                width: 0,
                height: 0,
                init: function (t) {
                    var e = this.width = t.width, i = this.height = t.height, n = t.x, r = t.y, s = r + i, a = n + e;
                    this.topLeft.x = n, this.topLeft.y = s, this.topRight.x = a, this.topRight.y = s, this.top.x = n + e / 2, this.top.y = s, this.bottomLeft.x = n, this.bottomLeft.y = r, this.bottomRight.x = a, this.bottomRight.y = r, this.bottom.x = n + e / 2, this.bottom.y = r, this.center.x = n + e / 2, this.center.y = r + i / 2, this.left.x = n, this.left.y = r + i / 2, this.right.x = a, this.right.y = r + i / 2
                }
            }
        }), {}],
        179: [(function (t, e) {
            "use strict";
            var i = t("./js"), n = (t("./utils").isPlainEmptyObj_DEV, "$_$");

            function r(t, e) {
                var n = e ? Object.create(e) : {};
                return i.value(t, "__attrs__", n), n
            }

            function s(t) {
                if ("function" != typeof t) return r(t, a(t.constructor));
                for (var e, i = cc.Class.getInheritanceChain(t), n = i.length - 1; n >= 0; n--) {
                    var s = i[n];
                    s.hasOwnProperty("__attrs__") && s.__attrs__ || r(s, (e = i[n + 1]) && e.__attrs__)
                }
                return r(t, (e = i[0]) && e.__attrs__), t.__attrs__
            }

            function a(t) {
                return t.hasOwnProperty("__attrs__") && t.__attrs__ || s(t)
            }

            function o(t, e) {
                this.name = t, this.default = e
            }

            o.prototype.toString = function () {
                return this.name
            }, cc.Integer = new o("Integer", 0), cc.Float = new o("Float", 0), cc.Boolean = new o("Boolean", !1), cc.String = new o("String", ""), e.exports = {
                PrimitiveType: o,
                attr: function (t, e) {
                    var i = a(t), r = e + n, s = {};
                    for (var o in i) o.startsWith(r) && (s[o.slice(r.length)] = i[o]);
                    return s
                },
                getClassAttrs: a,
                setClassAttr: function (t, e, i, r) {
                    a(t)[e + n + i] = r
                },
                DELIMETER: n,
                getTypeChecker_ET: !1,
                getObjTypeChecker_ET: !1,
                ScriptUuid: {}
            }
        }), {"./CCClass": 167, "./js": 188, "./utils": 191}],
        180: [(function (t, e) {
            "use strict";
            var i = t("./js"), n = i.array.fastRemoveAt;

            function r() {
            }

            function s() {
                this.callback = r, this.target = void 0, this.once = !1
            }

            s.prototype.set = function (t, e, i) {
                this.callback = t, this.target = e, this.once = !!i
            };
            var a = new i.Pool(function (t) {
                return t.callback = r, t.target = void 0, t.once = !1, !0
            }, 32);

            function o() {
                this.callbackInfos = [], this.isInvoking = !1, this.containCanceled = !1
            }

            a.get = function () {
                return this._get() || new s
            };
            var c = o.prototype;
            c.removeByCallback = function (t) {
                for (var e = 0; e < this.callbackInfos.length; ++e) {
                    var i = this.callbackInfos[e];
                    i && i.callback === t && (a.put(i), n(this.callbackInfos, e), --e)
                }
            }, c.removeByTarget = function (t) {
                for (var e = 0; e < this.callbackInfos.length; ++e) {
                    var i = this.callbackInfos[e];
                    i && i.target === t && (a.put(i), n(this.callbackInfos, e), --e)
                }
            }, c.cancel = function (t) {
                var e = this.callbackInfos[t];
                e && (a.put(e), this.callbackInfos[t] = null), this.containCanceled = !0
            }, c.cancelAll = function () {
                for (var t = 0; t < this.callbackInfos.length; t++) {
                    var e = this.callbackInfos[t];
                    e && (a.put(e), this.callbackInfos[t] = null)
                }
                this.containCanceled = !0
            }, c.purgeCanceled = function () {
                for (var t = this.callbackInfos.length - 1; t >= 0; --t) this.callbackInfos[t] || n(this.callbackInfos, t);
                this.containCanceled = !1
            }, c.clear = function () {
                this.cancelAll(), this.callbackInfos.length = 0, this.isInvoking = !1, this.containCanceled = !1
            };
            var l = new i.Pool(function (t) {
                return t.callbackInfos = [], t.isInvoking = !1, t.containCanceled = !1, !0
            }, 16);

            function h() {
                this._callbackTable = i.createMap(!0)
            }

            l.get = function () {
                return this._get() || new o
            }, (c = h.prototype).on = function (t, e, i, n) {
                var r = this._callbackTable[t];
                r || (r = this._callbackTable[t] = l.get());
                var s = a.get();
                s.set(e, i, n), r.callbackInfos.push(s)
            }, c.hasEventListener = function (t, e, i) {
                var n = this._callbackTable[t];
                if (!n) return !1;
                var r = n.callbackInfos;
                if (!e) {
                    if (n.isInvoking) {
                        for (var s = 0; s < r.length; ++s) if (r[s]) return !0;
                        return !1
                    }
                    return r.length > 0
                }
                for (var a = 0; a < r.length; ++a) {
                    var o = r[a];
                    if (o && o.callback === e && o.target === i) return !0
                }
                return !1
            }, c.removeAll = function (t) {
                if ("string" == typeof t) {
                    var e = this._callbackTable[t];
                    e && (e.isInvoking ? e.cancelAll() : (e.clear(), l.put(e), delete this._callbackTable[t]))
                } else if (t) for (var i in this._callbackTable) {
                    var n = this._callbackTable[i];
                    if (n.isInvoking) for (var r = n.callbackInfos, s = 0; s < r.length; ++s) {
                        var a = r[s];
                        a && a.target === t && n.cancel(s)
                    } else n.removeByTarget(t)
                }
            }, c.off = function (t, e, i) {
                var r = this._callbackTable[t];
                if (r) for (var s = r.callbackInfos, o = 0; o < s.length; ++o) {
                    var c = s[o];
                    if (c && c.callback === e && c.target === i) {
                        r.isInvoking ? r.cancel(o) : (n(s, o), a.put(c));
                        break
                    }
                }
            }, c.emit = function (t, e, i, n, r, s) {
                var a = this._callbackTable[t];
                if (a) {
                    var o = !a.isInvoking;
                    a.isInvoking = !0;
                    for (var c = a.callbackInfos, l = 0, h = c.length; l < h; ++l) {
                        var u = c[l];
                        if (u) {
                            var f = u.target, d = u.callback;
                            u.once && this.off(t, d, f), f ? d.call(f, e, i, n, r, s) : d(e, i, n, r, s)
                        }
                    }
                    o && (a.isInvoking = !1, a.containCanceled && a.purgeCanceled())
                }
            }, e.exports = h
        }), {"./js": 188}],
        181: [(function (t, e) {
            "use strict";

            function i(t, e) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    Array.isArray(r) ? i(t, r) : t.push(r)
                }
            }

            e.exports = {
                flattenCodeArray: function (t) {
                    var e = [];
                    return i(e, t), e.join("")
                }
            }
        }), {}],
        182: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = L, i.getDependUuidList = function (t) {
                var e = t[1];
                return t[10].map((function (t) {
                    return e[t]
                }))
            }, i.hasNativeDep = function (t) {
                var e = t[5], i = e[e.length - 1];
                return "number" == typeof i && i < 0
            }, i.packCustomObjData = function (t, e, i) {
                return [1, d, d, [t], d, i ? [e, -1] : [e], [0], d, [], [], []]
            }, i.unpackJSONs = function (t, e) {
                if (t[0] < 1) throw new Error(cc.debug.getError(5304, t[0]));
                O(t, !0, e), D(t);
                for (var i = new N(t[0]), n = t[1], r = t[2], s = t[3], a = t[4], o = t[m], c = 0; c < o.length; ++c) o[c].unshift(i, n, r, s, a);
                return o
            };
            var n = f(t("./js")), r = f(t("../value-types/vec2")), s = f(t("../value-types/vec3")),
                a = f(t("../value-types/vec4")), o = f(t("../value-types/color")), c = f(t("../value-types/size")),
                l = f(t("../value-types/rect")), h = f(t("../value-types/quat")), u = f(t("../value-types/mat4"));

            function f(t) {
                return t && t.__esModule ? t : {default: t}
            }

            var d = 0, _ = [r.default, s.default, a.default, h.default, o.default, c.default, l.default, u.default];

            function p(t, e) {
                t.x = e[1], t.y = e[2], t.z = e[3], t.w = e[4]
            }

            var v = [function (t, e) {
                t.x = e[1], t.y = e[2]
            }, function (t, e) {
                t.x = e[1], t.y = e[2], t.z = e[3]
            }, p, p, function (t, e) {
                t._val = e[1]
            }, function (t, e) {
                t.width = e[1], t.height = e[2]
            }, function (t, e) {
                t.x = e[1], t.y = e[2], t.width = e[3], t.height = e[4]
            }, function (t, e) {
                u.default.fromArray(t, e, 1)
            }], g = 0, m = 5, y = (function () {
                function t() {
                    this.uuidObjList = null, this.uuidPropList = null, this.uuidList = null
                }

                var e = t.prototype;
                return e.init = function (t) {
                    this.uuidObjList = t[8], this.uuidPropList = t[9], this.uuidList = t[10]
                }, e.reset = function () {
                    this.uuidList = null, this.uuidObjList = null, this.uuidPropList = null
                }, e.push = function (t, e, i) {
                    this.uuidObjList.push(t), this.uuidPropList.push(e), this.uuidList.push(i)
                }, t
            })();

            function T(t, e, i) {
                for (var n = t.length - 1, r = 0, s = 3 * t[n]; r < s; r += 3) {
                    var a = t[r], o = e[t[r + 2]], c = t[r + 1];
                    c >= 0 ? a[i[c]] = o : a[~c] = o
                }
                for (; r < n; r += 3) {
                    var l = e[t[r]], h = e[t[r + 2]], u = t[r + 1];
                    u >= 0 ? l[i[u]] = h : l[~u] = h
                }
            }

            function E(t, e) {
                for (var i = t[4][e[0]], n = i[0], r = new (0, n[0]), s = n[1], a = n[2], o = i[i.length - 1], c = 1; c < o; ++c) r[s[i[c]]] = e[c];
                for (; c < e.length; ++c) {
                    var l = s[i[c]], h = n[i[c] + a];
                    (0, w[h])(t, r, l, e[c])
                }
                return r
            }

            function A(t, e, i) {
                var r = new e;
                return r._deserialize ? r._deserialize(i, t[0]) : cc.errorID(5303, n.default.getClassName(e)), r
            }

            function b(t, e, i, n) {
                n >= 0 ? e[i] = t[5][n] : t[7][3 * ~n] = e
            }

            function x(t) {
                return function (e, i, n, r) {
                    i[n] = r;
                    for (var s = 0; s < r.length; ++s) t(e, r, s, r[s])
                }
            }

            function C(t, e, i, n) {
                e[i] = null, t[8][n] = e
            }

            function S(t, e, i, n) {
                e[i] = E(t, n)
            }

            y.pool = new n.default.Pool(function (t) {
                t.reset()
            }, 5), y.pool.get = function () {
                return this._get() || new y
            };
            var w = new Array(13);

            function M(t) {
                var e = t[5], i = t[6], n = 0 === i ? 0 : i.length, r = e[e.length - 1], s = e.length - n;
                "number" != typeof r ? r = 0 : (r < 0 && (r = ~r), --s);
                for (var a = 0; a < s; ++a) e[a] = E(t, e[a]);
                for (var o = t[3], c = 0; c < n; ++c, ++a) {
                    var l = i[c], h = e[a];
                    if (l >= 0) {
                        var u = o[l];
                        e[a] = A(t, u, h)
                    } else (0, w[l = ~l])(t, e, a, h)
                }
                return r
            }

            function R(t, e) {
                return t || L.reportMissingClass(e), Object
            }

            function I(t, e, i, n, r, s) {
                var a = t(e);
                if (!a) {
                    if (r) return void (i[n] = (function (e, i, n) {
                        return function () {
                            var r = t(n) || R(s, n);
                            return e[i] = r, new r
                        }
                    })(i, n, e));
                    a = R(s, e)
                }
                i[n] = a
            }

            function O(t, e, i) {
                for (var r = i || n.default._getClassById, s = t[3], a = 0; a < s.length; ++a) {
                    var o = s[a];
                    "string" != typeof o ? I(r, o[0], o, g, e, i) : I(r, o, s, a, e, i)
                }
            }

            function D(t) {
                var e = t[4];
                if (e) for (var i = t[3], n = 0; n < e.length; ++n) {
                    var r = e[n];
                    r[0] = i[r[0]]
                }
            }

            function P(t) {
                for (var e = t[5], i = t[2], n = t[1], r = t[8], s = t[9], a = t[10], o = 0; o < r.length; ++o) {
                    var c = r[o];
                    "number" == typeof c && (r[o] = e[c]);
                    var l = s[o];
                    "number" == typeof l && (l = l >= 0 ? i[l] : ~l, s[o] = l);
                    var h = a[o];
                    "number" == typeof h && (a[o] = n[h])
                }
            }

            function L(t, e, i) {
                "string" == typeof t && (t = JSON.parse(t));
                var n = !e;
                (e = e || y.pool.get()).init(t), i = i || {};
                var r = t[0], s = !1;
                if ("object" == typeof r && (s = r.preprocessed, r = r.version), r < 1) throw new Error(cc.debug.getError(5304, r));
                i._version = r, i.result = e, t[0] = i, s || (O(t, !1, i.classFinder), D(t)), cc.game._isCloning = !0;
                var a = t[5], o = M(t);
                return cc.game._isCloning = !1, t[7] && T(t[7], a, t[2]), P(t), n && y.pool.put(e), a[o]
            }

            w[0] = function (t, e, i, n) {
                e[i] = n
            }, w[1] = b, w[2] = x(b), w[3] = x(C), w[4] = S, w[5] = function (t, e, i, n) {
                v[n[0]](e[i], n)
            }, w[6] = C, w[7] = function (t, e, i, n) {
                e[i].set(n)
            }, w[8] = function (t, e, i, n) {
                var r = new _[n[0]];
                v[n[0]](r, n), e[i] = r
            }, w[9] = x(S), w[10] = function (t, e, i, n) {
                var r = t[3][n[0]];
                e[i] = A(t, r, n[1])
            }, w[11] = function (t, e, i, n) {
                var r = n[0];
                e[i] = r;
                for (var s = 1; s < n.length; s += 3) {
                    var a = n[s], o = n[s + 1], c = n[s + 2];
                    (0, w[o])(t, r, a, c)
                }
            }, w[12] = function (t, e, i, n) {
                var r = n[0];
                e[i] = r;
                for (var s = 0; s < r.length; ++s) {
                    var a = r[s], o = n[s + 1];
                    0 !== o && (0, w[o])(t, r, s, a)
                }
            }, L.Details = y;
            var N = function (t) {
                this.preprocessed = !0, this.version = t
            }
        }), {
            "../value-types/color": 264,
            "../value-types/mat4": 267,
            "../value-types/quat": 268,
            "../value-types/rect": 269,
            "../value-types/size": 270,
            "../value-types/vec2": 274,
            "../value-types/vec3": 275,
            "../value-types/vec4": 276,
            "./js": 188
        }],
        183: [(function (t) {
            "use strict";
            var e, i = (e = t("./deserialize-compiled")) && e.__esModule ? e : {default: e};
            i.default.reportMissingClass = function (t) {
                cc.warnID(5302, t)
            }, cc.deserialize = i.default
        }), {"./deserialize-compiled": 182, "./deserialize-editor": void 0}],
        184: [(function (t, e) {
            "use strict";
            var i = ".";

            function n(t) {
                this.id = 0 | 998 * Math.random(), this.prefix = t ? t + i : ""
            }

            n.prototype.getNewId = function () {
                return this.prefix + ++this.id
            }, n.global = new n("global"), e.exports = n
        }), {}],
        185: [(function (t) {
            "use strict";
            t("./js"), t("./CCClass"), t("./CCClassDecorator"), t("./CCEnum"), t("./CCObject"), t("./callbacks-invoker"), t("./deserialize"), t("./instantiate"), t("./instantiate-jit"), t("./requiring-frame"), t("./CCSys"), t("./CCMacro"), t("./CCVisibleRect")
        }), {
            "./CCClass": 167,
            "./CCClassDecorator": 168,
            "./CCEnum": 169,
            "./CCMacro": 172,
            "./CCObject": 173,
            "./CCSys": 176,
            "./CCVisibleRect": 178,
            "./callbacks-invoker": 180,
            "./deserialize": 183,
            "./instantiate": 187,
            "./instantiate-jit": 186,
            "./js": 188,
            "./requiring-frame": 190
        }],
        186: [(function (t, e) {
            "use strict";
            var i = t("./CCObject"), n = i.Flags.Destroyed, r = i.Flags.PersistentMask, s = t("./attribute"),
                a = t("./js"), o = t("./CCClass"), c = t("./compiler"), l = s.DELIMETER + "default",
                h = o.IDENTIFIER_RE, u = o.escapeForJS, f = "var ", d = "o", _ = "t", p = {
                    "cc.Node": "cc.Node",
                    "cc.Sprite": "cc.Sprite",
                    "cc.Label": "cc.Label",
                    "cc.Button": "cc.Button",
                    "cc.Widget": "cc.Widget",
                    "cc.Animation": "cc.Animation",
                    "cc.ClickEvent": !1,
                    "cc.PrefabInfo": !1
                };
            try {
                !Float32Array.name && (Float32Array.name = "Float32Array"), !Float64Array.name && (Float64Array.name = "Float64Array"), !Int8Array.name && (Int8Array.name = "Int8Array"), !Int16Array.name && (Int16Array.name = "Int16Array"), !Int32Array.name && (Int32Array.name = "Int32Array"), !Uint8Array.name && (Uint8Array.name = "Uint8Array"), !Uint16Array.name && (Uint16Array.name = "Uint16Array"), !Uint32Array.name && (Uint32Array.name = "Uint32Array"), !Uint8ClampedArray.name && (Uint8ClampedArray.name = "Uint8ClampedArray")
            } catch (C) {
            }

            function v(t) {
                if (t === Float32Array) return "Float32Array";
                if (t === Float64Array) return "Float64Array";
                if (t === Int8Array) return "Int8Array";
                if (t === Int16Array) return "Int16Array";
                if (t === Int32Array) return "Int32Array";
                if (t === Uint8Array) return "Uint8Array";
                if (t === Uint16Array) return "Uint16Array";
                if (t === Uint32Array) return "Uint32Array";
                if (t === Uint8ClampedArray) return "Uint8ClampedArray";
                throw new Error("Unknown TypedArray to instantiate: " + t)
            }

            function g(t, e) {
                this.varName = t, this.expression = e
            }

            function m(t, e) {
                return e instanceof g ? new g(e.varName, t + e.expression) : t + e
            }

            function y(t, e, i) {
                Array.isArray(i) ? (i[0] = m(e, i[0]), t.push(i)) : t.push(m(e, i) + ";")
            }

            function T(t) {
                this._exps = [], this._targetExp = t
            }

            function E(t, e) {
                if ("function" == typeof t) try {
                    t = t()
                } catch (C) {
                    return !1
                }
                if (t === e) return !0;
                if (t && e && "object" == typeof t && "object" == typeof e && t.constructor === e.constructor) if (t instanceof cc.ValueType) {
                    if (t.equals(e)) return !0
                } else {
                    if (Array.isArray(t)) return 0 === t.length && 0 === e.length;
                    if (t.constructor === Object) return a.isEmptyObject(t) && a.isEmptyObject(e)
                }
                return !1
            }

            function A(t) {
                return h.test(t) ? "." + t : "[" + u(t) + "]"
            }

            function b(t, e) {
                var i;
                this.parent = e, this.objsToClear_iN$t = [], this.codeArray = [], this.objs = [], this.funcs = [], this.funcModuleCache = a.createMap(), a.mixin(this.funcModuleCache, p), this.globalVariables = [], this.globalVariableId = 0, this.localVariableId = 0, this.codeArray.push(f + d + "," + _ + ";", "if(R){", d + "=R;", "}else{", d + "=R=new " + this.getFuncModule(t.constructor, !0) + "();", "}"), a.value(t, "_iN$t", {globalVar: "R"}, !0), this.objsToClear_iN$t.push(t), this.enumerateObject(this.codeArray, t), this.globalVariables.length > 0 && (i = f + this.globalVariables.join(",") + ";");
                var n = c.flattenCodeArray(["return (function(R){", i || [], this.codeArray, "return o;", "})"]);
                this.result = Function("O", "F", n)(this.objs, this.funcs);
                for (var r = 0, s = this.objsToClear_iN$t.length; r < s; ++r) this.objsToClear_iN$t[r]._iN$t = null;
                this.objsToClear_iN$t.length = 0
            }

            g.prototype.toString = function () {
                return f + this.varName + "=" + this.expression + ";"
            }, T.prototype.append = function (t, e) {
                this._exps.push([t, e])
            }, T.prototype.writeCode = function (t) {
                var e;
                if (this._exps.length > 1) t.push(_ + "=" + this._targetExp + ";"), e = _; else {
                    if (1 !== this._exps.length) return;
                    e = this._targetExp
                }
                for (var i = 0; i < this._exps.length; i++) {
                    var n = this._exps[i];
                    y(t, e + A(n[0]) + "=", n[1])
                }
            }, T.pool = new a.Pool(function (t) {
                t._exps.length = 0, t._targetExp = null
            }, 1), T.pool.get = function (t) {
                var e = this._get() || new T;
                return e._targetExp = t, e
            };
            var x = b.prototype;
            x.getFuncModule = function (t, e) {
                var i = a.getClassName(t);
                if (i) {
                    var n = this.funcModuleCache[i];
                    if (n) return n;
                    if (void 0 === n) {
                        var r = -1 !== i.indexOf(".");
                        if (r) try {
                            if (r = t === Function("return " + i)()) return this.funcModuleCache[i] = i, i
                        } catch (C) {
                        }
                    }
                }
                var s = this.funcs.indexOf(t);
                s < 0 && (s = this.funcs.length, this.funcs.push(t));
                var o = "F[" + s + "]";
                return e && (o = "(" + o + ")"), this.funcModuleCache[i] = o, o
            }, x.getObjRef = function (t) {
                var e = this.objs.indexOf(t);
                return e < 0 && (e = this.objs.length, this.objs.push(t)), "O[" + e + "]"
            }, x.setValueType = function (t, e, i, n) {
                var r = T.pool.get(n), s = e.constructor.__props__;
                s || (s = Object.keys(e));
                for (var a = 0; a < s.length; a++) {
                    var o = s[a], c = i[o];
                    if (e[o] !== c) {
                        var l = this.enumerateField(i, o, c);
                        r.append(o, l)
                    }
                }
                r.writeCode(t), T.pool.put(r)
            }, x.enumerateCCClass = function (t, e, i) {
                for (var n = i.__values__, r = s.getClassAttrs(i), a = 0; a < n.length; a++) {
                    var c = n[a], h = e[c], u = r[c + l];
                    if (!E(u, h)) if ("object" == typeof h && h instanceof cc.ValueType && (u = o.getDefault(u)) && u.constructor === h.constructor) {
                        var f = d + A(c);
                        this.setValueType(t, u, h, f)
                    } else this.setObjProp(t, e, c, h)
                }
            }, x.instantiateArray = function (t) {
                if (0 === t.length) return "[]";
                var e = "a" + ++this.localVariableId, i = [new g(e, "new Array(" + t.length + ")")];
                a.value(t, "_iN$t", {globalVar: "", source: i}, !0), this.objsToClear_iN$t.push(t);
                for (var n = 0; n < t.length; ++n) y(i, e + "[" + n + "]=", this.enumerateField(t, n, t[n]));
                return i
            }, x.instantiateTypedArray = function (t) {
                var e = t.constructor.name || v(t.constructor);
                if (0 === t.length) return "new " + e;
                var i = "a" + ++this.localVariableId, n = [new g(i, "new " + e + "(" + t.length + ")")];
                t._iN$t = {globalVar: "", source: n}, this.objsToClear_iN$t.push(t);
                for (var r = 0; r < t.length; ++r) 0 !== t[r] && y(n, i + "[" + r + "]=", t[r]);
                return n
            }, x.enumerateField = function (t, e, n) {
                if ("object" == typeof n && n) {
                    var s = n._iN$t;
                    if (s) {
                        var a = s.globalVar;
                        if (!a) {
                            a = s.globalVar = "v" + ++this.globalVariableId, this.globalVariables.push(a);
                            var o = s.source[0];
                            s.source[0] = m(a + "=", o)
                        }
                        return a
                    }
                    return ArrayBuffer.isView(n) ? this.instantiateTypedArray(n) : Array.isArray(n) ? this.instantiateArray(n) : this.instantiateObj(n)
                }
                return "function" == typeof n ? this.getFuncModule(n) : "string" == typeof n ? u(n) : ("_objFlags" === e && t instanceof i && (n &= r), n)
            }, x.setObjProp = function (t, e, i, n) {
                y(t, d + A(i) + "=", this.enumerateField(e, i, n))
            }, x.enumerateObject = function (t, e) {
                var i = e.constructor;
                if (cc.Class._isCCClass(i)) this.enumerateCCClass(t, e, i); else for (var n in e) if (e.hasOwnProperty(n) && (95 !== n.charCodeAt(0) || 95 !== n.charCodeAt(1) || "__type__" === n)) {
                    var r = e[n];
                    "object" == typeof r && r && r === e._iN$t || this.setObjProp(t, e, n, r)
                }
            }, x.instantiateObj = function (t) {
                if (t instanceof cc.ValueType) return o.getNewValueTypeCode(t);
                if (t instanceof cc.Asset) return this.getObjRef(t);
                if (t._objFlags & n) return null;
                var e, i = t.constructor;
                if (cc.Class._isCCClass(i)) {
                    if (this.parent) if (this.parent instanceof cc.Component) {
                        if (t instanceof cc._BaseNode || t instanceof cc.Component) return this.getObjRef(t)
                    } else if (this.parent instanceof cc._BaseNode) if (t instanceof cc._BaseNode) {
                        if (!t.isChildOf(this.parent)) return this.getObjRef(t)
                    } else if (t instanceof cc.Component) {
                        var r;
                        if (null == (r = t.node) || !r.isChildOf(this.parent)) return this.getObjRef(t)
                    }
                    e = new g(d, "new " + this.getFuncModule(i, !0) + "()")
                } else if (i === Object) e = new g(d, "{}"); else {
                    if (i) return this.getObjRef(t);
                    e = new g(d, "Object.create(null)")
                }
                var s = [e];
                return a.value(t, "_iN$t", {
                    globalVar: "",
                    source: s
                }, !0), this.objsToClear_iN$t.push(t), this.enumerateObject(s, t), ["(function(){", s, "return o;})();"]
            }, e.exports = {
                compile: function (t) {
                    return new b(t, t instanceof cc._BaseNode && t).result
                }, equalsToDefault: E
            }
        }), {"./CCClass": 167, "./CCObject": 173, "./attribute": 179, "./compiler": 181, "./js": 188}],
        187: [(function (t, e) {
            "use strict";
            var i = t("./CCObject"), n = t("../value-types/value-type"), r = i.Flags.Destroyed,
                s = i.Flags.PersistentMask, a = t("./utils").isDomNode, o = t("./js");

            function c(t, e) {
                if (!e) {
                    if ("object" != typeof t || Array.isArray(t)) return null;
                    if (!t) return null;
                    if (!cc.isValid(t)) return null
                }
                var n;
                if (t instanceof i) {
                    if (t._instantiate) return cc.game._isCloning = !0, n = t._instantiate(null, !0), cc.game._isCloning = !1, n;
                    if (t instanceof cc.Asset) return null
                }
                return cc.game._isCloning = !0, n = h(t), cc.game._isCloning = !1, n
            }

            var l = [];

            function h(t, e) {
                if (Array.isArray(t)) return null;
                if (a && a(t)) return null;
                var i;
                f(t, i = t._iN$t ? t._iN$t : t.constructor ? new (0, t.constructor) : Object.create(null), e);
                for (var n = 0, r = l.length; n < r; ++n) l[n]._iN$t = null;
                return l.length = 0, i
            }

            function u(t, e, i, r) {
                for (var s = t.__values__, a = 0; a < s.length; a++) {
                    var o = s[a], c = e[o];
                    if ("object" == typeof c && c) {
                        var l = i[o];
                        l instanceof n && l.constructor === c.constructor ? l.set(c) : i[o] = c._iN$t || d(c, r)
                    } else i[o] = c
                }
            }

            function f(t, e, n) {
                o.value(t, "_iN$t", e, !0), l.push(t);
                var r = t.constructor;
                if (cc.Class._isCCClass(r)) u(r, t, e, n); else for (var a in t) if (t.hasOwnProperty(a) && (95 !== a.charCodeAt(0) || 95 !== a.charCodeAt(1) || "__type__" === a)) {
                    var c = t[a];
                    if ("object" == typeof c && c) {
                        if (c === e) continue;
                        e[a] = c._iN$t || d(c, n)
                    } else e[a] = c
                }
                t instanceof i && (e._objFlags &= s)
            }

            function d(t, e) {
                if (t instanceof n) return t.clone();
                if (t instanceof cc.Asset) return t;
                var i;
                if (ArrayBuffer.isView(t)) {
                    var s = t.length;
                    i = new t.constructor(s), t._iN$t = i, l.push(t);
                    for (var a = 0; a < s; ++a) i[a] = t[a];
                    return i
                }
                if (Array.isArray(t)) {
                    var c = t.length;
                    i = new Array(c), o.value(t, "_iN$t", i, !0), l.push(t);
                    for (var h = 0; h < c; ++h) {
                        var u = t[h];
                        i[h] = "object" == typeof u && u ? u._iN$t || d(u, e) : u
                    }
                    return i
                }
                if (t._objFlags & r) return null;
                var _ = t.constructor;
                if (cc.Class._isCCClass(_)) {
                    if (e) if (e instanceof cc.Component) {
                        if (t instanceof cc._BaseNode || t instanceof cc.Component) return t
                    } else if (e instanceof cc._BaseNode) if (t instanceof cc._BaseNode) {
                        if (!t.isChildOf(e)) return t
                    } else if (t instanceof cc.Component) {
                        var p;
                        if (null == (p = t.node) || !p.isChildOf(e)) return t
                    }
                    i = new _
                } else if (_ === Object) i = {}; else {
                    if (_) return t;
                    i = Object.create(null)
                }
                return f(t, i, e), i
            }

            c._clone = h, cc.instantiate = c, e.exports = c
        }), {"../value-types/value-type": 273, "./CCObject": 173, "./js": 188, "./utils": 191}],
        188: [(function (t, e) {
            "use strict";
            var i = new (t("./id-generater"))("TmpCId.");

            function n(t, e) {
                for (; t;) {
                    var i = Object.getOwnPropertyDescriptor(t, e);
                    if (i) return i;
                    t = Object.getPrototypeOf(t)
                }
                return null
            }

            function r(t, e, i) {
                var r = n(e, t);
                Object.defineProperty(i, t, r)
            }

            var s = {
                isNumber: function (t) {
                    return "number" == typeof t || t instanceof Number
                }, isString: function (t) {
                    return "string" == typeof t || t instanceof String
                }, addon: function (t) {
                    t = t || {};
                    for (var e = 1, i = arguments.length; e < i; e++) {
                        var n = arguments[e];
                        if (n) {
                            if ("object" != typeof n) {
                                cc.errorID(5402, n);
                                continue
                            }
                            for (var s in n) s in t || r(s, n, t)
                        }
                    }
                    return t
                }, mixin: function (t) {
                    t = t || {};
                    for (var e = 1, i = arguments.length; e < i; e++) {
                        var n = arguments[e];
                        if (n) {
                            if ("object" != typeof n) {
                                cc.errorID(5403, n);
                                continue
                            }
                            for (var s in n) r(s, n, t)
                        }
                    }
                    return t
                }, extend: function (t, e) {
                    for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
                    return t.prototype = Object.create(e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), t
                }, getSuper: function (t) {
                    var e = t.prototype, i = e && Object.getPrototypeOf(e);
                    return i && i.constructor
                }, isChildClassOf: function (t, e) {
                    if (t && e) {
                        if ("function" != typeof t) return !1;
                        if ("function" != typeof e) return !1;
                        if (t === e) return !0;
                        for (; ;) {
                            if (!(t = s.getSuper(t))) return !1;
                            if (t === e) return !0
                        }
                    }
                    return !1
                }, clear: function (t) {
                    for (var e = Object.keys(t), i = 0; i < e.length; i++) delete t[e[i]]
                }, isEmptyObject: function (t) {
                    for (var e in t) return !1;
                    return !0
                }, getPropertyDescriptor: n
            }, a = {value: void 0, enumerable: !1, writable: !1, configurable: !0};
            s.value = function (t, e, i, n, r) {
                a.value = i, a.writable = n, a.enumerable = r, Object.defineProperty(t, e, a), a.value = void 0
            };
            var o = {get: null, set: null, enumerable: !1};
            s.getset = function (t, e, i, n, r, s) {
                "function" != typeof n && (r = n, n = void 0), o.get = i, o.set = n, o.enumerable = r, o.configurable = s, Object.defineProperty(t, e, o), o.get = null, o.set = null
            };
            var c = {get: null, enumerable: !1, configurable: !1};
            s.get = function (t, e, i, n, r) {
                c.get = i, c.enumerable = n, c.configurable = r, Object.defineProperty(t, e, c), c.get = null
            };
            var l = {set: null, enumerable: !1, configurable: !1};
            s.set = function (t, e, i, n, r) {
                l.set = i, l.enumerable = n, l.configurable = r, Object.defineProperty(t, e, l), l.set = null
            }, s.getClassName = function (t) {
                if ("function" == typeof t) {
                    var e = t.prototype;
                    if (e && e.hasOwnProperty("__classname__") && e.__classname__) return e.__classname__;
                    var i = "";
                    if (t.name && (i = t.name), t.toString) {
                        var n, r = t.toString();
                        (n = "[" === r.charAt(0) ? r.match(/\[\w+\s*(\w+)\]/) : r.match(/function\s*(\w+)/)) && 2 === n.length && (i = n[1])
                    }
                    return "Object" !== i ? i : ""
                }
                return t && t.constructor ? s.getClassName(t.constructor) : ""
            }, (function () {
                var t = {}, e = {};

                function n(t, e, i) {
                    return s.getset(s, e, (function () {
                        return Object.assign({}, i)
                    }), (function (t) {
                        s.clear(i), Object.assign(i, t)
                    })), function (e, n) {
                        if (n.prototype.hasOwnProperty(t) && delete i[n.prototype[t]], s.value(n.prototype, t, e), e) {
                            var r = i[e];
                            if (r && r !== n) {
                                var a = "A Class already exists with the same " + t + ' : "' + e + '".';
                                cc.error(a)
                            } else i[e] = n
                        }
                    }
                }

                s._setClassId = n("__cid__", "_registeredClassIds", t);
                var r = n("__classname__", "_registeredClassNames", e);
                s.setClassName = function (t, e) {
                    if (r(t, e), !e.prototype.hasOwnProperty("__cid__")) {
                        var n = t || i.getNewId();
                        n && s._setClassId(n, e)
                    }
                }, s.unregisterClass = function () {
                    for (var i = 0; i < arguments.length; i++) {
                        var n = arguments[i].prototype, r = n.__cid__;
                        r && delete t[r];
                        var s = n.__classname__;
                        s && delete e[s]
                    }
                }, s._getClassById = function (e) {
                    return t[e]
                }, s.getClassByName = function (t) {
                    return e[t]
                }, s._getClassId = function (t, e) {
                    if (e = void 0 === e || e, "function" == typeof t && t.prototype.hasOwnProperty("__cid__")) return t.prototype.__cid__;
                    if (t && t.constructor) {
                        var i = t.constructor.prototype;
                        if (i && i.hasOwnProperty("__cid__")) return t.__cid__
                    }
                    return ""
                }
            })(), s.obsolete = function (t, e, i, n) {
                var r = /([^.]+)$/, a = r.exec(e)[0], o = r.exec(i)[0];

                function c() {
                    return this[o]
                }

                n ? s.getset(t, a, c, (function (t) {
                    this[o] = t
                })) : s.get(t, a, c)
            }, s.obsoletes = function (t, e, i, n) {
                for (var r in i) {
                    var a = i[r];
                    s.obsolete(t, e + "." + r, a, n)
                }
            };
            var h = /(%d)|(%s)/, u = /%s/;

            function f(t, e) {
                t.splice(e, 1)
            }

            function d(t, e) {
                var i = t.indexOf(e);
                return i >= 0 && (f(t, i), !0)
            }

            function _(t, e) {
                void 0 === e && (e = t, t = null), this.get = null, this.count = 0, this._pool = new Array(e), this._cleanup = t
            }

            s.formatStr = function () {
                var t = arguments.length;
                if (0 === t) return "";
                var e = arguments[0];
                if (1 === t) return "" + e;
                var i = "string" == typeof e && h.test(e);
                if (i) for (var n = 1; n < t; ++n) {
                    var r = arguments[n], s = "number" == typeof r ? h : u;
                    if (s.test(e)) {
                        var a = "" + r;
                        e = e.replace(s, a)
                    } else e += " " + r
                } else for (var o = 1; o < t; ++o) e += " " + arguments[o];
                return e
            }, s.shiftArguments = function () {
                for (var t = arguments.length - 1, e = new Array(t), i = 0; i < t; ++i) e[i] = arguments[i + 1];
                return e
            }, s.createMap = function (t) {
                var e = Object.create(null);
                return t && (e["."] = !0, e["/"] = !0, delete e["."], delete e["/"]), e
            }, s.array = {
                remove: d, fastRemove: function (t, e) {
                    var i = t.indexOf(e);
                    i >= 0 && (t[i] = t[t.length - 1], --t.length)
                }, removeAt: f, fastRemoveAt: function (t, e) {
                    var i = t.length;
                    e < 0 || e >= i || (t[e] = t[i - 1], t.length = i - 1)
                }, contains: function (t, e) {
                    return t.indexOf(e) >= 0
                }, verifyType: function (t, e) {
                    if (t && t.length > 0) for (var i = 0; i < t.length; i++) if (!(t[i] instanceof e)) return cc.logID(1300), !1;
                    return !0
                }, removeArray: function (t, e) {
                    for (var i = 0, n = e.length; i < n; i++) d(t, e[i])
                }, appendObjectsAt: function (t, e, i) {
                    return t.splice.apply(t, [i, 0].concat(e)), t
                }, copy: function (t) {
                    var e, i = t.length, n = new Array(i);
                    for (e = 0; e < i; e += 1) n[e] = t[e];
                    return n
                }, MutableForwardIterator: t("../utils/mutable-forward-iterator")
            }, _.prototype._get = function () {
                if (this.count > 0) {
                    --this.count;
                    var t = this._pool[this.count];
                    return this._pool[this.count] = null, t
                }
                return null
            }, _.prototype.put = function (t) {
                var e = this._pool;
                if (this.count < e.length) {
                    if (this._cleanup && !1 === this._cleanup(t)) return;
                    e[this.count] = t, ++this.count
                }
            }, _.prototype.resize = function (t) {
                t >= 0 && (this._pool.length = t, this.count > t && (this.count = t))
            }, s.Pool = _, cc.js = s, e.exports = s
        }), {"../utils/mutable-forward-iterator": 251, "./id-generater": 184}],
        189: [(function (t, e, i) {
            "use strict";
            var n = t("./js"), r = t("./attribute"),
                s = {default: {}, serializable: {}, editorOnly: {}, formerlySerializedAs: {}};

            function a(t, e, i, n) {
                if (!t.get && !t.set && t.hasOwnProperty("default")) {
                    var r = "_N$" + e;
                    t.get = function () {
                        return this[r]
                    }, t.set = function (t) {
                        var e = this[r];
                        this[r] = t, i.call(this, e)
                    };
                    var a = {};
                    for (var o in n[r] = a, s) {
                        var c = s[o];
                        t.hasOwnProperty(o) && (a[o] = t[o], c.canUsedInGet || delete t[o])
                    }
                }
            }

            function o(t, e, i, n) {
                if (Array.isArray(e)) {
                    if (!(e.length > 0)) return cc.errorID(5508, i, n);
                    t.type = e = e[0]
                }
                "function" == typeof e && (e === String ? t.type = cc.String : e === Boolean ? t.type = cc.Boolean : e === Number && (t.type = cc.Float))
            }

            function c(t, e, i) {
                var n = t ? {_short: !0} : {_short: !0, default: e};
                return i && (n.type = i), n
            }

            i.getFullFormOfProperty = function (t, e) {
                return t && t.constructor === Object ? null : Array.isArray(t) && t.length > 0 ? c(e, [], t) : "function" == typeof t ? c(e, n.isChildClassOf(t, cc.ValueType) ? new t : null, t) : t instanceof r.PrimitiveType ? c(e, t.default) : c(e, t)
            }, i.preprocessAttrs = function (t, e) {
                for (var n in t) {
                    var r = t[n], s = i.getFullFormOfProperty(r, !1);
                    if (s && (r = t[n] = s), r) {
                        var c = r.notify;
                        c && a(r, n, c, t), "type" in r && o(r, r.type, e, n)
                    }
                }
            }, i.validateMethodWithProps = function (t) {
                return "function" == typeof t || null === t
            }
        }), {"./CCClass": 167, "./attribute": 179, "./js": 188}],
        190: [(function () {
            "use strict";
            var t = [];
            cc._RF = {
                push: function (e, i, n) {
                    void 0 === n && (n = i, i = ""), t.push({
                        uuid: i,
                        script: n,
                        module: e,
                        exports: e.exports,
                        beh: null
                    })
                }, pop: function () {
                    var e = t.pop(), i = e.module, n = i.exports;
                    if (n === e.exports) {
                        for (var r in n) return;
                        i.exports = n = e.cls
                    }
                }, peek: function () {
                    return t[t.length - 1]
                }
            }
        }), {}],
        191: [(function (t, e) {
            "use strict";
            t("./js"), e.exports = {
                contains: function (t, e) {
                    if ("function" == typeof t.contains) return t.contains(e);
                    if ("function" == typeof t.compareDocumentPosition) return !!(16 & t.compareDocumentPosition(e));
                    var i = e.parentNode;
                    if (i) do {
                        if (i === t) return !0;
                        i = i.parentNode
                    } while (null !== i);
                    return !1
                }, isDomNode: "object" == typeof window && ("function" == typeof Node ? function (t) {
                    return t instanceof Node
                } : function (t) {
                    return t && "object" == typeof t && "number" == typeof t.nodeType && "string" == typeof t.nodeName
                }), callInNextTick: function (t, e, i) {
                    t && setTimeout((function () {
                        t(e, i)
                    }), 0)
                }
            }
        }), {"./js": 188}],
        192: [(function (t) {
            "use strict";
            t("./platform/js"), t("./value-types"), t("./utils"), t("./platform/CCInputManager"), t("./platform/CCInputExtension"), t("./event"), t("./platform/CCSys"), t("./platform/CCMacro"), t("./asset-manager"), t("./CCDirector"), t("./renderer"), t("./platform/CCView"), t("./platform/CCScreen"), t("./CCScheduler"), t("./event-manager")
        }), {
            "./CCDirector": 37,
            "./CCScheduler": 42,
            "./asset-manager": 60,
            "./event": 142,
            "./event-manager": 138,
            "./platform/CCInputExtension": 170,
            "./platform/CCInputManager": 171,
            "./platform/CCMacro": 172,
            "./platform/CCScreen": 175,
            "./platform/CCSys": 176,
            "./platform/CCView": 177,
            "./platform/js": 188,
            "./renderer": 199,
            "./utils": 249,
            "./value-types": 265
        }],
        193: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = a(t("./assembler")), r = a(t("./utils/dynamic-atlas/manager")), s = a(t("./webgl/render-data"));

            function a(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function o(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = c(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function c(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            function l(t) {
                if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return t
            }

            function h(t, e) {
                return (h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var u = (function (t) {
                var e, i;

                function n() {
                    var e;
                    return (e = t.call(this) || this)._renderData = new s.default, e._renderData.init(l(e)), e.initData(), e.initLocal(), e
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, h(e, i);
                var a, c, u = n.prototype;
                return u.initData = function () {
                    this._renderData.createQuadData(0, this.verticesFloats, this.indicesCount)
                }, u.initLocal = function () {
                    this._local = [], this._local.length = 4
                }, u.updateColor = function (t, e) {
                    var i = this._renderData.uintVDatas[0];
                    if (i) {
                        e = null != e ? e : t.node.color._val;
                        for (var n = this.floatsPerVert, r = this.colorOffset, s = i.length; r < s; r += n) i[r] = e
                    }
                }, u.getBuffer = function () {
                    return cc.renderer._handle._meshBuffer
                }, u.updateWorldVerts = function (t) {
                    var e = this._local, i = this._renderData.vDatas[0], n = t.node._worldMatrix.m, r = n[0], s = n[1],
                        a = n[4], o = n[5], c = n[12], l = n[13], h = e[0], u = e[2], f = e[1], d = e[3],
                        _ = this.floatsPerVert, p = 0;
                    if (1 === r && 0 === s && 0 === a && 1 === o) i[p] = h + c, i[p + 1] = f + l, i[p += _] = u + c, i[p + 1] = f + l, i[p += _] = h + c, i[p + 1] = d + l, i[p += _] = u + c, i[p + 1] = d + l; else {
                        var v = r * h, g = r * u, m = s * h, y = s * u, T = a * f, E = a * d, A = o * f, b = o * d;
                        i[p] = v + T + c, i[p + 1] = m + A + l, i[p += _] = g + T + c, i[p + 1] = y + A + l, i[p += _] = v + E + c, i[p + 1] = m + b + l, i[p += _] = g + E + c, i[p + 1] = y + b + l
                    }
                }, u.fillBuffers = function (t, e) {
                    e.worldMatDirty && this.updateWorldVerts(t);
                    var i = this._renderData, n = i.vDatas[0], r = i.iDatas[0], s = this.getBuffer(e),
                        a = s.request(this.verticesCount, this.indicesCount), o = a.byteOffset >> 2, c = s._vData;
                    n.length + o > c.length ? c.set(n.subarray(0, c.length - o), o) : c.set(n, o);
                    for (var l = s._iData, h = a.indiceOffset, u = a.vertexOffset, f = 0, d = r.length; f < d; f++) l[h++] = u + r[f]
                }, u.packToDynamicAtlas = function (t, e) {
                    if (!e._original && r.default && e._texture.packable && e._texture.loaded) {
                        var i = r.default.insertSpriteFrame(e);
                        i && e._setDynamicAtlasFrame(i)
                    }
                    var n = t._materials[0];
                    n && n.getProperty("texture") !== e._texture._texture && (t._vertsDirty = !0, t._updateMaterial())
                }, a = n, (c = [{
                    key: "verticesFloats", get: function () {
                        return this.verticesCount * this.floatsPerVert
                    }
                }]) && o(a.prototype, c), Object.defineProperty(a, "prototype", {writable: !1}), n
            })(n.default);
            i.default = u, cc.js.addon(u.prototype, {
                floatsPerVert: 5,
                verticesCount: 4,
                indicesCount: 6,
                uvOffset: 2,
                colorOffset: 4
            }), cc.Assembler2D = u, e.exports = i.default
        }), {"./assembler": 196, "./utils/dynamic-atlas/manager": void 0, "./webgl/render-data": 237}],
        194: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            for (var n, r = t("./webgl/vertex-format"), s = (n = t("../value-types/vec3")) && n.__esModule ? n : {default: n}, a = [], o = 0; o < 4; o++) a.push(cc.v3());
            var c = {
                floatsPerVert: 6, uvOffset: 3, colorOffset: 5, getBuffer: function (t) {
                    return t._meshBuffer3D
                }, getVfmt: function () {
                    return r.vfmt3D
                }, updateWorldVerts: function (t) {
                    var e = t.node._worldMatrix, i = this._local, n = this._renderData.vDatas[0];
                    s.default.set(a[0], i[0], i[1], 0), s.default.set(a[1], i[2], i[1], 0), s.default.set(a[2], i[0], i[3], 0), s.default.set(a[3], i[2], i[3], 0);
                    for (var r = this.floatsPerVert, o = 0; o < 4; o++) {
                        var c = a[o];
                        s.default.transformMat4(c, c, e);
                        var l = r * o;
                        n[l] = c.x, n[l + 1] = c.y, n[l + 2] = c.z
                    }
                }
            };
            cc.Assembler3D = c;
            var l = c;
            i.default = l, e.exports = i.default
        }), {"../value-types/vec3": 275, "./webgl/vertex-format": 239}],
        195: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../utils/pool")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a = 0;

            function o(t) {
                return Object.getOwnPropertyDescriptor(t, "__assemblerId__") || (t.__assemblerId__ = ++a), t.__assemblerId__
            }

            var c = new (function (t) {
                var e, i;

                function n() {
                    for (var e, i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
                    return (e = t.call.apply(t, [this].concat(n)) || this)._pool = {}, e
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i);
                var r = n.prototype;
                return r.put = function (t) {
                    if (t && this.enabled) {
                        var e = o(t.constructor), i = this._pool;
                        i[e] || (i[e] = []), this.count > this.maxSize || (this._clean(t), i[e].push(t), this.count++)
                    }
                }, r.get = function (t) {
                    var e;
                    if (this.enabled) {
                        var i = this._pool, n = o(t);
                        e = i[n] && i[n].pop()
                    }
                    return e ? this.count-- : e = new t, e
                }, r.clear = function () {
                    this._pool = {}, this.count = 0
                }, r._clean = function (t) {
                    t._renderComp = null
                }, n
            }(r.default));
            r.default.register("assembler", c);
            var l = c;
            i.default = l, e.exports = i.default
        }), {"../utils/pool": 252}],
        196: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = t("./webgl/vertex-format"), s = (n = t("./assembler-pool")) && n.__esModule ? n : {default: n},
                a = (function () {
                    function t() {
                        this._extendNative && this._extendNative()
                    }

                    var e = t.prototype;
                    return e.init = function (t) {
                        this._renderComp = t
                    }, e.updateRenderData = function () {
                    }, e.fillBuffers = function () {
                    }, e.getVfmt = function () {
                        return r.vfmtPosUvColor
                    }, t
                })();
            i.default = a, a.register = function (t, e) {
                t.__assembler__ = e
            }, a.init = function (t) {
                for (var e = t.constructor, i = e.__assembler__; !i;) {
                    if (!(e = e.$super)) return void cc.warn("Can not find assembler for render component : [" + cc.js.getClassName(t) + "]");
                    i = e.__assembler__
                }
                if (i.getConstructor && (i = i.getConstructor(t)), !t._assembler || t._assembler.constructor !== i) {
                    var n = s.default.get(i);
                    n.init(t), t._assembler = n
                }
            }, cc.Assembler = a, e.exports = i.default
        }), {"./assembler-pool": 195, "./webgl/vertex-format": 239}],
        197: [(function (t, e) {
            "use strict";
            var i = function (t) {
                var e;
                try {
                    e = t.getContext("2d")
                } catch (i) {
                    return void console.error(i)
                }
                this._canvas = t, this._ctx = e, this._caps = {}, this._stats = {drawcalls: 0}, this._vx = this._vy = this._vw = this._vh = 0, this._sx = this._sy = this._sw = this._sh = 0
            };
            i.prototype._restoreTexture = function () {
            }, i.prototype.setViewport = function (t, e, i, n) {
                this._vx === t && this._vy === e && this._vw === i && this._vh === n || (this._vx = t, this._vy = e, this._vw = i, this._vh = n)
            }, i.prototype.setScissor = function (t, e, i, n) {
                this._sx === t && this._sy === e && this._sw === i && this._sh === n || (this._sx = t, this._sy = e, this._sw = i, this._sh = n)
            }, i.prototype.clear = function (t) {
                var e = this._ctx;
                e.clearRect(this._vx, this._vy, this._vw, this._vh), !t || 0 === t[0] && 0 === t[1] && 0 === t[2] || (e.fillStyle = "rgb(" + t[0] + "," + t[1] + "," + t[2] + ")", e.globalAlpha = t[3], e.fillRect(this._vx, this._vy, this._vw, this._vh))
            }, i.prototype.resetDrawCalls = function () {
                this._stats.drawcalls = 0
            }, i.prototype.getDrawCalls = function () {
                return this._stats.drawcalls
            }, e.exports = i
        }), {}],
        198: [(function (t, e) {
            "use strict";
            var i = function (t, e) {
                this._device = t, this._width = 4, this._height = 4, this._image = null, e && (void 0 !== e.width && (this._width = e.width), void 0 !== e.height && (this._height = e.height), this.updateImage(e))
            };
            i.prototype.update = function (t) {
                this.updateImage(t)
            }, i.prototype.updateImage = function (t) {
                if (t.images && t.images[0]) {
                    var e = t.images[0];
                    e && e !== this._image && (this._image = e)
                }
            }, i.prototype.destroy = function () {
                this._image = null
            }, e.exports = i
        }), {}],
        199: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = a(t("../../renderer/gfx")), r = a(t("../../renderer/core/input-assembler")),
                s = a(t("../../renderer/core/pass"));

            function a(t) {
                return t && t.__esModule ? t : {default: t}
            }

            var o = cc.renderer = {
                Texture2D: null,
                InputAssembler: r.default,
                Pass: s.default,
                renderEngine: null,
                canvas: null,
                device: null,
                scene: null,
                drawCalls: 0,
                _handle: null,
                _cameraNode: null,
                _camera: null,
                _forward: null,
                _flow: null,
                initWebGL: function (e, i) {
                    t("./webgl/assemblers");
                    var r = t("./webgl/model-batcher");
                    this.Texture2D = n.default.Texture2D, this.canvas = e, this._flow = cc.RenderFlow;
                    var s = t("../../renderer/scene/scene"), a = t("../../renderer/renderers/forward-renderer");
                    this.device = new n.default.Device(e, i), this.scene = new s;
                    var o, c = (o = this.device, {
                        defaultTexture: new n.default.Texture2D(o, {
                            images: [],
                            width: 128,
                            height: 128,
                            wrapS: n.default.WRAP_REPEAT,
                            wrapT: n.default.WRAP_REPEAT,
                            format: n.default.TEXTURE_FMT_RGB8,
                            genMipmaps: !1
                        }), programTemplates: [], programChunks: {}
                    });
                    this._forward = new a(this.device, c), this._handle = new r(this.device, this.scene), this._flow.init(this._handle, this._forward)
                },
                initCanvas: function (e) {
                    var i = t("./canvas"), n = t("./canvas/Texture2D"), r = t("./canvas/Device");
                    this.Device = r, this.Texture2D = n, this.canvas = e, this.device = new r(e), this._camera = {
                        a: 1,
                        b: 0,
                        c: 0,
                        d: 1,
                        tx: 0,
                        ty: 0
                    }, this._handle = new i.RenderComponentHandle(this.device, this._camera), this._forward = new i.ForwardRenderer, this._flow = cc.RenderFlow, this._flow.init(this._handle, this._forward)
                },
                updateCameraViewport: function () {
                    if (cc.director) {
                        var t = cc.director.getScene();
                        t && t.setScale(1, 1, 1)
                    }
                    if (cc.game.renderType === cc.game.RENDER_TYPE_CANVAS) {
                        var e = cc.view.getViewportRect();
                        this.device.setViewport(e.x, e.y, e.width, e.height), this._camera.a = cc.view.getScaleX(), this._camera.d = cc.view.getScaleY(), this._camera.tx = e.x, this._camera.ty = e.y + e.height
                    }
                },
                render: function (t, e) {
                    this.device.resetDrawCalls(), t && (this._flow.render(t, e), this.drawCalls = this.device.getDrawCalls())
                },
                clear: function () {
                    this._handle.reset(), this._forward.clear()
                }
            };
            i.default = o, e.exports = i.default
        }), {
            "../../renderer/core/input-assembler": 282,
            "../../renderer/core/pass": 283,
            "../../renderer/gfx": 292,
            "../../renderer/renderers/forward-renderer": 311,
            "../../renderer/scene/scene": 315,
            "./canvas": void 0,
            "./canvas/Device": 197,
            "./canvas/Texture2D": 198,
            "./webgl/assemblers": 209,
            "./webgl/model-batcher": 235
        }],
        200: [(function (t, e) {
            "use strict";
            var i, n, r = 0, s = 1 << r++, a = 1 << r++, o = 1 << r++, c = 1 << r++, l = o | c, h = 1 << r++,
                u = 1 << r++, f = 1 << r++, d = u | f, _ = 1 << r++, p = 1 << r++, v = 1 << r++, g = 1 << r++, m = 0;

            function y() {
                this._func = C, this._next = null
            }

            var T = y.prototype;
            T._doNothing = function () {
            }, T._localTransform = function (t) {
                t._updateLocalMatrix(), t._renderFlag &= ~o, this._next._func(t)
            }, T._worldTransform = function (t) {
                i.worldMatDirty++;
                var e = t._matrix, n = t._trs, r = e.m;
                r[12] = n[0], r[13] = n[1], r[14] = n[2], t._mulMat(t._worldMatrix, t._parent._worldMatrix, e), t._renderFlag &= ~c, this._next._func(t), i.worldMatDirty--
            }, T._updateRenderData = function (t) {
                var e = t._renderComponent;
                e._assembler.updateRenderData(e), t._renderFlag &= ~h, this._next._func(t)
            }, T._opacity = function (t) {
                i.parentOpacityDirty++, this._next._func(t), t._renderFlag &= ~u, i.parentOpacityDirty--
            }, T._color = function (t) {
                var e = t._renderComponent;
                e && e._updateColor(), t._renderFlag &= ~f, this._next._func(t)
            }, T._render = function (t) {
                var e = t._renderComponent;
                e._checkBacth(i, t._cullingMask), e._assembler.fillBuffers(e, i), this._next._func(t)
            }, T._children = function (t) {
                for (var e = m, n = i, r = n.parentOpacity, s = n.parentOpacity *= t._opacity / 255, a = (n.worldMatDirty ? c : 0) | (n.parentOpacityDirty ? d : 0), o = t._children, l = 0, h = o.length; l < h; l++) {
                    var u = o[l];
                    if (u._renderFlag |= a, u._activeInHierarchy && 0 !== u._opacity) {
                        m = u._cullingMask = 0 === u.groupIndex ? e : 1 << u.groupIndex;
                        var f = u._color._val;
                        u._color._fastSetA(u._opacity * s), A[u._renderFlag]._func(u), u._color._val = f
                    }
                }
                n.parentOpacity = r, this._next._func(t)
            }, T._postRender = function (t) {
                var e = t._renderComponent;
                e._checkBacth(i, t._cullingMask), e._assembler.postFillBuffers(e, i), this._next._func(t)
            };
            var E = new y;
            E._func = E._doNothing, E._next = E;
            var A = {};

            function b(t, e) {
                if (t === s || t === a) return E;
                var i = new y;
                switch (i._next = e || E, t) {
                    case o:
                        i._func = i._localTransform;
                        break;
                    case c:
                        i._func = i._worldTransform;
                        break;
                    case h:
                        i._func = i._updateRenderData;
                        break;
                    case u:
                        i._func = i._opacity;
                        break;
                    case f:
                        i._func = i._color;
                        break;
                    case _:
                        i._func = i._render;
                        break;
                    case p:
                        i._func = i._children;
                        break;
                    case v:
                        i._func = i._postRender
                }
                return i
            }

            function x(t) {
                for (var e = null, i = g; i > 0;) i & t && (e = b(i, e)), i >>= 1;
                return e
            }

            function C(t) {
                var e = t._renderFlag;
                (A[e] = x(e))._func(t)
            }

            y.flows = A, y.createFlow = b;
            var S = [];
            y.registerValidate = function (t) {
                t._inValidateList || (S.push(t), t._inValidateList = !0)
            }, y.validateRenderers = function () {
                for (var t = 0, e = S.length; t < e; t++) {
                    var i = S[t];
                    i.isValid && (i.enabledInHierarchy ? i._validateRender() : i.disableRender(), i._inValidateList = !1)
                }
                S.length = 0
            }, y.visitRootNode = function (t) {
                y.validateRenderers();
                var e = m;
                m = t._cullingMask, t._renderFlag & c ? (i.worldMatDirty++, t._calculWorldMatrix(), t._renderFlag &= ~c, A[t._renderFlag]._func(t), i.worldMatDirty--) : A[t._renderFlag]._func(t), m = e
            }, y.render = function (t, e) {
                i.reset(), i.walking = !0, y.visitRootNode(t), i.terminate(), i.walking = !1, n.render(i._renderScene, e)
            }, y.renderCamera = function (t, e) {
                i.reset(), i.walking = !0, y.visitRootNode(e), i.terminate(), i.walking = !1, n.renderCamera(t, i._renderScene)
            }, y.init = function (t, e) {
                i = t, n = e, A[0] = E;
                for (var r = 1; r < g; r++) A[r] = new y
            }, y.getBachther = function () {
                return i
            }, y.FLAG_DONOTHING = s, y.FLAG_BREAK_FLOW = a, y.FLAG_LOCAL_TRANSFORM = o, y.FLAG_WORLD_TRANSFORM = c, y.FLAG_TRANSFORM = l, y.FLAG_UPDATE_RENDER_DATA = h, y.FLAG_OPACITY = u, y.FLAG_COLOR = f, y.FLAG_OPACITY_COLOR = d, y.FLAG_RENDER = _, y.FLAG_CHILDREN = p, y.FLAG_POST_RENDER = v, y.FLAG_FINAL = g, e.exports = cc.RenderFlow = y
        }), {}],
        201: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../assembler-2d")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a = t("../../../utils/text-utils"), o = t("../../../platform/CCMacro"),
                c = t("../../../components/CCLabel").Overflow, l = t("../utils").shareLabelInfo, h = function () {
                    this.char = "", this.valid = !0, this.x = 0, this.y = 0, this.line = 0, this.hash = ""
                }, u = cc.rect(), f = null, d = [], _ = [], p = [], v = [], g = null, m = 0, y = 0, T = 0, E = 0, A = 0,
                b = 1, x = null, C = cc.size(), S = "", w = 0, M = 0, R = 0, I = 0, O = 0, D = 0, P = 0, L = !1, N = 0,
                F = 0, B = 0, k = (function (t) {
                    var e, i;

                    function n() {
                        return t.apply(this, arguments) || this
                    }

                    i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i);
                    var r = n.prototype;
                    return r.updateRenderData = function (t) {
                        t._vertsDirty && f !== t && (f = t, this._reserveQuads(t, t.string.toString().length), this._updateFontFamily(t), this._updateProperties(t), this._updateLabelInfo(t), this._updateContent(), this.updateWorldVerts(t), f._actualFontSize = w, f.node.setContentSize(C), f._vertsDirty = !1, f = null, this._resetProperties())
                    }, r._updateFontScale = function () {
                        b = w / M
                    }, r._updateFontFamily = function (t) {
                        var e = t.font;
                        x = e.spriteFrame, g = e._fntConfig, l.fontAtlas = e._fontDefDictionary, this.packToDynamicAtlas(t, x)
                    }, r._updateLabelInfo = function () {
                        l.hash = "", l.margin = 0
                    }, r._updateProperties = function (t) {
                        S = t.string.toString(), w = t.fontSize, M = g ? g.fontSize : t.fontSize, R = t.horizontalAlign, I = t.verticalAlign, O = t.spacingX, P = t.overflow, D = t._lineHeight, C.width = t.node.width, C.height = t.node.height, P === c.NONE ? (L = !1, C.width += 2 * l.margin, C.height += 2 * l.margin) : P === c.RESIZE_HEIGHT ? (L = !0, C.height += 2 * l.margin) : L = t.enableWrapText, l.lineHeight = D, l.fontSize = w, this._setupBMFontOverflowMetrics()
                    }, r._resetProperties = function () {
                        g = null, x = null, l.hash = "", l.margin = 0
                    }, r._updateContent = function () {
                        this._updateFontScale(), this._computeHorizontalKerningForText(), this._alignText()
                    }, r._computeHorizontalKerningForText = function () {
                        var t, e = S, i = e.length, n = d;
                        if (g && (t = g.kerningDict), t && !cc.js.isEmptyObject(t)) for (var r = -1, s = 0; s < i; ++s) {
                            var a = e.charCodeAt(s), o = t[r << 16 | 65535 & a] || 0;
                            n[s] = s < i - 1 ? o : 0, r = a
                        } else n.length = 0
                    }, r._multilineTextWrap = function (t) {
                        for (var e = S.length, i = 0, n = 0, r = 0, s = 0, o = 0, h = 0, u = 0, f = null, _ = cc.v2(0, 0), v = 0; v < e;) {
                            var T = S.charAt(v);
                            if ("\n" !== T) {
                                for (var x = t(S, v, e), w = h, M = u, R = o, I = n, k = !1, V = 0; V < x; ++V) {
                                    var U = v + V;
                                    if ("\r" !== (T = S.charAt(U))) if (f = l.fontAtlas.getLetterDefinitionForChar(T, l)) {
                                        var z = I + f.offsetX * b - l.margin;
                                        if (L && B > 0 && n > 0 && z + f.w * b > B && !a.isUnicodeSpace(T)) {
                                            p.push(o), o = 0, i++, n = 0, r -= D * this._getFontScale() + 0, k = !0;
                                            break
                                        }
                                        _.x = z, _.y = r - f.offsetY * b + l.margin, this._recordLetterInfo(_, T, U, i), U + 1 < d.length && U < e - 1 && (I += d[U + 1]), I += f.xAdvance * b + O - 2 * l.margin, R = _.x + f.w * b - l.margin, w < _.y && (w = _.y), M > _.y - f.h * b && (M = _.y - f.h * b)
                                    } else {
                                        this._recordPlaceholderInfo(U, T);
                                        var H = "";
                                        g && (H = g.atlasName), console.log("Can't find letter definition in texture atlas " + H + " for letter:" + T)
                                    } else this._recordPlaceholderInfo(U, T)
                                }
                                k || (n = I, h < w && (h = w), u > M && (u = M), s < (o = R) && (s = o), v += x)
                            } else p.push(o), o = 0, i++, n = 0, r -= D * this._getFontScale() + 0, this._recordPlaceholderInfo(v, T), v++
                        }
                        return p.push(o), y = (m = i + 1) * D * this._getFontScale(), m > 1 && (y += 0 * (m - 1)), C.width = N, C.height = F, N <= 0 && (C.width = parseFloat(s.toFixed(2)) + 2 * l.margin), F <= 0 && (C.height = parseFloat(y.toFixed(2)) + 2 * l.margin), E = C.height, A = 0, P !== c.CLAMP && (h > 0 && (E = C.height + h), u < -y && (A = y + u)), !0
                    }, r._getFirstCharLen = function () {
                        return 1
                    }, r._getFontScale = function () {
                        return P === c.SHRINK ? b : 1
                    }, r._getFirstWordLen = function (t, e, i) {
                        var n = t.charAt(e);
                        if (a.isUnicodeCJK(n) || "\n" === n || a.isUnicodeSpace(n)) return 1;
                        var r = 1, s = l.fontAtlas.getLetterDefinitionForChar(n, l);
                        if (!s) return r;
                        for (var o = s.xAdvance * b + O, c = e + 1; c < i && (n = t.charAt(c), s = l.fontAtlas.getLetterDefinitionForChar(n, l)); ++c) {
                            if (o + s.offsetX * b + s.w * b > B && !a.isUnicodeSpace(n) && B > 0) return r;
                            if (o += s.xAdvance * b + O, "\n" === n || a.isUnicodeSpace(n) || a.isUnicodeCJK(n)) break;
                            r++
                        }
                        return r
                    }, r._multilineTextWrapByWord = function () {
                        return this._multilineTextWrap(this._getFirstWordLen)
                    }, r._multilineTextWrapByChar = function () {
                        return this._multilineTextWrap(this._getFirstCharLen)
                    }, r._recordPlaceholderInfo = function (t, e) {
                        if (t >= _.length) {
                            var i = new h;
                            _.push(i)
                        }
                        _[t].char = e, _[t].hash = e.charCodeAt(0) + l.hash, _[t].valid = !1
                    }, r._recordLetterInfo = function (t, e, i, n) {
                        if (i >= _.length) {
                            var r = new h;
                            _.push(r)
                        }
                        var s = e.charCodeAt(0) + l.hash;
                        _[i].line = n, _[i].char = e, _[i].hash = s, _[i].valid = l.fontAtlas.getLetter(s).valid, _[i].x = t.x, _[i].y = t.y
                    }, r._alignText = function () {
                        y = 0, p.length = 0, this._multilineTextWrapByWord(), this._computeAlignmentOffset(), P === c.SHRINK && w > 0 && this._isVerticalClamp() && this._shrinkLabelToContentSize(this._isVerticalClamp), this._updateQuads() || P === c.SHRINK && this._shrinkLabelToContentSize(this._isHorizontalClamp)
                    }, r._scaleFontSizeDown = function (t) {
                        var e = !0;
                        t || (t = .1, e = !1), w = t, e && this._updateContent()
                    }, r._shrinkLabelToContentSize = function (t) {
                        for (var e = 0, i = 0 | w, n = 0; e < i;) {
                            var r = n = e + i + 1 >> 1;
                            if (r <= 0) break;
                            b = r / M, this._multilineTextWrapByWord(), this._computeAlignmentOffset(), t() ? i = n - 1 : e = n
                        }
                        var s = e;
                        s >= 0 && this._scaleFontSizeDown(s)
                    }, r._isVerticalClamp = function () {
                        return y > C.height
                    }, r._isHorizontalClamp = function () {
                        for (var t = !1, e = 0, i = S.length; e < i; ++e) {
                            var n = _[e];
                            if (n.valid) {
                                var r = l.fontAtlas.getLetter(n.hash), s = n.x + r.w * b, a = n.line;
                                if (N > 0) if (L) {
                                    if (p[a] > C.width && (s > C.width || s < 0)) {
                                        t = !0;
                                        break
                                    }
                                } else if (s > C.width) {
                                    t = !0;
                                    break
                                }
                            }
                        }
                        return t
                    }, r._isHorizontalClamped = function (t, e) {
                        var i = p[e], n = t > C.width || t < 0;
                        return L ? i > C.width && n : n
                    }, r._updateQuads = function () {
                        var t = x ? x._texture : l.fontAtlas.getTexture(), e = f.node;
                        this.verticesCount = this.indicesCount = 0, this._renderData && (this._renderData.dataLength = 0);
                        for (var i = C, n = e._anchorPoint.x * i.width, r = e._anchorPoint.y * i.height, s = !0, a = 0, o = S.length; a < o; ++a) {
                            var h = _[a];
                            if (h.valid) {
                                var d = l.fontAtlas.getLetter(h.hash);
                                u.height = d.h, u.width = d.w, u.x = d.u, u.y = d.v;
                                var p = h.y + T;
                                if (F > 0) {
                                    if (p > E) {
                                        var g = p - E;
                                        u.y += g, u.height -= g, p -= g
                                    }
                                    p - d.h * b < A && P === c.CLAMP && (u.height = p < A ? 0 : (p - A) / b)
                                }
                                var m = h.line, y = h.x + d.w / 2 * b + v[m];
                                if (N > 0 && this._isHorizontalClamped(y, m)) if (P === c.CLAMP) u.width = 0; else if (P === c.SHRINK) {
                                    if (C.width > d.w) {
                                        s = !1;
                                        break
                                    }
                                    u.width = 0
                                }
                                if (u.height > 0 && u.width > 0) {
                                    var w = this._determineRect(u), M = h.x + v[h.line];
                                    this.appendQuad(f, t, u, w, M - n, p - r, b)
                                }
                            }
                        }
                        return this._quadsUpdated(f), s
                    }, r._determineRect = function (t) {
                        var e = x.isRotated(), i = x._originalSize, n = x._rect, r = x._offset,
                            s = r.x + (i.width - n.width) / 2, a = r.y - (i.height - n.height) / 2;
                        if (e) {
                            var o = t.x;
                            t.x = n.x + n.height - t.y - t.height - a, t.y = o + n.y - s, t.y < 0 && (t.height = t.height + a)
                        } else t.x += n.x - s, t.y += n.y + a;
                        return e
                    }, r._computeAlignmentOffset = function () {
                        switch (v.length = 0, R) {
                            case o.TextAlignment.LEFT:
                                for (var t = 0; t < m; ++t) v.push(0);
                                break;
                            case o.TextAlignment.CENTER:
                                for (var e = 0, i = p.length; e < i; e++) v.push((C.width - p[e]) / 2);
                                break;
                            case o.TextAlignment.RIGHT:
                                for (var n = 0, r = p.length; n < r; n++) v.push(C.width - p[n])
                        }
                        if (T = C.height, I !== o.VerticalTextAlignment.TOP) {
                            var s = C.height - y + D * this._getFontScale() - M * b;
                            I === o.VerticalTextAlignment.BOTTOM ? T -= s : T -= s / 2
                        }
                    }, r._setupBMFontOverflowMetrics = function () {
                        var t = C.width, e = C.height;
                        P === c.RESIZE_HEIGHT && (e = 0), P === c.NONE && (t = 0, e = 0), N = t, F = e, B = t
                    }, r.updateWorldVerts = function () {
                    }, r.appendQuad = function () {
                    }, r._quadsUpdated = function () {
                    }, r._reserveQuads = function () {
                    }, n
                })(r.default);
            i.default = k, e.exports = i.default
        }), {
            "../../../components/CCLabel": 110,
            "../../../platform/CCMacro": 172,
            "../../../utils/text-utils": 257,
            "../../assembler-2d": 193,
            "../utils": 205
        }],
        202: [(function (t, e) {
            "use strict";

            function i() {
                this._rect = null, this.uv = [], this._texture = null, this._original = null
            }

            i.prototype = {
                constructor: i, getRect: function () {
                    return cc.rect(this._rect)
                }, setRect: function (t) {
                    this._rect = t, this._texture && this._calculateUV()
                }, _setDynamicAtlasFrame: function (t) {
                    t && (this._original = {
                        _texture: this._texture,
                        _x: this._rect.x,
                        _y: this._rect.y
                    }, this._texture = t.texture, this._rect.x = t.x, this._rect.y = t.y, this._calculateUV())
                }, _resetDynamicAtlasFrame: function () {
                    this._original && (this._rect.x = this._original._x, this._rect.y = this._original._y, this._texture = this._original._texture, this._original = null, this._calculateUV())
                }, _refreshTexture: function (t) {
                    this._texture = t, this._rect = cc.rect(0, 0, t.width, t.height), this._calculateUV()
                }, _calculateUV: function () {
                    var t = this._rect, e = this._texture, i = this.uv, n = e.width, r = e.height,
                        s = 0 === n ? 0 : t.x / n, a = 0 === n ? 0 : (t.x + t.width) / n,
                        o = 0 === r ? 0 : (t.y + t.height) / r, c = 0 === r ? 0 : t.y / r;
                    i[0] = s, i[1] = o, i[2] = a, i[3] = o, i[4] = s, i[5] = c, i[6] = a, i[7] = c
                }
            }, e.exports = i
        }), {}],
        203: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../webgl/assemblers/label/2d/bmfont")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a = t("../../../components/CCLabel"), o = t("../../../components/CCLabelOutline"),
                c = t("../../../utils/text-utils"), l = t("../../../components/CCComponent"),
                h = t("../../../assets/CCRenderTexture"), u = cc.js.isChildClassOf(o, l),
                f = t("../utils").getFontFamily, d = t("../utils").shareLabelInfo,
                _ = cc.BitmapFont.FontLetterDefinition, p = cc.BitmapFont.FontAtlas, v = cc.Color.WHITE, g = 0,
                m = (1 / 255).toFixed(3);

            function y(t, e) {
                this._texture = null, this._labelInfo = e, this._char = t, this._hash = null, this._data = null, this._canvas = null, this._context = null, this._width = 0, this._height = 0, this._offsetY = 0, this._hash = t.charCodeAt(0) + e.hash
            }

            function T(t, e) {
                var i = new h;
                i.initWithSize(t, e), i.update(), this._fontDefDictionary = new p(i), this._x = g, this._y = g, this._nexty = g, this._width = t, this._height = e, cc.director.on(cc.Director.EVENT_BEFORE_SCENE_LAUNCH, this.beforeSceneLoad, this)
            }

            y.prototype = {
                constructor: y, updateRenderData: function () {
                    this._updateProperties(), this._updateTexture()
                }, _updateProperties: function () {
                    this._texture = new cc.Texture2D, this._data = a._canvasPool.get(), this._canvas = this._data.canvas, this._context = this._data.context, this._context.font = this._labelInfo.fontDesc;
                    var t = c.safeMeasureText(this._context, this._char, this._labelInfo.fontDesc),
                        e = 2 * this._labelInfo.margin + 2;
                    this._width = parseFloat(t.toFixed(2)) + e, this._height = (1 + c.BASELINE_RATIO) * this._labelInfo.fontSize + e, this._offsetY = -this._labelInfo.fontSize * c.BASELINE_RATIO / 2, this._canvas.width !== this._width && (this._canvas.width = this._width), this._canvas.height !== this._height && (this._canvas.height = this._height), this._texture.initWithElement(this._canvas)
                }, _updateTexture: function () {
                    var t = this._context, e = this._labelInfo, i = this._canvas.width, n = this._canvas.height,
                        r = this._labelInfo.fontSize, s = i / 2, a = n / 2 + r * c.MIDDLE_RATIO + r * c.BASELINE_OFFSET,
                        o = e.color;
                    if (t.lineJoin = "round", t.textAlign = "center", t.clearRect(0, 0, i, n), t.fillStyle = "rgba(" + o.r + ", " + o.g + ", " + o.b + ", " + m + ")", t.fillRect(0, 0, i, n), t.font = e.fontDesc, t.fillStyle = "rgba(" + o.r + ", " + o.g + ", " + o.b + ", 1)", e.isOutlined && e.margin > 0) {
                        var l = e.out || v;
                        t.strokeStyle = "rgba(" + l.r + ", " + l.g + ", " + l.b + ", " + l.a / 255 + ")", t.lineWidth = 2 * e.margin, t.strokeText(this._char, s, a)
                    }
                    t.fillText(this._char, s, a), this._texture.handleLoadedTexture()
                }, destroy: function () {
                    this._texture.destroy(), this._texture = null, a._canvasPool.put(this._data)
                }
            }, cc.js.mixin(T.prototype, {
                insertLetterTexture: function (t) {
                    var e = t._texture, i = e.width, n = e.height;
                    if (this._x + i + g > this._width && (this._x = g, this._y = this._nexty), this._y + n > this._nexty && (this._nexty = this._y + n + g), this._nexty > this._height) return null;
                    this._fontDefDictionary._texture.drawTextureAt(e, this._x, this._y), this._dirty = !0;
                    var r = new _;
                    return r.u = this._x + 1, r.v = this._y + 1, r.texture = this._fontDefDictionary._texture, r.valid = !0, r.w = t._width - 2, r.h = t._height - 2, r.xAdvance = r.w, r.offsetY = t._offsetY, this._x += i + g, this._fontDefDictionary.addLetterDefinitions(t._hash, r), r
                }, update: function () {
                    this._dirty && (this._fontDefDictionary._texture.update(), this._dirty = !1)
                }, reset: function () {
                    this._x = g, this._y = g, this._nexty = g;
                    for (var t = this._fontDefDictionary._letterDefinitions, e = 0, i = t.length; e < i; e++) {
                        var n = t[e];
                        n.isValid && n.destroy()
                    }
                    this._fontDefDictionary.clear()
                }, destroy: function () {
                    this.reset(), this._fontDefDictionary._texture.destroy(), this._fontDefDictionary._texture = null
                }, beforeSceneLoad: function () {
                    this.clearAllCache()
                }, clearAllCache: function () {
                    this.destroy();
                    var t = new h;
                    t.initWithSize(this._width, this._height), t.update(), this._fontDefDictionary._texture = t
                }, getLetter: function (t) {
                    return this._fontDefDictionary._letterDefinitions[t]
                }, getTexture: function () {
                    return this._fontDefDictionary.getTexture()
                }, getLetterDefinitionForChar: function (t, e) {
                    var i = t.charCodeAt(0) + e.hash, n = this._fontDefDictionary._letterDefinitions[i];
                    if (!n) {
                        var r = new y(t, e);
                        r.updateRenderData(), n = this.insertLetterTexture(r), r.destroy()
                    }
                    return n
                }
            });
            var E = null, A = (function (t) {
                var e, i;

                function n() {
                    return t.apply(this, arguments) || this
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i);
                var r = n.prototype;
                return r._getAssemblerData = function () {
                    return E || (E = new T(2048, 2048), cc.Label._shareAtlas = E), E.getTexture()
                }, r._updateFontFamily = function (t) {
                    d.fontAtlas = E, d.fontFamily = f(t);
                    var e = u && t.getComponent(o);
                    e && e.enabled ? (d.isOutlined = !0, d.margin = e.width, d.out = e.color.clone(), d.out.a = e.color.a * t.node.color.a / 255) : (d.isOutlined = !1, d.margin = 0)
                }, r._updateLabelInfo = function (t) {
                    var e, i, n;
                    d.fontDesc = this._getFontDesc(), d.color = t.node.color, d.hash = (i = (e = d).color.toHEX(), n = "", e.isOutlined && e.margin > 0 && (n = n + e.margin + e.out.toHEX()), "" + e.fontSize + e.fontFamily + i + n)
                }, r._getFontDesc = function () {
                    return d.fontSize.toString() + "px " + d.fontFamily
                }, r._computeHorizontalKerningForText = function () {
                }, r._determineRect = function () {
                    return !1
                }, n
            })(r.default);
            i.default = A, e.exports = i.default
        }), {
            "../../../assets/CCRenderTexture": 80,
            "../../../components/CCComponent": 108,
            "../../../components/CCLabel": 110,
            "../../../components/CCLabelOutline": 111,
            "../../../utils/text-utils": 257,
            "../../webgl/assemblers/label/2d/bmfont": 210,
            "../utils": 205
        }],
        204: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../assembler-2d")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a, o = t("../../../utils/text-utils"), c = t("../../../platform/CCMacro"),
                l = t("../../../components/CCLabel"), h = t("../../../components/CCLabelOutline"),
                u = t("../../../components/CCLabelShadow"), f = l.Overflow, d = t("../utils").deleteFromDynamicAtlas,
                _ = t("../utils").getFontFamily, p = (1 / 255).toFixed(3), v = null, g = null, m = null, y = "", T = "",
                E = 0, A = 0, b = [], x = cc.Size.ZERO, C = 0, S = 0, w = 0, M = null, R = "", I = f.NONE, O = !1,
                D = !1, P = null, L = cc.Color.WHITE, N = null, F = cc.Color.BLACK, B = cc.rect(), k = cc.Size.ZERO,
                V = cc.Size.ZERO, U = !1, z = !1, H = !1, W = 0, G = cc.Vec2.ZERO, j = 0,
                X = ["left", "center", "right"], Y = (function (t) {
                    var e, i;

                    function n() {
                        return t.apply(this, arguments) || this
                    }

                    i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i);
                    var r = n.prototype;
                    return r._getAssemblerData = function () {
                        return (a = l._canvasPool.get()).canvas.width = a.canvas.height = 1, a
                    }, r._resetAssemblerData = function (t) {
                        t && l._canvasPool.put(t)
                    }, r.updateRenderData = function (e) {
                        t.prototype.updateRenderData.call(this, e), e._vertsDirty && (this._updateProperties(e), this._calculateLabelFont(), this._updateLabelDimensions(), this._updateTexture(e), this._calDynamicAtlas(e), e._actualFontSize = E, e.node.setContentSize(V), this.updateVerts(e), e._vertsDirty = !1, v = null, g = null, m = null)
                    }, r.updateVerts = function () {
                    }, r._updatePaddingRect = function () {
                        var t = 0, e = 0, i = 0, n = 0, r = 0;
                        if (k.width = k.height = 0, P && (t = e = i = n = r = P.width, k.width = k.height = 2 * r), N) {
                            var s = N.blur + r;
                            i = Math.max(i, -N._offset.x + s), n = Math.max(n, N._offset.x + s), t = Math.max(t, N._offset.y + s), e = Math.max(e, -N._offset.y + s)
                        }
                        if (z) {
                            var a = A * Math.tan(.20943951);
                            n += a, k.width += a
                        }
                        B.x = i, B.y = t, B.width = i + n, B.height = t + e
                    }, r._updateProperties = function (t) {
                        var e = t._assemblerData;
                        v = e.context, g = e.canvas, m = t._frame._original ? t._frame._original._texture : t._frame._texture, T = t.string.toString(), E = t._fontSize, A = E, W = t.underlineHeight || A / 8, I = t.overflow, x.width = t.node.width, x.height = t.node.height, V = t.node.getContentSize(), C = t._lineHeight, S = t.horizontalAlign, w = t.verticalAlign, M = t.node.color, U = t.enableBold, z = t.enableItalic, H = t.enableUnderline, R = _(t), D = t.srcBlendFactor === cc.macro.BlendFactor.ONE, O = I !== f.NONE && (I === f.RESIZE_HEIGHT || t.enableWrapText), (P = (P = h && t.getComponent(h)) && P.enabled && P.width > 0 ? P : null) && L.set(P.color), (N = (N = u && t.getComponent(u)) && N.enabled ? N : null) && (F.set(N.color), F.a = F.a * t.node.color.a / 255), this._updatePaddingRect()
                    }, r._calculateFillTextStartPosition = function () {
                        var t = 0;
                        S === c.TextAlignment.RIGHT ? t = x.width - B.width : S === c.TextAlignment.CENTER && (t = (x.width - B.width) / 2);
                        var e = this._getLineHeight() * (b.length - 1), i = E * (1 - o.BASELINE_RATIO / 2);
                        if (w !== c.VerticalTextAlignment.TOP) {
                            var n = e + B.height + E - x.height;
                            w === c.VerticalTextAlignment.BOTTOM ? i -= n += o.BASELINE_RATIO / 2 * E : i -= n / 2
                        }
                        return i += o.BASELINE_OFFSET * E, cc.v2(t + B.x, i + B.y)
                    }, r._setupOutline = function () {
                        v.strokeStyle = "rgba(" + L.r + ", " + L.g + ", " + L.b + ", " + L.a / 255 + ")", v.lineWidth = 2 * P.width
                    }, r._setupShadow = function () {
                        v.shadowColor = "rgba(" + F.r + ", " + F.g + ", " + F.b + ", " + F.a / 255 + ")", v.shadowBlur = N.blur, v.shadowOffsetX = N.offset.x, v.shadowOffsetY = -N.offset.y
                    }, r._drawTextEffect = function (t, e) {
                        if (N || P || H) {
                            var i = b.length > 1 && N, n = this._measureText(v, y), r = 0, s = 0;
                            N && this._setupShadow(), P && this._setupOutline();
                            for (var a = 0; a < b.length; ++a) r = t.x, s = t.y + a * e, i && (P && v.strokeText(b[a], r, s), v.fillText(b[a], r, s)), H && (j = n(b[a]), S === c.TextAlignment.RIGHT ? G.x = t.x - j : S === c.TextAlignment.CENTER ? G.x = t.x - j / 2 : G.x = t.x, G.y = s + A / 8, v.fillRect(G.x, G.y, j, W));
                            i && (v.shadowColor = "transparent")
                        }
                    }, r._updateTexture = function () {
                        if (!v._skipUpdate) {
                            if (v.clearRect(0, 0, g.width, g.height), v.lineJoin = "round", D) v.fillStyle = "rgba(" + M.r + ", " + M.g + ", " + M.b + ", " + M.a / 255 + ")"; else {
                                var t = P ? L : M;
                                v.fillStyle = "rgba(" + t.r + ", " + t.g + ", " + t.b + ", " + p + ")", v.fillRect(0, 0, g.width, g.height), v.fillStyle = "rgba(" + M.r + ", " + M.g + ", " + M.b + ", 1)"
                            }
                            var e = this._calculateFillTextStartPosition(), i = this._getLineHeight(), n = e.x, r = 0;
                            this._drawTextEffect(e, i);
                            for (var s = 0; s < b.length; ++s) r = e.y + s * i, P && v.strokeText(b[s], n, r), v.fillText(b[s], n, r);
                            N && (v.shadowColor = "transparent"), m.handleLoadedTexture()
                        }
                    }, r._calDynamicAtlas = function (t) {
                        if (t.cacheMode === l.CacheMode.BITMAP) {
                            var e = t._frame;
                            d(t, e), e._original || e.setRect(cc.rect(0, 0, g.width, g.height)), this.packToDynamicAtlas(t, e)
                        }
                    }, r._updateLabelDimensions = function () {
                        var t = cc.renderer.device.caps ? cc.renderer.device.caps.maxTextureSize : 2048;
                        (x.width > t || x.height > t) && cc.warn("The maximum texture size supported by the device is " + t), x.width = Math.min(x.width, t), x.height = Math.min(x.height, t);
                        var e = !1;
                        g.width !== x.width && (g.width = x.width, e = !0), g.height !== x.height && (g.height = x.height, e = !0), e && (v.font = y), v.textAlign = X[S]
                    }, r._getFontDesc = function () {
                        var t = E.toString() + "px ";
                        return t += R, U && (t = "bold " + t), z && (t = "italic " + t), t
                    }, r._getLineHeight = function () {
                        return 0 | (0 === C ? E : C * E / A)
                    }, r._calculateParagraphLength = function (t, e) {
                        for (var i = [], n = 0; n < t.length; ++n) {
                            var r = o.safeMeasureText(e, t[n], y);
                            i.push(r)
                        }
                        return i
                    }, r._measureText = function (t, e) {
                        return function (i) {
                            return o.safeMeasureText(t, i, e)
                        }
                    }, r._calculateShrinkFont = function (t) {
                        var e = this._calculateParagraphLength(t, v), i = 0, n = 0, r = 0;
                        if (O) {
                            var s = V.width, a = V.height;
                            if (s < 0 || a < 0) return;
                            n = a + 1;
                            for (var c = 0, l = 0 | E + 1, h = 0; c < l;) {
                                if ((h = c + l + 1 >> 1) <= 0) {
                                    cc.logID(4003);
                                    break
                                }
                                E = h, y = this._getFontDesc(), v.font = y;
                                var u = this._getLineHeight();
                                for (n = 0, i = 0; i < t.length; ++i) {
                                    var f = o.safeMeasureText(v, t[i], y);
                                    n += o.fragmentText(t[i], f, s, this._measureText(v, y)).length * u
                                }
                                n > a ? l = h - 1 : c = h
                            }
                            0 === c ? cc.logID(4003) : (E = c, y = this._getFontDesc(), v.font = y)
                        } else {
                            for (n = t.length * this._getLineHeight(), i = 0; i < t.length; ++i) r < e[i] && (r = e[i]);
                            var d = (x.width - B.width) / r, _ = x.height / n;
                            E = A * Math.min(1, d, _) | 0, y = this._getFontDesc(), v.font = y
                        }
                    }, r._calculateWrapText = function (t, e, i, n) {
                        if (O || e) {
                            b = [];
                            for (var r = n || V.width, s = 0; s < t.length; ++s) {
                                var a = o.safeMeasureText(e || v, t[s], y),
                                    c = o.fragmentText(t[s], a, r, this._measureText(e || v, y));
                                b = b.concat(c)
                            }
                            if (i) for (var l = 0; l < b.length; ++l) i.push(b[l])
                        }
                    }, r._calculateLabelFont = function () {
                        var t = T.split("\n");
                        switch (b = t, y = this._getFontDesc(), v.font = y, I) {
                            case f.NONE:
                                for (var e = 0, i = 0, n = 0; n < t.length; ++n) {
                                    var r = o.safeMeasureText(v, t[n], y);
                                    e = e > r ? e : r
                                }
                                i = (b.length + o.BASELINE_RATIO) * this._getLineHeight();
                                var s = parseFloat(e.toFixed(2)), a = parseFloat(i.toFixed(2));
                                x.width = s + B.width, x.height = a + B.height, V.width = s + k.width, V.height = a + k.height;
                                break;
                            case f.SHRINK:
                                this._calculateShrinkFont(t), this._calculateWrapText(t);
                                break;
                            case f.CLAMP:
                                this._calculateWrapText(t);
                                break;
                            case f.RESIZE_HEIGHT:
                                this._calculateWrapText(t);
                                var c = (b.length + o.BASELINE_RATIO) * this._getLineHeight();
                                x.height = c + B.height, V.height = c + k.height
                        }
                    }, n
                })(r.default);
            i.default = Y, e.exports = i.default
        }), {
            "../../../components/CCLabel": 110,
            "../../../components/CCLabelOutline": 111,
            "../../../components/CCLabelShadow": 112,
            "../../../platform/CCMacro": 172,
            "../../../utils/text-utils": 257,
            "../../assembler-2d": 193,
            "../utils": 205
        }],
        205: [(function (t, e) {
            "use strict";
            var i = t("./dynamic-atlas/manager"), n = cc.Color.WHITE, r = {
                fontAtlas: null,
                fontSize: 0,
                lineHeight: 0,
                hAlign: 0,
                vAlign: 0,
                hash: "",
                fontFamily: "",
                fontDesc: "Arial",
                color: n,
                isOutlined: !1,
                out: n,
                margin: 0
            };
            e.exports = {
                deleteFromDynamicAtlas: function (t, e) {
                    e && e._original && i && (i.deleteAtlasSpriteFrame(e), e._resetDynamicAtlasFrame())
                }, getFontFamily: function (t) {
                    return t.useSystemFont ? t.fontFamily || "Arial" : t.font ? t.font._nativeAsset ? t.font._nativeAsset : (cc.assetManager.postLoadNative(t.font, (function () {
                        t.isValid && t.setVertsDirty()
                    })), "Arial") : "Arial"
                }, shareLabelInfo: r
            }
        }), {"./dynamic-atlas/manager": void 0}],
        206: [(function (t, e) {
            "use strict";

            function i(t, e, i) {
                i = i || 2;
                var r, a, o, c, l, u, f, d = e && e.length, _ = d ? e[0] * i : t.length, p = n(t, 0, _, i, !0), v = [];
                if (!p) return v;
                if (d && (p = h(t, e, p, i)), t.length > 80 * i) {
                    r = o = t[0], a = c = t[1];
                    for (var g = i; g < _; g += i) (l = t[g]) < r && (r = l), (u = t[g + 1]) < a && (a = u), l > o && (o = l), u > c && (c = u);
                    f = Math.max(o - r, c - a)
                }
                return s(p, v, i, r, a, f), v
            }

            function n(t, e, i, n, r) {
                var s, a;
                if (r === I(t, e, i, n) > 0) for (s = e; s < i; s += n) a = w(s, t[s], t[s + 1], a); else for (s = i - n; s >= e; s -= n) a = w(s, t[s], t[s + 1], a);
                return a && E(a, a.next) && (M(a), a = a.next), a
            }

            function r(t, e) {
                if (!t) return t;
                e || (e = t);
                var i, n = t;
                do {
                    if (i = !1, n.steiner || !E(n, n.next) && 0 !== T(n.prev, n, n.next)) n = n.next; else {
                        if (M(n), (n = e = n.prev) === n.next) return null;
                        i = !0
                    }
                } while (i || n !== e);
                return e
            }

            function s(t, e, i, n, h, u, f) {
                if (t) {
                    !f && u && _(t, n, h, u);
                    for (var d, p, v = t; t.prev !== t.next;) if (d = t.prev, p = t.next, u ? o(t, n, h, u) : a(t)) e.push(d.i / i), e.push(t.i / i), e.push(p.i / i), M(t), t = p.next, v = p.next; else if ((t = p) === v) {
                        f ? 1 === f ? s(t = c(t, e, i), e, i, n, h, u, 2) : 2 === f && l(t, e, i, n, h, u) : s(r(t), e, i, n, h, u, 1);
                        break
                    }
                }
            }

            function a(t) {
                var e = t.prev, i = t, n = t.next;
                if (T(e, i, n) >= 0) return !1;
                for (var r = t.next.next; r !== t.prev;) {
                    if (m(e.x, e.y, i.x, i.y, n.x, n.y, r.x, r.y) && T(r.prev, r, r.next) >= 0) return !1;
                    r = r.next
                }
                return !0
            }

            function o(t, e, i, n) {
                var r = t.prev, s = t, a = t.next;
                if (T(r, s, a) >= 0) return !1;
                for (var o = r.x < s.x ? r.x < a.x ? r.x : a.x : s.x < a.x ? s.x : a.x, c = r.y < s.y ? r.y < a.y ? r.y : a.y : s.y < a.y ? s.y : a.y, l = r.x > s.x ? r.x > a.x ? r.x : a.x : s.x > a.x ? s.x : a.x, h = r.y > s.y ? r.y > a.y ? r.y : a.y : s.y > a.y ? s.y : a.y, u = v(o, c, e, i, n), f = v(l, h, e, i, n), d = t.nextZ; d && d.z <= f;) {
                    if (d !== t.prev && d !== t.next && m(r.x, r.y, s.x, s.y, a.x, a.y, d.x, d.y) && T(d.prev, d, d.next) >= 0) return !1;
                    d = d.nextZ
                }
                for (d = t.prevZ; d && d.z >= u;) {
                    if (d !== t.prev && d !== t.next && m(r.x, r.y, s.x, s.y, a.x, a.y, d.x, d.y) && T(d.prev, d, d.next) >= 0) return !1;
                    d = d.prevZ
                }
                return !0
            }

            function c(t, e, i) {
                var n = t;
                do {
                    var r = n.prev, s = n.next.next;
                    !E(r, s) && A(r, n, n.next, s) && x(r, s) && x(s, r) && (e.push(r.i / i), e.push(n.i / i), e.push(s.i / i), M(n), M(n.next), n = t = s), n = n.next
                } while (n !== t);
                return n
            }

            function l(t, e, i, n, a, o) {
                var c = t;
                do {
                    for (var l = c.next.next; l !== c.prev;) {
                        if (c.i !== l.i && y(c, l)) {
                            var h = S(c, l);
                            return c = r(c, c.next), h = r(h, h.next), s(c, e, i, n, a, o), void s(h, e, i, n, a, o)
                        }
                        l = l.next
                    }
                    c = c.next
                } while (c !== t)
            }

            function h(t, e, i, s) {
                var a, o, c, l = [];
                for (a = 0, o = e.length; a < o; a++) (c = n(t, e[a] * s, a < o - 1 ? e[a + 1] * s : t.length, s, !1)) === c.next && (c.steiner = !0), l.push(g(c));
                for (l.sort(u), a = 0; a < l.length; a++) f(l[a], i), i = r(i, i.next);
                return i
            }

            function u(t, e) {
                return t.x - e.x
            }

            function f(t, e) {
                if (e = d(t, e)) {
                    var i = S(e, t);
                    r(i, i.next)
                }
            }

            function d(t, e) {
                var i, n = e, r = t.x, s = t.y, a = -1 / 0;
                do {
                    if (s <= n.y && s >= n.next.y) {
                        var o = n.x + (s - n.y) * (n.next.x - n.x) / (n.next.y - n.y);
                        if (o <= r && o > a) {
                            if (a = o, o === r) {
                                if (s === n.y) return n;
                                if (s === n.next.y) return n.next
                            }
                            i = n.x < n.next.x ? n : n.next
                        }
                    }
                    n = n.next
                } while (n !== e);
                if (!i) return null;
                if (r === a) return i.prev;
                var c, l = i, h = i.x, u = i.y, f = 1 / 0;
                for (n = i.next; n !== l;) r >= n.x && n.x >= h && m(s < u ? r : a, s, h, u, s < u ? a : r, s, n.x, n.y) && ((c = Math.abs(s - n.y) / (r - n.x)) < f || c === f && n.x > i.x) && x(n, t) && (i = n, f = c), n = n.next;
                return i
            }

            function _(t, e, i, n) {
                var r = t;
                do {
                    null === r.z && (r.z = v(r.x, r.y, e, i, n)), r.prevZ = r.prev, r.nextZ = r.next, r = r.next
                } while (r !== t);
                r.prevZ.nextZ = null, r.prevZ = null, p(r)
            }

            function p(t) {
                var e, i, n, r, s, a, o, c, l = 1;
                do {
                    for (i = t, t = null, s = null, a = 0; i;) {
                        for (a++, n = i, o = 0, e = 0; e < l && (o++, n = n.nextZ); e++) ;
                        for (c = l; o > 0 || c > 0 && n;) 0 === o ? (r = n, n = n.nextZ, c--) : 0 !== c && n ? i.z <= n.z ? (r = i, i = i.nextZ, o--) : (r = n, n = n.nextZ, c--) : (r = i, i = i.nextZ, o--), s ? s.nextZ = r : t = r, r.prevZ = s, s = r;
                        i = n
                    }
                    s.nextZ = null, l *= 2
                } while (a > 1);
                return t
            }

            function v(t, e, i, n, r) {
                return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - i) / r) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - n) / r) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1
            }

            function g(t) {
                var e = t, i = t;
                do {
                    e.x < i.x && (i = e), e = e.next
                } while (e !== t);
                return i
            }

            function m(t, e, i, n, r, s, a, o) {
                return (r - a) * (e - o) - (t - a) * (s - o) >= 0 && (t - a) * (n - o) - (i - a) * (e - o) >= 0 && (i - a) * (s - o) - (r - a) * (n - o) >= 0
            }

            function y(t, e) {
                return t.next.i !== e.i && t.prev.i !== e.i && !b(t, e) && x(t, e) && x(e, t) && C(t, e)
            }

            function T(t, e, i) {
                return (e.y - t.y) * (i.x - e.x) - (e.x - t.x) * (i.y - e.y)
            }

            function E(t, e) {
                return t.x === e.x && t.y === e.y
            }

            function A(t, e, i, n) {
                return !!(E(t, e) && E(i, n) || E(t, n) && E(i, e)) || T(t, e, i) > 0 != T(t, e, n) > 0 && T(i, n, t) > 0 != T(i, n, e) > 0
            }

            function b(t, e) {
                var i = t;
                do {
                    if (i.i !== t.i && i.next.i !== t.i && i.i !== e.i && i.next.i !== e.i && A(i, i.next, t, e)) return !0;
                    i = i.next
                } while (i !== t);
                return !1
            }

            function x(t, e) {
                return T(t.prev, t, t.next) < 0 ? T(t, e, t.next) >= 0 && T(t, t.prev, e) >= 0 : T(t, e, t.prev) < 0 || T(t, t.next, e) < 0
            }

            function C(t, e) {
                var i = t, n = !1, r = (t.x + e.x) / 2, s = (t.y + e.y) / 2;
                do {
                    i.y > s != i.next.y > s && r < (i.next.x - i.x) * (s - i.y) / (i.next.y - i.y) + i.x && (n = !n), i = i.next
                } while (i !== t);
                return n
            }

            function S(t, e) {
                var i = new R(t.i, t.x, t.y), n = new R(e.i, e.x, e.y), r = t.next, s = e.prev;
                return t.next = e, e.prev = t, i.next = r, r.prev = i, n.next = i, i.prev = n, s.next = n, n.prev = s, n
            }

            function w(t, e, i, n) {
                var r = new R(t, e, i);
                return n ? (r.next = n.next, r.prev = n, n.next.prev = r, n.next = r) : (r.prev = r, r.next = r), r
            }

            function M(t) {
                t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ)
            }

            function R(t, e, i) {
                this.i = t, this.x = e, this.y = i, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1
            }

            function I(t, e, i, n) {
                for (var r = 0, s = e, a = i - n; s < i; s += n) r += (t[a] - t[s]) * (t[s + 1] + t[a + 1]), a = s;
                return r
            }

            cc.Graphics.earcut = e.exports = i, i.deviation = function (t, e, i, n) {
                var r = e && e.length, s = r ? e[0] * i : t.length, a = Math.abs(I(t, 0, s, i));
                if (r) for (var o = 0, c = e.length; o < c; o++) {
                    var l = e[o] * i, h = o < c - 1 ? e[o + 1] * i : t.length;
                    a -= Math.abs(I(t, l, h, i))
                }
                var u = 0;
                for (o = 0; o < n.length; o += 3) {
                    var f = n[o] * i, d = n[o + 1] * i, _ = n[o + 2] * i;
                    u += Math.abs((t[f] - t[_]) * (t[d + 1] - t[f + 1]) - (t[f] - t[d]) * (t[_ + 1] - t[f + 1]))
                }
                return 0 === a && 0 === u ? 0 : Math.abs((u - a) / a)
            }, i.flatten = function (t) {
                for (var e = t[0][0].length, i = {
                    vertices: [],
                    holes: [],
                    dimensions: e
                }, n = 0, r = 0; r < t.length; r++) {
                    for (var s = 0; s < t[r].length; s++) for (var a = 0; a < e; a++) i.vertices.push(t[r][s][a]);
                    r > 0 && (n += t[r - 1].length, i.holes.push(n))
                }
                return i
            }
        }), {}],
        207: [(function (t, e) {
            "use strict";
            var i = t("../../../../graphics/helper"), n = t("../../../../graphics/types").PointFlags,
                r = cc.Graphics.Point = cc.Class({
                    name: "cc.GraphicsPoint", extends: cc.Vec2, ctor: function () {
                        this.reset()
                    }, reset: function () {
                        this.dx = 0, this.dy = 0, this.dmx = 0, this.dmy = 0, this.flags = 0, this.len = 0
                    }
                });

            function s() {
                this.reset()
            }

            function a() {
                this._tessTol = .25, this._distTol = .01, this._updatePathOffset = !1, this._paths = null, this._pathLength = 0, this._pathOffset = 0, this._points = null, this._pointsOffset = 0, this._commandx = 0, this._commandy = 0, this._paths = [], this._points = []
            }

            cc.js.mixin(s.prototype, {
                reset: function () {
                    this.closed = !1, this.nbevel = 0, this.complex = !0, this.points ? this.points.length = 0 : this.points = []
                }
            }), cc.js.mixin(a.prototype, {
                moveTo: function (t, e) {
                    this._updatePathOffset && (this._pathOffset = this._pathLength, this._updatePathOffset = !1), this._addPath(), this._addPoint(t, e, n.PT_CORNER), this._commandx = t, this._commandy = e
                }, lineTo: function (t, e) {
                    this._addPoint(t, e, n.PT_CORNER), this._commandx = t, this._commandy = e
                }, bezierCurveTo: function (t, e, r, s, a, o) {
                    var c = this._curPath, l = c.points[c.points.length - 1];
                    l.x !== t || l.y !== e || r !== a || s !== o ? (i.tesselateBezier(this, l.x, l.y, t, e, r, s, a, o, 0, n.PT_CORNER), this._commandx = a, this._commandy = o) : this.lineTo(a, o)
                }, quadraticCurveTo: function (t, e, i, n) {
                    var r = this._commandx, s = this._commandy;
                    this.bezierCurveTo(r + 2 / 3 * (t - r), s + 2 / 3 * (e - s), i + 2 / 3 * (t - i), n + 2 / 3 * (e - n), i, n)
                }, arc: function (t, e, n, r, s, a) {
                    i.arc(this, t, e, n, r, s, a)
                }, ellipse: function (t, e, n, r) {
                    i.ellipse(this, t, e, n, r), this._curPath.complex = !1
                }, circle: function (t, e, n) {
                    i.ellipse(this, t, e, n, n), this._curPath.complex = !1
                }, rect: function (t, e, i, n) {
                    this.moveTo(t, e), this.lineTo(t, e + n), this.lineTo(t + i, e + n), this.lineTo(t + i, e), this.close(), this._curPath.complex = !1
                }, roundRect: function (t, e, n, r, s) {
                    i.roundRect(this, t, e, n, r, s), this._curPath.complex = !1
                }, clear: function (t) {
                    this._pathLength = 0, this._pathOffset = 0, this._pointsOffset = 0, this._curPath = null, t && (this._paths.length = 0, this._points.length = 0)
                }, close: function () {
                    this._curPath.closed = !0
                }, _addPath: function () {
                    var t = this._pathLength, e = this._paths[t];
                    return e ? e.reset() : (e = new s, this._paths.push(e)), this._pathLength++, this._curPath = e, e
                }, _addPoint: function (t, e, i) {
                    var n = this._curPath;
                    if (n) {
                        var s, a = this._points, o = n.points;
                        (s = a[this._pointsOffset++]) ? (s.x = t, s.y = e) : (s = new r(t, e), a.push(s)), s.flags = i, o.push(s)
                    }
                }
            }), cc.Graphics._Impl = a, e.exports = a
        }), {"../../../../graphics/helper": 157, "../../../../graphics/types": 159}],
        208: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = s(t("../../../assembler")), r = s(t("../../../../../renderer/core/input-assembler"));

            function s(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function a(t, e) {
                return (a = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var o = t("../../mesh-buffer"), c = t("../../../index"), l = t("../../../../graphics/graphics"),
                h = t("../../../../graphics/types").PointFlags, u = l.LineJoin, f = l.LineCap, d = t("./earcut");
            t("./impl");
            var _ = Math.PI, p = Math.min, v = Math.max, g = Math.ceil, m = Math.acos, y = Math.cos, T = Math.sin,
                E = Math.atan2;

            function A(t, e, i) {
                return t < e ? e : t > i ? i : t
            }

            var b = cc.gfx, x = new b.VertexFormat([{name: b.ATTR_POSITION, type: b.ATTR_TYPE_FLOAT32, num: 2}, {
                name: b.ATTR_COLOR,
                type: b.ATTR_TYPE_UINT8,
                num: 4,
                normalize: !0
            }, {name: "a_dist", type: b.ATTR_TYPE_FLOAT32, num: 1}]);
            x.name = "vfmtPosColorSdf";
            var C = (function (t) {
                var e, i;

                function n(e) {
                    var i;
                    return (i = t.call(this, e) || this)._buffer = null, i._buffers = [], i._bufferOffset = 0, i
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, a(e, i);
                var s = n.prototype;
                return s.getVfmt = function () {
                    return x
                }, s.getVfmtFloatCount = function () {
                    return 4
                }, s.requestBuffer = function () {
                    var t = {indiceStart: 0, vertexStart: 0}, e = new o(c._handle, this.getVfmt());
                    t.meshbuffer = e;
                    var i = new r.default(e._vb, e._ib);
                    return t.ia = i, this._buffers.push(t), t
                }, s.getBuffers = function () {
                    return 0 === this._buffers.length && this.requestBuffer(), this._buffers
                }, s.clear = function (t) {
                    this._bufferOffset = 0;
                    var e = this._buffers;
                    if (t) {
                        for (var i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            r.meshbuffer.destroy(), r.meshbuffer = null
                        }
                        e.length = 0
                    } else for (var s = 0, a = e.length; s < a; s++) {
                        var o = e[s];
                        o.indiceStart = 0, o.vertexStart = 0, o.meshbuffer.reset()
                    }
                }, s.fillBuffers = function (t, e) {
                    e._flush(), e.node = t.node, e.material = t._materials[0];
                    for (var i = this.getBuffers(), n = 0, r = i.length; n < r; n++) {
                        var s = i[n], a = s.meshbuffer;
                        s.ia._count = s.indiceStart, e._flushIA(s.ia), a.uploadData()
                    }
                }, s.genBuffer = function (t, e) {
                    var i = this.getBuffers(), n = i[this._bufferOffset], r = n.meshbuffer, s = n.vertexStart + e;
                    return (s > 65535 || 3 * s > 131070) && (++this._bufferOffset, s = e, this._bufferOffset < i.length ? n = i[this._bufferOffset] : (n = this.requestBuffer(t), i[this._bufferOffset] = n), r = n.meshbuffer), s > r.vertexOffset && r.requestStatic(e, 3 * e), this._buffer = n, n
                }, s.stroke = function (t) {
                    this._curColor = t._strokeColor._val, this._flattenPaths(t._impl), this._expandStroke(t), t._impl._updatePathOffset = !0
                }, s.fill = function (t) {
                    this._curColor = t._fillColor._val, this._expandFill(t), t._impl._updatePathOffset = !0
                }, s._expandStroke = function (t) {
                    var e, i, n, r, s = .5 * t.lineWidth, a = t.lineCap, o = t.lineJoin, c = t.miterLimit, l = t._impl,
                        d = (e = s, i = _, n = l._tessTol, r = 2 * m(e / (e + n)), v(2, g(i / r)));
                    this._calculateJoins(l, s, o, c);
                    for (var p = l._paths, y = 0, T = l._pathOffset, E = l._pathLength; T < E; T++) {
                        var A = p[T], b = A.points.length;
                        o === u.ROUND ? y += 2 * (b + A.nbevel * (d + 2) + 1) : y += 2 * (b + 5 * A.nbevel + 1), A.closed || (a === f.ROUND ? y += 2 * (2 * d + 2) : y += 12)
                    }
                    for (var x = this.genBuffer(t, y), C = x.meshbuffer, S = C._vData, w = C._iData, M = l._pathOffset, R = l._pathLength; M < R; M++) {
                        var I, O = p[M], D = O.points, P = D.length, L = x.vertexStart, N = void 0, F = void 0,
                            B = void 0, k = void 0;
                        if ((I = O.closed) ? (N = D[P - 1], F = D[0], B = 0, k = P) : (N = D[0], F = D[1], B = 1, k = P - 1), F = F || N, !I) {
                            var V = F.sub(N);
                            V.normalizeSelf();
                            var U = V.x, z = V.y;
                            a === f.BUTT ? this._buttCapStart(N, U, z, s, 0) : a === f.SQUARE ? this._buttCapStart(N, U, z, s, s) : a === f.ROUND && this._roundCapStart(N, U, z, s, d)
                        }
                        for (var H = B; H < k; ++H) o === u.ROUND ? this._roundJoin(N, F, s, s, d) : 0 != (F.flags & (h.PT_BEVEL | h.PT_INNERBEVEL)) ? this._bevelJoin(N, F, s, s) : (this._vset(F.x + F.dmx * s, F.y + F.dmy * s, 1), this._vset(F.x - F.dmx * s, F.y - F.dmy * s, -1)), N = F, F = D[H + 1];
                        if (I) {
                            var W = this.getVfmtFloatCount(), G = L * W;
                            this._vset(S[G], S[G + 1], 1), this._vset(S[G + W], S[G + W + 1], -1)
                        } else {
                            var j = F.sub(N);
                            j.normalizeSelf();
                            var X = j.x, Y = j.y;
                            a === f.BUTT ? this._buttCapEnd(F, X, Y, s, 0) : a === f.SQUARE ? this._buttCapEnd(F, X, Y, s, s) : a === f.ROUND && this._roundCapEnd(F, X, Y, s, d)
                        }
                        for (var q = x.indiceStart, Z = L + 2, K = x.vertexStart; Z < K; Z++) w[q++] = Z - 2, w[q++] = Z - 1, w[q++] = Z;
                        x.indiceStart = q
                    }
                }, s._expandFill = function (t) {
                    for (var e = t._impl, i = e._paths, n = 0, r = e._pathOffset, s = e._pathLength; r < s; r++) n += i[r].points.length;
                    for (var a = this.genBuffer(t, n), o = a.meshbuffer, c = o._vData, l = o._iData, h = e._pathOffset, u = e._pathLength; h < u; h++) {
                        var f = i[h], _ = f.points, p = _.length;
                        if (0 !== p) {
                            for (var v = a.vertexStart, g = 0; g < p; ++g) this._vset(_[g].x, _[g].y);
                            var m = a.indiceStart;
                            if (f.complex) {
                                for (var y = [], T = this.getVfmtFloatCount(), E = v, A = a.vertexStart; E < A; E++) {
                                    var b = E * T;
                                    y.push(c[b]), y.push(c[b + 1])
                                }
                                var x = d(y, null, 2);
                                if (!x || 0 === x.length) continue;
                                for (var C = 0, S = x.length; C < S; C++) l[m++] = x[C] + v
                            } else for (var w = v, M = v + 2, R = a.vertexStart; M < R; M++) l[m++] = w, l[m++] = M - 1, l[m++] = M;
                            a.indiceStart = m
                        }
                    }
                }, s._calculateJoins = function (t, e, i, n) {
                    var r = 0, s = e * e;
                    e > 0 && (r = 1 / e);
                    for (var a = t._paths, o = t._pathOffset, c = t._pathLength; o < c; o++) {
                        var l = a[o], f = l.points, d = f.length, _ = f[d - 1], g = f[0];
                        l.nbevel = 0;
                        for (var m = 0; m < d; m++) {
                            var y, T, E = _.dy, A = -_.dx, b = g.dy, x = -g.dx;
                            if (g.dmx = .5 * (E + b), g.dmy = .5 * (A + x), (y = g.dmx * g.dmx + g.dmy * g.dmy) > 1e-6) {
                                var C = 1 / y;
                                C > 600 && (C = 600), g.dmx *= C, g.dmy *= C
                            }
                            g.dx * _.dy - _.dx * g.dy > 0 && (g.flags |= h.PT_LEFT), y * (T = v(11, p(_.len, g.len) * r)) * T < 1 && (g.flags |= h.PT_INNERBEVEL);
                            var S = g.dmx * e, w = g.dmy * e, M = S * S + w * w;
                            M > g.len * g.len + s && M > _.len * _.len + s && (g.flags |= h.PT_INNERBEVEL), g.flags & h.PT_CORNER && (y * n * n < 1 || i === u.BEVEL || i === u.ROUND) && (g.flags |= h.PT_BEVEL), 0 != (g.flags & (h.PT_BEVEL | h.PT_INNERBEVEL)) && l.nbevel++, _ = g, g = f[m + 1]
                        }
                    }
                }, s._flattenPaths = function (t) {
                    for (var e = t._paths, i = t._pathOffset, n = t._pathLength; i < n; i++) {
                        var r = e[i], s = r.points, a = s[s.length - 1], o = s[0];
                        s.length > 2 && a.equals(o) && (r.closed = !0, s.pop(), a = s[s.length - 1]);
                        for (var c = 0, l = s.length; c < l; c++) {
                            var h = o.sub(a);
                            a.len = h.mag(), (h.x || h.y) && h.normalizeSelf(), a.dx = h.x, a.dy = h.y, a = o, o = s[c + 1]
                        }
                    }
                }, s._chooseBevel = function (t, e, i, n) {
                    var r, s, a, o, c = i.x, l = i.y;
                    return 0 !== t ? (r = c + e.dy * n, s = l - e.dx * n, a = c + i.dy * n, o = l - i.dx * n) : (r = a = c + i.dmx * n, s = o = l + i.dmy * n), [r, s, a, o]
                }, s._buttCapStart = function (t, e, i, n, r) {
                    var s = t.x - e * r, a = t.y - i * r, o = i, c = -e;
                    this._vset(s + o * n, a + c * n, 1), this._vset(s - o * n, a - c * n, -1)
                }, s._buttCapEnd = function (t, e, i, n, r) {
                    var s = t.x + e * r, a = t.y + i * r, o = i, c = -e;
                    this._vset(s + o * n, a + c * n, 1), this._vset(s - o * n, a - c * n, -1)
                }, s._roundCapStart = function (t, e, i, n, r) {
                    for (var s = t.x, a = t.y, o = i, c = -e, l = 0; l < r; l++) {
                        var h = l / (r - 1) * _, u = y(h) * n, f = T(h) * n;
                        this._vset(s - o * u - e * f, a - c * u - i * f, 1), this._vset(s, a, 0)
                    }
                    this._vset(s + o * n, a + c * n, 1), this._vset(s - o * n, a - c * n, -1)
                }, s._roundCapEnd = function (t, e, i, n, r) {
                    var s = t.x, a = t.y, o = i, c = -e;
                    this._vset(s + o * n, a + c * n, 1), this._vset(s - o * n, a - c * n, -1);
                    for (var l = 0; l < r; l++) {
                        var h = l / (r - 1) * _, u = y(h) * n, f = T(h) * n;
                        this._vset(s, a, 0), this._vset(s - o * u + e * f, a - c * u + i * f, 1)
                    }
                }, s._roundJoin = function (t, e, i, n, r) {
                    var s = t.dy, a = -t.dx, o = e.dy, c = -e.dx, l = e.x, u = e.y;
                    if (0 != (e.flags & h.PT_LEFT)) {
                        var f = this._chooseBevel(e.flags & h.PT_INNERBEVEL, t, e, i), d = f[0], p = f[1], v = f[2],
                            m = f[3], b = E(-a, -s), x = E(-c, -o);
                        x > b && (x -= 2 * _), this._vset(d, p, 1), this._vset(l - s * n, e.y - a * n, -1);
                        for (var C = A(g((b - x) / _) * r, 2, r), S = 0; S < C; S++) {
                            var w = b + S / (C - 1) * (x - b), M = l + y(w) * n, R = u + T(w) * n;
                            this._vset(l, u, 0), this._vset(M, R, -1)
                        }
                        this._vset(v, m, 1), this._vset(l - o * n, u - c * n, -1)
                    } else {
                        var I = this._chooseBevel(e.flags & h.PT_INNERBEVEL, t, e, -n), O = I[0], D = I[1], P = I[2],
                            L = I[3], N = E(a, s), F = E(c, o);
                        F < N && (F += 2 * _), this._vset(l + s * n, u + a * n, 1), this._vset(O, D, -1);
                        for (var B = A(g((F - N) / _) * r, 2, r), k = 0; k < B; k++) {
                            var V = N + k / (B - 1) * (F - N), U = l + y(V) * i, z = u + T(V) * i;
                            this._vset(U, z, 1), this._vset(l, u, 0)
                        }
                        this._vset(l + o * n, u + c * n, 1), this._vset(P, L, -1)
                    }
                }, s._bevelJoin = function (t, e, i, n) {
                    var r, s, a, o, c, l, u, f, d = t.dy, _ = -t.dx, p = e.dy, v = -e.dx;
                    if (e.flags & h.PT_LEFT) {
                        var g = this._chooseBevel(e.flags & h.PT_INNERBEVEL, t, e, i);
                        c = g[0], l = g[1], u = g[2], f = g[3], this._vset(c, l, 1), this._vset(e.x - d * n, e.y - _ * n, -1), this._vset(u, f, 1), this._vset(e.x - p * n, e.y - v * n, -1)
                    } else {
                        var m = this._chooseBevel(e.flags & h.PT_INNERBEVEL, t, e, -n);
                        r = m[0], s = m[1], a = m[2], o = m[3], this._vset(e.x + d * i, e.y + _ * i, 1), this._vset(r, s, -1), this._vset(e.x + p * i, e.y + v * i, 1), this._vset(a, o, -1)
                    }
                }, s._vset = function (t, e, i) {
                    void 0 === i && (i = 0);
                    var n = this._buffer, r = n.meshbuffer, s = n.vertexStart * this.getVfmtFloatCount(), a = r._vData,
                        o = r._uintVData;
                    a[s] = t, a[s + 1] = e, o[s + 2] = this._curColor, a[s + 3] = i, n.vertexStart++, r._dirty = !0
                }, n
            })(n.default);
            i.default = C, n.default.register(cc.Graphics, C), e.exports = i.default
        }), {
            "../../../../../renderer/core/input-assembler": 282,
            "../../../../graphics/graphics": 156,
            "../../../../graphics/types": 159,
            "../../../assembler": 196,
            "../../../index": 199,
            "../../mesh-buffer": 234,
            "./earcut": 206,
            "./impl": 207
        }],
        209: [(function (t) {
            "use strict";
            cc.assemblers = {}, t("./sprite"), t("./mask-assembler"), t("./graphics"), t("./label"), t("./motion-streak")
        }), {"./graphics": 208, "./label": 217, "./mask-assembler": 218, "./motion-streak": 219, "./sprite": 232}],
        210: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../../../utils/label/bmfont")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a = 0, o = (function (t) {
                var e, i;

                function n() {
                    return t.apply(this, arguments) || this
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i);
                var r = n.prototype;
                return r.initData = function () {
                    this._renderData.createFlexData(0, 4, 6, this.getVfmt())
                }, r._reserveQuads = function (t, e) {
                    var i = 4 * e, n = 6 * e, r = this._renderData._flexBuffer;
                    r.reserve(i, n), r.used(i, n);
                    for (var s = this._renderData.iDatas[0], o = 0, c = 0, l = n; o < l; o += 6, c += 4) s[o] = c, s[o + 1] = c + 1, s[o + 2] = c + 2, s[o + 3] = c + 1, s[o + 4] = c + 3, s[o + 5] = c + 2;
                    a = 0
                }, r._quadsUpdated = function () {
                    a = 0, this._renderData._flexBuffer.used(this.verticesCount, this.indicesCount)
                }, r._getColor = function (t) {
                    return t.node._color._val
                }, r.appendQuad = function (t, e, i, n, r, s, o) {
                    var c = this._renderData, l = c.vDatas[0], h = c.uintVDatas[0];
                    this.verticesCount += 4, this.indicesCount = this.verticesCount / 2 * 3;
                    var u, f, d, _, p = e.width, v = e.height, g = i.width, m = i.height, y = this._getColor(t),
                        T = this.floatsPerVert, E = a + this.uvOffset;
                    n ? (u = i.x / p, d = (i.x + m) / p, f = (i.y + g) / v, _ = i.y / v, l[E] = u, l[E + 1] = _, l[E += T] = u, l[E + 1] = f, l[E += T] = d, l[E + 1] = _, l[E += T] = d, l[E + 1] = f) : (u = i.x / p, d = (i.x + g) / p, f = (i.y + m) / v, _ = i.y / v, l[E] = u, l[E + 1] = f, l[E += T] = d, l[E + 1] = f, l[E += T] = u, l[E + 1] = _, l[E += T] = d, l[E + 1] = _), u = r, d = r + g * o, f = s - m * o, _ = s, this.appendVerts(t, a, u, d, f, _);
                    for (var A = a + this.colorOffset, b = 0; b < 4; b++) h[A] = y, A += T;
                    a += 4 * this.floatsPerVert
                }, r.appendVerts = function (t, e, i, n, r, s) {
                    var a = this._local, o = this.floatsPerVert;
                    a[e] = i, a[e + 1] = r, a[e += o] = n, a[e + 1] = r, a[e += o] = i, a[e + 1] = s, a[e += o] = n, a[e + 1] = s
                }, r.updateWorldVerts = function (t) {
                    for (var e = t.node._worldMatrix.m, i = e[0], n = e[1], r = e[4], s = e[5], a = e[12], o = e[13], c = this._local, l = this._renderData.vDatas[0], h = this.floatsPerVert, u = 0; u < c.length; u += h) {
                        var f = c[u], d = c[u + 1];
                        l[u] = f * i + d * r + a, l[u + 1] = f * n + d * s + o
                    }
                }, n
            })(r.default);
            i.default = o, e.exports = i.default
        }), {"../../../../utils/label/bmfont": 201}],
        211: [(function (t, e, i) {
            "use strict";

            function n(t, e) {
                return (n = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            i.__esModule = !0, i.default = void 0, t("../../../../../platform/js"), t("./bmfont");
            var r = t("../../../../utils/label/letter-font"), s = cc.color(255, 255, 255, 255), a = (function (t) {
                var e, i;

                function r() {
                    return t.apply(this, arguments) || this
                }

                i = t, (e = r).prototype = Object.create(i.prototype), e.prototype.constructor = e, n(e, i);
                var a = r.prototype;
                return a.createData = function (t) {
                    return t.requestRenderData()
                }, a._getColor = function (t) {
                    return s._fastSetA(t.node._color.a), s._val
                }, a.updateColor = function (e) {
                    var i = this._getColor(e);
                    t.prototype.updateColor.call(this, e, i)
                }, r
            })(r);
            i.default = a, e.exports = i.default
        }), {"../../../../../platform/js": 188, "../../../../utils/label/letter-font": 203, "./bmfont": 210}],
        212: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../../../../assets/material/material-variant")) && n.__esModule ? n : {default: n};
            t("../../../../../components/CCLabel"), t("../../../../../components/CCLabelShadow"), t("../../../../../components/CCLabelOutline"), t("../../../../../assets/material/CCMaterial");
            var s = (function () {
                function t() {
                }

                var e = t.prototype;
                return e.init = function (t) {
                    this.labelMaterial = null, this._label = this._renderComp = t, renderer.CustomAssembler.prototype.ctor.call(this), t.node._proxy.setAssembler(this), this._layout = new jsb.LabelRenderer, this._layout.init(t), this._cfg = new DataView(this._layout._cfg), this._layoutInfo = new DataView(this._layout._layout), this._cfgFields = jsb.LabelRenderer._cfgFields, this._layoutFields = jsb.LabelRenderer._layoutFields, this._layout.bindNodeProxy(t.node._proxy), this._bindMaterial(t)
                }, e._setBufferFlag = function (t, e, i, n, r) {
                    if ("int8" == n && 1 == i) {
                        var s = t.getInt8(e);
                        t.setInt8(e, r | s)
                    } else if ("int32" == n && 4 == i) {
                        var a = t.getInt32(e, jsb.__isLittleEndian__);
                        t.setInt32(e, r | a, jsb.__isLittleEndian__)
                    } else cc.warn("flag storage type should be int8/int32 only, type/size -> " + n + "/" + i + ".")
                }, e._updateCfgFlag = function (t) {
                    var e = this._cfgFields.updateFlags;
                    this._setBufferFlag(this._cfg, e.offset, e.size, e.type, t)
                }, e._setBufferValue = function (t, e, i, n, r) {
                    "float" == n && 4 == i ? t.setFloat32(e, r, jsb.__isLittleEndian__) : "int32" == n && 4 == i ? t.setInt32(e, r, jsb.__isLittleEndian__) : "bool" == n && 1 == i ? t.setInt8(e, r ? 1 : 0, jsb.__isLittleEndian__) : "Color4B" == n && 4 == i ? (t.setUint8(e, r.r), t.setUint8(e + 1, r.g), t.setUint8(e + 2, r.b), t.setUint8(e + 3, r.a)) : "int8" == n && 1 == i ? t.setUint8(e, r) : cc.warn("dont know how to set value to buffer, type/size -> " + n + "/" + i + ".")
                }, e._setFieldValue = function (t, e, i, n) {
                    var r = e[i];
                    this._setBufferValue(t, r.offset, r.size, r.type, n)
                }, e._getBufferValue = function (t, e, i, n) {
                    return "float" == n && 4 == i ? t.getFloat32(e, jsb.__isLittleEndian__) : "int32" == n && 4 == i ? t.getInt32(e, jsb.__isLittleEndian__) : "bool" == n && 1 == i ? 0 != t.getInt8(e, jsb.__isLittleEndian__) : "Color4B" == n && 4 == i ? {
                        r: t.getUint8(e),
                        g: t.getUint8(e + 1),
                        b: t.getUint8(e + 2),
                        a: t.getUint8(e + 3)
                    } : "int8" == n && 1 == i ? t.getUint8(e) : void cc.warn("dont know how to get value from buffer, type/size -> " + n + "/" + i + ".")
                }, e._getFieldValue = function (t, e, i) {
                    var n = e[i];
                    return this._getBufferValue(t, n.offset, n.size, n.type)
                }, e._getLayoutValue = function (t) {
                    return this._getFieldValue(this._layoutInfo, this._layoutFields, t)
                }, e._setLayoutValue = function (t, e) {
                    return this._setFieldValue(this._layoutInfo, this._layoutFields, t, e)
                }, e._updateCfgFlag_Content = function () {
                    this._updateCfgFlag(1)
                }, e._updateCfgFlag_Font = function () {
                    this._updateCfgFlag(2)
                }, e._colorEqual = function (t, e) {
                    return t.r == e.r && t.g == e.g && t.b == e.b && t.a == e.a
                }, e._colorToObj = function (t, e, i, n) {
                    return {r: t, g: e, b: i, a: n}
                }, e.setString = function (t) {
                    t != this._layout.string && (this._layout.string = t, this._updateCfgFlag_Content())
                }, e.setFontPath = function (t) {
                    t != this._layout.fontPath && (this._layout.fontPath = t, this._updateCfgFlag_Font())
                }, e.setFontSize = function (t, e) {
                    this._getFieldValue(this._cfg, this._cfgFields, "fontSize") != t && (this._setFieldValue(this._cfg, this._cfgFields, "fontSize", t), this._setFieldValue(this._cfg, this._cfgFields, "fontSizeRetina", e), this._updateCfgFlag_Font())
                }, e.setOutline = function (t) {
                    var e = this._getLayoutValue("outlineSize");
                    e > 0 != t > 0 && this._updateCfgFlag_Font(), e != t && (this._updateCfgFlag_Content(), this._setLayoutValue("outlineSize", t))
                }, e.setOutlineColor = function (t) {
                    var e = this._getLayoutValue("outlineColor");
                    this._colorEqual(e, t) || (this._setLayoutValue("outlineColor", t), this._updateCfgFlag_Content())
                }, e.setLineHeight = function (t) {
                    this._getLayoutValue("lineHeight") != t && (this._setLayoutValue("lineHeight", t), this._updateCfgFlag_Content())
                }, e.setOverFlow = function (t) {
                    this._getLayoutValue("overflow") != t && (this._setLayoutValue("overflow", t), this._updateCfgFlag_Content())
                }, e.setEnableWrap = function (t) {
                    this._getLayoutValue("wrap") != t && (this._setLayoutValue("wrap", t), this._updateCfgFlag_Content())
                }, e.setVerticalAlign = function (t) {
                    this._getLayoutValue("valign") != t && (this._setLayoutValue("valign", t), this._updateCfgFlag_Content())
                }, e.setHorizontalAlign = function (t) {
                    this._getLayoutValue("halign") != t && (this._setLayoutValue("halign", t), this._updateCfgFlag_Content())
                }, e.setContentSize = function (t, e) {
                    var i = this._getLayoutValue("width"), n = this._getLayoutValue("height");
                    i == t && n == e || (this._setLayoutValue("height", e), this._setLayoutValue("width", t), this._updateCfgFlag_Content())
                }, e.setAnchorPoint = function (t, e) {
                    var i = this._getLayoutValue("anchorX"), n = this._getLayoutValue("anchorY");
                    i == t && n == e || (this._setLayoutValue("anchorX", t), this._setLayoutValue("anchorY", e), this._updateCfgFlag_Content())
                }, e.setColor = function (t) {
                    var e = this._getLayoutValue("color");
                    this._colorEqual(e, t) || (this._setLayoutValue("color", t), this._updateCfgFlag_Content())
                }, e.setShadow = function (t, e, i) {
                    var n = this._getLayoutValue("shadowBlur"), r = this._getLayoutValue("shadowX"),
                        s = this._getLayoutValue("shadowY");
                    n > 0 != i > 0 && this._updateCfgFlag_Font();
                    var a = !1;
                    n != i && (this._setLayoutValue("shadowBlur", i), a = !0), r != t && (this._setLayoutValue("shadowX", t), a = !0), s != e && (this._setLayoutValue("shadowY", e), a = !0), a && this._updateCfgFlag_Content()
                }, e.setShadowColor = function (t) {
                    var e = this._getLayoutValue("shadowColor");
                    this._colorEqual(e, t) || (this._setLayoutValue("shadowColor", t), this._updateCfgFlag_Content())
                }, e.setItalic = function (t) {
                    this._getLayoutValue("italic") != t && (this._setLayoutValue("italic", t), this._updateCfgFlag_Content())
                }, e.setBold = function (t) {
                    this._getLayoutValue("bold") != t && (this._setLayoutValue("bold", t), this._updateCfgFlag_Content(), this._updateCfgFlag_Font())
                }, e.setUnderline = function (t) {
                    this._getLayoutValue("underline") != t && (this._setLayoutValue("underline", t), this._updateCfgFlag_Content())
                }, e.setSpacingX = function (t) {
                    this._getLayoutValue("spaceX") == t || "number" != typeof t || isNaN(t) || (this._setLayoutValue("spaceX", t), this._updateCfgFlag_Content())
                }, e.updateRenderData = function (t) {
                    if (t._vertsDirty) {
                        t.font && t.font.nativeUrl && this.setFontPath(cc.assetManager.cacheManager.getCache(t.font.nativeUrl) || t.font.nativeUrl);
                        var e = this._layout, i = t.node.color, n = t.node, r = t.fontSize;
                        this.setString(t.string), this.setFontSize(t.fontSize, r / 72 * t.fontSize), this.setLineHeight(t.lineHeight), this.setEnableWrap(t.enableWrapText), this.setItalic(t.enableItalic), this.setUnderline(t.enableUnderline), this.setBold(t.enableBold), this.setOverFlow(t.overflow), this.setVerticalAlign(t.verticalAlign), this.setHorizontalAlign(t.horizontalAlign), this.setSpacingX(t.spacingX), this.setContentSize(n.getContentSize().width, n.getContentSize().height), this.setAnchorPoint(n.anchorX, n.anchorY), this.setColor(this._colorToObj(i.getR(), i.getG(), i.getB(), Math.ceil(i.getA() * n.opacity / 255)));
                        var s = n.getComponent(cc.LabelShadow);
                        if (s && s.enabled) {
                            var a = s.color;
                            this.setShadow(s.offset.x, s.offset.y, s.blur), this.setShadowColor(this._colorToObj(a.getR(), a.getG(), a.getB(), Math.ceil(a.getA() * n.opacity / 255)))
                        } else this.setShadow(0, 0, -1);
                        this._updateTTFMaterial(t), e.render()
                    }
                }, e._bindMaterial = function (t) {
                    var e = this.labelMaterial;
                    return e || (e = r.default.createWithBuiltin("2d-label", t), this.labelMaterial = e), e
                }, e._updateTTFMaterial = function (t) {
                    var e = this._bindMaterial(t), i = this._label.node, n = this._layout,
                        r = i.getComponent(cc.LabelOutline), s = 0;
                    if (r && r.enabled && r.width > 0) {
                        s = Math.max(Math.min(r.width / 10, .4), .1);
                        var a = r.color;
                        this.setOutlineColor(this._colorToObj(a.getR(), a.getG(), a.getB(), Math.ceil(a.getA() * i.opacity / 255)))
                    }
                    this.setOutline(s), e.define("CC_USE_MODEL", !0), e.define("USE_TEXTURE_ALPHAONLY", !0), e.define("USE_SDF", s > 0 || t.enableBold), e.define("USE_SDF_EXTEND", t.enableBold ? 1 : 0), void 0 !== e.getDefine("CC_SUPPORT_standard_derivatives") && cc.sys.glExtension("OES_standard_derivatives") && e.define("CC_SUPPORT_standard_derivatives", !0), n.setEffect(e.effect._nativeObj)
                }, e.fillBuffers = function () {
                    this._layout.render()
                }, e.getVfmt = function () {
                }, t
            })();
            i.default = s, e.exports = i.default
        }), {
            "../../../../../assets/material/CCMaterial": 91,
            "../../../../../assets/material/material-variant": 98,
            "../../../../../components/CCLabel": 110,
            "../../../../../components/CCLabelOutline": 111,
            "../../../../../components/CCLabelShadow": 112
        }],
        213: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../../../utils/label/ttf")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a = t("../../../../../components/CCLabelShadow"), o = cc.color(255, 255, 255, 255), c = (function (t) {
                var e, i;

                function n() {
                    return t.apply(this, arguments) || this
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i);
                var r = n.prototype;
                return r.updateUVs = function (t) {
                    for (var e = this._renderData.vDatas[0], i = t._frame.uv, n = this.uvOffset, r = this.floatsPerVert, s = 0; s < 4; s++) {
                        var a = 2 * s, o = r * s + n;
                        e[o] = i[a], e[o + 1] = i[a + 1]
                    }
                }, r.updateColor = function (e) {
                    o._fastSetA(e.node._color.a);
                    var i = o._val;
                    t.prototype.updateColor.call(this, e, i)
                }, r.updateVerts = function (t) {
                    var e = t.node, i = t._ttfTexture.width, n = t._ttfTexture.height, r = e.anchorX * e.width,
                        s = e.anchorY * e.height, o = a && t.getComponent(a);
                    if (o && o._enabled) {
                        var c = (i - e.width) / 2, l = (n - e.height) / 2, h = o.offset;
                        -h.x > c ? r += i - e.width : c > h.x && (r += c - h.x), -h.y > l ? s += n - e.height : l > h.y && (s += l - h.y)
                    }
                    var u = this._local;
                    u[0] = -r, u[1] = -s, u[2] = i - r, u[3] = n - s, this.updateUVs(t), this.updateWorldVerts(t)
                }, n
            })(r.default);
            i.default = c, e.exports = i.default
        }), {"../../../../../components/CCLabelShadow": 112, "../../../../utils/label/ttf": 204}],
        214: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../../../../value-types/vec3")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a = t("../../../../assembler-3d"), o = t("../2d/bmfont"), c = new r.default, l = new r.default,
                h = (function (t) {
                    var e, i;

                    function n() {
                        return t.apply(this, arguments) || this
                    }

                    return i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i), n
                })(o);
            i.default = h, cc.js.mixin(h.prototype, a, {
                updateWorldVerts: function (t) {
                    for (var e = t.node._worldMatrix, i = this._local, n = this._renderData.vDatas[0], s = this.floatsPerVert, a = 0; a < n.length; a += s) r.default.set(c, i[a], i[a + 1], 0), r.default.transformMat4(l, c, e), n[a] = l.x, n[a + 1] = l.y, n[a + 2] = l.z
                }
            }), e.exports = i.default
        }), {"../../../../../value-types/vec3": 275, "../../../../assembler-3d": 194, "../2d/bmfont": 210}],
        215: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../../../../value-types/vec3")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a = t("../../../../assembler-3d"), o = t("../2d/letter"), c = new r.default, l = new r.default,
                h = (function (t) {
                    var e, i;

                    function n() {
                        return t.apply(this, arguments) || this
                    }

                    return i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i), n
                })(o);
            i.default = h, cc.js.mixin(h.prototype, a, {
                updateWorldVerts: function (t) {
                    for (var e = t.node._worldMatrix, i = this._local, n = this._renderData.vDatas[0], s = this.floatsPerVert, a = 0; a < n.length; a += s) r.default.set(c, i[a], i[a + 1], 0), r.default.transformMat4(l, c, e), n[a] = l.x, n[a + 1] = l.y, n[a + 2] = l.z
                }
            }), e.exports = i.default
        }), {"../../../../../value-types/vec3": 275, "../../../../assembler-3d": 194, "../2d/letter": 211}],
        216: [(function (t, e, i) {
            "use strict";

            function n(t, e) {
                return (n = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            i.__esModule = !0, i.default = void 0;
            var r = t("../../../../assembler-3d"), s = (function (t) {
                var e, i;

                function r() {
                    return t.apply(this, arguments) || this
                }

                return i = t, (e = r).prototype = Object.create(i.prototype), e.prototype.constructor = e, n(e, i), r
            })(t("../2d/ttf"));
            i.default = s, cc.js.mixin(s.prototype, r), e.exports = i.default
        }), {"../../../../assembler-3d": 194, "../2d/ttf": 213}],
        217: [(function (t) {
            "use strict";
            var e = l(t("../../../assembler")), i = l(t("../../../../components/CCLabel")), n = l(t("./2d/ttf")),
                r = l(t("./2d/bmfont")), s = l(t("./2d/letter")), a = l(t("./3d/ttf")), o = l(t("./3d/bmfont")),
                c = l(t("./3d/letter"));

            function l(t) {
                return t && t.__esModule ? t : {default: t}
            }

            i.default._canvasPool = {
                pool: [], get: function () {
                    var t = this.pool.pop();
                    if (!t) {
                        var e = document.createElement("canvas"), i = e.getContext("2d");
                        t = {canvas: e, context: i}, i.textBaseline = "alphabetic"
                    }
                    return t
                }, put: function (t) {
                    this.pool.length >= 32 || this.pool.push(t)
                }
            }, e.default.register(cc.Label, {
                getConstructor: function (t) {
                    var e = t.node.is3DNode, l = e ? a.default : n.default;
                    return t.font instanceof cc.BitmapFont ? l = e ? o.default : r.default : t.cacheMode === i.default.CacheMode.CHAR && (cc.sys.platform === cc.sys.WECHAT_GAME_SUB ? cc.warn("sorry, subdomain does not support CHAR mode currently!") : l = e ? c.default : s.default), l
                },
                TTF: n.default,
                Bmfont: r.default,
                Letter: s.default,
                TTF3D: a.default,
                Bmfont3D: o.default,
                Letter3D: c.default,
                NativeTTF: void 0
            })
        }), {
            "../../../../components/CCLabel": 110,
            "../../../assembler": 196,
            "./2d/bmfont": 210,
            "./2d/letter": 211,
            "./2d/nativeTTF": 212,
            "./2d/ttf": 213,
            "./3d/bmfont": 214,
            "./3d/letter": 215,
            "./3d/ttf": 216
        }],
        218: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.MaskAssembler = void 0;
            var n, r = (n = t("../../assembler")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a = t("../../../components/CCMask"), o = t("../../render-flow"), c = t("./sprite/2d/simple"),
                l = t("./graphics"), h = t("../../../../renderer/gfx"), u = t("../vertex-format").vfmtPos, f = 8,
                d = [];

            function _() {
                return 1 << d.length - 1
            }

            function p() {
                for (var t = 0, e = 0; e < d.length; ++e) t += 1 << e;
                return t
            }

            function v(t, e, i, n, r, s) {
                var a = t.effect, o = h.STENCIL_OP_KEEP, c = h.STENCIL_OP_KEEP;
                a.setStencil(h.STENCIL_ENABLE, e, n, r, i, o, c, s)
            }

            function g(t) {
                d.length + 1 > f && cc.errorID(9e3, f), d.push(t)
            }

            function m(t, e) {
                0 === d.length && cc.errorID(9001), d.pop(), 0 === d.length ? e._flushMaterial(t._exitMaterial) : E(e)
            }

            function y(t, e) {
                var i = h.DS_FUNC_NEVER, n = _(), r = n, s = n,
                    a = t.inverted ? h.STENCIL_OP_REPLACE : h.STENCIL_OP_ZERO;
                v(t._clearMaterial, i, a, n, r, s);
                var o = e.getBuffer("mesh", u), c = o.request(4, 6), l = c.indiceOffset, f = c.byteOffset >> 2,
                    d = c.vertexOffset, p = o._vData, g = o._iData;
                p[f++] = -1, p[f++] = -1, p[f++] = -1, p[f++] = 1, p[f++] = 1, p[f++] = 1, p[f++] = 1, p[f++] = -1, g[l++] = d, g[l++] = d + 3, g[l++] = d + 1, g[l++] = d + 1, g[l++] = d + 3, g[l++] = d + 2, e.node = e._dummyNode, e.material = t._clearMaterial, e._flush()
            }

            function T(t, e) {
                var i = h.DS_FUNC_NEVER, n = _(), r = n, s = n,
                    o = t.inverted ? h.STENCIL_OP_ZERO : h.STENCIL_OP_REPLACE;
                v(t._materials[0], i, o, n, r, s), e.material = t._materials[0], t._type === a.Type.IMAGE_STENCIL ? (e.node = e._dummyNode, c.prototype.fillBuffers.call(t._assembler, t, e), e._flush()) : (e.node = t.node, l.prototype.fillBuffers.call(t._graphics._assembler, t._graphics, e))
            }

            function E(t) {
                var e = h.DS_FUNC_EQUAL, i = h.STENCIL_OP_KEEP, n = p(), r = n, s = _(), a = d[d.length - 1];
                v(a._enableMaterial, e, i, n, r, s), t._flushMaterial(a._enableMaterial)
            }

            var A = (function (t) {
                var e, i;

                function n() {
                    return t.apply(this, arguments) || this
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i);
                var r = n.prototype;
                return r.updateRenderData = function (t) {
                    t._type === a.Type.IMAGE_STENCIL ? t.spriteFrame ? c.prototype.updateRenderData.call(this, t) : t.setMaterial(0, null) : (t._graphics.setMaterial(0, t._materials[0]), l.prototype.updateRenderData.call(t._graphics._assembler, t._graphics, t._graphics))
                }, r.fillBuffers = function (t, e) {
                    (t._type !== a.Type.IMAGE_STENCIL || t.spriteFrame) && (g(t), y(t, e), T(t, e), E(e)), t.node._renderFlag |= o.FLAG_UPDATE_RENDER_DATA
                }, r.postFillBuffers = function (t, e) {
                    (t._type !== a.Type.IMAGE_STENCIL || t.spriteFrame) && m(t, e), t.node._renderFlag |= o.FLAG_UPDATE_RENDER_DATA
                }, n
            })(c);
            i.MaskAssembler = A, r.default.register(a, A)
        }), {
            "../../../../renderer/gfx": 292,
            "../../../components/CCMask": 114,
            "../../assembler": 196,
            "../../render-flow": 200,
            "../vertex-format": 239,
            "./graphics": 208,
            "./sprite/2d/simple": 223
        }],
        219: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../assembler-2d")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a = t("../../../components/CCMotionStreak"), o = t("../../render-flow");

            function c(t, e) {
                this.point = t || cc.v2(), this.dir = e || cc.v2(), this.distance = 0, this.time = 0
            }

            c.prototype.setPoint = function (t, e) {
                this.point.x = t, this.point.y = e
            }, c.prototype.setDir = function (t, e) {
                this.dir.x = t, this.dir.y = e
            }, cc.v2(), cc.v2();
            var l = cc.v2(), h = cc.v2();

            function u(t, e) {
                return t.x = -e.y, t.y = e.x, t
            }

            var f = (function (t) {
                var e, i;

                function n() {
                    var e;
                    return (e = t.call(this) || this)._tailShortenTime = 0, e
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i);
                var r = n.prototype;
                return r.initData = function () {
                    this._renderData.createFlexData(0, 16, 42)
                }, r.update = function (t, e) {
                    var i = t._stroke / 2, n = t.node._worldMatrix.m, r = n[12], s = n[13], a = t._points,
                        o = t._lastWPos, f = t._fadeTime;
                    if (o.x !== r || o.y !== s) {
                        var d, _ = !1;
                        if (0 === a.length) {
                            var p = new c;
                            p.setPoint(o.x, o.y), this._tailShortenTime = p.time = f, a.push(p), d = new c, a.unshift(d)
                        } else {
                            d = a[0];
                            var v = a[1], g = v.point.x - r, m = v.point.y - s;
                            _ = g * g + m * m >= t.minSeg * t.minSeg
                        }
                        d.setPoint(r, s), d.time = f + e;
                        var y = a[1];
                        if (d.distance = d.point.sub(y.point, h).mag(), h.normalizeSelf(), d.setDir(h.x, h.y), 2 === a.length && y.setDir(h.x, h.y), _) {
                            var T = new c(d.point.clone(), d.dir.clone());
                            T.distance = d.distance, T.time = d.time, a.unshift(T)
                        }
                    }
                    if (o.x = r, o.y = s, !(a.length < 2)) {
                        var E, A = t._color, b = A.a, x = A.b << 16 | A.g << 8 | A.r, C = 0,
                            S = this._renderData._flexBuffer;
                        S.reserve(2 * a.length, 6 * (a.length - 1));
                        for (var w = S.vData, M = S.uintVData, R = a.length - 1; R >= 0; R--) {
                            var I = a[R], O = I.point, D = I.dir;
                            I.time -= e;
                            var P = R === a.length - 1;
                            if (I.time <= 0) P && R - 1 >= 0 && (this._tailShortenTime = a[R - 1].time - e), a.splice(R, 1); else {
                                var L = I.time / f;
                                if (P) {
                                    var N = a[R - 1];
                                    if (!N) {
                                        a.splice(R, 1);
                                        continue
                                    }
                                    if (a.length >= 3) {
                                        var F = I.time / this._tailShortenTime;
                                        F <= 1 && (O.x = N.point.x - N.distance * N.dir.x * F, O.y = N.point.y - N.distance * N.dir.y * F)
                                    } else this._tailShortenTime = I.time
                                }
                                u(l, D);
                                var B = L * b << 24 >>> 0 | x, k = 5 * C;
                                w[k] = O.x + l.x * i, w[k + 1] = O.y + l.y * i, w[k + 2] = 1, w[k + 3] = L, M[k + 4] = B, w[k += 5] = O.x - l.x * i, w[k + 1] = O.y - l.y * i, w[k + 2] = 0, w[k + 3] = L, M[k + 4] = B, C += 2
                            }
                        }
                        E = C <= 2 ? 0 : 3 * (C - 2), S.used(C, E)
                    }
                }, r.fillBuffers = function (t, e) {
                    var i = this._renderData._flexBuffer, n = i.vData, r = i.usedVertices, s = i.usedIndices,
                        a = i.usedVerticesFloats, c = e._meshBuffer, l = c.request(r, s), h = l.byteOffset >> 2,
                        u = c._vData;
                    n.length + h > u.length ? u.set(n.subarray(0, a), h) : u.set(n, h);
                    for (var f = c._iData, d = l.indiceOffset, _ = l.vertexOffset, p = 0, v = r; p < v; p += 2) {
                        var g = _ + p;
                        f[d++] = g, f[d++] = g + 2, f[d++] = g + 1, f[d++] = g + 1, f[d++] = g + 2, f[d++] = g + 3
                    }
                    t.node._renderFlag |= o.FLAG_UPDATE_RENDER_DATA
                }, n
            })(r.default);
            i.default = f, f.register(a, f), e.exports = i.default
        }), {"../../../components/CCMotionStreak": 115, "../../assembler-2d": 193, "../../render-flow": 200}],
        220: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../../../assembler-2d")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a = t("../../../../../components/CCSprite").FillType, o = (function (t) {
                var e, i;

                function n() {
                    return t.apply(this, arguments) || this
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i);
                var r = n.prototype;
                return r.updateRenderData = function (t) {
                    var e = t._spriteFrame;
                    if (this.packToDynamicAtlas(t, e), t._vertsDirty) {
                        var i = t._fillStart, n = t._fillRange;
                        n < 0 && (i += n, n = -n), n = (n = (n = i + n) > 1 ? 1 : n) < 0 ? 0 : n;
                        var r = (i = (i = i > 1 ? 1 : i) < 0 ? 0 : i) + (n = (n -= i) < 0 ? 0 : n);
                        r = r > 1 ? 1 : r, this.updateUVs(t, i, r), this.updateVerts(t, i, r), t._vertsDirty = !1
                    }
                }, r.updateUVs = function (t, e, i) {
                    var n, r, s, o, c, l, h, u, f, d, _ = t._spriteFrame, p = _._texture.width, v = _._texture.height,
                        g = _._rect;
                    _._rotated ? (n = g.x / p, r = (g.y + g.width) / v, s = c = n, h = f = (g.x + g.height) / p, l = d = r, o = u = g.y / v) : (n = g.x / p, r = (g.y + g.height) / v, s = h = n, c = f = (g.x + g.width) / p, o = l = r, u = d = g.y / v);
                    var m = this._renderData.vDatas[0], y = this.uvOffset, T = this.floatsPerVert;
                    switch (t._fillType) {
                        case a.HORIZONTAL:
                            m[y] = s + (c - s) * e, m[y + 1] = o + (l - o) * e, m[y + T] = s + (c - s) * i, m[y + T + 1] = o + (l - o) * i, m[y + 2 * T] = h + (f - h) * e, m[y + 2 * T + 1] = u + (d - u) * e, m[y + 3 * T] = h + (f - h) * i, m[y + 3 * T + 1] = u + (d - u) * i;
                            break;
                        case a.VERTICAL:
                            m[y] = s + (h - s) * e, m[y + 1] = o + (u - o) * e, m[y + T] = c + (f - c) * e, m[y + T + 1] = l + (d - l) * e, m[y + 2 * T] = s + (h - s) * i, m[y + 2 * T + 1] = o + (u - o) * i, m[y + 3 * T] = c + (f - c) * i, m[y + 3 * T + 1] = l + (d - l) * i;
                            break;
                        default:
                            cc.errorID(2626)
                    }
                }, r.updateVerts = function (t, e, i) {
                    var n, r = t.node, s = r.width, o = r.height, c = r.anchorX * s, l = r.anchorY * o, h = -c, u = -l,
                        f = s - c, d = o - l;
                    switch (t._fillType) {
                        case a.HORIZONTAL:
                            n = h + (f - h) * i, h += (f - h) * e, f = n;
                            break;
                        case a.VERTICAL:
                            n = u + (d - u) * i, u += (d - u) * e, d = n;
                            break;
                        default:
                            cc.errorID(2626)
                    }
                    var _ = this._local;
                    _[0] = h, _[1] = u, _[2] = f, _[3] = d, this.updateWorldVerts(t)
                }, n
            })(r.default);
            i.default = o, e.exports = i.default
        }), {"../../../../../components/CCSprite": 123, "../../../../assembler-2d": 193}],
        221: [(function (t, e, i) {
            "use strict";
            var n;

            function r(t, e) {
                return (r = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            i.__esModule = !0, i.default = void 0;
            var s = (function (t) {
                var e, i;

                function n() {
                    return t.apply(this, arguments) || this
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, r(e, i);
                var s = n.prototype;
                return s.initData = function () {
                    this._renderData.createFlexData(0, 4, 6, this.getVfmt())
                }, s.updateRenderData = function (t) {
                    this.packToDynamicAtlas(t, t._spriteFrame);
                    var e = t.spriteFrame;
                    if (e) {
                        var i = e.vertices;
                        if (i) {
                            this.verticesCount = i.x.length, this.indicesCount = i.triangles.length;
                            var n = this._renderData._flexBuffer;
                            n.reserve(this.verticesCount, this.indicesCount) && (this.updateColor(t), t._vertsDirty = !0), n.used(this.verticesCount, this.indicesCount), this.updateIndices(i.triangles), t._vertsDirty && (this.updateUVs(t), this.updateVerts(t), this.updateWorldVerts(t), t._vertsDirty = !1)
                        }
                    }
                }, s.updateIndices = function (t) {
                    this._renderData.iDatas[0].set(t)
                }, s.updateUVs = function (t) {
                    for (var e = t.spriteFrame.vertices, i = e.nu, n = e.nv, r = this.uvOffset, s = this.floatsPerVert, a = this._renderData.vDatas[0], o = 0; o < i.length; o++) {
                        var c = s * o + r;
                        a[c] = i[o], a[c + 1] = n[o]
                    }
                }, s.updateVerts = function (t) {
                    var e = t.node, i = Math.abs(e.width), n = Math.abs(e.height), r = e.anchorX * i, s = e.anchorY * n,
                        a = t.spriteFrame, o = a.vertices, c = o.x, l = o.y, h = a._originalSize.width,
                        u = a._originalSize.height, f = a._rect.width, d = a._rect.height,
                        _ = a._offset.x + (h - f) / 2, p = a._offset.y + (u - d) / 2, v = i / (t.trim ? f : h),
                        g = n / (t.trim ? d : u), m = this._local;
                    if (t.trim) for (var y = 0, T = c.length; y < T; y++) {
                        var E = 2 * y;
                        m[E] = (c[y] - _) * v - r, m[E + 1] = (u - l[y] - p) * g - s
                    } else for (var A = 0, b = c.length; A < b; A++) {
                        var x = 2 * A;
                        m[x] = c[A] * v - r, m[x + 1] = (u - l[A]) * g - s
                    }
                    if (a._flipX) for (var C = 0, S = this.verticesCount; C < S; C++) m[2 * C] = i - m[2 * C] - 2 * r;
                    if (a._flipY) for (var w = 0, M = this.verticesCount; w < M; w++) m[2 * w + 1] = n - m[2 * w + 1] - 2 * s
                }, s.updateWorldVerts = function (t) {
                    for (var e = t.node._worldMatrix.m, i = e[0], n = e[1], r = e[4], s = e[5], a = e[12], o = e[13], c = this._local, l = this._renderData.vDatas[0], h = this.floatsPerVert, u = 0, f = this.verticesCount; u < f; u++) {
                        var d = c[2 * u], _ = c[2 * u + 1];
                        l[h * u] = d * i + _ * r + a, l[h * u + 1] = d * n + _ * s + o
                    }
                }, n
            })(((n = t("../../../../assembler-2d")) && n.__esModule ? n : {default: n}).default);
            i.default = s, e.exports = i.default
        }), {"../../../../assembler-2d": 193}],
        222: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../../../assembler-2d")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a = 2 * Math.PI, o = [cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0)], c = [0, 0, 0, 0],
                l = [0, 0, 0, 0, 0, 0, 0, 0], h = [cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0)],
                u = [cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0)], f = cc.v2(0, 0), d = [];

            function _(t, e, i, n, r, s, a) {
                var o, c, l = Math.sin(s), h = Math.cos(s);
                if (0 !== Math.cos(s)) {
                    if (o = l / h, (t - r.x) * h > 0) {
                        var u = r.y + o * (t - r.x);
                        a[0].x = t, a[0].y = u
                    }
                    if ((e - r.x) * h > 0) {
                        var f = r.y + o * (e - r.x);
                        a[2].x = e, a[2].y = f
                    }
                }
                if (0 !== Math.sin(s)) {
                    if (c = h / l, (n - r.y) * l > 0) {
                        var d = r.x + c * (n - r.y);
                        a[3].x = d, a[3].y = n
                    }
                    if ((i - r.y) * l > 0) {
                        var _ = r.x + c * (i - r.y);
                        a[1].x = _, a[1].y = i
                    }
                }
            }

            function p(t) {
                var e = t.node, i = e.width, n = e.height, r = e.anchorX * i, s = e.anchorY * n, a = -r, l = -s,
                    h = i - r, u = n - s, _ = c;
                _[0] = a, _[1] = l, _[2] = h, _[3] = u;
                var p = t._fillCenter, v = f.x = Math.min(Math.max(0, p.x), 1) * (h - a) + a,
                    g = f.y = Math.min(Math.max(0, p.y), 1) * (u - l) + l;
                o[0].x = o[3].x = a, o[1].x = o[2].x = h, o[0].y = o[1].y = l, o[2].y = o[3].y = u, d.length = 0, v !== _[0] && (d[0] = [3, 0]), v !== _[2] && (d[2] = [1, 2]), g !== _[1] && (d[1] = [0, 1]), g !== _[3] && (d[3] = [2, 3])
            }

            function v(t, e) {
                var i, n;
                if (i = e.x - t.x, n = e.y - t.y, 0 !== i || 0 !== n) {
                    if (0 === i) return n > 0 ? .5 * Math.PI : 1.5 * Math.PI;
                    var r = Math.atan(n / i);
                    return i < 0 && (r += Math.PI), r
                }
            }

            var g = (function (t) {
                var e, i;

                function n() {
                    return t.apply(this, arguments) || this
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i);
                var r = n.prototype;
                return r.initData = function () {
                    this._renderData.createFlexData(0, 4, 6, this.getVfmt()), this.updateIndices()
                }, r.updateRenderData = function (e) {
                    t.prototype.updateRenderData.call(this, e);
                    var i, n, r, s, o, d, v, g, m, y = e.spriteFrame;
                    if (this.packToDynamicAtlas(e, y), e._vertsDirty) {
                        var T = e._fillStart, E = e._fillRange;
                        for (E < 0 && (T += E, E = -E); T >= 1;) T -= 1;
                        for (; T < 0;) T += 1;
                        T *= a, E *= a, p(e), d = (i = y)._texture.width, v = i._texture.height, g = i._rect, m = l, i._rotated ? (n = g.x / d, r = (g.x + g.height) / d, s = g.y / v, o = (g.y + g.width) / v, m[0] = m[2] = n, m[4] = m[6] = r, m[3] = m[7] = o, m[1] = m[5] = s) : (n = g.x / d, r = (g.x + g.width) / d, s = g.y / v, o = (g.y + g.height) / v, m[0] = m[4] = n, m[2] = m[6] = r, m[1] = m[3] = o, m[5] = m[7] = s), _(c[0], c[2], c[1], c[3], f, T, h), _(c[0], c[2], c[1], c[3], f, T + E, u), this.updateVerts(e, T, E), e._vertsDirty = !1
                    }
                }, r.updateVerts = function (t, e, i) {
                    var n = e + i, r = this._local;
                    r.length = 0;
                    for (var s = 0, c = 3 * this.floatsPerVert, l = 0; l < 4; ++l) {
                        var _ = d[l];
                        if (_) if (i >= a) r.length = s + c, this._generateTriangle(r, s, f, o[_[0]], o[_[1]]), s += c; else {
                            var p = v(f, o[_[0]]), g = v(f, o[_[1]]);
                            g < p && (g += a), p -= a, g -= a;
                            for (var m = 0; m < 3; ++m) p >= n || (p >= e ? (r.length = s + c, g >= n ? this._generateTriangle(r, s, f, o[_[0]], u[l]) : this._generateTriangle(r, s, f, o[_[0]], o[_[1]]), s += c) : g <= e || (g <= n ? (r.length = s + c, this._generateTriangle(r, s, f, h[l], o[_[1]]), s += c) : (r.length = s + c, this._generateTriangle(r, s, f, h[l], u[l]), s += c))), p += a, g += a
                        }
                    }
                    this.allocWorldVerts(t), this.updateWorldVerts(t)
                }, r.allocWorldVerts = function (t) {
                    var e = t.node._color._val, i = this._renderData, n = this.floatsPerVert, r = this._local,
                        s = r.length / n;
                    this.verticesCount = this.indicesCount = s;
                    var a = i._flexBuffer;
                    a.reserve(s, s) && this.updateIndices(), a.used(this.verticesCount, this.indicesCount);
                    for (var o = i.vDatas[0], c = i.uintVDatas[0], l = this.uvOffset, h = 0; h < r.length; h += n) {
                        var u = h + l;
                        o[u] = r[u], o[u + 1] = r[u + 1], c[u + 2] = e
                    }
                }, r.updateIndices = function () {
                    for (var t = this._renderData.iDatas[0], e = 0; e < t.length; e++) t[e] = e
                }, r.updateWorldVerts = function (t) {
                    for (var e = t.node._worldMatrix.m, i = e[0], n = e[1], r = e[4], s = e[5], a = e[12], o = e[13], c = this._local, l = this._renderData.vDatas[0], h = this.floatsPerVert, u = 0; u < c.length; u += h) {
                        var f = c[u], d = c[u + 1];
                        l[u] = f * i + d * r + a, l[u + 1] = f * n + d * s + o
                    }
                }, r._generateTriangle = function (t, e, i, n, r) {
                    var s = c, a = s[0], o = s[1], l = s[2], h = s[3], u = this.floatsPerVert;
                    t[e] = i.x, t[e + 1] = i.y, t[e + u] = n.x, t[e + u + 1] = n.y, t[e + 2 * u] = r.x, t[e + 2 * u + 1] = r.y;
                    var f, d, _ = this.uvOffset;
                    f = (i.x - a) / (l - a), d = (i.y - o) / (h - o), this._generateUV(f, d, t, e + _), f = (n.x - a) / (l - a), d = (n.y - o) / (h - o), this._generateUV(f, d, t, e + u + _), f = (r.x - a) / (l - a), d = (r.y - o) / (h - o), this._generateUV(f, d, t, e + 2 * u + _)
                }, r._generateUV = function (t, e, i, n) {
                    var r = l[0] + (l[2] - l[0]) * t, s = l[4] + (l[6] - l[4]) * t, a = l[1] + (l[3] - l[1]) * t,
                        o = l[5] + (l[7] - l[5]) * t;
                    i[n] = r + (s - r) * e, i[n + 1] = a + (o - a) * e
                }, n
            })(r.default);
            i.default = g, e.exports = i.default
        }), {"../../../../assembler-2d": 193}],
        223: [(function (t, e, i) {
            "use strict";
            var n;

            function r(t, e) {
                return (r = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            i.__esModule = !0, i.default = void 0;
            var s = (function (t) {
                var e, i;

                function n() {
                    return t.apply(this, arguments) || this
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, r(e, i);
                var s = n.prototype;
                return s.updateRenderData = function (t) {
                    t._spriteFrame && t._spriteFrame.loaded ? (this.packToDynamicAtlas(t, t._spriteFrame), t._vertsDirty && (this.updateUVs(t), this.updateVerts(t), t._vertsDirty = !1)) : t._vertsDirty && (t._vertsDirty = !1)
                }, s.updateUVs = function (t) {
                    for (var e = t._spriteFrame.uv, i = this.uvOffset, n = this.floatsPerVert, r = this._renderData.vDatas[0], s = 0; s < 4; s++) {
                        var a = 2 * s, o = n * s + i;
                        r[o] = e[a], r[o + 1] = e[a + 1]
                    }
                }, s.updateVerts = function (t) {
                    var e, i, n, r, s = t.node, a = s.width, o = s.height, c = s.anchorX * a, l = s.anchorY * o;
                    if (t.trim) e = -c, i = -l, n = a - c, r = o - l; else {
                        var h = t.spriteFrame, u = h._originalSize.width, f = h._originalSize.height, d = h._rect.width,
                            _ = h._rect.height, p = h._offset, v = a / u, g = o / f, m = p.x + (u - d) / 2,
                            y = p.x - (u - d) / 2;
                        e = m * v - c, i = (p.y + (f - _) / 2) * g - l, n = a + y * v - c, r = o + (p.y - (f - _) / 2) * g - l
                    }
                    var T = this._local;
                    T[0] = e, T[1] = i, T[2] = n, T[3] = r, this.updateWorldVerts(t)
                }, n
            })(((n = t("../../../../assembler-2d")) && n.__esModule ? n : {default: n}).default);
            i.default = s, e.exports = i.default
        }), {"../../../../assembler-2d": 193}],
        224: [(function (t, e, i) {
            "use strict";
            var n;

            function r(t, e) {
                return (r = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            i.__esModule = !0, i.default = void 0;
            var s = (function (t) {
                var e, i;

                function n() {
                    return t.apply(this, arguments) || this
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, r(e, i);
                var s = n.prototype;
                return s.initData = function () {
                    if (!(this._renderData.meshCount > 0)) {
                        this._renderData.createData(0, this.verticesFloats, this.indicesCount);
                        for (var t = this._renderData.iDatas[0], e = 0, i = 0; i < 3; ++i) for (var n = 0; n < 3; ++n) {
                            var r = 4 * i + n;
                            t[e++] = r, t[e++] = r + 1, t[e++] = r + 4, t[e++] = r + 1, t[e++] = r + 5, t[e++] = r + 4
                        }
                    }
                }, s.initLocal = function () {
                    this._local = [], this._local.length = 8
                }, s.updateRenderData = function (t) {
                    var e = t._spriteFrame;
                    this.packToDynamicAtlas(t, e), t._vertsDirty && (this.updateUVs(t), this.updateVerts(t), t._vertsDirty = !1)
                }, s.updateVerts = function (t) {
                    var e = t.node, i = e.width, n = e.height, r = e.anchorX * i, s = e.anchorY * n, a = t.spriteFrame,
                        o = a.insetLeft, c = a.insetRight, l = a.insetTop, h = a.insetBottom, u = i - o - c,
                        f = n - l - h, d = i / (o + c), _ = n / (l + h);
                    d = isNaN(d) || d > 1 ? 1 : d, _ = isNaN(_) || _ > 1 ? 1 : _, u = u < 0 ? 0 : u, f = f < 0 ? 0 : f;
                    var p = this._local;
                    p[0] = -r, p[1] = -s, p[2] = o * d - r, p[3] = h * _ - s, p[4] = p[2] + u, p[5] = p[3] + f, p[6] = i - r, p[7] = n - s, this.updateWorldVerts(t)
                }, s.updateUVs = function (t) {
                    for (var e = this._renderData.vDatas[0], i = t.spriteFrame.uvSliced, n = this.uvOffset, r = this.floatsPerVert, s = 0; s < 4; ++s) for (var a = 0; a < 4; ++a) {
                        var o = 4 * s + a, c = i[o], l = o * r;
                        e[l + n] = c.u, e[l + n + 1] = c.v
                    }
                }, s.updateWorldVerts = function (t) {
                    for (var e = t.node._worldMatrix.m, i = e[0], n = e[1], r = e[4], s = e[5], a = e[12], o = e[13], c = this._local, l = this._renderData.vDatas[0], h = this.floatsPerVert, u = 0; u < 4; ++u) for (var f = c[2 * u + 1], d = 0; d < 4; ++d) {
                        var _ = c[2 * d], p = (4 * u + d) * h;
                        l[p] = _ * i + f * r + a, l[p + 1] = _ * n + f * s + o
                    }
                }, n
            })(((n = t("../../../../assembler-2d")) && n.__esModule ? n : {default: n}).default);
            i.default = s, Object.assign(s.prototype, {verticesCount: 16, indicesCount: 54}), e.exports = i.default
        }), {"../../../../assembler-2d": 193}],
        225: [(function (t, e, i) {
            "use strict";
            var n;

            function r(t, e) {
                return (r = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            i.__esModule = !0, i.default = void 0;
            var s = (function (t) {
                var e, i;

                function n() {
                    return t.apply(this, arguments) || this
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, r(e, i);
                var s = n.prototype;
                return s.initData = function () {
                    this.verticesCount = 0, this.contentWidth = 0, this.contentHeight = 0, this.rectWidth = 0, this.rectHeight = 0, this.hRepeat = 0, this.vRepeat = 0, this.row = 0, this.col = 0, this._renderData.createFlexData(0, 4, 6, this.getVfmt()), this._updateIndices()
                }, s.initLocal = function () {
                    this._local = {x: [], y: []}
                }, s._updateIndices = function () {
                    for (var t = this._renderData.iDatas[0], e = 0, i = 0, n = t.length; e < n; e += 6, i += 4) t[e] = i, t[e + 1] = i + 1, t[e + 2] = i + 2, t[e + 3] = i + 1, t[e + 4] = i + 3, t[e + 5] = i + 2
                }, s.updateRenderData = function (t) {
                    var e = t._spriteFrame;
                    this.packToDynamicAtlas(t, e);
                    var i = t.node, n = this.contentWidth = Math.abs(i.width),
                        r = this.contentHeight = Math.abs(i.height), s = e._rect, a = e.insetLeft, o = e.insetRight,
                        c = s.width - a - o, l = e.insetTop, h = e.insetBottom, u = s.height - l - h;
                    this.sizableWidth = n - a - o, this.sizableHeight = r - l - h, this.sizableWidth = this.sizableWidth > 0 ? this.sizableWidth : 0, this.sizableHeight = this.sizableHeight > 0 ? this.sizableHeight : 0;
                    var f = this.hRepeat = 0 === c ? this.sizableWidth : this.sizableWidth / c,
                        d = this.vRepeat = 0 === u ? this.sizableHeight : this.sizableHeight / u,
                        _ = (this.row = Math.ceil(d + 2)) * (this.col = Math.ceil(f + 2));
                    this.verticesCount = 4 * _, this.indicesCount = 6 * _;
                    var p = this._renderData._flexBuffer;
                    p.reserve(this.verticesCount, this.indicesCount) && (this._updateIndices(), this.updateColor(t)), p.used(this.verticesCount, this.indicesCount), t._vertsDirty && (this.updateUVs(t), this.updateVerts(t), t._vertsDirty = !1)
                }, s.updateVerts = function (t) {
                    var e = t._spriteFrame, i = e._rect, n = t.node, r = n.anchorX * n.width, s = n.anchorY * n.height,
                        a = this.row, o = this.col, c = this.contentWidth, l = this.contentHeight, h = this._local,
                        u = h.x, f = h.y;
                    u.length = f.length = 0;
                    var d, _, p = e.insetLeft, v = e.insetRight, g = i.width - p - v, m = e.insetTop, y = e.insetBottom,
                        T = i.height - m - y, E = n.width / (p + v) > 1 ? 1 : n.width / (p + v),
                        A = n.height / (m + y) > 1 ? 1 : n.height / (m + y);
                    d = g > 0 ? Math.floor(1e3 * this.sizableWidth) / 1e3 % g == 0 ? g : this.sizableWidth % g : this.sizableWidth, _ = T > 0 ? Math.floor(1e3 * this.sizableHeight) / 1e3 % T == 0 ? T : this.sizableHeight % T : this.sizableHeight;
                    for (var b = 0; b <= o; b++) 0 === b ? u[b] = -r : b > 0 && b < o ? u[b] = 1 === b ? p * E + Math.min(g, this.sizableWidth) - r : g > 0 ? b === o - 1 ? p + d + g * (b - 2) - r : p + Math.min(g, this.sizableWidth) + g * (b - 2) - r : p + this.sizableWidth - r : b === o && (u[b] = Math.min(p + this.sizableWidth + v, c) - r);
                    for (var x = 0; x <= a; x++) 0 === x ? f[x] = -s : x > 0 && x < a ? f[x] = 1 === x ? y * A + Math.min(T, this.sizableHeight) - s : T > 0 ? x === a - 1 ? y + _ + (x - 2) * T - s : y + Math.min(T, this.sizableHeight) + (x - 2) * T - s : y + this.sizableHeight - s : x === a && (f[x] = Math.min(y + this.sizableHeight + m, l) - s);
                    this.updateWorldVerts(t)
                }, s.updateWorldVerts = function (t) {
                    for (var e, i, n, r, s = this._renderData, a = this._local, o = a.x, c = a.y, l = s.vDatas[0], h = this.row, u = this.col, f = t.node._worldMatrix.m, d = f[0], _ = f[1], p = f[4], v = f[5], g = f[12], m = f[13], y = this.floatsPerVert, T = 0, E = 0, A = h; E < A; ++E) {
                        n = c[E], r = c[E + 1];
                        for (var b = 0, x = u; b < x; ++b) e = o[b], i = o[b + 1], l[T] = e * d + n * p + g, l[T + 1] = e * _ + n * v + m, l[T += y] = i * d + n * p + g, l[T + 1] = i * _ + n * v + m, l[T += y] = e * d + r * p + g, l[T + 1] = e * _ + r * v + m, l[T += y] = i * d + r * p + g, l[T + 1] = i * _ + r * v + m, T += y
                    }
                }, s.updateUVs = function (t) {
                    var e = this._renderData.vDatas[0];
                    if (e) for (var i = t._spriteFrame, n = i._rect, r = i.insetLeft, s = i.insetRight, a = n.width - r - s, o = i.insetTop, c = i.insetBottom, l = n.height - o - c, h = this.row, u = this.col, f = this.hRepeat, d = this.vRepeat, _ = 0, p = 0, v = t.spriteFrame.uv, g = t.spriteFrame.uvSliced, m = t.spriteFrame._rotated, y = this.floatsPerVert, T = this.uvOffset, E = [], A = [], b = 0, x = h; b < x; ++b) {
                        p = this.sizableHeight > l ? this.sizableHeight >= b * l ? 1 : d % 1 : d;
                        for (var C = 0, S = u; C < S; ++C) _ = this.sizableWidth > a ? this.sizableWidth >= C * a ? 1 : f % 1 : f, m ? (0 === b ? (E[0] = g[0].u, E[1] = g[0].u, E[2] = g[4].u + (g[8].u - g[4].u) * p) : b < h - 1 ? (E[0] = g[4].u, E[1] = g[4].u, E[2] = g[4].u + (g[8].u - g[4].u) * p) : b === h - 1 && (E[0] = g[8].u, E[1] = g[8].u, E[2] = g[12].u), 0 === C ? (A[0] = g[0].v, A[1] = g[1].v + (g[2].v - g[1].v) * _, A[2] = g[0].v) : C < u - 1 ? (A[0] = g[1].v, A[1] = g[1].v + (g[2].v - g[1].v) * _, A[2] = g[1].v) : C === u - 1 && (A[0] = g[2].v, A[1] = g[3].v, A[2] = g[2].v), E[3] = E[2], A[3] = A[1]) : (0 === C ? (E[0] = g[0].u, E[1] = g[1].u + (g[2].u - g[1].u) * _, E[2] = v[0]) : C < u - 1 ? (E[0] = g[1].u, E[1] = g[1].u + (g[2].u - g[1].u) * _, E[2] = g[1].u) : C === u - 1 && (E[0] = g[2].u, E[1] = g[3].u, E[2] = g[2].u), 0 === b ? (A[0] = g[0].v, A[1] = g[0].v, A[2] = g[4].v + (g[8].v - g[4].v) * p) : b < h - 1 ? (A[0] = g[4].v, A[1] = g[4].v, A[2] = g[4].v + (g[8].v - g[4].v) * p) : b === h - 1 && (A[0] = g[8].v, A[1] = g[8].v, A[2] = g[12].v), E[3] = E[1], A[3] = A[2]), e[T] = E[0], e[T + 1] = A[0], e[T += y] = E[1], e[T + 1] = A[1], e[T += y] = E[2], e[T + 1] = A[2], e[T += y] = E[3], e[T + 1] = A[3], T += y
                    }
                }, n
            })(((n = t("../../../../assembler-2d")) && n.__esModule ? n : {default: n}).default);
            i.default = s, e.exports = i.default
        }), {"../../../../assembler-2d": 193}],
        226: [(function (t, e, i) {
            "use strict";

            function n(t, e) {
                return (n = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            i.__esModule = !0, i.default = void 0;
            var r = t("../../../../assembler-3d"), s = (function (t) {
                var e, i;

                function r() {
                    return t.apply(this, arguments) || this
                }

                return i = t, (e = r).prototype = Object.create(i.prototype), e.prototype.constructor = e, n(e, i), r
            })(t("../2d/bar-filled"));
            i.default = s, cc.js.mixin(s.prototype, r), e.exports = i.default
        }), {"../../../../assembler-3d": 194, "../2d/bar-filled": 220}],
        227: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../../../../value-types/vec3")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a = t("../../../../assembler-3d"), o = t("../2d/mesh"), c = new r.default, l = (function (t) {
                var e, i;

                function n() {
                    return t.apply(this, arguments) || this
                }

                return i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i), n
            })(o);
            i.default = l, cc.js.mixin(l.prototype, a, {
                updateWorldVerts: function (t) {
                    for (var e = t.node._worldMatrix, i = this._local, n = this._renderData.vDatas[0], s = this.floatsPerVert, a = 0, o = i.length / 2; a < o; a++) {
                        r.default.set(c, i[2 * a], i[2 * a + 1], 0), r.default.transformMat4(c, c, e);
                        var l = s * a;
                        n[l] = c.x, n[l + 1] = c.y, n[l + 2] = c.z
                    }
                }
            }), e.exports = i.default
        }), {"../../../../../value-types/vec3": 275, "../../../../assembler-3d": 194, "../2d/mesh": 221}],
        228: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../../../../value-types/vec3")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a = t("../../../../assembler-3d"), o = t("../2d/radial-filled"), c = new r.default, l = new r.default,
                h = (function (t) {
                    var e, i;

                    function n() {
                        return t.apply(this, arguments) || this
                    }

                    return i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i), n
                })(o);
            i.default = h, cc.js.mixin(h.prototype, a, {
                updateWorldVerts: function (t) {
                    for (var e = t.node._worldMatrix, i = this._local, n = this._renderData.vDatas[0], s = this.floatsPerVert, a = 0; a < n.length; a += s) r.default.set(c, i[a], i[a + 1], 0), r.default.transformMat4(l, c, e), n[a] = l.x, n[a + 1] = l.y, n[a + 2] = l.z
                }
            }), e.exports = i.default
        }), {"../../../../../value-types/vec3": 275, "../../../../assembler-3d": 194, "../2d/radial-filled": 222}],
        229: [(function (t, e, i) {
            "use strict";

            function n(t, e) {
                return (n = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            i.__esModule = !0, i.default = void 0;
            var r = t("../../../../assembler-3d"), s = (function (t) {
                var e, i;

                function r() {
                    return t.apply(this, arguments) || this
                }

                return i = t, (e = r).prototype = Object.create(i.prototype), e.prototype.constructor = e, n(e, i), r
            })(t("../2d/simple"));
            i.default = s, cc.js.mixin(s.prototype, r), e.exports = i.default
        }), {"../../../../assembler-3d": 194, "../2d/simple": 223}],
        230: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../../../../value-types/vec3")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a = t("../../../../assembler-3d"), o = t("../2d/sliced"), c = new r.default, l = new r.default,
                h = (function (t) {
                    var e, i;

                    function n() {
                        return t.apply(this, arguments) || this
                    }

                    return i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i), n
                })(o);
            i.default = h, cc.js.mixin(h.prototype, a, {
                updateWorldVerts: function (t) {
                    for (var e = t.node._worldMatrix, i = this._local, n = this._renderData.vDatas[0], s = this.floatsPerVert, a = 0; a < 4; ++a) for (var o = i[2 * a + 1], h = 0; h < 4; ++h) {
                        var u = i[2 * h];
                        r.default.set(c, u, o, 0), r.default.transformMat4(l, c, e);
                        var f = (4 * a + h) * s;
                        n[f] = l.x, n[f + 1] = l.y, n[f + 2] = l.z
                    }
                }
            }), e.exports = i.default
        }), {"../../../../../value-types/vec3": 275, "../../../../assembler-3d": 194, "../2d/sliced": 224}],
        231: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../../../../value-types/vec3")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            for (var a = t("../../../../assembler-3d"), o = t("../2d/tiled"), c = [], l = 0; l < 4; l++) c.push(new r.default);
            var h = (function (t) {
                var e, i;

                function n() {
                    return t.apply(this, arguments) || this
                }

                return i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i), n
            })(o);
            i.default = h, cc.js.mixin(h.prototype, a, {
                updateWorldVerts: function (t) {
                    for (var e, i, n, s, a = this._local, o = a.x, l = a.y, h = this._renderData.vDatas[0], u = this.row, f = this.col, d = t.node._worldMatrix, _ = 0, p = 0, v = u; p < v; ++p) {
                        n = l[p], s = l[p + 1];
                        for (var g = 0, m = f; g < m; ++g) {
                            e = o[g], i = o[g + 1], r.default.set(c[0], e, n, 0), r.default.set(c[1], i, n, 0), r.default.set(c[2], e, s, 0), r.default.set(c[3], i, s, 0);
                            for (var y = 0; y < 4; y++) {
                                var T = c[y];
                                r.default.transformMat4(T, T, d);
                                var E = 6 * y;
                                h[_ + E] = T.x, h[_ + E + 1] = T.y, h[_ + E + 2] = T.z
                            }
                            _ += 24
                        }
                    }
                }
            }), e.exports = i.default
        }), {"../../../../../value-types/vec3": 275, "../../../../assembler-3d": 194, "../2d/tiled": 225}],
        232: [(function (t) {
            "use strict";
            var e = p(t("../../../assembler")), i = t("../../../../components/CCSprite"), n = p(t("./2d/simple")),
                r = p(t("./2d/sliced")), s = p(t("./2d/tiled")), a = p(t("./2d/radial-filled")),
                o = p(t("./2d/bar-filled")), c = p(t("./2d/mesh")), l = p(t("./3d/simple")), h = p(t("./3d/sliced")),
                u = p(t("./3d/tiled")), f = p(t("./3d/radial-filled")), d = p(t("./3d/bar-filled")),
                _ = p(t("./3d/mesh"));

            function p(t) {
                return t && t.__esModule ? t : {default: t}
            }

            var v = {
                getConstructor: function (t) {
                    var e = t.node.is3DNode, p = e ? l.default : n.default;
                    switch (t.type) {
                        case i.Type.SLICED:
                            p = e ? h.default : r.default;
                            break;
                        case i.Type.TILED:
                            p = e ? u.default : s.default;
                            break;
                        case i.Type.FILLED:
                            p = t._fillType === i.FillType.RADIAL ? e ? f.default : a.default : e ? d.default : o.default;
                            break;
                        case i.Type.MESH:
                            p = e ? _.default : c.default
                    }
                    return p
                },
                Simple: n.default,
                Sliced: r.default,
                Tiled: s.default,
                RadialFilled: a.default,
                BarFilled: o.default,
                Mesh: c.default,
                Simple3D: l.default,
                Sliced3D: h.default,
                Tiled3D: u.default,
                RadialFilled3D: f.default,
                BarFilled3D: d.default,
                Mesh3D: _.default
            };
            e.default.register(cc.Sprite, v)
        }), {
            "../../../../components/CCSprite": 123,
            "../../../assembler": 196,
            "./2d/bar-filled": 220,
            "./2d/mesh": 221,
            "./2d/radial-filled": 222,
            "./2d/simple": 223,
            "./2d/sliced": 224,
            "./2d/tiled": 225,
            "./3d/bar-filled": 226,
            "./3d/mesh": 227,
            "./3d/radial-filled": 228,
            "./3d/simple": 229,
            "./3d/sliced": 230,
            "./3d/tiled": 231
        }],
        233: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = (function () {
                function t(t, e, i, n, r) {
                    this._handler = t, this._index = e, this._vfmt = r, this._verticesBytes = r._bytes, this._initVerticesCount = i, this._initIndicesCount = n, this.reset()
                }

                var e = t.prototype;
                return e._reallocVData = function (t, e) {
                    this.vData = new Float32Array(t), this.uintVData = new Uint32Array(this.vData.buffer), e && this.vData.set(e), this._handler.updateMesh(this._index, this.vData, this.iData)
                }, e._reallocIData = function (t, e) {
                    this.iData = new Uint16Array(t), e && this.iData.set(e), this._handler.updateMesh(this._index, this.vData, this.iData)
                }, e.reserve = function (t, e) {
                    var i = t * this._verticesBytes >> 2, n = this.vData.length, r = !1;
                    if (i > n) {
                        for (; n < i;) n *= 2;
                        this._reallocVData(n, this.vData), r = !0
                    }
                    var s = this.iData.length;
                    if (e > s) {
                        for (; s < e;) s *= 2;
                        this._reallocIData(e, this.iData), r = !0
                    }
                    return r
                }, e.used = function (t, e) {
                    this.usedVertices = t, this.usedIndices = e, this.usedVerticesFloats = t * this._verticesBytes >> 2, this._handler.updateMeshRange(t, e)
                }, e.reset = function () {
                    var t = this._initVerticesCount * this._verticesBytes >> 2;
                    this._reallocVData(t), this._reallocIData(this._initIndicesCount), this.usedVertices = 0, this.usedVerticesFloats = 0, this.usedIndices = 0
                }, t
            })();
            i.default = n, cc.FlexBuffer = n, e.exports = i.default
        }), {}],
        234: [(function (t, e) {
            "use strict";
            var i, n, r, s = (i = t("../../../renderer/gfx")) && i.__esModule ? i : {default: i};
            n = cc.sys.platform === cc.sys.WECHAT_GAME ? (cc.sys.os === cc.sys.OS_IOS || cc.sys.os === cc.sys.OS_OSX) && (null == (r = GameGlobal) ? void 0 : r.isIOSHighPerformanceMode) && /(OS 1[4-9])|(Version\/1[4-9])/.test(window.navigator.userAgent) : (cc.sys.os === cc.sys.OS_IOS || cc.sys.os === cc.sys.OS_OSX) && cc.sys.isBrowser && /(OS 1[4-9])|(Version\/1[4-9])/.test(window.navigator.userAgent);
            var a = cc.Class({
                name: "cc.MeshBuffer", ctor: function (t, e) {
                    this.init(t, e)
                }, init: function (t, e) {
                    this.byteOffset = 0, this.indiceOffset = 0, this.vertexOffset = 0, this.indiceStart = 0, this._dirty = !1, this._vertexFormat = e, this._vertexBytes = this._vertexFormat._bytes, this._arrOffset = 0, this._vbArr = [], this._vb = new s.default.VertexBuffer(t._device, e, s.default.USAGE_DYNAMIC, new ArrayBuffer, 0), this._vbArr[0] = this._vb, this._ibArr = [], this._ib = new s.default.IndexBuffer(t._device, s.default.INDEX_FMT_UINT16, s.default.USAGE_STATIC, new ArrayBuffer, 0), this._ibArr[0] = this._ib, this._vData = null, this._uintVData = null, this._iData = null, this._batcher = t, this._initVDataCount = 256 * e._bytes, this._initIDataCount = 1536, this._offsetInfo = {
                        byteOffset: 0,
                        vertexOffset: 0,
                        indiceOffset: 0
                    }, this._reallocBuffer()
                }, uploadData: function () {
                    if (0 !== this.byteOffset && this._dirty) {
                        var t = new Float32Array(this._vData.buffer, 0, this.byteOffset >> 2),
                            e = new Uint16Array(this._iData.buffer, 0, this.indiceOffset);
                        this._vb.update(0, t), this._ib.update(0, e), this._dirty = !1
                    }
                }, switchBuffer: function () {
                    var t = ++this._arrOffset;
                    this.byteOffset = 0, this.vertexOffset = 0, this.indiceOffset = 0, this.indiceStart = 0, t < this._vbArr.length ? (this._vb = this._vbArr[t], this._ib = this._ibArr[t]) : (this._vb = new s.default.VertexBuffer(this._batcher._device, this._vertexFormat, s.default.USAGE_DYNAMIC, new ArrayBuffer, 0), this._vbArr[t] = this._vb, this._ib = new s.default.IndexBuffer(this._batcher._device, s.default.INDEX_FMT_UINT16, s.default.USAGE_STATIC, new ArrayBuffer, 0), this._ibArr[t] = this._ib)
                }, checkAndSwitchBuffer: function (t) {
                    this.vertexOffset + t > 65535 && (this.uploadData(), this._batcher._flush(), this.switchBuffer())
                }, requestStatic: function (t, e) {
                    this.checkAndSwitchBuffer(t);
                    var i = this.byteOffset + t * this._vertexBytes, n = this.indiceOffset + e,
                        r = this._vData.byteLength, s = this._iData.length;
                    if (i > r || n > s) {
                        for (; r < i || s < n;) this._initVDataCount *= 2, this._initIDataCount *= 2, r = 4 * this._initVDataCount, s = this._initIDataCount;
                        this._reallocBuffer()
                    }
                    this._updateOffset(t, e, i)
                }, _updateOffset: function (t, e, i) {
                    var n = this._offsetInfo;
                    n.vertexOffset = this.vertexOffset, this.vertexOffset += t, n.indiceOffset = this.indiceOffset, this.indiceOffset += e, n.byteOffset = this.byteOffset, this.byteOffset = i, this._dirty = !0
                }, request: function (t, e) {
                    return this._batcher._buffer !== this && (this._batcher._flush(), this._batcher._buffer = this), this.requestStatic(t, e), this._offsetInfo
                }, _reallocBuffer: function () {
                    this._reallocVData(!0), this._reallocIData(!0)
                }, _reallocVData: function (t) {
                    var e;
                    this._vData && (e = new Uint8Array(this._vData.buffer)), this._vData = new Float32Array(this._initVDataCount), this._uintVData = new Uint32Array(this._vData.buffer);
                    var i = new Uint8Array(this._uintVData.buffer);
                    if (e && t) for (var n = 0, r = e.length; n < r; n++) i[n] = e[n]
                }, _reallocIData: function (t) {
                    var e = this._iData;
                    if (this._iData = new Uint16Array(this._initIDataCount), e && t) for (var i = this._iData, n = 0, r = e.length; n < r; n++) i[n] = e[n]
                }, reset: function () {
                    this._arrOffset = 0, this._vb = this._vbArr[0], this._ib = this._ibArr[0], this.byteOffset = 0, this.indiceOffset = 0, this.vertexOffset = 0, this.indiceStart = 0, this._dirty = !1
                }, destroy: function () {
                    this.reset();
                    for (var t = 0; t < this._vbArr.length; t++) this._vbArr[t].destroy();
                    this._vbArr = null;
                    for (var e = 0; e < this._ibArr.length; e++) this._ibArr[e].destroy();
                    this._ibArr = null, this._ib = null, this._vb = null
                }, forwardIndiceStartToOffset: function () {
                    this.indiceStart = this.indiceOffset
                }
            });
            n && (a.prototype.checkAndSwitchBuffer = function (t) {
                this.vertexOffset + t > 65535 && (this.uploadData(), this._batcher._flush())
            }, a.prototype.forwardIndiceStartToOffset = function () {
                this.uploadData(), this.switchBuffer()
            }), cc.MeshBuffer = e.exports = a
        }), {"../../../renderer/gfx": 292}],
        235: [(function (t, e) {
            "use strict";
            var i = s(t("../../../renderer/core/input-assembler")), n = s(t("../../../renderer/memop/recycle-pool")),
                r = s(t("../../../renderer/scene/model"));

            function s(t) {
                return t && t.__esModule ? t : {default: t}
            }

            var a = t("./vertex-format"), o = a.vfmtPosUvColor, c = a.vfmt3D, l = t("./quad-buffer"),
                h = t("./mesh-buffer"), u = t("./spine-buffer"), f = t("../../assets/material/CCMaterial"),
                d = (new (t("../../platform/id-generater"))("VertextFormat"), {}), _ = new f, p = new i.default;
            p._count = 0;
            var v = function (t, e) {
                this._renderScene = e, this._device = t, this.walking = !1, this.material = _, this.cullingMask = 1, this._iaPool = new n.default(function () {
                    return new i.default
                }, 16), this._modelPool = new n.default(function () {
                    return new r.default
                }, 16), this._quadBuffer = this.getBuffer("quad", o), this._meshBuffer = this.getBuffer("mesh", o), this._quadBuffer3D = this.getBuffer("quad", c), this._meshBuffer3D = this.getBuffer("mesh", c), this._buffer = this._meshBuffer, this._batchedModels = [], this._dummyNode = new cc.Node, this._sortKey = 0, this.node = this._dummyNode, this.parentOpacity = 1, this.parentOpacityDirty = 0, this.worldMatDirty = 0
            };
            v.prototype = {
                constructor: v, reset: function () {
                    this._iaPool.reset();
                    for (var t = this._renderScene, e = this._batchedModels, i = 0; i < e.length; ++i) e[i].setInputAssembler(null), e[i].setEffect(null), t.removeModel(e[i]);
                    for (var n in this._modelPool.reset(), e.length = 0, this._sortKey = 0, d) d[n].reset();
                    this._buffer = this._meshBuffer, this.node = this._dummyNode, this.material = _, this.cullingMask = 1, this.parentOpacity = 1, this.parentOpacityDirty = 0, this.worldMatDirty = 0
                }, _flushMaterial: function (t) {
                    if (t) {
                        this.material = t;
                        var e = t.effect;
                        if (e) {
                            var i = this._modelPool.add();
                            this._batchedModels.push(i), i.sortKey = this._sortKey++, i._cullingMask = this.cullingMask, i.setNode(this.node), i.setEffect(e, null), i.setInputAssembler(p), this._renderScene.addModel(i)
                        }
                    }
                }, _flush: function () {
                    var t = this.material, e = this._buffer, i = e.indiceOffset - e.indiceStart;
                    if (this.walking && t && !(i <= 0)) {
                        var n = t.effect;
                        if (n) {
                            var r = this._iaPool.add();
                            r._vertexBuffer = e._vb, r._indexBuffer = e._ib, r._start = e.indiceStart, r._count = i;
                            var s = this._modelPool.add();
                            this._batchedModels.push(s), s.sortKey = this._sortKey++, s._cullingMask = this.cullingMask, s.setNode(this.node), s.setEffect(n), s.setInputAssembler(r), this._renderScene.addModel(s), e.forwardIndiceStartToOffset()
                        }
                    }
                }, _flushIA: function (t) {
                    if (t) {
                        var e = this.material.effect;
                        if (e) {
                            var i = this._modelPool.add();
                            this._batchedModels.push(i), i.sortKey = this._sortKey++, i._cullingMask = this.cullingMask, i.setNode(this.node), i.setEffect(e), i.setInputAssembler(t), this._renderScene.addModel(i)
                        }
                    }
                }, terminate: function () {
                    for (var t in cc.dynamicAtlasManager && cc.dynamicAtlasManager.enabled && cc.dynamicAtlasManager.update(), this._flush(), d) d[t].uploadData();
                    this.walking = !1
                }, getBuffer: function (t, e) {
                    var i = t + e.getHash(), n = d[i];
                    if (!n) {
                        if ("mesh" === t) n = new h(this, e); else if ("quad" === t) n = new l(this, e); else {
                            if ("spine" !== t) return cc.error("Not support buffer type [" + t + "]"), null;
                            n = new u(this, e)
                        }
                        d[i] = n
                    }
                    return n
                }
            }, e.exports = v
        }), {
            "../../../renderer/core/input-assembler": 282,
            "../../../renderer/memop/recycle-pool": 307,
            "../../../renderer/scene/model": 314,
            "../../assets/material/CCMaterial": 91,
            "../../platform/id-generater": 184,
            "./mesh-buffer": 234,
            "./quad-buffer": 236,
            "./spine-buffer": 238,
            "./vertex-format": 239
        }],
        236: [(function (t, e) {
            "use strict";
            var i = t("./mesh-buffer"), n = cc.Class({
                name: "cc.QuadBuffer", extends: i, _fillQuadBuffer: function () {
                    for (var t = this._initIDataCount / 6, e = this._iData, i = 0, n = 0; i < t; i++) {
                        var r = 4 * i;
                        e[n++] = r, e[n++] = r + 1, e[n++] = r + 2, e[n++] = r + 1, e[n++] = r + 3, e[n++] = r + 2
                    }
                    var s = new Uint16Array(this._iData.buffer, 0, 6 * t);
                    this._ib.update(0, s)
                }, uploadData: function () {
                    if (0 !== this.byteOffset && this._dirty) {
                        var t = new Float32Array(this._vData.buffer, 0, this.byteOffset >> 2);
                        this._vb.update(0, t), this._dirty = !1
                    }
                }, switchBuffer: function () {
                    this._super();
                    var t = new Uint16Array(this._iData.buffer, 0, this._initIDataCount);
                    this._ib.update(0, t)
                }, _reallocBuffer: function () {
                    this._reallocVData(!0), this._reallocIData(), this._fillQuadBuffer()
                }
            });
            cc.QuadBuffer = e.exports = n
        }), {"./mesh-buffer": 234}],
        237: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = a;
            var n, r = (n = t("./flex-buffer")) && n.__esModule ? n : {default: n}, s = t("./vertex-format");

            function a() {
                this.vDatas = [], this.uintVDatas = [], this.iDatas = [], this.meshCount = 0, this._infos = null, this._flexBuffer = null
            }

            cc.js.mixin(a.prototype, {
                init: function () {
                }, clear: function () {
                    this.vDatas.length = 0, this.iDatas.length = 0, this.uintVDatas.length = 0, this.meshCount = 0, this._infos = null, this._flexBuffer && this._flexBuffer.reset()
                }, updateMesh: function (t, e, i) {
                    this.vDatas[t] = e, this.uintVDatas[t] = new Uint32Array(e.buffer, 0, e.length), this.iDatas[t] = i, this.meshCount = this.vDatas.length
                }, updateMeshRange: function () {
                }, createData: function (t, e, i) {
                    var n = new Float32Array(e), r = new Uint16Array(i);
                    this.updateMesh(t, n, r)
                }, createQuadData: function (t, e, i) {
                    this.createData(t, e, i), this.initQuadIndices(this.iDatas[t])
                }, createFlexData: function (t, e, i, n) {
                    n = n || s.vfmtPosUvColor, this._flexBuffer = new r.default(this, t, e, i, n)
                }, initQuadIndices: function (t) {
                    for (var e = t.length / 6, i = 0, n = 0; i < e; i++) {
                        var r = 4 * i;
                        t[n++] = r, t[n++] = r + 1, t[n++] = r + 2, t[n++] = r + 1, t[n++] = r + 3, t[n++] = r + 2
                    }
                }
            }), cc.RenderData = a, e.exports = i.default
        }), {"./flex-buffer": 233, "./vertex-format": 239}],
        238: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                name: "cc.SpineBuffer", extends: t("./mesh-buffer"), requestStatic: function (t, e) {
                    this.checkAndSwitchBuffer(t);
                    var i = this.byteOffset + t * this._vertexBytes, n = this.indiceOffset + e,
                        r = this._vData.byteLength, s = this._iData.length;
                    if (i > r || n > s) {
                        for (; r < i || s < n;) this._initVDataCount *= 2, this._initIDataCount *= 2, r = 4 * this._initVDataCount, s = this._initIDataCount;
                        this._reallocBuffer()
                    }
                    var a = this._offsetInfo;
                    a.vertexOffset = this.vertexOffset, a.indiceOffset = this.indiceOffset, a.byteOffset = this.byteOffset
                }, adjust: function (t, e) {
                    this.vertexOffset += t, this.indiceOffset += e, this.byteOffset = this.byteOffset + t * this._vertexBytes, this._dirty = !0
                }
            });
            cc.SpineBuffer = e.exports = i
        }), {"./mesh-buffer": 234}],
        239: [(function (t, e) {
            "use strict";
            var i, n = (i = t("../../../renderer/gfx")) && i.__esModule ? i : {default: i},
                r = new n.default.VertexFormat([{
                    name: n.default.ATTR_POSITION,
                    type: n.default.ATTR_TYPE_FLOAT32,
                    num: 3
                }, {name: n.default.ATTR_UV0, type: n.default.ATTR_TYPE_FLOAT32, num: 2}, {
                    name: n.default.ATTR_COLOR,
                    type: n.default.ATTR_TYPE_UINT8,
                    num: 4,
                    normalize: !0
                }]);
            r.name = "vfmt3D", n.default.VertexFormat.XYZ_UV_Color = r;
            var s = new n.default.VertexFormat([{
                name: n.default.ATTR_POSITION,
                type: n.default.ATTR_TYPE_FLOAT32,
                num: 2
            }, {name: n.default.ATTR_UV0, type: n.default.ATTR_TYPE_FLOAT32, num: 2}, {
                name: n.default.ATTR_COLOR,
                type: n.default.ATTR_TYPE_UINT8,
                num: 4,
                normalize: !0
            }]);
            s.name = "vfmtPosUvColor", n.default.VertexFormat.XY_UV_Color = s;
            var a = new n.default.VertexFormat([{
                name: n.default.ATTR_POSITION,
                type: n.default.ATTR_TYPE_FLOAT32,
                num: 2
            }, {name: n.default.ATTR_UV0, type: n.default.ATTR_TYPE_FLOAT32, num: 2}, {
                name: n.default.ATTR_COLOR,
                type: n.default.ATTR_TYPE_UINT8,
                num: 4,
                normalize: !0
            }, {name: n.default.ATTR_COLOR0, type: n.default.ATTR_TYPE_UINT8, num: 4, normalize: !0}]);
            a.name = "vfmtPosUvTwoColor", n.default.VertexFormat.XY_UV_Two_Color = a;
            var o = new n.default.VertexFormat([{
                name: n.default.ATTR_POSITION,
                type: n.default.ATTR_TYPE_FLOAT32,
                num: 2
            }, {name: n.default.ATTR_UV0, type: n.default.ATTR_TYPE_FLOAT32, num: 2}]);
            o.name = "vfmtPosUv", n.default.VertexFormat.XY_UV = o;
            var c = new n.default.VertexFormat([{
                name: n.default.ATTR_POSITION,
                type: n.default.ATTR_TYPE_FLOAT32,
                num: 2
            }, {name: n.default.ATTR_COLOR, type: n.default.ATTR_TYPE_UINT8, num: 4, normalize: !0}]);
            c.name = "vfmtPosColor", n.default.VertexFormat.XY_Color = c;
            var l = new n.default.VertexFormat([{
                name: n.default.ATTR_POSITION,
                type: n.default.ATTR_TYPE_FLOAT32,
                num: 2
            }]);
            l.name = "vfmtPos", n.default.VertexFormat.XY = l, e.exports = {
                vfmt3D: r,
                vfmtPosUvColor: s,
                vfmtPosUvTwoColor: a,
                vfmtPosUv: o,
                vfmtPosColor: c,
                vfmtPos: l
            }
        }), {"../../../renderer/gfx": 292}],
        240: [(function (t, e) {
            "use strict";
            t("../platform/CCSys");
            var i = /(\.[^\.\/\?\\]*)(\?.*)?$/, n = /((.*)(\/|\\|\\\\))?(.*?\..*$)?/, r = /[^\.\/]+\/\.\.\//;
            cc.path = {
                join: function () {
                    for (var t = arguments.length, e = "", i = 0; i < t; i++) e = (e + ("" === e ? "" : "/") + arguments[i]).replace(/(\/|\\\\)$/, "");
                    return e
                }, extname: function (t) {
                    var e = i.exec(t);
                    return e ? e[1] : ""
                }, mainFileName: function (t) {
                    if (t) {
                        var e = t.lastIndexOf(".");
                        if (-1 !== e) return t.substring(0, e)
                    }
                    return t
                }, basename: function (t, e) {
                    var i = t.indexOf("?");
                    i > 0 && (t = t.substring(0, i));
                    var n = /(\/|\\)([^\/\\]+)$/g.exec(t.replace(/(\/|\\)$/, ""));
                    if (!n) return t;
                    var r = n[2];
                    return e && t.substring(t.length - e.length).toLowerCase() === e.toLowerCase() ? r.substring(0, r.length - e.length) : r
                }, dirname: function (t) {
                    var e = n.exec(t);
                    return e ? e[2] : ""
                }, changeExtname: function (t, e) {
                    e = e || "";
                    var i = t.indexOf("?"), n = "";
                    return i > 0 && (n = t.substring(i), t = t.substring(0, i)), (i = t.lastIndexOf(".")) < 0 ? t + e + n : t.substring(0, i) + e + n
                }, changeBasename: function (t, e, i) {
                    if (0 === e.indexOf(".")) return this.changeExtname(t, e);
                    var n = t.indexOf("?"), r = "", s = i ? this.extname(t) : "";
                    return n > 0 && (r = t.substring(n), t = t.substring(0, n)), n = (n = t.lastIndexOf("/")) <= 0 ? 0 : n + 1, t.substring(0, n) + e + s + r
                }, _normalize: function (t) {
                    var e = t = String(t);
                    do {
                        e = t, t = t.replace(r, "")
                    } while (e.length !== t.length);
                    return t
                }, sep: cc.sys.os === cc.sys.OS_WINDOWS ? "\\" : "/", stripSep: function (t) {
                    return t.replace(/[\/\\]$/, "")
                }
            }, e.exports = cc.path
        }), {"../platform/CCSys": 176}],
        241: [(function (t, e) {
            "use strict";
            var i = function (t, e, i, n, r, s) {
                this.a = t, this.b = e, this.c = i, this.d = n, this.tx = r, this.ty = s
            };
            i.create = function (t, e, i, n, r, s) {
                return {a: t, b: e, c: i, d: n, tx: r, ty: s}
            }, i.identity = function () {
                return {a: 1, b: 0, c: 0, d: 1, tx: 0, ty: 0}
            }, i.clone = function (t) {
                return {a: t.a, b: t.b, c: t.c, d: t.d, tx: t.tx, ty: t.ty}
            }, i.concat = function (t, e, i) {
                var n = e.a, r = e.b, s = e.c, a = e.d, o = e.tx, c = e.ty;
                return t.a = n * i.a + r * i.c, t.b = n * i.b + r * i.d, t.c = s * i.a + a * i.c, t.d = s * i.b + a * i.d, t.tx = o * i.a + c * i.c + i.tx, t.ty = o * i.b + c * i.d + i.ty, t
            }, i.invert = function (t, e) {
                var i = e.a, n = e.b, r = e.c, s = e.d, a = 1 / (i * s - n * r), o = e.tx, c = e.ty;
                return t.a = a * s, t.b = -a * n, t.c = -a * r, t.d = a * i, t.tx = a * (r * c - s * o), t.ty = a * (n * o - i * c), t
            }, i.fromMat4 = function (t, e) {
                var i = e.m;
                return t.a = i[0], t.b = i[1], t.c = i[4], t.d = i[5], t.tx = i[12], t.ty = i[13], t
            }, i.transformVec2 = function (t, e, i, n) {
                var r, s;
                return void 0 === n ? (n = i, r = e.x, s = e.y) : (r = e, s = i), t.x = n.a * r + n.c * s + n.tx, t.y = n.b * r + n.d * s + n.ty, t
            }, i.transformSize = function (t, e, i) {
                return t.width = i.a * e.width + i.c * e.height, t.height = i.b * e.width + i.d * e.height, t
            }, i.transformRect = function (t, e, i) {
                var n = e.x, r = e.y, s = n + e.width, a = r + e.height, o = i.a * n + i.c * r + i.tx,
                    c = i.b * n + i.d * r + i.ty, l = i.a * s + i.c * r + i.tx, h = i.b * s + i.d * r + i.ty,
                    u = i.a * n + i.c * a + i.tx, f = i.b * n + i.d * a + i.ty, d = i.a * s + i.c * a + i.tx,
                    _ = i.b * s + i.d * a + i.ty, p = Math.min(o, l, u, d), v = Math.max(o, l, u, d),
                    g = Math.min(c, h, f, _), m = Math.max(c, h, f, _);
                return t.x = p, t.y = g, t.width = v - p, t.height = m - g, t
            }, i.transformObb = function (t, e, i, n, r, s) {
                var a = r.x, o = r.y, c = r.width, l = r.height, h = s.a * a + s.c * o + s.tx,
                    u = s.b * a + s.d * o + s.ty, f = s.a * c, d = s.b * c, _ = s.c * l, p = s.d * l;
                e.x = h, e.y = u, i.x = f + h, i.y = d + u, t.x = _ + h, t.y = p + u, n.x = f + _ + h, n.y = d + p + u
            }, cc.AffineTransform = e.exports = i
        }), {}],
        242: [(function (t, e) {
            "use strict";
            var i = t("../platform/CCObject").Flags, n = t("./misc"), r = t("../platform/js"),
                s = t("../platform/id-generater"), a = t("../event-manager"), o = t("../renderer/render-flow"),
                c = i.Destroying, l = i.DontDestroy, h = i.Deactivating, u = new s("Node");

            function f(t) {
                return t ? "string" == typeof t ? r.getClassByName(t) : t : (cc.errorID(3804), null)
            }

            function d(t, e) {
                if (e._sealed) for (var i = 0; i < t._components.length; ++i) {
                    var n = t._components[i];
                    if (n.constructor === e) return n
                } else for (var r = 0; r < t._components.length; ++r) {
                    var s = t._components[r];
                    if (s instanceof e) return s
                }
                return null
            }

            function _(t, e, i) {
                if (e._sealed) for (var n = 0; n < t._components.length; ++n) {
                    var r = t._components[n];
                    r.constructor === e && i.push(r)
                } else for (var s = 0; s < t._components.length; ++s) {
                    var a = t._components[s];
                    a instanceof e && i.push(a)
                }
            }

            function p(t, e) {
                for (var i = 0; i < t.length; ++i) {
                    var n = t[i], r = d(n, e);
                    if (r) return r;
                    if (n._children.length > 0 && (r = p(n._children, e))) return r
                }
                return null
            }

            function v(t, e, i) {
                for (var n = 0; n < t.length; ++n) {
                    var r = t[n];
                    _(r, e, i), r._children.length > 0 && v(r._children, e, i)
                }
            }

            var g = cc.Class({
                name: "cc._BaseNode",
                extends: cc.Object,
                properties: {
                    _parent: null,
                    _children: [],
                    _active: !0,
                    _components: [],
                    _prefab: null,
                    _persistNode: {
                        get: function () {
                            return (this._objFlags & l) > 0
                        }, set: function (t) {
                            t ? this._objFlags |= l : this._objFlags &= ~l
                        }
                    },
                    name: {
                        get: function () {
                            return this._name
                        }, set: function (t) {
                            this._name = t
                        }
                    },
                    uuid: {
                        get: function () {
                            return this._id
                        }
                    },
                    children: {
                        get: function () {
                            return this._children
                        }
                    },
                    childrenCount: {
                        get: function () {
                            return this._children.length
                        }
                    },
                    active: {
                        get: function () {
                            return this._active
                        }, set: function (t) {
                            if (t = !!t, this._active !== t) {
                                this._active = t;
                                var e = this._parent;
                                e && e._activeInHierarchy && cc.director._nodeActivator.activateNode(this, t)
                            }
                        }
                    },
                    activeInHierarchy: {
                        get: function () {
                            return this._activeInHierarchy
                        }
                    }
                },
                ctor: function (t) {
                    this._name = void 0 !== t ? t : "New Node", this._activeInHierarchy = !1, this._id = u.getNewId(), cc.director._scheduler && cc.director._scheduler.enableForTarget(this), this.__eventTargets = []
                },
                getParent: function () {
                    return this._parent
                },
                setParent: function (t) {
                    if (this._parent !== t) {
                        var e = this._parent;
                        if (this._parent = t || null, this._onSetParent(t), t && (a._setDirtyForNode(this), t._children.push(this), t.emit && t.emit("child-added", this), t._renderFlag |= o.FLAG_CHILDREN), e) {
                            if (!(e._objFlags & c)) {
                                var i = e._children.indexOf(this);
                                e._children.splice(i, 1), e.emit && e.emit("child-removed", this), this._onHierarchyChanged(e), 0 === e._children.length && (e._renderFlag &= ~o.FLAG_CHILDREN)
                            }
                        } else t && this._onHierarchyChanged(null)
                    }
                },
                attr: function (t) {
                    r.mixin(this, t)
                },
                getChildByUuid: function (t) {
                    if (!t) return cc.log("Invalid uuid"), null;
                    for (var e = this._children, i = 0, n = e.length; i < n; i++) if (e[i]._id === t) return e[i];
                    return null
                },
                getChildByName: function (t) {
                    if (!t) return cc.log("Invalid name"), null;
                    for (var e = this._children, i = 0, n = e.length; i < n; i++) if (e[i]._name === t) return e[i];
                    return null
                },
                addChild: function (t) {
                    cc.assertID(t, 1606), cc.assertID(null === t._parent, 1605), t.setParent(this)
                },
                insertChild: function (t, e) {
                    t.parent = this, t.setSiblingIndex(e)
                },
                getSiblingIndex: function () {
                    return this._parent ? this._parent._children.indexOf(this) : 0
                },
                setSiblingIndex: function (t) {
                    if (this._parent) if (this._parent._objFlags & h) cc.errorID(3821); else {
                        var e = this._parent._children;
                        t = -1 !== t ? t : e.length - 1;
                        var i = e.indexOf(this);
                        t !== i && (e.splice(i, 1), t < e.length ? e.splice(t, 0, this) : e.push(this), this._onSiblingIndexChanged && this._onSiblingIndexChanged(t))
                    }
                },
                walk: function (t, e) {
                    var i, n, r, s, a = cc._BaseNode, o = 1, c = a._stacks[a._stackId];
                    c || (c = [], a._stacks.push(c)), a._stackId++, c.length = 0, c[0] = this;
                    var l = null;
                    for (s = !1; o;) if (n = c[--o]) if (!s && t ? t(n) : s && e && e(n), c[o] = null, s) {
                        if (l === this._parent) break;
                        if (s = !1, i) if (i[++r]) c[o] = i[r], o++; else if (l && (c[o] = l, o++, s = !0, l._parent ? (r = (i = l._parent._children).indexOf(l), l = l._parent) : (l = null, i = null), r < 0)) break
                    } else n._children.length > 0 ? (l = n, i = n._children, r = 0, c[o] = i[r], o++) : (c[o] = n, o++, s = !0);
                    c.length = 0, a._stackId--
                },
                cleanup: function () {
                },
                removeFromParent: function (t) {
                    this._parent && (void 0 === t && (t = !0), this._parent.removeChild(this, t))
                },
                removeChild: function (t, e) {
                    this._children.indexOf(t) > -1 && ((e || void 0 === e) && t.cleanup(), t.parent = null)
                },
                removeAllChildren: function (t) {
                    var e = this._children;
                    void 0 === t && (t = !0);
                    for (var i = e.length - 1; i >= 0; i--) {
                        var n = e[i];
                        n && (t && n.cleanup(), n.parent = null)
                    }
                    this._children.length = 0
                },
                isChildOf: function (t) {
                    var e = this;
                    do {
                        if (e === t) return !0;
                        e = e._parent
                    } while (e);
                    return !1
                },
                getComponent: function (t) {
                    var e = f(t);
                    return e ? d(this, e) : null
                },
                getComponents: function (t) {
                    var e = f(t), i = [];
                    return e && _(this, e, i), i
                },
                getComponentInChildren: function (t) {
                    var e = f(t);
                    return e ? p(this._children, e) : null
                },
                getComponentsInChildren: function (t) {
                    var e = f(t), i = [];
                    return e && (_(this, e, i), v(this._children, e, i)), i
                },
                _checkMultipleComp: !1,
                addComponent: function (t) {
                    var e;
                    if ("string" == typeof t) {
                        if (!(e = r.getClassByName(t))) return cc.errorID(3807, t), cc._RFpeek() && cc.errorID(3808, t), null
                    } else {
                        if (!t) return cc.errorID(3804), null;
                        e = t
                    }
                    if ("function" != typeof e) return cc.errorID(3809), null;
                    if (!r.isChildClassOf(e, cc.Component)) return cc.errorID(3810), null;
                    var i = e._requireComponent;
                    if (i && !this.getComponent(i) && !this.addComponent(i)) return null;
                    var n = new e;
                    return n.node = this, this._components.push(n), this._activeInHierarchy && cc.director._nodeActivator.activateComp(n), n
                },
                _addComponentAt: !1,
                removeComponent: function (t) {
                    t ? (t instanceof cc.Component || (t = this.getComponent(t)), t && t.destroy()) : cc.errorID(3813)
                },
                _getDependComponent: !1,
                _removeComponent: function (t) {
                    if (t) {
                        if (!(this._objFlags & c)) {
                            var e = this._components.indexOf(t);
                            -1 !== e ? this._components.splice(e, 1) : t.node !== this && cc.errorID(3815)
                        }
                    } else cc.errorID(3814)
                },
                destroy: function () {
                    cc.Object.prototype.destroy.call(this) && (this.active = !1)
                },
                destroyAllChildren: function () {
                    for (var t = this._children, e = 0; e < t.length; ++e) t[e].destroy()
                },
                _onSetParent: function () {
                },
                _onPostActivated: function () {
                },
                _onBatchCreated: function () {
                },
                _onHierarchyChanged: function () {
                    var t = this._parent;
                    !this._persistNode || t instanceof cc.Scene || cc.game.removePersistRootNode(this);
                    var e = this._active && !(!t || !t._activeInHierarchy);
                    this._activeInHierarchy !== e && cc.director._nodeActivator.activateNode(this, e)
                },
                _instantiate: function (t, e) {
                    return t || (t = cc.instantiate._clone(this, this)), t._prefab, t._parent = null, t._onBatchCreated(e), t
                },
                _registerIfAttached: !1,
                _onPreDestroy: function () {
                    var t, e;
                    this._objFlags |= c;
                    var i = this._parent, n = i && i._objFlags & c, r = this._children;
                    for (t = 0, e = r.length; t < e; ++t) r[t]._destroyImmediate();
                    for (t = 0, e = this._components.length; t < e; ++t) this._components[t]._destroyImmediate();
                    var s = this.__eventTargets;
                    for (t = 0, e = s.length; t < e; ++t) {
                        var a = s[t];
                        a && a.targetOff(this)
                    }
                    if (s.length = 0, this._persistNode && cc.game.removePersistRootNode(this), !n && i) {
                        var o = i._children.indexOf(this);
                        i._children.splice(o, 1), i.emit && i.emit("child-removed", this)
                    }
                    return n
                },
                onRestore: !1
            });
            g.idGenerater = u, g._stacks = [[]], g._stackId = 0, g.prototype._onPreDestroyBase = g.prototype._onPreDestroy, g.prototype._onHierarchyChangedBase = g.prototype._onHierarchyChanged, n.propertyDefine(g, ["parent", "name", "children", "childrenCount"], {}), cc._BaseNode = e.exports = g
        }), {
            "../event-manager": 138,
            "../platform/CCObject": 173,
            "../platform/id-generater": 184,
            "../platform/js": 188,
            "../renderer/render-flow": 200,
            "./misc": 250
        }],
        243: [(function (t, e) {
            "use strict";
            e.exports = {
                binarySearchEpsilon: function (t, e) {
                    for (var i = 0, n = t.length - 1, r = n >>> 1; i <= n; r = i + n >>> 1) {
                        var s = t[r];
                        if (s > e + 1e-6) n = r - 1; else {
                            if (!(s < e - 1e-6)) return r;
                            i = r + 1
                        }
                    }
                    return ~i
                }
            }
        }), {}],
        244: [(function (t, e) {
            "use strict";
            var i = t("../components/CCRenderComponent"), n = t("../platform/CCMacro").BlendFactor,
                r = t("../../renderer/gfx"), s = cc.Class({
                    properties: {
                        _srcBlendFactor: n.SRC_ALPHA,
                        _dstBlendFactor: n.ONE_MINUS_SRC_ALPHA,
                        srcBlendFactor: {
                            get: function () {
                                return this._srcBlendFactor
                            }, set: function (t) {
                                this._srcBlendFactor !== t && (this._srcBlendFactor = t, this._updateBlendFunc(!0), this._onBlendChanged && this._onBlendChanged())
                            }, animatable: !1, type: n, tooltip: !1, visible: !0
                        },
                        dstBlendFactor: {
                            get: function () {
                                return this._dstBlendFactor
                            }, set: function (t) {
                                this._dstBlendFactor !== t && (this._dstBlendFactor = t, this._updateBlendFunc(!0))
                            }, animatable: !1, type: n, tooltip: !1, visible: !0
                        }
                    }, setMaterial: function (t, e) {
                        var r = i.prototype.setMaterial.call(this, t, e);
                        return this._srcBlendFactor === n.SRC_ALPHA && this._dstBlendFactor === n.ONE_MINUS_SRC_ALPHA || this._updateMaterialBlendFunc(r), r
                    }, _updateMaterial: function () {
                        this._updateBlendFunc()
                    }, _updateBlendFunc: function (t) {
                        if (t || this._srcBlendFactor !== n.SRC_ALPHA || this._dstBlendFactor !== n.ONE_MINUS_SRC_ALPHA) for (var e = this.getMaterials(), i = 0; i < e.length; i++) {
                            var r = e[i];
                            this._updateMaterialBlendFunc(r)
                        }
                    }, _updateMaterialBlendFunc: function (t) {
                        t.setBlend(!0, r.BLEND_FUNC_ADD, this._srcBlendFactor, this._dstBlendFactor, r.BLEND_FUNC_ADD, this._srcBlendFactor, this._dstBlendFactor)
                    }
                });
            e.exports = cc.BlendFunc = s
        }), {"../../renderer/gfx": 292, "../components/CCRenderComponent": 117, "../platform/CCMacro": 172}],
        245: [(function (t, e) {
            "use strict";
            var i = t("./misc").BASE64_VALUES, n = "0123456789abcdef".split(""), r = ["", "", "", ""],
                s = r.concat(r, "-", r, "-", r, "-", r, "-", r, r, r), a = s.map((function (t, e) {
                    return "-" === t ? NaN : e
                })).filter(isFinite);
            e.exports = function (t) {
                if (22 !== t.length) return t;
                s[0] = t[0], s[1] = t[1];
                for (var e = 2, r = 2; e < 22; e += 2) {
                    var o = i[t.charCodeAt(e)], c = i[t.charCodeAt(e + 1)];
                    s[a[r++]] = n[o >> 2], s[a[r++]] = n[(3 & o) << 2 | c >> 4], s[a[r++]] = n[15 & c]
                }
                return s.join("")
            }
        }), {"./misc": 250}],
        246: [(function (t, e) {
            "use strict";
            cc.find = e.exports = function (t, e) {
                if (null == t) return cc.errorID(3814), null;
                if (e) ; else {
                    var i = cc.director.getScene();
                    if (!i) return null;
                    e = i
                }
                for (var n = e, r = "/" !== t[0] ? 0 : 1, s = t.split("/"), a = r; a < s.length; a++) {
                    var o = s[a], c = n._children;
                    n = null;
                    for (var l = 0, h = c.length; l < h; ++l) {
                        var u = c[l];
                        if (u.name === o) {
                            n = u;
                            break
                        }
                    }
                    if (!n) return null
                }
                return n
            }
        }), {}],
        247: [(function (t, e) {
            "use strict";
            var i, n = (i = t("../assets/material/material-variant")) && i.__esModule ? i : {default: i},
                r = t("../assets/material/CCMaterial"), s = cc.Class({
                    properties: {
                        _normalMaterial: null, normalMaterial: {
                            get: function () {
                                return this._normalMaterial
                            }, set: function (t) {
                                this._normalMaterial = t, this._updateDisabledState && this._updateDisabledState()
                            }, type: r, tooltip: !1, animatable: !1
                        }, _grayMaterial: null, grayMaterial: {
                            get: function () {
                                return this._grayMaterial
                            }, set: function (t) {
                                this._grayMaterial = t, this._updateDisabledState && this._updateDisabledState()
                            }, type: r, tooltip: !1, animatable: !1
                        }
                    }, _switchGrayMaterial: function (t, e) {
                        var i;
                        t ? ((i = this._grayMaterial) || (i = r.getBuiltinMaterial("2d-gray-sprite")), i = this._grayMaterial = n.default.create(i, e)) : ((i = this._normalMaterial) || (i = r.getBuiltinMaterial("2d-sprite", e)), i = this._normalMaterial = n.default.create(i, e)), e.setMaterial(0, i)
                    }
                });
            e.exports = s
        }), {"../assets/material/CCMaterial": 91, "../assets/material/material-variant": 98}],
        248: [(function (t, e) {
            "use strict";
            var i = /^(click)(\s)*=|(param)(\s)*=/,
                n = /(\s)*src(\s)*=|(\s)*height(\s)*=|(\s)*width(\s)*=|(\s)*align(\s)*=|(\s)*offset(\s)*=|(\s)*click(\s)*=|(\s)*param(\s)*=/,
                r = function () {
                    this._parsedObject = {}, this._specialSymbolArray = [], this._specialSymbolArray.push([/&lt;/g, "<"]), this._specialSymbolArray.push([/&gt;/g, ">"]), this._specialSymbolArray.push([/&amp;/g, "&"]), this._specialSymbolArray.push([/&quot;/g, '"']), this._specialSymbolArray.push([/&apos;/g, "'"]), this._specialSymbolArray.push([/&nbsp;/g, " "])
                };
            r.prototype = {
                constructor: r, parse: function (t) {
                    if (this._resultObjectArray = [], !t) return this._resultObjectArray;
                    this._stack = [];
                    for (var e = 0, i = t.length; e < i;) {
                        var n = t.indexOf(">", e), r = -1;
                        if (n >= 0 && (r = t.lastIndexOf("<", n)) < e - 1 && (r = t.indexOf("<", n + 1), n = t.indexOf(">", r + 1)), r < 0) this._stack.pop(), this._processResult(t.substring(e)), e = i; else {
                            var s = t.substring(e, r), a = t.substring(r + 1, n);
                            "" === a && (s = t.substring(e, n + 1)), this._processResult(s), -1 === n ? n = r : "/" === t.charAt(r + 1) ? this._stack.pop() : this._addToStack(a), e = n + 1
                        }
                    }
                    return this._resultObjectArray
                }, _attributeToObject: function (t) {
                    var e, i, r, s, a = {}, o = (t = t.trim()).match(/^(color|size)(\s)*=/);
                    if (o) {
                        if (e = o[0], "" === (t = t.substring(e.length).trim())) return a;
                        switch (i = t.indexOf(" "), e[0]) {
                            case"c":
                                a.color = i > -1 ? t.substring(0, i).trim() : t;
                                break;
                            case"s":
                                a.size = parseInt(t)
                        }
                        return i > -1 && (s = t.substring(i + 1).trim(), r = this._processEventHandler(s), a.event = r), a
                    }
                    if ((o = t.match(/^(br(\s)*\/)/)) && o[0].length > 0 && (e = o[0].trim()).startsWith("br") && "/" === e[e.length - 1]) return a.isNewLine = !0, this._resultObjectArray.push({
                        text: "",
                        style: {newline: !0}
                    }), a;
                    if ((o = t.match(/^(img(\s)*src(\s)*=[^>]+\/)/)) && o[0].length > 0 && (e = o[0].trim()).startsWith("img") && "/" === e[e.length - 1]) {
                        var c;
                        o = t.match(n);
                        for (var l = !1; o;) {
                            if (e = (t = t.substring(t.indexOf(o[0]))).substr(0, o[0].length), u = (i = (c = t.substring(e.length).trim()).indexOf(" ")) > -1 ? c.substr(0, i) : c, e = (e = e.replace(/[^a-zA-Z]/g, "").trim()).toLocaleLowerCase(), t = c.substring(i).trim(), u.endsWith("/") && (u = u.slice(0, -1)), "src" === e) {
                                switch (u.charCodeAt(0)) {
                                    case 34:
                                    case 39:
                                        l = !0, u = u.slice(1, -1)
                                }
                                a.isImage = !0, a.src = u
                            } else if ("height" === e) a.imageHeight = parseInt(u); else if ("width" === e) a.imageWidth = parseInt(u); else if ("align" === e) {
                                switch (u.charCodeAt(0)) {
                                    case 34:
                                    case 39:
                                        u = u.slice(1, -1)
                                }
                                a.imageAlign = u.toLocaleLowerCase()
                            } else "offset" === e ? a.imageOffset = u : "click" === e && (a.event = this._processEventHandler(e + "=" + u));
                            a.event && "param" === e && (a.event.param = u.replace(/^\"|\"$/g, "")), o = t.match(n)
                        }
                        return l && a.isImage && this._resultObjectArray.push({text: "", style: a}), {}
                    }
                    if (o = t.match(/^(outline(\s)*[^>]*)/)) {
                        var h = {color: "#ffffff", width: 1};
                        if (t = o[0].substring("outline".length).trim()) {
                            var u, f = /(\s)*color(\s)*=|(\s)*width(\s)*=|(\s)*click(\s)*=|(\s)*param(\s)*=/;
                            for (o = t.match(f); o;) e = (t = t.substring(t.indexOf(o[0]))).substr(0, o[0].length), u = (i = (c = t.substring(e.length).trim()).indexOf(" ")) > -1 ? c.substr(0, i) : c, e = (e = e.replace(/[^a-zA-Z]/g, "").trim()).toLocaleLowerCase(), t = c.substring(i).trim(), "click" === e ? a.event = this._processEventHandler(e + "=" + u) : "color" === e ? h.color = u : "width" === e && (h.width = parseInt(u)), a.event && "param" === e && (a.event.param = u.replace(/^\"|\"$/g, "")), o = t.match(f)
                        }
                        a.outline = h
                    }
                    if ((o = t.match(/^(on|u|b|i)(\s)*/)) && o[0].length > 0) {
                        switch (e = o[0], t = t.substring(e.length).trim(), e[0]) {
                            case"u":
                                a.underline = !0;
                                break;
                            case"i":
                                a.italic = !0;
                                break;
                            case"b":
                                a.bold = !0
                        }
                        if ("" === t) return a;
                        r = this._processEventHandler(t), a.event = r
                    }
                    return a
                }, _processEventHandler: function (t) {
                    for (var e = 0, n = {}, r = t.match(i), s = !1; r;) {
                        var a = r[0], o = "";
                        if (s = !1, '"' === (t = t.substring(a.length).trim()).charAt(0)) (e = t.indexOf('"', 1)) > -1 && (o = t.substring(1, e).trim(), s = !0), e++; else if ("'" === t.charAt(0)) (e = t.indexOf("'", 1)) > -1 && (o = t.substring(1, e).trim(), s = !0), e++; else {
                            var c = t.match(/(\S)+/);
                            e = (o = c ? c[0] : "").length
                        }
                        s && (n[a = a.substring(0, a.length - 1).trim()] = o), r = (t = t.substring(e).trim()).match(i)
                    }
                    return n
                }, _addToStack: function (t) {
                    var e = this._attributeToObject(t);
                    if (0 === this._stack.length) this._stack.push(e); else {
                        if (e.isNewLine || e.isImage) return;
                        var i = this._stack[this._stack.length - 1];
                        for (var n in i) e[n] || (e[n] = i[n]);
                        this._stack.push(e)
                    }
                }, _processResult: function (t) {
                    "" !== t && (t = this._escapeSpecialSymbol(t), this._stack.length > 0 ? this._resultObjectArray.push({
                        text: t,
                        style: this._stack[this._stack.length - 1]
                    }) : this._resultObjectArray.push({text: t}))
                }, _escapeSpecialSymbol: function (t) {
                    for (var e = 0; e < this._specialSymbolArray.length; ++e) {
                        var i = this._specialSymbolArray[e][0], n = this._specialSymbolArray[e][1];
                        t = t.replace(i, n)
                    }
                    return t
                }
            }, cc.HtmlTextParser = e.exports = r
        }), {}],
        249: [(function (t) {
            "use strict";
            t("./CCPath"), t("./profiler/CCProfiler"), t("./find"), t("./mutable-forward-iterator"), t("./html-text-parser")
        }), {
            "./CCPath": 240,
            "./find": 246,
            "./html-text-parser": 248,
            "./mutable-forward-iterator": 251,
            "./profiler/CCProfiler": 254
        }],
        250: [(function (t, e) {
            "use strict";
            for (var i = t("../platform/js"), n = {
                propertyDefine: function (t, e, n) {
                    function r(t, e, n, r) {
                        var s = Object.getOwnPropertyDescriptor(t, e);
                        if (s) s.get && (t[n] = s.get), s.set && r && (t[r] = s.set); else {
                            var a = t[n];
                            i.getset(t, e, a, t[r])
                        }
                    }

                    for (var s, a = t.prototype, o = 0; o < e.length; o++) {
                        var c = (s = e[o])[0].toUpperCase() + s.slice(1);
                        r(a, s, "get" + c, "set" + c)
                    }
                    for (s in n) {
                        var l = n[s];
                        r(a, s, l[0], l[1])
                    }
                }, NextPOT: function (t) {
                    return t -= 1, t |= t >> 1, t |= t >> 2, t |= t >> 4, t |= t >> 8, 1 + (t |= t >> 16)
                }, BUILTIN_CLASSID_RE: /^(?:cc|dragonBones|sp|ccsg)\..+/
            }, r = new Array(123), s = 0; s < 123; ++s) r[s] = 64;
            for (var a = 0; a < 64; ++a) r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charCodeAt(a)] = a;
            n.BASE64_VALUES = r, n.pushToMap = function (t, e, i, n) {
                var r = t[e];
                r ? Array.isArray(r) ? n ? (r.push(r[0]), r[0] = i) : r.push(i) : t[e] = n ? [i, r] : [r, i] : t[e] = i
            }, n.clampf = function (t, e, i) {
                if (e > i) {
                    var n = e;
                    e = i, i = n
                }
                return t < e ? e : t < i ? t : i
            }, n.clamp01 = function (t) {
                return t < 0 ? 0 : t < 1 ? t : 1
            }, n.lerp = function (t, e, i) {
                return t + (e - t) * i
            }, n.degreesToRadians = function (t) {
                return t * cc.macro.RAD
            }, n.radiansToDegrees = function (t) {
                return t * cc.macro.DEG
            }, cc.misc = e.exports = n
        }), {"../platform/js": 188}],
        251: [(function (t, e) {
            "use strict";

            function i(t) {
                this.i = 0, this.array = t
            }

            var n = i.prototype;
            n.remove = function (t) {
                var e = this.array.indexOf(t);
                e >= 0 && this.removeAt(e)
            }, n.removeAt = function (t) {
                this.array.splice(t, 1), t <= this.i && --this.i
            }, n.fastRemove = function (t) {
                var e = this.array.indexOf(t);
                e >= 0 && this.fastRemoveAt(e)
            }, n.fastRemoveAt = function (t) {
                var e = this.array;
                e[t] = e[e.length - 1], --e.length, t <= this.i && --this.i
            }, n.push = function (t) {
                this.array.push(t)
            }, e.exports = i
        }), {}],
        252: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = (function () {
                function t() {
                    this.enabled = !1, this.count = 0, this.maxSize = 1024
                }

                var e = t.prototype;
                return e.get = function () {
                }, e.put = function () {
                }, e.clear = function () {
                }, t
            })();
            i.default = n, cc.pool = {}, n.register = function (t, e) {
                cc.pool[t] = e
            }, e.exports = i.default
        }), {}],
        253: [(function (t, e) {
            "use strict";
            cc._PrefabInfo = cc.Class({
                name: "cc.PrefabInfo",
                properties: {root: null, asset: null, fileId: "", sync: !1}
            }), e.exports = {
                syncWithPrefab: function (t) {
                    var e = t._prefab;
                    if (!e.asset) return cc.errorID(3701, t.name), void (t._prefab = null);
                    var i = t._objFlags, n = t._parent, r = t._id, s = t._name, a = t._active, o = t._eulerAngles.x,
                        c = t._eulerAngles.y, l = t._eulerAngles.z, h = t._localZOrder, u = t._trs, f = u[0], d = u[1],
                        _ = u[2];
                    cc.game._isCloning = !0;
                    var p = e.asset.data;
                    p._iN$t = t, cc.instantiate._clone(p, p), cc.game._isCloning = !1, t._objFlags = i, t._parent = n, t._id = r, t._prefab = e, t._name = s, t._active = a, t._localZOrder = h, (u = t._trs)[0] = f, u[1] = d, u[2] = _, t._eulerAngles.x = o, t._eulerAngles.y = c, t._eulerAngles.z = l
                }
            }
        }), {}],
        254: [(function (t, e) {
            "use strict";
            var i = t("../../platform/CCMacro"), n = t("./perf-counter"), r = !1, s = 15, a = null, o = null, c = null;

            function l() {
                if (!a) {
                    a = {
                        fps: {desc: "Framerate (FPS)", below: 30, average: 500},
                        draws: {desc: "Draw Call"},
                        frame: {desc: "Frame time (ms)", min: 0, max: 50, average: 500},
                        logic: {desc: "Game Logic (ms)", min: 0, max: 50, average: 500, color: "#080"},
                        render: {desc: "Renderer (ms)", min: 0, max: 50, average: 500, color: "#f90"},
                        mode: {desc: cc.game.renderType === cc.game.RENDER_TYPE_WEBGL ? "WebGL" : "Canvas", min: 1}
                    };
                    var t = performance.now();
                    for (var e in a) a[e]._counter = new n(e, a[e], t)
                }
            }

            function h() {
                if (!o || !o.isValid) {
                    (o = new cc.Node("PROFILER-NODE")).x = o.y = 10, o.groupIndex = cc.Node.BuiltinGroupIndex.DEBUG, cc.Camera._setupDebugCamera(), o.zIndex = i.MAX_ZINDEX, cc.game.addPersistRootNode(o);
                    var t = new cc.Node("LEFT-PANEL");
                    t.anchorX = t.anchorY = 0;
                    var e = t.addComponent(cc.Label);
                    e.fontSize = s, e.lineHeight = s, t.parent = o;
                    var n = new cc.Node("RIGHT-PANEL");
                    n.anchorX = 1, n.anchorY = 0, n.x = 200;
                    var r = n.addComponent(cc.Label);
                    r.horizontalAlign = cc.Label.HorizontalAlign.RIGHT, r.fontSize = s, r.lineHeight = s, n.parent = o, cc.sys.platform !== cc.sys.BAIDU_GAME_SUB && cc.sys.platform !== cc.sys.WECHAT_GAME_SUB && (e.cacheMode = cc.Label.CacheMode.CHAR, r.cacheMode = cc.Label.CacheMode.CHAR), c = {
                        left: e,
                        right: r
                    }
                }
            }

            function u() {
                h();
                var t = cc.director._lastUpdate;
                a.frame._counter.start(t), a.logic._counter.start(t)
            }

            function f() {
                var t = performance.now();
                cc.director.isPaused() ? a.frame._counter.start(t) : a.logic._counter.end(t), a.render._counter.start(t)
            }

            function d() {
                var t = performance.now();
                a.render._counter.end(t), a.draws._counter.value = cc.renderer.drawCalls, a.frame._counter.end(t), a.fps._counter.frame(t);
                var e = "", i = "";
                for (var n in a) {
                    var r = a[n];
                    r._counter.sample(t), e += r.desc + "\n", i += r._counter.human() + "\n"
                }
                c && (c.left.string = e, c.right.string = i)
            }

            cc.profiler = e.exports = {
                isShowingStats: function () {
                    return r
                }, hideStats: function () {
                    r && (o && (o.active = !1), cc.director.off(cc.Director.EVENT_BEFORE_UPDATE, u), cc.director.off(cc.Director.EVENT_AFTER_UPDATE, f), cc.director.off(cc.Director.EVENT_AFTER_DRAW, d), r = !1)
                }, showStats: function () {
                    r || (l(), o && (o.active = !0), cc.director.on(cc.Director.EVENT_BEFORE_UPDATE, u), cc.director.on(cc.Director.EVENT_AFTER_UPDATE, f), cc.director.on(cc.Director.EVENT_AFTER_DRAW, d), r = !0)
                }
            }
        }), {"../../platform/CCMacro": 172, "./perf-counter": 256}],
        255: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                name: "cc.Counter", ctor: function (t, e, i) {
                    this._id = t, this._opts = e || {}, this._value = 0, this._total = 0, this._averageValue = 0, this._accumValue = 0, this._accumSamples = 0, this._accumStart = i
                }, properties: {
                    value: {
                        get: function () {
                            return this._value
                        }, set: function (t) {
                            this._value = t
                        }
                    }
                }, _average: function (t, e) {
                    if (this._opts.average) {
                        this._accumValue += t, ++this._accumSamples;
                        var i = e;
                        i - this._accumStart >= this._opts.average && (this._averageValue = this._accumValue / this._accumSamples, this._accumValue = 0, this._accumStart = i, this._accumSamples = 0)
                    }
                }, sample: function (t) {
                    this._average(this._value, t)
                }, human: function () {
                    var t = this._opts.average ? this._averageValue : this._value;
                    return Math.round(100 * t) / 100
                }, alarm: function () {
                    return this._opts.below && this._value < this._opts.below || this._opts.over && this._value > this._opts.over
                }
            });
            e.exports = i
        }), {}],
        256: [(function (t, e) {
            "use strict";
            var i = t("./counter"), n = cc.Class({
                name: "cc.PerfCounter", extends: i, ctor: function (t, e, i) {
                    this._time = i
                }, start: function (t) {
                    this._time = t
                }, end: function (t) {
                    this._value = t - this._time, this._average(this._value)
                }, tick: function () {
                    this.end(), this.start()
                }, frame: function (t) {
                    var e = t, i = e - this._time;
                    this._total++, i > (this._opts.average || 1e3) && (this._value = 1e3 * this._total / i, this._total = 0, this._time = e, this._average(this._value))
                }
            });
            e.exports = n
        }), {"./counter": 255}],
        257: [(function (t, e) {
            "use strict";
            var i, n = new (((i = t("../platform/js")) && i.__esModule ? i : {default: i}).default.Pool)(2);

            function r(t) {
                this.count = 0, this.limit = t, this.datas = {}, this.head = null, this.tail = null
            }

            n.get = function () {
                return this._get() || {key: null, value: null, prev: null, next: null}
            }, r.prototype.moveToHead = function (t) {
                t.next = this.head, t.prev = null, null !== this.head && (this.head.prev = t), this.head = t, null === this.tail && (this.tail = t), this.count++, this.datas[t.key] = t
            }, r.prototype.put = function (t, e) {
                var i = n.get();
                if (i.key = t, i.value = e, this.count >= this.limit) {
                    var r = this.tail;
                    delete this.datas[r.key], this.count--, this.tail = r.prev, this.tail.next = null, r.prev = null, r.next = null, n.put(r)
                }
                this.moveToHead(i)
            }, r.prototype.remove = function (t) {
                null !== t.prev ? t.prev.next = t.next : this.head = t.next, null !== t.next ? t.next.prev = t.prev : this.tail = t.prev, delete this.datas[t.key], this.count--
            }, r.prototype.get = function (t) {
                var e = this.datas[t];
                return e ? (this.remove(e), this.moveToHead(e), e.value) : null
            }, r.prototype.clear = function () {
                this.count = 0, this.datas = {}, this.head = null, this.tail = null
            }, r.prototype.has = function (t) {
                return !!this.datas[t]
            }, r.prototype.delete = function (t) {
                var e = this.datas[t];
                this.remove(e)
            };
            var s = new r(100), a = {
                BASELINE_RATIO: .26,
                MIDDLE_RATIO: .37,
                BASELINE_OFFSET: 0,
                label_wordRex: /([a-zA-Z0-9\xc4\xd6\xdc\xe4\xf6\xfc\xdf\xe9\xe8\xe7\xe0\xf9\xea\xe2\xee\xf4\xfb\u0430-\u044f\u0410-\u042f\u0401\u0451]+|\S)/,
                label_symbolRex: /^[!,.:;'}\]%\?>\u3001\u2018\u201c\u300b\uff1f\u3002\uff0c\uff01]/,
                label_lastWordRex: /([a-zA-Z0-9\xc4\xd6\xdc\xe4\xf6\xfc\xdf\xe9\xe8\xe7\xe0\xf9\xea\xe2\xee\xf4\xfb\u0430\xed\xec\xcd\xcc\xef\xc1\xc0\xe1\xe0\xc9\xc8\xd2\xd3\xf2\xf3\u0150\u0151\xd9\xda\u0170\xfa\u0171\xf1\xd1\xe6\xc6\u0153\u0152\xc3\xc2\xe3\xd4\xf5\u011b\u0161\u010d\u0159\u017e\xfd\xe1\xed\xe9\xf3\xfa\u016f\u0165\u010f\u0148\u011a\u0160\u010c\u0158\u017d\xc1\xcd\xc9\xd3\xda\u0164\u017c\u017a\u015b\xf3\u0144\u0142\u0119\u0107\u0105\u017b\u0179\u015a\xd3\u0143\u0141\u0118\u0106\u0104-\u044f\u0410-\u042f\u0401\u0451]+|\S)$/,
                label_lastEnglish: /[a-zA-Z0-9\xc4\xd6\xdc\xe4\xf6\xfc\xdf\xe9\xe8\xe7\xe0\xf9\xea\xe2\xee\xf4\xfb\u0430\xed\xec\xcd\xcc\xef\xc1\xc0\xe1\xe0\xc9\xc8\xd2\xd3\xf2\xf3\u0150\u0151\xd9\xda\u0170\xfa\u0171\xf1\xd1\xe6\xc6\u0153\u0152\xc3\xc2\xe3\xd4\xf5\u011b\u0161\u010d\u0159\u017e\xfd\xe1\xed\xe9\xf3\xfa\u016f\u0165\u010f\u0148\u011a\u0160\u010c\u0158\u017d\xc1\xcd\xc9\xd3\xda\u0164\u017c\u017a\u015b\xf3\u0144\u0142\u0119\u0107\u0105\u017b\u0179\u015a\xd3\u0143\u0141\u0118\u0106\u0104-\u044f\u0410-\u042f\u0401\u0451]+$/,
                label_firstEnglish: /^[a-zA-Z0-9\xc4\xd6\xdc\xe4\xf6\xfc\xdf\xe9\xe8\xe7\xe0\xf9\xea\xe2\xee\xf4\xfb\u0430\xed\xec\xcd\xcc\xef\xc1\xc0\xe1\xe0\xc9\xc8\xd2\xd3\xf2\xf3\u0150\u0151\xd9\xda\u0170\xfa\u0171\xf1\xd1\xe6\xc6\u0153\u0152\xc3\xc2\xe3\xd4\xf5\u011b\u0161\u010d\u0159\u017e\xfd\xe1\xed\xe9\xf3\xfa\u016f\u0165\u010f\u0148\u011a\u0160\u010c\u0158\u017d\xc1\xcd\xc9\xd3\xda\u0164\u017c\u017a\u015b\xf3\u0144\u0142\u0119\u0107\u0105\u017b\u0179\u015a\xd3\u0143\u0141\u0118\u0106\u0104-\u044f\u0410-\u042f\u0401\u0451]/,
                highSurrogateRex: /[\uD800-\uDBFF]/,
                lowSurrogateRex: /[\uDC00-\uDFFF]/,
                label_wrapinspection: !0,
                __CHINESE_REG: /^[\u4E00-\u9FFF\u3400-\u4DFF]+$/,
                __JAPANESE_REG: /[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]|[\u4E00-\u9FAF]|[\u2605-\u2606]|[\u2190-\u2195]|\u203B/g,
                __KOREAN_REG: /^[\u1100-\u11FF]|[\u3130-\u318F]|[\uA960-\uA97F]|[\uAC00-\uD7AF]|[\uD7B0-\uD7FF]+$/,
                isUnicodeCJK: function (t) {
                    return this.__CHINESE_REG.test(t) || this.__JAPANESE_REG.test(t) || this.__KOREAN_REG.test(t)
                },
                isUnicodeSpace: function (t) {
                    return (t = t.charCodeAt(0)) >= 9 && t <= 13 || 32 === t || 133 === t || 160 === t || 5760 === t || t >= 8192 && t <= 8202 || 8232 === t || 8233 === t || 8239 === t || 8287 === t || 12288 === t
                },
                safeMeasureText: function (t, e, i) {
                    var n = (i || t.font) + "\ud83c\udfae" + e, r = s.get(n);
                    if (null !== r) return r;
                    var a = t.measureText(e), o = a && a.width || 0;
                    return s.put(n, o), o
                },
                _safeSubstring: function (t, e, i) {
                    var n = e, r = i, s = t[e];
                    if (this.lowSurrogateRex.test(s) && n--, void 0 !== i) if (i - 1 !== e) {
                        var a = t[i - 1];
                        this.highSurrogateRex.test(a) && r--
                    } else this.highSurrogateRex.test(s) && r++;
                    return t.substring(n, r)
                },
                fragmentText: function (t, e, i, n) {
                    var r = [];
                    if (0 === t.length || i < 0) return r.push(""), r;
                    for (var s = t; e > i && s.length > 1;) {
                        for (var a = s.length * (i / e) | 0, o = this._safeSubstring(s, a), c = e - n(o), l = o, h = 0, u = 0; c > i && u++ < 10;) a *= i / c, a |= 0, c = e - n(o = this._safeSubstring(s, a));
                        for (u = 0; c <= i && u++ < 10;) {
                            if (o) {
                                var f = this.label_wordRex.exec(o);
                                h = f ? f[0].length : 1, l = o
                            }
                            a += h, c = e - n(o = this._safeSubstring(s, a))
                        }
                        0 == (a -= h) ? (a = 1, l = this._safeSubstring(s, 1)) : 1 === a && this.highSurrogateRex.test(s[0]) && (a = 2, l = this._safeSubstring(s, 2));
                        var d, _ = this._safeSubstring(s, 0, a);
                        this.label_wrapinspection && this.label_symbolRex.test(l || o) && (0 == (a -= (d = this.label_lastWordRex.exec(_)) ? d[0].length : 0) && (a = 1), l = this._safeSubstring(s, a), _ = this._safeSubstring(s, 0, a)), this.label_firstEnglish.test(l) && (d = this.label_lastEnglish.exec(_)) && _ !== d[0] && (a -= d[0].length, l = this._safeSubstring(s, a), _ = this._safeSubstring(s, 0, a)), 0 === r.length ? r.push(_) : (_ = _.trimLeft()).length > 0 && r.push(_), e = n(s = l || o)
                    }
                    return 0 === r.length ? r.push(s) : (s = s.trimLeft()).length > 0 && r.push(s), r
                }
            };
            cc.textUtils = e.exports = a
        }), {"../platform/js": 188}],
        258: [(function (t, e) {
            "use strict";
            var i = t("../assets/CCTexture2D"), n = {
                loadImage: function (t, e, i) {
                    cc.assertID(t, 3103);
                    var n = cc.assetManager.assets.get(t);
                    if (n) return n.loaded ? (e && e.call(i, null, n), n) : (n.once("load", (function () {
                        e && e.call(i, null, n)
                    }), i), n);
                    cc.assetManager.loadRemote(t, (function (t, n) {
                        e && e.call(i, t, n)
                    }))
                }, cacheImage: function (t, e) {
                    if (t && e) {
                        var n = new i;
                        return n.initWithElement(e), cc.assetManager.assets.add(t, n), n
                    }
                }, postLoadTexture: function (t, e) {
                    t.loaded ? e && e() : t.nativeUrl ? cc.assetManager.postLoadNative(t, e) : e && e()
                }
            };
            e.exports = n
        }), {"../assets/CCTexture2D": 87}],
        259: [(function (t, e) {
            "use strict";
            var i = t("./node-unit"), n = t("./node-mem-pool");
            e.exports = {NodeMemPool: new n(i)}
        }), {"./node-mem-pool": 261, "./node-unit": 262}],
        260: [(function (t, e) {
            "use strict";
            var i = function (t) {
                this._unitClass = t, this._pool = [], this._findOrder = []
            }, n = i.prototype;
            n._initNative = function () {
                this._nativeMemPool = new renderer.MemPool
            }, n._buildUnit = function (t) {
                return new this._unitClass(t, this)
            }, n._destroyUnit = function (t) {
                this._pool[t] = null;
                for (var e = 0, i = this._findOrder.length; e < i; e++) {
                    var n = this._findOrder[e];
                    if (n && n.unitID == t) {
                        this._findOrder.splice(e, 1);
                        break
                    }
                }
            }, n._findUnitID = function () {
                for (var t = 0, e = this._pool; e[t];) t++;
                return t
            }, n.pop = function () {
                for (var t = null, e = 0, i = this._findOrder, n = this._pool, r = i.length; e < r; e++) {
                    var s = i[e];
                    if (s && s.hasSpace()) {
                        t = s;
                        break
                    }
                }
                if (!t) {
                    var a = this._findUnitID();
                    t = this._buildUnit(a), n[a] = t, i.push(t), e = i.length - 1
                }
                var o = i[0];
                return o !== t && (i[0] = t, i[e] = o), t.pop()
            }, n.push = function (t) {
                var e = this._pool[t.unitID];
                return e.push(t.index), this._findOrder.length > 1 && e.isAllFree() && this._destroyUnit(t.unitID), e
            }, e.exports = i
        }), {}],
        261: [(function (t, e) {
            "use strict";
            var i, n = t("./mem-pool"), r = function (t) {
                n.call(this, t)
            };
            (i = function () {
            }).prototype = n.prototype;
            var s = r.prototype = new i;
            s._initNative = function () {
                this._nativeMemPool = new renderer.NodeMemPool
            }, s._destroyUnit = function (t) {
                n.prototype._destroyUnit.call(this, t)
            }, e.exports = r
        }), {"./mem-pool": 260}],
        262: [(function (t, e) {
            "use strict";
            var i, n = t("../../value-types/utils"), r = (Uint32Array, 10 * n.FLOAT_BYTES), s = 16 * n.FLOAT_BYTES,
                a = 16 * n.FLOAT_BYTES,
                o = (Uint32Array, Uint32Array, Int32Array, Uint8Array, Uint8Array, Uint32Array, n.FLOAT_BYTES, t("./unit-base")),
                c = function (t, e) {
                    o.call(this, t, e);
                    var i = this._contentNum;
                    this.trsList = new n.FLOAT_ARRAY_TYPE(10 * i), this.localMatList = new n.FLOAT_ARRAY_TYPE(16 * i), this.worldMatList = new n.FLOAT_ARRAY_TYPE(16 * i);
                    for (var c = 0; c < i; c++) {
                        var l = this._spacesData[c];
                        l.trs = new n.FLOAT_ARRAY_TYPE(this.trsList.buffer, c * r, 10), l.localMat = new n.FLOAT_ARRAY_TYPE(this.localMatList.buffer, c * s, 16), l.worldMat = new n.FLOAT_ARRAY_TYPE(this.worldMatList.buffer, c * a, 16)
                    }
                };
            (i = function () {
            }).prototype = o.prototype, c.prototype = new i, e.exports = c
        }), {"../../value-types/utils": 272, "./unit-base": 263}],
        263: [(function (t, e) {
            "use strict";
            var i = function (t, e, i) {
                i = i || 128, this.unitID = t, this._memPool = e, this._data = new Uint16Array(2), this._data[0] = 0, this._data[1] = 0, this._contentNum = i, this._signData = new Uint16Array(2 * this._contentNum), this._spacesData = [];
                for (var n = 0; n < i; n++) {
                    var r = 2 * n;
                    this._signData[r + 0] = n + 1, this._signData[r + 1] = 0, this._spacesData[n] = {
                        index: n,
                        unitID: t
                    }
                }
                this._signData[2 * (i - 1)] = 65535
            }, n = i.prototype;
            n.hasSpace = function () {
                return 65535 !== this._data[0]
            }, n.isAllFree = function () {
                return 0 == this._data[1]
            }, n.pop = function () {
                var t = this._data[0];
                if (65535 === t) return null;
                var e = t, i = 2 * e, n = this._spacesData[e];
                return this._signData[i + 1] = 1, this._data[0] = this._signData[i + 0], this._data[1]++, n
            }, n.push = function (t) {
                var e = 2 * t;
                this._signData[e + 1] = 0, this._signData[e + 0] = this._data[0], this._data[0] = t, this._data[1]--
            }, n.dump = function () {
                for (var t = 0, e = this._data[0], i = ""; 65535 != e;) t++, i += e + "->", e = this._signData[2 * e + 0];
                for (var n = 0, r = "", s = this._contentNum, a = 0; a < s; a++) 1 == this._signData[2 * a + 1] && (n++, r += a + "->");
                var o = t + n;
                console.log("unitID:", this.unitID, "spaceNum:", t, "calc using num:", n, "store using num:", this._data[1], "calc total num:", o, "actually total num:", this._contentNum), console.log("free info:", i), console.log("using info:", r), n != this._data[1] && cc.error("using num error", "calc using num:", n, "store using num:", this._data[1]), t + n != this._contentNum && cc.error("total num error", "calc total num:", o, "actually total num:", this._contentNum)
            }, e.exports = i
        }), {}],
        264: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = a(t("./value-type")), r = a(t("../platform/CCClass")), s = a(t("../utils/misc"));

            function a(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function o(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = c(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function c(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            function l(t, e) {
                return (l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var h = (function (t) {
                var e, i;

                function n(e, i, n, r) {
                    var s;
                    return void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = 255), (s = t.call(this) || this)._val = 0, "object" == typeof e && (i = e.g, n = e.b, r = e.a, e = e.r), s._val = (r << 24 >>> 0) + (n << 16) + (i << 8) + (0 | e), s
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, l(e, i), n.copy = function (t, e) {
                    return t.r = e.r, t.g = e.g, t.b = e.b, t.a = e.a, t
                }, n.clone = function (t) {
                    return new n(t.r, t.g, t.b, t.a)
                }, n.set = function (t, e, i, n, r) {
                    return void 0 === e && (e = 255), void 0 === i && (i = 255), void 0 === n && (n = 255), void 0 === r && (r = 255), t.r = e, t.g = i, t.b = n, t.a = r, t
                }, n.fromHex = function (t, e) {
                    var i = e >> 24 & 255, n = e >> 16 & 255, r = e >> 8 & 255, s = 255 & e;
                    return t.r = i, t.g = n, t.b = r, t.a = s, t
                }, n.fromHEX = function (t, e) {
                    return e = 0 === e.indexOf("#") ? e.substring(1) : e, t.r = parseInt(e.substr(0, 2), 16) || 0, t.g = parseInt(e.substr(2, 2), 16) || 0, t.b = parseInt(e.substr(4, 2), 16) || 0, t.a = parseInt(e.substr(6, 2), 16) || 255, t._val = (t.a << 24 >>> 0) + (t.b << 16) + (t.g << 8) + t.r, t
                }, n.add = function (t, e, i) {
                    return t.r = e.r + i.r, t.g = e.g + i.g, t.b = e.b + i.b, t.a = e.a + i.a, t
                }, n.subtract = function (t, e, i) {
                    return t.r = e.r - i.r, t.g = e.g - i.g, t.b = e.b - i.b, t.a = e.a - i.a, t
                }, n.multiply = function (t, e, i) {
                    return t.r = e.r * i.r, t.g = e.g * i.g, t.b = e.b * i.b, t.a = e.a * i.a, t
                }, n.divide = function (t, e, i) {
                    return t.r = e.r / i.r, t.g = e.g / i.g, t.b = e.b / i.b, t.a = e.a / i.a, t
                }, n.scale = function (t, e, i) {
                    return t.r = e.r * i, t.g = e.g * i, t.b = e.b * i, t.a = e.a * i, t
                }, n.lerp = function (t, e, i, n) {
                    var r = e.r, s = e.g, a = e.b, o = e.a;
                    return t.r = r + n * (i.r - r), t.g = s + n * (i.g - s), t.b = a + n * (i.b - a), t.a = o + n * (i.a - o), t
                }, n.toArray = function (t, e, i) {
                    void 0 === i && (i = 0);
                    var r = e instanceof n || e.a > 1 ? 1 / 255 : 1;
                    return t[i + 0] = e.r * r, t[i + 1] = e.g * r, t[i + 2] = e.b * r, t[i + 3] = e.a * r, t
                }, n.fromArray = function (t, e, i) {
                    return void 0 === i && (i = 0), e.r = 255 * t[i + 0], e.g = 255 * t[i + 1], e.b = 255 * t[i + 2], e.a = 255 * t[i + 3], e
                }, n.premultiplyAlpha = function (t, e) {
                    var i = e.a / 255;
                    return t.r = e.r * i, t.g = e.g * i, t.b = e.b * i, t._fastSetA(e.a), t
                };
                var r, a, c, h = n.prototype;
                return h.clone = function () {
                    var t = new n;
                    return t._val = this._val, t
                }, h.equals = function (t) {
                    return t && this._val === t._val
                }, h.lerp = function (t, e, i) {
                    i = i || new n;
                    var r = this.r, s = this.g, a = this.b, o = this.a;
                    return i.r = r + (t.r - r) * e, i.g = s + (t.g - s) * e, i.b = a + (t.b - a) * e, i.a = o + (t.a - o) * e, i
                }, h.toString = function () {
                    return "rgba(" + this.r.toFixed() + ", " + this.g.toFixed() + ", " + this.b.toFixed() + ", " + this.a.toFixed() + ")"
                }, h.getR = function () {
                    return 255 & this._val
                }, h.setR = function (t) {
                    return t = ~~s.default.clampf(t, 0, 255), this._val = (4294967040 & this._val | t) >>> 0, this
                }, h.getG = function () {
                    return (65280 & this._val) >> 8
                }, h.setG = function (t) {
                    return t = ~~s.default.clampf(t, 0, 255), this._val = (4294902015 & this._val | t << 8) >>> 0, this
                }, h.getB = function () {
                    return (16711680 & this._val) >> 16
                }, h.setB = function (t) {
                    return t = ~~s.default.clampf(t, 0, 255), this._val = (4278255615 & this._val | t << 16) >>> 0, this
                }, h.getA = function () {
                    return (4278190080 & this._val) >>> 24
                }, h.setA = function (t) {
                    return t = ~~s.default.clampf(t, 0, 255), this._val = (16777215 & this._val | t << 24) >>> 0, this
                }, h.toCSS = function (t) {
                    return t && "rgba" !== t ? "rgb" === t ? "rgb(" + this.r + "," + this.g + "," + this.b + ")" : "#" + this.toHEX(t) : "rgba(" + this.r + "," + this.g + "," + this.b + "," + (this.a / 255).toFixed(2) + ")"
                }, h.fromHEX = function (t) {
                    t = 0 === t.indexOf("#") ? t.substring(1) : t;
                    var e = parseInt(t.substr(0, 2), 16) || 0, i = parseInt(t.substr(2, 2), 16) || 0,
                        n = parseInt(t.substr(4, 2), 16) || 0, r = parseInt(t.substr(6, 2), 16) || 255;
                    return this._val = (r << 24 >>> 0) + (n << 16) + (i << 8) + e, this
                }, h.toHEX = function (t) {
                    var e = [(this.r < 16 ? "0" : "") + this.r.toString(16), (this.g < 16 ? "0" : "") + this.g.toString(16), (this.b < 16 ? "0" : "") + this.b.toString(16)];
                    return "#rgb" === t ? (e[0] = e[0][0], e[1] = e[1][0], e[2] = e[2][0]) : "#rrggbbaa" === t && e.push((this.a < 16 ? "0" : "") + this.a.toString(16)), e.join("")
                }, h.toRGBValue = function () {
                    return 16777215 & this._val
                }, h.fromHSV = function (t, e, i) {
                    var n, r, s;
                    if (0 === e) n = r = s = i; else if (0 === i) n = r = s = 0; else {
                        1 === t && (t = 0), t *= 6;
                        var a = Math.floor(t), o = t - a, c = i * (1 - e), l = i * (1 - e * o),
                            h = i * (1 - e * (1 - o));
                        switch (a) {
                            case 0:
                                n = i, r = h, s = c;
                                break;
                            case 1:
                                n = l, r = i, s = c;
                                break;
                            case 2:
                                n = c, r = i, s = h;
                                break;
                            case 3:
                                n = c, r = l, s = i;
                                break;
                            case 4:
                                n = h, r = c, s = i;
                                break;
                            case 5:
                                n = i, r = c, s = l
                        }
                    }
                    return n *= 255, r *= 255, s *= 255, this._val = (this.a << 24 >>> 0) + (s << 16) + (r << 8) + (0 | n), this
                }, h.toHSV = function () {
                    var t = this.r / 255, e = this.g / 255, i = this.b / 255, n = {h: 0, s: 0, v: 0},
                        r = Math.max(t, e, i), s = Math.min(t, e, i), a = 0;
                    return n.v = r, n.s = r ? (r - s) / r : 0, n.s ? (a = r - s, n.h = t === r ? (e - i) / a : e === r ? 2 + (i - t) / a : 4 + (t - e) / a, n.h /= 6, n.h < 0 && (n.h += 1)) : n.h = 0, n
                }, h.set = function (t) {
                    return t._val ? this._val = t._val : (this.r = t.r, this.g = t.g, this.b = t.b, this.a = t.a), this
                }, h._fastSetA = function (t) {
                    this._val = (16777215 & this._val | t << 24) >>> 0
                }, h.multiply = function (t) {
                    var e = (255 & this._val) * t.r >> 8, i = (65280 & this._val) * t.g >> 8,
                        n = (16711680 & this._val) * t.b >> 8, r = ((4278190080 & this._val) >>> 8) * t.a;
                    return this._val = 4278190080 & r | 16711680 & n | 65280 & i | 255 & e, this
                }, r = n, c = [{
                    key: "WHITE", get: function () {
                        return new n(255, 255, 255, 255)
                    }
                }, {
                    key: "BLACK", get: function () {
                        return new n(0, 0, 0, 255)
                    }
                }, {
                    key: "TRANSPARENT", get: function () {
                        return new n(0, 0, 0, 0)
                    }
                }, {
                    key: "GRAY", get: function () {
                        return new n(127.5, 127.5, 127.5)
                    }
                }, {
                    key: "RED", get: function () {
                        return new n(255, 0, 0)
                    }
                }, {
                    key: "GREEN", get: function () {
                        return new n(0, 255, 0)
                    }
                }, {
                    key: "BLUE", get: function () {
                        return new n(0, 0, 255)
                    }
                }, {
                    key: "YELLOW", get: function () {
                        return new n(255, 235, 4)
                    }
                }, {
                    key: "ORANGE", get: function () {
                        return new n(255, 127, 0)
                    }
                }, {
                    key: "CYAN", get: function () {
                        return new n(0, 255, 255)
                    }
                }, {
                    key: "MAGENTA", get: function () {
                        return new n(255, 0, 255)
                    }
                }], (a = [{
                    key: "r", get: function () {
                        return this.getR()
                    }, set: function (t) {
                        this.setR(t)
                    }
                }, {
                    key: "g", get: function () {
                        return this.getG()
                    }, set: function (t) {
                        this.setG(t)
                    }
                }, {
                    key: "b", get: function () {
                        return this.getB()
                    }, set: function (t) {
                        this.setB(t)
                    }
                }, {
                    key: "a", get: function () {
                        return this.getA()
                    }, set: function (t) {
                        this.setA(t)
                    }
                }]) && o(r.prototype, a), c && o(r, c), Object.defineProperty(r, "prototype", {writable: !1}), n
            })(n.default);
            i.default = h, h.div = h.divide, h.sub = h.subtract, h.mul = h.multiply, h.WHITE_R = h.WHITE, h.BLACK_R = h.BLACK, h.TRANSPARENT_R = h.TRANSPARENT, h.GRAY_R = h.GRAY, h.RED_R = h.RED, h.GREEN_R = h.GREEN, h.BLUE_R = h.BLUE, h.YELLOW_R = h.YELLOW, h.ORANGE_R = h.ORANGE, h.CYAN_R = h.CYAN, h.MAGENTA_R = h.MAGENTA, r.default.fastDefine("cc.Color", h, {
                r: 0,
                g: 0,
                b: 0,
                a: 255
            }), cc.Color = h, cc.color = function (t, e, i, n) {
                return "string" == typeof t ? (new h).fromHEX(t) : "object" == typeof t ? new h(t.r, t.g, t.b, t.a) : new h(t, e, i, n)
            }, e.exports = i.default
        }), {"../platform/CCClass": 167, "../utils/misc": 250, "./value-type": 273}],
        265: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0;
            var n = {
                Vec2: !0,
                Vec3: !0,
                Vec4: !0,
                Mat4: !0,
                Mat3: !0,
                Rect: !0,
                Size: !0,
                Color: !0,
                Quat: !0,
                Trs: !0
            };
            i.Vec4 = i.Vec3 = i.Vec2 = i.Trs = i.Size = i.Rect = i.Quat = i.Mat4 = i.Mat3 = i.Color = void 0;
            var r = p(t("./vec2"));
            i.Vec2 = r.default;
            var s = p(t("./vec3"));
            i.Vec3 = s.default;
            var a = p(t("./vec4"));
            i.Vec4 = a.default;
            var o = p(t("./mat4"));
            i.Mat4 = o.default;
            var c = p(t("./mat3"));
            i.Mat3 = c.default;
            var l = p(t("./rect"));
            i.Rect = l.default;
            var h = p(t("./size"));
            i.Size = h.default;
            var u = p(t("./color"));
            i.Color = u.default;
            var f = p(t("./quat"));
            i.Quat = f.default;
            var d = p(t("./trs"));
            i.Trs = d.default;
            var _ = t("./utils");

            function p(t) {
                return t && t.__esModule ? t : {default: t}
            }

            Object.keys(_).forEach((function (t) {
                "default" !== t && "__esModule" !== t && (Object.prototype.hasOwnProperty.call(n, t) || t in i && i[t] === _[t] || (i[t] = _[t]))
            })), cc.math = e.exports
        }), {
            "./color": 264,
            "./mat3": 266,
            "./mat4": 267,
            "./quat": 268,
            "./rect": 269,
            "./size": 270,
            "./trs": 271,
            "./utils": 272,
            "./vec2": 274,
            "./vec3": 275,
            "./vec4": 276
        }],
        266: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = t("../value-types/utils"), s = (n = t("./vec3")) && n.__esModule ? n : {default: n},
                a = (function () {
                    function t(t, e, i, n, s, a, o, c, l) {
                        if (void 0 === t && (t = 1), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === s && (s = 1), void 0 === a && (a = 0), void 0 === o && (o = 0), void 0 === c && (c = 0), void 0 === l && (l = 1), this.m = void 0, t instanceof r.FLOAT_ARRAY_TYPE) this.m = t; else {
                            this.m = new r.FLOAT_ARRAY_TYPE(9);
                            var h = this.m;
                            h[0] = t, h[1] = e, h[2] = i, h[3] = n, h[4] = s, h[5] = a, h[6] = o, h[7] = c, h[8] = l
                        }
                    }

                    return t.create = function (e, i, n, r, s, a, o, c, l) {
                        return void 0 === e && (e = 1), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === s && (s = 1), void 0 === a && (a = 0), void 0 === o && (o = 0), void 0 === c && (c = 0), void 0 === l && (l = 1), new t(e, i, n, r, s, a, o, c, l)
                    }, t.clone = function (e) {
                        var i = e.m;
                        return new t(i[0], i[1], i[2], i[3], i[4], i[5], i[6], i[7], i[8])
                    }, t.copy = function (t, e) {
                        return t.m.set(e.m), t
                    }, t.set = function (t, e, i, n, r, s, a, o, c, l) {
                        var h = t.m;
                        return h[0] = e, h[1] = i, h[2] = n, h[3] = r, h[4] = s, h[5] = a, h[6] = o, h[7] = c, h[8] = l, t
                    }, t.identity = function (t) {
                        var e = t.m;
                        return e[0] = 1, e[1] = 0, e[2] = 0, e[3] = 0, e[4] = 1, e[5] = 0, e[6] = 0, e[7] = 0, e[8] = 1, t
                    }, t.transpose = function (t, e) {
                        var i = e.m, n = t.m;
                        if (t === e) {
                            var r = i[1], s = i[2], a = i[5];
                            n[1] = i[3], n[2] = i[6], n[3] = r, n[5] = i[7], n[6] = s, n[7] = a
                        } else n[0] = i[0], n[1] = i[3], n[2] = i[6], n[3] = i[1], n[4] = i[4], n[5] = i[7], n[6] = i[2], n[7] = i[5], n[8] = i[8];
                        return t
                    }, t.invert = function (t, e) {
                        var i = e.m, n = t.m, r = i[0], s = i[1], a = i[2], o = i[3], c = i[4], l = i[5], h = i[6],
                            u = i[7], f = i[8], d = f * c - l * u, _ = -f * o + l * h, p = u * o - c * h,
                            v = r * d + s * _ + a * p;
                        return v ? (v = 1 / v, n[0] = d * v, n[1] = (-f * s + a * u) * v, n[2] = (l * s - a * c) * v, n[3] = _ * v, n[4] = (f * r - a * h) * v, n[5] = (-l * r + a * o) * v, n[6] = p * v, n[7] = (-u * r + s * h) * v, n[8] = (c * r - s * o) * v, t) : t
                    }, t.adjoint = function (t, e) {
                        var i = e.m, n = t.m, r = i[0], s = i[1], a = i[2], o = i[3], c = i[4], l = i[5], h = i[6],
                            u = i[7], f = i[8];
                        return n[0] = c * f - l * u, n[1] = a * u - s * f, n[2] = s * l - a * c, n[3] = l * h - o * f, n[4] = r * f - a * h, n[5] = a * o - r * l, n[6] = o * u - c * h, n[7] = s * h - r * u, n[8] = r * c - s * o, t
                    }, t.determinant = function (t) {
                        var e = t.m, i = e[0], n = e[1], r = e[2], s = e[3], a = e[4], o = e[5], c = e[6], l = e[7],
                            h = e[8];
                        return i * (h * a - o * l) + n * (-h * s + o * c) + r * (l * s - a * c)
                    }, t.multiply = function (t, e, i) {
                        var n = e.m, r = i.m, s = t.m, a = n[0], o = n[1], c = n[2], l = n[3], h = n[4], u = n[5],
                            f = n[6], d = n[7], _ = n[8], p = r[0], v = r[1], g = r[2], m = r[3], y = r[4], T = r[5],
                            E = r[6], A = r[7], b = r[8];
                        return s[0] = p * a + v * l + g * f, s[1] = p * o + v * h + g * d, s[2] = p * c + v * u + g * _, s[3] = m * a + y * l + T * f, s[4] = m * o + y * h + T * d, s[5] = m * c + y * u + T * _, s[6] = E * a + A * l + b * f, s[7] = E * o + A * h + b * d, s[8] = E * c + A * u + b * _, t
                    }, t.multiplyMat4 = function (t, e, i) {
                        var n = e.m, r = i.m, s = t.m, a = n[0], o = n[1], c = n[2], l = n[3], h = n[4], u = n[5],
                            f = n[6], d = n[7], _ = n[8], p = r[0], v = r[1], g = r[2], m = r[4], y = r[5], T = r[6],
                            E = r[8], A = r[9], b = r[10];
                        return s[0] = p * a + v * l + g * f, s[1] = p * o + v * h + g * d, s[2] = p * c + v * u + g * _, s[3] = m * a + y * l + T * f, s[4] = m * o + y * h + T * d, s[5] = m * c + y * u + T * _, s[6] = E * a + A * l + b * f, s[7] = E * o + A * h + b * d, s[8] = E * c + A * u + b * _, t
                    }, t.translate = function (t, e, i) {
                        var n = e.m, r = t.m, s = n[0], a = n[1], o = n[2], c = n[3], l = n[4], h = n[5], u = n[6],
                            f = n[7], d = n[8], _ = i.x, p = i.y;
                        return r[0] = s, r[1] = a, r[2] = o, r[3] = c, r[4] = l, r[5] = h, r[6] = _ * s + p * c + u, r[7] = _ * a + p * l + f, r[8] = _ * o + p * h + d, t
                    }, t.rotate = function (t, e, i) {
                        var n = e.m, r = t.m, s = n[0], a = n[1], o = n[2], c = n[3], l = n[4], h = n[5], u = n[6],
                            f = n[7], d = n[8], _ = Math.sin(i), p = Math.cos(i);
                        return r[0] = p * s + _ * c, r[1] = p * a + _ * l, r[2] = p * o + _ * h, r[3] = p * c - _ * s, r[4] = p * l - _ * a, r[5] = p * h - _ * o, r[6] = u, r[7] = f, r[8] = d, t
                    }, t.scale = function (t, e, i) {
                        var n = i.x, r = i.y, s = e.m, a = t.m;
                        return a[0] = n * s[0], a[1] = n * s[1], a[2] = n * s[2], a[3] = r * s[3], a[4] = r * s[4], a[5] = r * s[5], a[6] = s[6], a[7] = s[7], a[8] = s[8], t
                    }, t.fromMat4 = function (t, e) {
                        var i = e.m, n = t.m;
                        return n[0] = i[0], n[1] = i[1], n[2] = i[2], n[3] = i[4], n[4] = i[5], n[5] = i[6], n[6] = i[8], n[7] = i[9], n[8] = i[10], t
                    }, t.fromTranslation = function (t, e) {
                        var i = t.m;
                        return i[0] = 1, i[1] = 0, i[2] = 0, i[3] = 0, i[4] = 1, i[5] = 0, i[6] = e.x, i[7] = e.y, i[8] = 1, t
                    }, t.fromRotation = function (t, e) {
                        var i = Math.sin(e), n = Math.cos(e), r = t.m;
                        return r[0] = n, r[1] = i, r[2] = 0, r[3] = -i, r[4] = n, r[5] = 0, r[6] = 0, r[7] = 0, r[8] = 1, t
                    }, t.fromScaling = function (t, e) {
                        var i = t.m;
                        return i[0] = e.x, i[1] = 0, i[2] = 0, i[3] = 0, i[4] = e.y, i[5] = 0, i[6] = 0, i[7] = 0, i[8] = 1, t
                    }, t.fromQuat = function (t, e) {
                        var i = t.m, n = e.x, r = e.y, s = e.z, a = e.w, o = n + n, c = r + r, l = s + s, h = n * o,
                            u = r * o, f = r * c, d = s * o, _ = s * c, p = s * l, v = a * o, g = a * c, m = a * l;
                        return i[0] = 1 - f - p, i[3] = u - m, i[6] = d + g, i[1] = u + m, i[4] = 1 - h - p, i[7] = _ - v, i[2] = d - g, i[5] = _ + v, i[8] = 1 - h - f, t
                    }, t.fromViewUp = function (e, i, n) {
                        var a, o, c;
                        return (a = new s.default(0, 1, 0), o = new s.default, c = new s.default, function (e, i, n) {
                            return s.default.lengthSqr(i) < r.EPSILON * r.EPSILON ? (t.identity(e), e) : (n = n || a, s.default.normalize(o, s.default.cross(o, n, i)), s.default.lengthSqr(o) < r.EPSILON * r.EPSILON ? (t.identity(e), e) : (s.default.cross(c, i, o), t.set(e, o.x, o.y, o.z, c.x, c.y, c.z, i.x, i.y, i.z), e))
                        })(e, i, n)
                    }, t.normalFromMat4 = function (t, e) {
                        var i = e.m, n = t.m, r = i[0], s = i[1], a = i[2], o = i[3], c = i[4], l = i[5], h = i[6],
                            u = i[7], f = i[8], d = i[9], _ = i[10], p = i[11], v = i[12], g = i[13], m = i[14],
                            y = i[15], T = r * l - s * c, E = r * h - a * c, A = r * u - o * c, b = s * h - a * l,
                            x = s * u - o * l, C = a * u - o * h, S = f * g - d * v, w = f * m - _ * v,
                            M = f * y - p * v, R = d * m - _ * g, I = d * y - p * g, O = _ * y - p * m,
                            D = T * O - E * I + A * R + b * M - x * w + C * S;
                        return D ? (D = 1 / D, n[0] = (l * O - h * I + u * R) * D, n[1] = (h * M - c * O - u * w) * D, n[2] = (c * I - l * M + u * S) * D, n[3] = (a * I - s * O - o * R) * D, n[4] = (r * O - a * M + o * w) * D, n[5] = (s * M - r * I - o * S) * D, n[6] = (g * C - m * x + y * b) * D, n[7] = (m * A - v * C - y * E) * D, n[8] = (v * x - g * A + y * T) * D, t) : t
                    }, t.frob = function (t) {
                        var e = t.m;
                        return Math.sqrt(Math.pow(e[0], 2) + Math.pow(e[1], 2) + Math.pow(e[2], 2) + Math.pow(e[3], 2) + Math.pow(e[4], 2) + Math.pow(e[5], 2) + Math.pow(e[6], 2) + Math.pow(e[7], 2) + Math.pow(e[8], 2))
                    }, t.add = function (t, e, i) {
                        var n = e.m, r = i.m, s = t.m;
                        return s[0] = n[0] + r[0], s[1] = n[1] + r[1], s[2] = n[2] + r[2], s[3] = n[3] + r[3], s[4] = n[4] + r[4], s[5] = n[5] + r[5], s[6] = n[6] + r[6], s[7] = n[7] + r[7], s[8] = n[8] + r[8], t
                    }, t.subtract = function (t, e, i) {
                        var n = e.m, r = i.m, s = t.m;
                        return s[0] = n[0] - r[0], s[1] = n[1] - r[1], s[2] = n[2] - r[2], s[3] = n[3] - r[3], s[4] = n[4] - r[4], s[5] = n[5] - r[5], s[6] = n[6] - r[6], s[7] = n[7] - r[7], s[8] = n[8] - r[8], t
                    }, t.multiplyScalar = function (t, e, i) {
                        var n = e.m, r = t.m;
                        return r[0] = n[0] * i, r[1] = n[1] * i, r[2] = n[2] * i, r[3] = n[3] * i, r[4] = n[4] * i, r[5] = n[5] * i, r[6] = n[6] * i, r[7] = n[7] * i, r[8] = n[8] * i, t
                    }, t.multiplyScalarAndAdd = function (t, e, i, n) {
                        var r = e.m, s = i.m, a = t.m;
                        return a[0] = r[0] + s[0] * n, a[1] = r[1] + s[1] * n, a[2] = r[2] + s[2] * n, a[3] = r[3] + s[3] * n, a[4] = r[4] + s[4] * n, a[5] = r[5] + s[5] * n, a[6] = r[6] + s[6] * n, a[7] = r[7] + s[7] * n, a[8] = r[8] + s[8] * n, t
                    }, t.exactEquals = function (t, e) {
                        var i = t.m, n = e.m;
                        return i[0] === n[0] && i[1] === n[1] && i[2] === n[2] && i[3] === n[3] && i[4] === n[4] && i[5] === n[5] && i[6] === n[6] && i[7] === n[7] && i[8] === n[8]
                    }, t.equals = function (t, e) {
                        var i = t.m, n = e.m, s = i[0], a = i[1], o = i[2], c = i[3], l = i[4], h = i[5], u = i[6],
                            f = i[7], d = i[8], _ = n[0], p = n[1], v = n[2], g = n[3], m = n[4], y = n[5], T = n[6],
                            E = n[7], A = n[8];
                        return Math.abs(s - _) <= r.EPSILON * Math.max(1, Math.abs(s), Math.abs(_)) && Math.abs(a - p) <= r.EPSILON * Math.max(1, Math.abs(a), Math.abs(p)) && Math.abs(o - v) <= r.EPSILON * Math.max(1, Math.abs(o), Math.abs(v)) && Math.abs(c - g) <= r.EPSILON * Math.max(1, Math.abs(c), Math.abs(g)) && Math.abs(l - m) <= r.EPSILON * Math.max(1, Math.abs(l), Math.abs(m)) && Math.abs(h - y) <= r.EPSILON * Math.max(1, Math.abs(h), Math.abs(y)) && Math.abs(u - T) <= r.EPSILON * Math.max(1, Math.abs(u), Math.abs(T)) && Math.abs(f - E) <= r.EPSILON * Math.max(1, Math.abs(f), Math.abs(E)) && Math.abs(d - A) <= r.EPSILON * Math.max(1, Math.abs(d), Math.abs(A))
                    }, t.toArray = function (t, e, i) {
                        void 0 === i && (i = 0);
                        for (var n = e.m, r = 0; r < 9; r++) t[i + r] = n[r];
                        return t
                    }, t.fromArray = function (t, e, i) {
                        void 0 === i && (i = 0);
                        for (var n = t.m, r = 0; r < 9; r++) n[r] = e[i + r];
                        return t
                    }, t.prototype.toString = function () {
                        var t = this.m;
                        return "mat3(" + t[0] + ", " + t[1] + ", " + t[2] + ", " + t[3] + ", " + t[4] + ", " + t[5] + ", " + t[6] + ", " + t[7] + ", " + t[8] + ")"
                    }, t
                })();
            i.default = a, a.sub = a.subtract, a.mul = a.multiply, a.IDENTITY = Object.freeze(new a), cc.Mat3 = a, e.exports = i.default
        }), {"../value-types/utils": 272, "./vec3": 275}],
        267: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = l(t("./value-type")), r = l(t("../platform/CCClass")), s = l(t("./vec3")), a = l(t("./quat")),
                o = t("./utils"), c = l(t("./mat3"));

            function l(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function h(t, e) {
                return (h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var u = 0, f = 0, d = 0, _ = 0, p = 0, v = 0, g = 0, m = 0, y = 0, T = 0, E = 0, A = 0, b = 0, x = 0, C = 0,
                S = 0, w = (function (t) {
                    var e, i;
                    i = t, (e = r).prototype = Object.create(i.prototype), e.prototype.constructor = e, h(e, i);
                    var n = r.prototype;

                    function r(e, i, n, r, s, a, c, l, h, u, f, d, _, p, v, g) {
                        var m;
                        if (void 0 === e && (e = 1), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === s && (s = 0), void 0 === a && (a = 1), void 0 === c && (c = 0), void 0 === l && (l = 0), void 0 === h && (h = 0), void 0 === u && (u = 0), void 0 === f && (f = 1), void 0 === d && (d = 0), void 0 === _ && (_ = 0), void 0 === p && (p = 0), void 0 === v && (v = 0), void 0 === g && (g = 1), (m = t.call(this) || this).m = void 0, e instanceof o.FLOAT_ARRAY_TYPE) m.m = e; else {
                            m.m = new o.FLOAT_ARRAY_TYPE(16);
                            var y = m.m;
                            y[0] = e, y[1] = i, y[2] = n, y[3] = r, y[4] = s, y[5] = a, y[6] = c, y[7] = l, y[8] = h, y[9] = u, y[10] = f, y[11] = d, y[12] = _, y[13] = p, y[14] = v, y[15] = g
                        }
                        return m
                    }

                    return n.mul = function (t, e) {
                        return r.multiply(e || new r, this, t)
                    }, n.mulScalar = function (t, e) {
                        r.multiplyScalar(e || new r, this, t)
                    }, n.sub = function (t, e) {
                        r.subtract(e || new r, this, t)
                    }, r.clone = function (t) {
                        var e = t.m;
                        return new r(e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7], e[8], e[9], e[10], e[11], e[12], e[13], e[14], e[15])
                    }, r.copy = function (t, e) {
                        var i = t.m, n = e.m;
                        return i[0] = n[0], i[1] = n[1], i[2] = n[2], i[3] = n[3], i[4] = n[4], i[5] = n[5], i[6] = n[6], i[7] = n[7], i[8] = n[8], i[9] = n[9], i[10] = n[10], i[11] = n[11], i[12] = n[12], i[13] = n[13], i[14] = n[14], i[15] = n[15], t
                    }, r.set = function (t, e, i, n, r, s, a, o, c, l, h, u, f, d, _, p, v) {
                        var g = t.m;
                        return g[0] = e, g[1] = i, g[2] = n, g[3] = r, g[4] = s, g[5] = a, g[6] = o, g[7] = c, g[8] = l, g[9] = h, g[10] = u, g[11] = f, g[12] = d, g[13] = _, g[14] = p, g[15] = v, t
                    }, r.identity = function (t) {
                        var e = t.m;
                        return e[0] = 1, e[1] = 0, e[2] = 0, e[3] = 0, e[4] = 0, e[5] = 1, e[6] = 0, e[7] = 0, e[8] = 0, e[9] = 0, e[10] = 1, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, t
                    }, r.transpose = function (t, e) {
                        var i = t.m, n = e.m;
                        if (t === e) {
                            var r = n[1], s = n[2], a = n[3], o = n[6], c = n[7], l = n[11];
                            i[1] = n[4], i[2] = n[8], i[3] = n[12], i[4] = r, i[6] = n[9], i[7] = n[13], i[8] = s, i[9] = o, i[11] = n[14], i[12] = a, i[13] = c, i[14] = l
                        } else i[0] = n[0], i[1] = n[4], i[2] = n[8], i[3] = n[12], i[4] = n[1], i[5] = n[5], i[6] = n[9], i[7] = n[13], i[8] = n[2], i[9] = n[6], i[10] = n[10], i[11] = n[14], i[12] = n[3], i[13] = n[7], i[14] = n[11], i[15] = n[15];
                        return t
                    }, r.invert = function (t, e) {
                        var i = e.m;
                        u = i[0], f = i[1], d = i[2], _ = i[3], p = i[4], v = i[5], g = i[6], m = i[7], y = i[8], T = i[9], E = i[10], A = i[11], b = i[12], x = i[13], C = i[14], S = i[15];
                        var n = u * v - f * p, r = u * g - d * p, s = u * m - _ * p, a = f * g - d * v, o = f * m - _ * v,
                            c = d * m - _ * g, l = y * x - T * b, h = y * C - E * b, w = y * S - A * b, M = T * C - E * x,
                            R = T * S - A * x, I = E * S - A * C, O = n * I - r * R + s * M + a * w - o * h + c * l;
                        if (0 === O) return null;
                        O = 1 / O;
                        var D = t.m;
                        return D[0] = (v * I - g * R + m * M) * O, D[1] = (d * R - f * I - _ * M) * O, D[2] = (x * c - C * o + S * a) * O, D[3] = (E * o - T * c - A * a) * O, D[4] = (g * w - p * I - m * h) * O, D[5] = (u * I - d * w + _ * h) * O, D[6] = (C * s - b * c - S * r) * O, D[7] = (y * c - E * s + A * r) * O, D[8] = (p * R - v * w + m * l) * O, D[9] = (f * w - u * R - _ * l) * O, D[10] = (b * o - x * s + S * n) * O, D[11] = (T * s - y * o - A * n) * O, D[12] = (v * h - p * M - g * l) * O, D[13] = (u * M - f * h + d * l) * O, D[14] = (x * r - b * a - C * n) * O, D[15] = (y * a - T * r + E * n) * O, t
                    }, r.determinant = function (t) {
                        var e = t.m;
                        return u = e[0], f = e[1], d = e[2], _ = e[3], p = e[4], v = e[5], g = e[6], m = e[7], y = e[8], T = e[9], E = e[10], A = e[11], b = e[12], x = e[13], C = e[14], S = e[15], (u * v - f * p) * (E * S - A * C) - (u * g - d * p) * (T * S - A * x) + (u * m - _ * p) * (T * C - E * x) + (f * g - d * v) * (y * S - A * b) - (f * m - _ * v) * (y * C - E * b) + (d * m - _ * g) * (y * x - T * b)
                    }, r.multiply = function (t, e, i) {
                        var n = t.m, r = e.m, s = i.m;
                        u = r[0], f = r[1], d = r[2], _ = r[3], p = r[4], v = r[5], g = r[6], m = r[7], y = r[8], T = r[9], E = r[10], A = r[11], b = r[12], x = r[13], C = r[14], S = r[15];
                        var a = s[0], o = s[1], c = s[2], l = s[3];
                        return n[0] = a * u + o * p + c * y + l * b, n[1] = a * f + o * v + c * T + l * x, n[2] = a * d + o * g + c * E + l * C, n[3] = a * _ + o * m + c * A + l * S, a = s[4], o = s[5], c = s[6], l = s[7], n[4] = a * u + o * p + c * y + l * b, n[5] = a * f + o * v + c * T + l * x, n[6] = a * d + o * g + c * E + l * C, n[7] = a * _ + o * m + c * A + l * S, a = s[8], o = s[9], c = s[10], l = s[11], n[8] = a * u + o * p + c * y + l * b, n[9] = a * f + o * v + c * T + l * x, n[10] = a * d + o * g + c * E + l * C, n[11] = a * _ + o * m + c * A + l * S, a = s[12], o = s[13], c = s[14], l = s[15], n[12] = a * u + o * p + c * y + l * b, n[13] = a * f + o * v + c * T + l * x, n[14] = a * d + o * g + c * E + l * C, n[15] = a * _ + o * m + c * A + l * S, t
                    }, r.transform = function (t, e, i) {
                        var n = i.x, r = i.y, s = i.z, a = t.m, o = e.m;
                        return e === t ? (a[12] = o[0] * n + o[4] * r + o[8] * s + o[12], a[13] = o[1] * n + o[5] * r + o[9] * s + o[13], a[14] = o[2] * n + o[6] * r + o[10] * s + o[14], a[15] = o[3] * n + o[7] * r + o[11] * s + o[15]) : (u = o[0], f = o[1], d = o[2], _ = o[3], p = o[4], v = o[5], g = o[6], m = o[7], y = o[8], T = o[9], E = o[10], A = o[11], b = o[12], x = o[13], C = o[14], S = o[15], a[0] = u, a[1] = f, a[2] = d, a[3] = _, a[4] = p, a[5] = v, a[6] = g, a[7] = m, a[8] = y, a[9] = T, a[10] = E, a[11] = A, a[12] = u * n + p * r + y * s + o[12], a[13] = f * n + v * r + T * s + o[13], a[14] = d * n + g * r + E * s + o[14], a[15] = _ * n + m * r + A * s + o[15]), t
                    }, r.translate = function (t, e, i) {
                        var n = t.m, r = e.m;
                        return e === t ? (n[12] += i.x, n[13] += i.y, n[14] += i.z) : (n[0] = r[0], n[1] = r[1], n[2] = r[2], n[3] = r[3], n[4] = r[4], n[5] = r[5], n[6] = r[6], n[7] = r[7], n[8] = r[8], n[9] = r[9], n[10] = r[10], n[11] = r[11], n[12] += i.x, n[13] += i.y, n[14] += i.z, n[15] = r[15]), t
                    }, r.scale = function (t, e, i) {
                        var n = i.x, r = i.y, s = i.z, a = t.m, o = e.m;
                        return a[0] = o[0] * n, a[1] = o[1] * n, a[2] = o[2] * n, a[3] = o[3] * n, a[4] = o[4] * r, a[5] = o[5] * r, a[6] = o[6] * r, a[7] = o[7] * r, a[8] = o[8] * s, a[9] = o[9] * s, a[10] = o[10] * s, a[11] = o[11] * s, a[12] = o[12], a[13] = o[13], a[14] = o[14], a[15] = o[15], t
                    }, r.rotate = function (t, e, i, n) {
                        var r = n.x, s = n.y, a = n.z, c = Math.sqrt(r * r + s * s + a * a);
                        if (Math.abs(c) < o.EPSILON) return null;
                        r *= c = 1 / c, s *= c, a *= c;
                        var l = Math.sin(i), h = Math.cos(i), b = 1 - h, x = e.m;
                        u = x[0], f = x[1], d = x[2], _ = x[3], p = x[4], v = x[5], g = x[6], m = x[7], y = x[8], T = x[9], E = x[10], A = x[11];
                        var C = r * r * b + h, S = s * r * b + a * l, w = a * r * b - s * l, M = r * s * b - a * l,
                            R = s * s * b + h, I = a * s * b + r * l, O = r * a * b + s * l, D = s * a * b - r * l,
                            P = a * a * b + h, L = t.m;
                        return L[0] = u * C + p * S + y * w, L[1] = f * C + v * S + T * w, L[2] = d * C + g * S + E * w, L[3] = _ * C + m * S + A * w, L[4] = u * M + p * R + y * I, L[5] = f * M + v * R + T * I, L[6] = d * M + g * R + E * I, L[7] = _ * M + m * R + A * I, L[8] = u * O + p * D + y * P, L[9] = f * O + v * D + T * P, L[10] = d * O + g * D + E * P, L[11] = _ * O + m * D + A * P, e !== t && (L[12] = x[12], L[13] = x[13], L[14] = x[14], L[15] = x[15]), t
                    }, r.rotateX = function (t, e, i) {
                        var n = t.m, r = e.m, s = Math.sin(i), a = Math.cos(i), o = r[4], c = r[5], l = r[6], h = r[7],
                            u = r[8], f = r[9], d = r[10], _ = r[11];
                        return e !== t && (n[0] = r[0], n[1] = r[1], n[2] = r[2], n[3] = r[3], n[12] = r[12], n[13] = r[13], n[14] = r[14], n[15] = r[15]), n[4] = o * a + u * s, n[5] = c * a + f * s, n[6] = l * a + d * s, n[7] = h * a + _ * s, n[8] = u * a - o * s, n[9] = f * a - c * s, n[10] = d * a - l * s, n[11] = _ * a - h * s, t
                    }, r.rotateY = function (t, e, i) {
                        var n = t.m, r = e.m, s = Math.sin(i), a = Math.cos(i), o = r[0], c = r[1], l = r[2], h = r[3],
                            u = r[8], f = r[9], d = r[10], _ = r[11];
                        return e !== t && (n[4] = r[4], n[5] = r[5], n[6] = r[6], n[7] = r[7], n[12] = r[12], n[13] = r[13], n[14] = r[14], n[15] = r[15]), n[0] = o * a - u * s, n[1] = c * a - f * s, n[2] = l * a - d * s, n[3] = h * a - _ * s, n[8] = o * s + u * a, n[9] = c * s + f * a, n[10] = l * s + d * a, n[11] = h * s + _ * a, t
                    }, r.rotateZ = function (t, e, i) {
                        var n = e.m, r = t.m, s = Math.sin(i), a = Math.cos(i), o = e.m[0], c = e.m[1], l = e.m[2],
                            h = e.m[3], u = e.m[4], f = e.m[5], d = e.m[6], _ = e.m[7];
                        return e !== t && (r[8] = n[8], r[9] = n[9], r[10] = n[10], r[11] = n[11], r[12] = n[12], r[13] = n[13], r[14] = n[14], r[15] = n[15]), r[0] = o * a + u * s, r[1] = c * a + f * s, r[2] = l * a + d * s, r[3] = h * a + _ * s, r[4] = u * a - o * s, r[5] = f * a - c * s, r[6] = d * a - l * s, r[7] = _ * a - h * s, t
                    }, r.fromTranslation = function (t, e) {
                        var i = t.m;
                        return i[0] = 1, i[1] = 0, i[2] = 0, i[3] = 0, i[4] = 0, i[5] = 1, i[6] = 0, i[7] = 0, i[8] = 0, i[9] = 0, i[10] = 1, i[11] = 0, i[12] = e.x, i[13] = e.y, i[14] = e.z, i[15] = 1, t
                    }, r.fromScaling = function (t, e) {
                        var i = t.m;
                        return i[0] = e.x, i[1] = 0, i[2] = 0, i[3] = 0, i[4] = 0, i[5] = e.y, i[6] = 0, i[7] = 0, i[8] = 0, i[9] = 0, i[10] = e.z, i[11] = 0, i[12] = 0, i[13] = 0, i[14] = 0, i[15] = 1, t
                    }, r.fromRotation = function (t, e, i) {
                        var n = i.x, r = i.y, s = i.z, a = Math.sqrt(n * n + r * r + s * s);
                        if (Math.abs(a) < o.EPSILON) return null;
                        n *= a = 1 / a, r *= a, s *= a;
                        var c = Math.sin(e), l = Math.cos(e), h = 1 - l, u = t.m;
                        return u[0] = n * n * h + l, u[1] = r * n * h + s * c, u[2] = s * n * h - r * c, u[3] = 0, u[4] = n * r * h - s * c, u[5] = r * r * h + l, u[6] = s * r * h + n * c, u[7] = 0, u[8] = n * s * h + r * c, u[9] = r * s * h - n * c, u[10] = s * s * h + l, u[11] = 0, u[12] = 0, u[13] = 0, u[14] = 0, u[15] = 1, t
                    }, r.fromXRotation = function (t, e) {
                        var i = Math.sin(e), n = Math.cos(e), r = t.m;
                        return r[0] = 1, r[1] = 0, r[2] = 0, r[3] = 0, r[4] = 0, r[5] = n, r[6] = i, r[7] = 0, r[8] = 0, r[9] = -i, r[10] = n, r[11] = 0, r[12] = 0, r[13] = 0, r[14] = 0, r[15] = 1, t
                    }, r.fromYRotation = function (t, e) {
                        var i = Math.sin(e), n = Math.cos(e), r = t.m;
                        return r[0] = n, r[1] = 0, r[2] = -i, r[3] = 0, r[4] = 0, r[5] = 1, r[6] = 0, r[7] = 0, r[8] = i, r[9] = 0, r[10] = n, r[11] = 0, r[12] = 0, r[13] = 0, r[14] = 0, r[15] = 1, t
                    }, r.fromZRotation = function (t, e) {
                        var i = Math.sin(e), n = Math.cos(e), r = t.m;
                        return r[0] = n, r[1] = i, r[2] = 0, r[3] = 0, r[4] = -i, r[5] = n, r[6] = 0, r[7] = 0, r[8] = 0, r[9] = 0, r[10] = 1, r[11] = 0, r[12] = 0, r[13] = 0, r[14] = 0, r[15] = 1, t
                    }, r.fromRT = function (t, e, i) {
                        var n = e.x, r = e.y, s = e.z, a = e.w, o = n + n, c = r + r, l = s + s, h = n * o, u = n * c,
                            f = n * l, d = r * c, _ = r * l, p = s * l, v = a * o, g = a * c, m = a * l, y = t.m;
                        return y[0] = 1 - (d + p), y[1] = u + m, y[2] = f - g, y[3] = 0, y[4] = u - m, y[5] = 1 - (h + p), y[6] = _ + v, y[7] = 0, y[8] = f + g, y[9] = _ - v, y[10] = 1 - (h + d), y[11] = 0, y[12] = i.x, y[13] = i.y, y[14] = i.z, y[15] = 1, t
                    }, r.getTranslation = function (t, e) {
                        var i = e.m;
                        return t.x = i[12], t.y = i[13], t.z = i[14], t
                    }, r.getScaling = function (t, e) {
                        var i = e.m, n = R.m, r = n[0] = i[0], s = n[1] = i[1], a = n[2] = i[2], o = n[3] = i[4],
                            l = n[4] = i[5], h = n[5] = i[6], u = n[6] = i[8], f = n[7] = i[9], d = n[8] = i[10];
                        return t.x = Math.sqrt(r * r + s * s + a * a), t.y = Math.sqrt(o * o + l * l + h * h), t.z = Math.sqrt(u * u + f * f + d * d), c.default.determinant(R) < 0 && (t.x *= -1), t
                    }, r.getRotation = function (t, e) {
                        var i = e.m, n = i[0] + i[5] + i[10], r = 0;
                        return n > 0 ? (r = 2 * Math.sqrt(n + 1), t.w = .25 * r, t.x = (i[6] - i[9]) / r, t.y = (i[8] - i[2]) / r, t.z = (i[1] - i[4]) / r) : i[0] > i[5] && i[0] > i[10] ? (r = 2 * Math.sqrt(1 + i[0] - i[5] - i[10]), t.w = (i[6] - i[9]) / r, t.x = .25 * r, t.y = (i[1] + i[4]) / r, t.z = (i[8] + i[2]) / r) : i[5] > i[10] ? (r = 2 * Math.sqrt(1 + i[5] - i[0] - i[10]), t.w = (i[8] - i[2]) / r, t.x = (i[1] + i[4]) / r, t.y = .25 * r, t.z = (i[6] + i[9]) / r) : (r = 2 * Math.sqrt(1 + i[10] - i[0] - i[5]), t.w = (i[1] - i[4]) / r, t.x = (i[8] + i[2]) / r, t.y = (i[6] + i[9]) / r, t.z = .25 * r), t
                    }, r.toRTS = function (t, e, i, n) {
                        var r = t.m, o = R.m;
                        n.x = s.default.set(M, r[0], r[1], r[2]).mag(), o[0] = r[0] / n.x, o[1] = r[1] / n.x, o[2] = r[2] / n.x, n.y = s.default.set(M, r[4], r[5], r[6]).mag(), o[3] = r[4] / n.y, o[4] = r[5] / n.y, o[5] = r[6] / n.y, n.z = s.default.set(M, r[8], r[9], r[10]).mag(), o[6] = r[8] / n.z, o[7] = r[9] / n.z, o[8] = r[10] / n.z, c.default.determinant(R) < 0 && (n.x *= -1, o[0] *= -1, o[1] *= -1, o[2] *= -1), a.default.fromMat3(e, R), s.default.set(i, r[12], r[13], r[14])
                    }, r.fromRTS = function (t, e, i, n) {
                        var r = e.x, s = e.y, a = e.z, o = e.w, c = r + r, l = s + s, h = a + a, u = r * c, f = r * l,
                            d = r * h, _ = s * l, p = s * h, v = a * h, g = o * c, m = o * l, y = o * h, T = n.x, E = n.y,
                            A = n.z, b = t.m;
                        return b[0] = (1 - (_ + v)) * T, b[1] = (f + y) * T, b[2] = (d - m) * T, b[3] = 0, b[4] = (f - y) * E, b[5] = (1 - (u + v)) * E, b[6] = (p + g) * E, b[7] = 0, b[8] = (d + m) * A, b[9] = (p - g) * A, b[10] = (1 - (u + _)) * A, b[11] = 0, b[12] = i.x, b[13] = i.y, b[14] = i.z, b[15] = 1, t
                    }, r.fromRTSOrigin = function (t, e, i, n, r) {
                        var s = e.x, a = e.y, o = e.z, c = e.w, l = s + s, h = a + a, u = o + o, f = s * l, d = s * h,
                            _ = s * u, p = a * h, v = a * u, g = o * u, m = c * l, y = c * h, T = c * u, E = n.x, A = n.y,
                            b = n.z, x = r.x, C = r.y, S = r.z, w = t.m;
                        return w[0] = (1 - (p + g)) * E, w[1] = (d + T) * E, w[2] = (_ - y) * E, w[3] = 0, w[4] = (d - T) * A, w[5] = (1 - (f + g)) * A, w[6] = (v + m) * A, w[7] = 0, w[8] = (_ + y) * b, w[9] = (v - m) * b, w[10] = (1 - (f + p)) * b, w[11] = 0, w[12] = i.x + x - (w[0] * x + w[4] * C + w[8] * S), w[13] = i.y + C - (w[1] * x + w[5] * C + w[9] * S), w[14] = i.z + S - (w[2] * x + w[6] * C + w[10] * S), w[15] = 1, t
                    }, r.fromQuat = function (t, e) {
                        var i = e.x, n = e.y, r = e.z, s = e.w, a = i + i, o = n + n, c = r + r, l = i * a, h = n * a,
                            u = n * o, f = r * a, d = r * o, _ = r * c, p = s * a, v = s * o, g = s * c, m = t.m;
                        return m[0] = 1 - u - _, m[1] = h + g, m[2] = f - v, m[3] = 0, m[4] = h - g, m[5] = 1 - l - _, m[6] = d + p, m[7] = 0, m[8] = f + v, m[9] = d - p, m[10] = 1 - l - u, m[11] = 0, m[12] = 0, m[13] = 0, m[14] = 0, m[15] = 1, t
                    }, r.frustum = function (t, e, i, n, r, s, a) {
                        var o = 1 / (i - e), c = 1 / (r - n), l = 1 / (s - a), h = t.m;
                        return h[0] = 2 * s * o, h[1] = 0, h[2] = 0, h[3] = 0, h[4] = 0, h[5] = 2 * s * c, h[6] = 0, h[7] = 0, h[8] = (i + e) * o, h[9] = (r + n) * c, h[10] = (a + s) * l, h[11] = -1, h[12] = 0, h[13] = 0, h[14] = a * s * 2 * l, h[15] = 0, t
                    }, r.perspective = function (t, e, i, n, r) {
                        var s = 1 / Math.tan(e / 2), a = 1 / (n - r), o = t.m;
                        return o[0] = s / i, o[1] = 0, o[2] = 0, o[3] = 0, o[4] = 0, o[5] = s, o[6] = 0, o[7] = 0, o[8] = 0, o[9] = 0, o[10] = (r + n) * a, o[11] = -1, o[12] = 0, o[13] = 0, o[14] = 2 * r * n * a, o[15] = 0, t
                    }, r.ortho = function (t, e, i, n, r, s, a) {
                        var o = 1 / (e - i), c = 1 / (n - r), l = 1 / (s - a), h = t.m;
                        return h[0] = -2 * o, h[1] = 0, h[2] = 0, h[3] = 0, h[4] = 0, h[5] = -2 * c, h[6] = 0, h[7] = 0, h[8] = 0, h[9] = 0, h[10] = 2 * l, h[11] = 0, h[12] = (e + i) * o, h[13] = (r + n) * c, h[14] = (a + s) * l, h[15] = 1, t
                    }, r.lookAt = function (t, e, i, n) {
                        var r = e.x, s = e.y, a = e.z, o = n.x, c = n.y, l = n.z, h = r - i.x, u = s - i.y, f = a - i.z,
                            d = 1 / Math.sqrt(h * h + u * u + f * f), _ = c * (f *= d) - l * (u *= d),
                            p = l * (h *= d) - o * f, v = o * u - c * h,
                            g = u * (v *= d = 1 / Math.sqrt(_ * _ + p * p + v * v)) - f * (p *= d),
                            m = f * (_ *= d) - h * v, y = h * p - u * _, T = t.m;
                        return T[0] = _, T[1] = g, T[2] = h, T[3] = 0, T[4] = p, T[5] = m, T[6] = u, T[7] = 0, T[8] = v, T[9] = y, T[10] = f, T[11] = 0, T[12] = -(_ * r + p * s + v * a), T[13] = -(g * r + m * s + y * a), T[14] = -(h * r + u * s + f * a), T[15] = 1, t
                    }, r.inverseTranspose = function (t, e) {
                        var i = e.m;
                        u = i[0], f = i[1], d = i[2], _ = i[3], p = i[4], v = i[5], g = i[6], m = i[7], y = i[8], T = i[9], E = i[10], A = i[11], b = i[12], x = i[13], C = i[14], S = i[15];
                        var n = u * v - f * p, r = u * g - d * p, s = u * m - _ * p, a = f * g - d * v, o = f * m - _ * v,
                            c = d * m - _ * g, l = y * x - T * b, h = y * C - E * b, w = y * S - A * b, M = T * C - E * x,
                            R = T * S - A * x, I = E * S - A * C, O = n * I - r * R + s * M + a * w - o * h + c * l;
                        return O ? (O = 1 / O, (i = t.m)[0] = (v * I - g * R + m * M) * O, i[1] = (g * w - p * I - m * h) * O, i[2] = (p * R - v * w + m * l) * O, i[3] = 0, i[4] = (d * R - f * I - _ * M) * O, i[5] = (u * I - d * w + _ * h) * O, i[6] = (f * w - u * R - _ * l) * O, i[7] = 0, i[8] = (x * c - C * o + S * a) * O, i[9] = (C * s - b * c - S * r) * O, i[10] = (b * o - x * s + S * n) * O, i[11] = 0, i[12] = 0, i[13] = 0, i[14] = 0, i[15] = 1, t) : null
                    }, r.add = function (t, e, i) {
                        var n = t.m, r = e.m, s = i.m;
                        return n[0] = r[0] + s[0], n[1] = r[1] + s[1], n[2] = r[2] + s[2], n[3] = r[3] + s[3], n[4] = r[4] + s[4], n[5] = r[5] + s[5], n[6] = r[6] + s[6], n[7] = r[7] + s[7], n[8] = r[8] + s[8], n[9] = r[9] + s[9], n[10] = r[10] + s[10], n[11] = r[11] + s[11], n[12] = r[12] + s[12], n[13] = r[13] + s[13], n[14] = r[14] + s[14], n[15] = r[15] + s[15], t
                    }, r.subtract = function (t, e, i) {
                        var n = t.m, r = e.m, s = i.m;
                        return n[0] = r[0] - s[0], n[1] = r[1] - s[1], n[2] = r[2] - s[2], n[3] = r[3] - s[3], n[4] = r[4] - s[4], n[5] = r[5] - s[5], n[6] = r[6] - s[6], n[7] = r[7] - s[7], n[8] = r[8] - s[8], n[9] = r[9] - s[9], n[10] = r[10] - s[10], n[11] = r[11] - s[11], n[12] = r[12] - s[12], n[13] = r[13] - s[13], n[14] = r[14] - s[14], n[15] = r[15] - s[15], t
                    }, r.multiplyScalar = function (t, e, i) {
                        var n = t.m, r = e.m;
                        return n[0] = r[0] * i, n[1] = r[1] * i, n[2] = r[2] * i, n[3] = r[3] * i, n[4] = r[4] * i, n[5] = r[5] * i, n[6] = r[6] * i, n[7] = r[7] * i, n[8] = r[8] * i, n[9] = r[9] * i, n[10] = r[10] * i, n[11] = r[11] * i, n[12] = r[12] * i, n[13] = r[13] * i, n[14] = r[14] * i, n[15] = r[15] * i, t
                    }, r.multiplyScalarAndAdd = function (t, e, i, n) {
                        var r = t.m, s = e.m, a = i.m;
                        return r[0] = s[0] + a[0] * n, r[1] = s[1] + a[1] * n, r[2] = s[2] + a[2] * n, r[3] = s[3] + a[3] * n, r[4] = s[4] + a[4] * n, r[5] = s[5] + a[5] * n, r[6] = s[6] + a[6] * n, r[7] = s[7] + a[7] * n, r[8] = s[8] + a[8] * n, r[9] = s[9] + a[9] * n, r[10] = s[10] + a[10] * n, r[11] = s[11] + a[11] * n, r[12] = s[12] + a[12] * n, r[13] = s[13] + a[13] * n, r[14] = s[14] + a[14] * n, r[15] = s[15] + a[15] * n, t
                    }, r.strictEquals = function (t, e) {
                        var i = t.m, n = e.m;
                        return i[0] === n[0] && i[1] === n[1] && i[2] === n[2] && i[3] === n[3] && i[4] === n[4] && i[5] === n[5] && i[6] === n[6] && i[7] === n[7] && i[8] === n[8] && i[9] === n[9] && i[10] === n[10] && i[11] === n[11] && i[12] === n[12] && i[13] === n[13] && i[14] === n[14] && i[15] === n[15]
                    }, r.equals = function (t, e, i) {
                        void 0 === i && (i = o.EPSILON);
                        var n = t.m, r = e.m;
                        return Math.abs(n[0] - r[0]) <= i * Math.max(1, Math.abs(n[0]), Math.abs(r[0])) && Math.abs(n[1] - r[1]) <= i * Math.max(1, Math.abs(n[1]), Math.abs(r[1])) && Math.abs(n[2] - r[2]) <= i * Math.max(1, Math.abs(n[2]), Math.abs(r[2])) && Math.abs(n[3] - r[3]) <= i * Math.max(1, Math.abs(n[3]), Math.abs(r[3])) && Math.abs(n[4] - r[4]) <= i * Math.max(1, Math.abs(n[4]), Math.abs(r[4])) && Math.abs(n[5] - r[5]) <= i * Math.max(1, Math.abs(n[5]), Math.abs(r[5])) && Math.abs(n[6] - r[6]) <= i * Math.max(1, Math.abs(n[6]), Math.abs(r[6])) && Math.abs(n[7] - r[7]) <= i * Math.max(1, Math.abs(n[7]), Math.abs(r[7])) && Math.abs(n[8] - r[8]) <= i * Math.max(1, Math.abs(n[8]), Math.abs(r[8])) && Math.abs(n[9] - r[9]) <= i * Math.max(1, Math.abs(n[9]), Math.abs(r[9])) && Math.abs(n[10] - r[10]) <= i * Math.max(1, Math.abs(n[10]), Math.abs(r[10])) && Math.abs(n[11] - r[11]) <= i * Math.max(1, Math.abs(n[11]), Math.abs(r[11])) && Math.abs(n[12] - r[12]) <= i * Math.max(1, Math.abs(n[12]), Math.abs(r[12])) && Math.abs(n[13] - r[13]) <= i * Math.max(1, Math.abs(n[13]), Math.abs(r[13])) && Math.abs(n[14] - r[14]) <= i * Math.max(1, Math.abs(n[14]), Math.abs(r[14])) && Math.abs(n[15] - r[15]) <= i * Math.max(1, Math.abs(n[15]), Math.abs(r[15]))
                    }, r.adjoint = function (t, e) {
                        var i = e.m, n = t.m, r = i[0], s = i[1], a = i[2], o = i[3], c = i[4], l = i[5], h = i[6],
                            u = i[7], f = i[8], d = i[9], _ = i[10], p = i[11], v = i[12], g = i[13], m = i[14], y = i[15];
                        return n[0] = l * (_ * y - p * m) - d * (h * y - u * m) + g * (h * p - u * _), n[1] = -(s * (_ * y - p * m) - d * (a * y - o * m) + g * (a * p - o * _)), n[2] = s * (h * y - u * m) - l * (a * y - o * m) + g * (a * u - o * h), n[3] = -(s * (h * p - u * _) - l * (a * p - o * _) + d * (a * u - o * h)), n[4] = -(c * (_ * y - p * m) - f * (h * y - u * m) + v * (h * p - u * _)), n[5] = r * (_ * y - p * m) - f * (a * y - o * m) + v * (a * p - o * _), n[6] = -(r * (h * y - u * m) - c * (a * y - o * m) + v * (a * u - o * h)), n[7] = r * (h * p - u * _) - c * (a * p - o * _) + f * (a * u - o * h), n[8] = c * (d * y - p * g) - f * (l * y - u * g) + v * (l * p - u * d), n[9] = -(r * (d * y - p * g) - f * (s * y - o * g) + v * (s * p - o * d)), n[10] = r * (l * y - u * g) - c * (s * y - o * g) + v * (s * u - o * l), n[11] = -(r * (l * p - u * d) - c * (s * p - o * d) + f * (s * u - o * l)), n[12] = -(c * (d * m - _ * g) - f * (l * m - h * g) + v * (l * _ - h * d)), n[13] = r * (d * m - _ * g) - f * (s * m - a * g) + v * (s * _ - a * d), n[14] = -(r * (l * m - h * g) - c * (s * m - a * g) + v * (s * h - a * l)), n[15] = r * (l * _ - h * d) - c * (s * _ - a * d) + f * (s * h - a * l), t
                    }, r.toArray = function (t, e, i) {
                        void 0 === i && (i = 0);
                        for (var n = e.m, r = 0; r < 16; r++) t[i + r] = n[r];
                        return t
                    }, r.fromArray = function (t, e, i) {
                        void 0 === i && (i = 0);
                        for (var n = t.m, r = 0; r < 16; r++) n[r] = e[i + r];
                        return t
                    }, n.clone = function () {
                        var t = this.m;
                        return new r(t[0], t[1], t[2], t[3], t[4], t[5], t[6], t[7], t[8], t[9], t[10], t[11], t[12], t[13], t[14], t[15])
                    }, n.set = function (t) {
                        var e = this.m, i = t.m;
                        return e[0] = i[0], e[1] = i[1], e[2] = i[2], e[3] = i[3], e[4] = i[4], e[5] = i[5], e[6] = i[6], e[7] = i[7], e[8] = i[8], e[9] = i[9], e[10] = i[10], e[11] = i[11], e[12] = i[12], e[13] = i[13], e[14] = i[14], e[15] = i[15], this
                    }, n.equals = function (t) {
                        return r.strictEquals(this, t)
                    }, n.fuzzyEquals = function (t) {
                        return r.equals(this, t)
                    }, n.toString = function () {
                        var t = this.m;
                        return t ? "[\n" + t[0] + ", " + t[1] + ", " + t[2] + ", " + t[3] + ",\n" + t[4] + ", " + t[5] + ", " + t[6] + ", " + t[7] + ",\n" + t[8] + ", " + t[9] + ", " + t[10] + ", " + t[11] + ",\n" + t[12] + ", " + t[13] + ", " + t[14] + ", " + t[15] + "\n]" : "[\n1, 0, 0, 0\n0, 1, 0, 0\n0, 0, 1, 0\n0, 0, 0, 1\n]"
                    }, n.identity = function () {
                        return r.identity(this)
                    }, n.transpose = function (t) {
                        return t = t || new r, r.transpose(t, this)
                    }, n.invert = function (t) {
                        return t = t || new r, r.invert(t, this)
                    }, n.adjoint = function (t) {
                        return t = t || new r, r.adjoint(t, this)
                    }, n.determinant = function () {
                        return r.determinant(this)
                    }, n.add = function (t, e) {
                        return e = e || new r, r.add(e, this, t)
                    }, n.subtract = function (t) {
                        return r.subtract(this, this, t)
                    }, n.multiply = function (t) {
                        return r.multiply(this, this, t)
                    }, n.multiplyScalar = function (t) {
                        return r.multiplyScalar(this, this, t)
                    }, n.translate = function (t, e) {
                        return e = e || new r, r.translate(e, this, t)
                    }, n.scale = function (t, e) {
                        return e = e || new r, r.scale(e, this, t)
                    }, n.rotate = function (t, e, i) {
                        return i = i || new r, r.rotate(i, this, t, e)
                    }, n.getTranslation = function (t) {
                        return t = t || new s.default, r.getTranslation(t, this)
                    }, n.getScale = function (t) {
                        return t = t || new s.default, r.getScaling(t, this)
                    }, n.getRotation = function (t) {
                        return t = t || new a.default, r.getRotation(t, this)
                    }, n.fromRTS = function (t, e, i) {
                        return r.fromRTS(this, t, e, i)
                    }, n.fromQuat = function (t) {
                        return r.fromQuat(this, t)
                    }, r
                })(n.default);
            i.default = w, w.mul = w.multiply, w.sub = w.subtract, w.IDENTITY = Object.freeze(new w);
            var M = new s.default, R = new c.default;
            r.default.fastDefine("cc.Mat4", w, {
                m00: 1,
                m01: 0,
                m02: 0,
                m03: 0,
                m04: 0,
                m05: 1,
                m06: 0,
                m07: 0,
                m08: 0,
                m09: 0,
                m10: 1,
                m11: 0,
                m12: 0,
                m13: 0,
                m14: 0,
                m15: 1
            });
            for (var I = function (t) {
                Object.defineProperty(w.prototype, "m" + t, {
                    get: function () {
                        return this.m[t]
                    }, set: function (e) {
                        this.m[t] = e
                    }
                })
            }, O = 0; O < 16; O++) I(O);
            cc.mat4 = function (t, e, i, n, r, s, a, o, c, l, h, u, f, d, _, p) {
                var v = new w(t, e, i, n, r, s, a, o, c, l, h, u, f, d, _, p);
                return void 0 === t && w.identity(v), v
            }, cc.Mat4 = w, e.exports = i.default
        }), {
            "../platform/CCClass": 167,
            "./mat3": 266,
            "./quat": 268,
            "./utils": 272,
            "./value-type": 273,
            "./vec3": 275
        }],
        268: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = c(t("./value-type")), r = c(t("../platform/CCClass")), s = c(t("./vec3")), a = c(t("./mat3")),
                o = t("./utils");

            function c(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function l(t, e) {
                return (l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var h = 0, u = 0, f = 0, d = 0, _ = (function (t) {
                var e, i;
                i = t, (e = r).prototype = Object.create(i.prototype), e.prototype.constructor = e, l(e, i);
                var n = r.prototype;

                function r(e, i, n, r) {
                    var s;
                    return void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = 1), (s = t.call(this) || this).x = void 0, s.y = void 0, s.z = void 0, s.w = void 0, e && "object" == typeof e ? (s.x = e.x, s.y = e.y, s.z = e.z, s.w = e.w) : (s.x = e, s.y = i, s.z = n, s.w = r), s
                }

                return n.mul = function (t, e) {
                    return r.multiply(e || new r, this, t)
                }, r.clone = function (t) {
                    return new r(t.x, t.y, t.z, t.w)
                }, r.copy = function (t, e) {
                    return t.x = e.x, t.y = e.y, t.z = e.z, t.w = e.w, t
                }, r.set = function (t, e, i, n, r) {
                    return t.x = e, t.y = i, t.z = n, t.w = r, t
                }, r.identity = function (t) {
                    return t.x = 0, t.y = 0, t.z = 0, t.w = 1, t
                }, r.rotationTo = function (t, e, i) {
                    var n = s.default.dot(e, i);
                    return n < -.999999 ? (s.default.cross(g, s.default.RIGHT, e), g.mag() < 1e-6 && s.default.cross(g, s.default.UP, e), s.default.normalize(g, g), r.fromAxisAngle(t, g, Math.PI), t) : n > .999999 ? (t.x = 0, t.y = 0, t.z = 0, t.w = 1, t) : (s.default.cross(g, e, i), t.x = g.x, t.y = g.y, t.z = g.z, t.w = 1 + n, r.normalize(t, t))
                }, r.getAxisAngle = function (t, e) {
                    var i = 2 * Math.acos(e.w), n = Math.sin(i / 2);
                    return 0 !== n ? (t.x = e.x / n, t.y = e.y / n, t.z = e.z / n) : (t.x = 1, t.y = 0, t.z = 0), i
                }, r.multiply = function (t, e, i) {
                    return h = e.x * i.w + e.w * i.x + e.y * i.z - e.z * i.y, u = e.y * i.w + e.w * i.y + e.z * i.x - e.x * i.z, f = e.z * i.w + e.w * i.z + e.x * i.y - e.y * i.x, d = e.w * i.w - e.x * i.x - e.y * i.y - e.z * i.z, t.x = h, t.y = u, t.z = f, t.w = d, t
                }, r.multiplyScalar = function (t, e, i) {
                    return t.x = e.x * i, t.y = e.y * i, t.z = e.z * i, t.w = e.w * i, t
                }, r.scaleAndAdd = function (t, e, i, n) {
                    return t.x = e.x + i.x * n, t.y = e.y + i.y * n, t.z = e.z + i.z * n, t.w = e.w + i.w * n, t
                }, r.rotateX = function (t, e, i) {
                    i *= .5;
                    var n = Math.sin(i), r = Math.cos(i);
                    return h = e.x * r + e.w * n, u = e.y * r + e.z * n, f = e.z * r - e.y * n, d = e.w * r - e.x * n, t.x = h, t.y = u, t.z = f, t.w = d, t
                }, r.rotateY = function (t, e, i) {
                    i *= .5;
                    var n = Math.sin(i), r = Math.cos(i);
                    return h = e.x * r - e.z * n, u = e.y * r + e.w * n, f = e.z * r + e.x * n, d = e.w * r - e.y * n, t.x = h, t.y = u, t.z = f, t.w = d, t
                }, r.rotateZ = function (t, e, i) {
                    i *= .5;
                    var n = Math.sin(i), r = Math.cos(i);
                    return h = e.x * r + e.y * n, u = e.y * r - e.x * n, f = e.z * r + e.w * n, d = e.w * r - e.z * n, t.x = h, t.y = u, t.z = f, t.w = d, t
                }, r.rotateAround = function (t, e, i, n) {
                    return r.invert(p, e), s.default.transformQuat(g, i, p), r.fromAxisAngle(p, g, n), r.multiply(t, e, p), t
                }, r.rotateAroundLocal = function (t, e, i, n) {
                    return r.fromAxisAngle(p, i, n), r.multiply(t, e, p), t
                }, r.calculateW = function (t, e) {
                    return t.x = e.x, t.y = e.y, t.z = e.z, t.w = Math.sqrt(Math.abs(1 - e.x * e.x - e.y * e.y - e.z * e.z)), t
                }, r.dot = function (t, e) {
                    return t.x * e.x + t.y * e.y + t.z * e.z + t.w * e.w
                }, r.lerp = function (t, e, i, n) {
                    return t.x = e.x + n * (i.x - e.x), t.y = e.y + n * (i.y - e.y), t.z = e.z + n * (i.z - e.z), t.w = e.w + n * (i.w - e.w), t
                }, r.slerp = function (t, e, i, n) {
                    var r = 0, s = 0, a = e.x * i.x + e.y * i.y + e.z * i.z + e.w * i.w;
                    if (a < 0 && (a = -a, i.x = -i.x, i.y = -i.y, i.z = -i.z, i.w = -i.w), 1 - a > 1e-6) {
                        var o = Math.acos(a), c = Math.sin(o);
                        r = Math.sin((1 - n) * o) / c, s = Math.sin(n * o) / c
                    } else r = 1 - n, s = n;
                    return t.x = r * e.x + s * i.x, t.y = r * e.y + s * i.y, t.z = r * e.z + s * i.z, t.w = r * e.w + s * i.w, t
                }, r.sqlerp = function (t, e, i, n, s, a) {
                    return r.slerp(p, e, s, a), r.slerp(v, i, n, a), r.slerp(t, p, v, 2 * a * (1 - a)), t
                }, r.invert = function (t, e) {
                    var i = e.x * e.x + e.y * e.y + e.z * e.z + e.w * e.w, n = i ? 1 / i : 0;
                    return t.x = -e.x * n, t.y = -e.y * n, t.z = -e.z * n, t.w = e.w * n, t
                }, r.conjugate = function (t, e) {
                    return t.x = -e.x, t.y = -e.y, t.z = -e.z, t.w = e.w, t
                }, r.len = function (t) {
                    return Math.sqrt(t.x * t.x + t.y * t.y + t.z * t.z + t.w * t.w)
                }, r.lengthSqr = function (t) {
                    return t.x * t.x + t.y * t.y + t.z * t.z + t.w * t.w
                }, r.normalize = function (t, e) {
                    var i = e.x * e.x + e.y * e.y + e.z * e.z + e.w * e.w;
                    return i > 0 && (i = 1 / Math.sqrt(i), t.x = e.x * i, t.y = e.y * i, t.z = e.z * i, t.w = e.w * i), t
                }, r.fromAxes = function (t, e, i, n) {
                    return a.default.set(m, e.x, e.y, e.z, i.x, i.y, i.z, n.x, n.y, n.z), r.normalize(t, r.fromMat3(t, m))
                }, r.fromViewUp = function (t, e, i) {
                    return a.default.fromViewUp(m, e, i), r.normalize(t, r.fromMat3(t, m))
                }, r.fromAxisAngle = function (t, e, i) {
                    i *= .5;
                    var n = Math.sin(i);
                    return t.x = n * e.x, t.y = n * e.y, t.z = n * e.z, t.w = Math.cos(i), t
                }, r.fromAngleZ = function (t, e) {
                    return e *= y, t.x = t.y = 0, t.z = Math.sin(e), t.w = Math.cos(e), t
                }, r.fromMat3 = function (t, e) {
                    var i = e.m, n = i[0], r = i[1], s = i[2], a = i[3], o = i[4], c = i[5], l = i[6], h = i[7],
                        u = i[8], f = n + o + u;
                    if (f > 0) {
                        var d = .5 / Math.sqrt(f + 1);
                        t.w = .25 / d, t.x = (c - h) * d, t.y = (l - s) * d, t.z = (r - a) * d
                    } else if (n > o && n > u) {
                        var _ = 2 * Math.sqrt(1 + n - o - u);
                        t.w = (c - h) / _, t.x = .25 * _, t.y = (a + r) / _, t.z = (l + s) / _
                    } else if (o > u) {
                        var p = 2 * Math.sqrt(1 + o - n - u);
                        t.w = (l - s) / p, t.x = (a + r) / p, t.y = .25 * p, t.z = (h + c) / p
                    } else {
                        var v = 2 * Math.sqrt(1 + u - n - o);
                        t.w = (r - a) / v, t.x = (l + s) / v, t.y = (h + c) / v, t.z = .25 * v
                    }
                    return t
                }, r.fromEuler = function (t, e, i, n) {
                    e *= y, i *= y, n *= y;
                    var r = Math.sin(e), s = Math.cos(e), a = Math.sin(i), o = Math.cos(i), c = Math.sin(n),
                        l = Math.cos(n);
                    return t.x = r * o * l + s * a * c, t.y = s * a * l + r * o * c, t.z = s * o * c - r * a * l, t.w = s * o * l - r * a * c, t
                }, r.toAxisX = function (t, e) {
                    var i = 2 * e.y, n = 2 * e.z;
                    return t.x = 1 - i * e.y - n * e.z, t.y = i * e.x + n * e.w, t.z = n * e.x + i * e.w, t
                }, r.toAxisY = function (t, e) {
                    var i = 2 * e.x, n = 2 * e.y, r = 2 * e.z;
                    return t.x = n * e.x - r * e.w, t.y = 1 - i * e.x - r * e.z, t.z = r * e.y + i * e.w, t
                }, r.toAxisZ = function (t, e) {
                    var i = 2 * e.x, n = 2 * e.y, r = 2 * e.z;
                    return t.x = r * e.x - n * e.w, t.y = r * e.y - i * e.w, t.z = 1 - i * e.x - n * e.y, t
                }, r.toEuler = function (t, e, i) {
                    var n = e.x, r = e.y, s = e.z, a = e.w, c = 0, l = 0, h = 0, u = n * r + s * a;
                    if (u > .499999) c = 0, l = (0, o.toDegree)(2 * Math.atan2(n, a)), h = 90; else if (u < -.499999) c = 0, l = -(0, o.toDegree)(2 * Math.atan2(n, a)), h = -90; else {
                        var f = n * n, d = r * r, _ = s * s;
                        c = (0, o.toDegree)(Math.atan2(2 * n * a - 2 * r * s, 1 - 2 * f - 2 * _)), l = (0, o.toDegree)(Math.atan2(2 * r * a - 2 * n * s, 1 - 2 * d - 2 * _)), h = (0, o.toDegree)(Math.asin(2 * u)), i && (c = -180 * Math.sign(c + 1e-6) + c, l = -180 * Math.sign(l + 1e-6) + l, h = 180 * Math.sign(h + 1e-6) - h)
                    }
                    return t.x = c, t.y = l, t.z = h, t
                }, r.strictEquals = function (t, e) {
                    return t.x === e.x && t.y === e.y && t.z === e.z && t.w === e.w
                }, r.equals = function (t, e, i) {
                    return void 0 === i && (i = o.EPSILON), Math.abs(t.x - e.x) <= i * Math.max(1, Math.abs(t.x), Math.abs(e.x)) && Math.abs(t.y - e.y) <= i * Math.max(1, Math.abs(t.y), Math.abs(e.y)) && Math.abs(t.z - e.z) <= i * Math.max(1, Math.abs(t.z), Math.abs(e.z)) && Math.abs(t.w - e.w) <= i * Math.max(1, Math.abs(t.w), Math.abs(e.w))
                }, r.toArray = function (t, e, i) {
                    return void 0 === i && (i = 0), t[i + 0] = e.x, t[i + 1] = e.y, t[i + 2] = e.z, t[i + 3] = e.w, t
                }, r.fromArray = function (t, e, i) {
                    return void 0 === i && (i = 0), t.x = e[i + 0], t.y = e[i + 1], t.z = e[i + 2], t.w = e[i + 3], t
                }, n.clone = function () {
                    return new r(this.x, this.y, this.z, this.w)
                }, n.set = function (t) {
                    return this.x = t.x, this.y = t.y, this.z = t.z, this.w = t.w, this
                }, n.equals = function (t) {
                    return t && this.x === t.x && this.y === t.y && this.z === t.z && this.w === t.w
                }, n.toEuler = function (t) {
                    return r.toEuler(t, this)
                }, n.fromEuler = function (t) {
                    return r.fromEuler(this, t.x, t.y, t.z)
                }, n.lerp = function (t, e, i) {
                    return i = i || new r, r.slerp(i, this, t, e), i
                }, n.multiply = function (t) {
                    return r.multiply(this, this, t)
                }, n.rotateAround = function (t, e, i, n) {
                    return n = n || new r, r.rotateAround(n, t, e, i)
                }, r
            })(n.default);
            i.default = _, _.mul = _.multiply, _.scale = _.multiplyScalar, _.mag = _.len, _.IDENTITY = Object.freeze(new _);
            var p = new _, v = new _, g = new s.default, m = new a.default, y = .5 * Math.PI / 180;
            r.default.fastDefine("cc.Quat", _, {x: 0, y: 0, z: 0, w: 1}), cc.quat = function (t, e, i, n) {
                return new _(t, e, i, n)
            }, cc.Quat = _, e.exports = i.default
        }), {"../platform/CCClass": 167, "./mat3": 266, "./utils": 272, "./value-type": 273, "./vec3": 275}],
        269: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = o(t("./value-type")), r = o(t("../platform/CCClass")), s = o(t("./vec2")), a = o(t("./size"));

            function o(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function c(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = l(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function l(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            function h(t, e) {
                return (h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var u = (function (t) {
                var e, i;

                function n(e, i, n, r) {
                    var s;
                    return void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), (s = t.call(this) || this).x = void 0, s.y = void 0, s.width = void 0, s.height = void 0, e && "object" == typeof e && (i = e.y, n = e.width, r = e.height, e = e.x), s.x = e || 0, s.y = i || 0, s.width = n || 0, s.height = r || 0, s
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, h(e, i), n.fromMinMax = function (t, e) {
                    var i = Math.min(t.x, e.x), r = Math.min(t.y, e.y);
                    return new n(i, r, Math.max(t.x, e.x) - i, Math.max(t.y, e.y) - r)
                };
                var r, o, l = n.prototype;
                return l.clone = function () {
                    return new n(this.x, this.y, this.width, this.height)
                }, l.equals = function (t) {
                    return t && this.x === t.x && this.y === t.y && this.width === t.width && this.height === t.height
                }, l.lerp = function (t, e, i) {
                    i = i || new n;
                    var r = this.x, s = this.y, a = this.width, o = this.height;
                    return i.x = r + (t.x - r) * e, i.y = s + (t.y - s) * e, i.width = a + (t.width - a) * e, i.height = o + (t.height - o) * e, i
                }, l.set = function (t) {
                    return this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height, this
                }, l.intersects = function (t) {
                    var e = this.x + this.width, i = this.y + this.height, n = t.x + t.width, r = t.y + t.height;
                    return !(e < t.x || n < this.x || i < t.y || r < this.y)
                }, l.intersection = function (t, e) {
                    var i = this.x, n = this.y, r = this.x + this.width, s = this.y + this.height, a = e.x, o = e.y,
                        c = e.x + e.width, l = e.y + e.height;
                    return t.x = Math.max(i, a), t.y = Math.max(n, o), t.width = Math.min(r, c) - t.x, t.height = Math.min(s, l) - t.y, t
                }, l.contains = function (t) {
                    return this.x <= t.x && this.x + this.width >= t.x && this.y <= t.y && this.y + this.height >= t.y
                }, l.containsRect = function (t) {
                    return this.x <= t.x && this.x + this.width >= t.x + t.width && this.y <= t.y && this.y + this.height >= t.y + t.height
                }, l.union = function (t, e) {
                    var i = this.x, n = this.y, r = this.width, s = this.height, a = e.x, o = e.y, c = e.width,
                        l = e.height;
                    return t.x = Math.min(i, a), t.y = Math.min(n, o), t.width = Math.max(i + r, a + c) - t.x, t.height = Math.max(n + s, o + l) - t.y, t
                }, l.transformMat4 = function (t, e) {
                    var i = this.x, n = this.y, r = i + this.width, s = n + this.height, a = e.m,
                        o = a[0] * i + a[4] * n + a[12], c = a[1] * i + a[5] * n + a[13],
                        l = a[0] * r + a[4] * n + a[12], h = a[1] * r + a[5] * n + a[13],
                        u = a[0] * i + a[4] * s + a[12], f = a[1] * i + a[5] * s + a[13],
                        d = a[0] * r + a[4] * s + a[12], _ = a[1] * r + a[5] * s + a[13], p = Math.min(o, l, u, d),
                        v = Math.max(o, l, u, d), g = Math.min(c, h, f, _), m = Math.max(c, h, f, _);
                    return t.x = p, t.y = g, t.width = v - p, t.height = m - g, t
                }, l.toString = function () {
                    return "(" + this.x.toFixed(2) + ", " + this.y.toFixed(2) + ", " + this.width.toFixed(2) + ", " + this.height.toFixed(2) + ")"
                }, r = n, (o = [{
                    key: "xMin", get: function () {
                        return this.x
                    }, set: function (t) {
                        this.width += this.x - t, this.x = t
                    }
                }, {
                    key: "yMin", get: function () {
                        return this.y
                    }, set: function (t) {
                        this.height += this.y - t, this.y = t
                    }
                }, {
                    key: "xMax", get: function () {
                        return this.x + this.width
                    }, set: function (t) {
                        this.width = t - this.x
                    }
                }, {
                    key: "yMax", get: function () {
                        return this.y + this.height
                    }, set: function (t) {
                        this.height = t - this.y
                    }
                }, {
                    key: "center", get: function () {
                        return new s.default(this.x + .5 * this.width, this.y + .5 * this.height)
                    }, set: function (t) {
                        this.x = t.x - .5 * this.width, this.y = t.y - .5 * this.height
                    }
                }, {
                    key: "origin", get: function () {
                        return new s.default(this.x, this.y)
                    }, set: function (t) {
                        this.x = t.x, this.y = t.y
                    }
                }, {
                    key: "size", get: function () {
                        return new a.default(this.width, this.height)
                    }, set: function (t) {
                        this.width = t.width, this.height = t.height
                    }
                }]) && c(r.prototype, o), Object.defineProperty(r, "prototype", {writable: !1}), n
            })(n.default);
            i.default = u, r.default.fastDefine("cc.Rect", u, {
                x: 0,
                y: 0,
                width: 0,
                height: 0
            }), cc.Rect = u, cc.rect = function (t, e, i, n) {
                return new u(t, e, i, n)
            }, e.exports = i.default
        }), {"../platform/CCClass": 167, "./size": 270, "./value-type": 273, "./vec2": 274}],
        270: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = s(t("./value-type")), r = s(t("../platform/CCClass"));

            function s(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function a(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = o(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function o(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            function c(t, e) {
                return (c = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var l = (function (t) {
                var e, i;

                function n(e, i) {
                    var n;
                    return void 0 === e && (e = 0), void 0 === i && (i = 0), (n = t.call(this) || this).width = void 0, n.height = void 0, e && "object" == typeof e ? (n.width = e.width, n.height = e.height) : (n.width = e || 0, n.height = i || 0), n
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, c(e, i);
                var r, s, o = n.prototype;
                return o.clone = function () {
                    return new n(this.width, this.height)
                }, o.equals = function (t) {
                    return t && this.width === t.width && this.height === t.height
                }, o.lerp = function (t, e, i) {
                    i = i || new n;
                    var r = this.width, s = this.height;
                    return i.width = r + (t.width - r) * e, i.height = s + (t.height - s) * e, i
                }, o.set = function (t) {
                    return this.width = t.width, this.height = t.height, this
                }, o.toString = function () {
                    return "(" + this.width.toFixed(2) + ", " + this.height.toFixed(2) + ")"
                }, r = n, s = [{
                    key: "ZERO", get: function () {
                        return new n
                    }
                }], null && a(r.prototype, null), s && a(r, s), Object.defineProperty(r, "prototype", {writable: !1}), n
            })(n.default);
            i.default = l, l.ZERO_R = l.ZERO, r.default.fastDefine("cc.Size", l, {
                width: 0,
                height: 0
            }), cc.size = function (t, e) {
                return new l(t, e)
            }, cc.Size = l, e.exports = i.default
        }), {"../platform/CCClass": 167, "./value-type": 273}],
        271: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("./quat")) && n.__esModule ? n : {default: n}, s = new r.default, a = (function () {
                function t() {
                }

                return t.toRotation = function (t, e) {
                    return t.x = e[3], t.y = e[4], t.z = e[5], t.w = e[6], t
                }, t.fromRotation = function (t, e) {
                    return t[3] = e.x, t[4] = e.y, t[5] = e.z, t[6] = e.w, t
                }, t.toEuler = function (e, i) {
                    return t.toRotation(s, i), r.default.toEuler(e, s), e
                }, t.fromEuler = function (e, i) {
                    return r.default.fromEuler(s, i.x, i.y, i.z), t.fromRotation(e, s), e
                }, t.fromEulerNumber = function (e, i, n, a) {
                    return r.default.fromEuler(s, i, n, a), t.fromRotation(e, s), e
                }, t.toScale = function (t, e) {
                    return t.x = e[7], t.y = e[8], t.z = e[9], t
                }, t.fromScale = function (t, e) {
                    return t[7] = e.x, t[8] = e.y, t[9] = e.z, t
                }, t.toPosition = function (t, e) {
                    return t.x = e[0], t.y = e[1], t.z = e[2], t
                }, t.fromPosition = function (t, e) {
                    return t[0] = e.x, t[1] = e.y, t[2] = e.z, t
                }, t.fromAngleZ = function (e, i) {
                    return r.default.fromAngleZ(s, i), t.fromRotation(e, s), e
                }, t.toMat4 = function (t, e) {
                    var i = e[3], n = e[4], r = e[5], s = e[6], a = i + i, o = n + n, c = r + r, l = i * a, h = i * o,
                        u = i * c, f = n * o, d = n * c, _ = r * c, p = s * a, v = s * o, g = s * c, m = e[7], y = e[8],
                        T = e[9], E = t.m;
                    return E[0] = (1 - (f + _)) * m, E[1] = (h + g) * m, E[2] = (u - v) * m, E[3] = 0, E[4] = (h - g) * y, E[5] = (1 - (l + _)) * y, E[6] = (d + p) * y, E[7] = 0, E[8] = (u + v) * T, E[9] = (d - p) * T, E[10] = (1 - (l + f)) * T, E[11] = 0, E[12] = e[0], E[13] = e[1], E[14] = e[2], E[15] = 1, t
                }, t
            })();
            i.default = a, cc.Trs = a, e.exports = i.default
        }), {"./quat": 268}],
        272: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.INT_MIN = i.INT_MAX = i.INT_BITS = i.FLOAT_BYTES = i.FLOAT_ARRAY_TYPE = i.EPSILON = void 0, i.approx = function (t, e, i) {
                return i = i || s, Math.abs(t - e) <= i
            }, i.clamp = function (t, e, i) {
                return t < e ? e : t > i ? i : t
            }, i.clamp01 = function (t) {
                return t < 0 ? 0 : t > 1 ? 1 : t
            }, i.equals = function (t, e) {
                return Math.abs(t - e) <= s * Math.max(1, Math.abs(t), Math.abs(e))
            }, i.inverseLerp = function (t, e, i) {
                return (i - t) / (e - t)
            }, i.lerp = function (t, e, i) {
                return t + (e - t) * i
            }, i.nextPow2 = function (t) {
                return --t, t |= t >> 1, t |= t >> 2, t |= t >> 4, t |= t >> 8, t |= t >> 16, ++t
            }, i.pingPong = function (t, e) {
                return t = u(t, 2 * e), e - Math.abs(t - e)
            }, i.pseudoRandom = l, i.pseudoRandomRange = h, i.pseudoRandomRangeInt = function (t, e, i) {
                return Math.floor(h(t, e, i))
            }, i.random = void 0, i.randomRange = c, i.randomRangeInt = function (t, e) {
                return Math.floor(c(t, e))
            }, i.repeat = u, i.sign = function (t) {
                return (t > 0) - (t < 0)
            }, i.toDegree = function (t) {
                return t * r
            }, i.toRadian = function (t) {
                return t * n
            };
            var n = Math.PI / 180, r = 180 / Math.PI, s = 1e-6;
            i.EPSILON = s, i.INT_BITS = 32, i.INT_MAX = 2147483647, i.INT_MIN = -1 << 31;
            var a = Float64Array;
            i.FLOAT_ARRAY_TYPE = a, i.FLOAT_BYTES = 8;
            var o = Math.random;

            function c(t, e) {
                return Math.random() * (e - t) + t
            }

            function l(t) {
                return (t = (9301 * t + 49297) % 233280) / 233280
            }

            function h(t, e, i) {
                return l(t) * (i - e) + e
            }

            function u(t, e) {
                return t - Math.floor(t / e) * e
            }

            i.random = o
        }), {}],
        273: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../platform/js")) && n.__esModule ? n : {default: n}, s = (function () {
                function t() {
                }

                var e = t.prototype;
                return e.clone = function () {
                    return cc.errorID("0100", r.default.getClassName(this) + ".clone"), null
                }, e.equals = function () {
                    return cc.errorID("0100", r.default.getClassName(this) + ".equals"), !1
                }, e.lerp = function () {
                    return cc.errorID("0100", r.default.getClassName(this) + ".lerp"), this.clone()
                }, e.set = function () {
                    cc.errorID("0100", r.default.getClassName(this) + ".set")
                }, e.toString = function () {
                    return "" + {}
                }, t
            })();
            i.default = s, r.default.setClassName("cc.ValueType", s), cc.ValueType = s, e.exports = i.default
        }), {"../platform/js": 188}],
        274: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = o(t("./value-type")), r = o(t("../platform/CCClass")), s = o(t("../utils/misc")), a = t("./utils");

            function o(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function c(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = l(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function l(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            function h(t, e) {
                return (h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var u = 0, f = 0, d = (function (t) {
                var e, i;
                i = t, (e = l).prototype = Object.create(i.prototype), e.prototype.constructor = e, h(e, i);
                var n, r, o = l.prototype;

                function l(e, i) {
                    var n;
                    return void 0 === e && (e = 0), void 0 === i && (i = 0), (n = t.call(this) || this).mag = l.prototype.len, n.magSqr = l.prototype.lengthSqr, n.subSelf = l.prototype.subtract, n.mulSelf = l.prototype.multiplyScalar, n.divSelf = l.prototype.divide, n.scaleSelf = l.prototype.multiply, n.negSelf = l.prototype.negate, n.x = void 0, n.y = void 0, n.z = 0, e && "object" == typeof e ? (n.x = e.x || 0, n.y = e.y || 0) : (n.x = e || 0, n.y = i || 0), n
                }

                return o.sub = function (t, e) {
                    return l.subtract(e || new l, this, t)
                }, o.mul = function (t, e) {
                    return l.multiplyScalar(e || new l, this, t)
                }, o.div = function (t, e) {
                    return l.multiplyScalar(e || new l, this, 1 / t)
                }, o.scale = function (t, e) {
                    return l.multiply(e || new l, this, t)
                }, o.neg = function (t) {
                    return l.negate(t || new l, this)
                }, l.clone = function (t) {
                    return new l(t.x, t.y)
                }, l.copy = function (t, e) {
                    return t.x = e.x, t.y = e.y, t
                }, l.set = function (t, e, i) {
                    return t.x = e, t.y = i, t
                }, l.add = function (t, e, i) {
                    return t.x = e.x + i.x, t.y = e.y + i.y, t
                }, l.subtract = function (t, e, i) {
                    return t.x = e.x - i.x, t.y = e.y - i.y, t
                }, l.multiply = function (t, e, i) {
                    return t.x = e.x * i.x, t.y = e.y * i.y, t
                }, l.divide = function (t, e, i) {
                    return t.x = e.x / i.x, t.y = e.y / i.y, t
                }, l.ceil = function (t, e) {
                    return t.x = Math.ceil(e.x), t.y = Math.ceil(e.y), t
                }, l.floor = function (t, e) {
                    return t.x = Math.floor(e.x), t.y = Math.floor(e.y), t
                }, l.min = function (t, e, i) {
                    return t.x = Math.min(e.x, i.x), t.y = Math.min(e.y, i.y), t
                }, l.max = function (t, e, i) {
                    return t.x = Math.max(e.x, i.x), t.y = Math.max(e.y, i.y), t
                }, l.round = function (t, e) {
                    return t.x = Math.round(e.x), t.y = Math.round(e.y), t
                }, l.multiplyScalar = function (t, e, i) {
                    return t.x = e.x * i, t.y = e.y * i, t
                }, l.scaleAndAdd = function (t, e, i, n) {
                    return t.x = e.x + i.x * n, t.y = e.y + i.y * n, t
                }, l.distance = function (t, e) {
                    return u = e.x - t.x, f = e.y - t.y, Math.sqrt(u * u + f * f)
                }, l.squaredDistance = function (t, e) {
                    return u = e.x - t.x, f = e.y - t.y, u * u + f * f
                }, l.len = function (t) {
                    return u = t.x, f = t.y, Math.sqrt(u * u + f * f)
                }, l.lengthSqr = function (t) {
                    return u = t.x, f = t.y, u * u + f * f
                }, l.negate = function (t, e) {
                    return t.x = -e.x, t.y = -e.y, t
                }, l.inverse = function (t, e) {
                    return t.x = 1 / e.x, t.y = 1 / e.y, t
                }, l.inverseSafe = function (t, e) {
                    return u = e.x, f = e.y, Math.abs(u) < a.EPSILON ? t.x = 0 : t.x = 1 / u, Math.abs(f) < a.EPSILON ? t.y = 0 : t.y = 1 / f, t
                }, l.normalize = function (t, e) {
                    u = e.x, f = e.y;
                    var i = u * u + f * f;
                    return i > 0 && (i = 1 / Math.sqrt(i), t.x = u * i, t.y = f * i), t
                }, l.dot = function (t, e) {
                    return t.x * e.x + t.y * e.y
                }, l.cross = function (t, e, i) {
                    return t.x = t.y = 0, t.z = e.x * i.y - e.y * i.x, t
                }, l.lerp = function (t, e, i, n) {
                    return u = e.x, f = e.y, t.x = u + n * (i.x - u), t.y = f + n * (i.y - f), t
                }, l.random = function (t, e) {
                    e = e || 1;
                    var i = 2 * (0, a.random)() * Math.PI;
                    return t.x = Math.cos(i) * e, t.y = Math.sin(i) * e, t
                }, l.transformMat3 = function (t, e, i) {
                    u = e.x, f = e.y;
                    var n = i.m;
                    return t.x = n[0] * u + n[3] * f + n[6], t.y = n[1] * u + n[4] * f + n[7], t
                }, l.transformMat4 = function (t, e, i) {
                    u = e.x, f = e.y;
                    var n = i.m;
                    return t.x = n[0] * u + n[4] * f + n[12], t.y = n[1] * u + n[5] * f + n[13], t
                }, l.strictEquals = function (t, e) {
                    return t.x === e.x && t.y === e.y
                }, l.equals = function (t, e, i) {
                    return void 0 === i && (i = a.EPSILON), Math.abs(t.x - e.x) <= i * Math.max(1, Math.abs(t.x), Math.abs(e.x)) && Math.abs(t.y - e.y) <= i * Math.max(1, Math.abs(t.y), Math.abs(e.y))
                }, l.angle = function (t, e) {
                    l.normalize(_, t), l.normalize(p, e);
                    var i = l.dot(_, p);
                    return i > 1 ? 0 : i < -1 ? Math.PI : Math.acos(i)
                }, l.toArray = function (t, e, i) {
                    return void 0 === i && (i = 0), t[i + 0] = e.x, t[i + 1] = e.y, t
                }, l.fromArray = function (t, e, i) {
                    return void 0 === i && (i = 0), t.x = e[i + 0], t.y = e[i + 1], t
                }, o.clone = function () {
                    return new l(this.x, this.y)
                }, o.set = function (t) {
                    return this.x = t.x, this.y = t.y, this
                }, o.equals = function (t) {
                    return t && this.x === t.x && this.y === t.y
                }, o.fuzzyEquals = function (t, e) {
                    return this.x - e <= t.x && t.x <= this.x + e && this.y - e <= t.y && t.y <= this.y + e
                }, o.toString = function () {
                    return "(" + this.x.toFixed(2) + ", " + this.y.toFixed(2) + ")"
                }, o.lerp = function (t, e, i) {
                    i = i || new l;
                    var n = this.x, r = this.y;
                    return i.x = n + (t.x - n) * e, i.y = r + (t.y - r) * e, i
                }, o.clampf = function (t, e) {
                    return this.x = s.default.clampf(this.x, t.x, e.x), this.y = s.default.clampf(this.y, t.y, e.y), this
                }, o.add = function (t, e) {
                    return (e = e || new l).x = this.x + t.x, e.y = this.y + t.y, e
                }, o.addSelf = function (t) {
                    return this.x += t.x, this.y += t.y, this
                }, o.subtract = function (t) {
                    return this.x -= t.x, this.y -= t.y, this
                }, o.multiplyScalar = function (t) {
                    return this.x *= t, this.y *= t, this
                }, o.multiply = function (t) {
                    return this.x *= t.x, this.y *= t.y, this
                }, o.divide = function (t) {
                    return this.x /= t, this.y /= t, this
                }, o.negate = function () {
                    return this.x = -this.x, this.y = -this.y, this
                }, o.dot = function (t) {
                    return this.x * t.x + this.y * t.y
                }, o.cross = function (t) {
                    return this.x * t.y - this.y * t.x
                }, o.len = function () {
                    return Math.sqrt(this.x * this.x + this.y * this.y)
                }, o.lengthSqr = function () {
                    return this.x * this.x + this.y * this.y
                }, o.normalizeSelf = function () {
                    var t = this.x * this.x + this.y * this.y;
                    if (1 === t) return this;
                    if (0 === t) return this;
                    var e = 1 / Math.sqrt(t);
                    return this.x *= e, this.y *= e, this
                }, o.normalize = function (t) {
                    return (t = t || new l).x = this.x, t.y = this.y, t.normalizeSelf(), t
                }, o.angle = function (t) {
                    var e = this.magSqr(), i = t.magSqr();
                    if (0 === e || 0 === i) return console.warn("Can't get angle between zero vector"), 0;
                    var n = this.dot(t) / Math.sqrt(e * i);
                    return n = s.default.clampf(n, -1, 1), Math.acos(n)
                }, o.signAngle = function (t) {
                    var e = this.angle(t);
                    return this.cross(t) < 0 ? -e : e
                }, o.rotate = function (t, e) {
                    return (e = e || new l).x = this.x, e.y = this.y, e.rotateSelf(t)
                }, o.rotateSelf = function (t) {
                    var e = Math.sin(t), i = Math.cos(t), n = this.x;
                    return this.x = i * n - e * this.y, this.y = e * n + i * this.y, this
                }, o.project = function (t) {
                    return t.multiplyScalar(this.dot(t) / t.dot(t))
                }, o.transformMat4 = function (t, e) {
                    return e = e || new l, l.transformMat4(e, this, t), e
                }, o.maxAxis = function () {
                    return Math.max(this.x, this.y)
                }, n = l, r = [{
                    key: "ONE", get: function () {
                        return new l(1, 1)
                    }
                }, {
                    key: "ZERO", get: function () {
                        return new l(0, 0)
                    }
                }, {
                    key: "UP", get: function () {
                        return new l(0, 1)
                    }
                }, {
                    key: "RIGHT", get: function () {
                        return new l(1, 0)
                    }
                }], null && c(n.prototype, null), r && c(n, r), Object.defineProperty(n, "prototype", {writable: !1}), l
            })(n.default);
            i.default = d, d.sub = d.subtract, d.mul = d.multiply, d.scale = d.multiplyScalar, d.mag = d.len, d.squaredMagnitude = d.lengthSqr, d.div = d.divide, d.ONE_R = d.ONE, d.ZERO_R = d.ZERO, d.UP_R = d.UP, d.RIGHT_R = d.RIGHT;
            var _ = new d, p = new d;
            r.default.fastDefine("cc.Vec2", d, {x: 0, y: 0}), cc.v2 = function (t, e) {
                return new d(t, e)
            }, cc.Vec2 = d, e.exports = i.default
        }), {"../platform/CCClass": 167, "../utils/misc": 250, "./utils": 272, "./value-type": 273}],
        275: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = c(t("./value-type")), r = c(t("../platform/CCClass")), s = c(t("../utils/misc")),
                a = c(t("./vec2")), o = t("./utils");

            function c(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function l(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = h(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function h(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            function u(t, e) {
                return (u = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var f = 0, d = 0, _ = 0, p = (function (t) {
                var e, i;
                i = t, (e = h).prototype = Object.create(i.prototype), e.prototype.constructor = e, u(e, i);
                var n, r, c = h.prototype;

                function h(e, i, n) {
                    var r;
                    return void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), (r = t.call(this) || this).mag = h.prototype.len, r.magSqr = h.prototype.lengthSqr, r.subSelf = h.prototype.subtract, r.mulSelf = h.prototype.multiplyScalar, r.divSelf = h.prototype.divide, r.scaleSelf = h.prototype.multiply, r.negSelf = h.prototype.negate, r.x = void 0, r.y = void 0, r.z = void 0, r.angle = a.default.prototype.angle, r.project = a.default.prototype.project, e && "object" == typeof e ? (r.x = e.x, r.y = e.y, r.z = e.z) : (r.x = e, r.y = i, r.z = n), r
                }

                return c.sub = function (t, e) {
                    return h.subtract(e || new h, this, t)
                }, c.mul = function (t, e) {
                    return h.multiplyScalar(e || new h, this, t)
                }, c.div = function (t, e) {
                    return h.multiplyScalar(e || new h, this, 1 / t)
                }, c.scale = function (t, e) {
                    return h.multiply(e || new h, this, t)
                }, c.neg = function (t) {
                    return h.negate(t || new h, this)
                }, h.zero = function (t) {
                    return t.x = 0, t.y = 0, t.z = 0, t
                }, h.clone = function (t) {
                    return new h(t.x, t.y, t.z)
                }, h.copy = function (t, e) {
                    return t.x = e.x, t.y = e.y, t.z = e.z, t
                }, h.set = function (t, e, i, n) {
                    return t.x = e, t.y = i, t.z = n, t
                }, h.add = function (t, e, i) {
                    return t.x = e.x + i.x, t.y = e.y + i.y, t.z = e.z + i.z, t
                }, h.subtract = function (t, e, i) {
                    return t.x = e.x - i.x, t.y = e.y - i.y, t.z = e.z - i.z, t
                }, h.multiply = function (t, e, i) {
                    return t.x = e.x * i.x, t.y = e.y * i.y, t.z = e.z * i.z, t
                }, h.divide = function (t, e, i) {
                    return t.x = e.x / i.x, t.y = e.y / i.y, t.z = e.z / i.z, t
                }, h.ceil = function (t, e) {
                    return t.x = Math.ceil(e.x), t.y = Math.ceil(e.y), t.z = Math.ceil(e.z), t
                }, h.floor = function (t, e) {
                    return t.x = Math.floor(e.x), t.y = Math.floor(e.y), t.z = Math.floor(e.z), t
                }, h.min = function (t, e, i) {
                    return t.x = Math.min(e.x, i.x), t.y = Math.min(e.y, i.y), t.z = Math.min(e.z, i.z), t
                }, h.max = function (t, e, i) {
                    return t.x = Math.max(e.x, i.x), t.y = Math.max(e.y, i.y), t.z = Math.max(e.z, i.z), t
                }, h.round = function (t, e) {
                    return t.x = Math.round(e.x), t.y = Math.round(e.y), t.z = Math.round(e.z), t
                }, h.multiplyScalar = function (t, e, i) {
                    return t.x = e.x * i, t.y = e.y * i, t.z = e.z * i, t
                }, h.scaleAndAdd = function (t, e, i, n) {
                    return t.x = e.x + i.x * n, t.y = e.y + i.y * n, t.z = e.z + i.z * n, t
                }, h.distance = function (t, e) {
                    return f = e.x - t.x, d = e.y - t.y, _ = e.z - t.z, Math.sqrt(f * f + d * d + _ * _)
                }, h.squaredDistance = function (t, e) {
                    return f = e.x - t.x, d = e.y - t.y, _ = e.z - t.z, f * f + d * d + _ * _
                }, h.len = function (t) {
                    return f = t.x, d = t.y, _ = t.z, Math.sqrt(f * f + d * d + _ * _)
                }, h.lengthSqr = function (t) {
                    return f = t.x, d = t.y, _ = t.z, f * f + d * d + _ * _
                }, h.negate = function (t, e) {
                    return t.x = -e.x, t.y = -e.y, t.z = -e.z, t
                }, h.inverse = function (t, e) {
                    return t.x = 1 / e.x, t.y = 1 / e.y, t.z = 1 / e.z, t
                }, h.inverseSafe = function (t, e) {
                    return f = e.x, d = e.y, _ = e.z, Math.abs(f) < o.EPSILON ? t.x = 0 : t.x = 1 / f, Math.abs(d) < o.EPSILON ? t.y = 0 : t.y = 1 / d, Math.abs(_) < o.EPSILON ? t.z = 0 : t.z = 1 / _, t
                }, h.normalize = function (t, e) {
                    f = e.x, d = e.y, _ = e.z;
                    var i = f * f + d * d + _ * _;
                    return i > 0 && (i = 1 / Math.sqrt(i), t.x = f * i, t.y = d * i, t.z = _ * i), t
                }, h.dot = function (t, e) {
                    return t.x * e.x + t.y * e.y + t.z * e.z
                }, h.cross = function (t, e, i) {
                    var n = e.x, r = e.y, s = e.z, a = i.x, o = i.y, c = i.z;
                    return t.x = r * c - s * o, t.y = s * a - n * c, t.z = n * o - r * a, t
                }, h.lerp = function (t, e, i, n) {
                    return t.x = e.x + n * (i.x - e.x), t.y = e.y + n * (i.y - e.y), t.z = e.z + n * (i.z - e.z), t
                }, h.random = function (t, e) {
                    e = e || 1;
                    var i = 2 * (0, o.random)() * Math.PI, n = 2 * (0, o.random)() - 1, r = Math.sqrt(1 - n * n);
                    return t.x = r * Math.cos(i) * e, t.y = r * Math.sin(i) * e, t.z = n * e, t
                }, h.transformMat4 = function (t, e, i) {
                    f = e.x, d = e.y, _ = e.z;
                    var n = i.m, r = n[3] * f + n[7] * d + n[11] * _ + n[15];
                    return r = r ? 1 / r : 1, t.x = (n[0] * f + n[4] * d + n[8] * _ + n[12]) * r, t.y = (n[1] * f + n[5] * d + n[9] * _ + n[13]) * r, t.z = (n[2] * f + n[6] * d + n[10] * _ + n[14]) * r, t
                }, h.transformMat4Normal = function (t, e, i) {
                    f = e.x, d = e.y, _ = e.z;
                    var n = i.m, r = n[3] * f + n[7] * d + n[11] * _;
                    return r = r ? 1 / r : 1, t.x = (n[0] * f + n[4] * d + n[8] * _) * r, t.y = (n[1] * f + n[5] * d + n[9] * _) * r, t.z = (n[2] * f + n[6] * d + n[10] * _) * r, t
                }, h.transformMat3 = function (t, e, i) {
                    f = e.x, d = e.y, _ = e.z;
                    var n = i.m;
                    return t.x = f * n[0] + d * n[3] + _ * n[6], t.y = f * n[1] + d * n[4] + _ * n[7], t.z = f * n[2] + d * n[5] + _ * n[8], t
                }, h.transformAffine = function (t, e, i) {
                    f = e.x, d = e.y, _ = e.z;
                    var n = i.m;
                    return t.x = n[0] * f + n[1] * d + n[2] * _ + n[3], t.y = n[4] * f + n[5] * d + n[6] * _ + n[7], t.x = n[8] * f + n[9] * d + n[10] * _ + n[11], t
                }, h.transformQuat = function (t, e, i) {
                    var n = i.w * e.x + i.y * e.z - i.z * e.y, r = i.w * e.y + i.z * e.x - i.x * e.z,
                        s = i.w * e.z + i.x * e.y - i.y * e.x, a = -i.x * e.x - i.y * e.y - i.z * e.z;
                    return t.x = n * i.w + a * -i.x + r * -i.z - s * -i.y, t.y = r * i.w + a * -i.y + s * -i.x - n * -i.z, t.z = s * i.w + a * -i.z + n * -i.y - r * -i.x, t
                }, h.transformRTS = function (t, e, i, n, r) {
                    var s = e.x * r.x, a = e.y * r.y, o = e.z * r.z, c = i.w * s + i.y * o - i.z * a,
                        l = i.w * a + i.z * s - i.x * o, h = i.w * o + i.x * a - i.y * s,
                        u = -i.x * s - i.y * a - i.z * o;
                    return t.x = c * i.w + u * -i.x + l * -i.z - h * -i.y + n.x, t.y = l * i.w + u * -i.y + h * -i.x - c * -i.z + n.y, t.z = h * i.w + u * -i.z + c * -i.y - l * -i.x + n.z, t
                }, h.transformInverseRTS = function (t, e, i, n, r) {
                    var s = e.x - n.x, a = e.y - n.y, o = e.z - n.z, c = i.w * s - i.y * o + i.z * a,
                        l = i.w * a - i.z * s + i.x * o, h = i.w * o - i.x * a + i.y * s,
                        u = i.x * s + i.y * a + i.z * o;
                    return t.x = (c * i.w + u * i.x + l * i.z - h * i.y) / r.x, t.y = (l * i.w + u * i.y + h * i.x - c * i.z) / r.y, t.z = (h * i.w + u * i.z + c * i.y - l * i.x) / r.z, t
                }, h.rotateX = function (t, e, i, n) {
                    f = e.x - i.x, d = e.y - i.y, _ = e.z - i.z;
                    var r = Math.cos(n), s = Math.sin(n), a = f, o = d * r - _ * s, c = d * s + _ * r;
                    return t.x = a + i.x, t.y = o + i.y, t.z = c + i.z, t
                }, h.rotateY = function (t, e, i, n) {
                    f = e.x - i.x, d = e.y - i.y, _ = e.z - i.z;
                    var r = Math.cos(n), s = Math.sin(n), a = _ * s + f * r, o = d, c = _ * r - f * s;
                    return t.x = a + i.x, t.y = o + i.y, t.z = c + i.z, t
                }, h.rotateZ = function (t, e, i, n) {
                    f = e.x - i.x, d = e.y - i.y, _ = e.z - i.z;
                    var r = Math.cos(n), s = Math.sin(n), a = f * r - d * s, o = f * s + d * r, c = _;
                    return t.x = a + i.x, t.y = o + i.y, t.z = c + i.z, t
                }, h.strictEquals = function (t, e) {
                    return t.x === e.x && t.y === e.y && t.z === e.z
                }, h.equals = function (t, e, i) {
                    void 0 === i && (i = o.EPSILON);
                    var n = t.x, r = t.y, s = t.z, a = e.x, c = e.y, l = e.z;
                    return Math.abs(n - a) <= i * Math.max(1, Math.abs(n), Math.abs(a)) && Math.abs(r - c) <= i * Math.max(1, Math.abs(r), Math.abs(c)) && Math.abs(s - l) <= i * Math.max(1, Math.abs(s), Math.abs(l))
                }, h.angle = function (t, e) {
                    h.normalize(v, t), h.normalize(g, e);
                    var i = h.dot(v, g);
                    return i > 1 ? 0 : i < -1 ? Math.PI : Math.acos(i)
                }, h.projectOnPlane = function (t, e, i) {
                    return h.subtract(t, e, h.project(t, e, i))
                }, h.project = function (t, e, i) {
                    var n = h.lengthSqr(i);
                    return n < 1e-6 ? h.set(t, 0, 0, 0) : h.multiplyScalar(t, i, h.dot(e, i) / n)
                }, h.toArray = function (t, e, i) {
                    return void 0 === i && (i = 0), t[i + 0] = e.x, t[i + 1] = e.y, t[i + 2] = e.z, t
                }, h.fromArray = function (t, e, i) {
                    return void 0 === i && (i = 0), t.x = e[i + 0], t.y = e[i + 1], t.z = e[i + 2], t
                }, c.clone = function () {
                    return new h(this.x, this.y, this.z)
                }, c.set = function (t) {
                    return this.x = t.x, this.y = t.y, this.z = t.z, this
                }, c.equals = function (t) {
                    return t && this.x === t.x && this.y === t.y && this.z === t.z
                }, c.fuzzyEquals = function (t, e) {
                    return this.x - e <= t.x && t.x <= this.x + e && this.y - e <= t.y && t.y <= this.y + e && this.z - e <= t.z && t.z <= this.z + e
                }, c.toString = function () {
                    return "(" + this.x.toFixed(2) + ", " + this.y.toFixed(2) + ", " + this.z.toFixed(2) + ")"
                }, c.lerp = function (t, e, i) {
                    return i = i || new h, h.lerp(i, this, t, e), i
                }, c.clampf = function (t, e) {
                    return this.x = s.default.clampf(this.x, t.x, e.x), this.y = s.default.clampf(this.y, t.y, e.y), this.z = s.default.clampf(this.z, t.z, e.z), this
                }, c.addSelf = function (t) {
                    return this.x += t.x, this.y += t.y, this.z += t.z, this
                }, c.add = function (t, e) {
                    return (e = e || new h).x = this.x + t.x, e.y = this.y + t.y, e.z = this.z + t.z, e
                }, c.subtract = function (t) {
                    return this.x -= t.x, this.y -= t.y, this.z -= t.z, this
                }, c.multiplyScalar = function (t) {
                    return this.x *= t, this.y *= t, this.z *= t, this
                }, c.multiply = function (t) {
                    return this.x *= t.x, this.y *= t.y, this.z *= t.z, this
                }, c.divide = function (t) {
                    return this.x /= t, this.y /= t, this.z /= t, this
                }, c.negate = function () {
                    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this
                }, c.dot = function (t) {
                    return this.x * t.x + this.y * t.y + this.z * t.z
                }, c.cross = function (t, e) {
                    return e = e || new h, h.cross(e, this, t), e
                }, c.len = function () {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
                }, c.lengthSqr = function () {
                    return this.x * this.x + this.y * this.y + this.z * this.z
                }, c.normalizeSelf = function () {
                    return h.normalize(this, this), this
                }, c.normalize = function (t) {
                    return t = t || new h, h.normalize(t, this), t
                }, c.transformMat4 = function (t, e) {
                    return e = e || new h, h.transformMat4(e, this, t), e
                }, c.maxAxis = function () {
                    return Math.max(this.x, this.y, this.z)
                }, c.signAngle = function (t) {
                    cc.warnID(1408, "vec3.signAngle", "v2.1", "cc.v2(selfVector).signAngle(vector)");
                    var e = new a.default(this.x, this.y), i = new a.default(t.x, t.y);
                    return e.signAngle(i)
                }, c.rotate = function (t, e) {
                    return cc.warnID(1408, "vec3.rotate", "v2.1", "cc.v2(selfVector).rotate(radians, out)"), a.default.prototype.rotate.call(this, t, e)
                }, c.rotateSelf = function (t) {
                    return cc.warnID(1408, "vec3.rotateSelf", "v2.1", "cc.v2(selfVector).rotateSelf(radians)"), a.default.prototype.rotateSelf.call(this, t)
                }, n = h, r = [{
                    key: "ONE", get: function () {
                        return new h(1, 1, 1)
                    }
                }, {
                    key: "ZERO", get: function () {
                        return new h
                    }
                }, {
                    key: "UP", get: function () {
                        return new h(0, 1, 0)
                    }
                }, {
                    key: "RIGHT", get: function () {
                        return new h(1, 0, 0)
                    }
                }, {
                    key: "FORWARD", get: function () {
                        return new h(0, 0, 1)
                    }
                }], null && l(n.prototype, null), r && l(n, r), Object.defineProperty(n, "prototype", {writable: !1}), h
            })(n.default);
            i.default = p, p.sub = p.subtract, p.mul = p.multiply, p.scale = p.multiplyScalar, p.mag = p.len, p.squaredMagnitude = p.lengthSqr, p.div = p.divide, p.ONE_R = p.ONE, p.ZERO_R = p.ZERO, p.UP_R = p.UP, p.RIGHT_R = p.RIGHT, p.FRONT_R = p.FORWARD;
            var v = new p, g = new p;
            r.default.fastDefine("cc.Vec3", p, {x: 0, y: 0, z: 0}), cc.v3 = function (t, e, i) {
                return new p(t, e, i)
            }, cc.Vec3 = p, e.exports = i.default
        }), {"../platform/CCClass": 167, "../utils/misc": 250, "./utils": 272, "./value-type": 273, "./vec2": 274}],
        276: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0, i.v4 = p;
            var n = a(t("../platform/CCClass")), r = a(t("./value-type")), s = t("./utils");

            function a(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function o(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = c(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function c(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            function l(t, e) {
                return (l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var h = 0, u = 0, f = 0, d = 0, _ = (function (t) {
                var e, i;
                i = t, (e = c).prototype = Object.create(i.prototype), e.prototype.constructor = e, l(e, i);
                var n, r, a = c.prototype;

                function c(e, i, n, r) {
                    var s;
                    return void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), (s = t.call(this) || this).mag = c.prototype.len, s.magSqr = c.prototype.lengthSqr, s.subSelf = c.prototype.subtract, s.mulSelf = c.prototype.multiplyScalar, s.divSelf = c.prototype.divide, s.scaleSelf = c.prototype.multiply, s.negSelf = c.prototype.negate, s.x = void 0, s.y = void 0, s.z = void 0, s.w = void 0, e && "object" == typeof e ? (s.x = e.x, s.y = e.y, s.z = e.z, s.w = e.w) : (s.x = e, s.y = i, s.z = n, s.w = r), s
                }

                return a.sub = function (t, e) {
                    return c.subtract(e || new c, this, t)
                }, a.mul = function (t, e) {
                    return c.multiplyScalar(e || new c, this, t)
                }, a.div = function (t, e) {
                    return c.multiplyScalar(e || new c, this, 1 / t)
                }, a.scale = function (t, e) {
                    return c.multiply(e || new c, this, t)
                }, a.neg = function (t) {
                    return c.negate(t || new c, this)
                }, c.clone = function (t) {
                    return new c(t.x, t.y, t.z, t.w)
                }, c.copy = function (t, e) {
                    return t.x = e.x, t.y = e.y, t.z = e.z, t.w = e.w, t
                }, c.set = function (t, e, i, n, r) {
                    return t.x = e, t.y = i, t.z = n, t.w = r, t
                }, c.add = function (t, e, i) {
                    return t.x = e.x + i.x, t.y = e.y + i.y, t.z = e.z + i.z, t.w = e.w + i.w, t
                }, c.subtract = function (t, e, i) {
                    return t.x = e.x - i.x, t.y = e.y - i.y, t.z = e.z - i.z, t.w = e.w - i.w, t
                }, c.multiply = function (t, e, i) {
                    return t.x = e.x * i.x, t.y = e.y * i.y, t.z = e.z * i.z, t.w = e.w * i.w, t
                }, c.divide = function (t, e, i) {
                    return t.x = e.x / i.x, t.y = e.y / i.y, t.z = e.z / i.z, t.w = e.w / i.w, t
                }, c.ceil = function (t, e) {
                    return t.x = Math.ceil(e.x), t.y = Math.ceil(e.y), t.z = Math.ceil(e.z), t.w = Math.ceil(e.w), t
                }, c.floor = function (t, e) {
                    return t.x = Math.floor(e.x), t.y = Math.floor(e.y), t.z = Math.floor(e.z), t.w = Math.floor(e.w), t
                }, c.min = function (t, e, i) {
                    return t.x = Math.min(e.x, i.x), t.y = Math.min(e.y, i.y), t.z = Math.min(e.z, i.z), t.w = Math.min(e.w, i.w), t
                }, c.max = function (t, e, i) {
                    return t.x = Math.max(e.x, i.x), t.y = Math.max(e.y, i.y), t.z = Math.max(e.z, i.z), t.w = Math.max(e.w, i.w), t
                }, c.round = function (t, e) {
                    return t.x = Math.round(e.x), t.y = Math.round(e.y), t.z = Math.round(e.z), t.w = Math.round(e.w), t
                }, c.multiplyScalar = function (t, e, i) {
                    return t.x = e.x * i, t.y = e.y * i, t.z = e.z * i, t.w = e.w * i, t
                }, c.scaleAndAdd = function (t, e, i, n) {
                    return t.x = e.x + i.x * n, t.y = e.y + i.y * n, t.z = e.z + i.z * n, t.w = e.w + i.w * n, t
                }, c.distance = function (t, e) {
                    var i = e.x - t.x, n = e.y - t.y, r = e.z - t.z, s = e.w - t.w;
                    return Math.sqrt(i * i + n * n + r * r + s * s)
                }, c.squaredDistance = function (t, e) {
                    var i = e.x - t.x, n = e.y - t.y, r = e.z - t.z, s = e.w - t.w;
                    return i * i + n * n + r * r + s * s
                }, c.len = function (t) {
                    return h = t.x, u = t.y, f = t.z, d = t.w, Math.sqrt(h * h + u * u + f * f + d * d)
                }, c.lengthSqr = function (t) {
                    return h = t.x, u = t.y, f = t.z, d = t.w, h * h + u * u + f * f + d * d
                }, c.negate = function (t, e) {
                    return t.x = -e.x, t.y = -e.y, t.z = -e.z, t.w = -e.w, t
                }, c.inverse = function (t, e) {
                    return t.x = 1 / e.x, t.y = 1 / e.y, t.z = 1 / e.z, t.w = 1 / e.w, t
                }, c.inverseSafe = function (t, e) {
                    return h = e.x, u = e.y, f = e.z, d = e.w, Math.abs(h) < s.EPSILON ? t.x = 0 : t.x = 1 / h, Math.abs(u) < s.EPSILON ? t.y = 0 : t.y = 1 / u, Math.abs(f) < s.EPSILON ? t.z = 0 : t.z = 1 / f, Math.abs(d) < s.EPSILON ? t.w = 0 : t.w = 1 / d, t
                }, c.normalize = function (t, e) {
                    h = e.x, u = e.y, f = e.z, d = e.w;
                    var i = h * h + u * u + f * f + d * d;
                    return i > 0 && (i = 1 / Math.sqrt(i), t.x = h * i, t.y = u * i, t.z = f * i, t.w = d * i), t
                }, c.dot = function (t, e) {
                    return t.x * e.x + t.y * e.y + t.z * e.z + t.w * e.w
                }, c.lerp = function (t, e, i, n) {
                    return t.x = e.x + n * (i.x - e.x), t.y = e.y + n * (i.y - e.y), t.z = e.z + n * (i.z - e.z), t.w = e.w + n * (i.w - e.w), t
                }, c.random = function (t, e) {
                    e = e || 1;
                    var i = 2 * (0, s.random)() * Math.PI, n = 2 * (0, s.random)() - 1, r = Math.sqrt(1 - n * n);
                    return t.x = r * Math.cos(i) * e, t.y = r * Math.sin(i) * e, t.z = n * e, t.w = 0, t
                }, c.transformMat4 = function (t, e, i) {
                    h = e.x, u = e.y, f = e.z, d = e.w;
                    var n = i.m;
                    return t.x = n[0] * h + n[4] * u + n[8] * f + n[12] * d, t.y = n[1] * h + n[5] * u + n[9] * f + n[13] * d, t.z = n[2] * h + n[6] * u + n[10] * f + n[14] * d, t.w = n[3] * h + n[7] * u + n[11] * f + n[15] * d, t
                }, c.transformAffine = function (t, e, i) {
                    h = e.x, u = e.y, f = e.z, d = e.w;
                    var n = i.m;
                    return t.x = n[0] * h + n[1] * u + n[2] * f + n[3] * d, t.y = n[4] * h + n[5] * u + n[6] * f + n[7] * d, t.x = n[8] * h + n[9] * u + n[10] * f + n[11] * d, t.w = e.w, t
                }, c.transformQuat = function (t, e, i) {
                    var n = e.x, r = e.y, s = e.z;
                    h = i.x, u = i.y, f = i.z;
                    var a = (d = i.w) * n + u * s - f * r, o = d * r + f * n - h * s, c = d * s + h * r - u * n,
                        l = -h * n - u * r - f * s;
                    return t.x = a * d + l * -h + o * -f - c * -u, t.y = o * d + l * -u + c * -h - a * -f, t.z = c * d + l * -f + a * -u - o * -h, t.w = e.w, t
                }, c.strictEquals = function (t, e) {
                    return t.x === e.x && t.y === e.y && t.z === e.z && t.w === e.w
                }, c.equals = function (t, e, i) {
                    return void 0 === i && (i = s.EPSILON), Math.abs(t.x - e.x) <= i * Math.max(1, Math.abs(t.x), Math.abs(e.x)) && Math.abs(t.y - e.y) <= i * Math.max(1, Math.abs(t.y), Math.abs(e.y)) && Math.abs(t.z - e.z) <= i * Math.max(1, Math.abs(t.z), Math.abs(e.z)) && Math.abs(t.w - e.w) <= i * Math.max(1, Math.abs(t.w), Math.abs(e.w))
                }, c.toArray = function (t, e, i) {
                    return void 0 === i && (i = 0), t[i + 0] = e.x, t[i + 1] = e.y, t[i + 2] = e.z, t[i + 3] = e.w, t
                }, c.fromArray = function (t, e, i) {
                    return void 0 === i && (i = 0), t.x = e[i + 0], t.y = e[i + 1], t.z = e[i + 2], t.w = e[i + 3], t
                }, a.clone = function () {
                    return new c(this.x, this.y, this.z, this.w)
                }, a.set = function (t, e, i, n) {
                    return t && "object" == typeof t ? (this.x = t.x, this.y = t.y, this.z = t.z, this.w = t.w) : (this.x = t || 0, this.y = e || 0, this.z = i || 0, this.w = n || 0), this
                }, a.equals = function (t, e) {
                    return void 0 === e && (e = s.EPSILON), Math.abs(this.x - t.x) <= e * Math.max(1, Math.abs(this.x), Math.abs(t.x)) && Math.abs(this.y - t.y) <= e * Math.max(1, Math.abs(this.y), Math.abs(t.y)) && Math.abs(this.z - t.z) <= e * Math.max(1, Math.abs(this.z), Math.abs(t.z)) && Math.abs(this.w - t.w) <= e * Math.max(1, Math.abs(this.w), Math.abs(t.w))
                }, a.equals4f = function (t, e, i, n, r) {
                    return void 0 === r && (r = s.EPSILON), Math.abs(this.x - t) <= r * Math.max(1, Math.abs(this.x), Math.abs(t)) && Math.abs(this.y - e) <= r * Math.max(1, Math.abs(this.y), Math.abs(e)) && Math.abs(this.z - i) <= r * Math.max(1, Math.abs(this.z), Math.abs(i)) && Math.abs(this.w - n) <= r * Math.max(1, Math.abs(this.w), Math.abs(n))
                }, a.strictEquals = function (t) {
                    return this.x === t.x && this.y === t.y && this.z === t.z && this.w === t.w
                }, a.strictEquals4f = function (t, e, i, n) {
                    return this.x === t && this.y === e && this.z === i && this.w === n
                }, a.lerp = function (t, e) {
                    return h = this.x, u = this.y, f = this.z, d = this.w, this.x = h + e * (t.x - h), this.y = u + e * (t.y - u), this.z = f + e * (t.z - f), this.w = d + e * (t.w - d), this
                }, a.toString = function () {
                    return "(" + this.x.toFixed(2) + ", " + this.y.toFixed(2) + ", " + this.z.toFixed(2) + ", " + this.w.toFixed(2) + ")"
                }, a.clampf = function (t, e) {
                    return this.x = (0, s.clamp)(this.x, t.x, e.x), this.y = (0, s.clamp)(this.y, t.y, e.y), this.z = (0, s.clamp)(this.z, t.z, e.z), this.w = (0, s.clamp)(this.w, t.w, e.w), this
                }, a.addSelf = function (t) {
                    return this.x += t.x, this.y += t.y, this.z += t.z, this.w += t.w, this
                }, a.add = function (t, e) {
                    return (e = e || new c).x = this.x + t.x, e.y = this.y + t.y, e.z = this.z + t.z, e.w = this.w + t.w, e
                }, a.subtract = function (t, e) {
                    return (e = e || new c).x = this.x - t.x, e.y = this.y - t.y, e.z = this.z - t.z, e.w = this.w - t.w, e
                }, a.multiplyScalar = function (t) {
                    return this.x *= t, this.y *= t, this.z *= t, this.w *= t, this
                }, a.multiply = function (t) {
                    return this.x *= t.x, this.y *= t.y, this.z *= t.z, this.w *= t.w, this
                }, a.divide = function (t) {
                    return this.x /= t, this.y /= t, this.z /= t, this.w /= t, this
                }, a.negate = function () {
                    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this
                }, a.dot = function (t) {
                    return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w
                }, a.cross = function (t, e) {
                    e = e || new c;
                    var i = this.x, n = this.y, r = this.z, s = t.x, a = t.y, o = t.z;
                    return e.x = n * o - r * a, e.y = r * s - i * o, e.z = i * a - n * s, e
                }, a.len = function () {
                    var t = this.x, e = this.y, i = this.z, n = this.w;
                    return Math.sqrt(t * t + e * e + i * i + n * n)
                }, a.lengthSqr = function () {
                    var t = this.x, e = this.y, i = this.z, n = this.w;
                    return t * t + e * e + i * i + n * n
                }, a.normalizeSelf = function () {
                    return this.normalize(this), this
                }, a.normalize = function (t) {
                    t = t || new c, h = this.x, u = this.y, f = this.z, d = this.w;
                    var e = h * h + u * u + f * f + d * d;
                    return e > 0 && (e = 1 / Math.sqrt(e), t.x = h * e, t.y = u * e, t.z = f * e, t.w = d * e), t
                }, a.transformMat4 = function (t, e) {
                    e = e || new c, h = this.x, u = this.y, f = this.z, d = this.w;
                    var i = t.m;
                    return e.x = i[0] * h + i[4] * u + i[8] * f + i[12] * d, e.y = i[1] * h + i[5] * u + i[9] * f + i[13] * d, e.z = i[2] * h + i[6] * u + i[10] * f + i[14] * d, e.w = i[3] * h + i[7] * u + i[11] * f + i[15] * d, e
                }, a.maxAxis = function () {
                    return Math.max(this.x, this.y, this.z, this.w)
                }, n = c, r = [{
                    key: "ZERO", get: function () {
                        return new c(0, 0, 0, 0)
                    }
                }, {
                    key: "ONE", get: function () {
                        return new c(1, 1, 1, 1)
                    }
                }, {
                    key: "NEG_ONE", get: function () {
                        return new c(-1, -1, -1, -1)
                    }
                }], null && o(n.prototype, null), r && o(n, r), Object.defineProperty(n, "prototype", {writable: !1}), c
            })(r.default);

            function p(t, e, i, n) {
                return new _(t, e, i, n)
            }

            i.default = _, _.sub = _.subtract, _.mul = _.multiply, _.div = _.divide, _.scale = _.multiplyScalar, _.mag = _.len, _.squaredMagnitude = _.lengthSqr, _.ZERO_R = _.ZERO, _.ONE_R = _.ONE, _.NEG_ONE_R = _.NEG_ONE, n.default.fastDefine("cc.Vec4", _, {
                x: 0,
                y: 0,
                z: 0,
                w: 0
            }), cc.v4 = p, cc.Vec4 = _
        }), {"../platform/CCClass": 167, "./utils": 272, "./value-type": 273}],
        277: [(function () {
            "use strict";
            cc.js
        }), {}],
        278: [(function (t) {
            "use strict";
            t("./core/CCGame"), t("./actions")
        }), {"./actions": 7, "./core/CCGame": 38}],
        279: [(function (t, e) {
            "use strict";
            var i = t("../core/assets/CCAsset"), n = t("../core/assets/CCSpriteFrame"), r = cc.Class({
                name: "cc.ParticleAsset",
                extends: i,
                properties: {spriteFrame: {default: null, type: n}}
            });
            cc.ParticleAsset = e.exports = r
        }), {"../core/assets/CCAsset": 72, "../core/assets/CCSpriteFrame": 84}],
        280: [(function (t, e) {
            "use strict";
            var i, n, r, s, a, o, c, l, h, u, f, d, _, p, v, g, m, y, T, E, A, b, x, C, S, w, M, R, I, O, D, P, L, N, F,
                B, k, V, U, z, H, W;
            (function (t) {
                t[t.COMPRESSED_RGB_S3TC_DXT1_EXT = 33776] = "COMPRESSED_RGB_S3TC_DXT1_EXT", t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT = 33777] = "COMPRESSED_RGBA_S3TC_DXT1_EXT", t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT = 33778] = "COMPRESSED_RGBA_S3TC_DXT3_EXT", t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT = 33779] = "COMPRESSED_RGBA_S3TC_DXT5_EXT", t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT = 35916] = "COMPRESSED_SRGB_S3TC_DXT1_EXT", t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT = 35917] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT", t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT = 35918] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT", t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT = 35919] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT", t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG = 35840] = "COMPRESSED_RGB_PVRTC_4BPPV1_IMG", t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG = 35841] = "COMPRESSED_RGB_PVRTC_2BPPV1_IMG", t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG = 35842] = "COMPRESSED_RGBA_PVRTC_4BPPV1_IMG", t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG = 35843] = "COMPRESSED_RGBA_PVRTC_2BPPV1_IMG", t[t.COMPRESSED_RGB_ETC1_WEBGL = 36196] = "COMPRESSED_RGB_ETC1_WEBGL"
            })(i || (i = {})), (function (t) {
                t[t.UNKNOWN = 0] = "UNKNOWN", t[t.BUFFER = 1] = "BUFFER", t[t.TEXTURE = 2] = "TEXTURE", t[t.TEXTURE_VIEW = 3] = "TEXTURE_VIEW", t[t.RENDER_PASS = 4] = "RENDER_PASS", t[t.FRAMEBUFFER = 5] = "FRAMEBUFFER", t[t.SAMPLER = 6] = "SAMPLER", t[t.SHADER = 7] = "SHADER", t[t.PIPELINE_LAYOUT = 8] = "PIPELINE_LAYOUT", t[t.PIPELINE_STATE = 9] = "PIPELINE_STATE", t[t.BINDING_LAYOUT = 10] = "BINDING_LAYOUT", t[t.INPUT_ASSEMBLER = 11] = "INPUT_ASSEMBLER", t[t.COMMAND_ALLOCATOR = 12] = "COMMAND_ALLOCATOR", t[t.COMMAND_BUFFER = 13] = "COMMAND_BUFFER", t[t.QUEUE = 14] = "QUEUE", t[t.WINDOW = 15] = "WINDOW"
            })(n || (n = {})), (function (t) {
                t[t.UNREADY = 0] = "UNREADY", t[t.FAILED = 1] = "FAILED", t[t.SUCCESS = 2] = "SUCCESS"
            })(r || (r = {})), (function () {
                function t(t) {
                    this._gfxType = n.UNKNOWN, this._status = r.UNREADY, this._gfxType = t
                }

                Object.defineProperty(t.prototype, "gfxType", {
                    get: function () {
                        return this._gfxType
                    }, enumerable: !0, configurable: !0
                }), Object.defineProperty(t.prototype, "status", {
                    get: function () {
                        return this._status
                    }, enumerable: !0, configurable: !0
                })
            })(), (function (t) {
                t.ATTR_POSITION = "a_position", t.ATTR_NORMAL = "a_normal", t.ATTR_TANGENT = "a_tangent", t.ATTR_BITANGENT = "a_bitangent", t.ATTR_WEIGHTS = "a_weights", t.ATTR_JOINTS = "a_joints", t.ATTR_COLOR = "a_color", t.ATTR_COLOR1 = "a_color1", t.ATTR_COLOR2 = "a_color2", t.ATTR_TEX_COORD = "a_texCoord", t.ATTR_TEX_COORD1 = "a_texCoord1", t.ATTR_TEX_COORD2 = "a_texCoord2", t.ATTR_TEX_COORD3 = "a_texCoord3", t.ATTR_TEX_COORD4 = "a_texCoord4", t.ATTR_TEX_COORD5 = "a_texCoord5", t.ATTR_TEX_COORD6 = "a_texCoord6", t.ATTR_TEX_COORD7 = "a_texCoord7", t.ATTR_TEX_COORD8 = "a_texCoord8"
            })(s || (s = {})), (function (t) {
                t[t.UNKNOWN = 0] = "UNKNOWN", t[t.BOOL = 1] = "BOOL", t[t.BOOL2 = 2] = "BOOL2", t[t.BOOL3 = 3] = "BOOL3", t[t.BOOL4 = 4] = "BOOL4", t[t.INT = 5] = "INT", t[t.INT2 = 6] = "INT2", t[t.INT3 = 7] = "INT3", t[t.INT4 = 8] = "INT4", t[t.UINT = 9] = "UINT", t[t.UINT2 = 10] = "UINT2", t[t.UINT3 = 11] = "UINT3", t[t.UINT4 = 12] = "UINT4", t[t.FLOAT = 13] = "FLOAT", t[t.FLOAT2 = 14] = "FLOAT2", t[t.FLOAT3 = 15] = "FLOAT3", t[t.FLOAT4 = 16] = "FLOAT4", t[t.COLOR4 = 17] = "COLOR4", t[t.MAT2 = 18] = "MAT2", t[t.MAT2X3 = 19] = "MAT2X3", t[t.MAT2X4 = 20] = "MAT2X4", t[t.MAT3X2 = 21] = "MAT3X2", t[t.MAT3 = 22] = "MAT3", t[t.MAT3X4 = 23] = "MAT3X4", t[t.MAT4X2 = 24] = "MAT4X2", t[t.MAT4X3 = 25] = "MAT4X3", t[t.MAT4 = 26] = "MAT4", t[t.SAMPLER1D = 27] = "SAMPLER1D", t[t.SAMPLER1D_ARRAY = 28] = "SAMPLER1D_ARRAY", t[t.SAMPLER2D = 29] = "SAMPLER2D", t[t.SAMPLER2D_ARRAY = 30] = "SAMPLER2D_ARRAY", t[t.SAMPLER3D = 31] = "SAMPLER3D", t[t.SAMPLER_CUBE = 32] = "SAMPLER_CUBE", t[t.COUNT = 33] = "COUNT"
            })(a || (a = {})), (function (t) {
                t[t.UNKNOWN = 0] = "UNKNOWN", t[t.A8 = 1] = "A8", t[t.L8 = 2] = "L8", t[t.LA8 = 3] = "LA8", t[t.R8 = 4] = "R8", t[t.R8SN = 5] = "R8SN", t[t.R8UI = 6] = "R8UI", t[t.R8I = 7] = "R8I", t[t.R16F = 8] = "R16F", t[t.R16UI = 9] = "R16UI", t[t.R16I = 10] = "R16I", t[t.R32F = 11] = "R32F", t[t.R32UI = 12] = "R32UI", t[t.R32I = 13] = "R32I", t[t.RG8 = 14] = "RG8", t[t.RG8SN = 15] = "RG8SN", t[t.RG8UI = 16] = "RG8UI", t[t.RG8I = 17] = "RG8I", t[t.RG16F = 18] = "RG16F", t[t.RG16UI = 19] = "RG16UI", t[t.RG16I = 20] = "RG16I", t[t.RG32F = 21] = "RG32F", t[t.RG32UI = 22] = "RG32UI", t[t.RG32I = 23] = "RG32I", t[t.RGB8 = 24] = "RGB8", t[t.SRGB8 = 25] = "SRGB8", t[t.RGB8SN = 26] = "RGB8SN", t[t.RGB8UI = 27] = "RGB8UI", t[t.RGB8I = 28] = "RGB8I", t[t.RGB16F = 29] = "RGB16F", t[t.RGB16UI = 30] = "RGB16UI", t[t.RGB16I = 31] = "RGB16I", t[t.RGB32F = 32] = "RGB32F", t[t.RGB32UI = 33] = "RGB32UI", t[t.RGB32I = 34] = "RGB32I", t[t.RGBA8 = 35] = "RGBA8", t[t.SRGB8_A8 = 36] = "SRGB8_A8", t[t.RGBA8SN = 37] = "RGBA8SN", t[t.RGBA8UI = 38] = "RGBA8UI", t[t.RGBA8I = 39] = "RGBA8I", t[t.RGBA16F = 40] = "RGBA16F", t[t.RGBA16UI = 41] = "RGBA16UI", t[t.RGBA16I = 42] = "RGBA16I", t[t.RGBA32F = 43] = "RGBA32F", t[t.RGBA32UI = 44] = "RGBA32UI", t[t.RGBA32I = 45] = "RGBA32I", t[t.R5G6B5 = 46] = "R5G6B5", t[t.R11G11B10F = 47] = "R11G11B10F", t[t.RGB5A1 = 48] = "RGB5A1", t[t.RGBA4 = 49] = "RGBA4", t[t.RGB10A2 = 50] = "RGB10A2", t[t.RGB10A2UI = 51] = "RGB10A2UI", t[t.RGB9E5 = 52] = "RGB9E5", t[t.D16 = 53] = "D16", t[t.D16S8 = 54] = "D16S8", t[t.D24 = 55] = "D24", t[t.D24S8 = 56] = "D24S8", t[t.D32F = 57] = "D32F", t[t.D32F_S8 = 58] = "D32F_S8", t[t.BC1 = 59] = "BC1", t[t.BC1_ALPHA = 60] = "BC1_ALPHA", t[t.BC1_SRGB = 61] = "BC1_SRGB", t[t.BC1_SRGB_ALPHA = 62] = "BC1_SRGB_ALPHA", t[t.BC2 = 63] = "BC2", t[t.BC2_SRGB = 64] = "BC2_SRGB", t[t.BC3 = 65] = "BC3", t[t.BC3_SRGB = 66] = "BC3_SRGB", t[t.BC4 = 67] = "BC4", t[t.BC4_SNORM = 68] = "BC4_SNORM", t[t.BC5 = 69] = "BC5", t[t.BC5_SNORM = 70] = "BC5_SNORM", t[t.BC6H_UF16 = 71] = "BC6H_UF16", t[t.BC6H_SF16 = 72] = "BC6H_SF16", t[t.BC7 = 73] = "BC7", t[t.BC7_SRGB = 74] = "BC7_SRGB", t[t.ETC_RGB8 = 75] = "ETC_RGB8", t[t.ETC2_RGB8 = 76] = "ETC2_RGB8", t[t.ETC2_SRGB8 = 77] = "ETC2_SRGB8", t[t.ETC2_RGB8_A1 = 78] = "ETC2_RGB8_A1", t[t.ETC2_SRGB8_A1 = 79] = "ETC2_SRGB8_A1", t[t.ETC2_RGBA8 = 80] = "ETC2_RGBA8", t[t.ETC2_SRGB8_A8 = 81] = "ETC2_SRGB8_A8", t[t.EAC_R11 = 82] = "EAC_R11", t[t.EAC_R11SN = 83] = "EAC_R11SN", t[t.EAC_RG11 = 84] = "EAC_RG11", t[t.EAC_RG11SN = 85] = "EAC_RG11SN", t[t.PVRTC_RGB2 = 86] = "PVRTC_RGB2", t[t.PVRTC_RGBA2 = 87] = "PVRTC_RGBA2", t[t.PVRTC_RGB4 = 88] = "PVRTC_RGB4", t[t.PVRTC_RGBA4 = 89] = "PVRTC_RGBA4", t[t.PVRTC2_2BPP = 90] = "PVRTC2_2BPP", t[t.PVRTC2_4BPP = 91] = "PVRTC2_4BPP"
            })(o || (o = {})), (function (t) {
                t[t.NONE = 0] = "NONE", t[t.TRANSFER_SRC = 1] = "TRANSFER_SRC", t[t.TRANSFER_DST = 2] = "TRANSFER_DST", t[t.INDEX = 4] = "INDEX", t[t.VERTEX = 8] = "VERTEX", t[t.UNIFORM = 16] = "UNIFORM", t[t.STORAGE = 32] = "STORAGE", t[t.INDIRECT = 64] = "INDIRECT"
            })(c || (c = {})), (function (t) {
                t[t.NONE = 0] = "NONE", t[t.DEVICE = 1] = "DEVICE", t[t.HOST = 2] = "HOST"
            })(l || (l = {})), (function (t) {
                t[t.NONE = 0] = "NONE", t[t.READ = 1] = "READ", t[t.WRITE = 2] = "WRITE"
            })(h || (h = {})), (function (t) {
                t[t.POINT_LIST = 0] = "POINT_LIST", t[t.LINE_LIST = 1] = "LINE_LIST", t[t.LINE_STRIP = 2] = "LINE_STRIP", t[t.LINE_LOOP = 3] = "LINE_LOOP", t[t.LINE_LIST_ADJACENCY = 4] = "LINE_LIST_ADJACENCY", t[t.LINE_STRIP_ADJACENCY = 5] = "LINE_STRIP_ADJACENCY", t[t.ISO_LINE_LIST = 6] = "ISO_LINE_LIST", t[t.TRIANGLE_LIST = 7] = "TRIANGLE_LIST", t[t.TRIANGLE_STRIP = 8] = "TRIANGLE_STRIP", t[t.TRIANGLE_FAN = 9] = "TRIANGLE_FAN", t[t.TRIANGLE_LIST_ADJACENCY = 10] = "TRIANGLE_LIST_ADJACENCY", t[t.TRIANGLE_STRIP_ADJACENCY = 11] = "TRIANGLE_STRIP_ADJACENCY", t[t.TRIANGLE_PATCH_ADJACENCY = 12] = "TRIANGLE_PATCH_ADJACENCY", t[t.QUAD_PATCH_LIST = 13] = "QUAD_PATCH_LIST"
            })(u || (u = {})), (function (t) {
                t[t.FILL = 0] = "FILL", t[t.POINT = 1] = "POINT", t[t.LINE = 2] = "LINE"
            })(f || (f = {})), (function (t) {
                t[t.GOURAND = 0] = "GOURAND", t[t.FLAT = 1] = "FLAT"
            })(d || (d = {})), (function (t) {
                t[t.NONE = 0] = "NONE", t[t.FRONT = 1] = "FRONT", t[t.BACK = 2] = "BACK"
            })(_ || (_ = {})), (function (t) {
                t[t.NEVER = 0] = "NEVER", t[t.LESS = 1] = "LESS", t[t.EQUAL = 2] = "EQUAL", t[t.LESS_EQUAL = 3] = "LESS_EQUAL", t[t.GREATER = 4] = "GREATER", t[t.NOT_EQUAL = 5] = "NOT_EQUAL", t[t.GREATER_EQUAL = 6] = "GREATER_EQUAL", t[t.ALWAYS = 7] = "ALWAYS"
            })(p || (p = {})), (function (t) {
                t[t.ZERO = 0] = "ZERO", t[t.KEEP = 1] = "KEEP", t[t.REPLACE = 2] = "REPLACE", t[t.INCR = 3] = "INCR", t[t.DECR = 4] = "DECR", t[t.INVERT = 5] = "INVERT", t[t.INCR_WRAP = 6] = "INCR_WRAP", t[t.DECR_WRAP = 7] = "DECR_WRAP"
            })(v || (v = {})), (function (t) {
                t[t.ADD = 0] = "ADD", t[t.SUB = 1] = "SUB", t[t.REV_SUB = 2] = "REV_SUB", t[t.MIN = 3] = "MIN", t[t.MAX = 4] = "MAX"
            })(g || (g = {})), (function (t) {
                t[t.ZERO = 0] = "ZERO", t[t.ONE = 1] = "ONE", t[t.SRC_ALPHA = 2] = "SRC_ALPHA", t[t.DST_ALPHA = 3] = "DST_ALPHA", t[t.ONE_MINUS_SRC_ALPHA = 4] = "ONE_MINUS_SRC_ALPHA", t[t.ONE_MINUS_DST_ALPHA = 5] = "ONE_MINUS_DST_ALPHA", t[t.SRC_COLOR = 6] = "SRC_COLOR", t[t.DST_COLOR = 7] = "DST_COLOR", t[t.ONE_MINUS_SRC_COLOR = 8] = "ONE_MINUS_SRC_COLOR", t[t.ONE_MINUS_DST_COLOR = 9] = "ONE_MINUS_DST_COLOR", t[t.SRC_ALPHA_SATURATE = 10] = "SRC_ALPHA_SATURATE", t[t.CONSTANT_COLOR = 11] = "CONSTANT_COLOR", t[t.ONE_MINUS_CONSTANT_COLOR = 12] = "ONE_MINUS_CONSTANT_COLOR", t[t.CONSTANT_ALPHA = 13] = "CONSTANT_ALPHA", t[t.ONE_MINUS_CONSTANT_ALPHA = 14] = "ONE_MINUS_CONSTANT_ALPHA"
            })(m || (m = {})), (function (t) {
                t[t.NONE = 0] = "NONE", t[t.R = 1] = "R", t[t.G = 2] = "G", t[t.B = 4] = "B", t[t.A = 8] = "A", t[t.ALL = 15] = "ALL"
            })(y || (y = {})), (function (t) {
                t[t.NONE = 0] = "NONE", t[t.POINT = 1] = "POINT", t[t.LINEAR = 2] = "LINEAR", t[t.ANISOTROPIC = 3] = "ANISOTROPIC"
            })(T || (T = {})), (function (t) {
                t[t.WRAP = 0] = "WRAP", t[t.MIRROR = 1] = "MIRROR", t[t.CLAMP = 2] = "CLAMP", t[t.BORDER = 3] = "BORDER"
            })(E || (E = {})), (function (t) {
                t[t.TEX1D = 0] = "TEX1D", t[t.TEX2D = 1] = "TEX2D", t[t.TEX3D = 2] = "TEX3D"
            })(A || (A = {})), (function (t) {
                t[t.NONE = 0] = "NONE", t[t.TRANSFER_SRC = 1] = "TRANSFER_SRC", t[t.TRANSFER_DST = 2] = "TRANSFER_DST", t[t.SAMPLED = 4] = "SAMPLED", t[t.STORAGE = 8] = "STORAGE", t[t.COLOR_ATTACHMENT = 16] = "COLOR_ATTACHMENT", t[t.DEPTH_STENCIL_ATTACHMENT = 32] = "DEPTH_STENCIL_ATTACHMENT", t[t.TRANSIENT_ATTACHMENT = 64] = "TRANSIENT_ATTACHMENT", t[t.INPUT_ATTACHMENT = 128] = "INPUT_ATTACHMENT"
            })(b || (b = {})), (function (t) {
                t[t.X1 = 0] = "X1", t[t.X2 = 1] = "X2", t[t.X4 = 2] = "X4", t[t.X8 = 3] = "X8", t[t.X16 = 4] = "X16", t[t.X32 = 5] = "X32", t[t.X64 = 6] = "X64"
            })(x || (x = {})), (function (t) {
                t[t.NONE = 0] = "NONE", t[t.GEN_MIPMAP = 1] = "GEN_MIPMAP", t[t.CUBEMAP = 2] = "CUBEMAP", t[t.BAKUP_BUFFER = 4] = "BAKUP_BUFFER"
            })(C || (C = {})), (function (t) {
                t[t.TV1D = 0] = "TV1D", t[t.TV2D = 1] = "TV2D", t[t.TV3D = 2] = "TV3D", t[t.CUBE = 3] = "CUBE", t[t.TV1D_ARRAY = 4] = "TV1D_ARRAY", t[t.TV2D_ARRAY = 5] = "TV2D_ARRAY"
            })(S || (S = {})), (function (t) {
                t[t.VERTEX = 0] = "VERTEX", t[t.HULL = 1] = "HULL", t[t.DOMAIN = 2] = "DOMAIN", t[t.GEOMETRY = 3] = "GEOMETRY", t[t.FRAGMENT = 4] = "FRAGMENT", t[t.COMPUTE = 5] = "COMPUTE", t[t.COUNT = 6] = "COUNT"
            })(w || (w = {})), (function (t) {
                t[t.UNKNOWN = 0] = "UNKNOWN", t[t.UNIFORM_BUFFER = 1] = "UNIFORM_BUFFER", t[t.SAMPLER = 2] = "SAMPLER", t[t.STORAGE_BUFFER = 3] = "STORAGE_BUFFER"
            })(M || (M = {})), (function (t) {
                t[t.PRIMARY = 0] = "PRIMARY", t[t.SECONDARY = 1] = "SECONDARY"
            })(R || (R = {})), (function (t) {
                t[t.LOAD = 0] = "LOAD", t[t.CLEAR = 1] = "CLEAR", t[t.DISCARD = 2] = "DISCARD"
            })(I || (I = {})), (function (t) {
                t[t.STORE = 0] = "STORE", t[t.DISCARD = 1] = "DISCARD"
            })(O || (O = {})), (function (t) {
                t[t.UNDEFINED = 0] = "UNDEFINED", t[t.GENERAL = 1] = "GENERAL", t[t.COLOR_ATTACHMENT_OPTIMAL = 2] = "COLOR_ATTACHMENT_OPTIMAL", t[t.DEPTH_STENCIL_ATTACHMENT_OPTIMAL = 3] = "DEPTH_STENCIL_ATTACHMENT_OPTIMAL", t[t.DEPTH_STENCIL_READONLY_OPTIMAL = 4] = "DEPTH_STENCIL_READONLY_OPTIMAL", t[t.SHADER_READONLY_OPTIMAL = 5] = "SHADER_READONLY_OPTIMAL", t[t.TRANSFER_SRC_OPTIMAL = 6] = "TRANSFER_SRC_OPTIMAL", t[t.TRANSFER_DST_OPTIMAL = 7] = "TRANSFER_DST_OPTIMAL", t[t.PREINITIALIZED = 8] = "PREINITIALIZED", t[t.PRESENT_SRC = 9] = "PRESENT_SRC"
            })(D || (D = {})), (function (t) {
                t[t.GRAPHICS = 0] = "GRAPHICS", t[t.COMPUTE = 1] = "COMPUTE", t[t.RAY_TRACING = 2] = "RAY_TRACING"
            })(P || (P = {})), (function (t) {
                t[t.VIEWPORT = 0] = "VIEWPORT", t[t.SCISSOR = 1] = "SCISSOR", t[t.LINE_WIDTH = 2] = "LINE_WIDTH", t[t.DEPTH_BIAS = 3] = "DEPTH_BIAS", t[t.BLEND_CONSTANTS = 4] = "BLEND_CONSTANTS", t[t.DEPTH_BOUNDS = 5] = "DEPTH_BOUNDS", t[t.STENCIL_WRITE_MASK = 6] = "STENCIL_WRITE_MASK", t[t.STENCIL_COMPARE_MASK = 7] = "STENCIL_COMPARE_MASK"
            })(L || (L = {})), (function (t) {
                t[t.FRONT = 0] = "FRONT", t[t.BACK = 1] = "BACK", t[t.ALL = 2] = "ALL"
            })(N || (N = {})), (function (t) {
                t[t.GRAPHICS = 0] = "GRAPHICS", t[t.COMPUTE = 1] = "COMPUTE", t[t.TRANSFER = 2] = "TRANSFER"
            })(F || (F = {})), (function (t) {
                t[t.NONE = 0] = "NONE", t[t.COLOR = 1] = "COLOR", t[t.DEPTH = 2] = "DEPTH", t[t.STENCIL = 4] = "STENCIL", t[t.DEPTH_STENCIL = 6] = "DEPTH_STENCIL", t[t.ALL = 7] = "ALL"
            })(B || (B = {})), (function (t) {
                t[t.DEFAULT = 100] = "DEFAULT"
            })(k || (k = {})), (function (t) {
                t[t.MIN = 0] = "MIN", t[t.MAX = 255] = "MAX", t[t.DEFAULT = 128] = "DEFAULT"
            })(V || (V = {})), (function (t) {
                t[t.UBO_GLOBAL = 23] = "UBO_GLOBAL", t[t.UBO_SHADOW = 22] = "UBO_SHADOW", t[t.UBO_LOCAL = 21] = "UBO_LOCAL", t[t.UBO_FORWARD_LIGHTS = 20] = "UBO_FORWARD_LIGHTS", t[t.UBO_SKINNING = 19] = "UBO_SKINNING", t[t.UBO_SKINNING_TEXTURE = 18] = "UBO_SKINNING_TEXTURE", t[t.UBO_UI = 17] = "UBO_UI", t[t.SAMPLER_JOINTS = 25] = "SAMPLER_JOINTS", t[t.SAMPLER_ENVIRONMENT = 26] = "SAMPLER_ENVIRONMENT", t[t.CUSTUM_UBO_BINDING_END_POINT = 17] = "CUSTUM_UBO_BINDING_END_POINT", t[t.CUSTOM_SAMPLER_BINDING_START_POINT = 30] = "CUSTOM_SAMPLER_BINDING_START_POINT"
            })(U || (U = {})), (function (t) {
                t[t.minFilter = 0] = "minFilter", t[t.magFilter = 1] = "magFilter", t[t.mipFilter = 2] = "mipFilter", t[t.addressU = 3] = "addressU", t[t.addressV = 4] = "addressV", t[t.addressW = 5] = "addressW", t[t.maxAnisotropy = 6] = "maxAnisotropy", t[t.cmpFunc = 7] = "cmpFunc", t[t.minLOD = 8] = "minLOD", t[t.maxLOD = 9] = "maxLOD", t[t.mipLODBias = 10] = "mipLODBias", t[t.borderColor = 11] = "borderColor", t[t.total = 15] = "total"
            })(W || (W = {}));
            var G = {};
            G[G.bool = a.BOOL] = "bool", G[G.int = a.INT] = "int", G[G.ivec2 = a.INT2] = "ivec2invTypeParams", G[G.ivec3 = a.INT3] = "ivec3", G[G.ivec4 = a.INT4] = "ivec4", G[G.float = a.FLOAT] = "float", G[G.vec2 = a.FLOAT2] = "vec2", G[G.vec3 = a.FLOAT3] = "vec3", G[G.vec4 = a.FLOAT4] = "vec4", G[G.mat2 = a.MAT2] = "mat2", G[G.mat3 = a.MAT3] = "mat3", G[G.mat4 = a.MAT4] = "mat4", G[G.sampler2D = a.SAMPLER2D] = "sampler2D", G[G.samplerCube = a.SAMPLER_CUBE] = "samplerCube";
            var j = ((z = {})[a.BOOL] = 4, z[a.INT] = 4, z[a.INT2] = 8, z[a.INT3] = 12, z[a.INT4] = 16, z[a.FLOAT] = 4, z[a.FLOAT2] = 8, z[a.FLOAT3] = 12, z[a.FLOAT4] = 16, z[a.MAT2] = 16, z[a.MAT3] = 36, z[a.MAT4] = 64, z[a.SAMPLER2D] = 4, z[a.SAMPLER_CUBE] = 4, z),
                X = ((H = {})[a.BOOL] = o.R32I, H[a.INT] = o.R32I, H[a.INT2] = o.RG32I, H[a.INT3] = o.RGB32I, H[a.INT4] = o.RGBA32I, H[a.FLOAT] = o.R32F, H[a.FLOAT2] = o.RG32F, H[a.FLOAT3] = o.RGB32F, H[a.FLOAT4] = o.RGBA32F, H),
                Y = {
                    BACK: 1029,
                    FRONT: 1028,
                    NONE: 0,
                    ADD: 32774,
                    SUB: 32778,
                    REV_SUB: 32779,
                    ZERO: 0,
                    ONE: 1,
                    SRC_COLOR: 768,
                    ONE_MINUS_SRC_COLOR: 769,
                    DST_COLOR: 774,
                    ONE_MINUS_DST_COLOR: 775,
                    SRC_ALPHA: 770,
                    ONE_MINUS_SRC_ALPHA: 771,
                    DST_ALPHA: 772,
                    ONE_MINUS_DST_ALPHA: 773,
                    CONSTANT_COLOR: 32769,
                    ONE_MINUS_CONSTANT_COLOR: 32770,
                    CONSTANT_ALPHA: 32771,
                    ONE_MINUS_CONSTANT_ALPHA: 32772,
                    SRC_ALPHA_SATURATE: 776,
                    NEVER: 512,
                    LESS: 513,
                    EQUAL: 514,
                    LEQUAL: 515,
                    GREATER: 516,
                    NOTEQUAL: 517,
                    GEQUAL: 518,
                    ALWAYS: 519,
                    KEEP: 7680,
                    REPLACE: 7681,
                    INCR: 7682,
                    INCR_WRAP: 34055,
                    DECR: 7683,
                    DECR_WRAP: 34056,
                    INVERT: 5386
                };
            Object.assign(Y, k);
            var q = {
                murmurhash2_32_gc: function (t, e) {
                    for (var i, n = t.length, r = e ^ n, s = 0; n >= 4;) i = 1540483477 * (65535 & (i = 255 & t.charCodeAt(s) | (255 & t.charCodeAt(++s)) << 8 | (255 & t.charCodeAt(++s)) << 16 | (255 & t.charCodeAt(++s)) << 24)) + ((1540483477 * (i >>> 16) & 65535) << 16), r = 1540483477 * (65535 & r) + ((1540483477 * (r >>> 16) & 65535) << 16) ^ (i = 1540483477 * (65535 & (i ^= i >>> 24)) + ((1540483477 * (i >>> 16) & 65535) << 16)), n -= 4, ++s;
                    switch (n) {
                        case 3:
                            r ^= (255 & t.charCodeAt(s + 2)) << 16;
                        case 2:
                            r ^= (255 & t.charCodeAt(s + 1)) << 8;
                        case 1:
                            r = 1540483477 * (65535 & (r ^= 255 & t.charCodeAt(s))) + ((1540483477 * (r >>> 16) & 65535) << 16)
                    }
                    return r = 1540483477 * (65535 & (r ^= r >>> 13)) + ((1540483477 * (r >>> 16) & 65535) << 16), (r ^= r >>> 15) >>> 0
                },
                SamplerInfoIndex: W,
                effectStructure: {
                    $techniques: [{
                        $passes: [{
                            depthStencilState: {},
                            rasterizerState: {},
                            blendState: {targets: [{}]},
                            properties: {any: {sampler: {}, inspector: {}}}
                        }]
                    }]
                },
                typeMap: G,
                sizeMap: j,
                formatMap: X,
                passParams: Y,
                RenderQueue: {OPAQUE: 0, TRANSPARENT: 1, OVERLAY: 2},
                RenderPriority: V,
                GFXGetTypeSize: function (t) {
                    switch (t) {
                        case a.BOOL:
                        case a.INT:
                        case a.UINT:
                        case a.FLOAT:
                            return 4;
                        case a.BOOL2:
                        case a.INT2:
                        case a.UINT2:
                        case a.FLOAT2:
                            return 8;
                        case a.BOOL3:
                        case a.INT3:
                        case a.UINT3:
                        case a.FLOAT3:
                            return 12;
                        case a.BOOL4:
                        case a.INT4:
                        case a.UINT4:
                        case a.FLOAT4:
                        case a.MAT2:
                            return 16;
                        case a.MAT2X3:
                            return 24;
                        case a.MAT2X4:
                            return 32;
                        case a.MAT3X2:
                            return 24;
                        case a.MAT3:
                            return 36;
                        case a.MAT3X4:
                            return 48;
                        case a.MAT4X2:
                        case a.MAT4X2:
                            return 32;
                        case a.MAT4:
                            return 64;
                        case a.SAMPLER1D:
                        case a.SAMPLER1D_ARRAY:
                        case a.SAMPLER2D:
                        case a.SAMPLER2D_ARRAY:
                        case a.SAMPLER3D:
                        case a.SAMPLER_CUBE:
                            return 4;
                        default:
                            return 0
                    }
                },
                UniformBinding: U
            };
            e.exports = q
        }), {}],
        281: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = t("../memop"), r = l(t("../enums")), s = t("../../core/value-types"), a = l(t("./program-lib")),
                o = l(t("./view")), c = l(t("../gfx"));

            function l(t) {
                return t && t.__esModule ? t : {default: t}
            }

            var h = new s.Mat4, u = new n.RecyclePool(function () {
                return {stage: null, items: null}
            }, 8), f = new n.RecyclePool(function () {
                return new Float32Array(2)
            }, 8), d = new n.RecyclePool(function () {
                return new Float32Array(3)
            }, 8), _ = new n.RecyclePool(function () {
                return new Float32Array(4)
            }, 8), p = new n.RecyclePool(function () {
                return new Float32Array(9)
            }, 8), v = new n.RecyclePool(function () {
                return new Float32Array(16)
            }, 8), g = new n.RecyclePool(function () {
                return new Float32Array(64)
            }, 8), m = new n.RecyclePool(function () {
                return new Int32Array(2)
            }, 8), y = new n.RecyclePool(function () {
                return new Int32Array(3)
            }, 8), T = new n.RecyclePool(function () {
                return new Int32Array(4)
            }, 8), E = new n.RecyclePool(function () {
                return new Int32Array(64)
            }, 8), A = (function () {
                function t(t, e) {
                    var i;
                    this._device = t, this._programLib = new a.default(t), this._opts = e, this._type2defaultValue = ((i = {})[r.default.PARAM_INT] = 0, i[r.default.PARAM_INT2] = new s.Vec2(0, 0), i[r.default.PARAM_INT3] = new s.Vec3(0, 0, 0), i[r.default.PARAM_INT4] = new s.Vec4(0, 0, 0, 0), i[r.default.PARAM_FLOAT] = 0, i[r.default.PARAM_FLOAT2] = new s.Vec2(0, 0), i[r.default.PARAM_FLOAT3] = new s.Vec3(0, 0, 0), i[r.default.PARAM_FLOAT4] = new s.Vec4(0, 0, 0, 0), i[r.default.PARAM_COLOR4] = new s.Color(0, 0, 0, 1), i[r.default.PARAM_MAT3] = new s.Mat3, i[r.default.PARAM_MAT4] = new s.Mat4, i[r.default.PARAM_TEXTURE_2D] = e.defaultTexture, i[r.default.PARAM_TEXTURE_CUBE] = e.defaultTextureCube, i), this._stage2fn = {}, this._usedTextureUnits = 0, this._viewPools = new n.RecyclePool(function () {
                        return new o.default
                    }, 8), this._drawItemsPools = new n.RecyclePool(function () {
                        return {model: null, node: null, ia: null, effect: null, defines: null, uniforms: null}
                    }, 100), this._stageItemsPools = new n.RecyclePool(function () {
                        return new n.RecyclePool(function () {
                            return {
                                model: null,
                                node: null,
                                ia: null,
                                effect: null,
                                defines: null,
                                passes: [],
                                sortKey: -1,
                                uniforms: null
                            }
                        }, 100)
                    }, 16), this._definesChanged = !1
                }

                var e = t.prototype;
                return e._resetTextuerUnit = function () {
                    this._usedTextureUnits = 0
                }, e._allocTextureUnit = function () {
                    var t = this._device, e = this._usedTextureUnits;
                    return e >= t._caps.maxTextureUnits && console.warn("Trying to use " + e + " texture units while this GPU supports only " + t._caps.maxTextureUnits), this._usedTextureUnits += 1, e
                }, e._registerStage = function (t, e) {
                    this._stage2fn[t] = e
                }, e.clear = function () {
                    this._programLib.clear(), this.reset()
                }, e.reset = function () {
                    this._viewPools.reset(), this._stageItemsPools.reset(), this._definesChanged = !1
                }, e._requestView = function () {
                    return this._viewPools.add()
                }, e._render = function (t, e) {
                    var i = this._device;
                    i.setFrameBuffer(t._framebuffer), i.setViewport(t._rect.x, t._rect.y, t._rect.w, t._rect.h);
                    var n = {};
                    t._clearFlags & r.default.CLEAR_COLOR && (n.color = s.Vec4.toArray([], t._color)), t._clearFlags & r.default.CLEAR_DEPTH && (n.depth = t._depth), t._clearFlags & r.default.CLEAR_STENCIL && (n.stencil = t._stencil), i.clear(n), this._drawItemsPools.reset();
                    for (var a = 0; a < e._models.length; ++a) {
                        var o = e._models.data[a];
                        if (0 != (o._cullingMask & t._cullingMask)) {
                            var c = this._drawItemsPools.add();
                            o.extractDrawItem(c)
                        }
                    }
                    u.reset();
                    for (var l = 0; l < t._stages.length; ++l) {
                        var h = t._stages[l], f = this._stageItemsPools.add();
                        f.reset();
                        for (var d = 0; d < this._drawItemsPools.length; ++d) {
                            var _ = this._drawItemsPools.data[d], p = _.effect.stagePasses[h];
                            if (p && 0 !== p.length) {
                                var v = f.add();
                                v.passes = p, v.model = _.model, v.node = _.node, v.ia = _.ia, v.effect = _.effect, v.defines = _.defines, v.sortKey = -1, v.uniforms = _.uniforms
                            }
                        }
                        var g = u.add();
                        g.stage = h, g.items = f
                    }
                    for (var m = 0; m < u.length; ++m) {
                        var y = u.data[m];
                        (0, this._stage2fn[y.stage])(t, y.items)
                    }
                }, e._setProperty = function (t) {
                    var e = this._device, i = t.value;
                    if (void 0 === i && (i = t.val), void 0 === i && (i = this._type2defaultValue[t.type]), void 0 !== i) if (t.type === r.default.PARAM_TEXTURE_2D || t.type === r.default.PARAM_TEXTURE_CUBE) if (Array.isArray(i)) {
                        if (i.length > t.count) return void console.error("Failed to set property [" + t.name + "] : The length of texture array [" + i.length + "] is bigger than [" + t.count + "].");
                        for (var n = E.add(), s = 0; s < i.length; ++s) n[s] = this._allocTextureUnit();
                        e.setTextureArray(t.name, i, n)
                    } else e.setTexture(t.name, i, this._allocTextureUnit()); else t.directly ? e.setUniformDirectly(t.name, i) : e.setUniform(t.name, i); else console.warn("Failed to set technique property " + t.name + ", value not found.")
                }, e._draw = function (t) {
                    var e = this._device, i = this._programLib, n = t.node, r = t.ia, a = t.passes, o = t.effect;
                    f.reset(), d.reset(), _.reset(), p.reset(), v.reset(), g.reset(), m.reset(), y.reset(), T.reset(), E.reset(), n.getWorldMatrix(h), e.setUniform("cc_matWorld", s.Mat4.toArray(v.add(), h)), s.Mat4.invert(h, h), s.Mat4.transpose(h, h), e.setUniform("cc_matWorldIT", s.Mat4.toArray(v.add(), h));
                    for (var l = this._defines, u = 0; u < a.length; ++u) {
                        var A = a[u];
                        this._definesChanged && (A._programKey = null);
                        var b = r.count;
                        r._vertexBuffer && e.setVertexBuffer(0, r._vertexBuffer), r._indexBuffer && e.setIndexBuffer(r._indexBuffer), e.setPrimitiveType(r._primitiveType), Object.setPrototypeOf(l, A._defines);
                        var x = i.getProgram(A, l, o.name);
                        e.setProgram(x);
                        for (var C = x._uniforms, S = A._properties, w = 0; w < C.length; w++) {
                            var M = S[C[w].name];
                            void 0 !== M && this._setProperty(M)
                        }
                        e.setCullMode(A._cullMode), A._blend && (e.enableBlend(), e.setBlendFuncSep(A._blendSrc, A._blendDst, A._blendSrcAlpha, A._blendDstAlpha), e.setBlendEqSep(A._blendEq, A._blendAlphaEq), e.setBlendColor32(A._blendColor)), A._depthTest && (e.enableDepthTest(), e.setDepthFunc(A._depthFunc)), A._depthWrite && e.enableDepthWrite(), e.setStencilTest(A._stencilTest), A._stencilTest === c.default.STENCIL_ENABLE && (e.setStencilFuncFront(A._stencilFuncFront, A._stencilRefFront, A._stencilMaskFront), e.setStencilOpFront(A._stencilFailOpFront, A._stencilZFailOpFront, A._stencilZPassOpFront, A._stencilWriteMaskFront), e.setStencilFuncBack(A._stencilFuncBack, A._stencilRefBack, A._stencilMaskBack), e.setStencilOpBack(A._stencilFailOpBack, A._stencilZFailOpBack, A._stencilZPassOpBack, A._stencilWriteMaskBack)), e.draw(r._start, b), this._resetTextuerUnit()
                    }
                }, t
            })();
            i.default = A, e.exports = i.default
        }), {
            "../../core/value-types": 265,
            "../enums": 287,
            "../gfx": 292,
            "../memop": 304,
            "./program-lib": 284,
            "./view": 286
        }],
        282: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../gfx")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = a(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function a(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            var o = (function () {
                function t(t, e, i) {
                    void 0 === i && (i = r.default.PT_TRIANGLES), this._vertexBuffer = t, this._indexBuffer = e, this._primitiveType = i, this._start = 0, this._count = -1
                }

                var e, i;
                return e = t, (i = [{
                    key: "count", get: function () {
                        return -1 !== this._count ? this._count : this._indexBuffer ? this._indexBuffer.count : this._vertexBuffer ? this._vertexBuffer.count : 0
                    }
                }]) && s(e.prototype, i), Object.defineProperty(e, "prototype", {writable: !1}), t
            })();
            i.default = o, e.exports = i.default
        }), {"../gfx": 292}],
        283: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = a(t("../gfx")), r = a(t("../enums")), s = a(t("../../core/value-types/value-type"));

            function a(t) {
                return t && t.__esModule ? t : {default: t}
            }

            var o = (function () {
                function t(t, e, i, r, s, a) {
                    void 0 === s && (s = {}), void 0 === a && (a = {}), this._name = t, this._detailName = e, this._programName = i, this._programKey = null, this._stage = r, this._properties = s, this._defines = a, this._propertyNames = Object.keys(s), this._defineNames = Object.keys(a), this._cullMode = n.default.CULL_BACK, this._blend = !1, this._blendEq = n.default.BLEND_FUNC_ADD, this._blendAlphaEq = n.default.BLEND_FUNC_ADD, this._blendSrc = n.default.BLEND_SRC_ALPHA, this._blendDst = n.default.BLEND_ONE_MINUS_SRC_ALPHA, this._blendSrcAlpha = n.default.BLEND_SRC_ALPHA, this._blendDstAlpha = n.default.BLEND_ONE_MINUS_SRC_ALPHA, this._blendColor = 4294967295, this._depthTest = !1, this._depthWrite = !1, this._depthFunc = n.default.DS_FUNC_LESS, this._stencilTest = n.default.STENCIL_INHERIT, this._stencilFuncFront = n.default.DS_FUNC_ALWAYS, this._stencilRefFront = 0, this._stencilMaskFront = 255, this._stencilFailOpFront = n.default.STENCIL_OP_KEEP, this._stencilZFailOpFront = n.default.STENCIL_OP_KEEP, this._stencilZPassOpFront = n.default.STENCIL_OP_KEEP, this._stencilWriteMaskFront = 255, this._stencilFuncBack = n.default.DS_FUNC_ALWAYS, this._stencilRefBack = 0, this._stencilMaskBack = 255, this._stencilFailOpBack = n.default.STENCIL_OP_KEEP, this._stencilZFailOpBack = n.default.STENCIL_OP_KEEP, this._stencilZPassOpBack = n.default.STENCIL_OP_KEEP, this._stencilWriteMaskBack = 255
                }

                var e = t.prototype;
                return e.setCullMode = function (t) {
                    void 0 === t && (t = n.default.CULL_BACK), this._cullMode = t
                }, e.setBlend = function (t, e, i, r, s, a, o, c) {
                    void 0 === t && (t = !1), void 0 === e && (e = n.default.BLEND_FUNC_ADD), void 0 === i && (i = n.default.BLEND_SRC_ALPHA), void 0 === r && (r = n.default.BLEND_ONE_MINUS_SRC_ALPHA), void 0 === s && (s = n.default.BLEND_FUNC_ADD), void 0 === a && (a = n.default.BLEND_SRC_ALPHA), void 0 === o && (o = n.default.BLEND_ONE_MINUS_SRC_ALPHA), void 0 === c && (c = 4294967295), this._blend = t, this._blendEq = e, this._blendSrc = i, this._blendDst = r, this._blendAlphaEq = s, this._blendSrcAlpha = a, this._blendDstAlpha = o, this._blendColor = c
                }, e.setDepth = function (t, e, i) {
                    void 0 === t && (t = !1), void 0 === e && (e = !1), void 0 === i && (i = n.default.DS_FUNC_LESS), this._depthTest = t, this._depthWrite = e, this._depthFunc = i
                }, e.setStencilFront = function (t, e, i, r, s, a, o, c) {
                    void 0 === t && (t = n.default.STENCIL_INHERIT), void 0 === e && (e = n.default.DS_FUNC_ALWAYS), void 0 === i && (i = 0), void 0 === r && (r = 255), void 0 === s && (s = n.default.STENCIL_OP_KEEP), void 0 === a && (a = n.default.STENCIL_OP_KEEP), void 0 === o && (o = n.default.STENCIL_OP_KEEP), void 0 === c && (c = 255), this._stencilTest = t, this._stencilFuncFront = e, this._stencilRefFront = i, this._stencilMaskFront = r, this._stencilFailOpFront = s, this._stencilZFailOpFront = a, this._stencilZPassOpFront = o, this._stencilWriteMaskFront = c
                }, e.setStencilEnabled = function (t) {
                    void 0 === t && (t = n.default.STENCIL_INHERIT), this._stencilTest = t
                }, e.setStencilBack = function (t, e, i, r, s, a, o, c) {
                    void 0 === t && (t = n.default.STENCIL_INHERIT), void 0 === e && (e = n.default.DS_FUNC_ALWAYS), void 0 === i && (i = 0), void 0 === r && (r = 255), void 0 === s && (s = n.default.STENCIL_OP_KEEP), void 0 === a && (a = n.default.STENCIL_OP_KEEP), void 0 === o && (o = n.default.STENCIL_OP_KEEP), void 0 === c && (c = 255), this._stencilTest = t, this._stencilFuncBack = e, this._stencilRefBack = i, this._stencilMaskBack = r, this._stencilFailOpBack = s, this._stencilZFailOpBack = a, this._stencilZPassOpBack = o, this._stencilWriteMaskBack = c
                }, e.setStage = function (t) {
                    this._stage = t
                }, e.setProperties = function (t) {
                    this._properties = t
                }, e.getProperty = function (t) {
                    if (this._properties[t]) return this._properties[t].value
                }, e.setProperty = function (t, e, i) {
                    var n = this._properties[t];
                    if (!n) return !1;
                    if (n.directly = i, Array.isArray(e)) {
                        var a = n.value;
                        if (a.length !== e.length) return void cc.warnID(9105, this._name, t);
                        for (var o = 0; o < e.length; o++) a[o] = e[o]
                    } else e && !ArrayBuffer.isView(e) ? n.type === r.default.PARAM_TEXTURE_2D ? n.value = e.getImpl() : e instanceof s.default ? e.constructor.toArray(n.value, e) : ("object" == typeof e && cc.warnID(9106, this._name, t), n.value = e) : n.value = e;
                    return !0
                }, e.getDefine = function (t) {
                    return this._defines[t]
                }, e.define = function (t, e, i) {
                    var n = this._defines[t];
                    return !(!i && void 0 === n || (n !== e && (this._defines[t] = e, this._programKey = null), 0))
                }, e.clone = function () {
                    var e = new t(this._programName);
                    Object.assign(e, this);
                    var i = {}, n = this._properties;
                    for (var r in n) {
                        var s = n[r], a = i[r] = {}, o = s.value;
                        for (var c in Array.isArray(o) ? a.value = o.concat() : ArrayBuffer.isView(o) ? a.value = new o.__proto__.constructor(o) : a.value = o, s) "value" !== c && (a[c] = s[c])
                    }
                    return e._properties = i, e._defines = Object.assign({}, this._defines), e._propertyNames = this._propertyNames, e._defineNames = this._defineNames, e
                }, t
            })();
            i.default = o, e.exports = i.default
        }), {"../../core/value-types/value-type": 273, "../enums": 287, "../gfx": 292}],
        284: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../gfx")) && n.__esModule ? n : {default: n}, s = 0;

            function a(t, e) {
                for (var i = [], n = 0; n < t.length; n++) {
                    var r = t[n].name, s = e[r];
                    "number" != typeof s && (s = s ? 1 : 0), i.push("#define " + r + " " + s)
                }
                return i.join("\n") + "\n"
            }

            function o(t, e, i) {
                for (var n = t, r = 0; r < e.length; r++) {
                    var s = e[r].name, a = i[s];
                    if (Number.isInteger(a)) {
                        var o = new RegExp(s, "g");
                        n = n.replace(o, a)
                    }
                }
                return n
            }

            function c(t) {
                return t.replace(/#pragma for (\w+) in range\(\s*(\d+)\s*,\s*(\d+)\s*\)([\s\S]+?)#pragma endFor/g, (function (t, e, i, n, r) {
                    var s = "", a = parseInt(i), o = parseInt(n);
                    (a.isNaN || o.isNaN) && console.error("Unroll For Loops Error: begin and end of range must be an int num.");
                    for (var c = a; c < o; ++c) s += r.replace(new RegExp("{" + e + "}", "g"), c);
                    return s
                }))
            }

            function l(t) {
                return t.replace(/\bhighp\b/g, "mediump")
            }

            var h = (function () {
                function t(t) {
                    this._device = t, this._templates = {}, this._cache = {}, this._checkPrecision()
                }

                var e = t.prototype;
                return e.clear = function () {
                    this._templates = {}, this._cache = {}
                }, e.define = function (t) {
                    var e = t.name, i = t.defines, n = t.glsl1 || t, r = n.vert, a = n.frag;
                    if (!this._templates[e]) {
                        for (var o = ++s, c = 0, l = 0; l < i.length; ++l) {
                            var h = i[l], u = 1;
                            if ("number" === h.type) {
                                var f = h.range || [];
                                h.min = f[0] || 0, h.max = f[1] || 4, u = Math.ceil(Math.log2(h.max - h.min)), h._map = function (t) {
                                    return t - this.min << this._offset
                                }.bind(h)
                            } else h._map = function (t) {
                                return t ? 1 << this._offset : 0
                            }.bind(h);
                            h._offset = c, c += u
                        }
                        var d = t.uniforms || [];
                        if (t.samplers) for (var _ = 0; _ < t.samplers.length; _++) d.push(t.samplers[_]);
                        if (t.blocks) for (var p = 0; p < t.blocks.length; p++) for (var v = t.blocks[p].defines, g = t.blocks[p].members, m = 0; m < g.length; m++) d.push({
                            defines: v,
                            name: g[m].name,
                            type: g[m].type
                        });
                        this._templates[e] = {
                            id: o,
                            name: e,
                            vert: r,
                            frag: a,
                            defines: i,
                            attributes: t.attributes,
                            uniforms: d,
                            extensions: t.extensions
                        }
                    }
                }, e.getTemplate = function (t) {
                    return this._templates[t]
                }, e.hasProgram = function (t) {
                    return void 0 !== this._templates[t]
                }, e.getKey = function (t, e) {
                    for (var i = this._templates[t], n = 0, r = 0; r < i.defines.length; ++r) {
                        var s = i.defines[r], a = e[s.name];
                        void 0 !== a && (n |= s._map(a))
                    }
                    return i.id + ":" + n
                }, e.getProgram = function (t, e, i) {
                    var n = t._programKey = t._programKey || this.getKey(t._programName, e), s = this._cache[n];
                    if (s) return s;
                    var h = this._templates[t._programName], u = a(h.defines, e), f = o(h.vert, h.defines, e);
                    f = u + c(f), this._highpSupported || (f = l(f));
                    var d = o(h.frag, h.defines, e);
                    d = u + c(d), this._highpSupported || (d = l(d));
                    var _ = (s = new r.default.Program(this._device, {vert: f, frag: d})).link();
                    if (_) {
                        var p = f.split("\n"), v = d.split("\n"), g = h.defines.length;
                        _.forEach((function (t) {
                            var e = t.line - 1, n = t.line - g, r = ("vs" === t.type ? p : v)[e],
                                s = t.info || "Failed to compile " + t.type + " " + t.fileID + " (ln " + n + "): \n " + t.message + ": \n  " + r;
                            cc.error(i + " : " + s)
                        }))
                    }
                    return this._cache[n] = s, s
                }, e._checkPrecision = function () {
                    var t = this._device._gl, e = !1;
                    if (t.getShaderPrecisionFormat) {
                        var i = t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.HIGH_FLOAT),
                            n = t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.HIGH_FLOAT);
                        e = i && i.precision > 0 && n && n.precision > 0
                    }
                    e || cc.warnID(9102), this._highpSupported = e
                }, t
            })();
            i.default = h, e.exports = i.default
        }), {"../gfx": 292}],
        285: [(function (t, e, i) {
            "use strict";

            function n(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (s = r(n.key, "string")) ? s : String(s)), n)
                }
                var s
            }

            function r(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            i.__esModule = !0, i.default = void 0;
            var s = (function () {
                function t(t, e) {
                    this._name = t, this._passes = e
                }

                var e, i;
                return t.prototype.clone = function () {
                    for (var e = [], i = 0; i < this._passes.length; i++) e.push(this._passes[i].clone());
                    return new t(this._name, e)
                }, e = t, (i = [{
                    key: "name", get: function () {
                        return this._name
                    }
                }, {
                    key: "passes", get: function () {
                        return this._passes
                    }
                }]) && n(e.prototype, i), Object.defineProperty(e, "prototype", {writable: !1}), t
            })();
            i.default = s, e.exports = i.default
        }), {}],
        286: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = t("../../core/value-types"), s = (n = t("../enums")) && n.__esModule ? n : {default: n},
                a = new r.Mat4, o = 0, c = (function () {
                    function t() {
                        this._id = o++, this._priority = 0, this._rect = {
                            x: 0,
                            y: 0,
                            w: 1,
                            h: 1
                        }, this._color = new r.Vec4(.3, .3, .3, 1), this._depth = 1, this._stencil = 0, this._clearFlags = s.default.CLEAR_COLOR | s.default.CLEAR_DEPTH, this._clearModel = null, this._matView = cc.mat4(), this._matViewInv = cc.mat4(), this._matProj = cc.mat4(), this._matViewProj = cc.mat4(), this._matInvViewProj = cc.mat4(), this._stages = [], this._cullingByID = !1, this._framebuffer = null, this._shadowLight = null, this._cullingMask = 4294967295
                    }

                    var e = t.prototype;
                    return e.getForward = function (t) {
                        var e = this._matView.m;
                        return r.Vec3.set(t, -e[2], -e[6], -e[10])
                    }, e.getPosition = function (t) {
                        return r.Mat4.invert(a, this._matView), r.Mat4.getTranslation(t, a)
                    }, t
                })();
            i.default = c, e.exports = i.default
        }), {"../../core/value-types": 265, "../enums": 287}],
        287: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = t("./build/mappings"), r = {
                PROJ_PERSPECTIVE: 0,
                PROJ_ORTHO: 1,
                LIGHT_DIRECTIONAL: 0,
                LIGHT_POINT: 1,
                LIGHT_SPOT: 2,
                LIGHT_AMBIENT: 3,
                SHADOW_NONE: 0,
                SHADOW_HARD: 1,
                SHADOW_SOFT: 2,
                PARAM_INT: n.typeMap.int,
                PARAM_INT2: n.typeMap.ivec2,
                PARAM_INT3: n.typeMap.ivec3,
                PARAM_INT4: n.typeMap.ivec4,
                PARAM_FLOAT: n.typeMap.float,
                PARAM_FLOAT2: n.typeMap.vec2,
                PARAM_FLOAT3: n.typeMap.vec3,
                PARAM_FLOAT4: n.typeMap.vec4,
                PARAM_MAT2: n.typeMap.mat2,
                PARAM_MAT3: n.typeMap.mat3,
                PARAM_MAT4: n.typeMap.mat4,
                PARAM_TEXTURE_2D: n.typeMap.sampler2D,
                PARAM_TEXTURE_CUBE: n.typeMap.samplerCube,
                CLEAR_COLOR: 1,
                CLEAR_DEPTH: 2,
                CLEAR_STENCIL: 4,
                CLEAR_SKYBOX: 8,
                BUFFER_VIEW_INT8: 0,
                BUFFER_VIEW_UINT8: 1,
                BUFFER_VIEW_INT16: 2,
                BUFFER_VIEW_UINT16: 3,
                BUFFER_VIEW_INT32: 4,
                BUFFER_VIEW_UINT32: 5,
                BUFFER_VIEW_FLOAT32: 6
            };
            i.default = r, e.exports = i.default
        }), {"./build/mappings": 280}],
        288: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r, s = l(t("./state")), a = t("./enums"), o = l(t("./texture-2d")), c = l(t("./texture-cube"));

            function l(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function h(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = u(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function u(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            var f = ((n = {})[5124] = function (t, e, i) {
                t.uniform1i(e, i)
            }, n[5126] = function (t, e, i) {
                t.uniform1f(e, i)
            }, n[35664] = function (t, e, i) {
                t.uniform2fv(e, i)
            }, n[35665] = function (t, e, i) {
                t.uniform3fv(e, i)
            }, n[35666] = function (t, e, i) {
                t.uniform4fv(e, i)
            }, n[35667] = function (t, e, i) {
                t.uniform2iv(e, i)
            }, n[35668] = function (t, e, i) {
                t.uniform3iv(e, i)
            }, n[35669] = function (t, e, i) {
                t.uniform4iv(e, i)
            }, n[35670] = function (t, e, i) {
                t.uniform1i(e, i)
            }, n[35671] = function (t, e, i) {
                t.uniform2iv(e, i)
            }, n[35672] = function (t, e, i) {
                t.uniform3iv(e, i)
            }, n[35673] = function (t, e, i) {
                t.uniform4iv(e, i)
            }, n[35674] = function (t, e, i) {
                t.uniformMatrix2fv(e, !1, i)
            }, n[35675] = function (t, e, i) {
                t.uniformMatrix3fv(e, !1, i)
            }, n[35676] = function (t, e, i) {
                t.uniformMatrix4fv(e, !1, i)
            }, n[35678] = function (t, e, i) {
                t.uniform1i(e, i)
            }, n[35680] = function (t, e, i) {
                t.uniform1i(e, i)
            }, n), d = ((r = {})[5124] = function (t, e, i) {
                t.uniform1iv(e, i)
            }, r[5126] = function (t, e, i) {
                t.uniform1fv(e, i)
            }, r[35664] = function (t, e, i) {
                t.uniform2fv(e, i)
            }, r[35665] = function (t, e, i) {
                t.uniform3fv(e, i)
            }, r[35666] = function (t, e, i) {
                t.uniform4fv(e, i)
            }, r[35667] = function (t, e, i) {
                t.uniform2iv(e, i)
            }, r[35668] = function (t, e, i) {
                t.uniform3iv(e, i)
            }, r[35669] = function (t, e, i) {
                t.uniform4iv(e, i)
            }, r[35670] = function (t, e, i) {
                t.uniform1iv(e, i)
            }, r[35671] = function (t, e, i) {
                t.uniform2iv(e, i)
            }, r[35672] = function (t, e, i) {
                t.uniform3iv(e, i)
            }, r[35673] = function (t, e, i) {
                t.uniform4iv(e, i)
            }, r[35674] = function (t, e, i) {
                t.uniformMatrix2fv(e, !1, i)
            }, r[35675] = function (t, e, i) {
                t.uniformMatrix3fv(e, !1, i)
            }, r[35676] = function (t, e, i) {
                t.uniformMatrix4fv(e, !1, i)
            }, r[35678] = function (t, e, i) {
                t.uniform1iv(e, i)
            }, r[35680] = function (t, e, i) {
                t.uniform1iv(e, i)
            }, r);

            function _(t, e, i) {
                if (e.blend !== i.blend) return i.blend ? (t.enable(t.BLEND), i.blendSrc !== a.enums.BLEND_CONSTANT_COLOR && i.blendSrc !== a.enums.BLEND_ONE_MINUS_CONSTANT_COLOR && i.blendDst !== a.enums.BLEND_CONSTANT_COLOR && i.blendDst !== a.enums.BLEND_ONE_MINUS_CONSTANT_COLOR || t.blendColor((i.blendColor >> 24) / 255, (i.blendColor >> 16 & 255) / 255, (i.blendColor >> 8 & 255) / 255, (255 & i.blendColor) / 255), void (i.blendSep ? (t.blendFuncSeparate(i.blendSrc, i.blendDst, i.blendSrcAlpha, i.blendDstAlpha), t.blendEquationSeparate(i.blendEq, i.blendAlphaEq)) : (t.blendFunc(i.blendSrc, i.blendDst), t.blendEquation(i.blendEq)))) : void t.disable(t.BLEND);
                !1 !== i.blend && (e.blendColor !== i.blendColor && t.blendColor((i.blendColor >> 24) / 255, (i.blendColor >> 16 & 255) / 255, (i.blendColor >> 8 & 255) / 255, (255 & i.blendColor) / 255), e.blendSep === i.blendSep ? i.blendSep ? (e.blendSrc === i.blendSrc && e.blendDst === i.blendDst && e.blendSrcAlpha === i.blendSrcAlpha && e.blendDstAlpha === i.blendDstAlpha || t.blendFuncSeparate(i.blendSrc, i.blendDst, i.blendSrcAlpha, i.blendDstAlpha), e.blendEq === i.blendEq && e.blendAlphaEq === i.blendAlphaEq || t.blendEquationSeparate(i.blendEq, i.blendAlphaEq)) : (e.blendSrc === i.blendSrc && e.blendDst === i.blendDst || t.blendFunc(i.blendSrc, i.blendDst), e.blendEq !== i.blendEq && t.blendEquation(i.blendEq)) : i.blendSep ? (t.blendFuncSeparate(i.blendSrc, i.blendDst, i.blendSrcAlpha, i.blendDstAlpha), t.blendEquationSeparate(i.blendEq, i.blendAlphaEq)) : (t.blendFunc(i.blendSrc, i.blendDst), t.blendEquation(i.blendEq)))
            }

            function p(t, e, i) {
                if (e.depthTest !== i.depthTest) return i.depthTest ? (t.enable(t.DEPTH_TEST), t.depthFunc(i.depthFunc), void t.depthMask(i.depthWrite)) : void t.disable(t.DEPTH_TEST);
                e.depthWrite !== i.depthWrite && t.depthMask(i.depthWrite), !1 !== i.depthTest ? e.depthFunc !== i.depthFunc && t.depthFunc(i.depthFunc) : i.depthWrite && (i.depthTest = !0, i.depthFunc = a.enums.DS_FUNC_ALWAYS, t.enable(t.DEPTH_TEST), t.depthFunc(i.depthFunc))
            }

            function v(t, e, i) {
                if (i.stencilTest !== a.enums.STENCIL_INHERIT) return i.stencilTest !== e.stencilTest ? i.stencilTest === a.enums.STENCIL_DISABLE ? void t.disable(t.STENCIL_TEST) : (t.enable(t.STENCIL_TEST), void (i.stencilSep ? (t.stencilFuncSeparate(t.FRONT, i.stencilFuncFront, i.stencilRefFront, i.stencilMaskFront), t.stencilMaskSeparate(t.FRONT, i.stencilWriteMaskFront), t.stencilOpSeparate(t.FRONT, i.stencilFailOpFront, i.stencilZFailOpFront, i.stencilZPassOpFront), t.stencilFuncSeparate(t.BACK, i.stencilFuncBack, i.stencilRefBack, i.stencilMaskBack), t.stencilMaskSeparate(t.BACK, i.stencilWriteMaskBack), t.stencilOpSeparate(t.BACK, i.stencilFailOpBack, i.stencilZFailOpBack, i.stencilZPassOpBack)) : (t.stencilFunc(i.stencilFuncFront, i.stencilRefFront, i.stencilMaskFront), t.stencilMask(i.stencilWriteMaskFront), t.stencilOp(i.stencilFailOpFront, i.stencilZFailOpFront, i.stencilZPassOpFront)))) : void (i.stencilTest !== a.enums.STENCIL_DISABLE && (e.stencilSep === i.stencilSep ? i.stencilSep ? (e.stencilFuncFront === i.stencilFuncFront && e.stencilRefFront === i.stencilRefFront && e.stencilMaskFront === i.stencilMaskFront || t.stencilFuncSeparate(t.FRONT, i.stencilFuncFront, i.stencilRefFront, i.stencilMaskFront), e.stencilWriteMaskFront !== i.stencilWriteMaskFront && t.stencilMaskSeparate(t.FRONT, i.stencilWriteMaskFront), e.stencilFailOpFront === i.stencilFailOpFront && e.stencilZFailOpFront === i.stencilZFailOpFront && e.stencilZPassOpFront === i.stencilZPassOpFront || t.stencilOpSeparate(t.FRONT, i.stencilFailOpFront, i.stencilZFailOpFront, i.stencilZPassOpFront), e.stencilFuncBack === i.stencilFuncBack && e.stencilRefBack === i.stencilRefBack && e.stencilMaskBack === i.stencilMaskBack || t.stencilFuncSeparate(t.BACK, i.stencilFuncBack, i.stencilRefBack, i.stencilMaskBack), e.stencilWriteMaskBack !== i.stencilWriteMaskBack && t.stencilMaskSeparate(t.BACK, i.stencilWriteMaskBack), e.stencilFailOpBack === i.stencilFailOpBack && e.stencilZFailOpBack === i.stencilZFailOpBack && e.stencilZPassOpBack === i.stencilZPassOpBack || t.stencilOpSeparate(t.BACK, i.stencilFailOpBack, i.stencilZFailOpBack, i.stencilZPassOpBack)) : (e.stencilFuncFront === i.stencilFuncFront && e.stencilRefFront === i.stencilRefFront && e.stencilMaskFront === i.stencilMaskFront || t.stencilFunc(i.stencilFuncFront, i.stencilRefFront, i.stencilMaskFront), e.stencilWriteMaskFront !== i.stencilWriteMaskFront && t.stencilMask(i.stencilWriteMaskFront), e.stencilFailOpFront === i.stencilFailOpFront && e.stencilZFailOpFront === i.stencilZFailOpFront && e.stencilZPassOpFront === i.stencilZPassOpFront || t.stencilOp(i.stencilFailOpFront, i.stencilZFailOpFront, i.stencilZPassOpFront)) : i.stencilSep ? (t.stencilFuncSeparate(t.FRONT, i.stencilFuncFront, i.stencilRefFront, i.stencilMaskFront), t.stencilMaskSeparate(t.FRONT, i.stencilWriteMaskFront), t.stencilOpSeparate(t.FRONT, i.stencilFailOpFront, i.stencilZFailOpFront, i.stencilZPassOpFront), t.stencilFuncSeparate(t.BACK, i.stencilFuncBack, i.stencilRefBack, i.stencilMaskBack), t.stencilMaskSeparate(t.BACK, i.stencilWriteMaskBack), t.stencilOpSeparate(t.BACK, i.stencilFailOpBack, i.stencilZFailOpBack, i.stencilZPassOpBack)) : (t.stencilFunc(i.stencilFuncFront, i.stencilRefFront, i.stencilMaskFront), t.stencilMask(i.stencilWriteMaskFront), t.stencilOp(i.stencilFailOpFront, i.stencilZFailOpFront, i.stencilZPassOpFront))))
            }

            function g(t, e, i) {
                e.cullMode !== i.cullMode && (i.cullMode !== a.enums.CULL_NONE ? (t.enable(t.CULL_FACE), t.cullFace(i.cullMode)) : t.disable(t.CULL_FACE))
            }

            function m(t, e, i, n) {
                var r = !1;
                if (-1 !== n.maxStream) {
                    if (i.maxStream !== n.maxStream) r = !0; else if (i.program !== n.program) r = !0; else for (var s = 0; s < n.maxStream + 1; ++s) if (i.vertexBuffers[s] !== n.vertexBuffers[s] || i.vertexBufferOffsets[s] !== n.vertexBufferOffsets[s]) {
                        r = !0;
                        break
                    }
                    if (r) {
                        for (var a = 0; a < t._caps.maxVertexAttribs; ++a) t._newAttributes[a] = 0;
                        for (var o = 0; o < n.maxStream + 1; ++o) {
                            var c = n.vertexBuffers[o], l = n.vertexBufferOffsets[o];
                            if (c && -1 !== c._glID) {
                                e.bindBuffer(e.ARRAY_BUFFER, c._glID);
                                for (var h = 0; h < n.program._attributes.length; ++h) {
                                    var u = n.program._attributes[h], f = c._format.element(u.name);
                                    f ? (0 === t._enabledAttributes[u.location] && (e.enableVertexAttribArray(u.location), t._enabledAttributes[u.location] = 1), t._newAttributes[u.location] = 1, e.vertexAttribPointer(u.location, f.num, f.type, f.normalize, f.stride, f.offset + l * f.stride)) : console.warn("Can not find vertex attribute: " + u.name)
                                }
                            }
                        }
                        for (var d = 0; d < t._caps.maxVertexAttribs; ++d) t._enabledAttributes[d] !== t._newAttributes[d] && (e.disableVertexAttribArray(d), t._enabledAttributes[d] = 0)
                    }
                }
            }

            function y(t, e, i) {
                for (var n = 0; n < i.maxTextureSlot + 1; ++n) if (e.textureUnits[n] !== i.textureUnits[n]) {
                    var r = i.textureUnits[n];
                    r && -1 !== r._glID && (t.activeTexture(t.TEXTURE0 + n), t.bindTexture(r._target, r._glID))
                }
            }

            function T(t, e, i, n) {
                void 0 === n && (n = 0), i instanceof o.default ? t.framebufferTexture2D(t.FRAMEBUFFER, e, t.TEXTURE_2D, i._glID, 0) : i instanceof c.default ? t.framebufferTexture2D(t.FRAMEBUFFER, e, t.TEXTURE_CUBE_MAP_POSITIVE_X + n, i._glID, 0) : t.framebufferRenderbuffer(t.FRAMEBUFFER, e, t.RENDERBUFFER, i._glID)
            }

            var E = (function () {
                function t(t, e) {
                    var i;
                    void 0 === (e = e || {}).alpha && (e.alpha = !1), void 0 === e.stencil && (e.stencil = !0), void 0 === e.depth && (e.depth = !0), void 0 === e.antialias && (e.antialias = !1), void 0 === e.preserveDrawingBuffer && (e.preserveDrawingBuffer = !1);
                    try {
                        i = t.getContext("webgl", e) || t.getContext("experimental-webgl", e) || t.getContext("webkit-3d", e) || t.getContext("moz-webgl", e)
                    } catch (c) {
                        return void console.error(c)
                    }
                    if (!i && (console.error("This device does not support webgl"), wx)) {
                        var n = !1,
                            r = "\u5f53\u524d\u663e\u5361\u4e0d\u652f\u6301\n\u8bf7\u5207\u6362\u56fe\u5f62\u663e\u5361\u540e\u518d\u5c1d\u8bd5";
                        if ((cc.sys.os === cc.sys.OS_IOS || cc.sys.os === cc.sys.OS_OSX) && cc.sys.platform === cc.sys.WECHAT_GAME) {
                            var a = window && window.navigator && window.navigator.userAgent && window.navigator.userAgent.match(/((OS )|(Version\/))(\d+)(\.(\d+))?/);
                            a && (+a[4] || 0) > 15 && (n = !0)
                        }
                        return n && (r = "\u60a8\u53ef\u80fd\u5904\u4e8e\u9501\u5b9a\u6a21\u5f0f\n\u8bf7\u5c1d\u8bd5\u5173\u95ed\u9501\u5b9a\u6a21\u5f0f\u4e4b\u540e\u518d\u5c1d\u8bd5"), void wx.showModal({
                            title: "\u63d0\u793a",
                            content: r,
                            showCancel: !1,
                            success: function () {
                                wx.exitMiniProgram({})
                            }
                        })
                    }
                    this._gl = i, this._extensions = {}, this._caps = {}, this._stats = {
                        texture: 0,
                        vb: 0,
                        ib: 0,
                        drawcalls: 0
                    }, this._initExtensions(["EXT_texture_filter_anisotropic", "EXT_shader_texture_lod", "OES_standard_derivatives", "OES_texture_float", "OES_texture_float_linear", "OES_texture_half_float", "OES_texture_half_float_linear", "OES_vertex_array_object", "WEBGL_compressed_texture_atc", "WEBGL_compressed_texture_etc", "WEBGL_compressed_texture_etc1", "WEBGL_compressed_texture_pvrtc", "WEBGL_compressed_texture_s3tc", "WEBGL_depth_texture", "WEBGL_draw_buffers"]), this._initCaps(), this._initStates(), s.default.initDefault(this), this._current = new s.default(this), this._next = new s.default(this), this._uniforms = {}, this._vx = this._vy = this._vw = this._vh = 0, this._sx = this._sy = this._sw = this._sh = 0, this._framebuffer = null, this._enabledAttributes = new Array(this._caps.maxVertexAttribs), this._newAttributes = new Array(this._caps.maxVertexAttribs);
                    for (var o = 0; o < this._caps.maxVertexAttribs; ++o) this._enabledAttributes[o] = 0, this._newAttributes[o] = 0
                }

                var e, i, n = t.prototype;
                return n._initExtensions = function (t) {
                    for (var e = this._gl, i = 0; i < t.length; ++i) for (var n = t[i], r = ["", "WEBKIT_", "MOZ_"], s = 0; s < r.length; s++) try {
                        var a = e.getExtension(r[s] + n);
                        if (a) {
                            this._extensions[n] = a;
                            break
                        }
                    } catch (o) {
                        console.error(o)
                    }
                }, n._initCaps = function () {
                    var t = this._gl, e = this.ext("WEBGL_draw_buffers");
                    this._caps.maxVertexStreams = 4, this._caps.maxVertexTextures = t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS), this._caps.maxFragUniforms = t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS), this._caps.maxTextureUnits = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS), this._caps.maxVertexAttribs = t.getParameter(t.MAX_VERTEX_ATTRIBS), this._caps.maxTextureSize = t.getParameter(t.MAX_TEXTURE_SIZE), this._caps.maxDrawBuffers = e ? t.getParameter(e.MAX_DRAW_BUFFERS_WEBGL) : 1, this._caps.maxColorAttachments = e ? t.getParameter(e.MAX_COLOR_ATTACHMENTS_WEBGL) : 1
                }, n._initStates = function () {
                    var t = this._gl;
                    t.disable(t.BLEND), t.blendFunc(t.ONE, t.ZERO), t.blendEquation(t.FUNC_ADD), t.blendColor(1, 1, 1, 1), t.colorMask(!0, !0, !0, !0), t.enable(t.CULL_FACE), t.cullFace(t.BACK), t.disable(t.DEPTH_TEST), t.depthFunc(t.LESS), t.depthMask(!1), t.disable(t.POLYGON_OFFSET_FILL), t.depthRange(0, 1), t.disable(t.STENCIL_TEST), t.stencilFunc(t.ALWAYS, 0, 255), t.stencilMask(255), t.stencilOp(t.KEEP, t.KEEP, t.KEEP), t.clearDepth(1), t.clearColor(0, 0, 0, 0), t.clearStencil(0), t.disable(t.SCISSOR_TEST)
                }, n._restoreTexture = function (t) {
                    var e = this._gl, i = this._current.textureUnits[t];
                    i && -1 !== i._glID ? e.bindTexture(i._target, i._glID) : e.bindTexture(e.TEXTURE_2D, null)
                }, n._restoreIndexBuffer = function () {
                    var t = this._gl, e = this._current.indexBuffer;
                    e && -1 !== e._glID ? t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, e._glID) : t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, null)
                }, n.ext = function (t) {
                    return this._extensions[t]
                }, n.allowFloatTexture = function () {
                    return null != this.ext("OES_texture_float")
                }, n.setFrameBuffer = function (t) {
                    if (this._framebuffer !== t) {
                        this._framebuffer = t;
                        var e = this._gl;
                        if (t) {
                            e.bindFramebuffer(e.FRAMEBUFFER, t._glID);
                            for (var i = t._colors.length, n = 0; n < i; ++n) {
                                var r = t._colors[n];
                                T(e, e.COLOR_ATTACHMENT0 + n, r)
                            }
                            for (var s = i; s < this._caps.maxColorAttachments; ++s) e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0 + s, e.TEXTURE_2D, null, 0);
                            t._depth && T(e, e.DEPTH_ATTACHMENT, t._depth), t._stencil && T(e, e.STENCIL_ATTACHMENT, t._stencil), t._depthStencil && T(e, e.DEPTH_STENCIL_ATTACHMENT, t._depthStencil)
                        } else e.bindFramebuffer(e.FRAMEBUFFER, null)
                    }
                }, n.setViewport = function (t, e, i, n) {
                    this._vx === t && this._vy === e && this._vw === i && this._vh === n || (this._gl.viewport(t, e, i, n), this._vx = t, this._vy = e, this._vw = i, this._vh = n)
                }, n.setScissor = function (t, e, i, n) {
                    this._sx === t && this._sy === e && this._sw === i && this._sh === n || (this._gl.scissor(t, e, i, n), this._sx = t, this._sy = e, this._sw = i, this._sh = n)
                }, n.clear = function (t) {
                    if (void 0 !== t.color || void 0 !== t.depth || void 0 !== t.stencil) {
                        var e = this._gl, i = 0;
                        void 0 !== t.color && (i |= e.COLOR_BUFFER_BIT, e.clearColor(t.color[0], t.color[1], t.color[2], t.color[3])), void 0 !== t.depth && (i |= e.DEPTH_BUFFER_BIT, e.clearDepth(t.depth), e.enable(e.DEPTH_TEST), e.depthMask(!0), e.depthFunc(e.ALWAYS)), void 0 !== t.stencil && (i |= e.STENCIL_BUFFER_BIT, e.clearStencil(t.stencil)), e.clear(i), void 0 !== t.depth && (!1 === this._current.depthTest ? e.disable(e.DEPTH_TEST) : (!1 === this._current.depthWrite && e.depthMask(!1), this._current.depthFunc !== a.enums.DS_FUNC_ALWAYS && e.depthFunc(this._current.depthFunc)))
                    }
                }, n.enableBlend = function () {
                    this._next.blend = !0
                }, n.enableDepthTest = function () {
                    this._next.depthTest = !0
                }, n.enableDepthWrite = function () {
                    this._next.depthWrite = !0
                }, n.setStencilTest = function (t) {
                    this._next.stencilTest = t
                }, n.setStencilFunc = function (t, e, i) {
                    this._next.stencilSep = !1, this._next.stencilFuncFront = this._next.stencilFuncBack = t, this._next.stencilRefFront = this._next.stencilRefBack = e, this._next.stencilMaskFront = this._next.stencilMaskBack = i
                }, n.setStencilFuncFront = function (t, e, i) {
                    this._next.stencilSep = !0, this._next.stencilFuncFront = t, this._next.stencilRefFront = e, this._next.stencilMaskFront = i
                }, n.setStencilFuncBack = function (t, e, i) {
                    this._next.stencilSep = !0, this._next.stencilFuncBack = t, this._next.stencilRefBack = e, this._next.stencilMaskBack = i
                }, n.setStencilOp = function (t, e, i, n) {
                    this._next.stencilFailOpFront = this._next.stencilFailOpBack = t, this._next.stencilZFailOpFront = this._next.stencilZFailOpBack = e, this._next.stencilZPassOpFront = this._next.stencilZPassOpBack = i, this._next.stencilWriteMaskFront = this._next.stencilWriteMaskBack = n
                }, n.setStencilOpFront = function (t, e, i, n) {
                    this._next.stencilSep = !0, this._next.stencilFailOpFront = t, this._next.stencilZFailOpFront = e, this._next.stencilZPassOpFront = i, this._next.stencilWriteMaskFront = n
                }, n.setStencilOpBack = function (t, e, i, n) {
                    this._next.stencilSep = !0, this._next.stencilFailOpBack = t, this._next.stencilZFailOpBack = e, this._next.stencilZPassOpBack = i, this._next.stencilWriteMaskBack = n
                }, n.setDepthFunc = function (t) {
                    this._next.depthFunc = t
                }, n.setBlendColor32 = function (t) {
                    this._next.blendColor = t
                }, n.setBlendColor = function (t, e, i, n) {
                    this._next.blendColor = (255 * t << 24 | 255 * e << 16 | 255 * i << 8 | 255 * n) >>> 0
                }, n.setBlendFunc = function (t, e) {
                    this._next.blendSep = !1, this._next.blendSrc = t, this._next.blendDst = e
                }, n.setBlendFuncSep = function (t, e, i, n) {
                    this._next.blendSep = !0, this._next.blendSrc = t, this._next.blendDst = e, this._next.blendSrcAlpha = i, this._next.blendDstAlpha = n
                }, n.setBlendEq = function (t) {
                    this._next.blendSep = !1, this._next.blendEq = t
                }, n.setBlendEqSep = function (t, e) {
                    this._next.blendSep = !0, this._next.blendEq = t, this._next.blendAlphaEq = e
                }, n.setCullMode = function (t) {
                    this._next.cullMode = t
                }, n.setVertexBuffer = function (t, e, i) {
                    void 0 === i && (i = 0), this._next.vertexBuffers[t] = e, this._next.vertexBufferOffsets[t] = i, this._next.maxStream < t && (this._next.maxStream = t)
                }, n.setIndexBuffer = function (t) {
                    this._next.indexBuffer = t
                }, n.setProgram = function (t) {
                    this._next.program = t
                }, n.setTexture = function (t, e, i) {
                    i >= this._caps.maxTextureUnits ? console.warn("Can not set texture " + t + " at stage " + i + ", max texture exceed: " + this._caps.maxTextureUnits) : (this._next.textureUnits[i] = e, this.setUniform(t, i), this._next.maxTextureSlot < i && (this._next.maxTextureSlot = i))
                }, n.setTextureArray = function (t, e, i) {
                    var n = e.length;
                    if (n >= this._caps.maxTextureUnits) console.warn("Can not set " + n + " textures for " + t + ", max texture exceed: " + this._caps.maxTextureUnits); else {
                        for (var r = 0; r < n; ++r) {
                            var s = i[r];
                            this._next.textureUnits[s] = e[r], this._next.maxTextureSlot < s && (this._next.maxTextureSlot = s)
                        }
                        this.setUniform(t, i)
                    }
                }, n.setUniform = function (t, e) {
                    var i = this._uniforms[t], n = !1, r = !1, s = !1, a = !1;
                    do {
                        if (!i) break;
                        if (s = Array.isArray(e) || e instanceof Float32Array, a = e instanceof Int32Array, r = s || a, i.isArray !== r) break;
                        if (i.isArray && i.value.length !== e.length) break;
                        n = !0
                    } while (0);
                    if (n) {
                        var o = i.value, c = !1;
                        if (i.isArray) for (var l = 0, h = o.length; l < h; l++) o[l] !== e[l] && (c = !0, o[l] = e[l]); else o !== e && (c = !0, i.value = e);
                        c && (i.dirty = !0)
                    } else {
                        var u = e;
                        s ? u = new Float32Array(e) : a && (u = new Int32Array(e)), i = {
                            dirty: !0,
                            value: u,
                            isArray: r
                        }
                    }
                    this._uniforms[t] = i
                }, n.setUniformDirectly = function (t, e) {
                    var i = this._uniforms[t];
                    i || (this._uniforms[t] = i = {}), i.dirty = !0, i.value = e
                }, n.setPrimitiveType = function (t) {
                    this._next.primitiveType = t
                }, n.resetDrawCalls = function () {
                    this._stats.drawcalls = 0
                }, n.getDrawCalls = function () {
                    return this._stats.drawcalls
                }, n.draw = function (t, e) {
                    var i = this._gl, n = this._current, r = this._next;
                    _(i, n, r), p(i, n, r), v(i, n, r), g(i, n, r), m(this, i, n, r), n.indexBuffer !== r.indexBuffer && i.bindBuffer(i.ELEMENT_ARRAY_BUFFER, r.indexBuffer && -1 !== r.indexBuffer._glID ? r.indexBuffer._glID : null);
                    var s = !1;
                    n.program !== r.program && (r.program._linked ? i.useProgram(r.program._glID) : console.warn("Failed to use program: has not linked yet."), s = !0), y(i, n, r);
                    for (var a = 0; a < r.program._uniforms.length; ++a) {
                        var o = r.program._uniforms[a], c = this._uniforms[o.name];
                        if (c && (s || c.dirty)) {
                            c.dirty = !1;
                            var l = void 0 === o.size ? f[o.type] : d[o.type];
                            l ? l(i, o.location, c.value) : console.warn("Can not find commit function for uniform " + o.name)
                        }
                    }
                    e && (r.indexBuffer ? i.drawElements(this._next.primitiveType, e, r.indexBuffer._format, t * r.indexBuffer._bytesPerIndex) : i.drawArrays(this._next.primitiveType, t, e), this._stats.drawcalls++), n.set(r), r.reset()
                }, e = t, (i = [{
                    key: "caps", get: function () {
                        return this._caps
                    }
                }]) && h(e.prototype, i), Object.defineProperty(e, "prototype", {writable: !1}), t
            })();
            i.default = E, e.exports = i.default
        }), {"./enums": 289, "./state": 296, "./texture-2d": 297, "./texture-cube": 298}],
        289: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.attrTypeBytes = function (t) {
                return t === s.ATTR_TYPE_INT8 ? 1 : t === s.ATTR_TYPE_UINT8 ? 1 : t === s.ATTR_TYPE_INT16 ? 2 : t === s.ATTR_TYPE_UINT16 ? 2 : t === s.ATTR_TYPE_INT32 ? 4 : t === s.ATTR_TYPE_UINT32 ? 4 : t === s.ATTR_TYPE_FLOAT32 ? 4 : (console.warn("Unknown ATTR_TYPE: " + t), 0)
            }, i.enums = void 0, i.glFilter = function (t, e, i) {
                void 0 === i && (i = -1);
                var r = n[e][i + 1];
                return void 0 === r ? (console.warn("Unknown FILTER: " + e), -1 === i ? t.LINEAR : t.LINEAR_MIPMAP_LINEAR) : r
            }, i.glTextureFmt = function (t) {
                var e = r[t];
                return void 0 === e ? (console.warn("Unknown TEXTURE_FMT: " + t), r[s.TEXTURE_FMT_RGBA8]) : e
            };
            var n = [[9728, 9984, 9986], [9729, 9985, 9987]],
                r = [{format: 6407, internalFormat: 33776, pixelType: null}, {
                    format: 6408,
                    internalFormat: 33777,
                    pixelType: null
                }, {format: 6408, internalFormat: 33778, pixelType: null}, {
                    format: 6408,
                    internalFormat: 33779,
                    pixelType: null
                }, {format: 6407, internalFormat: 36196, pixelType: null}, {
                    format: 6407,
                    internalFormat: 35841,
                    pixelType: null
                }, {format: 6408, internalFormat: 35843, pixelType: null}, {
                    format: 6407,
                    internalFormat: 35840,
                    pixelType: null
                }, {format: 6408, internalFormat: 35842, pixelType: null}, {
                    format: 6406,
                    internalFormat: 6406,
                    pixelType: 5121
                }, {format: 6409, internalFormat: 6409, pixelType: 5121}, {
                    format: 6410,
                    internalFormat: 6410,
                    pixelType: 5121
                }, {format: 6407, internalFormat: 6407, pixelType: 33635}, {
                    format: 6408,
                    internalFormat: 6408,
                    pixelType: 32820
                }, {format: 6408, internalFormat: 6408, pixelType: 32819}, {
                    format: 6407,
                    internalFormat: 6407,
                    pixelType: 5121
                }, {format: 6408, internalFormat: 6408, pixelType: 5121}, {
                    format: 6407,
                    internalFormat: 6407,
                    pixelType: 36193
                }, {format: 6408, internalFormat: 6408, pixelType: 36193}, {
                    format: 6407,
                    internalFormat: 6407,
                    pixelType: 5126
                }, {format: 6408, internalFormat: 6408, pixelType: 5126}, {
                    format: null,
                    internalFormat: null,
                    pixelType: null
                }, {format: null, internalFormat: null, pixelType: null}, {
                    format: null,
                    internalFormat: null,
                    pixelType: null
                }, {format: null, internalFormat: null, pixelType: null}, {
                    format: 6402,
                    internalFormat: 6402,
                    pixelType: 5123
                }, {format: 6402, internalFormat: 6402, pixelType: 5125}, {
                    format: 6402,
                    internalFormat: 6402,
                    pixelType: 5125
                }, {format: 6407, internalFormat: 37492, pixelType: null}, {
                    format: 6408,
                    internalFormat: 37496,
                    pixelType: null
                }], s = {
                    USAGE_STATIC: 35044,
                    USAGE_DYNAMIC: 35048,
                    USAGE_STREAM: 35040,
                    INDEX_FMT_UINT8: 5121,
                    INDEX_FMT_UINT16: 5123,
                    INDEX_FMT_UINT32: 5125,
                    ATTR_POSITION: "a_position",
                    ATTR_NORMAL: "a_normal",
                    ATTR_TANGENT: "a_tangent",
                    ATTR_BITANGENT: "a_bitangent",
                    ATTR_WEIGHTS: "a_weights",
                    ATTR_JOINTS: "a_joints",
                    ATTR_COLOR: "a_color",
                    ATTR_COLOR0: "a_color0",
                    ATTR_COLOR1: "a_color1",
                    ATTR_UV: "a_uv",
                    ATTR_UV0: "a_uv0",
                    ATTR_UV1: "a_uv1",
                    ATTR_UV2: "a_uv2",
                    ATTR_UV3: "a_uv3",
                    ATTR_UV4: "a_uv4",
                    ATTR_UV5: "a_uv5",
                    ATTR_UV6: "a_uv6",
                    ATTR_UV7: "a_uv7",
                    ATTR_TEX_COORD: "a_texCoord",
                    ATTR_TEX_COORD1: "a_texCoord1",
                    ATTR_TEX_COORD2: "a_texCoord2",
                    ATTR_TEX_COORD3: "a_texCoord3",
                    ATTR_TEX_COORD4: "a_texCoord4",
                    ATTR_TEX_COORD5: "a_texCoord5",
                    ATTR_TEX_COORD6: "a_texCoord6",
                    ATTR_TEX_COORD7: "a_texCoord7",
                    ATTR_TEX_COORD8: "a_texCoord8",
                    ATTR_TYPE_INT8: 5120,
                    ATTR_TYPE_UINT8: 5121,
                    ATTR_TYPE_INT16: 5122,
                    ATTR_TYPE_UINT16: 5123,
                    ATTR_TYPE_INT32: 5124,
                    ATTR_TYPE_UINT32: 5125,
                    ATTR_TYPE_FLOAT32: 5126,
                    FILTER_NEAREST: 0,
                    FILTER_LINEAR: 1,
                    WRAP_REPEAT: 10497,
                    WRAP_CLAMP: 33071,
                    WRAP_MIRROR: 33648,
                    TEXTURE_FMT_RGB_DXT1: 0,
                    TEXTURE_FMT_RGBA_DXT1: 1,
                    TEXTURE_FMT_RGBA_DXT3: 2,
                    TEXTURE_FMT_RGBA_DXT5: 3,
                    TEXTURE_FMT_RGB_ETC1: 4,
                    TEXTURE_FMT_RGB_PVRTC_2BPPV1: 5,
                    TEXTURE_FMT_RGBA_PVRTC_2BPPV1: 6,
                    TEXTURE_FMT_RGB_PVRTC_4BPPV1: 7,
                    TEXTURE_FMT_RGBA_PVRTC_4BPPV1: 8,
                    TEXTURE_FMT_A8: 9,
                    TEXTURE_FMT_L8: 10,
                    TEXTURE_FMT_L8_A8: 11,
                    TEXTURE_FMT_R5_G6_B5: 12,
                    TEXTURE_FMT_R5_G5_B5_A1: 13,
                    TEXTURE_FMT_R4_G4_B4_A4: 14,
                    TEXTURE_FMT_RGB8: 15,
                    TEXTURE_FMT_RGBA8: 16,
                    TEXTURE_FMT_RGB16F: 17,
                    TEXTURE_FMT_RGBA16F: 18,
                    TEXTURE_FMT_RGB32F: 19,
                    TEXTURE_FMT_RGBA32F: 20,
                    TEXTURE_FMT_R32F: 21,
                    TEXTURE_FMT_111110F: 22,
                    TEXTURE_FMT_SRGB: 23,
                    TEXTURE_FMT_SRGBA: 24,
                    TEXTURE_FMT_D16: 25,
                    TEXTURE_FMT_D32: 26,
                    TEXTURE_FMT_D24S8: 27,
                    TEXTURE_FMT_RGB_ETC2: 28,
                    TEXTURE_FMT_RGBA_ETC2: 29,
                    DS_FUNC_NEVER: 512,
                    DS_FUNC_LESS: 513,
                    DS_FUNC_EQUAL: 514,
                    DS_FUNC_LEQUAL: 515,
                    DS_FUNC_GREATER: 516,
                    DS_FUNC_NOTEQUAL: 517,
                    DS_FUNC_GEQUAL: 518,
                    DS_FUNC_ALWAYS: 519,
                    RB_FMT_RGBA4: 32854,
                    RB_FMT_RGB5_A1: 32855,
                    RB_FMT_RGB565: 36194,
                    RB_FMT_D16: 33189,
                    RB_FMT_S8: 36168,
                    RB_FMT_D24S8: 34041,
                    BLEND_FUNC_ADD: 32774,
                    BLEND_FUNC_SUBTRACT: 32778,
                    BLEND_FUNC_REVERSE_SUBTRACT: 32779,
                    BLEND_ZERO: 0,
                    BLEND_ONE: 1,
                    BLEND_SRC_COLOR: 768,
                    BLEND_ONE_MINUS_SRC_COLOR: 769,
                    BLEND_DST_COLOR: 774,
                    BLEND_ONE_MINUS_DST_COLOR: 775,
                    BLEND_SRC_ALPHA: 770,
                    BLEND_ONE_MINUS_SRC_ALPHA: 771,
                    BLEND_DST_ALPHA: 772,
                    BLEND_ONE_MINUS_DST_ALPHA: 773,
                    BLEND_CONSTANT_COLOR: 32769,
                    BLEND_ONE_MINUS_CONSTANT_COLOR: 32770,
                    BLEND_CONSTANT_ALPHA: 32771,
                    BLEND_ONE_MINUS_CONSTANT_ALPHA: 32772,
                    BLEND_SRC_ALPHA_SATURATE: 776,
                    STENCIL_DISABLE: 0,
                    STENCIL_ENABLE: 1,
                    STENCIL_INHERIT: 2,
                    STENCIL_OP_KEEP: 7680,
                    STENCIL_OP_ZERO: 0,
                    STENCIL_OP_REPLACE: 7681,
                    STENCIL_OP_INCR: 7682,
                    STENCIL_OP_INCR_WRAP: 34055,
                    STENCIL_OP_DECR: 7683,
                    STENCIL_OP_DECR_WRAP: 34056,
                    STENCIL_OP_INVERT: 5386,
                    CULL_NONE: 0,
                    CULL_FRONT: 1028,
                    CULL_BACK: 1029,
                    CULL_FRONT_AND_BACK: 1032,
                    PT_POINTS: 0,
                    PT_LINES: 1,
                    PT_LINE_LOOP: 2,
                    PT_LINE_STRIP: 3,
                    PT_TRIANGLES: 4,
                    PT_TRIANGLE_STRIP: 5,
                    PT_TRIANGLE_FAN: 6
                };
            i.enums = s
        }), {}],
        290: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = (function () {
                function t(t, e, i, n) {
                    this._device = t, this._width = e, this._height = i, this._colors = n.colors || [], this._depth = n.depth || null, this._stencil = n.stencil || null, this._depthStencil = n.depthStencil || null, this._glID = t._gl.createFramebuffer()
                }

                var e = t.prototype;
                return e.destroy = function () {
                    null !== this._glID ? (this._device._gl.deleteFramebuffer(this._glID), this._glID = null) : console.error("The frame-buffer already destroyed")
                }, e.getHandle = function () {
                    return this._glID
                }, t
            })();
            i.default = n, e.exports = i.default
        }), {}],
        291: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = t("./enums");

            function s(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = a(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function a(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            var o = ((n = {})[r.enums.INDEX_FMT_UINT8] = 1, n[r.enums.INDEX_FMT_UINT16] = 2, n[r.enums.INDEX_FMT_UINT32] = 4, n),
                c = (function () {
                    function t(t, e, i, n) {
                        this._device = t, this._format = e, this._usage = i, this._bytesPerIndex = o[e], this._bytes = n.byteLength, this._numIndices = this._bytes / this._bytesPerIndex, this._needExpandDataStore = !0, this._glID = t._gl.createBuffer(), this.update(0, n), t._stats.ib += this._bytes
                    }

                    var e, i, n = t.prototype;
                    return n.destroy = function () {
                        -1 !== this._glID ? (this._device._gl.deleteBuffer(this._glID), this._device._stats.ib -= this.bytes, this._glID = -1) : console.error("The buffer already destroyed")
                    }, n.update = function (t, e) {
                        if (-1 !== this._glID) {
                            if (0 !== e.byteLength) {
                                if (t + e.byteLength > this._bytes) {
                                    if (t) return void console.error("Failed to update data, bytes exceed.");
                                    this._needExpandDataStore = !0, this._bytes = t + e.byteLength, this._numIndices = this._bytes / this._bytesPerIndex
                                }
                                var i = this._device._gl, n = this._usage;
                                i.bindBuffer(i.ELEMENT_ARRAY_BUFFER, this._glID), this._needExpandDataStore ? (i.bufferData(i.ELEMENT_ARRAY_BUFFER, e, n), this._needExpandDataStore = !1) : i.bufferSubData(i.ELEMENT_ARRAY_BUFFER, t, e), this._device._restoreIndexBuffer()
                            }
                        } else console.error("The buffer is destroyed")
                    }, n.setUsage = function (t) {
                        this._usage = t
                    }, e = t, (i = [{
                        key: "count", get: function () {
                            return this._numIndices
                        }
                    }]) && s(e.prototype, i), Object.defineProperty(e, "prototype", {writable: !1}), t
                })();
            c.BYTES_PER_INDEX = o;
            var l = c;
            i.default = l, e.exports = i.default
        }), {"./enums": 289}],
        292: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = t("./enums");
            n = {
                VertexFormat: t("./vertex-format"),
                IndexBuffer: t("./index-buffer"),
                VertexBuffer: t("./vertex-buffer"),
                Program: t("./program"),
                Texture: t("./texture"),
                Texture2D: t("./texture-2d"),
                TextureCube: t("./texture-cube"),
                RenderBuffer: t("./render-buffer"),
                FrameBuffer: t("./frame-buffer"),
                Device: t("./device"),
                attrTypeBytes: r.attrTypeBytes,
                glFilter: r.glFilter,
                glTextureFmt: r.glTextureFmt
            }, Object.assign(n, r.enums);
            var s = n;
            i.default = s, cc.gfx = n, e.exports = i.default
        }), {
            "./device": 288,
            "./enums": 289,
            "./frame-buffer": 290,
            "./index-buffer": 291,
            "./program": 294,
            "./render-buffer": 295,
            "./texture": 299,
            "./texture-2d": 297,
            "./texture-cube": 298,
            "./vertex-buffer": 300,
            "./vertex-format": 301
        }],
        293: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.isPow2 = function (t) {
                return !(t & t - 1 || !t)
            }
        }), {}],
        294: [(function (t, e, i) {
            "use strict";

            function n(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (s = r(n.key, "string")) ? s : String(s)), n)
                }
                var s
            }

            function r(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            i.__esModule = !0, i.default = void 0;
            var s = 0;

            function a(t, e, i) {
                i && i.split("\n").forEach((function (i) {
                    if (!(i.length < 5)) {
                        var n = /^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(i);
                        n ? t.push({
                            type: e,
                            fileID: 0 | n[1],
                            line: 0 | n[2],
                            message: n[3].trim()
                        }) : i.length > 0 && t.push({type: e, fileID: -1, line: 0, message: i})
                    }
                }))
            }

            var o = (function () {
                function t(t, e) {
                    this._device = t, this._attributes = [], this._uniforms = [], this._samplers = [], this._errors = [], this._linked = !1, this._vertSource = e.vert, this._fragSource = e.frag, this._glID = null, this._id = s++
                }

                var e, i, r = t.prototype;
                return r.link = function () {
                    if (!this._linked) {
                        var t = this._device._gl, e = c(t, t.VERTEX_SHADER, this._vertSource),
                            i = c(t, t.FRAGMENT_SHADER, this._fragSource), n = t.createProgram();
                        t.attachShader(n, e), t.attachShader(n, i), t.linkProgram(n);
                        var r = !1, s = this._errors;
                        if (t.getShaderParameter(e, t.COMPILE_STATUS) || (a(s, "vs", t.getShaderInfoLog(e)), r = !0), t.getShaderParameter(i, t.COMPILE_STATUS) || (a(s, "fs", t.getShaderInfoLog(i)), r = !0), t.deleteShader(e), t.deleteShader(i), r) return s;
                        if (!t.getProgramParameter(n, t.LINK_STATUS)) return s.push({info: "Failed to link shader program: " + t.getProgramInfoLog(n)}), s;
                        this._glID = n;
                        for (var o = t.getProgramParameter(n, t.ACTIVE_ATTRIBUTES), l = 0; l < o; ++l) {
                            var h = t.getActiveAttrib(n, l), u = t.getAttribLocation(n, h.name);
                            this._attributes.push({name: h.name, location: u, type: h.type})
                        }
                        for (var f = t.getProgramParameter(n, t.ACTIVE_UNIFORMS), d = 0; d < f; ++d) {
                            var _ = t.getActiveUniform(n, d), p = _.name, v = t.getUniformLocation(n, p),
                                g = "[0]" === p.substr(p.length - 3);
                            g && (p = p.substr(0, p.length - 3));
                            var m = {name: p, location: v, type: _.type, size: g ? _.size : void 0};
                            this._uniforms.push(m)
                        }
                        this._linked = !0
                    }
                }, r.destroy = function () {
                    this._device._gl.deleteProgram(this._glID), this._linked = !1, this._glID = null, this._attributes = [], this._uniforms = [], this._samplers = []
                }, e = t, (i = [{
                    key: "id", get: function () {
                        return this._id
                    }
                }]) && n(e.prototype, i), Object.defineProperty(e, "prototype", {writable: !1}), t
            })();

            function c(t, e, i) {
                var n = t.createShader(e);
                return t.shaderSource(n, i), t.compileShader(n), n
            }

            i.default = o, e.exports = i.default
        }), {}],
        295: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = (function () {
                function t(t, e, i, n) {
                    this._device = t, this._format = e, this._glID = t._gl.createRenderbuffer(), this.update(i, n)
                }

                var e = t.prototype;
                return e.update = function (t, e) {
                    this._width = t, this._height = e;
                    var i = this._device._gl;
                    i.bindRenderbuffer(i.RENDERBUFFER, this._glID), i.renderbufferStorage(i.RENDERBUFFER, this._format, t, e), i.bindRenderbuffer(i.RENDERBUFFER, null)
                }, e.destroy = function () {
                    if (null !== this._glID) {
                        var t = this._device._gl;
                        t.bindRenderbuffer(t.RENDERBUFFER, null), t.deleteRenderbuffer(this._glID), this._glID = null
                    } else console.error("The render-buffer already destroyed")
                }, t
            })();
            i.default = n, e.exports = i.default
        }), {}],
        296: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = t("./enums"), r = {
                blend: !1,
                blendSep: !1,
                blendColor: 4294967295,
                blendEq: n.enums.BLEND_FUNC_ADD,
                blendAlphaEq: n.enums.BLEND_FUNC_ADD,
                blendSrc: n.enums.BLEND_ONE,
                blendDst: n.enums.BLEND_ZERO,
                blendSrcAlpha: n.enums.BLEND_ONE,
                blendDstAlpha: n.enums.BLEND_ZERO,
                depthTest: !1,
                depthWrite: !1,
                depthFunc: n.enums.DS_FUNC_LESS,
                stencilTest: !1,
                stencilSep: !1,
                stencilFuncFront: n.enums.DS_FUNC_ALWAYS,
                stencilRefFront: 0,
                stencilMaskFront: 255,
                stencilFailOpFront: n.enums.STENCIL_OP_KEEP,
                stencilZFailOpFront: n.enums.STENCIL_OP_KEEP,
                stencilZPassOpFront: n.enums.STENCIL_OP_KEEP,
                stencilWriteMaskFront: 255,
                stencilFuncBack: n.enums.DS_FUNC_ALWAYS,
                stencilRefBack: 0,
                stencilMaskBack: 255,
                stencilFailOpBack: n.enums.STENCIL_OP_KEEP,
                stencilZFailOpBack: n.enums.STENCIL_OP_KEEP,
                stencilZPassOpBack: n.enums.STENCIL_OP_KEEP,
                stencilWriteMaskBack: 255,
                cullMode: n.enums.CULL_BACK,
                primitiveType: n.enums.PT_TRIANGLES,
                maxStream: -1,
                vertexBuffers: [],
                vertexBufferOffsets: [],
                indexBuffer: null,
                maxTextureSlot: -1,
                textureUnits: [],
                program: null
            }, s = (function () {
                function t(t) {
                    this.vertexBuffers = new Array(t._caps.maxVertexStreams), this.vertexBufferOffsets = new Array(t._caps.maxVertexStreams), this.textureUnits = new Array(t._caps.maxTextureUnits), this.set(r)
                }

                t.initDefault = function (t) {
                    r.vertexBuffers = new Array(t._caps.maxVertexStreams), r.vertexBufferOffsets = new Array(t._caps.maxVertexStreams), r.textureUnits = new Array(t._caps.maxTextureUnits)
                };
                var e = t.prototype;
                return e.reset = function () {
                    this.set(r)
                }, e.set = function (t) {
                    this.blend = t.blend, this.blendSep = t.blendSep, this.blendColor = t.blendColor, this.blendEq = t.blendEq, this.blendAlphaEq = t.blendAlphaEq, this.blendSrc = t.blendSrc, this.blendDst = t.blendDst, this.blendSrcAlpha = t.blendSrcAlpha, this.blendDstAlpha = t.blendDstAlpha, this.depthTest = t.depthTest, this.depthWrite = t.depthWrite, this.depthFunc = t.depthFunc, this.stencilTest = t.stencilTest, this.stencilSep = t.stencilSep, this.stencilFuncFront = t.stencilFuncFront, this.stencilRefFront = t.stencilRefFront, this.stencilMaskFront = t.stencilMaskFront, this.stencilFailOpFront = t.stencilFailOpFront, this.stencilZFailOpFront = t.stencilZFailOpFront, this.stencilZPassOpFront = t.stencilZPassOpFront, this.stencilWriteMaskFront = t.stencilWriteMaskFront, this.stencilFuncBack = t.stencilFuncBack, this.stencilRefBack = t.stencilRefBack, this.stencilMaskBack = t.stencilMaskBack, this.stencilFailOpBack = t.stencilFailOpBack, this.stencilZFailOpBack = t.stencilZFailOpBack, this.stencilZPassOpBack = t.stencilZPassOpBack, this.stencilWriteMaskBack = t.stencilWriteMaskBack, this.cullMode = t.cullMode, this.primitiveType = t.primitiveType, this.maxStream = t.maxStream;
                    for (var e = 0; e < t.vertexBuffers.length; ++e) this.vertexBuffers[e] = t.vertexBuffers[e];
                    for (var i = 0; i < t.vertexBufferOffsets.length; ++i) this.vertexBufferOffsets[i] = t.vertexBufferOffsets[i];
                    this.indexBuffer = t.indexBuffer, this.maxTextureSlot = t.maxTextureSlot;
                    for (var n = 0; n < t.textureUnits.length; ++n) this.textureUnits[n] = t.textureUnits[n];
                    this.program = t.program
                }, t
            })();
            i.default = s, e.exports = i.default
        }), {"./enums": 289}],
        297: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("./texture")) && n.__esModule ? n : {default: n}, s = t("./enums"), a = t("./misc");

            function o(t, e) {
                return (o = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var c = (function (t) {
                var e, i;

                function n(e, i) {
                    var n, r = (n = t.call(this, e) || this)._device._gl;
                    return n._target = r.TEXTURE_2D, n._glID = r.createTexture(), i.images = i.images || [null], n.update(i), n
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, o(e, i);
                var r = n.prototype;
                return r.update = function (t) {
                    var e = this._device._gl, i = this._genMipmap;
                    if (t) {
                        void 0 !== t.width && (this._width = t.width), void 0 !== t.height && (this._height = t.height), void 0 !== t.anisotropy && (this._anisotropy = t.anisotropy), void 0 !== t.minFilter && (this._minFilter = t.minFilter), void 0 !== t.magFilter && (this._magFilter = t.magFilter), void 0 !== t.mipFilter && (this._mipFilter = t.mipFilter), void 0 !== t.wrapS && (this._wrapS = t.wrapS), void 0 !== t.wrapT && (this._wrapT = t.wrapT), void 0 !== t.format && (this._format = t.format, this._compressed = this._format >= s.enums.TEXTURE_FMT_RGB_DXT1 && this._format <= s.enums.TEXTURE_FMT_RGBA_PVRTC_4BPPV1 || this._format >= s.enums.TEXTURE_FMT_RGB_ETC2 && this._format <= s.enums.TEXTURE_FMT_RGBA_ETC2), void 0 !== t.genMipmaps && (this._genMipmap = t.genMipmaps, i = t.genMipmaps);
                        var n = this._device.caps.maxTextureSize || Number.MAX_VALUE,
                            r = Math.max(t.width || 0, t.height || 0);
                        n < r && console.warn("The current texture size " + r + " exceeds the maximum size [" + n + "] supported on the device."), void 0 !== t.images && t.images.length > 1 && (i = !1, (t.width > t.height ? t.width : t.height) >> t.images.length - 1 != 1 && console.error("texture-2d mipmap is invalid, should have a 1x1 mipmap."))
                    }
                    (0, a.isPow2)(this._width) && (0, a.isPow2)(this._height) || (i = !1), e.activeTexture(e.TEXTURE0), e.bindTexture(e.TEXTURE_2D, this._glID), void 0 !== t.images && t.images.length > 0 && (this._setMipmap(t.images, t.flipY, t.premultiplyAlpha), t.images.length > 1 && (this._genMipmap = !0)), i && (e.hint(e.GENERATE_MIPMAP_HINT, e.NICEST), e.generateMipmap(e.TEXTURE_2D), this._genMipmap = !0), this._setTexInfo(), this._device._restoreTexture(0)
                }, r.updateSubImage = function (t) {
                    var e = this._device._gl, i = (0, s.glTextureFmt)(this._format);
                    e.activeTexture(e.TEXTURE0), e.bindTexture(e.TEXTURE_2D, this._glID), this._setSubImage(i, t), this._device._restoreTexture(0)
                }, r.updateImage = function (t) {
                    var e = this._device._gl, i = (0, s.glTextureFmt)(this._format);
                    e.activeTexture(e.TEXTURE0), e.bindTexture(e.TEXTURE_2D, this._glID), this._setImage(i, t), this._device._restoreTexture(0)
                }, r._setSubImage = function (t, e) {
                    var i = this._device._gl, n = e.flipY, r = e.premultiplyAlpha, s = e.image;
                    !s || ArrayBuffer.isView(s) || s instanceof ArrayBuffer ? (void 0 === n ? i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL, !1) : i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL, n), void 0 === r ? i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !1) : i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, r), this._compressed ? i.compressedTexSubImage2D(i.TEXTURE_2D, e.level, e.x, e.y, e.width, e.height, t.format, s) : i.texSubImage2D(i.TEXTURE_2D, e.level, e.x, e.y, e.width, e.height, t.format, t.pixelType, s)) : (void 0 === n ? i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL, !0) : i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL, n), void 0 === r ? i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !1) : i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, r), i.texSubImage2D(i.TEXTURE_2D, e.level, e.x, e.y, t.format, t.pixelType, s))
                }, r._setImage = function (t, e) {
                    var i = this._device._gl, n = e.flipY, r = e.premultiplyAlpha, s = e.image;
                    !s || ArrayBuffer.isView(s) || s instanceof ArrayBuffer ? (void 0 === n ? i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL, !1) : i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL, n), void 0 === r ? i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !1) : i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, r), this._compressed ? i.compressedTexImage2D(i.TEXTURE_2D, e.level, t.internalFormat, e.width, e.height, 0, s) : i.texImage2D(i.TEXTURE_2D, e.level, t.internalFormat, e.width, e.height, 0, t.format, t.pixelType, s)) : (void 0 === n ? i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL, !0) : i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL, n), void 0 === r ? i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !1) : i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, r), i.texImage2D(i.TEXTURE_2D, e.level, t.internalFormat, t.format, t.pixelType, s))
                }, r._setMipmap = function (t, e, i) {
                    for (var n = (0, s.glTextureFmt)(this._format), r = {
                        width: this._width,
                        height: this._height,
                        flipY: e,
                        premultiplyAlpha: i,
                        level: 0,
                        image: null
                    }, a = 0; a < t.length; ++a) r.level = a, r.width = this._width >> a, r.height = this._height >> a, r.image = t[a], this._setImage(n, r)
                }, r._setTexInfo = function () {
                    var t = this._device._gl, e = (0, a.isPow2)(this._width) && (0, a.isPow2)(this._height);
                    e || this._wrapS === s.enums.WRAP_CLAMP && this._wrapT === s.enums.WRAP_CLAMP || (console.warn("WebGL1 doesn't support all wrap modes with NPOT textures"), this._wrapS = s.enums.WRAP_CLAMP, this._wrapT = s.enums.WRAP_CLAMP);
                    var i = this._genMipmap ? this._mipFilter : -1;
                    e || -1 === i || (console.warn("NPOT textures do not support mipmap filter"), i = -1), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, (0, s.glFilter)(t, this._minFilter, i)), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, (0, s.glFilter)(t, this._magFilter, -1)), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, this._wrapS), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, this._wrapT);
                    var n = this._device.ext("EXT_texture_filter_anisotropic");
                    n && t.texParameteri(t.TEXTURE_2D, n.TEXTURE_MAX_ANISOTROPY_EXT, this._anisotropy)
                }, n
            })(r.default);
            i.default = c, e.exports = i.default
        }), {"./enums": 289, "./misc": 293, "./texture": 299}],
        298: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("./texture")) && n.__esModule ? n : {default: n}, s = t("./enums"), a = t("./misc");

            function o(t, e) {
                return (o = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var c = (function (t) {
                var e, i;

                function n(e, i) {
                    var n, r = (n = t.call(this, e) || this)._device._gl;
                    return n._target = r.TEXTURE_CUBE_MAP, n._glID = r.createTexture(), n.update(i), n
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, o(e, i);
                var r = n.prototype;
                return r.update = function (t) {
                    var e = this._device._gl, i = this._genMipmaps;
                    t && (void 0 !== t.width && (this._width = t.width), void 0 !== t.height && (this._height = t.height), void 0 !== t.anisotropy && (this._anisotropy = t.anisotropy), void 0 !== t.minFilter && (this._minFilter = t.minFilter), void 0 !== t.magFilter && (this._magFilter = t.magFilter), void 0 !== t.mipFilter && (this._mipFilter = t.mipFilter), void 0 !== t.wrapS && (this._wrapS = t.wrapS), void 0 !== t.wrapT && (this._wrapT = t.wrapT), void 0 !== t.format && (this._format = t.format, this._compressed = this._format >= s.enums.TEXTURE_FMT_RGB_DXT1 && this._format <= s.enums.TEXTURE_FMT_RGBA_PVRTC_4BPPV1 || this._format >= s.enums.TEXTURE_FMT_RGB_ETC2 && this._format <= s.enums.TEXTURE_FMT_RGBA_ETC2), void 0 !== t.genMipmaps && (this._genMipmaps = t.genMipmaps, i = t.genMipmaps), void 0 !== t.images && t.images.length > 1 && (i = !1, t.width !== t.height && console.warn("texture-cube width and height should be identical."), t.width >> t.images.length - 1 != 1 && console.error("texture-cube mipmap is invalid. please set mipmap as 1x1, 2x2, 4x4 ... nxn"))), (0, a.isPow2)(this._width) && (0, a.isPow2)(this._height) || (i = !1), e.activeTexture(e.TEXTURE0), e.bindTexture(e.TEXTURE_CUBE_MAP, this._glID), void 0 !== t.images && t.images.length > 0 && (this._setMipmap(t.images, t.flipY, t.premultiplyAlpha), t.images.length > 1 && (this._genMipmaps = !0)), i && (e.hint(e.GENERATE_MIPMAP_HINT, e.NICEST), e.generateMipmap(e.TEXTURE_CUBE_MAP), this._genMipmaps = !0), this._setTexInfo(), this._device._restoreTexture(0)
                }, r.updateSubImage = function (t) {
                    var e = this._device._gl, i = (0, s.glTextureFmt)(this._format);
                    e.activeTexture(e.TEXTURE0), e.bindTexture(e.TEXTURE_CUBE_MAP, this._glID), this._setSubImage(i, t), this._device._restoreTexture(0)
                }, r.updateImage = function (t) {
                    var e = this._device._gl, i = (0, s.glTextureFmt)(this._format);
                    e.activeTexture(e.TEXTURE0), e.bindTexture(e.TEXTURE_CUBE_MAP, this._glID), this._setImage(i, t), this._device._restoreTexture(0)
                }, r._setSubImage = function (t, e) {
                    var i = this._device._gl, n = e.flipY, r = e.premultiplyAlpha, s = e.faceIndex, a = e.image;
                    void 0 === n ? i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL, !1) : i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL, n), void 0 === r ? i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !1) : i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, r), !a || ArrayBuffer.isView(a) || a instanceof ArrayBuffer ? this._compressed ? i.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X + s, e.level, e.x, e.y, e.width, e.height, t.format, a) : i.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X + s, e.level, e.x, e.y, e.width, e.height, t.format, t.pixelType, a) : i.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X + s, e.level, e.x, e.y, t.format, t.pixelType, a)
                }, r._setImage = function (t, e) {
                    var i = this._device._gl, n = e.flipY, r = e.premultiplyAlpha, s = e.faceIndex, a = e.image;
                    void 0 === n ? i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL, !1) : i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL, n), void 0 === r ? i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !1) : i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, r), !a || ArrayBuffer.isView(a) || a instanceof ArrayBuffer ? this._compressed ? i.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X + s, e.level, t.internalFormat, e.width, e.height, 0, a) : i.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X + s, e.level, t.internalFormat, e.width, e.height, 0, t.format, t.pixelType, a) : i.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X + s, e.level, t.internalFormat, t.format, t.pixelType, a)
                }, r._setMipmap = function (t, e, i) {
                    for (var n = (0, s.glTextureFmt)(this._format), r = {
                        width: this._width,
                        height: this._height,
                        faceIndex: 0,
                        flipY: e,
                        premultiplyAlpha: i,
                        level: 0,
                        image: null
                    }, a = 0; a < t.length; ++a) {
                        var o = t[a];
                        r.level = a, r.width = this._width >> a, r.height = this._height >> a;
                        for (var c = 0; c < 6; ++c) r.faceIndex = c, r.image = o[c], this._setImage(n, r)
                    }
                }, r._setTexInfo = function () {
                    var t = this._device._gl, e = (0, a.isPow2)(this._width) && (0, a.isPow2)(this._height);
                    e || this._wrapS === s.enums.WRAP_CLAMP && this._wrapT === s.enums.WRAP_CLAMP || (console.warn("WebGL1 doesn't support all wrap modes with NPOT textures"), this._wrapS = s.enums.WRAP_CLAMP, this._wrapT = s.enums.WRAP_CLAMP);
                    var i = this._genMipmaps ? this._mipFilter : -1;
                    e || -1 === i || (console.warn("NPOT textures do not support mipmap filter"), i = -1), t.texParameteri(t.TEXTURE_CUBE_MAP, t.TEXTURE_MIN_FILTER, (0, s.glFilter)(t, this._minFilter, i)), t.texParameteri(t.TEXTURE_CUBE_MAP, t.TEXTURE_MAG_FILTER, (0, s.glFilter)(t, this._magFilter, -1)), t.texParameteri(t.TEXTURE_CUBE_MAP, t.TEXTURE_WRAP_S, this._wrapS), t.texParameteri(t.TEXTURE_CUBE_MAP, t.TEXTURE_WRAP_T, this._wrapT);
                    var n = this._device.ext("EXT_texture_filter_anisotropic");
                    n && t.texParameteri(t.TEXTURE_CUBE_MAP, n.TEXTURE_MAX_ANISOTROPY_EXT, this._anisotropy)
                }, n
            })(r.default);
            i.default = c, e.exports = i.default
        }), {"./enums": 289, "./misc": 293, "./texture": 299}],
        299: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = t("./enums"), r = 0, s = (function () {
                function t(t) {
                    this._device = t, this._width = 4, this._height = 4, this._genMipmaps = !1, this._compressed = !1, this._anisotropy = 1, this._minFilter = n.enums.FILTER_LINEAR, this._magFilter = n.enums.FILTER_LINEAR, this._mipFilter = n.enums.FILTER_LINEAR, this._wrapS = n.enums.WRAP_REPEAT, this._wrapT = n.enums.WRAP_REPEAT, this._format = n.enums.TEXTURE_FMT_RGBA8, this._target = -1, this._id = r++
                }

                return t.prototype.destroy = function () {
                    null !== this._glID ? (this._device._gl.deleteTexture(this._glID), this._device._stats.tex -= this.bytes, this._glID = null) : console.error("The texture already destroyed")
                }, t
            })();
            i.default = s, e.exports = i.default
        }), {"./enums": 289}],
        300: [(function (t, e, i) {
            "use strict";

            function n(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (s = r(n.key, "string")) ? s : String(s)), n)
                }
                var s
            }

            function r(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            i.__esModule = !0, i.default = void 0, t("./enums");
            var s = (function () {
                function t(t, e, i, n) {
                    this._device = t, this._format = e, this._usage = i, this._bytesPerVertex = this._format._bytes, this._bytes = n.byteLength, this._numVertices = this._bytes / this._bytesPerVertex, this._needExpandDataStore = !0, this._glID = t._gl.createBuffer(), this.update(0, n), t._stats.vb += this._bytes
                }

                var e, i, r = t.prototype;
                return r.destroy = function () {
                    -1 !== this._glID ? (this._device._gl.deleteBuffer(this._glID), this._device._stats.vb -= this.bytes, this._glID = -1) : console.error("The buffer already destroyed")
                }, r.update = function (t, e) {
                    if (-1 !== this._glID) {
                        if (0 !== e.byteLength) {
                            if (t + e.byteLength > this._bytes) {
                                if (t) return void console.error("Failed to update data, bytes exceed.");
                                this._needExpandDataStore = !0, this._bytes = t + e.byteLength, this._numVertices = this._bytes / this._bytesPerVertex
                            }
                            var i = this._device._gl, n = this._usage;
                            i.bindBuffer(i.ARRAY_BUFFER, this._glID), this._needExpandDataStore ? (i.bufferData(i.ARRAY_BUFFER, e, n), this._needExpandDataStore = !1) : i.bufferSubData(i.ARRAY_BUFFER, t, e), i.bindBuffer(i.ARRAY_BUFFER, null)
                        }
                    } else console.error("The buffer is destroyed")
                }, r.getFormat = function (t) {
                    return this._format.element(t)
                }, r.setUsage = function (t) {
                    this._usage = t
                }, e = t, (i = [{
                    key: "count", get: function () {
                        return this._numVertices
                    }
                }]) && n(e.prototype, i), Object.defineProperty(e, "prototype", {writable: !1}), t
            })();
            i.default = s, e.exports = i.default
        }), {"./enums": 289}],
        301: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = t("./enums"), s = (n = t("../murmurhash2_gc")) && n.__esModule ? n : {default: n},
                a = (function () {
                    function t(t) {
                        this._attr2el = {}, this._elements = [], this._bytes = 0;
                        for (var e = "", i = 0, n = t.length; i < n; ++i) {
                            var a = t[i], o = {
                                name: a.name,
                                offset: this._bytes,
                                stride: 0,
                                stream: -1,
                                type: a.type,
                                num: a.num,
                                normalize: void 0 !== a.normalize && a.normalize,
                                bytes: a.num * (0, r.attrTypeBytes)(a.type)
                            };
                            this._attr2el[o.name] = o, this._elements.push(o), this._bytes += o.bytes, e += o.name + ":" + o.num + ":" + o.type + ":" + o.normalize
                        }
                        for (var c = 0, l = this._elements.length; c < l; ++c) this._elements[c].stride = this._bytes;
                        this._hash = (0, s.default)(e, 666)
                    }

                    var e = t.prototype;
                    return e.element = function (t) {
                        return this._attr2el[t]
                    }, e.getHash = function () {
                        return this._hash
                    }, t
                })();
            i.default = a, e.exports = i.default
        }), {"../murmurhash2_gc": 310, "./enums": 289}],
        302: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = (function () {
                function t(t, e) {
                    this._cursor = 0, this._data = new Array(e);
                    for (var i = 0; i < e; ++i) this._data[i] = t()
                }

                return t.prototype.request = function () {
                    var t = this._data[this._cursor];
                    return this._cursor = (this._cursor + 1) % this._data.length, t
                }, t
            })();
            i.default = n, e.exports = i.default
        }), {}],
        303: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("./timsort")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = a(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function a(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            var o = (function () {
                function t(t) {
                    this._count = 0, this._data = new Array(t)
                }

                var e, i, n = t.prototype;
                return n._resize = function (t) {
                    if (t > this._data.length) for (var e = this._data.length; e < t; ++e) this._data[e] = void 0
                }, n.reset = function () {
                    for (var t = 0; t < this._count; ++t) this._data[t] = void 0;
                    this._count = 0
                }, n.push = function (t) {
                    this._count >= this._data.length && this._resize(2 * this._data.length), this._data[this._count] = t, ++this._count
                }, n.pop = function () {
                    --this._count, this._count < 0 && (this._count = 0);
                    var t = this._data[this._count];
                    return this._data[this._count] = void 0, t
                }, n.fastRemove = function (t) {
                    if (!(t >= this._count || t < 0)) {
                        var e = this._count - 1;
                        this._data[t] = this._data[e], this._data[e] = void 0, this._count -= 1
                    }
                }, n.indexOf = function (t) {
                    return this._data.indexOf(t)
                }, n.sort = function (t) {
                    return (0, r.default)(this._data, 0, this._count, t)
                }, e = t, (i = [{
                    key: "length", get: function () {
                        return this._count
                    }
                }, {
                    key: "data", get: function () {
                        return this._data
                    }
                }]) && s(e.prototype, i), Object.defineProperty(e, "prototype", {writable: !1}), t
            })();
            i.default = o, e.exports = i.default
        }), {"./timsort": 308}],
        304: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.TypedArrayPool = i.RecyclePool = i.Pool = i.LinkedArray = i.FixedArray = i.CircularPool = void 0;
            var n = l(t("./circular-pool"));
            i.CircularPool = n.default;
            var r = l(t("./fixed-array"));
            i.FixedArray = r.default;
            var s = l(t("./linked-array"));
            i.LinkedArray = s.default;
            var a = l(t("./pool"));
            i.Pool = a.default;
            var o = l(t("./recycle-pool"));
            i.RecyclePool = o.default;
            var c = l(t("./typed-array-pool"));

            function l(t) {
                return t && t.__esModule ? t : {default: t}
            }

            i.TypedArrayPool = c.default
        }), {
            "./circular-pool": 302,
            "./fixed-array": 303,
            "./linked-array": 305,
            "./pool": 306,
            "./recycle-pool": 307,
            "./typed-array-pool": 309
        }],
        305: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("./pool")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = a(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function a(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            var o = (function () {
                function t(t, e) {
                    this._fn = t, this._count = 0, this._head = null, this._tail = null, this._pool = new r.default(t, e)
                }

                var e, i, n = t.prototype;
                return n.add = function () {
                    var t = this._pool.alloc();
                    return this._tail ? (this._tail._next = t, t._prev = this._tail) : this._head = t, this._tail = t, this._count += 1, t
                }, n.remove = function (t) {
                    t._prev ? t._prev._next = t._next : this._head = t._next, t._next ? t._next._prev = t._prev : this._tail = t._prev, t._next = null, t._prev = null, this._pool.free(t), this._count -= 1
                }, n.forEach = function (t, e) {
                    var i = this._head;
                    if (i) {
                        e && (t = t.bind(e));
                        for (var n = 0, r = i; i;) r = i._next, t(i, n, this), i = r, ++n
                    }
                }, e = t, (i = [{
                    key: "head", get: function () {
                        return this._head
                    }
                }, {
                    key: "tail", get: function () {
                        return this._tail
                    }
                }, {
                    key: "length", get: function () {
                        return this._count
                    }
                }]) && s(e.prototype, i), Object.defineProperty(e, "prototype", {writable: !1}), t
            })();
            i.default = o, e.exports = i.default
        }), {"./pool": 306}],
        306: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = (function () {
                function t(t, e) {
                    this._fn = t, this._idx = e - 1, this._frees = new Array(e);
                    for (var i = 0; i < e; ++i) this._frees[i] = t()
                }

                var e = t.prototype;
                return e._expand = function (t) {
                    var e = this._frees;
                    this._frees = new Array(t);
                    for (var i = t - e.length, n = 0; n < i; ++n) this._frees[n] = this._fn();
                    for (var r = i, s = 0; r < t; ++r, ++s) this._frees[r] = e[s];
                    this._idx += i
                }, e.alloc = function () {
                    this._idx < 0 && this._expand(Math.round(1.2 * this._frees.length) + 1);
                    var t = this._frees[this._idx];
                    return this._frees[this._idx] = null, --this._idx, t
                }, e.free = function (t) {
                    ++this._idx, this._frees[this._idx] = t
                }, e.clear = function (t) {
                    for (var e = 0; e <= this._idx; e++) t && t(this._frees[e]);
                    this._frees.length = 0, this._idx = -1
                }, t
            })();
            i.default = n, e.exports = i.default
        }), {}],
        307: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("./timsort")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = a(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function a(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            var o = (function () {
                function t(t, e) {
                    this._fn = t, this._count = 0, this._data = new Array(e);
                    for (var i = 0; i < e; ++i) this._data[i] = t()
                }

                var e, i, n = t.prototype;
                return n.reset = function () {
                    this._count = 0
                }, n.resize = function (t) {
                    if (t > this._data.length) for (var e = this._data.length; e < t; ++e) this._data[e] = this._fn()
                }, n.add = function () {
                    return this._count >= this._data.length && this.resize(2 * this._data.length), this._data[this._count++]
                }, n.remove = function (t) {
                    if (!(t >= this._count)) {
                        var e = this._count - 1, i = this._data[t];
                        this._data[t] = this._data[e], this._data[e] = i, this._count -= 1
                    }
                }, n.sort = function (t) {
                    return (0, r.default)(this._data, 0, this._count, t)
                }, e = t, (i = [{
                    key: "length", get: function () {
                        return this._count
                    }
                }, {
                    key: "data", get: function () {
                        return this._data
                    }
                }]) && s(e.prototype, i), Object.defineProperty(e, "prototype", {writable: !1}), t
            })();
            i.default = o, cc.RecyclePool = o, e.exports = i.default
        }), {"./timsort": 308}],
        308: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = function (t, e, i, r) {
                if (!Array.isArray(t)) throw new TypeError("Can only sort arrays");
                void 0 === e && (e = 0), void 0 === i && (i = t.length), void 0 === r && (r = c);
                var s = i - e;
                if (!(s < 2)) {
                    var a = 0;
                    if (s < n) return void f(t, e, i, e + (a = h(t, e, i, r)), r);
                    var o = new p(t, r), u = l(s);
                    do {
                        if ((a = h(t, e, i, r)) < u) {
                            var d = s;
                            d > u && (d = u), f(t, e, e + d, e + a, r), a = d
                        }
                        o.pushRun(e, a), o.mergeRuns(), s -= a, e += a
                    } while (0 !== s);
                    o.forceMergeRuns()
                }
            };
            var n = 32, r = 7, s = 256, a = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9];

            function o(t) {
                return t < 1e5 ? t < 100 ? t < 10 ? 0 : 1 : t < 1e4 ? t < 1e3 ? 2 : 3 : 4 : t < 1e7 ? t < 1e6 ? 5 : 6 : t < 1e9 ? t < 1e8 ? 7 : 8 : 9
            }

            function c(t, e) {
                if (t === e) return 0;
                if (~~t === t && ~~e === e) {
                    if (0 === t || 0 === e) return t < e ? -1 : 1;
                    if (t < 0 || e < 0) {
                        if (e >= 0) return -1;
                        if (t >= 0) return 1;
                        t = -t, e = -e
                    }
                    var i = o(t), n = o(e), r = 0;
                    return i < n ? (t *= a[n - i - 1], e /= 10, r = -1) : i > n && (e *= a[i - n - 1], t /= 10, r = 1), t === e ? r : t < e ? -1 : 1
                }
                var s = String(t), c = String(e);
                return s === c ? 0 : s < c ? -1 : 1
            }

            function l(t) {
                for (var e = 0; t >= n;) e |= 1 & t, t >>= 1;
                return t + e
            }

            function h(t, e, i, n) {
                var r = e + 1;
                if (r === i) return 1;
                if (n(t[r++], t[e]) < 0) {
                    for (; r < i && n(t[r], t[r - 1]) < 0;) r++;
                    u(t, e, r)
                } else for (; r < i && n(t[r], t[r - 1]) >= 0;) r++;
                return r - e
            }

            function u(t, e, i) {
                for (i--; e < i;) {
                    var n = t[e];
                    t[e++] = t[i], t[i--] = n
                }
            }

            function f(t, e, i, n, r) {
                for (n === e && n++; n < i; n++) {
                    for (var s = t[n], a = e, o = n; a < o;) {
                        var c = a + o >>> 1;
                        r(s, t[c]) < 0 ? o = c : a = c + 1
                    }
                    var l = n - a;
                    switch (l) {
                        case 3:
                            t[a + 3] = t[a + 2];
                        case 2:
                            t[a + 2] = t[a + 1];
                        case 1:
                            t[a + 1] = t[a];
                            break;
                        default:
                            for (; l > 0;) t[a + l] = t[a + l - 1], l--
                    }
                    t[a] = s
                }
            }

            function d(t, e, i, n, r, s) {
                var a = 0, o = 0, c = 1;
                if (s(t, e[i + r]) > 0) {
                    for (o = n - r; c < o && s(t, e[i + r + c]) > 0;) a = c, (c = 1 + (c << 1)) <= 0 && (c = o);
                    c > o && (c = o), a += r, c += r
                } else {
                    for (o = r + 1; c < o && s(t, e[i + r - c]) <= 0;) a = c, (c = 1 + (c << 1)) <= 0 && (c = o);
                    c > o && (c = o);
                    var l = a;
                    a = r - c, c = r - l
                }
                for (a++; a < c;) {
                    var h = a + (c - a >>> 1);
                    s(t, e[i + h]) > 0 ? a = h + 1 : c = h
                }
                return c
            }

            function _(t, e, i, n, r, s) {
                var a = 0, o = 0, c = 1;
                if (s(t, e[i + r]) < 0) {
                    for (o = r + 1; c < o && s(t, e[i + r - c]) < 0;) a = c, (c = 1 + (c << 1)) <= 0 && (c = o);
                    c > o && (c = o);
                    var l = a;
                    a = r - c, c = r - l
                } else {
                    for (o = n - r; c < o && s(t, e[i + r + c]) >= 0;) a = c, (c = 1 + (c << 1)) <= 0 && (c = o);
                    c > o && (c = o), a += r, c += r
                }
                for (a++; a < c;) {
                    var h = a + (c - a >>> 1);
                    s(t, e[i + h]) < 0 ? c = h : a = h + 1
                }
                return c
            }

            var p = (function () {
                function t(t, e) {
                    this.array = t, this.compare = e, this.minGallop = r, this.length = t.length, this.tmpStorageLength = s, this.length < 2 * s && (this.tmpStorageLength = this.length >>> 1), this.tmp = new Array(this.tmpStorageLength), this.stackLength = this.length < 120 ? 5 : this.length < 1542 ? 10 : this.length < 119151 ? 19 : 40, this.runStart = new Array(this.stackLength), this.runLength = new Array(this.stackLength), this.stackSize = 0
                }

                var e = t.prototype;
                return e.pushRun = function (t, e) {
                    this.runStart[this.stackSize] = t, this.runLength[this.stackSize] = e, this.stackSize += 1
                }, e.mergeRuns = function () {
                    for (; this.stackSize > 1;) {
                        var t = this.stackSize - 2;
                        if (t >= 1 && this.runLength[t - 1] <= this.runLength[t] + this.runLength[t + 1] || t >= 2 && this.runLength[t - 2] <= this.runLength[t] + this.runLength[t - 1]) this.runLength[t - 1] < this.runLength[t + 1] && t--; else if (this.runLength[t] > this.runLength[t + 1]) break;
                        this.mergeAt(t)
                    }
                }, e.forceMergeRuns = function () {
                    for (; this.stackSize > 1;) {
                        var t = this.stackSize - 2;
                        t > 0 && this.runLength[t - 1] < this.runLength[t + 1] && t--, this.mergeAt(t)
                    }
                }, e.mergeAt = function (t) {
                    var e = this.compare, i = this.array, n = this.runStart[t], r = this.runLength[t],
                        s = this.runStart[t + 1], a = this.runLength[t + 1];
                    this.runLength[t] = r + a, t === this.stackSize - 3 && (this.runStart[t + 1] = this.runStart[t + 2], this.runLength[t + 1] = this.runLength[t + 2]), this.stackSize--;
                    var o = _(i[s], i, n, r, 0, e);
                    n += o, 0 != (r -= o) && 0 !== (a = d(i[n + r - 1], i, s, a, a - 1, e)) && (r <= a ? this.mergeLow(n, r, s, a) : this.mergeHigh(n, r, s, a))
                }, e.mergeLow = function (t, e, i, n) {
                    var s = this.compare, a = this.array, o = this.tmp, c = 0;
                    for (c = 0; c < e; c++) o[c] = a[t + c];
                    var l = 0, h = i, u = t;
                    if (a[u++] = a[h++], 0 != --n) if (1 !== e) {
                        for (var f = this.minGallop; ;) {
                            var p = 0, v = 0, g = !1;
                            do {
                                if (s(a[h], o[l]) < 0) {
                                    if (a[u++] = a[h++], v++, p = 0, 0 == --n) {
                                        g = !0;
                                        break
                                    }
                                } else if (a[u++] = o[l++], p++, v = 0, 1 == --e) {
                                    g = !0;
                                    break
                                }
                            } while ((p | v) < f);
                            if (g) break;
                            do {
                                if (0 !== (p = _(a[h], o, l, e, 0, s))) {
                                    for (c = 0; c < p; c++) a[u + c] = o[l + c];
                                    if (u += p, l += p, (e -= p) <= 1) {
                                        g = !0;
                                        break
                                    }
                                }
                                if (a[u++] = a[h++], 0 == --n) {
                                    g = !0;
                                    break
                                }
                                if (0 !== (v = d(o[l], a, h, n, 0, s))) {
                                    for (c = 0; c < v; c++) a[u + c] = a[h + c];
                                    if (u += v, h += v, 0 == (n -= v)) {
                                        g = !0;
                                        break
                                    }
                                }
                                if (a[u++] = o[l++], 1 == --e) {
                                    g = !0;
                                    break
                                }
                                f--
                            } while (p >= r || v >= r);
                            if (g) break;
                            f < 0 && (f = 0), f += 2
                        }
                        if (this.minGallop = f, f < 1 && (this.minGallop = 1), 1 === e) {
                            for (c = 0; c < n; c++) a[u + c] = a[h + c];
                            a[u + n] = o[l]
                        } else {
                            if (0 === e) throw new Error("mergeLow preconditions were not respected");
                            for (c = 0; c < e; c++) a[u + c] = o[l + c]
                        }
                    } else {
                        for (c = 0; c < n; c++) a[u + c] = a[h + c];
                        a[u + n] = o[l]
                    } else for (c = 0; c < e; c++) a[u + c] = o[l + c]
                }, e.mergeHigh = function (t, e, i, n) {
                    var s = this.compare, a = this.array, o = this.tmp, c = 0;
                    for (c = 0; c < n; c++) o[c] = a[i + c];
                    var l = t + e - 1, h = n - 1, u = i + n - 1, f = 0, p = 0;
                    if (a[u--] = a[l--], 0 != --e) if (1 !== n) {
                        for (var v = this.minGallop; ;) {
                            var g = 0, m = 0, y = !1;
                            do {
                                if (s(o[h], a[l]) < 0) {
                                    if (a[u--] = a[l--], g++, m = 0, 0 == --e) {
                                        y = !0;
                                        break
                                    }
                                } else if (a[u--] = o[h--], m++, g = 0, 1 == --n) {
                                    y = !0;
                                    break
                                }
                            } while ((g | m) < v);
                            if (y) break;
                            do {
                                if (0 != (g = e - _(o[h], a, t, e, e - 1, s))) {
                                    for (e -= g, p = 1 + (u -= g), f = 1 + (l -= g), c = g - 1; c >= 0; c--) a[p + c] = a[f + c];
                                    if (0 === e) {
                                        y = !0;
                                        break
                                    }
                                }
                                if (a[u--] = o[h--], 1 == --n) {
                                    y = !0;
                                    break
                                }
                                if (0 != (m = n - d(a[l], o, 0, n, n - 1, s))) {
                                    for (n -= m, p = 1 + (u -= m), f = 1 + (h -= m), c = 0; c < m; c++) a[p + c] = o[f + c];
                                    if (n <= 1) {
                                        y = !0;
                                        break
                                    }
                                }
                                if (a[u--] = a[l--], 0 == --e) {
                                    y = !0;
                                    break
                                }
                                v--
                            } while (g >= r || m >= r);
                            if (y) break;
                            v < 0 && (v = 0), v += 2
                        }
                        if (this.minGallop = v, v < 1 && (this.minGallop = 1), 1 === n) {
                            for (p = 1 + (u -= e), f = 1 + (l -= e), c = e - 1; c >= 0; c--) a[p + c] = a[f + c];
                            a[u] = o[h]
                        } else {
                            if (0 === n) throw new Error("mergeHigh preconditions were not respected");
                            for (f = u - (n - 1), c = 0; c < n; c++) a[f + c] = o[c]
                        }
                    } else {
                        for (p = 1 + (u -= e), f = 1 + (l -= e), c = e - 1; c >= 0; c--) a[p + c] = a[f + c];
                        a[u] = o[h]
                    } else for (f = u - (n - 1), c = 0; c < n; c++) a[f + c] = o[c]
                }, t
            })();
            e.exports = i.default
        }), {}],
        309: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            for (var n = Array(8), r = 0; r < 8; ++r) n[r] = [];

            function s(t) {
                for (var e = 16; e <= 1 << 28; e *= 16) if (t <= e) return e;
                return 0
            }

            function a(t) {
                var e, i;
                return e = (t > 65535) << 4, e |= i = ((t >>>= e) > 255) << 3, e |= i = ((t >>>= i) > 15) << 2, (e |= i = ((t >>>= i) > 3) << 1) | (t >>>= i) >> 1
            }

            function o(t) {
                var e = s(t), i = n[a(e) >> 2];
                return i.length > 0 ? i.pop() : new ArrayBuffer(e)
            }

            var c = {
                alloc_int8: function (t) {
                    var e = new Int8Array(o(t), 0, t);
                    return e.length !== t ? e.subarray(0, t) : e
                }, alloc_uint8: function (t) {
                    var e = new Uint8Array(o(t), 0, t);
                    return e.length !== t ? e.subarray(0, t) : e
                }, alloc_int16: function (t) {
                    var e = new Int16Array(o(2 * t), 0, t);
                    return e.length !== t ? e.subarray(0, t) : e
                }, alloc_uint16: function (t) {
                    var e = new Uint16Array(o(2 * t), 0, t);
                    return e.length !== t ? e.subarray(0, t) : e
                }, alloc_int32: function (t) {
                    var e = new Int32Array(o(4 * t), 0, t);
                    return e.length !== t ? e.subarray(0, t) : e
                }, alloc_uint32: function (t) {
                    var e = new Uint32Array(o(4 * t), 0, t);
                    return e.length !== t ? e.subarray(0, t) : e
                }, alloc_float32: function (t) {
                    var e = new Float32Array(o(4 * t), 0, t);
                    return e.length !== t ? e.subarray(0, t) : e
                }, alloc_float64: function (t) {
                    var e = new Float64Array(o(8 * t), 0, t);
                    return e.length !== t ? e.subarray(0, t) : e
                }, alloc_dataview: function (t) {
                    var e = new DataView(o(t), 0, t);
                    return e.length !== t ? e.subarray(0, t) : e
                }, free: function (t) {
                    var e;
                    e = t.buffer, n[a(e.byteLength) >> 2].push(e)
                }, reset: function () {
                    for (var t = Array(8), e = 0; e < 8; ++e) t[e] = []
                }
            };
            i.default = c, e.exports = i.default
        }), {}],
        310: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = function (t, e) {
                for (var i, n = t.length, r = e ^ n, s = 0; n >= 4;) i = 1540483477 * (65535 & (i = 255 & t.charCodeAt(s) | (255 & t.charCodeAt(++s)) << 8 | (255 & t.charCodeAt(++s)) << 16 | (255 & t.charCodeAt(++s)) << 24)) + ((1540483477 * (i >>> 16) & 65535) << 16), r = 1540483477 * (65535 & r) + ((1540483477 * (r >>> 16) & 65535) << 16) ^ (i = 1540483477 * (65535 & (i ^= i >>> 24)) + ((1540483477 * (i >>> 16) & 65535) << 16)), n -= 4, ++s;
                switch (n) {
                    case 3:
                        r ^= (255 & t.charCodeAt(s + 2)) << 16;
                    case 2:
                        r ^= (255 & t.charCodeAt(s + 1)) << 8;
                    case 1:
                        r = 1540483477 * (65535 & (r ^= 255 & t.charCodeAt(s))) + ((1540483477 * (r >>> 16) & 65535) << 16)
                }
                return r = 1540483477 * (65535 & (r ^= r >>> 13)) + ((1540483477 * (r >>> 16) & 65535) << 16), (r ^= r >>> 15) >>> 0
            }, e.exports = i.default
        }), {}],
        311: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = t("../../core/value-types"), r = o(t("../core/base-renderer")), s = o(t("../enums")),
                a = t("../memop");

            function o(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function c(t) {
                if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return t
            }

            function l(t, e) {
                return (l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var h = new Float32Array(16), u = new Float32Array(16), f = new Float32Array(16), d = new Float32Array(16),
                _ = new Float32Array(4), p = new Float32Array(64), v = [], g = new Float32Array(4),
                m = new n.Vec4(0, 0, 0, 0), y = new n.Vec3(0, 0, 0), T = new n.Vec3(0, 0, 0),
                E = new a.RecyclePool(function () {
                    return new Float32Array(16)
                }, 8);

            function A(t, e) {
                return t._priority - e._priority
            }

            var b = (function (t) {
                var e, i;

                function r(e, i) {
                    var n;
                    return (n = t.call(this, e, i) || this)._time = new Float32Array(4), n._lights = [], n._shadowLights = [], n._numLights = 0, n._defines = {}, n._registerStage("shadowcast", n._shadowStage.bind(c(n))), n._registerStage("opaque", n._opaqueStage.bind(c(n))), n._registerStage("transparent", n._transparentStage.bind(c(n))), n
                }

                i = t, (e = r).prototype = Object.create(i.prototype), e.prototype.constructor = e, l(e, i);
                var a = r.prototype;
                return a.reset = function () {
                    E.reset(), t.prototype.reset.call(this)
                }, a.render = function (t, e) {
                    this.reset(), e && (this._time[0] += e, this._time[1] = e, this._time[2]++), this._device.setUniform("cc_time", this._time), this._updateLights(t);
                    for (var i = this._device._gl.canvas, n = 0; n < t._cameras.length; ++n) {
                        var r = this._requestView(), s = i.width, a = i.height;
                        t._cameras.data[n].extractView(r, s, a)
                    }
                    this._viewPools.sort(A);
                    for (var o = 0; o < this._viewPools.length; ++o) {
                        var c = this._viewPools.data[o];
                        this._render(c, t)
                    }
                }, a.renderCamera = function (t, e) {
                    this.reset(), this._updateLights(e);
                    var i = this._device._gl.canvas, n = i.width, r = i.height, s = this._requestView();
                    t.extractView(s, n, r), this._viewPools.sort(A);
                    for (var a = 0; a < this._viewPools.length; ++a) {
                        var o = this._viewPools.data[a];
                        this._render(o, e)
                    }
                }, a._updateLights = function (t) {
                    this._lights.length = 0, this._shadowLights.length = 0;
                    for (var e = t._lights, i = 0; i < e.length; ++i) {
                        var n = e.data[i];
                        if (n.update(this._device), n.shadowType !== s.default.SHADOW_NONE) {
                            this._shadowLights.length < 2 && this._shadowLights.unshift(n);
                            var r = this._requestView();
                            n.extractView(r, ["shadowcast"]), this._lights.splice(0, 0, n)
                        } else this._lights.push(n)
                    }
                    this._updateLightDefines(), this._numLights = e._count
                }, a._updateLightDefines = function () {
                    for (var t = this._defines, e = 0; e < this._lights.length; ++e) {
                        var i = this._lights[e], n = "CC_LIGHT_" + e + "_TYPE", r = "CC_SHADOW_" + e + "_TYPE";
                        t[n] !== i._type && (t[n] = i._type, this._definesChanged = !0), t[r] !== i._shadowType && (t[r] = i._shadowType, this._definesChanged = !0)
                    }
                    var s = Math.min(4, this._lights.length);
                    t.CC_NUM_LIGHTS !== s && (t.CC_NUM_LIGHTS = s, this._definesChanged = !0), s = Math.min(4, this._shadowLights.length), t.CC_NUM_SHADOW_LIGHTS !== s && (t.CC_NUM_SHADOW_LIGHTS = s, this._definesChanged = !0)
                }, a._submitLightsUniforms = function () {
                    var t = this._device;
                    if (this._lights.length > 0) {
                        for (var e = E.add(), i = E.add(), n = E.add(), r = Math.min(4, this._lights.length), a = 0; a < r; ++a) {
                            var o = this._lights[a], c = 4 * a;
                            n.set(o._colorUniform, c), i.set(o._directionUniform, c), e.set(o._positionUniform, c), e[c + 3] = o._range, o._type === s.default.LIGHT_SPOT ? (i[c + 3] = o._spotUniform[0], n[c + 3] = o._spotUniform[1]) : (i[c + 3] = 0, n[c + 3] = 0)
                        }
                        t.setUniform("cc_lightDirection", i), t.setUniform("cc_lightColor", n), t.setUniform("cc_lightPositionAndRange", e)
                    }
                }, a._submitShadowStageUniforms = function (t) {
                    var e = t._shadowLight, i = g;
                    i[0] = e.shadowMinDepth, i[1] = e.shadowMaxDepth, i[2] = e.shadowDepthScale, i[3] = e.shadowDarkness, this._device.setUniform("cc_shadow_map_lightViewProjMatrix", n.Mat4.toArray(d, t._matViewProj)), this._device.setUniform("cc_shadow_map_info", i), this._device.setUniform("cc_shadow_map_bias", e.shadowBias), this._defines.CC_SHADOW_TYPE = e._shadowType
                }, a._submitOtherStagesUniforms = function () {
                    for (var t = E.add(), e = 0; e < this._shadowLights.length; ++e) {
                        var i = this._shadowLights[e], r = v[e];
                        r || (r = v[e] = new Float32Array(p.buffer, 64 * e, 16)), n.Mat4.toArray(r, i.viewProjMatrix);
                        var s = 4 * e;
                        t[s] = i.shadowMinDepth, t[s + 1] = i.shadowMaxDepth, t[s + 2] = i._shadowResolution, t[s + 3] = i.shadowDarkness
                    }
                    this._device.setUniform("cc_shadow_lightViewProjMatrix", p), this._device.setUniform("cc_shadow_info", t)
                }, a._sortItems = function (t) {
                    t.sort((function (t, e) {
                        return t.passes.length !== e.passes.length ? t.passes.length - e.passes.length : t.sortKey - e.sortKey
                    }))
                }, a._shadowStage = function (t, e) {
                    this._submitShadowStageUniforms(t);
                    for (var i = 0; i < e.length; ++i) {
                        var n = e.data[i];
                        n.effect.getDefine("CC_CASTING_SHADOW") && this._draw(n)
                    }
                }, a._drawItems = function (t, e) {
                    var i = this._shadowLights;
                    if (0 === i.length && 0 === this._numLights) for (var n = 0; n < e.length; ++n) {
                        var r = e.data[n];
                        this._draw(r)
                    } else for (var s = 0; s < e.length; ++s) {
                        for (var a = e.data[s], o = 0; o < i.length; ++o) this._device.setTexture("cc_shadow_map_" + o, i[o].shadowMap, this._allocTextureUnit());
                        this._draw(a)
                    }
                }, a._opaqueStage = function (t, e) {
                    t.getPosition(m), this._device.setUniform("cc_matView", n.Mat4.toArray(h, t._matView)), this._device.setUniform("cc_matViewInv", n.Mat4.toArray(u, t._matViewInv)), this._device.setUniform("cc_matProj", n.Mat4.toArray(f, t._matProj)), this._device.setUniform("cc_matViewProj", n.Mat4.toArray(d, t._matViewProj)), this._device.setUniform("cc_cameraPos", n.Vec4.toArray(_, m)), this._submitLightsUniforms(), this._submitOtherStagesUniforms(), this._drawItems(t, e)
                }, a._transparentStage = function (t, e) {
                    t.getPosition(m), t.getForward(y), this._device.setUniform("cc_matView", n.Mat4.toArray(h, t._matView)), this._device.setUniform("cc_matViewInv", n.Mat4.toArray(u, t._matViewInv)), this._device.setUniform("cc_matProj", n.Mat4.toArray(f, t._matProj)), this._device.setUniform("cc_matViewProj", n.Mat4.toArray(d, t._matViewProj)), this._device.setUniform("cc_cameraPos", n.Vec4.toArray(_, m)), this._submitLightsUniforms(), this._submitOtherStagesUniforms();
                    for (var i = 0; i < e.length; ++i) {
                        var r = e.data[i];
                        r.node.getWorldPosition(T), n.Vec3.sub(T, T, m), r.sortKey = -n.Vec3.dot(T, y)
                    }
                    this._sortItems(e), this._drawItems(t, e)
                }, r
            })(r.default);
            i.default = b, e.exports = i.default
        }), {"../../core/value-types": 265, "../core/base-renderer": 281, "../enums": 287, "../memop": 304}],
        312: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = t("../../core/value-types"), s = t("../../core/geom-utils"),
                a = (n = t("../enums")) && n.__esModule ? n : {default: n};

            function o(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = c(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function c(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            var l = new r.Mat4, h = new r.Mat4, u = new r.Mat4, f = new r.Mat4, d = new r.Mat4, _ = new r.Mat4,
                p = new r.Vec3, v = new r.Vec3, g = (function () {
                    function t() {
                        this._poolID = -1, this._node = null, this._projection = a.default.PROJ_PERSPECTIVE, this._priority = 0, this._color = new r.Vec4(.2, .3, .47, 1), this._depth = 1, this._stencil = 0, this._clearFlags = a.default.CLEAR_COLOR | a.default.CLEAR_DEPTH, this._clearModel = null, this._stages = [], this._framebuffer = null, this._near = .01, this._far = 1e3, this._fov = Math.PI / 4, this._rect = {
                            x: 0,
                            y: 0,
                            w: 1,
                            h: 1
                        }, this._orthoHeight = 10, this._cullingMask = 4294967295
                    }

                    var e, i, n = t.prototype;
                    return n.setCullingMask = function (t) {
                        this._cullingMask = t
                    }, n.getNode = function () {
                        return this._node
                    }, n.setNode = function (t) {
                        this._node = t
                    }, n.getType = function () {
                        return this._projection
                    }, n.setType = function (t) {
                        this._projection = t
                    }, n.getPriority = function () {
                        return this._priority
                    }, n.setPriority = function (t) {
                        this._priority = t
                    }, n.getOrthoHeight = function () {
                        return this._orthoHeight
                    }, n.setOrthoHeight = function (t) {
                        this._orthoHeight = t
                    }, n.getFov = function () {
                        return this._fov
                    }, n.setFov = function (t) {
                        this._fov = t
                    }, n.getNear = function () {
                        return this._near
                    }, n.setNear = function (t) {
                        this._near = t
                    }, n.getFar = function () {
                        return this._far
                    }, n.setFar = function (t) {
                        this._far = t
                    }, n.getColor = function (t) {
                        return r.Vec4.copy(t, this._color)
                    }, n.setColor = function (t, e, i, n) {
                        r.Vec4.set(this._color, t, e, i, n)
                    }, n.getDepth = function () {
                        return this._depth
                    }, n.setDepth = function (t) {
                        this._depth = t
                    }, n.getStencil = function () {
                        return this._stencil
                    }, n.setStencil = function (t) {
                        this._stencil = t
                    }, n.getClearFlags = function () {
                        return this._clearFlags
                    }, n.setClearFlags = function (t) {
                        this._clearFlags = t
                    }, n.getRect = function (t) {
                        return t.x = this._rect.x, t.y = this._rect.y, t.w = this._rect.w, t.h = this._rect.h, t
                    }, n.setRect = function (t, e, i, n) {
                        this._rect.x = t, this._rect.y = e, this._rect.w = i, this._rect.h = n
                    }, n.getStages = function () {
                        return this._stages
                    }, n.setStages = function (t) {
                        this._stages = t
                    }, n.getFramebuffer = function () {
                        return this._framebuffer
                    }, n.setFrameBuffer = function (t) {
                        this._framebuffer = t
                    }, n._calcMatrices = function (t, e) {
                        this._node.getWorldRT(u), r.Mat4.invert(h, u);
                        var i = t / e;
                        if (this._projection === a.default.PROJ_PERSPECTIVE) r.Mat4.perspective(f, this._fov, i, this._near, this._far); else {
                            var n = this._orthoHeight * i, s = this._orthoHeight;
                            r.Mat4.ortho(f, -n, n, -s, s, this._near, this._far)
                        }
                        r.Mat4.mul(d, f, h), r.Mat4.invert(_, d)
                    }, n.extractView = function (t, e, i) {
                        this._framebuffer && (e = this._framebuffer._width, i = this._framebuffer._height), t._priority = this._priority, t._rect.x = this._rect.x * e, t._rect.y = this._rect.y * i, t._rect.w = this._rect.w * e, t._rect.h = this._rect.h * i, this.getColor(t._color), t._depth = this._depth, t._stencil = this._stencil, t._clearFlags = this._clearFlags, t._clearModel = this._clearModel, t._stages = this._stages, t._framebuffer = this._framebuffer, this._calcMatrices(e, i), r.Mat4.copy(t._matView, h), r.Mat4.copy(t._matViewInv, u), r.Mat4.copy(t._matProj, f), r.Mat4.copy(t._matViewProj, d), r.Mat4.copy(t._matInvViewProj, _), t._cullingMask = this._cullingMask
                    }, n.screenPointToRay = function (t, e, i, n, o) {
                        if (!cc.geomUtils) return o;
                        o = o || new s.Ray, this._calcMatrices(i, n);
                        var c = this._rect.x * i, l = this._rect.y * n, h = this._rect.w * i, u = this._rect.h * n;
                        return r.Vec3.set(v, (t - c) / h * 2 - 1, (e - l) / u * 2 - 1, 1), r.Vec3.transformMat4(v, v, _), this._projection === a.default.PROJ_PERSPECTIVE ? this._node.getWorldPosition(p) : (r.Vec3.set(p, (t - c) / h * 2 - 1, (e - l) / u * 2 - 1, -1), r.Vec3.transformMat4(p, p, _)), s.Ray.fromPoints(o, p, v)
                    }, n.screenToWorld = function (t, e, i, n) {
                        this._calcMatrices(i, n);
                        var s = this._rect.x * i, o = this._rect.y * n, c = this._rect.w * i, l = this._rect.h * n;
                        return this._projection === a.default.PROJ_PERSPECTIVE ? (r.Vec3.set(t, (e.x - s) / c * 2 - 1, (e.y - o) / l * 2 - 1, .9999), r.Vec3.transformMat4(t, t, _), this._node.getWorldPosition(p), r.Vec3.lerp(t, p, t, (0, r.lerp)(this._near / this._far, 1, e.z))) : (r.Vec3.set(t, (e.x - s) / c * 2 - 1, (e.y - o) / l * 2 - 1, 2 * e.z - 1), r.Vec3.transformMat4(t, t, _)), t
                    }, n.worldToScreen = function (t, e, i, n) {
                        this._calcMatrices(i, n);
                        var s = this._rect.x * i, a = this._rect.y * n, o = this._rect.w * i, c = this._rect.h * n;
                        return r.Vec3.transformMat4(t, e, d), t.x = s + .5 * (t.x + 1) * o, t.y = a + .5 * (t.y + 1) * c, t.z = .5 * t.z + .5, t
                    }, n.worldMatrixToScreen = function (t, e, i, n) {
                        this._calcMatrices(i, n), r.Mat4.mul(t, d, e);
                        var s = i / 2, a = n / 2;
                        return r.Mat4.identity(l), r.Mat4.transform(l, l, r.Vec3.set(p, s, a, 0)), r.Mat4.scale(l, l, r.Vec3.set(p, s, a, 1)), r.Mat4.mul(t, l, t), t
                    }, e = t, (i = [{
                        key: "cullingMask", get: function () {
                            return this._cullingMask
                        }, set: function (t) {
                            this._cullingMask = t
                        }
                    }]) && o(e.prototype, i), Object.defineProperty(e, "prototype", {writable: !1}), t
                })();
            i.default = g, e.exports = i.default
        }), {"../../core/geom-utils": 148, "../../core/value-types": 265, "../enums": 287}],
        313: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = t("../../core/value-types"), r = a(t("../gfx")), s = a(t("../enums"));

            function a(t) {
                return t && t.__esModule ? t : {default: t}
            }

            function o(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, (void 0, "symbol" == typeof (r = c(n.key, "string")) ? r : String(r)), n)
                }
                var r
            }

            function c(t, e) {
                if ("object" != typeof t || null === t) return t;
                var i = t[Symbol.toPrimitive];
                if (void 0 !== i) {
                    var n = i.call(t, e || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }

            var l = cc.v3(0, 0, -1), h = cc.mat4(), u = n.Mat3.create(), f = cc.v3(0, 0, 0);

            function d(t, e, i) {
                t._node.getWorldRT(e), n.Mat4.invert(e, e);
                var r = t._shadowFrustumSize / 2;
                n.Mat4.ortho(i, -r, r, -r, r, t._shadowMinDepth, t._shadowMaxDepth)
            }

            function _(t, e, i) {
                t._node.getWorldRT(e), n.Mat4.invert(e, e), n.Mat4.perspective(i, (0, n.toRadian)(179), 1, t._shadowMinDepth, t._shadowMaxDepth)
            }

            var p = (function () {
                function t() {
                    this._poolID = -1, this._node = null, this._type = s.default.LIGHT_DIRECTIONAL, this._color = new n.Vec3(1, 1, 1), this._intensity = 1, this._range = 1, this._spotAngle = (0, n.toRadian)(60), this._spotExp = 1, this._directionUniform = new Float32Array(3), this._positionUniform = new Float32Array(3), this._colorUniform = new Float32Array([this._color.x * this._intensity, this._color.y * this._intensity, this._color.z * this._intensity]), this._spotUniform = new Float32Array([Math.cos(.5 * this._spotAngle), this._spotExp]), this._shadowType = s.default.SHADOW_NONE, this._shadowFrameBuffer = null, this._shadowMap = null, this._shadowMapDirty = !1, this._shadowDepthBuffer = null, this._shadowResolution = 1024, this._shadowBias = 5e-4, this._shadowDarkness = 1, this._shadowMinDepth = 1, this._shadowMaxDepth = 1e3, this._frustumEdgeFalloff = 0, this._viewProjMatrix = cc.mat4(), this._spotAngleScale = 1, this._shadowFrustumSize = 50
                }

                var e, i, a = t.prototype;
                return a.getNode = function () {
                    return this._node
                }, a.setNode = function (t) {
                    this._node = t
                }, a.setColor = function (t, e, i) {
                    n.Vec3.set(this._color, t, e, i), this._colorUniform[0] = t * this._intensity, this._colorUniform[1] = e * this._intensity, this._colorUniform[2] = i * this._intensity
                }, a.setIntensity = function (t) {
                    this._intensity = t, this._colorUniform[0] = t * this._color.x, this._colorUniform[1] = t * this._color.y, this._colorUniform[2] = t * this._color.z
                }, a.setType = function (t) {
                    this._type = t
                }, a.setSpotAngle = function (t) {
                    this._spotAngle = t, this._spotUniform[0] = Math.cos(.5 * this._spotAngle)
                }, a.setSpotExp = function (t) {
                    this._spotExp = t, this._spotUniform[1] = t
                }, a.setRange = function (t) {
                    this._range = t
                }, a.setShadowType = function (t) {
                    this._shadowType === s.default.SHADOW_NONE && t !== s.default.SHADOW_NONE && (this._shadowMapDirty = !0), this._shadowType = t
                }, a.setShadowResolution = function (t) {
                    this._shadowResolution !== t && (this._shadowMapDirty = !0), this._shadowResolution = t
                }, a.setShadowBias = function (t) {
                    this._shadowBias = t
                }, a.setShadowDarkness = function (t) {
                    this._shadowDarkness = t
                }, a.setShadowMinDepth = function (t) {
                    this._shadowMinDepth = t
                }, a.setShadowMaxDepth = function (t) {
                    this._shadowMaxDepth = t
                }, a.setFrustumEdgeFalloff = function (t) {
                    this._frustumEdgeFalloff = t
                }, a.setShadowFrustumSize = function (t) {
                    this._shadowFrustumSize = t
                }, a.extractView = function (t, e) {
                    switch (t._shadowLight = this, t._priority = -1, t._rect.x = 0, t._rect.y = 0, t._rect.w = this._shadowResolution, t._rect.h = this._shadowResolution, n.Vec3.set(t._color, 1, 1, 1), t._depth = 1, t._stencil = 1, t._clearFlags = s.default.CLEAR_COLOR | s.default.CLEAR_DEPTH, t._stages = e, t._framebuffer = this._shadowFrameBuffer, this._type) {
                        case s.default.LIGHT_SPOT:
                            this, i = t._matView, r = t._matProj, this._node.getWorldRT(i), n.Mat4.invert(i, i), n.Mat4.perspective(r, this._spotAngle * this._spotAngleScale, 1, this._shadowMinDepth, this._shadowMaxDepth);
                            break;
                        case s.default.LIGHT_DIRECTIONAL:
                            d(this, t._matView, t._matProj);
                            break;
                        case s.default.LIGHT_POINT:
                            _(this, t._matView, t._matProj);
                            break;
                        case s.default.LIGHT_AMBIENT:
                            break;
                        default:
                            console.warn("shadow of this light type is not supported")
                    }
                    var i, r;
                    n.Mat4.mul(t._matViewProj, t._matProj, t._matView), this._viewProjMatrix = t._matViewProj, n.Mat4.invert(t._matInvViewProj, t._matViewProj), t._cullingMask = 4294967295
                }, a._updateLightPositionAndDirection = function () {
                    this._node.getWorldMatrix(h), n.Mat3.fromMat4(u, h), n.Vec3.transformMat3(f, l, u), n.Vec3.toArray(this._directionUniform, f);
                    var t = this._positionUniform, e = h.m;
                    t[0] = e[12], t[1] = e[13], t[2] = e[14]
                }, a._generateShadowMap = function (t) {
                    this._shadowMap = new r.default.Texture2D(t, {
                        width: this._shadowResolution,
                        height: this._shadowResolution,
                        format: r.default.TEXTURE_FMT_RGBA8,
                        wrapS: r.default.WRAP_CLAMP,
                        wrapT: r.default.WRAP_CLAMP
                    }), this._shadowDepthBuffer = new r.default.RenderBuffer(t, r.default.RB_FMT_D16, this._shadowResolution, this._shadowResolution), this._shadowFrameBuffer = new r.default.FrameBuffer(t, this._shadowResolution, this._shadowResolution, {
                        colors: [this._shadowMap],
                        depth: this._shadowDepthBuffer
                    })
                }, a._destroyShadowMap = function () {
                    this._shadowMap && (this._shadowMap.destroy(), this._shadowDepthBuffer.destroy(), this._shadowFrameBuffer.destroy(), this._shadowMap = null, this._shadowDepthBuffer = null, this._shadowFrameBuffer = null)
                }, a.update = function (t) {
                    this._updateLightPositionAndDirection(), this._shadowType === s.default.SHADOW_NONE ? this._destroyShadowMap() : this._shadowMapDirty && (this._destroyShadowMap(), this._generateShadowMap(t), this._shadowMapDirty = !1)
                }, e = t, (i = [{
                    key: "color", get: function () {
                        return this._color
                    }
                }, {
                    key: "intensity", get: function () {
                        return this._intensity
                    }
                }, {
                    key: "type", get: function () {
                        return this._type
                    }
                }, {
                    key: "spotAngle", get: function () {
                        return this._spotAngle
                    }
                }, {
                    key: "spotExp", get: function () {
                        return this._spotExp
                    }
                }, {
                    key: "range", get: function () {
                        return this._range
                    }
                }, {
                    key: "shadowType", get: function () {
                        return this._shadowType
                    }
                }, {
                    key: "shadowMap", get: function () {
                        return this._shadowMap
                    }
                }, {
                    key: "viewProjMatrix", get: function () {
                        return this._viewProjMatrix
                    }
                }, {
                    key: "shadowResolution", get: function () {
                        return this._shadowResolution
                    }
                }, {
                    key: "shadowBias", get: function () {
                        return this._shadowBias
                    }
                }, {
                    key: "shadowDarkness", get: function () {
                        return this._shadowDarkness
                    }
                }, {
                    key: "shadowMinDepth", get: function () {
                        return this._type === s.default.LIGHT_DIRECTIONAL ? 1 : this._shadowMinDepth
                    }
                }, {
                    key: "shadowMaxDepth", get: function () {
                        return this._type === s.default.LIGHT_DIRECTIONAL ? 1 : this._shadowMaxDepth
                    }
                }, {
                    key: "frustumEdgeFalloff", get: function () {
                        return this._frustumEdgeFalloff
                    }
                }, {
                    key: "shadowFrustumSize", get: function () {
                        return this._shadowFrustumSize
                    }
                }]) && o(e.prototype, i), Object.defineProperty(e, "prototype", {writable: !1}), t
            })();
            i.default = p, e.exports = i.default
        }), {"../../core/value-types": 265, "../enums": 287, "../gfx": 292}],
        314: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = (function () {
                function t() {
                    this._type = "default", this._poolID = -1, this._node = null, this._inputAssembler = null, this._effect = null, this._viewID = -1, this._cameraID = -1, this._userKey = -1, this._castShadow = !1, this._boundingShape = null
                }

                var e = t.prototype;
                return e.setNode = function (t) {
                    this._node = t
                }, e.setInputAssembler = function (t) {
                    this._inputAssembler = t
                }, e.setEffect = function (t) {
                    this._effect = t
                }, e.setUserKey = function (t) {
                    this._userKey = t
                }, e.extractDrawItem = function (t) {
                    t.model = this, t.node = this._node, t.ia = this._inputAssembler, t.effect = this._effect
                }, t
            })();
            i.default = n, e.exports = i.default
        }), {}],
        315: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n = t("../memop"), r = (function () {
                function t(t) {
                    this._lights = new n.FixedArray(16), this._models = new n.FixedArray(16), this._cameras = new n.FixedArray(16), this._debugCamera = null, this._app = t, this._views = []
                }

                var e = t.prototype;
                return e._add = function (t, e) {
                    -1 === e._poolID && (t.push(e), e._poolID = t.length - 1)
                }, e._remove = function (t, e) {
                    -1 !== e._poolID && (t.data[t.length - 1]._poolID = e._poolID, t.fastRemove(e._poolID), e._poolID = -1)
                }, e.reset = function () {
                    for (var t = 0; t < this._models.length; ++t) this._models.data[t]._viewID = -1
                }, e.setDebugCamera = function (t) {
                    this._debugCamera = t
                }, e.getCameraCount = function () {
                    return this._cameras.length
                }, e.getCamera = function (t) {
                    return this._cameras.data[t]
                }, e.addCamera = function (t) {
                    this._add(this._cameras, t)
                }, e.removeCamera = function (t) {
                    this._remove(this._cameras, t)
                }, e.getModelCount = function () {
                    return this._models.length
                }, e.getModel = function (t) {
                    return this._models.data[t]
                }, e.addModel = function (t) {
                    this._add(this._models, t)
                }, e.removeModel = function (t) {
                    this._remove(this._models, t)
                }, e.getLightCount = function () {
                    return this._lights.length
                }, e.getLight = function (t) {
                    return this._lights.data[t]
                }, e.addLight = function (t) {
                    this._add(this._lights, t)
                }, e.removeLight = function (t) {
                    this._remove(this._lights, t)
                }, e.addView = function (t) {
                    -1 === this._views.indexOf(t) && this._views.push(t)
                }, e.removeView = function (t) {
                    var e = this._views.indexOf(t);
                    -1 !== e && this._views.splice(e, 1)
                }, t
            })();
            i.default = r, e.exports = i.default
        }), {"../memop": 304}],
        316: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.getClassName = i.enums2default = i.ctor2enums = void 0, i.getInspectorProps = function (t) {
                var e = {type: t.type};
                Object.assign(e, t.editor || t.inspector), e.defines = t.defines, e.value = m(e.type)(t.value), t.range && (e.range = t.range);
                var i = y(e.type);
                return e.typeName = T[i] || i, e.valueCtor = _[e.type], "cc.Texture2D" == e.typeName && (e.typeName = "cc.Asset", e.assetType = "cc.Texture2D"), e
            }, i.getInstanceType = i.getInstanceCtor = void 0;
            var n, r, s, a, o = h(t("./enums")), c = t("../core/value-types"), l = h(t("../core/assets/CCTexture2D"));

            function h(t) {
                return t && t.__esModule ? t : {default: t}
            }

            var u;
            u = t("./gfx/texture-2d");
            var f = cc.Object, d = ((n = {})[Boolean] = function (t) {
                    return t || !1
                }, n[Number] = function (t) {
                    return t ? ArrayBuffer.isView(t) ? t[0] : t : 0
                }, n[c.Vec2] = function (t) {
                    return t ? cc.v2(t[0], t[1]) : cc.v2()
                }, n[c.Vec3] = function (t) {
                    return t ? cc.v3(t[0], t[1], t[2]) : cc.v3()
                }, n[c.Vec4] = function (t) {
                    return t ? cc.v4(t[0], t[1], t[2], t[3]) : cc.v4()
                }, n[c.Color] = function (t) {
                    return t ? cc.color(255 * t[0], 255 * t[1], 255 * t[2], 255 * (t[3] || 1)) : cc.color()
                }, n[c.Mat4] = function (t) {
                    return t ? cc.mat4(t[0], t[1], t[2], t[3], t[4], t[5], t[6], t[7], t[8], t[9], t[10], t[11], t[12], t[13], t[14], t[15]) : cc.mat4()
                }, n[l.default] = function () {
                    return null
                }, n[f] = function () {
                    return null
                }, n),
                _ = ((r = {})[o.default.PARAM_INT] = Number, r[o.default.PARAM_INT2] = c.Vec2, r[o.default.PARAM_INT3] = c.Vec3, r[o.default.PARAM_INT4] = c.Vec4, r[o.default.PARAM_FLOAT] = Number, r[o.default.PARAM_FLOAT2] = c.Vec2, r[o.default.PARAM_FLOAT3] = c.Vec3, r[o.default.PARAM_FLOAT4] = c.Vec4, r[o.default.PARAM_MAT4] = c.Mat4, r[o.default.PARAM_TEXTURE_2D] = l.default, r.color = c.Color, r.number = Number, r.boolean = Boolean, r.default = f, r),
                p = ((s = {})[Number] = o.default.PARAM_FLOAT, s[c.Vec2] = o.default.PARAM_FLOAT2, s[c.Vec3] = o.default.PARAM_FLOAT3, s[c.Vec4] = o.default.PARAM_FLOAT4, s[c.Color] = o.default.PARAM_COLOR3, s[c.Color] = o.default.PARAM_COLOR4, s[c.Mat4] = o.default.PARAM_MAT4, s[l.default] = o.default.PARAM_TEXTURE_2D, s[u] = o.default.PARAM_TEXTURE_2D, s);
            i.ctor2enums = p;
            var v = ((a = {})[o.default.PARAM_INT] = new Uint32Array([0]), a[o.default.PARAM_INT2] = new Uint32Array([0, 0]), a[o.default.PARAM_INT3] = new Uint32Array([0, 0, 0]), a[o.default.PARAM_INT4] = new Uint32Array([0, 0, 0, 0]), a[o.default.PARAM_FLOAT] = new Float32Array([0]), a[o.default.PARAM_FLOAT2] = new Float32Array([0, 0]), a[o.default.PARAM_FLOAT3] = new Float32Array([0, 0, 0]), a[o.default.PARAM_FLOAT4] = new Float32Array([0, 0, 0, 0]), a[o.default.PARAM_MAT4] = new Float32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), a[o.default.PARAM_TEXTURE_2D] = null, a.number = 0, a.boolean = !1, a);
            i.enums2default = v;
            var g = function (t) {
                return _[t] || _.default
            };
            i.getInstanceType = g;
            var m = function (t) {
                return d[g(t)]
            };
            i.getInstanceCtor = m;
            var y = function (t) {
                return cc.js.getClassName(g(t))
            };
            i.getClassName = y;
            var T = {Number: "number", Boolean: "boolean"}
        }), {"../core/assets/CCTexture2D": 87, "../core/value-types": 265, "./enums": 287, "./gfx/texture-2d": 297}],
        317: [(function (t) {
            "use strict";
            var e = t("../compression/ZipUtils"), i = t("../compression/zlib.min"), n = t("../core/platform/js");

            function r(t) {
                if (t.length % 4 != 0) return null;
                for (var e = t.length / 4, i = window.Uint32Array ? new Uint32Array(e) : [], n = 0; n < e; n++) {
                    var r = 4 * n;
                    i[n] = t[r] + 256 * t[r + 1] + 65536 * t[r + 2] + t[r + 3] * (1 << 24)
                }
                return i
            }

            function s(t) {
                var e = cc.Label.HorizontalAlign;
                switch (t) {
                    case"center":
                        return e.CENTER;
                    case"right":
                        return e.RIGHT;
                    default:
                        return e.LEFT
                }
            }

            function a(t) {
                var e = cc.Label.VerticalAlign;
                switch (t) {
                    case"center":
                        return e.CENTER;
                    case"bottom":
                        return e.BOTTOM;
                    default:
                        return e.TOP
                }
            }

            function o(t) {
                if (!t) return cc.color(0, 0, 0, 255);
                if (8 === (t = -1 !== t.indexOf("#") ? t.substring(1) : t).length) {
                    var e = parseInt(t.substr(0, 2), 16) || 255, i = parseInt(t.substr(2, 2), 16) || 0,
                        n = parseInt(t.substr(4, 2), 16) || 0, r = parseInt(t.substr(6, 2), 16) || 0;
                    return cc.color(i, n, r, e)
                }
                var s = parseInt(t.substr(0, 2), 16) || 0, a = parseInt(t.substr(2, 2), 16) || 0,
                    o = parseInt(t.substr(4, 2), 16) || 0;
                return cc.color(s, a, o, 255)
            }

            function c(t, e) {
                for (var i = [], n = t.getElementsByTagName("properties"), r = 0; r < n.length; ++r) for (var s = n[r].getElementsByTagName("property"), a = 0; a < s.length; ++a) i.push(s[a]);
                e = e || {};
                for (var c = 0; c < i.length; c++) {
                    var l = i[c], h = l.getAttribute("name"), u = l.getAttribute("type") || "string",
                        f = l.getAttribute("value");
                    "int" === u ? f = parseInt(f) : "float" === u ? f = parseFloat(f) : "bool" === u ? f = "true" === f : "color" === u && (f = o(f)), e[h] = f
                }
                return e
            }

            t("../core/platform/CCSAXParser"), cc.TMXLayerInfo = function () {
                this.properties = {}, this.name = "", this._layerSize = null, this._tiles = [], this.visible = !0, this._opacity = 0, this.ownTiles = !0, this._minGID = 1e5, this._maxGID = 0, this.offset = cc.v2(0, 0)
            }, cc.TMXLayerInfo.prototype = {
                constructor: cc.TMXLayerInfo, getProperties: function () {
                    return this.properties
                }, setProperties: function (t) {
                    this.properties = t
                }
            }, cc.TMXImageLayerInfo = function () {
                this.name = "", this.visible = !0, this.width = 0, this.height = 0, this.offset = cc.v2(0, 0), this._opacity = 0, this._trans = new cc.Color(255, 255, 255, 255), this.sourceImage = null
            }, cc.TMXObjectGroupInfo = function () {
                this.properties = {}, this.name = "", this._objects = [], this.visible = !0, this._opacity = 0, this._color = new cc.Color(255, 255, 255, 255), this.offset = cc.v2(0, 0), this._draworder = "topdown"
            }, cc.TMXObjectGroupInfo.prototype = {
                constructor: cc.TMXObjectGroupInfo, getProperties: function () {
                    return this.properties
                }, setProperties: function (t) {
                    this.properties = t
                }
            }, cc.TMXTilesetInfo = function () {
                this.name = "", this.firstGid = 0, this.spacing = 0, this.margin = 0, this.sourceImage = null, this.imageSize = cc.size(0, 0), this.tileOffset = cc.v2(0, 0), this._tileSize = cc.size(0, 0)
            }, cc.TMXTilesetInfo.prototype = {
                constructor: cc.TMXTilesetInfo, rectForGID: function (t, e) {
                    var i = e || cc.rect(0, 0, 0, 0);
                    i.width = this._tileSize.width, i.height = this._tileSize.height, t &= cc.TiledMap.TileFlag.FLIPPED_MASK, t -= parseInt(this.firstGid, 10);
                    var n = parseInt((this.imageSize.width - 2 * this.margin + this.spacing) / (this._tileSize.width + this.spacing), 10);
                    return i.x = parseInt(t % n * (this._tileSize.width + this.spacing) + this.margin, 10), i.y = parseInt(parseInt(t / n, 10) * (this._tileSize.height + this.spacing) + this.margin, 10), i
                }
            }, cc.TMXMapInfo = function (t, e, i, n, r) {
                this.properties = [], this.orientation = null, this.parentElement = null, this.parentGID = null, this.layerAttrs = 0, this.storingCharacters = !1, this.currentString = null, this.renderOrder = cc.TiledMap.RenderOrder.RightDown, this._supportVersion = [1, 2, 0], this._parser = new cc.SAXParser, this._objectGroups = [], this._allChildren = [], this._mapSize = cc.size(0, 0), this._tileSize = cc.size(0, 0), this._layers = [], this._tilesets = [], this._imageLayers = [], this._tileProperties = {}, this._tileAnimations = {}, this._tsxMap = null, this._textures = null, this._staggerAxis = null, this._staggerIndex = null, this._hexSideLength = 0, this._imageLayerTextures = null, this.initWithXML(t, e, i, n, r)
            }, cc.TMXMapInfo.prototype = {
                constructor: cc.TMXMapInfo, getOrientation: function () {
                    return this.orientation
                }, setOrientation: function (t) {
                    this.orientation = t
                }, getStaggerAxis: function () {
                    return this._staggerAxis
                }, setStaggerAxis: function (t) {
                    this._staggerAxis = t
                }, getStaggerIndex: function () {
                    return this._staggerIndex
                }, setStaggerIndex: function (t) {
                    this._staggerIndex = t
                }, getHexSideLength: function () {
                    return this._hexSideLength
                }, setHexSideLength: function (t) {
                    this._hexSideLength = t
                }, getMapSize: function () {
                    return cc.size(this._mapSize.width, this._mapSize.height)
                }, setMapSize: function (t) {
                    this._mapSize.width = t.width, this._mapSize.height = t.height
                }, _getMapWidth: function () {
                    return this._mapSize.width
                }, _setMapWidth: function (t) {
                    this._mapSize.width = t
                }, _getMapHeight: function () {
                    return this._mapSize.height
                }, _setMapHeight: function (t) {
                    this._mapSize.height = t
                }, getTileSize: function () {
                    return cc.size(this._tileSize.width, this._tileSize.height)
                }, setTileSize: function (t) {
                    this._tileSize.width = t.width, this._tileSize.height = t.height
                }, _getTileWidth: function () {
                    return this._tileSize.width
                }, _setTileWidth: function (t) {
                    this._tileSize.width = t
                }, _getTileHeight: function () {
                    return this._tileSize.height
                }, _setTileHeight: function (t) {
                    this._tileSize.height = t
                }, getLayers: function () {
                    return this._layers
                }, setLayers: function (t) {
                    this._allChildren.push(t), this._layers.push(t)
                }, getImageLayers: function () {
                    return this._imageLayers
                }, setImageLayers: function (t) {
                    this._allChildren.push(t), this._imageLayers.push(t)
                }, getTilesets: function () {
                    return this._tilesets
                }, setTilesets: function (t) {
                    this._tilesets.push(t)
                }, getObjectGroups: function () {
                    return this._objectGroups
                }, setObjectGroups: function (t) {
                    this._allChildren.push(t), this._objectGroups.push(t)
                }, getAllChildren: function () {
                    return this._allChildren
                }, getParentElement: function () {
                    return this.parentElement
                }, setParentElement: function (t) {
                    this.parentElement = t
                }, getParentGID: function () {
                    return this.parentGID
                }, setParentGID: function (t) {
                    this.parentGID = t
                }, getLayerAttribs: function () {
                    return this.layerAttrs
                }, setLayerAttribs: function (t) {
                    this.layerAttrs = t
                }, getStoringCharacters: function () {
                    return this.storingCharacters
                }, setStoringCharacters: function (t) {
                    this.storingCharacters = t
                }, getProperties: function () {
                    return this.properties
                }, setProperties: function (t) {
                    this.properties = t
                }, initWithXML: function (t, e, i, n, r) {
                    return this._tilesets.length = 0, this._layers.length = 0, this._imageLayers.length = 0, this._tsxMap = e, this._textures = i, this._imageLayerTextures = r, this._textureSizes = n, this._objectGroups.length = 0, this._allChildren.length = 0, this.properties.length = 0, this._tileProperties = {}, this._tileAnimations = {}, this.currentString = "", this.storingCharacters = !1, this.layerAttrs = cc.TMXLayerInfo.ATTRIB_NONE, this.parentElement = cc.TiledMap.NONE, this.parseXMLString(t)
                }, parseXMLString: function (t, e) {
                    var i, n = this._parser._parseXML(t).documentElement, r = n.getAttribute("orientation"),
                        s = n.getAttribute("staggeraxis"), a = n.getAttribute("staggerindex"),
                        o = n.getAttribute("hexsidelength"), l = n.getAttribute("renderorder"),
                        h = n.getAttribute("version") || "1.0.0";
                    if ("map" === n.nodeName) {
                        for (var u = h.split("."), f = this._supportVersion, d = 0; d < f.length; d++) {
                            var _ = parseInt(u[d]) || 0;
                            if (f[d] < _) {
                                cc.logID(7216, h);
                                break
                            }
                        }
                        "orthogonal" === r ? this.orientation = cc.TiledMap.Orientation.ORTHO : "isometric" === r ? this.orientation = cc.TiledMap.Orientation.ISO : "hexagonal" === r ? this.orientation = cc.TiledMap.Orientation.HEX : null !== r && cc.logID(7217, r), this.renderOrder = "right-up" === l ? cc.TiledMap.RenderOrder.RightUp : "left-up" === l ? cc.TiledMap.RenderOrder.LeftUp : "left-down" === l ? cc.TiledMap.RenderOrder.LeftDown : cc.TiledMap.RenderOrder.RightDown, "x" === s ? this.setStaggerAxis(cc.TiledMap.StaggerAxis.STAGGERAXIS_X) : "y" === s && this.setStaggerAxis(cc.TiledMap.StaggerAxis.STAGGERAXIS_Y), "odd" === a ? this.setStaggerIndex(cc.TiledMap.StaggerIndex.STAGGERINDEX_ODD) : "even" === a && this.setStaggerIndex(cc.TiledMap.StaggerIndex.STAGGERINDEX_EVEN), o && this.setHexSideLength(parseFloat(o));
                        var p = cc.size(0, 0);
                        p.width = parseFloat(n.getAttribute("width")), p.height = parseFloat(n.getAttribute("height")), this.setMapSize(p), (p = cc.size(0, 0)).width = parseFloat(n.getAttribute("tilewidth")), p.height = parseFloat(n.getAttribute("tileheight")), this.setTileSize(p), this.properties = c(n)
                    }
                    var v = n.getElementsByTagName("tileset");
                    for ("map" !== n.nodeName && (v = []).push(n), i = 0; i < v.length; i++) {
                        var g = v[i], m = g.getAttribute("source");
                        if (m) {
                            var y = parseInt(g.getAttribute("firstgid")), T = this._tsxMap[m];
                            T && this.parseXMLString(T, y)
                        } else {
                            var E = g.getElementsByTagName("image"), A = E.length > 1, b = E[0],
                                x = b.getAttribute("source");
                            x = x.replace(/\\/g, "/");
                            var C = g.getElementsByTagName("tile"), S = C && C.length || 1, w = null,
                                M = g.getAttribute("name") || "", R = parseInt(g.getAttribute("spacing")) || 0,
                                I = parseInt(g.getAttribute("margin")) || 0, O = parseInt(e);
                            O || (O = parseInt(g.getAttribute("firstgid")) || 0);
                            var D = cc.size(0, 0);
                            D.width = parseFloat(g.getAttribute("tilewidth")), D.height = parseFloat(g.getAttribute("tileheight"));
                            var P = g.getElementsByTagName("tileoffset")[0], L = cc.v2(0, 0);
                            P && (L.x = parseFloat(P.getAttribute("x")), L.y = parseFloat(P.getAttribute("y")));
                            for (var N = null, F = 0; F < S; F++) if (N && !A || ((N = new cc.TMXTilesetInfo).name = M, N.firstGid = O, N.spacing = R, N.margin = I, N._tileSize = D, N.tileOffset = L, N.sourceImage = this._textures[x], N.imageSize = this._textureSizes[x] || N.imageSize, N.sourceImage || cc.errorID(7221, x), this.setTilesets(N)), w = C && C[F]) {
                                this.parentGID = parseInt(O) + parseInt(w.getAttribute("id") || 0);
                                var B = w.getElementsByTagName("image");
                                if (B && B.length > 0) {
                                    var k = (b = B[0]).getAttribute("source");
                                    k = k.replace(/\\/g, "/"), N.sourceImage = this._textures[k], N.sourceImage || cc.errorID(7221, k);
                                    var V = cc.size(0, 0);
                                    V.width = parseFloat(b.getAttribute("width")), V.height = parseFloat(b.getAttribute("height")), N._tileSize = V, N.firstGid = this.parentGID
                                }
                                this._tileProperties[this.parentGID] = c(w);
                                var U = w.getElementsByTagName("animation");
                                if (U && U.length > 0) {
                                    var z = U[0].getElementsByTagName("frame"), H = {frames: [], dt: 0, frameIdx: 0};
                                    this._tileAnimations[this.parentGID] = H;
                                    for (var W = H.frames, G = 0; G < z.length; G++) {
                                        var j = z[G], X = parseInt(O) + parseInt(j.getAttribute("tileid")),
                                            Y = parseFloat(j.getAttribute("duration"));
                                        W.push({tileid: X, duration: Y / 1e3, grid: null})
                                    }
                                }
                            }
                        }
                    }
                    var q = n.childNodes;
                    for (i = 0; i < q.length; i++) {
                        var Z = q[i];
                        if (!this._shouldIgnoreNode(Z)) {
                            if ("imagelayer" === Z.nodeName) {
                                var K = this._parseImageLayer(Z);
                                K && this.setImageLayers(K)
                            }
                            if ("layer" === Z.nodeName) {
                                var J = this._parseLayer(Z);
                                this.setLayers(J)
                            }
                            if ("objectgroup" === Z.nodeName) {
                                var Q = this._parseObjectGroup(Z);
                                this.setObjectGroups(Q)
                            }
                        }
                    }
                    return n
                }, _shouldIgnoreNode: function (t) {
                    return 3 === t.nodeType || 8 === t.nodeType || 4 === t.nodeType
                }, _parseImageLayer: function (t) {
                    var e = t.getElementsByTagName("image");
                    if (!e || 0 == e.length) return null;
                    var i = new cc.TMXImageLayerInfo;
                    i.name = t.getAttribute("name"), i.offset.x = parseFloat(t.getAttribute("offsetx")) || 0, i.offset.y = parseFloat(t.getAttribute("offsety")) || 0;
                    var n = t.getAttribute("visible");
                    i.visible = !("0" === n);
                    var r = t.getAttribute("opacity") || 1;
                    i.opacity = parseInt(255 * parseFloat(r)) || 255;
                    var s = e[0], a = s.getAttribute("source");
                    return i.sourceImage = this._imageLayerTextures[a], i.width = parseInt(s.getAttribute("width")) || 0, i.height = parseInt(s.getAttribute("height")) || 0, i.trans = o(s.getAttribute("trans")), i.sourceImage ? i : (cc.errorID(7221, a), null)
                }, _parseLayer: function (t) {
                    var n = t.getElementsByTagName("data")[0], s = new cc.TMXLayerInfo;
                    s.name = t.getAttribute("name");
                    var a = cc.size(0, 0);
                    a.width = parseFloat(t.getAttribute("width")), a.height = parseFloat(t.getAttribute("height")), s._layerSize = a;
                    var o = t.getAttribute("visible");
                    s.visible = !("0" === o);
                    var l = t.getAttribute("opacity") || 1;
                    s._opacity = l ? parseInt(255 * parseFloat(l)) : 255, s.offset = cc.v2(parseFloat(t.getAttribute("offsetx")) || 0, parseFloat(t.getAttribute("offsety")) || 0);
                    for (var h = "", u = 0; u < n.childNodes.length; u++) h += n.childNodes[u].nodeValue;
                    h = h.trim();
                    var f, d = n.getAttribute("compression"), _ = n.getAttribute("encoding");
                    if (d && "gzip" !== d && "zlib" !== d) return cc.logID(7218), null;
                    switch (d) {
                        case"gzip":
                            f = e.unzipBase64AsArray(h, 4);
                            break;
                        case"zlib":
                            f = r(new i.Inflate(e.Base64.decodeAsArray(h, 1)).decompress());
                            break;
                        case null:
                        case"":
                            if ("base64" === _) f = e.Base64.decodeAsArray(h, 4); else if ("csv" === _) {
                                f = [];
                                for (var p = h.split(","), v = 0; v < p.length; v++) f.push(parseInt(p[v]))
                            } else {
                                var g = n.getElementsByTagName("tile");
                                f = [];
                                for (var m = 0; m < g.length; m++) f.push(parseInt(g[m].getAttribute("gid")))
                            }
                            break;
                        default:
                            this.layerAttrs === cc.TMXLayerInfo.ATTRIB_NONE && cc.logID(7219)
                    }
                    return f && (s._tiles = new Uint32Array(f)), s.properties = c(t), s
                }, _parseObjectGroup: function (t) {
                    var e = new cc.TMXObjectGroupInfo;
                    e.name = t.getAttribute("name") || "", e.offset = cc.v2(parseFloat(t.getAttribute("offsetx")), parseFloat(t.getAttribute("offsety")));
                    var i = t.getAttribute("opacity") || 1;
                    e._opacity = i ? parseInt(255 * parseFloat(i)) : 255;
                    var n = t.getAttribute("visible");
                    n && 0 === parseInt(n) && (e.visible = !1);
                    var r = t.getAttribute("color");
                    r && e._color.fromHEX(r);
                    var l = t.getAttribute("draworder");
                    l && (e._draworder = l), e.setProperties(c(t));
                    var h = t.getElementsByTagName("object");
                    if (h) {
                        for (var u = 0; u < h.length; u++) {
                            var f = h[u], d = {};
                            d.id = f.getAttribute("id") || u, d.name = f.getAttribute("name") || "", d.width = parseFloat(f.getAttribute("width")) || 0, d.height = parseFloat(f.getAttribute("height")) || 0, d.x = parseFloat(f.getAttribute("x")) || 0, d.y = parseFloat(f.getAttribute("y")) || 0, d.rotation = parseFloat(f.getAttribute("rotation")) || 0, c(f, d);
                            var _ = f.getAttribute("visible");
                            d.visible = !(_ && 0 === parseInt(_));
                            var p = f.getElementsByTagName("text");
                            if (p && p.length > 0) {
                                var v = p[0];
                                d.type = cc.TiledMap.TMXObjectType.TEXT, d.wrap = "1" == v.getAttribute("wrap"), d.color = o(v.getAttribute("color")), d.halign = s(v.getAttribute("halign")), d.valign = a(v.getAttribute("valign")), d.pixelsize = parseInt(v.getAttribute("pixelsize")) || 16, d.text = v.childNodes[0].nodeValue
                            }
                            var g = f.getAttribute("gid");
                            g && (d.gid = parseInt(g), d.type = cc.TiledMap.TMXObjectType.IMAGE);
                            var m = f.getElementsByTagName("ellipse");
                            m && m.length > 0 && (d.type = cc.TiledMap.TMXObjectType.ELLIPSE);
                            var y = f.getElementsByTagName("polygon");
                            if (y && y.length > 0) {
                                d.type = cc.TiledMap.TMXObjectType.POLYGON;
                                var T = y[0].getAttribute("points");
                                T && (d.points = this._parsePointsString(T))
                            }
                            var E = f.getElementsByTagName("polyline");
                            if (E && E.length > 0) {
                                d.type = cc.TiledMap.TMXObjectType.POLYLINE;
                                var A = E[0].getAttribute("points");
                                A && (d.polylinePoints = this._parsePointsString(A))
                            }
                            d.type || (d.type = cc.TiledMap.TMXObjectType.RECT), e._objects.push(d)
                        }
                        "index" !== l && e._objects.sort((function (t, e) {
                            return t.y - e.y
                        }))
                    }
                    return e
                }, _parsePointsString: function (t) {
                    if (!t) return null;
                    for (var e = [], i = t.split(" "), n = 0; n < i.length; n++) {
                        var r = i[n].split(",");
                        e.push({x: parseFloat(r[0]), y: parseFloat(r[1])})
                    }
                    return e
                }, setTileAnimations: function (t) {
                    this._tileAnimations = t
                }, getTileAnimations: function () {
                    return this._tileAnimations
                }, getTileProperties: function () {
                    return this._tileProperties
                }, setTileProperties: function (t) {
                    this._tileProperties = t
                }, getCurrentString: function () {
                    return this.currentString
                }, setCurrentString: function (t) {
                    this.currentString = t
                }
            };
            var l = cc.TMXMapInfo.prototype;
            n.getset(l, "mapWidth", l._getMapWidth, l._setMapWidth), n.getset(l, "mapHeight", l._getMapHeight, l._setMapHeight), n.getset(l, "tileWidth", l._getTileWidth, l._setTileWidth), n.getset(l, "tileHeight", l._getTileHeight, l._setTileHeight), cc.TMXLayerInfo.ATTRIB_NONE = 1, cc.TMXLayerInfo.ATTRIB_BASE64 = 2, cc.TMXLayerInfo.ATTRIB_GZIP = 4, cc.TMXLayerInfo.ATTRIB_ZLIB = 8
        }), {
            "../compression/ZipUtils": 22,
            "../compression/zlib.min": 25,
            "../core/platform/CCSAXParser": 174,
            "../core/platform/js": 188
        }],
        318: [(function (t, e) {
            "use strict";
            var i, n = t("../core/value-types"),
                r = (i = t("../core/assets/material/material-variant")) && i.__esModule ? i : {default: i},
                s = t("../core/components/CCRenderComponent"), a = t("../core/assets/material/CCMaterial"),
                o = t("../core/renderer/render-flow"), c = cc.mat4(), l = cc.v2(), h = cc.v2(), u = cc.v2(),
                f = {row: 0, col: 0}, d = cc.Class({
                    name: "cc.TiledUserNodeData", extends: cc.Component, ctor: function () {
                        this._index = -1, this._row = -1, this._col = -1, this._tiledLayer = null
                    }
                }), _ = cc.Class({
                    name: "cc.TiledLayer",
                    extends: s,
                    editor: {inspector: "packages://inspector/inspectors/comps/tiled-layer.js"},
                    ctor: function () {
                        this._userNodeGrid = {}, this._userNodeMap = {}, this._userNodeDirty = !1, this._tiledTiles = [], this._tilesetIndexArr = [], this._tilesetIndexToArrIndex = {}, this._texIdToMatIndex = {}, this._viewPort = {
                            x: -1,
                            y: -1,
                            width: -1,
                            height: -1
                        }, this._cullingRect = {
                            leftDown: {row: -1, col: -1},
                            rightTop: {row: -1, col: -1}
                        }, this._cullingDirty = !0, this._rightTop = {
                            row: -1,
                            col: -1
                        }, this._layerInfo = null, this._mapInfo = null, this._topOffset = 0, this._downOffset = 0, this._leftOffset = 0, this._rightOffset = 0, this._tiles = [], this._vertices = [], this._verticesDirty = !0, this._layerName = "", this._layerOrientation = null, this._texGrids = null, this._textures = null, this._tilesets = null, this._leftDownToCenterX = 0, this._leftDownToCenterY = 0, this._hasTiledNodeGrid = !1, this._hasAniGrid = !1, this._animations = null, this._enableCulling = cc.macro.ENABLE_TILEDMAP_CULLING
                    },
                    _hasTiledNode: function () {
                        return this._hasTiledNodeGrid
                    },
                    _hasAnimation: function () {
                        return this._hasAniGrid
                    },
                    enableCulling: function (t) {
                        this._enableCulling != t && (this._enableCulling = t, this._cullingDirty = !0)
                    },
                    addUserNode: function (t) {
                        var e = t.getComponent(d);
                        return e ? (cc.warn("CCTiledLayer:addUserNode node has been added"), !1) : (e = t.addComponent(d), t.parent = this.node, t._renderFlag |= o.FLAG_BREAK_FLOW, this._userNodeMap[t._id] = e, e._row = -1, e._col = -1, e._tiledLayer = this, this._nodeLocalPosToLayerPos(t, l), this._positionToRowCol(l.x, l.y, f), this._addUserNodeToGrid(e, f), this._updateCullingOffsetByUserNode(t), t.on(cc.Node.EventType.POSITION_CHANGED, this._userNodePosChange, e), t.on(cc.Node.EventType.SIZE_CHANGED, this._userNodeSizeChange, e), !0)
                    },
                    removeUserNode: function (t) {
                        var e = t.getComponent(d);
                        return e ? (t.off(cc.Node.EventType.POSITION_CHANGED, this._userNodePosChange, e), t.off(cc.Node.EventType.SIZE_CHANGED, this._userNodeSizeChange, e), this._removeUserNodeFromGrid(e), delete this._userNodeMap[t._id], t._removeComponent(e), e.destroy(), t.removeFromParent(!0), t._renderFlag &= ~o.FLAG_BREAK_FLOW, !0) : (cc.warn("CCTiledLayer:removeUserNode node is not exist"), !1)
                    },
                    destroyUserNode: function (t) {
                        this.removeUserNode(t), t.destroy()
                    },
                    _nodeLocalPosToLayerPos: function (t, e) {
                        e.x = t.x + this._leftDownToCenterX, e.y = t.y + this._leftDownToCenterY
                    },
                    _getNodesByRowCol: function (t, e) {
                        var i = this._userNodeGrid[t];
                        return i ? i[e] : null
                    },
                    _getNodesCountByRow: function (t) {
                        var e = this._userNodeGrid[t];
                        return e ? e.count : 0
                    },
                    _updateAllUserNode: function () {
                        for (var t in this._userNodeGrid = {}, this._userNodeMap) {
                            var e = this._userNodeMap[t];
                            this._nodeLocalPosToLayerPos(e.node, l), this._positionToRowCol(l.x, l.y, f), this._addUserNodeToGrid(e, f), this._updateCullingOffsetByUserNode(e.node)
                        }
                    },
                    _updateCullingOffsetByUserNode: function (t) {
                        this._topOffset < t.height && (this._topOffset = t.height), this._downOffset < t.height && (this._downOffset = t.height), this._leftOffset < t.width && (this._leftOffset = t.width), this._rightOffset < t.width && (this._rightOffset = t.width)
                    },
                    _userNodeSizeChange: function () {
                        var t = this.node;
                        this._tiledLayer._updateCullingOffsetByUserNode(t)
                    },
                    _userNodePosChange: function () {
                        var t = this.node, e = this._tiledLayer;
                        e._nodeLocalPosToLayerPos(t, l), e._positionToRowCol(l.x, l.y, f), e._limitInLayer(f), f.row === this._row && f.col === this._col || (e._removeUserNodeFromGrid(this), e._addUserNodeToGrid(this, f))
                    },
                    _removeUserNodeFromGrid: function (t) {
                        var e = t._row, i = t._col, n = t._index, r = this._userNodeGrid[e], s = r && r[i];
                        s && (r.count--, s.count--, s.list[n] = null, s.count <= 0 && (s.list.length = 0, s.count = 0)), t._row = -1, t._col = -1, t._index = -1, this._userNodeDirty = !0
                    },
                    _limitInLayer: function (t) {
                        var e = t.row, i = t.col;
                        e < 0 && (t.row = 0), e > this._rightTop.row && (t.row = this._rightTop.row), i < 0 && (t.col = 0), i > this._rightTop.col && (t.col = this._rightTop.col)
                    },
                    _addUserNodeToGrid: function (t, e) {
                        var i = e.row, n = e.col, r = this._userNodeGrid[i] = this._userNodeGrid[i] || {count: 0},
                            s = r[n] = r[n] || {count: 0, list: []};
                        t._row = i, t._col = n, t._index = s.list.length, r.count++, s.count++, s.list.push(t), this._userNodeDirty = !0
                    },
                    _isUserNodeDirty: function () {
                        return this._userNodeDirty
                    },
                    _setUserNodeDirty: function (t) {
                        this._userNodeDirty = t
                    },
                    onEnable: function () {
                        this._super(), this.node.on(cc.Node.EventType.ANCHOR_CHANGED, this._syncAnchorPoint, this), this._activateMaterial()
                    },
                    onDisable: function () {
                        this._super(), this.node.off(cc.Node.EventType.ANCHOR_CHANGED, this._syncAnchorPoint, this)
                    },
                    _syncAnchorPoint: function () {
                        var t = this.node;
                        this._leftDownToCenterX = t.width * t.anchorX * t.scaleX, this._leftDownToCenterY = t.height * t.anchorY * t.scaleY, this._cullingDirty = !0
                    },
                    onDestroy: function () {
                        this._super(), this._buffer && (this._buffer.destroy(), this._buffer = null), this._renderDataList = null
                    },
                    getLayerName: function () {
                        return this._layerName
                    },
                    setLayerName: function (t) {
                        this._layerName = t
                    },
                    getProperty: function (t) {
                        return this._properties[t]
                    },
                    getPositionAt: function (t, e) {
                        var i, n;
                        switch (void 0 !== e ? (i = Math.floor(t), e = Math.floor(e)) : (i = Math.floor(t.x), e = Math.floor(t.y)), this._layerOrientation) {
                            case cc.TiledMap.Orientation.ORTHO:
                                n = this._positionForOrthoAt(i, e);
                                break;
                            case cc.TiledMap.Orientation.ISO:
                                n = this._positionForIsoAt(i, e);
                                break;
                            case cc.TiledMap.Orientation.HEX:
                                n = this._positionForHexAt(i, e)
                        }
                        return n
                    },
                    _isInvalidPosition: function (t, e) {
                        if (t && "object" == typeof t) {
                            var i = t;
                            e = i.y, t = i.x
                        }
                        return t >= this._layerSize.width || e >= this._layerSize.height || t < 0 || e < 0
                    },
                    _positionForIsoAt: function (t, e) {
                        var i = 0, n = 0, r = Math.floor(t) + Math.floor(e) * this._layerSize.width, s = this._tiles[r];
                        if (s) {
                            var a = (s & cc.TiledMap.TileFlag.FLIPPED_MASK) >>> 0, o = this._texGrids[a].tileset.tileOffset;
                            i = o.x, n = o.y
                        }
                        return cc.v2(.5 * this._mapTileSize.width * (this._layerSize.height + t - e - 1) + i, .5 * this._mapTileSize.height * (this._layerSize.width - t + this._layerSize.height - e - 2) - n)
                    },
                    _positionForOrthoAt: function (t, e) {
                        var i = 0, n = 0, r = Math.floor(t) + Math.floor(e) * this._layerSize.width, s = this._tiles[r];
                        if (s) {
                            var a = (s & cc.TiledMap.TileFlag.FLIPPED_MASK) >>> 0, o = this._texGrids[a].tileset.tileOffset;
                            i = o.x, n = o.y
                        }
                        return cc.v2(t * this._mapTileSize.width + i, (this._layerSize.height - e - 1) * this._mapTileSize.height - n)
                    },
                    _positionForHexAt: function (t, e) {
                        var i, n = this._mapTileSize.width, r = this._mapTileSize.height, s = this._layerSize.height,
                            a = Math.floor(t) + Math.floor(e) * this._layerSize.width, o = this._tiles[a];
                        i = this._texGrids[o] ? this._texGrids[o].tileset.tileOffset : {x: 0, y: 0};
                        var c = this._staggerIndex === cc.TiledMap.StaggerIndex.STAGGERINDEX_ODD ? 1 : -1, l = 0, h = 0,
                            u = 0, f = 0;
                        switch (this._staggerAxis) {
                            case cc.TiledMap.StaggerAxis.STAGGERAXIS_Y:
                                u = 0, e % 2 == 1 && (u = n / 2 * c), l = t * n + u + i.x, h = (s - e - 1) * (r - (r - this._hexSideLength) / 2) - i.y;
                                break;
                            case cc.TiledMap.StaggerAxis.STAGGERAXIS_X:
                                f = 0, t % 2 == 1 && (f = r / 2 * -c), l = t * (n - (n - this._hexSideLength) / 2) + i.x, h = (s - e - 1) * r + f - i.y
                        }
                        return cc.v2(l, h)
                    },
                    setTilesGIDAt: function (t, e, i, n) {
                        if (t && 0 !== t.length && !(n <= 0)) {
                            i < 0 && (i = 0), e < 0 && (e = 0);
                            for (var r = 0, s = e + n, a = i; ; a++) for (var o = e; o < s; o++) {
                                if (r >= t.length) return;
                                this._updateTileForGID(t[r], o, a), r++
                            }
                        }
                    },
                    setTileGIDAt: function (t, e, i, n) {
                        if (void 0 === e) throw new Error("cc.TiledLayer.setTileGIDAt(): pos should be non-null");
                        var r;
                        void 0 === n && e instanceof cc.Vec2 ? (r = e, n = i) : (u.x = e, u.y = i, r = u);
                        var s = t & cc.TiledMap.TileFlag.FLIPPED_MASK;
                        if (r.x = Math.floor(r.x), r.y = Math.floor(r.y), this._isInvalidPosition(r)) throw new Error("cc.TiledLayer.setTileGIDAt(): invalid position");
                        this._tiles && this._tilesets && 0 != this._tilesets.length ? 0 !== s && s < this._tilesets[0].firstGid ? cc.logID(7239, t) : (n = n || 0, this._updateTileForGID((t | n) >>> 0, r.x, r.y)) : cc.logID(7238)
                    },
                    _updateTileForGID: function (t, e, i) {
                        var n = 0 | e + i * this._layerSize.width;
                        if (!(n >= this._tiles.length) && t !== this._tiles[n]) {
                            var r = (t & cc.TiledMap.TileFlag.FLIPPED_MASK) >>> 0, s = this._texGrids[r], a = s && s.texId;
                            s ? (this._tiles[n] = t, this._updateVertex(e, i), this._buildMaterial(a)) : this._tiles[n] = 0, this._cullingDirty = !0
                        }
                    },
                    getTiles: function () {
                        return this._tiles
                    },
                    getTileGIDAt: function (t, e) {
                        if (void 0 === t) throw new Error("cc.TiledLayer.getTileGIDAt(): pos should be non-null");
                        var i = t;
                        if (void 0 === e && (i = t.x, e = t.y), this._isInvalidPosition(i, e)) throw new Error("cc.TiledLayer.getTileGIDAt(): invalid position");
                        if (!this._tiles) return cc.logID(7237), null;
                        var n = Math.floor(i) + Math.floor(e) * this._layerSize.width;
                        return (this._tiles[n] & cc.TiledMap.TileFlag.FLIPPED_MASK) >>> 0
                    },
                    getTileFlagsAt: function (t, e) {
                        if (!t) throw new Error("TiledLayer.getTileFlagsAt: pos should be non-null");
                        if (void 0 !== e && (t = cc.v2(t, e)), this._isInvalidPosition(t)) throw new Error("TiledLayer.getTileFlagsAt: invalid position");
                        if (!this._tiles) return cc.logID(7240), null;
                        var i = Math.floor(t.x) + Math.floor(t.y) * this._layerSize.width;
                        return (this._tiles[i] & cc.TiledMap.TileFlag.FLIPPED_ALL) >>> 0
                    },
                    _setCullingDirty: function (t) {
                        this._cullingDirty = t
                    },
                    _isCullingDirty: function () {
                        return this._cullingDirty
                    },
                    _updateViewPort: function (t, e, i, n) {
                        if (this._viewPort.width !== i || this._viewPort.height !== n || this._viewPort.x !== t || this._viewPort.y !== e) {
                            this._viewPort.x = t, this._viewPort.y = e, this._viewPort.width = i, this._viewPort.height = n;
                            var r = 1;
                            this._layerOrientation === cc.TiledMap.Orientation.ISO && (r = 2);
                            var s = this._viewPort.x - this._offset.x + this._leftDownToCenterX,
                                a = this._viewPort.y - this._offset.y + this._leftDownToCenterY, o = s - this._leftOffset,
                                c = a - this._downOffset, l = s + i + this._rightOffset, h = a + n + this._topOffset,
                                u = this._cullingRect.leftDown, d = this._cullingRect.rightTop;
                            o < 0 && (o = 0), c < 0 && (c = 0), this._positionToRowCol(o, c, f), f.row -= r, f.col -= r, f.row = f.row > 0 ? f.row : 0, f.col = f.col > 0 ? f.col : 0, f.row === u.row && f.col === u.col || (u.row = f.row, u.col = f.col, this._cullingDirty = !0), l < 0 || h < 0 ? (f.row = -1, f.col = -1) : (this._positionToRowCol(l, h, f), f.row++, f.col++), f.row > this._rightTop.row && (f.row = this._rightTop.row), f.col > this._rightTop.col && (f.col = this._rightTop.col), f.row === d.row && f.col === d.col || (d.row = f.row, d.col = f.col, this._cullingDirty = !0)
                        }
                    },
                    _positionToRowCol: function (t, e, i) {
                        var n = cc.TiledMap, r = n.Orientation, s = n.StaggerAxis, a = this._mapTileSize.width,
                            o = this._mapTileSize.height, c = .5 * a, l = .5 * o, h = 0, u = 0, f = 0, d = 0,
                            _ = this._staggerAxis;
                        switch (this._layerSize.width, this._layerOrientation) {
                            case r.ORTHO:
                                u = Math.floor(t / a), h = Math.floor(e / o);
                                break;
                            case r.ISO:
                                u = Math.floor(t / c), h = Math.floor(e / l);
                                break;
                            case r.HEX:
                                _ === s.STAGGERAXIS_Y ? (f = (h = Math.floor(e / (o - this._diffY1))) % 2 == 1 ? c * this._odd_even : 0, u = Math.floor((t - f) / a)) : (d = (u = Math.floor(t / (a - this._diffX1))) % 2 == 1 ? l * -this._odd_even : 0, h = Math.floor((e - d) / o))
                        }
                        return i.row = h, i.col = u, i
                    },
                    _updateCulling: function () {
                        if (this._enableCulling) {
                            this.node._updateWorldMatrix(), n.Mat4.invert(c, this.node._worldMatrix);
                            var t = cc.visibleRect, e = cc.Camera.findCamera(this.node);
                            e && (l.x = 0, l.y = 0, h.x = l.x + t.width, h.y = l.y + t.height, e.getScreenToWorldPoint(l, l), e.getScreenToWorldPoint(h, h), n.Vec2.transformMat4(l, l, c), n.Vec2.transformMat4(h, h, c), this._updateViewPort(l.x, l.y, h.x - l.x, h.y - l.y))
                        }
                    },
                    getLayerOrientation: function () {
                        return this._layerOrientation
                    },
                    getProperties: function () {
                        return this._properties
                    },
                    _updateVertex: function (t, e) {
                        var i = cc.TiledMap, n = i.TileFlag.FLIPPED_MASK, r = i.StaggerAxis, s = i.Orientation,
                            a = this._vertices, o = this._layerOrientation, c = this._tiles;
                        if (c) {
                            var l, h, u, f, d, _, p, v = this._rightTop, g = this._mapTileSize.width,
                                m = this._mapTileSize.height, y = .5 * g, T = .5 * m, E = this._layerSize.height,
                                A = this._layerSize.width, b = this._texGrids;
                            o === s.HEX && (f = this._staggerAxis, d = this._diffX1, _ = this._diffY1, p = this._odd_even);
                            var x, C, S, w, M = 0, R = 0, I = 0, O = 0, D = e * A + t;
                            if (l = b[C = (c[D] & n) >>> 0]) {
                                switch (this._animations[C] && (this._hasAniGrid = this._hasAniGrid || !0), o) {
                                    case s.ORTHO:
                                        h = (M = t) * g, u = (R = E - e - 1) * m;
                                        break;
                                    case s.ISO:
                                        h = y * (M = E + t - e - 1), u = T * (R = E + A - t - e - 2);
                                        break;
                                    case s.HEX:
                                        h = t * (g - d) + (f === r.STAGGERAXIS_Y && e % 2 == 1 ? y * p : 0), u = (E - e - 1) * (m - _) + (f === r.STAGGERAXIS_X && t % 2 == 1 ? T * -p : 0), M = t, R = E - e - 1
                                }
                                var P = a[R] = a[R] || {minCol: 0, maxCol: 0}, L = P[M] = P[M] || {};
                                P.minCol > M && (P.minCol = M), P.maxCol < M && (P.maxCol = M), v.row < R && (v.row = R), v.col < M && (v.col = M), x = l.tileset.tileOffset, h += this._offset.x + x.x, u += this._offset.y - x.y, I = (I = -x.y + l.tileset._tileSize.height - m) < 0 ? 0 : I, S = x.y < 0 ? 0 : x.y, w = -x.x < 0 ? 0 : -x.x, O = (O = x.x + l.tileset._tileSize.width - g) < 0 ? 0 : O, this._rightOffset < w && (this._rightOffset = w), this._leftOffset < O && (this._leftOffset = O), this._topOffset < S && (this._topOffset = S), this._downOffset < I && (this._downOffset = I), L.left = h, L.bottom = u, L.index = D, this._cullingDirty = !0
                            }
                        }
                    },
                    _updateVertices: function () {
                        if (this._vertices.length = 0, this._tiles) {
                            var t = this._rightTop;
                            t.row = -1, t.col = -1;
                            var e = this._layerSize.height, i = this._layerSize.width;
                            this._topOffset = 0, this._downOffset = 0, this._leftOffset = 0, this._rightOffset = 0, this._hasAniGrid = !1;
                            for (var n = 0; n < e; ++n) for (var r = 0; r < i; ++r) this._updateVertex(r, n);
                            this._verticesDirty = !1
                        }
                    },
                    getTiledTileAt: function (t, e, i) {
                        if (this._isInvalidPosition(t, e)) throw new Error("TiledLayer.getTiledTileAt: invalid position");
                        if (!this._tiles) return cc.logID(7236), null;
                        var n = Math.floor(t) + Math.floor(e) * this._layerSize.width, r = this._tiledTiles[n];
                        if (!r && i) {
                            var s = new cc.Node;
                            return (r = s.addComponent(cc.TiledTile))._x = t, r._y = e, r._layer = this, r._updateInfo(), s.parent = this.node, r
                        }
                        return r
                    },
                    setTiledTileAt: function (t, e, i) {
                        if (this._isInvalidPosition(t, e)) throw new Error("TiledLayer.setTiledTileAt: invalid position");
                        if (!this._tiles) return cc.logID(7236), null;
                        var n = Math.floor(t) + Math.floor(e) * this._layerSize.width;
                        return this._tiledTiles[n] = i, this._cullingDirty = !0, this._hasTiledNodeGrid = !!i || this._tiledTiles.some((function (t) {
                            return !!t
                        })), i
                    },
                    getTexture: function (t) {
                        return t = t || 0, this._textures && t >= 0 && this._textures.length > t ? this._textures[t] : null
                    },
                    getTextures: function () {
                        return this._textures
                    },
                    setTexture: function (t) {
                        this.setTextures([t])
                    },
                    setTextures: function (t) {
                        this._textures = t, this._activateMaterial()
                    },
                    getLayerSize: function () {
                        return this._layerSize
                    },
                    getMapTileSize: function () {
                        return this._mapTileSize
                    },
                    getTileSet: function (t) {
                        return t = t || 0, this._tilesets && t >= 0 && this._tilesets.length > t ? this._tilesets[t] : null
                    },
                    getTileSets: function () {
                        return this._tilesets
                    },
                    setTileSet: function (t) {
                        this.setTileSets([t])
                    },
                    setTileSets: function (t) {
                        this._tilesets = t;
                        for (var e = this._textures = [], i = this._texGrids = [], n = 0; n < t.length; n++) {
                            var r = t[n];
                            r && (e[n] = r.sourceImage)
                        }
                        cc.TiledMap.loadAllTextures(e, function () {
                            for (var e = 0, n = t.length; e < n; ++e) {
                                var r = t[e];
                                r && cc.TiledMap.fillTextureGrids(r, i, e)
                            }
                            this._prepareToRender()
                        }.bind(this))
                    },
                    _traverseAllGrid: function () {
                        var t = this._tiles, e = this._texGrids, i = this._tilesetIndexArr,
                            n = this._tilesetIndexToArrIndex = {}, r = cc.TiledMap.TileFlag.FLIPPED_MASK;
                        i.length = 0;
                        for (var s = 0; s < t.length; s++) {
                            var a = t[s];
                            if (0 !== a) {
                                var o = e[a = (a & r) >>> 0];
                                if (o) {
                                    var c = o.texId;
                                    void 0 === n[c] && (n[c] = i.length, i.push(c))
                                } else cc.error("CCTiledLayer:_traverseAllGrid grid is null, gid is:", a)
                            }
                        }
                    },
                    _init: function (t, e, i, n, r) {
                        this._cullingDirty = !0, this._layerInfo = t, this._mapInfo = e;
                        var s = t._layerSize;
                        this._layerName = t.name, this._tiles = t._tiles, this._properties = t.properties, this._layerSize = s, this._minGID = t._minGID, this._maxGID = t._maxGID, this._opacity = t._opacity, this._renderOrder = e.renderOrder, this._staggerAxis = e.getStaggerAxis(), this._staggerIndex = e.getStaggerIndex(), this._hexSideLength = e.getHexSideLength(), this._animations = e.getTileAnimations(), this._tilesets = i, this._textures = n, this._texGrids = r, this._layerOrientation = e.orientation, this._mapTileSize = e.getTileSize();
                        var a = this._mapTileSize.width, o = this._mapTileSize.height, c = this._layerSize.width,
                            l = this._layerSize.height;
                        if (this._layerOrientation === cc.TiledMap.Orientation.HEX) {
                            var h = cc.TiledMap, u = h.StaggerAxis, f = h.StaggerIndex, d = 0, _ = 0;
                            this._odd_even = this._staggerIndex === f.STAGGERINDEX_ODD ? 1 : -1, this._staggerAxis === u.STAGGERAXIS_X ? (this._diffX1 = (a - this._hexSideLength) / 2, this._diffY1 = 0, _ = o * (l + .5), d = (a + this._hexSideLength) * Math.floor(c / 2) + a * (c % 2)) : (this._diffX1 = 0, this._diffY1 = (o - this._hexSideLength) / 2, d = a * (c + .5), _ = (o + this._hexSideLength) * Math.floor(l / 2) + o * (l % 2)), this.node.setContentSize(d, _)
                        } else if (this._layerOrientation === cc.TiledMap.Orientation.ISO) {
                            var p = c + l;
                            this.node.setContentSize(.5 * a * p, .5 * o * p)
                        } else this.node.setContentSize(c * a, l * o);
                        this._offset = cc.v2(t.offset.x, -t.offset.y), this._useAutomaticVertexZ = !1, this._vertexZvalue = 0, this._syncAnchorPoint(), this._prepareToRender()
                    },
                    _prepareToRender: function () {
                        this._updateVertices(), this._traverseAllGrid(), this._updateAllUserNode(), this._activateMaterial()
                    },
                    _buildMaterial: function (t) {
                        var e = this._texIdToMatIndex;
                        if (void 0 !== e[t]) return null;
                        var i = this._tilesetIndexArr, n = this._tilesetIndexToArrIndex, s = n[t];
                        void 0 === s && (n[t] = s = i.length, i.push(t));
                        var o = this._textures[t], c = this._materials[s];
                        return c || (c = a.getBuiltinMaterial("2d-sprite")), (c = r.default.create(c, this)).define("CC_USE_MODEL", !0), c.setProperty("texture", o), this._materials[s] = c, e[t] = s, c
                    },
                    _activateMaterial: function () {
                        var t = this._tilesetIndexArr;
                        if (0 !== t.length) {
                            for (var e = t.length, i = 0; i < e; i++) this._buildMaterial(t[i]);
                            this._materials.length = e, this.markForRender(!0)
                        } else this.disableRender()
                    }
                });
            cc.TiledLayer = e.exports = _
        }), {
            "../core/assets/material/CCMaterial": 91,
            "../core/assets/material/material-variant": 98,
            "../core/components/CCRenderComponent": 117,
            "../core/renderer/render-flow": 200,
            "../core/value-types": 265
        }],
        319: [(function (t, e) {
            "use strict";
            t("./CCTMXXMLParser"), t("./CCTiledMapAsset"), t("./CCTiledLayer"), t("./CCTiledTile"), t("./CCTiledObjectGroup");
            var i = cc.Enum({ORTHO: 0, HEX: 1, ISO: 2}),
                n = cc.Enum({NONE: 0, MAP: 1, LAYER: 2, OBJECTGROUP: 3, OBJECT: 4, TILE: 5}), r = cc.Enum({
                    HORIZONTAL: 2147483648,
                    VERTICAL: 1073741824,
                    DIAGONAL: 536870912,
                    FLIPPED_ALL: 4026531840,
                    FLIPPED_MASK: 268435455
                }), s = cc.Enum({STAGGERAXIS_X: 0, STAGGERAXIS_Y: 1}),
                a = cc.Enum({STAGGERINDEX_ODD: 0, STAGGERINDEX_EVEN: 1}),
                o = cc.Enum({RightDown: 0, RightUp: 1, LeftDown: 2, LeftUp: 3}),
                c = cc.Enum({RECT: 0, ELLIPSE: 1, POLYGON: 2, POLYLINE: 3, IMAGE: 4, TEXT: 5}), l = cc.Class({
                    name: "cc.TiledMap",
                    extends: cc.Component,
                    editor: !1,
                    ctor: function () {
                        this._texGrids = [], this._textures = [], this._tilesets = [], this._animations = [], this._imageLayers = [], this._layers = [], this._groups = [], this._images = [], this._properties = [], this._tileProperties = [], this._mapSize = cc.size(0, 0), this._tileSize = cc.size(0, 0)
                    },
                    statics: {
                        Orientation: i,
                        Property: n,
                        TileFlag: r,
                        StaggerAxis: s,
                        StaggerIndex: a,
                        TMXObjectType: c,
                        RenderOrder: o
                    },
                    properties: {
                        _tmxFile: {default: null, type: cc.TiledMapAsset}, tmxAsset: {
                            get: function () {
                                return this._tmxFile
                            }, set: function (t) {
                                this._tmxFile !== t && (this._tmxFile = t, this._applyFile())
                            }, type: cc.TiledMapAsset
                        }
                    },
                    getMapSize: function () {
                        return this._mapSize
                    },
                    getTileSize: function () {
                        return this._tileSize
                    },
                    getMapOrientation: function () {
                        return this._mapOrientation
                    },
                    getObjectGroups: function () {
                        return this._groups
                    },
                    getObjectGroup: function (t) {
                        for (var e = this._groups, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r && r.getGroupName() === t) return r
                        }
                        return null
                    },
                    enableCulling: function (t) {
                        for (var e = this._layers, i = 0; i < e.length; ++i) e[i].enableCulling(t)
                    },
                    getProperties: function () {
                        return this._properties
                    },
                    getLayers: function () {
                        return this._layers
                    },
                    getLayer: function (t) {
                        for (var e = this._layers, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r && r.getLayerName() === t) return r
                        }
                        return null
                    },
                    _changeLayer: function (t, e) {
                        for (var i = this._layers, n = 0, r = i.length; n < r; n++) {
                            var s = i[n];
                            if (s && s.getLayerName() === t) return void (i[n] = e)
                        }
                    },
                    getProperty: function (t) {
                        return this._properties[t.toString()]
                    },
                    getPropertiesForGID: function (t) {
                        return this._tileProperties[t]
                    },
                    __preload: function () {
                        this._tmxFile && this._applyFile()
                    },
                    onEnable: function () {
                        this.node.on(cc.Node.EventType.ANCHOR_CHANGED, this._syncAnchorPoint, this)
                    },
                    onDisable: function () {
                        this.node.off(cc.Node.EventType.ANCHOR_CHANGED, this._syncAnchorPoint, this)
                    },
                    _applyFile: function () {
                        var t = this._tmxFile;
                        if (t) {
                            for (var e = t.textures, i = t.textureNames, n = t.textureSizes, r = {}, s = {}, a = 0; a < e.length; ++a) {
                                var o = i[a];
                                r[o] = e[a], s[o] = n[a]
                            }
                            var c = {};
                            e = t.imageLayerTextures, i = t.imageLayerTextureNames;
                            for (var l = 0; l < e.length; ++l) c[i[l]] = e[l];
                            for (var h = t.tsxFileNames, u = t.tsxFiles, f = {}, d = 0; d < h.length; ++d) h[d].length > 0 && (f[h[d]] = u[d].text);
                            var _ = new cc.TMXMapInfo(t.tmxXmlStr, f, r, s, c), p = _.getTilesets();
                            p && 0 !== p.length || cc.logID(7241), this._buildWithMapInfo(_)
                        } else this._releaseMapInfo()
                    },
                    _releaseMapInfo: function () {
                        for (var t = this._layers, e = 0, i = t.length; e < i; e++) t[e].node.removeFromParent(!0), t[e].node.destroy();
                        t.length = 0;
                        for (var n = this._groups, r = 0, s = n.length; r < s; r++) n[r].node.removeFromParent(!0), n[r].node.destroy();
                        n.length = 0;
                        for (var a = this._images, o = 0, c = a.length; o < c; o++) a[o].removeFromParent(!0), a[o].destroy();
                        a.length = 0
                    },
                    _syncAnchorPoint: function () {
                        var t, e, i = this.node.getAnchorPoint(), n = this.node.width * i.x,
                            r = this.node.height * (1 - i.y);
                        for (t = 0, e = this._layers.length; t < e; t++) this._layers[t].node.setAnchorPoint(i);
                        for (t = 0, e = this._groups.length; t < e; t++) {
                            var s = this._groups[t], a = s.node;
                            a.anchorX = .5, a.anchorY = .5, a.x = s._offset.x - n + a.width * a.anchorX, a.y = s._offset.y + r - a.height * a.anchorY
                        }
                        for (t = 0, e = this._images.length; t < e; t++) {
                            var o = this._images[t];
                            o.anchorX = .5, o.anchorY = .5, o.x = o._offset.x - n + o.width * o.anchorX, o.y = o._offset.y + r - o.height * o.anchorY
                        }
                    },
                    _fillAniGrids: function (t, e) {
                        for (var i in e) {
                            var n = e[i];
                            if (n) for (var r = n.frames, s = 0; s < r.length; s++) {
                                var a = r[s];
                                a.grid = t[a.tileid]
                            }
                        }
                    },
                    _buildLayerAndGroup: function () {
                        var t = this._tilesets, e = this._texGrids, i = this._animations;
                        e.length = 0;
                        for (var n = 0, r = t.length; n < r; ++n) {
                            var s = t[n];
                            s && cc.TiledMap.fillTextureGrids(s, e, n)
                        }
                        this._fillAniGrids(e, i);
                        for (var a = this._layers, o = this._groups, c = this._images, l = {}, h = 0, u = a.length; h < u; h++) l[a[h].node._name] = !0;
                        for (var f = 0, d = o.length; f < d; f++) l[o[f].node._name] = !0;
                        for (var _ = 0, p = c.length; _ < p; _++) l[c[_]._name] = !0;
                        a = this._layers = [], o = this._groups = [], c = this._images = [];
                        var v = this._mapInfo, g = this.node, m = v.getAllChildren(), y = this._textures, T = 0, E = 0;
                        if (m && m.length > 0) for (var A = 0, b = m.length; A < b; A++) {
                            var x = m[A], C = x.name, S = this.node.getChildByName(C);
                            if (l[C] = !1, S || ((S = new cc.Node).name = C, g.addChild(S)), S.setSiblingIndex(A), S.active = x.visible, x instanceof cc.TMXLayerInfo) {
                                var w = S.getComponent(cc.TiledLayer);
                                w || (w = S.addComponent(cc.TiledLayer)), w._init(x, v, t, y, e), x.ownTiles = !1, a.push(w)
                            } else if (x instanceof cc.TMXObjectGroupInfo) {
                                var M = S.getComponent(cc.TiledObjectGroup);
                                M || (M = S.addComponent(cc.TiledObjectGroup)), M._init(x, v, e), o.push(M)
                            } else if (x instanceof cc.TMXImageLayerInfo) {
                                var R = x.sourceImage;
                                S.opacity = x.opacity, S.layerInfo = x, S._offset = cc.v2(x.offset.x, -x.offset.y);
                                var I = S.getComponent(cc.Sprite);
                                I || (I = S.addComponent(cc.Sprite));
                                var O = I.spriteFrame || new cc.SpriteFrame;
                                O.setTexture(R), I.spriteFrame = O, S.width = R.width, S.height = R.height, c.push(S)
                            }
                            T = Math.max(T, S.width), E = Math.max(E, S.height)
                        }
                        for (var D = g.children, P = 0, L = D.length; P < L; P++) {
                            var N = D[P];
                            l[N._name] && N.destroy()
                        }
                        this.node.width = T, this.node.height = E, this._syncAnchorPoint()
                    },
                    _buildWithMapInfo: function (t) {
                        this._mapInfo = t, this._mapSize = t.getMapSize(), this._tileSize = t.getTileSize(), this._mapOrientation = t.orientation, this._properties = t.properties, this._tileProperties = t.getTileProperties(), this._imageLayers = t.getImageLayers(), this._animations = t.getTileAnimations(), this._tilesets = t.getTilesets();
                        var e = this._tilesets;
                        this._textures.length = 0;
                        for (var i = [], n = 0, r = e.length; n < r; ++n) {
                            var s = e[n];
                            s && s.sourceImage && (this._textures[n] = s.sourceImage, i.push(s.sourceImage))
                        }
                        for (var a = 0; a < this._imageLayers.length; a++) {
                            var o = this._imageLayers[a];
                            o && o.sourceImage && i.push(o.sourceImage)
                        }
                        cc.TiledMap.loadAllTextures(i, function () {
                            this._buildLayerAndGroup()
                        }.bind(this))
                    },
                    update: function (t) {
                        var e = this._animations, i = this._texGrids;
                        for (var n in e) {
                            var r = e[n], s = r.frames, a = s[r.frameIdx];
                            r.dt += t, a.duration < r.dt && (r.dt = 0, r.frameIdx++, r.frameIdx >= s.length && (r.frameIdx = 0), a = s[r.frameIdx]), i[n] = a.grid
                        }
                    }
                });
            cc.TiledMap = e.exports = l, cc.TiledMap.loadAllTextures = function (t, e) {
                var i = t.length;
                if (0 !== i) for (var n = 0, r = function () {
                    ++n >= i && e()
                }, s = 0; s < i; s++) {
                    var a = t[s];
                    a.loaded ? r() : a.once("load", (function () {
                        r()
                    }))
                } else e()
            }, cc.TiledMap.fillTextureGrids = function (t, e, i) {
                var n = t.sourceImage;
                t.imageSize.width && t.imageSize.height || (t.imageSize.width = n.width, t.imageSize.height = n.height);
                var r = t._tileSize.width, s = t._tileSize.height, a = n.width, o = n.height, c = t.spacing,
                    l = t.margin, h = Math.floor((a - 2 * l + c) / (r + c)),
                    u = Math.floor((o - 2 * l + c) / (s + c)) * h, f = t.firstGid, d = null, _ = !!e[f],
                    p = cc.macro.FIX_ARTIFACTS_BY_STRECHING_TEXEL_TMX ? .5 : 0;
                u <= 0 && (u = 1);
                for (var v = t.firstGid + u; f < v && (_ && !e[f] && (_ = !1), _ || !e[f]); ++f) d = {
                    texId: i,
                    tileset: t,
                    x: 0,
                    y: 0,
                    width: r,
                    height: s,
                    t: 0,
                    l: 0,
                    r: 0,
                    b: 0,
                    gid: f
                }, t.rectForGID(f, d), d.x += p, d.y += p, d.width -= 2 * p, d.height -= 2 * p, d.t = d.y / o, d.l = d.x / a, d.r = (d.x + d.width) / a, d.b = (d.y + d.height) / o, e[f] = d
            }, cc.js.obsolete(cc.TiledMap.prototype, "cc.TiledMap.tmxFile", "tmxAsset", !0), cc.js.get(cc.TiledMap.prototype, "mapLoaded", (function () {
                return cc.errorID(7203), []
            }), !1)
        }), {
            "./CCTMXXMLParser": 317,
            "./CCTiledLayer": 318,
            "./CCTiledMapAsset": 320,
            "./CCTiledObjectGroup": 322,
            "./CCTiledTile": 323
        }],
        320: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                name: "cc.TiledMapAsset",
                extends: cc.Asset,
                properties: {
                    tmxXmlStr: "",
                    textures: {default: [], type: [cc.Texture2D]},
                    textureNames: [cc.String],
                    textureSizes: {default: [], type: [cc.Size]},
                    imageLayerTextures: {default: [], type: [cc.Texture2D]},
                    imageLayerTextureNames: [cc.String],
                    tsxFiles: [cc.TextAsset],
                    tsxFileNames: [cc.String]
                },
                statics: {preventDeferredLoadDependents: !0},
                createNode: !1
            });
            cc.TiledMapAsset = i, e.exports = i
        }), {}],
        321: [(function (t, e) {
            "use strict";
            var i, n = (i = t("../renderer/core/input-assembler")) && i.__esModule ? i : {default: i}, r = cc.Class({
                name: "cc.TiledMapRenderDataList", ctor: function () {
                    this._dataList = [], this._offset = 0
                }, _pushRenderData: function () {
                    var t = {};
                    t.ia = new n.default, t.nodesRenderList = [], this._dataList.push(t)
                }, popRenderData: function (t) {
                    this._offset >= this._dataList.length && this._pushRenderData();
                    var e = this._dataList[this._offset];
                    e.nodesRenderList.length = 0;
                    var i = e.ia;
                    return i._vertexBuffer = t._vb, i._indexBuffer = t._ib, i._start = t.indiceOffset, i._count = 0, this._offset++, e
                }, pushNodesList: function (t, e) {
                    t.nodesRenderList.push(e)
                }, reset: function () {
                    this._offset = 0
                }
            });
            cc.TiledMapRenderDataList = e.exports = r
        }), {"../renderer/core/input-assembler": 282}],
        322: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                name: "cc.TiledObjectGroup", extends: cc.Component, getPositionOffset: function () {
                    return this._positionOffset
                }, getProperties: function () {
                    return this._properties
                }, getGroupName: function () {
                    return this._groupName
                }, getProperty: function (t) {
                    return this._properties[t.toString()]
                }, getObject: function (t) {
                    for (var e = 0, i = this._objects.length; e < i; e++) {
                        var n = this._objects[e];
                        if (n && n.name === t) return n
                    }
                    return null
                }, getObjects: function () {
                    return this._objects
                }, _init: function (t, e, i) {
                    var n = cc.TiledMap, r = n.TMXObjectType, s = n.Orientation, a = n.StaggerAxis, o = n.TileFlag,
                        c = o.FLIPPED_MASK, l = o.HORIZONTAL, h = o.VERTICAL;
                    this._groupName = t.name, this._positionOffset = t.offset, this._mapInfo = e, this._properties = t.getProperties(), this._offset = cc.v2(t.offset.x, -t.offset.y), this._opacity = t._opacity;
                    var u = e._mapSize, f = e._tileSize, d = 0, _ = 0;
                    if (e.orientation === s.HEX) e.getStaggerAxis() === a.STAGGERAXIS_X ? (_ = f.height * (u.height + .5), d = (f.width + e.getHexSideLength()) * Math.floor(u.width / 2) + f.width * (u.width % 2)) : (d = f.width * (u.width + .5), _ = (f.height + e.getHexSideLength()) * Math.floor(u.height / 2) + f.height * (u.height % 2)); else if (e.orientation === s.ISO) {
                        var p = u.width + u.height;
                        d = .5 * f.width * p, _ = .5 * f.height * p
                    } else d = u.width * f.width, _ = u.height * f.height;
                    this.node.setContentSize(d, _);
                    for (var v = d * this.node.anchorX, g = _ * (1 - this.node.anchorY), m = t._objects, y = {}, T = 0, E = m.length; T < E; T++) {
                        var A = m[T], b = A.type;
                        A.offset = cc.v2(A.x, A.y);
                        var x = A.points || A.polylinePoints;
                        if (x) for (var C = 0; C < x.length; C++) x[C].y *= -1;
                        if (s.ISO !== e.orientation) A.y = _ - A.y; else {
                            var S = A.x / f.height, w = A.y / f.height;
                            A.x = .5 * f.width * (u.height + S - w), A.y = .5 * f.height * (u.width + u.height - S - w)
                        }
                        if (b === r.TEXT) {
                            var M = "text" + A.id;
                            y[M] = !0;
                            var R = this.node.getChildByName(M);
                            R || (R = new cc.Node), R.active = A.visible, R.anchorX = 0, R.anchorY = 1, R.angle = -A.rotation, R.x = A.x - v, R.y = A.y - g, R.name = M, R.parent = this.node, R.color = A.color, R.opacity = this._opacity, R.setSiblingIndex(T);
                            var I = R.getComponent(cc.Label);
                            I || (I = R.addComponent(cc.Label)), I.overflow = cc.Label.Overflow.SHRINK, I.lineHeight = A.height, I.string = A.text, I.horizontalAlign = A.halign, I.verticalAlign = A.valign, I.fontSize = A.pixelsize, R.width = A.width, R.height = A.height
                        }
                        if (b === r.IMAGE) {
                            var O = A.gid, D = i[(O & c) >>> 0];
                            if (!D) continue;
                            var P = D.tileset, L = "img" + A.id;
                            y[L] = !0;
                            var N = this.node.getChildByName(L), F = A.width || D.width, B = A.height || D.height,
                                k = P.tileOffset.x, V = P.tileOffset.y;
                            N instanceof cc.PrivateNode && (N.removeFromParent(), N.destroy(), N = null), N || (N = new cc.Node), s.ISO == e.orientation ? (N.anchorX = .5 + k / F, N.anchorY = V / B) : (N.anchorX = k / F, N.anchorY = V / B), N.active = A.visible, N.angle = -A.rotation, N.x = A.x - v, N.y = A.y - g, N.name = L, N.parent = this.node, N.opacity = this._opacity, N.setSiblingIndex(T);
                            var U = N.getComponent(cc.Sprite);
                            U || (U = N.addComponent(cc.Sprite));
                            var z = U.spriteFrame;
                            z || (z = new cc.SpriteFrame), (O & l) >>> 0 ? z.setFlipX(!0) : z.setFlipX(!1), (O & h) >>> 0 ? z.setFlipY(!0) : z.setFlipY(!1), z.setTexture(D.tileset.sourceImage, cc.rect(D)), U.spriteFrame = z, U.setVertsDirty(), N.width = F, N.height = B
                        }
                    }
                    this._objects = m;
                    for (var H = this.node.children, W = /^(?:img|text)\d+$/, G = 0, j = H.length; G < j; G++) {
                        var X = H[G], Y = X._name;
                        W.test(Y) && !y[Y] && X.destroy()
                    }
                }
            });
            cc.TiledObjectGroup = e.exports = i
        }), {}],
        323: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                name: "cc.TiledTile", extends: cc.Component, editor: !1, ctor: function () {
                    this._layer = null
                }, properties: {
                    _x: 0, _y: 0, x: {
                        get: function () {
                            return this._x
                        }, set: function (t) {
                            t !== this._x && (this._layer && this._layer._isInvalidPosition(t, this._y) ? cc.warn("Invalid x, the valid value is between [%s] ~ [%s]", 0, this._layer._layerSize.width) : (this._resetTile(), this._x = t, this._updateInfo()))
                        }, type: cc.Integer
                    }, y: {
                        get: function () {
                            return this._y
                        }, set: function (t) {
                            t !== this._y && (this._layer && this._layer._isInvalidPosition(this._x, t) ? cc.warn("Invalid y, the valid value is between [%s] ~ [%s]", 0, this._layer._layerSize.height) : (this._resetTile(), this._y = t, this._updateInfo()))
                        }, type: cc.Integer
                    }, gid: {
                        get: function () {
                            return this._layer ? this._layer.getTileGIDAt(this._x, this._y) : 0
                        }, set: function (t) {
                            this._layer && this._layer.setTileGIDAt(t, this._x, this._y)
                        }, type: cc.Integer
                    }
                }, onEnable: function () {
                    var t = this.node.parent;
                    this._layer = t.getComponent(cc.TiledLayer), this._resetTile(), this._updateInfo()
                }, onDisable: function () {
                    this._resetTile()
                }, _resetTile: function () {
                    this._layer && this._layer.getTiledTileAt(this._x, this._y) === this && this._layer.setTiledTileAt(this._x, this._y, null)
                }, _updateInfo: function () {
                    if (this._layer) {
                        var t = this._x, e = this._y;
                        this._layer.getTiledTileAt(t, e) ? cc.warn("There is already a TiledTile at [%s, %s]", t, e) : (this.node.setPosition(this._layer.getPositionAt(t, e)), this._layer.setTiledTileAt(t, e, this))
                    }
                }
            });
            cc.TiledTile = e.exports = i
        }), {}],
        324: [(function (t) {
            "use strict";
            t("./CCTiledMap"), t("./CCTiledMapRenderDataList"), t("./tiledmap-buffer"), t("./tmx-layer-assembler")
        }), {
            "./CCTiledMap": 319,
            "./CCTiledMapRenderDataList": 321,
            "./tiledmap-buffer": 325,
            "./tmx-layer-assembler": 326
        }],
        325: [(function (t, e) {
            "use strict";
            var i = cc.Class({
                name: "cc.TiledMapBuffer",
                extends: t("../core/renderer/webgl/quad-buffer"),
                _updateOffset: function () {
                    var t = this._offsetInfo;
                    t.vertexOffset = this.vertexOffset, t.indiceOffset = this.indiceOffset, t.byteOffset = this.byteOffset
                },
                adjust: function (t, e) {
                    this.vertexOffset += t, this.indiceOffset += e, this.indiceStart = this.indiceOffset, this.byteOffset = this.byteOffset + t * this._vertexBytes, this._dirty = !0
                }
            });
            cc.TiledMapBuffer = e.exports = i
        }), {"../core/renderer/webgl/quad-buffer": 236}],
        326: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../core/renderer/assembler")) && n.__esModule ? n : {default: n},
                s = t("../core/value-types");

            function a(t, e) {
                return (a = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var o = t("./CCTiledLayer"), c = t("./CCTiledMap"), l = c.TileFlag, h = l.FLIPPED_MASK,
                u = t("../core/renderer/"), f = t("../core/renderer/webgl/vertex-format").vfmtPosUvColor,
                d = parseInt(10922.5), _ = c.RenderOrder, p = t("../core/renderer/render-flow"), v = cc.mat4(),
                g = cc.v3(), m = {row: 0, col: 0}, y = {x: 0, y: 0}, T = {x: 0, y: 0}, E = {x: 0, y: 0},
                A = {x: 0, y: 0}, b = null, x = null, C = 0, S = 0, w = 0, M = 0, R = null, I = null, O = null,
                D = null, P = null, L = null, N = null, F = null;

            function B(t) {
                t._updateLocalMatrix(), s.Mat4.mul(t._worldMatrix, R, t._matrix), t._renderFlag &= ~(p.FLAG_TRANSFORM | p.FLAG_BREAK_FLOW), p.visitRootNode(t), t._renderFlag |= p.FLAG_BREAK_FLOW
            }

            function k() {
                0 !== x._count && (I.material = b.material, I.node = L.node, I._flushIA(b.ia), C >= d ? (D.uploadData(), D.switchBuffer(), N = D._vData, F = D._uintVData, b = O.popRenderData(D), x = b.ia, S = 0, C = 0) : (b = O.popRenderData(D), x = b.ia), b.material = P)
            }

            function V(t, e) {
                var i = L._getNodesByRowCol(t, e);
                if (i && 0 != i.count) {
                    var n = i.list, r = 0, s = 0;
                    for (k(), I.worldMatDirty++; r < i.count;) {
                        var a = n[s];
                        s++, a && (B(a.node), r !== s && (n[r] = a, a._index = r), r++)
                    }
                    n.length = r, I.worldMatDirty--, O.pushNodesList(b, n), I._flush(), I.node = L.node
                }
            }

            function U(t, e) {
                y.x = t.l, y.y = t.t, T.x = t.r, T.y = t.t, E.x = t.l, E.y = t.b, A.x = t.r, A.y = t.b;
                var i = null;
                (e & l.DIAGONAL) >>> 0 && (i = T, T = E, E = i), (e & l.HORIZONTAL) >>> 0 && (i = y, y = T, T = i, i = E, E = A, A = i), (e & l.VERTICAL) >>> 0 && (i = y, y = E, E = i, i = T, T = A, A = i)
            }

            var z = (function (t) {
                var e, i;

                function n() {
                    return t.apply(this, arguments) || this
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, a(e, i);
                var r = n.prototype;
                return r.updateRenderData = function (t) {
                    t._renderDataList || (t._buffer = new cc.TiledMapBuffer(u._handle, f), t._renderDataList = new cc.TiledMapRenderDataList)
                }, r.fillBuffers = function (t, e) {
                    if (0 !== t._vertices.length) {
                        t._updateCulling();
                        var i = t.node;
                        if (w = t._leftDownToCenterX, M = t._leftDownToCenterY, R = i._worldMatrix, I = e, L = t, O = t._renderDataList, D = t._buffer, t._isCullingDirty() || t._isUserNodeDirty() || t._hasAnimation() || t._hasTiledNode()) {
                            var n, r;
                            if (D.reset(), t._enableCulling) {
                                var s = t._cullingRect;
                                n = s.leftDown, r = s.rightTop
                            } else n = m, r = t._rightTop;
                            var a = (r.row - n.row + 1) * (r.col - n.col + 1);
                            switch (a > d && (a = d), D.request(4 * a, 6 * a), t._renderOrder) {
                                case _.RightDown:
                                    this.traverseGrids(n, r, -1, 1);
                                    break;
                                case _.LeftDown:
                                    this.traverseGrids(n, r, -1, -1);
                                    break;
                                case _.RightUp:
                                    this.traverseGrids(n, r, 1, 1);
                                    break;
                                case _.LeftUp:
                                    this.traverseGrids(n, r, 1, -1)
                            }
                            t._setCullingDirty(!1), t._setUserNodeDirty(!1)
                        } else for (var o = null, c = null, l = null, h = 0; h < O._offset; h++) {
                            if ((c = (o = O._dataList[h]).nodesRenderList).length > 0) {
                                e.worldMatDirty++;
                                for (var u = 0; u < c.length; u++) if (l = c[u]) for (var f = 0; f < l.length; f++) {
                                    var p = l[f];
                                    p && B(p.node)
                                }
                                e.worldMatDirty--, e._flush()
                            }
                            o.ia._count > 0 && (e.material = o.material, e.node = i, e._flushIA(o.ia))
                        }
                        b = null, x = null, R = null, I = null, O = null, D = null, P = null, L = null, N = null, F = null
                    }
                }, r.traverseGrids = function (t, e, i, n) {
                    if (O.reset(), !(e.row < 0 || e.col < 0)) {
                        b = O.popRenderData(D), x = b.ia, N = D._vData, F = D._uintVData, C = 0, S = 0, P = null;
                        var r = L.node, s = (r.parent ? r.parent._opacity / 255 : 1) * r._opacity;
                        r._color._fastSetA(s);
                        var a, o, c, l, u, f, _, p, v = r._color._val, g = L._tiledTiles, m = L._texGrids, R = L._tiles,
                            B = L._texIdToMatIndex, z = L._materials, H = L._vertices, W = null, G = 0, j = 0, X = 0,
                            Y = 0, q = 0, Z = null, K = -1, J = 0, Q = !0;
                        for (-1 == i ? (l = e.row, u = t.row) : (l = t.row, u = e.row); (u - l) * i >= 0; l += i) for (a = H[l], Q = 0 == (J = L._getNodesCountByRow(l)) && null != a, 1 == n ? (o = Q && t.col < a.minCol ? a.minCol : t.col, c = Q && e.col > a.maxCol ? a.maxCol : e.col) : (o = Q && e.col > a.maxCol ? a.maxCol : e.col, c = Q && t.col < a.minCol ? a.minCol : t.col); (c - o) * n >= 0; o += n) (f = a && a[o]) ? (W = m[((G = R[f.index]) & h) >>> 0]) && (K !== W.texId && (-1 !== K && k(), p = B[K = W.texId], P = z[p], b.material = P), P && (j = f.left - w, X = f.bottom - M, Y = j + (_ = W.tileset._tileSize).width, q = X + _.height, (Z = g[f.index]) ? Z.node.active && (Z.node._color._fastSetA(Z.node._opacity * s / 255), this.fillByTiledNode(Z.node, N, F, j, Y, q, X)) : (N[S] = j, N[S + 1] = q, F[S + 4] = v, N[S + 5] = j, N[S + 6] = X, F[S + 9] = v, N[S + 10] = Y, N[S + 11] = q, F[S + 14] = v, N[S + 15] = Y, N[S + 16] = X, F[S + 19] = v), U(W, G), N[S + 2] = y.x, N[S + 3] = y.y, N[S + 7] = E.x, N[S + 8] = E.y, N[S + 12] = T.x, N[S + 13] = T.y, N[S + 17] = A.x, N[S + 18] = A.y, S += 20, D.adjust(4, 6), x._count += 6, C++, J > 0 && V(l, o), C >= d && k())) : J > 0 && V(l, o);
                        D.uploadData(), x._count > 0 && (I.material = b.material, I.node = L.node, I._flushIA(b.ia))
                    }
                }, r.fillByTiledNode = function (t, e, i, n, r, a, o) {
                    t._updateLocalMatrix(), s.Mat4.copy(v, t._matrix), s.Vec3.set(g, -(n + w), -(o + M), 0), s.Mat4.transform(v, v, g);
                    var c = v.m, l = c[0], h = c[1], u = c[4], f = c[5], d = c[12], _ = c[13], p = t._color._val;
                    e[S] = n * l + a * u + d, e[S + 1] = n * h + a * f + _, i[S + 4] = p, e[S + 5] = n * l + o * u + d, e[S + 6] = n * h + o * f + _, i[S + 9] = p, e[S + 10] = r * l + a * u + d, e[S + 11] = r * h + a * f + _, i[S + 14] = p, e[S + 15] = r * l + o * u + d, e[S + 16] = r * h + o * f + _, i[S + 19] = p
                }, n
            })(r.default);
            i.default = z, r.default.register(o, z), e.exports = i.default
        }), {
            "../core/renderer/": 199,
            "../core/renderer/assembler": 196,
            "../core/renderer/render-flow": 200,
            "../core/renderer/webgl/vertex-format": 239,
            "../core/value-types": 265,
            "./CCTiledLayer": 318,
            "./CCTiledMap": 319
        }],
        327: [(function (t) {
            "use strict";
            t("./cocos2d/core"), t("./cocos2d/animation"), t("./cocos2d/particle"), t("./cocos2d/tilemap"), t("./cocos2d/videoplayer/CCVideoPlayer"), t("./cocos2d/webview/CCWebView"), t("./cocos2d/core/components/CCStudioComponent"), t("./extensions/ccpool/CCNodePool"), t("./cocos2d/actions"), t("./extensions/spine"), t("./extensions/dragonbones"), t("./cocos2d/deprecated")
        }), {
            "./cocos2d/actions": 7,
            "./cocos2d/animation": 16,
            "./cocos2d/core": 160,
            "./cocos2d/core/components/CCStudioComponent": void 0,
            "./cocos2d/deprecated": 277,
            "./cocos2d/particle": void 0,
            "./cocos2d/particle/CCParticleAsset": 279,
            "./cocos2d/tilemap": 324,
            "./cocos2d/tilemap/CCTiledMapAsset": 320,
            "./cocos2d/videoplayer/CCVideoPlayer": void 0,
            "./cocos2d/webview/CCWebView": void 0,
            "./extensions/ccpool/CCNodePool": 328,
            "./extensions/dragonbones": void 0,
            "./extensions/spine": 331
        }],
        328: [(function (t, e) {
            "use strict";
            cc.NodePool = function (t) {
                this.poolHandlerComp = t, this._pool = []
            }, cc.NodePool.prototype = {
                constructor: cc.NodePool, size: function () {
                    return this._pool.length
                }, clear: function () {
                    for (var t = this._pool.length, e = 0; e < t; ++e) this._pool[e].destroy();
                    this._pool.length = 0
                }, put: function (t) {
                    if (t && -1 === this._pool.indexOf(t)) {
                        t.removeFromParent(!1);
                        var e = this.poolHandlerComp ? t.getComponent(this.poolHandlerComp) : null;
                        e && e.unuse && e.unuse(), this._pool.push(t)
                    }
                }, get: function () {
                    var t = this._pool.length - 1;
                    if (t < 0) return null;
                    var e = this._pool[t];
                    this._pool.length = t;
                    var i = this.poolHandlerComp ? e.getComponent(this.poolHandlerComp) : null;
                    return i && i.reuse && i.reuse.apply(i, arguments), e
                }
            }, e.exports = cc.NodePool
        }), {}],
        329: [(function (t, e) {
            "use strict";
            var i, n = (i = t("../../cocos2d/core/value-types/mat4")) && i.__esModule ? i : {default: i},
                r = t("../../cocos2d/core/renderer/render-flow").FLAG_TRANSFORM, s = function () {
                }, a = function (t) {
                    Object.defineProperty(t, "_worldMatDirty", {
                        get: function () {
                            return !0
                        }, set: function () {
                        }
                    }), t._calculWorldMatrix = s, t._mulMat = s
                }, o = new n.default, c = cc.Class({
                    name: "sp.AttachUtil", ctor: function () {
                        this._inited = !1, this._skeleton = null, this._skeletonNode = null, this._skeletonComp = null, this._attachedRootNode = null, this._attachedNodeArray = [], this._boneIndexToNode = {}
                    }, init: function (t) {
                        this._inited = !0, this._skeleton = t._skeleton, this._skeletonNode = t.node, this._skeletonComp = t
                    }, reset: function () {
                        this._inited = !1, this._skeleton = null, this._skeletonNode = null, this._skeletonComp = null
                    }, _prepareAttachNode: function () {
                        if (this._skeleton) {
                            var t = this._skeletonNode.getChildByName("ATTACHED_NODE_TREE");
                            return t && t.isValid || (t = new cc.Node("ATTACHED_NODE_TREE"), a(t), this._skeletonNode.addChild(t)), this._skeletonComp.isAnimationCached() && this._skeletonComp._frameCache && this._skeletonComp._frameCache.enableCacheAttachedInfo(), this._attachedRootNode = t, t
                        }
                    }, _buildBoneAttachedNode: function (t, e) {
                        var i = "ATTACHED_NODE:" + t.data.name, n = new cc.Node(i);
                        return this._buildBoneRelation(n, t, e), n
                    }, _buildBoneRelation: function (t, e, i) {
                        a(t), t._bone = e, t._boneIndex = i, this._attachedNodeArray.push(t), this._boneIndexToNode[i] = t
                    }, getAttachedRootNode: function () {
                        return this._attachedRootNode
                    }, getAttachedNodes: function (t) {
                        var e = this._attachedNodeArray, i = [];
                        if (!this._inited) return i;
                        for (var n = 0, r = e.length; n < r; n++) {
                            var s = e[n];
                            s && s.isValid && s.name === "ATTACHED_NODE:" + t && i.push(s)
                        }
                        return i
                    }, _rebuildNodeArray: function () {
                        for (var t = this._boneIndexToNode = {}, e = this._attachedNodeArray, i = this._attachedNodeArray = [], n = 0, r = e.length; n < r; n++) {
                            var s = e[n];
                            s && s.isValid && !s._toRemove && (i.push(s), t[s._boneIndex] = s)
                        }
                    }, _sortNodeArray: function () {
                        this._attachedNodeArray.sort((function (t, e) {
                            return t._boneIndex < e._boneIndex ? -1 : 1
                        }))
                    }, _getNodeByBoneIndex: function (t) {
                        var e = this._boneIndexToNode[t];
                        return e && e.isValid ? e : null
                    }, destroyAttachedNodes: function (t) {
                        if (this._inited) {
                            for (var e = this._attachedNodeArray, i = function t(e) {
                                for (var i = e.children, n = 0, r = i.length; n < r; n++) {
                                    var s = i[n];
                                    s && t(s)
                                }
                                e._toRemove = !0
                            }, n = 0, r = e.length; n < r; n++) {
                                var s = e[n];
                                s && s.isValid && s.name.split("ATTACHED_NODE:")[1] === t && (i(s), s.removeFromParent(!0), s.destroy(), e[n] = null)
                            }
                            this._rebuildNodeArray()
                        }
                    }, generateAttachedNodes: function (t) {
                        var e = [];
                        if (!this._inited) return e;
                        var i = this._prepareAttachNode();
                        if (!i) return e;
                        for (var n = [], r = this._skeleton.bones, s = 0, a = r.length; s < a; s++) {
                            var o = r[s];
                            o.data.name == t && n.push(o)
                        }
                        for (var c = function (t) {
                            if (t) {
                                var e = t.data, n = this._getNodeByBoneIndex(e.index);
                                if (n) return n;
                                n = this._buildBoneAttachedNode(t, e.index);
                                var r = c(t.parent) || i;
                                return n.parent = r, n
                            }
                        }.bind(this), l = 0, h = n.length; l < h; l++) {
                            var u = c(n[l]);
                            e.push(u)
                        }
                        return this._sortNodeArray(), e
                    }, destroyAllAttachedNodes: function () {
                        if (this._attachedRootNode = null, this._attachedNodeArray.length = 0, this._boneIndexToNode = {}, this._inited) {
                            var t = this._skeletonNode.getChildByName("ATTACHED_NODE_TREE");
                            t && (t.removeFromParent(!0), t.destroy(), t = null)
                        }
                    }, generateAllAttachedNodes: function () {
                        if (this._inited) {
                            this._boneIndexToNode = {}, this._attachedNodeArray.length = 0;
                            var t = this._prepareAttachNode();
                            if (t) {
                                for (var e = this._skeleton.bones, i = 0, n = e.length; i < n; i++) {
                                    var r = e[i], s = r.data, a = null;
                                    if (r.parent) {
                                        var o = r.parent.data.index;
                                        a = this._boneIndexToNode[o]
                                    } else a = t;
                                    if (a) {
                                        var c = a.getChildByName("ATTACHED_NODE:" + s.name);
                                        c && c.isValid ? this._buildBoneRelation(c, r, s.index) : (c = this._buildBoneAttachedNode(r, s.index), a.addChild(c))
                                    }
                                }
                                return t
                            }
                        }
                    }, _hasAttachedNode: function () {
                        return !!this._inited && !!this._skeletonNode.getChildByName("ATTACHED_NODE_TREE")
                    }, _associateAttachedNode: function () {
                        if (this._inited) {
                            var t = this._skeletonNode.getChildByName("ATTACHED_NODE_TREE");
                            if (t && t.isValid) {
                                this._attachedRootNode = t, this._boneIndexToNode = {}, this._attachedNodeArray.length = 0, a(t), this._skeletonComp.isAnimationCached() && this._skeletonComp._frameCache && this._skeletonComp._frameCache.enableCacheAttachedInfo();
                                for (var e = this._skeleton.bones, i = 0, n = e.length; i < n; i++) {
                                    var r = e[i], s = r.data, o = null;
                                    if (r.parent) {
                                        var c = r.parent.data.index;
                                        o = this._boneIndexToNode[c]
                                    } else o = t;
                                    if (o) {
                                        var l = o.getChildByName("ATTACHED_NODE:" + s.name);
                                        l && l.isValid && this._buildBoneRelation(l, r, s.index)
                                    }
                                }
                            }
                        }
                    }, _syncAttachedNode: function () {
                        if (this._inited) {
                            var t = this._attachedRootNode, e = this._attachedNodeArray;
                            if (!t || !t.isValid) return this._attachedRootNode = null, void (e.length = 0);
                            var i = this._skeletonNode._worldMatrix;
                            n.default.copy(t._worldMatrix, i), t._renderFlag &= ~r;
                            var s;
                            if (s = this._skeletonComp.isAnimationCached() ? this._skeletonComp._curFrame && this._skeletonComp._curFrame.boneInfos : this._skeleton.bones) {
                                for (var a = this._skeletonNode._mulMat, c = function (t, e, i) {
                                    var n = o.m;
                                    n[0] = i.a, n[1] = i.c, n[4] = i.b, n[5] = i.d, n[12] = i.worldX, n[13] = i.worldY, a(t, e, o)
                                }, l = !1, h = 0, u = e.length; h < u; h++) {
                                    var f = e[h];
                                    if (f && f.isValid) {
                                        var d = s[f._boneIndex];
                                        d ? (c(f._worldMatrix, t._worldMatrix, d), f._renderFlag &= ~r) : (f.removeFromParent(!0), f.destroy(), e[h] = null, l = !0)
                                    } else e[h] = null, l = !0
                                }
                                l && this._rebuildNodeArray()
                            }
                        }
                    }
                });
            e.exports = sp.AttachUtil = c
        }), {"../../cocos2d/core/renderer/render-flow": 200, "../../cocos2d/core/value-types/mat4": 267}],
        330: [(function (t, e) {
            "use strict";
            var i = t("./track-entry-listeners"), n = t("../../cocos2d/core/components/CCRenderComponent"),
                r = t("./lib/spine"), s = t("../../cocos2d/core/graphics/graphics"),
                a = t("../../cocos2d/core/renderer/render-flow").FLAG_POST_RENDER, o = t("./skeleton-cache"),
                c = t("./AttachUtil"), l = cc.Enum({default: -1}), h = cc.Enum({"<None>": 0}),
                u = cc.Enum({REALTIME: 0, SHARED_CACHE: 1, PRIVATE_CACHE: 2});
            sp.Skeleton = cc.Class({
                name: "sp.Skeleton",
                extends: n,
                editor: !1,
                statics: {AnimationCacheMode: u},
                properties: {
                    paused: {default: !1, visible: !1},
                    skeletonData: {
                        default: null, type: sp.SkeletonData, notify: function () {
                            this.defaultSkin = "", this.defaultAnimation = "", this._updateSkeletonData()
                        }, tooltip: !1
                    },
                    defaultSkin: {default: "", visible: !1},
                    defaultAnimation: {default: "", visible: !1},
                    animation: {
                        get: function () {
                            if (this.isAnimationCached()) return this._animationName;
                            var t = this.getCurrent(0);
                            return t && t.animation.name || ""
                        }, set: function (t) {
                            this.defaultAnimation = t, t ? this.setAnimation(0, t, this.loop) : this.isAnimationCached() || (this.clearTrack(0), this.setToSetupPose())
                        }, visible: !1
                    },
                    _defaultSkinIndex: {
                        get: function () {
                            if (this.skeletonData) {
                                var t = this.skeletonData.getSkinsEnum();
                                if (t) if ("" === this.defaultSkin) {
                                    if (t.hasOwnProperty(0)) return this._defaultSkinIndex = 0, 0
                                } else {
                                    var e = t[this.defaultSkin];
                                    if (void 0 !== e) return e
                                }
                            }
                            return 0
                        }, set: function (t) {
                            var e;
                            if (this.skeletonData && (e = this.skeletonData.getSkinsEnum()), !e) return cc.errorID("", this.name);
                            var i = e[t];
                            void 0 !== i ? (this.defaultSkin = i, this.setSkin(this.defaultSkin)) : cc.errorID(7501, this.name)
                        }, type: l, visible: !0, animatable: !1, displayName: "Default Skin", tooltip: !1
                    },
                    _animationIndex: {
                        get: function () {
                            var t = this.animation;
                            if (this.skeletonData && t) {
                                var e = this.skeletonData.getAnimsEnum();
                                if (e) {
                                    var i = e[t];
                                    if (void 0 !== i) return i
                                }
                            }
                            return 0
                        }, set: function (t) {
                            if (0 !== t) {
                                var e;
                                if (this.skeletonData && (e = this.skeletonData.getAnimsEnum()), !e) return cc.errorID(7502, this.name);
                                var i = e[t];
                                void 0 !== i ? this.animation = i : cc.errorID(7503, this.name)
                            } else this.animation = ""
                        }, type: h, visible: !0, animatable: !1, displayName: "Animation", tooltip: !1
                    },
                    _preCacheMode: -1,
                    _cacheMode: u.REALTIME,
                    _defaultCacheMode: {
                        default: 0, type: u, notify: function () {
                            this.setAnimationCacheMode(this._defaultCacheMode)
                        }, editorOnly: !0, visible: !0, animatable: !1, displayName: "Animation Cache Mode", tooltip: !1
                    },
                    loop: {default: !0, tooltip: !1},
                    premultipliedAlpha: {default: !0, tooltip: !1},
                    timeScale: {default: 1, tooltip: !1},
                    debugSlots: {
                        default: !1, editorOnly: !0, tooltip: !1, notify: function () {
                            this._updateDebugDraw()
                        }
                    },
                    debugBones: {
                        default: !1, editorOnly: !0, tooltip: !1, notify: function () {
                            this._updateDebugDraw()
                        }
                    },
                    debugMesh: {
                        default: !1, editorOnly: !0, tooltip: !1, notify: function () {
                            this._updateDebugDraw()
                        }
                    },
                    useTint: {
                        default: !1, tooltip: !1, notify: function () {
                            this._updateUseTint()
                        }
                    },
                    enableBatch: {
                        default: !1, notify: function () {
                            this._updateBatch()
                        }, tooltip: !1
                    },
                    _accTime: 0,
                    _playCount: 0,
                    _frameCache: null,
                    _curFrame: null,
                    _skeletonCache: null,
                    _animationName: "",
                    _animationQueue: [],
                    _headAniInfo: null,
                    _playTimes: 0,
                    _isAniComplete: !0
                },
                ctor: function () {
                    this._effectDelegate = null, this._skeleton = null, this._rootBone = null, this._listener = null, this._materialCache = {}, this._debugRenderer = null, this._startSlotIndex = -1, this._endSlotIndex = -1, this._startEntry = {
                        animation: {name: ""},
                        trackIndex: 0
                    }, this._endEntry = {animation: {name: ""}, trackIndex: 0}, this.attachUtil = new c
                },
                _getDefaultMaterial: function () {
                    return cc.Material.getBuiltinMaterial("2d-spine")
                },
                _updateMaterial: function () {
                    var t = this.useTint || this.isAnimationCached() && !0, e = this.getMaterial(0);
                    if (e) {
                        e.define("USE_TINT", t), e.define("CC_USE_MODEL", !this.enableBatch);
                        var i = this.premultipliedAlpha ? cc.gfx.BLEND_ONE : cc.gfx.BLEND_SRC_ALPHA,
                            n = cc.gfx.BLEND_ONE_MINUS_SRC_ALPHA;
                        e.setBlend(!0, cc.gfx.BLEND_FUNC_ADD, i, i, cc.gfx.BLEND_FUNC_ADD, n, n)
                    }
                    this._materialCache = {}
                },
                disableRender: function () {
                    this._super(), this.node._renderFlag &= ~a
                },
                markForRender: function (t) {
                    this._super(t), t ? this.node._renderFlag |= a : this.node._renderFlag &= ~a
                },
                _updateUseTint: function () {
                    var t = this.getMaterial(0);
                    if (t) {
                        var e = this.useTint || this.isAnimationCached() && !0;
                        t.define("USE_TINT", e)
                    }
                    this._materialCache = {}
                },
                _updateBatch: function () {
                    var t = this.getMaterial(0);
                    t && t.define("CC_USE_MODEL", !this.enableBatch), this._materialCache = {}
                },
                _validateRender: function () {
                    var t = this.skeletonData;
                    t && t.isTexturesLoaded() ? this._super() : this.disableRender()
                },
                setSkeletonData: function (t) {
                    if (null != t.width && null != t.height && this.node.setContentSize(t.width, t.height), this._cacheMode === u.SHARED_CACHE ? this._skeletonCache = o.sharedCache : this._cacheMode === u.PRIVATE_CACHE && (this._skeletonCache = new o, this._skeletonCache.enablePrivateMode()), this.isAnimationCached()) {
                        (this.debugBones || this.debugSlots) && cc.warn("Debug bones or slots is invalid in cached mode");
                        var e = this._skeletonCache.getSkeletonCache(this.skeletonData._uuid, t);
                        this._skeleton = e.skeleton, this._clipper = e.clipper, this._rootBone = this._skeleton.getRootBone()
                    } else this._skeleton = new r.Skeleton(t), this._clipper = new r.SkeletonClipping, this._rootBone = this._skeleton.getRootBone();
                    this.markForRender(!0)
                },
                setSlotsRange: function (t, e) {
                    this.isAnimationCached() ? cc.warn("Slots visible range can not be modified in cached mode.") : (this._startSlotIndex = t, this._endSlotIndex = e)
                },
                setAnimationStateData: function (t) {
                    if (this.isAnimationCached()) cc.warn("'setAnimationStateData' interface can not be invoked in cached mode."); else {
                        var e = new r.AnimationState(t);
                        this._listener && (this._state && this._state.removeListener(this._listener), e.addListener(this._listener)), this._state = e
                    }
                },
                __preload: function () {
                    this._super();
                    for (var t = this.node.children, e = 0, i = t.length; e < i; e++) {
                        var n = t[e];
                        n && "DEBUG_DRAW_NODE" === n._name && n.destroy()
                    }
                    this._updateSkeletonData(), this._updateDebugDraw(), this._updateUseTint(), this._updateBatch()
                },
                setAnimationCacheMode: function (t) {
                    this._preCacheMode !== t && (this._cacheMode = t, this._updateSkeletonData(), this._updateUseTint())
                },
                isAnimationCached: function () {
                    return this._cacheMode !== u.REALTIME
                },
                update: function (t) {
                    if (!this.paused) if (t *= this.timeScale * sp.timeScale, this.isAnimationCached()) {
                        if (this._isAniComplete) {
                            if (0 === this._animationQueue.length && !this._headAniInfo) {
                                var e = this._frameCache;
                                if (e && e.isInvalid()) {
                                    e.updateToFrame();
                                    var i = e.frames;
                                    this._curFrame = i[i.length - 1]
                                }
                                return
                            }
                            if (this._headAniInfo || (this._headAniInfo = this._animationQueue.shift()), this._accTime += t, this._accTime > this._headAniInfo.delay) {
                                var n = this._headAniInfo;
                                this._headAniInfo = null, this.setAnimation(0, n.animationName, n.loop)
                            }
                            return
                        }
                        this._updateCache(t)
                    } else this._updateRealtime(t)
                },
                _emitCacheCompleteEvent: function () {
                    this._listener && (this._endEntry.animation.name = this._animationName, this._listener.complete && this._listener.complete(this._endEntry), this._listener.end && this._listener.end(this._endEntry))
                },
                _updateCache: function (t) {
                    var e = this._frameCache;
                    if (e.isInited()) {
                        var i = e.frames, n = o.FrameTime;
                        0 == this._accTime && 0 == this._playCount && (this._startEntry.animation.name = this._animationName, this._listener && this._listener.start && this._listener.start(this._startEntry)), this._accTime += t;
                        var r = Math.floor(this._accTime / n);
                        if (e.isCompleted || e.updateToFrame(r), e.isCompleted && r >= i.length) {
                            if (this._playCount++, this._playTimes > 0 && this._playCount >= this._playTimes) return this._curFrame = i[i.length - 1], this._accTime = 0, this._playCount = 0, this._isAniComplete = !0, void this._emitCacheCompleteEvent();
                            this._accTime = 0, r = 0, this._emitCacheCompleteEvent()
                        }
                        this._curFrame = i[r]
                    }
                },
                _updateRealtime: function (t) {
                    var e = this._skeleton, i = this._state;
                    e && (e.update(t), i && (i.update(t), i.apply(e)))
                },
                setVertexEffectDelegate: function (t) {
                    this._effectDelegate = t
                },
                updateWorldTransform: function () {
                    this.isAnimationCached() && this._skeleton && this._skeleton.updateWorldTransform()
                },
                setToSetupPose: function () {
                    this._skeleton && this._skeleton.setToSetupPose()
                },
                setBonesToSetupPose: function () {
                    this._skeleton && this._skeleton.setBonesToSetupPose()
                },
                setSlotsToSetupPose: function () {
                    this._skeleton && this._skeleton.setSlotsToSetupPose()
                },
                updateAnimationCache: function (t) {
                    if (this.isAnimationCached()) {
                        var e = this.skeletonData._uuid;
                        this._skeletonCache && this._skeletonCache.updateAnimationCache(e, t)
                    }
                },
                invalidAnimationCache: function () {
                    this.isAnimationCached() && this._skeletonCache && this._skeletonCache.invalidAnimationCache(this.skeletonData._uuid)
                },
                findBone: function (t) {
                    return this._skeleton ? this._skeleton.findBone(t) : null
                },
                findSlot: function (t) {
                    return this._skeleton ? this._skeleton.findSlot(t) : null
                },
                setSkin: function (t) {
                    this._skeleton && (this._skeleton.setSkinByName(t), this._skeleton.setSlotsToSetupPose()), this.invalidAnimationCache()
                },
                getAttachment: function (t, e) {
                    return this._skeleton ? this._skeleton.getAttachmentByName(t, e) : null
                },
                setAttachment: function (t, e) {
                    this._skeleton && this._skeleton.setAttachment(t, e), this.invalidAnimationCache()
                },
                getTextureAtlas: function (t) {
                    return t.region
                },
                setMix: function (t, e, i) {
                    this._state && this._state.data.setMix(t, e, i)
                },
                setAnimation: function (t, e, i) {
                    if (this._playTimes = i ? 0 : 1, this._animationName = e, this.isAnimationCached()) {
                        if (0 !== t && cc.warn("Track index can not greater than 0 in cached mode."), !this._skeletonCache) return null;
                        var n = this._skeletonCache.getAnimationCache(this.skeletonData._uuid, e);
                        n || (n = this._skeletonCache.initAnimationCache(this.skeletonData._uuid, e)), n && (this._isAniComplete = !1, this._accTime = 0, this._playCount = 0, this._frameCache = n, this.attachUtil._hasAttachedNode() && this._frameCache.enableCacheAttachedInfo(), this._frameCache.updateToFrame(0), this._curFrame = this._frameCache.frames[0])
                    } else if (this._skeleton) {
                        var r = this._skeleton.data.findAnimation(e);
                        if (!r) return cc.logID(7509, e), null;
                        var s = this._state.setAnimationWith(t, r, i);
                        return this._state.apply(this._skeleton), s
                    }
                    return null
                },
                addAnimation: function (t, e, i, n) {
                    if (n = n || 0, this.isAnimationCached()) 0 !== t && cc.warn("Track index can not greater than 0 in cached mode."), this._animationQueue.push({
                        animationName: e,
                        loop: i,
                        delay: n
                    }); else if (this._skeleton) {
                        var r = this._skeleton.data.findAnimation(e);
                        return r ? this._state.addAnimationWith(t, r, i, n) : (cc.logID(7510, e), null)
                    }
                    return null
                },
                findAnimation: function (t) {
                    return this._skeleton ? this._skeleton.data.findAnimation(t) : null
                },
                getCurrent: function (t) {
                    if (this.isAnimationCached()) cc.warn("'getCurrent' interface can not be invoked in cached mode."); else if (this._state) return this._state.getCurrent(t);
                    return null
                },
                clearTracks: function () {
                    this.isAnimationCached() ? cc.warn("'clearTracks' interface can not be invoked in cached mode.") : this._state && this._state.clearTracks()
                },
                clearTrack: function (t) {
                    this.isAnimationCached() ? cc.warn("'clearTrack' interface can not be invoked in cached mode.") : this._state && this._state.clearTrack(t)
                },
                setStartListener: function (t) {
                    this._ensureListener(), this._listener.start = t
                },
                setInterruptListener: function (t) {
                    this._ensureListener(), this._listener.interrupt = t
                },
                setEndListener: function (t) {
                    this._ensureListener(), this._listener.end = t
                },
                setDisposeListener: function (t) {
                    this._ensureListener(), this._listener.dispose = t
                },
                setCompleteListener: function (t) {
                    this._ensureListener(), this._listener.complete = t
                },
                setEventListener: function (t) {
                    this._ensureListener(), this._listener.event = t
                },
                setTrackStartListener: function (t, e) {
                    i.getListeners(t).start = e
                },
                setTrackInterruptListener: function (t, e) {
                    i.getListeners(t).interrupt = e
                },
                setTrackEndListener: function (t, e) {
                    i.getListeners(t).end = e
                },
                setTrackDisposeListener: function (t, e) {
                    i.getListeners(t).dispose = e
                },
                setTrackCompleteListener: function (t, e) {
                    i.getListeners(t).complete = function (t) {
                        var i = Math.floor(t.trackTime / t.animationEnd);
                        e(t, i)
                    }
                },
                setTrackEventListener: function (t, e) {
                    i.getListeners(t).event = e
                },
                getState: function () {
                    return this._state
                },
                _resetDefaultAnim: !1,
                _resetDefaultSkin: !1,
                _updateAnimEnum: !1,
                _updateSkinEnum: !1,
                _ensureListener: function () {
                    this._listener || (this._listener = new i, this._state && this._state.addListener(this._listener))
                },
                _updateSkeletonData: function () {
                    if (this.skeletonData) {
                        var t = this.skeletonData.getRuntimeData();
                        if (t) {
                            try {
                                this.setSkeletonData(t), this.isAnimationCached() || this.setAnimationStateData(new r.AnimationStateData(this._skeleton.data)), this.defaultSkin && this.setSkin(this.defaultSkin)
                            } catch (e) {
                                cc.warn(e)
                            }
                            this.attachUtil.init(this), this.attachUtil._associateAttachedNode(), this._preCacheMode = this._cacheMode, this.animation = this.defaultAnimation
                        } else this.disableRender()
                    } else this.disableRender()
                },
                _refreshInspector: function () {
                    this._updateAnimEnum(), this._updateSkinEnum(), Editor.Utils.refreshSelectedInspector("node", this.node.uuid)
                },
                _updateDebugDraw: function () {
                    if (this.debugBones || this.debugSlots) {
                        if (!this._debugRenderer) {
                            var t = new cc.PrivateNode;
                            t.name = "DEBUG_DRAW_NODE";
                            var e = t.addComponent(s);
                            e.lineWidth = 1, e.strokeColor = cc.color(255, 0, 0, 255), this._debugRenderer = e
                        }
                        this._debugRenderer.node.parent = this.node, this.isAnimationCached() && cc.warn("Debug bones or slots is invalid in cached mode")
                    } else this._debugRenderer && (this._debugRenderer.node.parent = null)
                }
            }), e.exports = sp.Skeleton
        }), {
            "../../cocos2d/core/components/CCRenderComponent": 117,
            "../../cocos2d/core/graphics/graphics": 156,
            "../../cocos2d/core/renderer/render-flow": 200,
            "./AttachUtil": 329,
            "./lib/spine": 332,
            "./skeleton-cache": 333,
            "./track-entry-listeners": 337
        }],
        331: [(function (t) {
            "use strict";
            var e = "undefined" == typeof window ? global : window;
            e.spine = t("./lib/spine"), e.sp = e.sp || {}, sp._timeScale = 1, Object.defineProperty(sp, "timeScale", {
                get: function () {
                    return this._timeScale
                }, set: function (t) {
                    this._timeScale = t
                }, configurable: !0
            }), sp.ATTACHMENT_TYPE = {
                REGION: 0,
                BOUNDING_BOX: 1,
                MESH: 2,
                SKINNED_MESH: 3
            }, sp.AnimationEventType = cc.Enum({
                START: 0,
                INTERRUPT: 1,
                END: 2,
                DISPOSE: 3,
                COMPLETE: 4,
                EVENT: 5
            }), sp.spine = e.spine, t("./skeleton-texture"), t("./skeleton-data"), t("./vertex-effect-delegate"), t("./Skeleton"), t("./spine-assembler")
        }), {
            "./Skeleton": 330,
            "./lib/spine": 332,
            "./skeleton-data": 334,
            "./skeleton-texture": 335,
            "./spine-assembler": 336,
            "./vertex-effect-delegate": 338
        }],
        332: [(function (t, e) {
            "use strict";
            var i, n, r, s = (i = function (t, e) {
                return (i = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
                    t.__proto__ = e
                } || function (t, e) {
                    for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
                })(t, e)
            }, function (t, e) {
                function n() {
                    this.constructor = t
                }

                i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            });
            (function (t) {
                var e, i, n, r = (function () {
                    function t(t, e, i) {
                        if (null == t) throw new Error("name cannot be null.");
                        if (null == e) throw new Error("timelines cannot be null.");
                        this.name = t, this.timelines = e, this.timelineIds = [];
                        for (var n = 0; n < e.length; n++) this.timelineIds[e[n].getPropertyId()] = !0;
                        this.duration = i
                    }

                    return t.prototype.hasTimeline = function (t) {
                        return 1 == this.timelineIds[t]
                    }, t.prototype.apply = function (t, e, i, n, r, s, a, o) {
                        if (null == t) throw new Error("skeleton cannot be null.");
                        n && 0 != this.duration && (i %= this.duration, e > 0 && (e %= this.duration));
                        for (var c = this.timelines, l = 0, h = c.length; l < h; l++) c[l].apply(t, e, i, r, s, a, o)
                    }, t.binarySearch = function (t, e, i) {
                        void 0 === i && (i = 1);
                        var n = 0, r = t.length / i - 2;
                        if (0 == r) return i;
                        for (var s = r >>> 1; ;) {
                            if (t[(s + 1) * i] <= e ? n = s + 1 : r = s, n == r) return (n + 1) * i;
                            s = n + r >>> 1
                        }
                    }, t.linearSearch = function (t, e, i) {
                        for (var n = 0, r = t.length - i; n <= r; n += i) if (t[n] > e) return n;
                        return -1
                    }, t
                })();
                t.Animation = r, (function (t) {
                    t[t.setup = 0] = "setup", t[t.first = 1] = "first", t[t.replace = 2] = "replace", t[t.add = 3] = "add"
                })(e = t.MixBlend || (t.MixBlend = {})), (function (t) {
                    t[t.mixIn = 0] = "mixIn", t[t.mixOut = 1] = "mixOut"
                })(i = t.MixDirection || (t.MixDirection = {})), (function (t) {
                    t[t.rotate = 0] = "rotate", t[t.translate = 1] = "translate", t[t.scale = 2] = "scale", t[t.shear = 3] = "shear", t[t.attachment = 4] = "attachment", t[t.color = 5] = "color", t[t.deform = 6] = "deform", t[t.event = 7] = "event", t[t.drawOrder = 8] = "drawOrder", t[t.ikConstraint = 9] = "ikConstraint", t[t.transformConstraint = 10] = "transformConstraint", t[t.pathConstraintPosition = 11] = "pathConstraintPosition", t[t.pathConstraintSpacing = 12] = "pathConstraintSpacing", t[t.pathConstraintMix = 13] = "pathConstraintMix", t[t.twoColor = 14] = "twoColor"
                })(n = t.TimelineType || (t.TimelineType = {}));
                var a = (function () {
                    function e(i) {
                        if (i <= 0) throw new Error("frameCount must be > 0: " + i);
                        this.curves = t.Utils.newFloatArray((i - 1) * e.BEZIER_SIZE)
                    }

                    return e.prototype.getFrameCount = function () {
                        return this.curves.length / e.BEZIER_SIZE + 1
                    }, e.prototype.setLinear = function (t) {
                        this.curves[t * e.BEZIER_SIZE] = e.LINEAR
                    }, e.prototype.setStepped = function (t) {
                        this.curves[t * e.BEZIER_SIZE] = e.STEPPED
                    }, e.prototype.getCurveType = function (t) {
                        var i = t * e.BEZIER_SIZE;
                        if (i == this.curves.length) return e.LINEAR;
                        var n = this.curves[i];
                        return n == e.LINEAR ? e.LINEAR : n == e.STEPPED ? e.STEPPED : e.BEZIER
                    }, e.prototype.setCurve = function (t, i, n, r, s) {
                        var a = .03 * (2 * -i + r), o = .03 * (2 * -n + s), c = .006 * (3 * (i - r) + 1),
                            l = .006 * (3 * (n - s) + 1), h = 2 * a + c, u = 2 * o + l, f = .3 * i + a + .16666667 * c,
                            d = .3 * n + o + .16666667 * l, _ = t * e.BEZIER_SIZE, p = this.curves;
                        p[_++] = e.BEZIER;
                        for (var v = f, g = d, m = _ + e.BEZIER_SIZE - 1; _ < m; _ += 2) p[_] = v, p[_ + 1] = g, f += h, d += u, h += c, u += l, v += f, g += d
                    }, e.prototype.getCurvePercent = function (i, n) {
                        n = t.MathUtils.clamp(n, 0, 1);
                        var r = this.curves, s = i * e.BEZIER_SIZE, a = r[s];
                        if (a == e.LINEAR) return n;
                        if (a == e.STEPPED) return 0;
                        for (var o = 0, c = ++s, l = s + e.BEZIER_SIZE - 1; s < l; s += 2) if ((o = r[s]) >= n) {
                            var h = void 0, u = void 0;
                            return s == c ? (h = 0, u = 0) : (h = r[s - 2], u = r[s - 1]), u + (r[s + 1] - u) * (n - h) / (o - h)
                        }
                        var f = r[s - 1];
                        return f + (1 - f) * (n - o) / (1 - o)
                    }, e.LINEAR = 0, e.STEPPED = 1, e.BEZIER = 2, e.BEZIER_SIZE = 19, e
                })();
                t.CurveTimeline = a;
                var o = (function (i) {
                    function a(e) {
                        var n = i.call(this, e) || this;
                        return n.frames = t.Utils.newFloatArray(e << 1), n
                    }

                    return s(a, i), a.prototype.getPropertyId = function () {
                        return (n.rotate << 24) + this.boneIndex
                    }, a.prototype.setFrame = function (t, e, i) {
                        t <<= 1, this.frames[t] = e, this.frames[t + a.ROTATION] = i
                    }, a.prototype.apply = function (t, i, n, s, o, c) {
                        var l = this.frames, h = t.bones[this.boneIndex];
                        if (h.active) if (n < l[0]) switch (c) {
                            case e.setup:
                                return void (h.rotation = h.data.rotation);
                            case e.first:
                                var u = h.data.rotation - h.rotation;
                                h.rotation += (u - 360 * (16384 - (16384.499999999996 - u / 360 | 0))) * o
                        } else if (n >= l[l.length - a.ENTRIES]) {
                            var f = l[l.length + a.PREV_ROTATION];
                            switch (c) {
                                case e.setup:
                                    h.rotation = h.data.rotation + f * o;
                                    break;
                                case e.first:
                                case e.replace:
                                    f += h.data.rotation - h.rotation, f -= 360 * (16384 - (16384.499999999996 - f / 360 | 0));
                                case e.add:
                                    h.rotation += f * o
                            }
                        } else {
                            var d = r.binarySearch(l, n, a.ENTRIES), _ = l[d + a.PREV_ROTATION], p = l[d],
                                v = this.getCurvePercent((d >> 1) - 1, 1 - (n - p) / (l[d + a.PREV_TIME] - p)),
                                g = l[d + a.ROTATION] - _;
                            switch (g = _ + (g - 360 * (16384 - (16384.499999999996 - g / 360 | 0))) * v, c) {
                                case e.setup:
                                    h.rotation = h.data.rotation + (g - 360 * (16384 - (16384.499999999996 - g / 360 | 0))) * o;
                                    break;
                                case e.first:
                                case e.replace:
                                    g += h.data.rotation - h.rotation;
                                case e.add:
                                    h.rotation += (g - 360 * (16384 - (16384.499999999996 - g / 360 | 0))) * o
                            }
                        }
                    }, a.ENTRIES = 2, a.PREV_TIME = -2, a.PREV_ROTATION = -1, a.ROTATION = 1, a
                })(a);
                t.RotateTimeline = o;
                var c = (function (i) {
                    function a(e) {
                        var n = i.call(this, e) || this;
                        return n.frames = t.Utils.newFloatArray(e * a.ENTRIES), n
                    }

                    return s(a, i), a.prototype.getPropertyId = function () {
                        return (n.translate << 24) + this.boneIndex
                    }, a.prototype.setFrame = function (t, e, i, n) {
                        t *= a.ENTRIES, this.frames[t] = e, this.frames[t + a.X] = i, this.frames[t + a.Y] = n
                    }, a.prototype.apply = function (t, i, n, s, o, c) {
                        var l = this.frames, h = t.bones[this.boneIndex];
                        if (h.active) if (n < l[0]) switch (c) {
                            case e.setup:
                                return h.x = h.data.x, void (h.y = h.data.y);
                            case e.first:
                                h.x += (h.data.x - h.x) * o, h.y += (h.data.y - h.y) * o
                        } else {
                            var u = 0, f = 0;
                            if (n >= l[l.length - a.ENTRIES]) u = l[l.length + a.PREV_X], f = l[l.length + a.PREV_Y]; else {
                                var d = r.binarySearch(l, n, a.ENTRIES);
                                u = l[d + a.PREV_X], f = l[d + a.PREV_Y];
                                var _ = l[d],
                                    p = this.getCurvePercent(d / a.ENTRIES - 1, 1 - (n - _) / (l[d + a.PREV_TIME] - _));
                                u += (l[d + a.X] - u) * p, f += (l[d + a.Y] - f) * p
                            }
                            switch (c) {
                                case e.setup:
                                    h.x = h.data.x + u * o, h.y = h.data.y + f * o;
                                    break;
                                case e.first:
                                case e.replace:
                                    h.x += (h.data.x + u - h.x) * o, h.y += (h.data.y + f - h.y) * o;
                                    break;
                                case e.add:
                                    h.x += u * o, h.y += f * o
                            }
                        }
                    }, a.ENTRIES = 3, a.PREV_TIME = -3, a.PREV_X = -2, a.PREV_Y = -1, a.X = 1, a.Y = 2, a
                })(a);
                t.TranslateTimeline = c;
                var l = (function (a) {
                    function o(t) {
                        return a.call(this, t) || this
                    }

                    return s(o, a), o.prototype.getPropertyId = function () {
                        return (n.scale << 24) + this.boneIndex
                    }, o.prototype.apply = function (n, s, a, c, l, h, u) {
                        var f = this.frames, d = n.bones[this.boneIndex];
                        if (d.active) if (a < f[0]) switch (h) {
                            case e.setup:
                                return d.scaleX = d.data.scaleX, void (d.scaleY = d.data.scaleY);
                            case e.first:
                                d.scaleX += (d.data.scaleX - d.scaleX) * l, d.scaleY += (d.data.scaleY - d.scaleY) * l
                        } else {
                            var _ = 0, p = 0;
                            if (a >= f[f.length - o.ENTRIES]) _ = f[f.length + o.PREV_X] * d.data.scaleX, p = f[f.length + o.PREV_Y] * d.data.scaleY; else {
                                var v = r.binarySearch(f, a, o.ENTRIES);
                                _ = f[v + o.PREV_X], p = f[v + o.PREV_Y];
                                var g = f[v],
                                    m = this.getCurvePercent(v / o.ENTRIES - 1, 1 - (a - g) / (f[v + o.PREV_TIME] - g));
                                _ = (_ + (f[v + o.X] - _) * m) * d.data.scaleX, p = (p + (f[v + o.Y] - p) * m) * d.data.scaleY
                            }
                            if (1 == l) h == e.add ? (d.scaleX += _ - d.data.scaleX, d.scaleY += p - d.data.scaleY) : (d.scaleX = _, d.scaleY = p); else {
                                var y = 0, T = 0;
                                if (u == i.mixOut) switch (h) {
                                    case e.setup:
                                        y = d.data.scaleX, T = d.data.scaleY, d.scaleX = y + (Math.abs(_) * t.MathUtils.signum(y) - y) * l, d.scaleY = T + (Math.abs(p) * t.MathUtils.signum(T) - T) * l;
                                        break;
                                    case e.first:
                                    case e.replace:
                                        y = d.scaleX, T = d.scaleY, d.scaleX = y + (Math.abs(_) * t.MathUtils.signum(y) - y) * l, d.scaleY = T + (Math.abs(p) * t.MathUtils.signum(T) - T) * l;
                                        break;
                                    case e.add:
                                        y = d.scaleX, T = d.scaleY, d.scaleX = y + (Math.abs(_) * t.MathUtils.signum(y) - d.data.scaleX) * l, d.scaleY = T + (Math.abs(p) * t.MathUtils.signum(T) - d.data.scaleY) * l
                                } else switch (h) {
                                    case e.setup:
                                        y = Math.abs(d.data.scaleX) * t.MathUtils.signum(_), T = Math.abs(d.data.scaleY) * t.MathUtils.signum(p), d.scaleX = y + (_ - y) * l, d.scaleY = T + (p - T) * l;
                                        break;
                                    case e.first:
                                    case e.replace:
                                        y = Math.abs(d.scaleX) * t.MathUtils.signum(_), T = Math.abs(d.scaleY) * t.MathUtils.signum(p), d.scaleX = y + (_ - y) * l, d.scaleY = T + (p - T) * l;
                                        break;
                                    case e.add:
                                        y = t.MathUtils.signum(_), T = t.MathUtils.signum(p), d.scaleX = Math.abs(d.scaleX) * y + (_ - Math.abs(d.data.scaleX) * y) * l, d.scaleY = Math.abs(d.scaleY) * T + (p - Math.abs(d.data.scaleY) * T) * l
                                }
                            }
                        }
                    }, o
                })(c);
                t.ScaleTimeline = l;
                var h = (function (t) {
                    function i(e) {
                        return t.call(this, e) || this
                    }

                    return s(i, t), i.prototype.getPropertyId = function () {
                        return (n.shear << 24) + this.boneIndex
                    }, i.prototype.apply = function (t, n, s, a, o, c) {
                        var l = this.frames, h = t.bones[this.boneIndex];
                        if (h.active) if (s < l[0]) switch (c) {
                            case e.setup:
                                return h.shearX = h.data.shearX, void (h.shearY = h.data.shearY);
                            case e.first:
                                h.shearX += (h.data.shearX - h.shearX) * o, h.shearY += (h.data.shearY - h.shearY) * o
                        } else {
                            var u = 0, f = 0;
                            if (s >= l[l.length - i.ENTRIES]) u = l[l.length + i.PREV_X], f = l[l.length + i.PREV_Y]; else {
                                var d = r.binarySearch(l, s, i.ENTRIES);
                                u = l[d + i.PREV_X], f = l[d + i.PREV_Y];
                                var _ = l[d],
                                    p = this.getCurvePercent(d / i.ENTRIES - 1, 1 - (s - _) / (l[d + i.PREV_TIME] - _));
                                u += (l[d + i.X] - u) * p, f += (l[d + i.Y] - f) * p
                            }
                            switch (c) {
                                case e.setup:
                                    h.shearX = h.data.shearX + u * o, h.shearY = h.data.shearY + f * o;
                                    break;
                                case e.first:
                                case e.replace:
                                    h.shearX += (h.data.shearX + u - h.shearX) * o, h.shearY += (h.data.shearY + f - h.shearY) * o;
                                    break;
                                case e.add:
                                    h.shearX += u * o, h.shearY += f * o
                            }
                        }
                    }, i
                })(c);
                t.ShearTimeline = h;
                var u = (function (i) {
                    function a(e) {
                        var n = i.call(this, e) || this;
                        return n.frames = t.Utils.newFloatArray(e * a.ENTRIES), n
                    }

                    return s(a, i), a.prototype.getPropertyId = function () {
                        return (n.color << 24) + this.slotIndex
                    }, a.prototype.setFrame = function (t, e, i, n, r, s) {
                        t *= a.ENTRIES, this.frames[t] = e, this.frames[t + a.R] = i, this.frames[t + a.G] = n, this.frames[t + a.B] = r, this.frames[t + a.A] = s
                    }, a.prototype.apply = function (t, i, n, s, o, c) {
                        var l = t.slots[this.slotIndex];
                        if (l.bone.active) {
                            var h = this.frames;
                            if (n < h[0]) switch (c) {
                                case e.setup:
                                    return void l.color.setFromColor(l.data.color);
                                case e.first:
                                    var u = l.color, f = l.data.color;
                                    u.add((f.r - u.r) * o, (f.g - u.g) * o, (f.b - u.b) * o, (f.a - u.a) * o)
                            } else {
                                var d = 0, _ = 0, p = 0, v = 0;
                                if (n >= h[h.length - a.ENTRIES]) {
                                    var g = h.length;
                                    d = h[g + a.PREV_R], _ = h[g + a.PREV_G], p = h[g + a.PREV_B], v = h[g + a.PREV_A]
                                } else {
                                    var m = r.binarySearch(h, n, a.ENTRIES);
                                    d = h[m + a.PREV_R], _ = h[m + a.PREV_G], p = h[m + a.PREV_B], v = h[m + a.PREV_A];
                                    var y = h[m],
                                        T = this.getCurvePercent(m / a.ENTRIES - 1, 1 - (n - y) / (h[m + a.PREV_TIME] - y));
                                    d += (h[m + a.R] - d) * T, _ += (h[m + a.G] - _) * T, p += (h[m + a.B] - p) * T, v += (h[m + a.A] - v) * T
                                }
                                1 == o ? l.color.set(d, _, p, v) : (u = l.color, c == e.setup && u.setFromColor(l.data.color), u.add((d - u.r) * o, (_ - u.g) * o, (p - u.b) * o, (v - u.a) * o))
                            }
                        }
                    }, a.ENTRIES = 5, a.PREV_TIME = -5, a.PREV_R = -4, a.PREV_G = -3, a.PREV_B = -2, a.PREV_A = -1, a.R = 1, a.G = 2, a.B = 3, a.A = 4, a
                })(a);
                t.ColorTimeline = u;
                var f = (function (i) {
                    function a(e) {
                        var n = i.call(this, e) || this;
                        return n.frames = t.Utils.newFloatArray(e * a.ENTRIES), n
                    }

                    return s(a, i), a.prototype.getPropertyId = function () {
                        return (n.twoColor << 24) + this.slotIndex
                    }, a.prototype.setFrame = function (t, e, i, n, r, s, o, c, l) {
                        t *= a.ENTRIES, this.frames[t] = e, this.frames[t + a.R] = i, this.frames[t + a.G] = n, this.frames[t + a.B] = r, this.frames[t + a.A] = s, this.frames[t + a.R2] = o, this.frames[t + a.G2] = c, this.frames[t + a.B2] = l
                    }, a.prototype.apply = function (t, i, n, s, o, c) {
                        var l = t.slots[this.slotIndex];
                        if (l.bone.active) {
                            var h = this.frames;
                            if (n < h[0]) switch (c) {
                                case e.setup:
                                    return l.color.setFromColor(l.data.color), void l.darkColor.setFromColor(l.data.darkColor);
                                case e.first:
                                    var u = l.color, f = l.darkColor, d = l.data.color, _ = l.data.darkColor;
                                    u.add((d.r - u.r) * o, (d.g - u.g) * o, (d.b - u.b) * o, (d.a - u.a) * o), f.add((_.r - f.r) * o, (_.g - f.g) * o, (_.b - f.b) * o, 0)
                            } else {
                                var p = 0, v = 0, g = 0, m = 0, y = 0, T = 0, E = 0;
                                if (n >= h[h.length - a.ENTRIES]) {
                                    var A = h.length;
                                    p = h[A + a.PREV_R], v = h[A + a.PREV_G], g = h[A + a.PREV_B], m = h[A + a.PREV_A], y = h[A + a.PREV_R2], T = h[A + a.PREV_G2], E = h[A + a.PREV_B2]
                                } else {
                                    var b = r.binarySearch(h, n, a.ENTRIES);
                                    p = h[b + a.PREV_R], v = h[b + a.PREV_G], g = h[b + a.PREV_B], m = h[b + a.PREV_A], y = h[b + a.PREV_R2], T = h[b + a.PREV_G2], E = h[b + a.PREV_B2];
                                    var x = h[b],
                                        C = this.getCurvePercent(b / a.ENTRIES - 1, 1 - (n - x) / (h[b + a.PREV_TIME] - x));
                                    p += (h[b + a.R] - p) * C, v += (h[b + a.G] - v) * C, g += (h[b + a.B] - g) * C, m += (h[b + a.A] - m) * C, y += (h[b + a.R2] - y) * C, T += (h[b + a.G2] - T) * C, E += (h[b + a.B2] - E) * C
                                }
                                1 == o ? (l.color.set(p, v, g, m), l.darkColor.set(y, T, E, 1)) : (u = l.color, f = l.darkColor, c == e.setup && (u.setFromColor(l.data.color), f.setFromColor(l.data.darkColor)), u.add((p - u.r) * o, (v - u.g) * o, (g - u.b) * o, (m - u.a) * o), f.add((y - f.r) * o, (T - f.g) * o, (E - f.b) * o, 0))
                            }
                        }
                    }, a.ENTRIES = 8, a.PREV_TIME = -8, a.PREV_R = -7, a.PREV_G = -6, a.PREV_B = -5, a.PREV_A = -4, a.PREV_R2 = -3, a.PREV_G2 = -2, a.PREV_B2 = -1, a.R = 1, a.G = 2, a.B = 3, a.A = 4, a.R2 = 5, a.G2 = 6, a.B2 = 7, a
                })(a);
                t.TwoColorTimeline = f;
                var d = (function () {
                    function s(e) {
                        this.frames = t.Utils.newFloatArray(e), this.attachmentNames = new Array(e)
                    }

                    return s.prototype.getPropertyId = function () {
                        return (n.attachment << 24) + this.slotIndex
                    }, s.prototype.getFrameCount = function () {
                        return this.frames.length
                    }, s.prototype.setFrame = function (t, e, i) {
                        this.frames[t] = e, this.attachmentNames[t] = i
                    }, s.prototype.apply = function (t, n, s, a, o, c, l) {
                        var h = t.slots[this.slotIndex];
                        if (h.bone.active) if (l != i.mixOut || c != e.setup) {
                            var u = this.frames;
                            if (s < u[0]) {
                                if (c == e.setup || c == e.first) {
                                    var f = h.data.attachmentName;
                                    h.setAttachment(null == f ? null : t.getAttachment(this.slotIndex, f))
                                }
                            } else {
                                var d;
                                d = s >= u[u.length - 1] ? u.length - 1 : r.binarySearch(u, s, 1) - 1;
                                var _ = this.attachmentNames[d];
                                t.slots[this.slotIndex].setAttachment(null == _ ? null : t.getAttachment(this.slotIndex, _))
                            }
                        } else {
                            var p = h.data.attachmentName;
                            h.setAttachment(null == p ? null : t.getAttachment(this.slotIndex, p))
                        }
                    }, s
                })();
                t.AttachmentTimeline = d;
                var _ = null, p = (function (i) {
                    function a(e) {
                        var n = i.call(this, e) || this;
                        return n.frames = t.Utils.newFloatArray(e), n.frameVertices = new Array(e), null == _ && (_ = t.Utils.newFloatArray(64)), n
                    }

                    return s(a, i), a.prototype.getPropertyId = function () {
                        return (n.deform << 27) + +this.attachment.id + this.slotIndex
                    }, a.prototype.setFrame = function (t, e, i) {
                        this.frames[t] = e, this.frameVertices[t] = i
                    }, a.prototype.apply = function (i, n, s, a, o, c) {
                        var l = i.slots[this.slotIndex];
                        if (l.bone.active) {
                            var h = l.getAttachment();
                            if (h instanceof t.VertexAttachment && h.deformAttachment == this.attachment) {
                                var u = l.deform;
                                0 == u.length && (c = e.setup);
                                var f = this.frameVertices, d = f[0].length, _ = this.frames;
                                if (s < _[0]) {
                                    var p = h;
                                    switch (c) {
                                        case e.setup:
                                            return void (u.length = 0);
                                        case e.first:
                                            if (1 == o) {
                                                u.length = 0;
                                                break
                                            }
                                            var v = t.Utils.setArraySize(u, d);
                                            if (null == p.bones) for (var g = p.vertices, m = 0; m < d; m++) v[m] += (g[m] - v[m]) * o; else for (o = 1 - o, m = 0; m < d; m++) v[m] *= o
                                    }
                                } else {
                                    var y = t.Utils.setArraySize(u, d);
                                    if (s >= _[_.length - 1]) {
                                        var T = f[_.length - 1];
                                        if (1 == o) if (c == e.add) if (null == (p = h).bones) {
                                            g = p.vertices;
                                            for (var E = 0; E < d; E++) y[E] += T[E] - g[E]
                                        } else for (var A = 0; A < d; A++) y[A] += T[A]; else t.Utils.arrayCopy(T, 0, y, 0, d); else switch (c) {
                                            case e.setup:
                                                var b = h;
                                                if (null == b.bones) {
                                                    g = b.vertices;
                                                    for (var x = 0; x < d; x++) {
                                                        var C = g[x];
                                                        y[x] = C + (T[x] - C) * o
                                                    }
                                                } else for (var S = 0; S < d; S++) y[S] = T[S] * o;
                                                break;
                                            case e.first:
                                            case e.replace:
                                                for (var w = 0; w < d; w++) y[w] += (T[w] - y[w]) * o;
                                            case e.add:
                                                if (null == (p = h).bones) {
                                                    g = p.vertices;
                                                    for (var M = 0; M < d; M++) y[M] += (T[M] - g[M]) * o
                                                } else for (var R = 0; R < d; R++) y[R] += T[R] * o
                                        }
                                    } else {
                                        var I = r.binarySearch(_, s), O = f[I - 1], D = f[I], P = _[I],
                                            L = this.getCurvePercent(I - 1, 1 - (s - P) / (_[I - 1] - P));
                                        if (1 == o) if (c == e.add) if (null == (p = h).bones) {
                                            g = p.vertices;
                                            for (var N = 0; N < d; N++) {
                                                var F = O[N];
                                                y[N] += F + (D[N] - F) * L - g[N]
                                            }
                                        } else for (var B = 0; B < d; B++) F = O[B], y[B] += F + (D[B] - F) * L; else for (var k = 0; k < d; k++) F = O[k], y[k] = F + (D[k] - F) * L; else switch (c) {
                                            case e.setup:
                                                var V = h;
                                                if (null == V.bones) {
                                                    g = V.vertices;
                                                    for (var U = 0; U < d; U++) F = O[U], C = g[U], y[U] = C + (F + (D[U] - F) * L - C) * o
                                                } else for (var z = 0; z < d; z++) F = O[z], y[z] = (F + (D[z] - F) * L) * o;
                                                break;
                                            case e.first:
                                            case e.replace:
                                                for (var H = 0; H < d; H++) F = O[H], y[H] += (F + (D[H] - F) * L - y[H]) * o;
                                                break;
                                            case e.add:
                                                if (null == (p = h).bones) {
                                                    g = p.vertices;
                                                    for (var W = 0; W < d; W++) F = O[W], y[W] += (F + (D[W] - F) * L - g[W]) * o
                                                } else for (var G = 0; G < d; G++) F = O[G], y[G] += (F + (D[G] - F) * L) * o
                                        }
                                    }
                                }
                            }
                        }
                    }, a
                })(a);
                t.DeformTimeline = p;
                var v = (function () {
                    function e(e) {
                        this.frames = t.Utils.newFloatArray(e), this.events = new Array(e)
                    }

                    return e.prototype.getPropertyId = function () {
                        return n.event << 24
                    }, e.prototype.getFrameCount = function () {
                        return this.frames.length
                    }, e.prototype.setFrame = function (t, e) {
                        this.frames[t] = e.time, this.events[t] = e
                    }, e.prototype.apply = function (t, e, i, n, s, a, o) {
                        if (null != n) {
                            var c = this.frames, l = this.frames.length;
                            if (e > i) this.apply(t, e, Number.MAX_VALUE, n, s, a, o), e = -1; else if (e >= c[l - 1]) return;
                            if (!(i < c[0])) {
                                var h = 0;
                                if (e < c[0]) h = 0; else for (var u = c[h = r.binarySearch(c, e)]; h > 0 && c[h - 1] == u;) h--;
                                for (; h < l && i >= c[h]; h++) n.push(this.events[h])
                            }
                        }
                    }, e
                })();
                t.EventTimeline = v;
                var g = (function () {
                    function s(e) {
                        this.frames = t.Utils.newFloatArray(e), this.drawOrders = new Array(e)
                    }

                    return s.prototype.getPropertyId = function () {
                        return n.drawOrder << 24
                    }, s.prototype.getFrameCount = function () {
                        return this.frames.length
                    }, s.prototype.setFrame = function (t, e, i) {
                        this.frames[t] = e, this.drawOrders[t] = i
                    }, s.prototype.apply = function (n, s, a, o, c, l, h) {
                        var u = n.drawOrder, f = n.slots;
                        if (h != i.mixOut || l != e.setup) {
                            var d = this.frames;
                            if (a < d[0]) l != e.setup && l != e.first || t.Utils.arrayCopy(n.slots, 0, n.drawOrder, 0, n.slots.length); else {
                                var _;
                                _ = a >= d[d.length - 1] ? d.length - 1 : r.binarySearch(d, a) - 1;
                                var p = this.drawOrders[_];
                                if (null == p) t.Utils.arrayCopy(f, 0, u, 0, f.length); else for (var v = 0, g = p.length; v < g; v++) u[v] = f[p[v]]
                            }
                        } else t.Utils.arrayCopy(n.slots, 0, n.drawOrder, 0, n.slots.length)
                    }, s
                })();
                t.DrawOrderTimeline = g;
                var m = (function (a) {
                    function o(e) {
                        var i = a.call(this, e) || this;
                        return i.frames = t.Utils.newFloatArray(e * o.ENTRIES), i
                    }

                    return s(o, a), o.prototype.getPropertyId = function () {
                        return (n.ikConstraint << 24) + this.ikConstraintIndex
                    }, o.prototype.setFrame = function (t, e, i, n, r, s, a) {
                        t *= o.ENTRIES, this.frames[t] = e, this.frames[t + o.MIX] = i, this.frames[t + o.SOFTNESS] = n, this.frames[t + o.BEND_DIRECTION] = r, this.frames[t + o.COMPRESS] = s ? 1 : 0, this.frames[t + o.STRETCH] = a ? 1 : 0
                    }, o.prototype.apply = function (t, n, s, a, c, l, h) {
                        var u = this.frames, f = t.ikConstraints[this.ikConstraintIndex];
                        if (f.active) if (s < u[0]) switch (l) {
                            case e.setup:
                                return f.mix = f.data.mix, f.softness = f.data.softness, f.bendDirection = f.data.bendDirection, f.compress = f.data.compress, void (f.stretch = f.data.stretch);
                            case e.first:
                                f.mix += (f.data.mix - f.mix) * c, f.softness += (f.data.softness - f.softness) * c, f.bendDirection = f.data.bendDirection, f.compress = f.data.compress, f.stretch = f.data.stretch
                        } else if (s >= u[u.length - o.ENTRIES]) l == e.setup ? (f.mix = f.data.mix + (u[u.length + o.PREV_MIX] - f.data.mix) * c, f.softness = f.data.softness + (u[u.length + o.PREV_SOFTNESS] - f.data.softness) * c, h == i.mixOut ? (f.bendDirection = f.data.bendDirection, f.compress = f.data.compress, f.stretch = f.data.stretch) : (f.bendDirection = u[u.length + o.PREV_BEND_DIRECTION], f.compress = 0 != u[u.length + o.PREV_COMPRESS], f.stretch = 0 != u[u.length + o.PREV_STRETCH])) : (f.mix += (u[u.length + o.PREV_MIX] - f.mix) * c, f.softness += (u[u.length + o.PREV_SOFTNESS] - f.softness) * c, h == i.mixIn && (f.bendDirection = u[u.length + o.PREV_BEND_DIRECTION], f.compress = 0 != u[u.length + o.PREV_COMPRESS], f.stretch = 0 != u[u.length + o.PREV_STRETCH])); else {
                            var d = r.binarySearch(u, s, o.ENTRIES), _ = u[d + o.PREV_MIX], p = u[d + o.PREV_SOFTNESS],
                                v = u[d],
                                g = this.getCurvePercent(d / o.ENTRIES - 1, 1 - (s - v) / (u[d + o.PREV_TIME] - v));
                            l == e.setup ? (f.mix = f.data.mix + (_ + (u[d + o.MIX] - _) * g - f.data.mix) * c, f.softness = f.data.softness + (p + (u[d + o.SOFTNESS] - p) * g - f.data.softness) * c, h == i.mixOut ? (f.bendDirection = f.data.bendDirection, f.compress = f.data.compress, f.stretch = f.data.stretch) : (f.bendDirection = u[d + o.PREV_BEND_DIRECTION], f.compress = 0 != u[d + o.PREV_COMPRESS], f.stretch = 0 != u[d + o.PREV_STRETCH])) : (f.mix += (_ + (u[d + o.MIX] - _) * g - f.mix) * c, f.softness += (p + (u[d + o.SOFTNESS] - p) * g - f.softness) * c, h == i.mixIn && (f.bendDirection = u[d + o.PREV_BEND_DIRECTION], f.compress = 0 != u[d + o.PREV_COMPRESS], f.stretch = 0 != u[d + o.PREV_STRETCH]))
                        }
                    }, o.ENTRIES = 6, o.PREV_TIME = -6, o.PREV_MIX = -5, o.PREV_SOFTNESS = -4, o.PREV_BEND_DIRECTION = -3, o.PREV_COMPRESS = -2, o.PREV_STRETCH = -1, o.MIX = 1, o.SOFTNESS = 2, o.BEND_DIRECTION = 3, o.COMPRESS = 4, o.STRETCH = 5, o
                })(a);
                t.IkConstraintTimeline = m;
                var y = (function (i) {
                    function a(e) {
                        var n = i.call(this, e) || this;
                        return n.frames = t.Utils.newFloatArray(e * a.ENTRIES), n
                    }

                    return s(a, i), a.prototype.getPropertyId = function () {
                        return (n.transformConstraint << 24) + this.transformConstraintIndex
                    }, a.prototype.setFrame = function (t, e, i, n, r, s) {
                        t *= a.ENTRIES, this.frames[t] = e, this.frames[t + a.ROTATE] = i, this.frames[t + a.TRANSLATE] = n, this.frames[t + a.SCALE] = r, this.frames[t + a.SHEAR] = s
                    }, a.prototype.apply = function (t, i, n, s, o, c) {
                        var l = this.frames, h = t.transformConstraints[this.transformConstraintIndex];
                        if (h.active) if (n < l[0]) {
                            var u = h.data;
                            switch (c) {
                                case e.setup:
                                    return h.rotateMix = u.rotateMix, h.translateMix = u.translateMix, h.scaleMix = u.scaleMix, void (h.shearMix = u.shearMix);
                                case e.first:
                                    h.rotateMix += (u.rotateMix - h.rotateMix) * o, h.translateMix += (u.translateMix - h.translateMix) * o, h.scaleMix += (u.scaleMix - h.scaleMix) * o, h.shearMix += (u.shearMix - h.shearMix) * o
                            }
                        } else {
                            var f = 0, d = 0, _ = 0, p = 0;
                            if (n >= l[l.length - a.ENTRIES]) {
                                var v = l.length;
                                f = l[v + a.PREV_ROTATE], d = l[v + a.PREV_TRANSLATE], _ = l[v + a.PREV_SCALE], p = l[v + a.PREV_SHEAR]
                            } else {
                                var g = r.binarySearch(l, n, a.ENTRIES);
                                f = l[g + a.PREV_ROTATE], d = l[g + a.PREV_TRANSLATE], _ = l[g + a.PREV_SCALE], p = l[g + a.PREV_SHEAR];
                                var m = l[g],
                                    y = this.getCurvePercent(g / a.ENTRIES - 1, 1 - (n - m) / (l[g + a.PREV_TIME] - m));
                                f += (l[g + a.ROTATE] - f) * y, d += (l[g + a.TRANSLATE] - d) * y, _ += (l[g + a.SCALE] - _) * y, p += (l[g + a.SHEAR] - p) * y
                            }
                            c == e.setup ? (u = h.data, h.rotateMix = u.rotateMix + (f - u.rotateMix) * o, h.translateMix = u.translateMix + (d - u.translateMix) * o, h.scaleMix = u.scaleMix + (_ - u.scaleMix) * o, h.shearMix = u.shearMix + (p - u.shearMix) * o) : (h.rotateMix += (f - h.rotateMix) * o, h.translateMix += (d - h.translateMix) * o, h.scaleMix += (_ - h.scaleMix) * o, h.shearMix += (p - h.shearMix) * o)
                        }
                    }, a.ENTRIES = 5, a.PREV_TIME = -5, a.PREV_ROTATE = -4, a.PREV_TRANSLATE = -3, a.PREV_SCALE = -2, a.PREV_SHEAR = -1, a.ROTATE = 1, a.TRANSLATE = 2, a.SCALE = 3, a.SHEAR = 4, a
                })(a);
                t.TransformConstraintTimeline = y;
                var T = (function (i) {
                    function a(e) {
                        var n = i.call(this, e) || this;
                        return n.frames = t.Utils.newFloatArray(e * a.ENTRIES), n
                    }

                    return s(a, i), a.prototype.getPropertyId = function () {
                        return (n.pathConstraintPosition << 24) + this.pathConstraintIndex
                    }, a.prototype.setFrame = function (t, e, i) {
                        t *= a.ENTRIES, this.frames[t] = e, this.frames[t + a.VALUE] = i
                    }, a.prototype.apply = function (t, i, n, s, o, c) {
                        var l = this.frames, h = t.pathConstraints[this.pathConstraintIndex];
                        if (h.active) if (n < l[0]) switch (c) {
                            case e.setup:
                                return void (h.position = h.data.position);
                            case e.first:
                                h.position += (h.data.position - h.position) * o
                        } else {
                            var u = 0;
                            if (n >= l[l.length - a.ENTRIES]) u = l[l.length + a.PREV_VALUE]; else {
                                var f = r.binarySearch(l, n, a.ENTRIES);
                                u = l[f + a.PREV_VALUE];
                                var d = l[f],
                                    _ = this.getCurvePercent(f / a.ENTRIES - 1, 1 - (n - d) / (l[f + a.PREV_TIME] - d));
                                u += (l[f + a.VALUE] - u) * _
                            }
                            c == e.setup ? h.position = h.data.position + (u - h.data.position) * o : h.position += (u - h.position) * o
                        }
                    }, a.ENTRIES = 2, a.PREV_TIME = -2, a.PREV_VALUE = -1, a.VALUE = 1, a
                })(a);
                t.PathConstraintPositionTimeline = T;
                var E = (function (t) {
                    function i(e) {
                        return t.call(this, e) || this
                    }

                    return s(i, t), i.prototype.getPropertyId = function () {
                        return (n.pathConstraintSpacing << 24) + this.pathConstraintIndex
                    }, i.prototype.apply = function (t, n, s, a, o, c) {
                        var l = this.frames, h = t.pathConstraints[this.pathConstraintIndex];
                        if (h.active) if (s < l[0]) switch (c) {
                            case e.setup:
                                return void (h.spacing = h.data.spacing);
                            case e.first:
                                h.spacing += (h.data.spacing - h.spacing) * o
                        } else {
                            var u = 0;
                            if (s >= l[l.length - i.ENTRIES]) u = l[l.length + i.PREV_VALUE]; else {
                                var f = r.binarySearch(l, s, i.ENTRIES);
                                u = l[f + i.PREV_VALUE];
                                var d = l[f],
                                    _ = this.getCurvePercent(f / i.ENTRIES - 1, 1 - (s - d) / (l[f + i.PREV_TIME] - d));
                                u += (l[f + i.VALUE] - u) * _
                            }
                            c == e.setup ? h.spacing = h.data.spacing + (u - h.data.spacing) * o : h.spacing += (u - h.spacing) * o
                        }
                    }, i
                })(T);
                t.PathConstraintSpacingTimeline = E;
                var A = (function (i) {
                    function a(e) {
                        var n = i.call(this, e) || this;
                        return n.frames = t.Utils.newFloatArray(e * a.ENTRIES), n
                    }

                    return s(a, i), a.prototype.getPropertyId = function () {
                        return (n.pathConstraintMix << 24) + this.pathConstraintIndex
                    }, a.prototype.setFrame = function (t, e, i, n) {
                        t *= a.ENTRIES, this.frames[t] = e, this.frames[t + a.ROTATE] = i, this.frames[t + a.TRANSLATE] = n
                    }, a.prototype.apply = function (t, i, n, s, o, c) {
                        var l = this.frames, h = t.pathConstraints[this.pathConstraintIndex];
                        if (h.active) if (n < l[0]) switch (c) {
                            case e.setup:
                                return h.rotateMix = h.data.rotateMix, void (h.translateMix = h.data.translateMix);
                            case e.first:
                                h.rotateMix += (h.data.rotateMix - h.rotateMix) * o, h.translateMix += (h.data.translateMix - h.translateMix) * o
                        } else {
                            var u = 0, f = 0;
                            if (n >= l[l.length - a.ENTRIES]) u = l[l.length + a.PREV_ROTATE], f = l[l.length + a.PREV_TRANSLATE]; else {
                                var d = r.binarySearch(l, n, a.ENTRIES);
                                u = l[d + a.PREV_ROTATE], f = l[d + a.PREV_TRANSLATE];
                                var _ = l[d],
                                    p = this.getCurvePercent(d / a.ENTRIES - 1, 1 - (n - _) / (l[d + a.PREV_TIME] - _));
                                u += (l[d + a.ROTATE] - u) * p, f += (l[d + a.TRANSLATE] - f) * p
                            }
                            c == e.setup ? (h.rotateMix = h.data.rotateMix + (u - h.data.rotateMix) * o, h.translateMix = h.data.translateMix + (f - h.data.translateMix) * o) : (h.rotateMix += (u - h.rotateMix) * o, h.translateMix += (f - h.translateMix) * o)
                        }
                    }, a.ENTRIES = 3, a.PREV_TIME = -3, a.PREV_ROTATE = -2, a.PREV_TRANSLATE = -1, a.ROTATE = 1, a.TRANSLATE = 2, a
                })(a);
                t.PathConstraintMixTimeline = A
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e(e) {
                        this.tracks = new Array, this.timeScale = 1, this.events = new Array, this.listeners = new Array, this.queue = new r(this), this.propertyIDs = new t.IntSet, this.animationsChanged = !1, this.trackEntryPool = new t.Pool(function () {
                            return new i
                        }), this.data = e
                    }

                    return e.prototype.update = function (t) {
                        t *= this.timeScale;
                        for (var e = this.tracks, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (null != r) {
                                r.animationLast = r.nextAnimationLast, r.trackLast = r.nextTrackLast;
                                var s = t * r.timeScale;
                                if (r.delay > 0) {
                                    if (r.delay -= s, r.delay > 0) continue;
                                    s = -r.delay, r.delay = 0
                                }
                                var a = r.next;
                                if (null != a) {
                                    var o = r.trackLast - a.delay;
                                    if (o >= 0) {
                                        for (a.delay = 0, a.trackTime += 0 == r.timeScale ? 0 : (o / r.timeScale + t) * a.timeScale, r.trackTime += s, this.setCurrent(i, a, !0); null != a.mixingFrom;) a.mixTime += t, a = a.mixingFrom;
                                        continue
                                    }
                                } else if (r.trackLast >= r.trackEnd && null == r.mixingFrom) {
                                    e[i] = null, this.queue.end(r), this.disposeNext(r);
                                    continue
                                }
                                if (null != r.mixingFrom && this.updateMixingFrom(r, t)) {
                                    var c = r.mixingFrom;
                                    for (r.mixingFrom = null, null != c && (c.mixingTo = null); null != c;) this.queue.end(c), c = c.mixingFrom
                                }
                                r.trackTime += s
                            }
                        }
                        this.queue.drain()
                    }, e.prototype.updateMixingFrom = function (t, e) {
                        var i = t.mixingFrom;
                        if (null == i) return !0;
                        var n = this.updateMixingFrom(i, e);
                        return i.animationLast = i.nextAnimationLast, i.trackLast = i.nextTrackLast, t.mixTime > 0 && t.mixTime >= t.mixDuration ? (0 != i.totalAlpha && 0 != t.mixDuration || (t.mixingFrom = i.mixingFrom, null != i.mixingFrom && (i.mixingFrom.mixingTo = t), t.interruptAlpha = i.interruptAlpha, this.queue.end(i)), n) : (i.trackTime += e * i.timeScale, t.mixTime += e, !1)
                    }, e.prototype.apply = function (i) {
                        if (null == i) throw new Error("skeleton cannot be null.");
                        this.animationsChanged && this._animationsChanged();
                        for (var n = this.events, r = this.tracks, s = !1, a = 0, o = r.length; a < o; a++) {
                            var c = r[a];
                            if (!(null == c || c.delay > 0)) {
                                s = !0;
                                var l = 0 == a ? t.MixBlend.first : c.mixBlend, h = c.alpha;
                                null != c.mixingFrom ? h *= this.applyMixingFrom(c, i, l) : c.trackTime >= c.trackEnd && null == c.next && (h = 0);
                                var u = c.animationLast, f = c.getAnimationTime(), d = c.animation.timelines.length,
                                    _ = c.animation.timelines;
                                if (0 == a && 1 == h || l == t.MixBlend.add) for (var p = 0; p < d; p++) t.Utils.webkit602BugfixHelper(h, l), _[p].apply(i, u, f, n, h, l, t.MixDirection.mixIn); else {
                                    var v = c.timelineMode, g = 0 == c.timelinesRotation.length;
                                    g && t.Utils.setArraySize(c.timelinesRotation, d << 1, null);
                                    var m = c.timelinesRotation;
                                    for (p = 0; p < d; p++) {
                                        var y = _[p],
                                            T = (v[p] & e.NOT_LAST - 1) == e.SUBSEQUENT ? l : t.MixBlend.setup;
                                        y instanceof t.RotateTimeline ? this.applyRotateTimeline(y, i, f, h, T, m, p << 1, g) : (t.Utils.webkit602BugfixHelper(h, l), y.apply(i, u, f, n, h, T, t.MixDirection.mixIn))
                                    }
                                }
                                this.queueEvents(c, f), n.length = 0, c.nextAnimationLast = f, c.nextTrackLast = c.trackTime
                            }
                        }
                        return this.queue.drain(), s
                    }, e.prototype.applyMixingFrom = function (i, n, r) {
                        var s = i.mixingFrom;
                        null != s.mixingFrom && this.applyMixingFrom(s, n, r);
                        var a = 0;
                        0 == i.mixDuration ? (a = 1, r == t.MixBlend.first && (r = t.MixBlend.setup)) : ((a = i.mixTime / i.mixDuration) > 1 && (a = 1), r != t.MixBlend.first && (r = s.mixBlend));
                        var o = a < s.eventThreshold ? this.events : null, c = a < s.attachmentThreshold,
                            l = a < s.drawOrderThreshold, h = s.animationLast, u = s.getAnimationTime(),
                            f = s.animation.timelines.length, d = s.animation.timelines, _ = s.alpha * i.interruptAlpha,
                            p = _ * (1 - a);
                        if (r == t.MixBlend.add) for (var v = 0; v < f; v++) d[v].apply(n, h, u, o, p, r, t.MixDirection.mixOut); else {
                            var g = s.timelineMode, m = s.timelineHoldMix, y = 0 == s.timelinesRotation.length;
                            y && t.Utils.setArraySize(s.timelinesRotation, f << 1, null);
                            var T = s.timelinesRotation;
                            for (s.totalAlpha = 0, v = 0; v < f; v++) {
                                var E = d[v], A = t.MixDirection.mixOut, b = void 0, x = 0;
                                switch (g[v] & e.NOT_LAST - 1) {
                                    case e.SUBSEQUENT:
                                        if (b = r, !c && E instanceof t.AttachmentTimeline) {
                                            if ((g[v] & e.NOT_LAST) == e.NOT_LAST) continue;
                                            b = t.MixBlend.setup
                                        }
                                        if (!l && E instanceof t.DrawOrderTimeline) continue;
                                        x = p;
                                        break;
                                    case e.FIRST:
                                        b = t.MixBlend.setup, x = p;
                                        break;
                                    case e.HOLD:
                                        b = t.MixBlend.setup, x = _;
                                        break;
                                    default:
                                        b = t.MixBlend.setup;
                                        var C = m[v];
                                        x = _ * Math.max(0, 1 - C.mixTime / C.mixDuration)
                                }
                                s.totalAlpha += x, E instanceof t.RotateTimeline ? this.applyRotateTimeline(E, n, u, x, b, T, v << 1, y) : (t.Utils.webkit602BugfixHelper(x, r), b == t.MixBlend.setup && (E instanceof t.AttachmentTimeline ? (c || (g[v] & e.NOT_LAST) == e.NOT_LAST) && (A = t.MixDirection.mixIn) : E instanceof t.DrawOrderTimeline && l && (A = t.MixDirection.mixIn)), E.apply(n, h, u, o, x, b, A))
                            }
                        }
                        return i.mixDuration > 0 && this.queueEvents(s, u), this.events.length = 0, s.nextAnimationLast = u, s.nextTrackLast = s.trackTime, a
                    }, e.prototype.applyRotateTimeline = function (e, i, n, r, s, a, o, c) {
                        if (c && (a[o] = 0), 1 != r) {
                            var l = e, h = l.frames, u = i.bones[l.boneIndex];
                            if (u.active) {
                                var f = 0, d = 0;
                                if (n < h[0]) switch (s) {
                                    case t.MixBlend.setup:
                                        u.rotation = u.data.rotation;
                                    default:
                                        return;
                                    case t.MixBlend.first:
                                        f = u.rotation, d = u.data.rotation
                                } else if (f = s == t.MixBlend.setup ? u.data.rotation : u.rotation, n >= h[h.length - t.RotateTimeline.ENTRIES]) d = u.data.rotation + h[h.length + t.RotateTimeline.PREV_ROTATION]; else {
                                    var _ = t.Animation.binarySearch(h, n, t.RotateTimeline.ENTRIES),
                                        p = h[_ + t.RotateTimeline.PREV_ROTATION], v = h[_],
                                        g = l.getCurvePercent((_ >> 1) - 1, 1 - (n - v) / (h[_ + t.RotateTimeline.PREV_TIME] - v));
                                    d = h[_ + t.RotateTimeline.ROTATION] - p, d = p + (d -= 360 * (16384 - (16384.499999999996 - d / 360 | 0))) * g + u.data.rotation, d -= 360 * (16384 - (16384.499999999996 - d / 360 | 0))
                                }
                                var m = 0, y = d - f;
                                if (0 == (y -= 360 * (16384 - (16384.499999999996 - y / 360 | 0)))) m = a[o]; else {
                                    var T = 0, E = 0;
                                    c ? (T = 0, E = y) : (T = a[o], E = a[o + 1]);
                                    var A = y > 0, b = T >= 0;
                                    t.MathUtils.signum(E) != t.MathUtils.signum(y) && Math.abs(E) <= 90 && (Math.abs(T) > 180 && (T += 360 * t.MathUtils.signum(T)), b = A), m = y + T - T % 360, b != A && (m += 360 * t.MathUtils.signum(T)), a[o] = m
                                }
                                a[o + 1] = y, f += m * r, u.rotation = f - 360 * (16384 - (16384.499999999996 - f / 360 | 0))
                            }
                        } else e.apply(i, 0, n, null, 1, s, t.MixDirection.mixIn)
                    }, e.prototype.queueEvents = function (t, e) {
                        for (var i = t.animationStart, n = t.animationEnd, r = n - i, s = t.trackLast % r, a = this.events, o = 0, c = a.length; o < c; o++) {
                            var l = a[o];
                            if (l.time < s) break;
                            l.time > n || this.queue.event(t, l)
                        }
                        for ((t.loop ? 0 == r || s > t.trackTime % r : e >= n && t.animationLast < n) && this.queue.complete(t); o < c; o++) a[o].time < i || this.queue.event(t, a[o])
                    }, e.prototype.clearTracks = function () {
                        var t = this.queue.drainDisabled;
                        this.queue.drainDisabled = !0;
                        for (var e = 0, i = this.tracks.length; e < i; e++) this.clearTrack(e);
                        this.tracks.length = 0, this.queue.drainDisabled = t, this.queue.drain()
                    }, e.prototype.clearTrack = function (t) {
                        if (!(t >= this.tracks.length)) {
                            var e = this.tracks[t];
                            if (null != e) {
                                this.queue.end(e), this.disposeNext(e);
                                for (var i = e; ;) {
                                    var n = i.mixingFrom;
                                    if (null == n) break;
                                    this.queue.end(n), i.mixingFrom = null, i.mixingTo = null, i = n
                                }
                                this.tracks[e.trackIndex] = null, this.queue.drain()
                            }
                        }
                    }, e.prototype.setCurrent = function (t, e, i) {
                        var n = this.expandToIndex(t);
                        this.tracks[t] = e, null != n && (i && this.queue.interrupt(n), e.mixingFrom = n, n.mixingTo = e, e.mixTime = 0, null != n.mixingFrom && n.mixDuration > 0 && (e.interruptAlpha *= Math.min(1, n.mixTime / n.mixDuration)), n.timelinesRotation.length = 0), this.queue.start(e)
                    }, e.prototype.setAnimation = function (t, e, i) {
                        var n = this.data.skeletonData.findAnimation(e);
                        if (null == n) throw new Error("Animation not found: " + e);
                        return this.setAnimationWith(t, n, i)
                    }, e.prototype.setAnimationWith = function (t, e, i) {
                        if (null == e) throw new Error("animation cannot be null.");
                        var n = !0, r = this.expandToIndex(t);
                        null != r && (-1 == r.nextTrackLast ? (this.tracks[t] = r.mixingFrom, this.queue.interrupt(r), this.queue.end(r), this.disposeNext(r), r = r.mixingFrom, n = !1) : this.disposeNext(r));
                        var s = this.trackEntry(t, e, i, r);
                        return this.setCurrent(t, s, n), this.queue.drain(), s
                    }, e.prototype.addAnimation = function (t, e, i, n) {
                        var r = this.data.skeletonData.findAnimation(e);
                        if (null == r) throw new Error("Animation not found: " + e);
                        return this.addAnimationWith(t, r, i, n)
                    }, e.prototype.addAnimationWith = function (t, e, i, n) {
                        if (null == e) throw new Error("animation cannot be null.");
                        var r = this.expandToIndex(t);
                        if (null != r) for (; null != r.next;) r = r.next;
                        var s = this.trackEntry(t, e, i, r);
                        if (null == r) this.setCurrent(t, s, !0), this.queue.drain(); else if (r.next = s, n <= 0) {
                            var a = r.animationEnd - r.animationStart;
                            0 != a ? (r.loop ? n += a * (1 + (r.trackTime / a | 0)) : n += Math.max(a, r.trackTime), n -= this.data.getMix(r.animation, e)) : n = r.trackTime
                        }
                        return s.delay = n, s
                    }, e.prototype.setEmptyAnimation = function (t, i) {
                        var n = this.setAnimationWith(t, e.emptyAnimation, !1);
                        return n.mixDuration = i, n.trackEnd = i, n
                    }, e.prototype.addEmptyAnimation = function (t, i, n) {
                        n <= 0 && (n -= i);
                        var r = this.addAnimationWith(t, e.emptyAnimation, !1, n);
                        return r.mixDuration = i, r.trackEnd = i, r
                    }, e.prototype.setEmptyAnimations = function (t) {
                        var e = this.queue.drainDisabled;
                        this.queue.drainDisabled = !0;
                        for (var i = 0, n = this.tracks.length; i < n; i++) {
                            var r = this.tracks[i];
                            null != r && this.setEmptyAnimation(r.trackIndex, t)
                        }
                        this.queue.drainDisabled = e, this.queue.drain()
                    }, e.prototype.expandToIndex = function (e) {
                        return e < this.tracks.length ? this.tracks[e] : (t.Utils.ensureArrayCapacity(this.tracks, e + 1, null), this.tracks.length = e + 1, null)
                    }, e.prototype.trackEntry = function (t, e, i, n) {
                        var r = this.trackEntryPool.obtain();
                        return r.trackIndex = t, r.animation = e, r.loop = i, r.holdPrevious = !1, r.eventThreshold = 0, r.attachmentThreshold = 0, r.drawOrderThreshold = 0, r.animationStart = 0, r.animationEnd = e.duration, r.animationLast = -1, r.nextAnimationLast = -1, r.delay = 0, r.trackTime = 0, r.trackLast = -1, r.nextTrackLast = -1, r.trackEnd = Number.MAX_VALUE, r.timeScale = 1, r.alpha = 1, r.interruptAlpha = 1, r.mixTime = 0, r.mixDuration = null == n ? 0 : this.data.getMix(n.animation, e), r
                    }, e.prototype.disposeNext = function (t) {
                        for (var e = t.next; null != e;) this.queue.dispose(e), e = e.next;
                        t.next = null
                    }, e.prototype._animationsChanged = function () {
                        this.animationsChanged = !1, this.propertyIDs.clear();
                        for (var e = 0, i = this.tracks.length; e < i; e++) if (null != (n = this.tracks[e])) {
                            for (; null != n.mixingFrom;) n = n.mixingFrom;
                            do {
                                null != n.mixingFrom && n.mixBlend == t.MixBlend.add || this.computeHold(n), n = n.mixingTo
                            } while (null != n)
                        }
                        for (this.propertyIDs.clear(), e = this.tracks.length - 1; e >= 0; e--) for (var n = this.tracks[e]; null != n;) this.computeNotLast(n), n = n.mixingFrom
                    }, e.prototype.computeHold = function (i) {
                        var n = i.mixingTo, r = i.animation.timelines, s = i.animation.timelines.length,
                            a = t.Utils.setArraySize(i.timelineMode, s);
                        i.timelineHoldMix.length = 0;
                        var o = t.Utils.setArraySize(i.timelineHoldMix, s), c = this.propertyIDs;
                        if (null != n && n.holdPrevious) for (var l = 0; l < s; l++) c.add(r[l].getPropertyId()), a[l] = e.HOLD; else t:for (l = 0; l < s; l++) {
                            var h = r[l], u = h.getPropertyId();
                            if (c.add(u)) if (null == n || h instanceof t.AttachmentTimeline || h instanceof t.DrawOrderTimeline || h instanceof t.EventTimeline || !n.animation.hasTimeline(u)) a[l] = e.FIRST; else {
                                for (var f = n.mixingTo; null != f; f = f.mixingTo) if (!f.animation.hasTimeline(u)) {
                                    if (i.mixDuration > 0) {
                                        a[l] = e.HOLD_MIX, o[l] = f;
                                        continue t
                                    }
                                    break
                                }
                                a[l] = e.HOLD
                            } else a[l] = e.SUBSEQUENT
                        }
                    }, e.prototype.computeNotLast = function (i) {
                        for (var n = i.animation.timelines, r = i.animation.timelines.length, s = i.timelineMode, a = this.propertyIDs, o = 0; o < r; o++) if (n[o] instanceof t.AttachmentTimeline) {
                            var c = n[o];
                            a.add(c.slotIndex) || (s[o] |= e.NOT_LAST)
                        }
                    }, e.prototype.getCurrent = function (t) {
                        return t >= this.tracks.length ? null : this.tracks[t]
                    }, e.prototype.addListener = function (t) {
                        if (null == t) throw new Error("listener cannot be null.");
                        this.listeners.push(t)
                    }, e.prototype.removeListener = function (t) {
                        var e = this.listeners.indexOf(t);
                        e >= 0 && this.listeners.splice(e, 1)
                    }, e.prototype.clearListeners = function () {
                        this.listeners.length = 0
                    }, e.prototype.clearListenerNotifications = function () {
                        this.queue.clear()
                    }, e.emptyAnimation = new t.Animation("<empty>", [], 0), e.SUBSEQUENT = 0, e.FIRST = 1, e.HOLD = 2, e.HOLD_MIX = 3, e.NOT_LAST = 4, e
                })();
                t.AnimationState = e;
                var i = (function () {
                    function e() {
                        this.mixBlend = t.MixBlend.replace, this.timelineMode = new Array, this.timelineHoldMix = new Array, this.timelinesRotation = new Array
                    }

                    return e.prototype.reset = function () {
                        this.next = null, this.mixingFrom = null, this.mixingTo = null, this.animation = null, this.listener = null, this.timelineMode.length = 0, this.timelineHoldMix.length = 0, this.timelinesRotation.length = 0
                    }, e.prototype.getAnimationTime = function () {
                        if (this.loop) {
                            var t = this.animationEnd - this.animationStart;
                            return 0 == t ? this.animationStart : this.trackTime % t + this.animationStart
                        }
                        return Math.min(this.trackTime + this.animationStart, this.animationEnd)
                    }, e.prototype.setAnimationLast = function (t) {
                        this.animationLast = t, this.nextAnimationLast = t
                    }, e.prototype.isComplete = function () {
                        return this.trackTime >= this.animationEnd - this.animationStart
                    }, e.prototype.resetRotationDirections = function () {
                        this.timelinesRotation.length = 0
                    }, e
                })();
                t.TrackEntry = i;
                var n, r = (function () {
                    function t(t) {
                        this.objects = [], this.drainDisabled = !1, this.animState = t
                    }

                    return t.prototype.start = function (t) {
                        this.objects.push(n.start), this.objects.push(t), this.animState.animationsChanged = !0
                    }, t.prototype.interrupt = function (t) {
                        this.objects.push(n.interrupt), this.objects.push(t)
                    }, t.prototype.end = function (t) {
                        this.objects.push(n.end), this.objects.push(t), this.animState.animationsChanged = !0
                    }, t.prototype.dispose = function (t) {
                        this.objects.push(n.dispose), this.objects.push(t)
                    }, t.prototype.complete = function (t) {
                        this.objects.push(n.complete), this.objects.push(t)
                    }, t.prototype.event = function (t, e) {
                        this.objects.push(n.event), this.objects.push(t), this.objects.push(e)
                    }, t.prototype.drain = function () {
                        if (!this.drainDisabled) {
                            this.drainDisabled = !0;
                            for (var t = this.objects, e = this.animState.listeners, i = 0; i < t.length; i += 2) {
                                var r = t[i], s = t[i + 1];
                                switch (r) {
                                    case n.start:
                                        null != s.listener && s.listener.start && s.listener.start(s);
                                        for (var a = 0; a < e.length; a++) e[a].start && e[a].start(s);
                                        break;
                                    case n.interrupt:
                                        for (null != s.listener && s.listener.interrupt && s.listener.interrupt(s), a = 0; a < e.length; a++) e[a].interrupt && e[a].interrupt(s);
                                        break;
                                    case n.end:
                                        for (null != s.listener && s.listener.end && s.listener.end(s), a = 0; a < e.length; a++) e[a].end && e[a].end(s);
                                    case n.dispose:
                                        for (null != s.listener && s.listener.dispose && s.listener.dispose(s), a = 0; a < e.length; a++) e[a].dispose && e[a].dispose(s);
                                        this.animState.trackEntryPool.free(s);
                                        break;
                                    case n.complete:
                                        for (null != s.listener && s.listener.complete && s.listener.complete(s), a = 0; a < e.length; a++) e[a].complete && e[a].complete(s);
                                        break;
                                    case n.event:
                                        var o = t[2 + i++];
                                        for (null != s.listener && s.listener.event && s.listener.event(s, o), a = 0; a < e.length; a++) e[a].event && e[a].event(s, o)
                                }
                            }
                            this.clear(), this.drainDisabled = !1
                        }
                    }, t.prototype.clear = function () {
                        this.objects.length = 0
                    }, t
                })();
                t.EventQueue = r, (function (t) {
                    t[t.start = 0] = "start", t[t.interrupt = 1] = "interrupt", t[t.end = 2] = "end", t[t.dispose = 3] = "dispose", t[t.complete = 4] = "complete", t[t.event = 5] = "event"
                })(n = t.EventType || (t.EventType = {}));
                var s = (function () {
                    function t() {
                    }

                    return t.prototype.start = function () {
                    }, t.prototype.interrupt = function () {
                    }, t.prototype.end = function () {
                    }, t.prototype.dispose = function () {
                    }, t.prototype.complete = function () {
                    }, t.prototype.event = function () {
                    }, t
                })();
                t.AnimationStateAdapter = s
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function t(t) {
                        if (this.animationToMixTime = {}, this.defaultMix = 0, null == t) throw new Error("skeletonData cannot be null.");
                        this.skeletonData = t
                    }

                    return t.prototype.setMix = function (t, e, i) {
                        var n = this.skeletonData.findAnimation(t);
                        if (null == n) throw new Error("Animation not found: " + t);
                        var r = this.skeletonData.findAnimation(e);
                        if (null == r) throw new Error("Animation not found: " + e);
                        this.setMixWith(n, r, i)
                    }, t.prototype.setMixWith = function (t, e, i) {
                        if (null == t) throw new Error("from cannot be null.");
                        if (null == e) throw new Error("to cannot be null.");
                        var n = t.name + "." + e.name;
                        this.animationToMixTime[n] = i
                    }, t.prototype.getMix = function (t, e) {
                        var i = t.name + "." + e.name, n = this.animationToMixTime[i];
                        return void 0 === n ? this.defaultMix : n
                    }, t
                })();
                t.AnimationStateData = e
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e(t, e) {
                        void 0 === e && (e = ""), this.assets = {}, this.errors = {}, this.toLoad = 0, this.loaded = 0, this.textureLoader = t, this.pathPrefix = e
                    }

                    return e.downloadText = function (t, e, i) {
                        var n = new XMLHttpRequest;
                        n.open("GET", t, !0), n.onload = function () {
                            200 == n.status ? e(n.responseText) : i(n.status, n.responseText)
                        }, n.onerror = function () {
                            i(n.status, n.responseText)
                        }, n.send()
                    }, e.downloadBinary = function (t, e, i) {
                        var n = new XMLHttpRequest;
                        n.open("GET", t, !0), n.responseType = "arraybuffer", n.onload = function () {
                            200 == n.status ? e(new Uint8Array(n.response)) : i(n.status, n.responseText)
                        }, n.onerror = function () {
                            i(n.status, n.responseText)
                        }, n.send()
                    }, e.prototype.loadBinary = function (t, i, n) {
                        var r = this;
                        void 0 === i && (i = null), void 0 === n && (n = null), t = this.pathPrefix + t, this.toLoad++, e.downloadBinary(t, (function (e) {
                            r.assets[t] = e, i && i(t, e), r.toLoad--, r.loaded++
                        }), (function (e, i) {
                            r.errors[t] = "Couldn't load binary " + t + ": status " + status + ", " + i, n && n(t, "Couldn't load binary " + t + ": status " + status + ", " + i), r.toLoad--, r.loaded++
                        }))
                    }, e.prototype.loadText = function (t, i, n) {
                        var r = this;
                        void 0 === i && (i = null), void 0 === n && (n = null), t = this.pathPrefix + t, this.toLoad++, e.downloadText(t, (function (e) {
                            r.assets[t] = e, i && i(t, e), r.toLoad--, r.loaded++
                        }), (function (e, i) {
                            r.errors[t] = "Couldn't load text " + t + ": status " + status + ", " + i, n && n(t, "Couldn't load text " + t + ": status " + status + ", " + i), r.toLoad--, r.loaded++
                        }))
                    }, e.prototype.loadTexture = function (t, e, i) {
                        var n = this;
                        void 0 === e && (e = null), void 0 === i && (i = null), t = this.pathPrefix + t, this.toLoad++;
                        var r = new Image;
                        r.crossOrigin = "anonymous", r.onload = function () {
                            var i = n.textureLoader(r);
                            n.assets[t] = i, n.toLoad--, n.loaded++, e && e(t, r)
                        }, r.onerror = function () {
                            n.errors[t] = "Couldn't load image " + t, n.toLoad--, n.loaded++, i && i(t, "Couldn't load image " + t)
                        }, r.src = t
                    }, e.prototype.loadTextureData = function (t, e, i, n) {
                        var r = this;
                        void 0 === i && (i = null), void 0 === n && (n = null), t = this.pathPrefix + t, this.toLoad++;
                        var s = new Image;
                        s.onload = function () {
                            var e = r.textureLoader(s);
                            r.assets[t] = e, r.toLoad--, r.loaded++, i && i(t, s)
                        }, s.onerror = function () {
                            r.errors[t] = "Couldn't load image " + t, r.toLoad--, r.loaded++, n && n(t, "Couldn't load image " + t)
                        }, s.src = e
                    }, e.prototype.loadTextureAtlas = function (i, n, r) {
                        var s = this;
                        void 0 === n && (n = null), void 0 === r && (r = null);
                        var a = i.lastIndexOf("/") >= 0 ? i.substring(0, i.lastIndexOf("/")) : "";
                        i = this.pathPrefix + i, this.toLoad++, e.downloadText(i, (function (e) {
                            var o = {count: 0}, c = new Array;
                            try {
                                new t.TextureAtlas(e, function (e) {
                                    c.push(a + "/" + e);
                                    var i = document.createElement("img");
                                    return i.width = 16, i.height = 16, new t.FakeTexture(i)
                                })
                            } catch (d) {
                                var l = d;
                                return s.errors[i] = "Couldn't load texture atlas " + i + ": " + l.message, r && r(i, "Couldn't load texture atlas " + i + ": " + l.message), s.toLoad--, void s.loaded++
                            }
                            for (var h = function (l) {
                                var h = !1;
                                s.loadTexture(l, (function (l) {
                                    if (o.count++, o.count == c.length) if (h) s.errors[i] = "Couldn't load texture atlas page " + l + "} of atlas " + i, r && r(i, "Couldn't load texture atlas page " + l + " of atlas " + i), s.toLoad--, s.loaded++; else try {
                                        var u = new t.TextureAtlas(e, function (t) {
                                            return s.get(a + "/" + t)
                                        });
                                        s.assets[i] = u, n && n(i, u), s.toLoad--, s.loaded++
                                    } catch (d) {
                                        var f = d;
                                        s.errors[i] = "Couldn't load texture atlas " + i + ": " + f.message, r && r(i, "Couldn't load texture atlas " + i + ": " + f.message), s.toLoad--, s.loaded++
                                    }
                                }), (function (t) {
                                    h = !0, o.count++, o.count == c.length && (s.errors[i] = "Couldn't load texture atlas page " + t + "} of atlas " + i, r && r(i, "Couldn't load texture atlas page " + t + " of atlas " + i), s.toLoad--, s.loaded++)
                                }))
                            }, u = 0, f = c; u < f.length; u++) h(f[u])
                        }), (function (t, e) {
                            s.errors[i] = "Couldn't load texture atlas " + i + ": status " + status + ", " + e, r && r(i, "Couldn't load texture atlas " + i + ": status " + status + ", " + e), s.toLoad--, s.loaded++
                        }))
                    }, e.prototype.get = function (t) {
                        return t = this.pathPrefix + t, this.assets[t]
                    }, e.prototype.remove = function (t) {
                        t = this.pathPrefix + t;
                        var e = this.assets[t];
                        e.dispose && e.dispose(), this.assets[t] = null
                    }, e.prototype.removeAll = function () {
                        for (var t in this.assets) {
                            var e = this.assets[t];
                            e.dispose && e.dispose()
                        }
                        this.assets = {}
                    }, e.prototype.isLoadingComplete = function () {
                        return 0 == this.toLoad
                    }, e.prototype.getToLoad = function () {
                        return this.toLoad
                    }, e.prototype.getLoaded = function () {
                        return this.loaded
                    }, e.prototype.dispose = function () {
                        this.removeAll()
                    }, e.prototype.hasErrors = function () {
                        return Object.keys(this.errors).length > 0
                    }, e.prototype.getErrors = function () {
                        return this.errors
                    }, e
                })();
                t.AssetManager = e
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e(t) {
                        this.atlas = t
                    }

                    return e.prototype.newRegionAttachment = function (e, i, n) {
                        var r = this.atlas.findRegion(n);
                        if (null == r) return null;
                        r.renderObject = r;
                        var s = new t.RegionAttachment(i);
                        return s.setRegion(r), s
                    }, e.prototype.newMeshAttachment = function (e, i, n) {
                        var r = this.atlas.findRegion(n);
                        if (null == r) return null;
                        r.renderObject = r;
                        var s = new t.MeshAttachment(i);
                        return s.region = r, s
                    }, e.prototype.newBoundingBoxAttachment = function (e, i) {
                        return new t.BoundingBoxAttachment(i)
                    }, e.prototype.newPathAttachment = function (e, i) {
                        return new t.PathAttachment(i)
                    }, e.prototype.newPointAttachment = function (e, i) {
                        return new t.PointAttachment(i)
                    }, e.prototype.newClippingAttachment = function (e, i) {
                        return new t.ClippingAttachment(i)
                    }, e
                })();
                t.AtlasAttachmentLoader = e
            })(r || (r = {})), (function (t) {
                (function (t) {
                    t[t.Normal = 0] = "Normal", t[t.Additive = 1] = "Additive", t[t.Multiply = 2] = "Multiply", t[t.Screen = 3] = "Screen"
                })(t.BlendMode || (t.BlendMode = {}))
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e(t, e, i) {
                        if (this.children = new Array, this.x = 0, this.y = 0, this.rotation = 0, this.scaleX = 0, this.scaleY = 0, this.shearX = 0, this.shearY = 0, this.ax = 0, this.ay = 0, this.arotation = 0, this.ascaleX = 0, this.ascaleY = 0, this.ashearX = 0, this.ashearY = 0, this.appliedValid = !1, this.a = 0, this.b = 0, this.c = 0, this.d = 0, this.worldY = 0, this.worldX = 0, this.sorted = !1, this.active = !1, null == t) throw new Error("data cannot be null.");
                        if (null == e) throw new Error("skeleton cannot be null.");
                        this.data = t, this.skeleton = e, this.parent = i, this.setToSetupPose()
                    }

                    return e.prototype.isActive = function () {
                        return this.active
                    }, e.prototype.update = function () {
                        this.updateWorldTransformWith(this.x, this.y, this.rotation, this.scaleX, this.scaleY, this.shearX, this.shearY)
                    }, e.prototype.updateWorldTransform = function () {
                        this.updateWorldTransformWith(this.x, this.y, this.rotation, this.scaleX, this.scaleY, this.shearX, this.shearY)
                    }, e.prototype.updateWorldTransformWith = function (e, i, n, r, s, a, o) {
                        this.ax = e, this.ay = i, this.arotation = n, this.ascaleX = r, this.ascaleY = s, this.ashearX = a, this.ashearY = o, this.appliedValid = !0;
                        var c = this.parent;
                        if (null == c) {
                            var l = this.skeleton, h = n + 90 + o, u = l.scaleX, f = l.scaleY;
                            return this.a = t.MathUtils.cosDeg(n + a) * r * u, this.b = t.MathUtils.cosDeg(h) * s * u, this.c = t.MathUtils.sinDeg(n + a) * r * f, this.d = t.MathUtils.sinDeg(h) * s * f, this.worldX = e * u + l.x, void (this.worldY = i * f + l.y)
                        }
                        var d = c.a, _ = c.b, p = c.c, v = c.d;
                        switch (this.worldX = d * e + _ * i + c.worldX, this.worldY = p * e + v * i + c.worldY, this.data.transformMode) {
                            case t.TransformMode.Normal:
                                h = n + 90 + o;
                                var g = t.MathUtils.cosDeg(n + a) * r, m = t.MathUtils.cosDeg(h) * s,
                                    y = t.MathUtils.sinDeg(n + a) * r, T = t.MathUtils.sinDeg(h) * s;
                                return this.a = d * g + _ * y, this.b = d * m + _ * T, this.c = p * g + v * y, void (this.d = p * m + v * T);
                            case t.TransformMode.OnlyTranslation:
                                h = n + 90 + o, this.a = t.MathUtils.cosDeg(n + a) * r, this.b = t.MathUtils.cosDeg(h) * s, this.c = t.MathUtils.sinDeg(n + a) * r, this.d = t.MathUtils.sinDeg(h) * s;
                                break;
                            case t.TransformMode.NoRotationOrReflection:
                                var E = 0;
                                (x = d * d + p * p) > 1e-4 ? (_ = p * (x = Math.abs(d * v - _ * p) / x), v = d * x, E = Math.atan2(p, d) * t.MathUtils.radDeg) : (d = 0, p = 0, E = 90 - Math.atan2(v, _) * t.MathUtils.radDeg);
                                var A = n + a - E, b = n + o - E + 90;
                                g = t.MathUtils.cosDeg(A) * r, m = t.MathUtils.cosDeg(b) * s, y = t.MathUtils.sinDeg(A) * r, T = t.MathUtils.sinDeg(b) * s, this.a = d * g - _ * y, this.b = d * m - _ * T, this.c = p * g + v * y, this.d = p * m + v * T;
                                break;
                            case t.TransformMode.NoScale:
                            case t.TransformMode.NoScaleOrReflection:
                                var x, C = t.MathUtils.cosDeg(n), S = t.MathUtils.sinDeg(n),
                                    w = (d * C + _ * S) / this.skeleton.scaleX,
                                    M = (p * C + v * S) / this.skeleton.scaleY;
                                (x = Math.sqrt(w * w + M * M)) > 1e-5 && (x = 1 / x), w *= x, M *= x, x = Math.sqrt(w * w + M * M), this.data.transformMode == t.TransformMode.NoScale && d * v - _ * p < 0 != (this.skeleton.scaleX < 0 != this.skeleton.scaleY < 0) && (x = -x);
                                var R = Math.PI / 2 + Math.atan2(M, w), I = Math.cos(R) * x, O = Math.sin(R) * x;
                                g = t.MathUtils.cosDeg(a) * r, m = t.MathUtils.cosDeg(90 + o) * s, y = t.MathUtils.sinDeg(a) * r, T = t.MathUtils.sinDeg(90 + o) * s, this.a = w * g + I * y, this.b = w * m + I * T, this.c = M * g + O * y, this.d = M * m + O * T
                        }
                        this.a *= this.skeleton.scaleX, this.b *= this.skeleton.scaleX, this.c *= this.skeleton.scaleY, this.d *= this.skeleton.scaleY
                    }, e.prototype.setToSetupPose = function () {
                        var t = this.data;
                        this.x = t.x, this.y = t.y, this.rotation = t.rotation, this.scaleX = t.scaleX, this.scaleY = t.scaleY, this.shearX = t.shearX, this.shearY = t.shearY
                    }, e.prototype.getWorldRotationX = function () {
                        return Math.atan2(this.c, this.a) * t.MathUtils.radDeg
                    }, e.prototype.getWorldRotationY = function () {
                        return Math.atan2(this.d, this.b) * t.MathUtils.radDeg
                    }, e.prototype.getWorldScaleX = function () {
                        return Math.sqrt(this.a * this.a + this.c * this.c)
                    }, e.prototype.getWorldScaleY = function () {
                        return Math.sqrt(this.b * this.b + this.d * this.d)
                    }, e.prototype.updateAppliedTransform = function () {
                        this.appliedValid = !0;
                        var e = this.parent;
                        if (null == e) return this.ax = this.worldX, this.ay = this.worldY, this.arotation = Math.atan2(this.c, this.a) * t.MathUtils.radDeg, this.ascaleX = Math.sqrt(this.a * this.a + this.c * this.c), this.ascaleY = Math.sqrt(this.b * this.b + this.d * this.d), this.ashearX = 0, void (this.ashearY = Math.atan2(this.a * this.b + this.c * this.d, this.a * this.d - this.b * this.c) * t.MathUtils.radDeg);
                        var i = e.a, n = e.b, r = e.c, s = e.d, a = 1 / (i * s - n * r), o = this.worldX - e.worldX,
                            c = this.worldY - e.worldY;
                        this.ax = o * s * a - c * n * a, this.ay = c * i * a - o * r * a;
                        var l = a * s, h = a * i, u = a * n, f = a * r, d = l * this.a - u * this.c,
                            _ = l * this.b - u * this.d, p = h * this.c - f * this.a, v = h * this.d - f * this.b;
                        if (this.ashearX = 0, this.ascaleX = Math.sqrt(d * d + p * p), this.ascaleX > 1e-4) {
                            var g = d * v - _ * p;
                            this.ascaleY = g / this.ascaleX, this.ashearY = Math.atan2(d * _ + p * v, g) * t.MathUtils.radDeg, this.arotation = Math.atan2(p, d) * t.MathUtils.radDeg
                        } else this.ascaleX = 0, this.ascaleY = Math.sqrt(_ * _ + v * v), this.ashearY = 0, this.arotation = 90 - Math.atan2(v, _) * t.MathUtils.radDeg
                    }, e.prototype.worldToLocal = function (t) {
                        var e = this.a, i = this.b, n = this.c, r = this.d, s = 1 / (e * r - i * n),
                            a = t.x - this.worldX, o = t.y - this.worldY;
                        return t.x = a * r * s - o * i * s, t.y = o * e * s - a * n * s, t
                    }, e.prototype.localToWorld = function (t) {
                        var e = t.x, i = t.y;
                        return t.x = e * this.a + i * this.b + this.worldX, t.y = e * this.c + i * this.d + this.worldY, t
                    }, e.prototype.worldToLocalRotation = function (e) {
                        var i = t.MathUtils.sinDeg(e), n = t.MathUtils.cosDeg(e);
                        return Math.atan2(this.a * i - this.c * n, this.d * n - this.b * i) * t.MathUtils.radDeg + this.rotation - this.shearX
                    }, e.prototype.localToWorldRotation = function (e) {
                        e -= this.rotation - this.shearX;
                        var i = t.MathUtils.sinDeg(e), n = t.MathUtils.cosDeg(e);
                        return Math.atan2(n * this.c + i * this.d, n * this.a + i * this.b) * t.MathUtils.radDeg
                    }, e.prototype.rotateWorld = function (e) {
                        var i = this.a, n = this.b, r = this.c, s = this.d, a = t.MathUtils.cosDeg(e),
                            o = t.MathUtils.sinDeg(e);
                        this.a = a * i - o * r, this.b = a * n - o * s, this.c = o * i + a * r, this.d = o * n + a * s, this.appliedValid = !1
                    }, e
                })();
                t.Bone = e
            })(r || (r = {})), (function (t) {
                var e;
                t.BoneData = function (i, n, r) {
                    if (this.x = 0, this.y = 0, this.rotation = 0, this.scaleX = 1, this.scaleY = 1, this.shearX = 0, this.shearY = 0, this.transformMode = e.Normal, this.skinRequired = !1, this.color = new t.Color, i < 0) throw new Error("index must be >= 0.");
                    if (null == n) throw new Error("name cannot be null.");
                    this.index = i, this.name = n, this.parent = r
                }, (function (t) {
                    t[t.Normal = 0] = "Normal", t[t.OnlyTranslation = 1] = "OnlyTranslation", t[t.NoRotationOrReflection = 2] = "NoRotationOrReflection", t[t.NoScale = 3] = "NoScale", t[t.NoScaleOrReflection = 4] = "NoScaleOrReflection"
                })(e = t.TransformMode || (t.TransformMode = {}))
            })(r || (r = {})), (function (t) {
                t.ConstraintData = function (t, e, i) {
                    this.name = t, this.order = e, this.skinRequired = i
                }
            })(r || (r = {})), (function (t) {
                t.Event = function (t, e) {
                    if (null == e) throw new Error("data cannot be null.");
                    this.time = t, this.data = e
                }
            })(r || (r = {})), (function (t) {
                t.EventData = function (t) {
                    this.name = t
                }
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e(t, e) {
                        if (this.bendDirection = 0, this.compress = !1, this.stretch = !1, this.mix = 1, this.softness = 0, this.active = !1, null == t) throw new Error("data cannot be null.");
                        if (null == e) throw new Error("skeleton cannot be null.");
                        this.data = t, this.mix = t.mix, this.softness = t.softness, this.bendDirection = t.bendDirection, this.compress = t.compress, this.stretch = t.stretch, this.bones = new Array;
                        for (var i = 0; i < t.bones.length; i++) this.bones.push(e.findBone(t.bones[i].name));
                        this.target = e.findBone(t.target.name)
                    }

                    return e.prototype.isActive = function () {
                        return this.active
                    }, e.prototype.apply = function () {
                        this.update()
                    }, e.prototype.update = function () {
                        var t = this.target, e = this.bones;
                        switch (e.length) {
                            case 1:
                                this.apply1(e[0], t.worldX, t.worldY, this.compress, this.stretch, this.data.uniform, this.mix);
                                break;
                            case 2:
                                this.apply2(e[0], e[1], t.worldX, t.worldY, this.bendDirection, this.stretch, this.softness, this.mix)
                        }
                    }, e.prototype.apply1 = function (e, i, n, r, s, a, o) {
                        e.appliedValid || e.updateAppliedTransform();
                        var c = e.parent, l = 1 / (c.a * c.d - c.b * c.c), h = i - c.worldX, u = n - c.worldY,
                            f = (h * c.d - u * c.b) * l - e.ax, d = (u * c.a - h * c.c) * l - e.ay,
                            _ = Math.atan2(d, f) * t.MathUtils.radDeg - e.ashearX - e.arotation;
                        e.ascaleX < 0 && (_ += 180), _ > 180 ? _ -= 360 : _ < -180 && (_ += 360);
                        var p = e.ascaleX, v = e.ascaleY;
                        if (r || s) {
                            var g = e.data.length * p, m = Math.sqrt(f * f + d * d);
                            if (r && m < g || s && m > g && g > 1e-4) {
                                var y = (m / g - 1) * o + 1;
                                p *= y, a && (v *= y)
                            }
                        }
                        e.updateWorldTransformWith(e.ax, e.ay, e.arotation + _ * o, p, v, e.ashearX, e.ashearY)
                    }, e.prototype.apply2 = function (e, i, n, r, s, a, o, c) {
                        if (0 != c) {
                            e.appliedValid || e.updateAppliedTransform(), i.appliedValid || i.updateAppliedTransform();
                            var l = e.ax, h = e.ay, u = e.ascaleX, f = u, d = e.ascaleY, _ = i.ascaleX, p = 0, v = 0,
                                g = 0;
                            u < 0 ? (u = -u, p = 180, g = -1) : (p = 0, g = 1), d < 0 && (d = -d, g = -g), _ < 0 ? (_ = -_, v = 180) : v = 0;
                            var m = i.ax, y = 0, T = 0, E = 0, A = e.a, b = e.b, x = e.c, C = e.d,
                                S = Math.abs(u - d) <= 1e-4;
                            S ? (T = A * m + b * (y = i.ay) + e.worldX, E = x * m + C * y + e.worldY) : (y = 0, T = A * m + e.worldX, E = x * m + e.worldY);
                            var w = e.parent;
                            A = w.a, b = w.b, x = w.c;
                            var M, R, I = 1 / (A * (C = w.d) - b * x), O = T - w.worldX, D = E - w.worldY,
                                P = (O * C - D * b) * I - l, L = (D * A - O * x) * I - h, N = Math.sqrt(P * P + L * L),
                                F = i.data.length * _;
                            if (N < 1e-4) return this.apply1(e, n, r, !1, a, !1, c), void i.updateWorldTransformWith(m, y, 0, i.ascaleX, i.ascaleY, i.ashearX, i.ashearY);
                            var B = ((O = n - w.worldX) * C - (D = r - w.worldY) * b) * I - l,
                                k = (D * A - O * x) * I - h, V = B * B + k * k;
                            if (0 != o) {
                                o *= u * (_ + 1) / 2;
                                var U = Math.sqrt(V), z = U - N - F * u + o;
                                if (z > 0) {
                                    var H = Math.min(1, z / (2 * o)) - 1;
                                    V = (B -= (H = (z - o * (1 - H * H)) / U) * B) * B + (k -= H * k) * k
                                }
                            }
                            t:if (S) {
                                var W = (V - N * N - (F *= u) * F) / (2 * N * F);
                                W < -1 ? W = -1 : W > 1 && (W = 1, a && (f *= (Math.sqrt(V) / (N + F) - 1) * c + 1)), R = Math.acos(W) * s, A = N + F * W, b = F * Math.sin(R), M = Math.atan2(k * A - B * b, B * A + k * b)
                            } else {
                                var G = (A = u * F) * A, j = (b = d * F) * b, X = Math.atan2(k, B), Y = -2 * j * N,
                                    q = j - G;
                                if ((C = Y * Y - 4 * q * (x = j * N * N + G * V - G * j)) >= 0) {
                                    var Z = Math.sqrt(C);
                                    Y < 0 && (Z = -Z);
                                    var K = (Z = -(Y + Z) / 2) / q, J = x / Z, Q = Math.abs(K) < Math.abs(J) ? K : J;
                                    if (Q * Q <= V) {
                                        D = Math.sqrt(V - Q * Q) * s, M = X - Math.atan2(D, Q), R = Math.atan2(D / d, (Q - N) / u);
                                        break t
                                    }
                                }
                                var $ = t.MathUtils.PI, tt = N - A, et = tt * tt, it = 0, nt = 0, rt = N + A,
                                    st = rt * rt, at = 0;
                                (x = -A * N / (G - j)) >= -1 && x <= 1 && (x = Math.acos(x), (C = (O = A * Math.cos(x) + N) * O + (D = b * Math.sin(x)) * D) < et && ($ = x, et = C, tt = O, it = D), C > st && (nt = x, st = C, rt = O, at = D)), V <= (et + st) / 2 ? (M = X - Math.atan2(it * s, tt), R = $ * s) : (M = X - Math.atan2(at * s, rt), R = nt * s)
                            }
                            var ot = Math.atan2(y, m) * g, ct = e.arotation;
                            (M = (M - ot) * t.MathUtils.radDeg + p - ct) > 180 ? M -= 360 : M < -180 && (M += 360), e.updateWorldTransformWith(l, h, ct + M * c, f, e.ascaleY, 0, 0), ct = i.arotation, (R = ((R + ot) * t.MathUtils.radDeg - i.ashearX) * g + v - ct) > 180 ? R -= 360 : R < -180 && (R += 360), i.updateWorldTransformWith(m, y, ct + R * c, i.ascaleX, i.ascaleY, i.ashearX, i.ashearY)
                        } else i.updateWorldTransform()
                    }, e
                })();
                t.IkConstraint = e
            })(r || (r = {})), (function (t) {
                var e = (function (t) {
                    function e(e) {
                        var i = t.call(this, e, 0, !1) || this;
                        return i.bones = new Array, i.bendDirection = 1, i.compress = !1, i.stretch = !1, i.uniform = !1, i.mix = 1, i.softness = 0, i
                    }

                    return s(e, t), e
                })(t.ConstraintData);
                t.IkConstraintData = e
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e(t, e) {
                        if (this.position = 0, this.spacing = 0, this.rotateMix = 0, this.translateMix = 0, this.spaces = new Array, this.positions = new Array, this.world = new Array, this.curves = new Array, this.lengths = new Array, this.segments = new Array, this.active = !1, null == t) throw new Error("data cannot be null.");
                        if (null == e) throw new Error("skeleton cannot be null.");
                        this.data = t, this.bones = new Array;
                        for (var i = 0, n = t.bones.length; i < n; i++) this.bones.push(e.findBone(t.bones[i].name));
                        this.target = e.findSlot(t.target.name), this.position = t.position, this.spacing = t.spacing, this.rotateMix = t.rotateMix, this.translateMix = t.translateMix
                    }

                    return e.prototype.isActive = function () {
                        return this.active
                    }, e.prototype.apply = function () {
                        this.update()
                    }, e.prototype.update = function () {
                        var i = this.target.getAttachment();
                        if (i instanceof t.PathAttachment) {
                            var n = this.rotateMix, r = this.translateMix, s = n > 0;
                            if (r > 0 || s) {
                                var a = this.data, o = a.spacingMode == t.SpacingMode.Percent, c = a.rotateMode,
                                    l = c == t.RotateMode.Tangent, h = c == t.RotateMode.ChainScale,
                                    u = this.bones.length, f = l ? u : u + 1, d = this.bones,
                                    _ = t.Utils.setArraySize(this.spaces, f), p = null, v = this.spacing;
                                if (h || !o) {
                                    h && (p = t.Utils.setArraySize(this.lengths, u));
                                    for (var g = a.spacingMode == t.SpacingMode.Length, m = 0, y = f - 1; m < y;) {
                                        var T = (O = d[m]).data.length;
                                        if (T < e.epsilon) h && (p[m] = 0), _[++m] = 0; else if (o) {
                                            if (h) {
                                                var E = T * O.a, A = T * O.c, b = Math.sqrt(E * E + A * A);
                                                p[m] = b
                                            }
                                            _[++m] = v
                                        } else {
                                            E = T * O.a, A = T * O.c;
                                            var x = Math.sqrt(E * E + A * A);
                                            h && (p[m] = x), _[++m] = (g ? T + v : v) * x / T
                                        }
                                    }
                                } else for (m = 1; m < f; m++) _[m] = v;
                                var C = this.computeWorldPositions(i, f, l, a.positionMode == t.PositionMode.Percent, o),
                                    S = C[0], w = C[1], M = a.offsetRotation, R = !1;
                                0 == M ? R = c == t.RotateMode.Chain : (R = !1, M *= (I = this.target.bone).a * I.d - I.b * I.c > 0 ? t.MathUtils.degRad : -t.MathUtils.degRad), m = 0;
                                for (var I = 3; m < u; m++, I += 3) {
                                    var O;
                                    (O = d[m]).worldX += (S - O.worldX) * r, O.worldY += (w - O.worldY) * r;
                                    var D = (E = C[I]) - S, P = (A = C[I + 1]) - w;
                                    if (h) {
                                        var L = p[m];
                                        if (0 != L) {
                                            var N = (Math.sqrt(D * D + P * P) / L - 1) * n + 1;
                                            O.a *= N, O.c *= N
                                        }
                                    }
                                    if (S = E, w = A, s) {
                                        var F = O.a, B = O.b, k = O.c, V = O.d, U = 0, z = 0, H = 0;
                                        if (U = l ? C[I - 1] : 0 == _[m + 1] ? C[I + 2] : Math.atan2(P, D), U -= Math.atan2(k, F), R) {
                                            z = Math.cos(U), H = Math.sin(U);
                                            var W = O.data.length;
                                            S += (W * (z * F - H * k) - D) * n, w += (W * (H * F + z * k) - P) * n
                                        } else U += M;
                                        U > t.MathUtils.PI ? U -= t.MathUtils.PI2 : U < -t.MathUtils.PI && (U += t.MathUtils.PI2), U *= n, z = Math.cos(U), H = Math.sin(U), O.a = z * F - H * k, O.b = z * B - H * V, O.c = H * F + z * k, O.d = H * B + z * V
                                    }
                                    O.appliedValid = !1
                                }
                            }
                        }
                    }, e.prototype.computeWorldPositions = function (i, n, r, s, a) {
                        var o = this.target, c = this.position, l = this.spaces,
                            h = t.Utils.setArraySize(this.positions, 3 * n + 2), u = null, f = i.closed,
                            d = i.worldVerticesLength, _ = d / 6, p = e.NONE;
                        if (!i.constantSpeed) {
                            var v = i.lengths, g = v[_ -= f ? 1 : 2];
                            if (s && (c *= g), a) for (var m = 1; m < n; m++) l[m] *= g;
                            u = t.Utils.setArraySize(this.world, 8), m = 0;
                            for (var y = 0, T = 0; m < n; m++, y += 3) {
                                var E = c += j = l[m];
                                if (f) (E %= g) < 0 && (E += g), T = 0; else {
                                    if (E < 0) {
                                        p != e.BEFORE && (p = e.BEFORE, i.computeWorldVertices(o, 2, 4, u, 0, 2)), this.addBeforePosition(E, u, 0, h, y);
                                        continue
                                    }
                                    if (E > g) {
                                        p != e.AFTER && (p = e.AFTER, i.computeWorldVertices(o, d - 6, 4, u, 0, 2)), this.addAfterPosition(E - g, u, 0, h, y);
                                        continue
                                    }
                                }
                                for (; ; T++) {
                                    var A = v[T];
                                    if (!(E > A)) {
                                        0 == T ? E /= A : E = (E - (Z = v[T - 1])) / (A - Z);
                                        break
                                    }
                                }
                                T != p && (p = T, f && T == _ ? (i.computeWorldVertices(o, d - 4, 4, u, 0, 2), i.computeWorldVertices(o, 0, 4, u, 4, 2)) : i.computeWorldVertices(o, 6 * T + 2, 8, u, 0, 2)), this.addCurvePosition(E, u[0], u[1], u[2], u[3], u[4], u[5], u[6], u[7], h, y, r || m > 0 && 0 == j)
                            }
                            return h
                        }
                        f ? (d += 2, u = t.Utils.setArraySize(this.world, d), i.computeWorldVertices(o, 2, d - 4, u, 0, 2), i.computeWorldVertices(o, 0, 2, u, d - 4, 2), u[d - 2] = u[0], u[d - 1] = u[1]) : (_--, d -= 4, u = t.Utils.setArraySize(this.world, d), i.computeWorldVertices(o, 2, d, u, 0, 2));
                        for (var b = t.Utils.setArraySize(this.curves, _), x = 0, C = u[0], S = u[1], w = 0, M = 0, R = 0, I = 0, O = 0, D = 0, P = 0, L = 0, N = 0, F = 0, B = 0, k = 0, V = 0, U = 0, z = (m = 0, 2); m < _; m++, z += 6) w = u[z], M = u[z + 1], R = u[z + 2], I = u[z + 3], B = 2 * (P = .1875 * (C - 2 * w + R)) + (N = .09375 * (3 * (w - R) - C + (O = u[z + 4]))), k = 2 * (L = .1875 * (S - 2 * M + I)) + (F = .09375 * (3 * (M - I) - S + (D = u[z + 5]))), V = .75 * (w - C) + P + .16666667 * N, U = .75 * (M - S) + L + .16666667 * F, x += Math.sqrt(V * V + U * U), V += B, U += k, B += N, k += F, x += Math.sqrt(V * V + U * U), V += B, U += k, x += Math.sqrt(V * V + U * U), V += B + N, U += k + F, x += Math.sqrt(V * V + U * U), b[m] = x, C = O, S = D;
                        if (c *= s ? x : x / i.lengths[_ - 1], a) for (m = 1; m < n; m++) l[m] *= x;
                        for (var H = this.segments, W = 0, G = (m = 0, y = 0, T = 0, 0); m < n; m++, y += 3) {
                            var j;
                            if (E = c += j = l[m], f) (E %= x) < 0 && (E += x), T = 0; else {
                                if (E < 0) {
                                    this.addBeforePosition(E, u, 0, h, y);
                                    continue
                                }
                                if (E > x) {
                                    this.addAfterPosition(E - x, u, d - 4, h, y);
                                    continue
                                }
                            }
                            for (; ; T++) {
                                var X = b[T];
                                if (!(E > X)) {
                                    0 == T ? E /= X : E = (E - (Z = b[T - 1])) / (X - Z);
                                    break
                                }
                            }
                            if (T != p) {
                                p = T;
                                var Y = 6 * T;
                                for (C = u[Y], S = u[Y + 1], w = u[Y + 2], M = u[Y + 3], R = u[Y + 4], I = u[Y + 5], B = 2 * (P = .03 * (C - 2 * w + R)) + (N = .006 * (3 * (w - R) - C + (O = u[Y + 6]))), k = 2 * (L = .03 * (S - 2 * M + I)) + (F = .006 * (3 * (M - I) - S + (D = u[Y + 7]))), V = .3 * (w - C) + P + .16666667 * N, U = .3 * (M - S) + L + .16666667 * F, W = Math.sqrt(V * V + U * U), H[0] = W, Y = 1; Y < 8; Y++) V += B, U += k, B += N, k += F, W += Math.sqrt(V * V + U * U), H[Y] = W;
                                V += B, U += k, W += Math.sqrt(V * V + U * U), H[8] = W, V += B + N, U += k + F, W += Math.sqrt(V * V + U * U), H[9] = W, G = 0
                            }
                            for (E *= W; ; G++) {
                                var q = H[G];
                                if (!(E > q)) {
                                    var Z;
                                    0 == G ? E /= q : E = G + (E - (Z = H[G - 1])) / (q - Z);
                                    break
                                }
                            }
                            this.addCurvePosition(.1 * E, C, S, w, M, R, I, O, D, h, y, r || m > 0 && 0 == j)
                        }
                        return h
                    }, e.prototype.addBeforePosition = function (t, e, i, n, r) {
                        var s = e[i], a = e[i + 1], o = e[i + 2] - s, c = e[i + 3] - a, l = Math.atan2(c, o);
                        n[r] = s + t * Math.cos(l), n[r + 1] = a + t * Math.sin(l), n[r + 2] = l
                    }, e.prototype.addAfterPosition = function (t, e, i, n, r) {
                        var s = e[i + 2], a = e[i + 3], o = s - e[i], c = a - e[i + 1], l = Math.atan2(c, o);
                        n[r] = s + t * Math.cos(l), n[r + 1] = a + t * Math.sin(l), n[r + 2] = l
                    }, e.prototype.addCurvePosition = function (t, e, i, n, r, s, a, o, c, l, h, u) {
                        if (0 == t || isNaN(t)) return l[h] = e, l[h + 1] = i, void (l[h + 2] = Math.atan2(r - i, n - e));
                        var f = t * t, d = f * t, _ = 1 - t, p = _ * _, v = p * _, g = _ * t, m = 3 * g, y = _ * m,
                            T = m * t, E = e * v + n * y + s * T + o * d, A = i * v + r * y + a * T + c * d;
                        l[h] = E, l[h + 1] = A, u && (l[h + 2] = t < .001 ? Math.atan2(r - i, n - e) : Math.atan2(A - (i * p + r * g * 2 + a * f), E - (e * p + n * g * 2 + s * f)))
                    }, e.NONE = -1, e.BEFORE = -2, e.AFTER = -3, e.epsilon = 1e-5, e
                })();
                t.PathConstraint = e
            })(r || (r = {})), (function (t) {
                var e = (function (t) {
                    function e(e) {
                        var i = t.call(this, e, 0, !1) || this;
                        return i.bones = new Array, i
                    }

                    return s(e, t), e
                })(t.ConstraintData);
                t.PathConstraintData = e, (function (t) {
                    t[t.Fixed = 0] = "Fixed", t[t.Percent = 1] = "Percent"
                })(t.PositionMode || (t.PositionMode = {})), (function (t) {
                    t[t.Length = 0] = "Length", t[t.Fixed = 1] = "Fixed", t[t.Percent = 2] = "Percent"
                })(t.SpacingMode || (t.SpacingMode = {})), (function (t) {
                    t[t.Tangent = 0] = "Tangent", t[t.Chain = 1] = "Chain", t[t.ChainScale = 2] = "ChainScale"
                })(t.RotateMode || (t.RotateMode = {}))
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function t(t) {
                        this.toLoad = new Array, this.assets = {}, this.clientId = t
                    }

                    return t.prototype.loaded = function () {
                        var t = 0;
                        for (var e in this.assets) t++;
                        return t
                    }, t
                })(), i = (function () {
                    function t(t) {
                        void 0 === t && (t = ""), this.clientAssets = {}, this.queuedAssets = {}, this.rawAssets = {}, this.errors = {}, this.pathPrefix = t
                    }

                    return t.prototype.queueAsset = function (t, i, n) {
                        var r = this.clientAssets[t];
                        return null == r && (r = new e(t), this.clientAssets[t] = r), null !== i && (r.textureLoader = i), r.toLoad.push(n), this.queuedAssets[n] !== n && (this.queuedAssets[n] = n, !0)
                    }, t.prototype.loadText = function (t, e) {
                        var i = this;
                        if (e = this.pathPrefix + e, this.queueAsset(t, null, e)) {
                            var n = new XMLHttpRequest;
                            n.onreadystatechange = function () {
                                n.readyState == XMLHttpRequest.DONE && (n.status >= 200 && n.status < 300 ? i.rawAssets[e] = n.responseText : i.errors[e] = "Couldn't load text " + e + ": status " + n.status + ", " + n.responseText)
                            }, n.open("GET", e, !0), n.send()
                        }
                    }, t.prototype.loadJson = function (t, e) {
                        var i = this;
                        if (e = this.pathPrefix + e, this.queueAsset(t, null, e)) {
                            var n = new XMLHttpRequest;
                            n.onreadystatechange = function () {
                                n.readyState == XMLHttpRequest.DONE && (n.status >= 200 && n.status < 300 ? i.rawAssets[e] = JSON.parse(n.responseText) : i.errors[e] = "Couldn't load text " + e + ": status " + n.status + ", " + n.responseText)
                            }, n.open("GET", e, !0), n.send()
                        }
                    }, t.prototype.loadTexture = function (t, e, i) {
                        var n = this;
                        if (i = this.pathPrefix + i, this.queueAsset(t, e, i)) {
                            var r = new Image;
                            r.src = i, r.crossOrigin = "anonymous", r.onload = function () {
                                n.rawAssets[i] = r
                            }, r.onerror = function () {
                                n.errors[i] = "Couldn't load image " + i
                            }
                        }
                    }, t.prototype.get = function (t, e) {
                        e = this.pathPrefix + e;
                        var i = this.clientAssets[t];
                        return null == i || i.assets[e]
                    }, t.prototype.updateClientAssets = function (t) {
                        for (var e = 0; e < t.toLoad.length; e++) {
                            var i = t.toLoad[e];
                            if (null == t.assets[i]) {
                                var n = this.rawAssets[i];
                                if (null == n) continue;
                                n instanceof HTMLImageElement ? t.assets[i] = t.textureLoader(n) : t.assets[i] = n
                            }
                        }
                    }, t.prototype.isLoadingComplete = function (t) {
                        var e = this.clientAssets[t];
                        return null == e || (this.updateClientAssets(e), e.toLoad.length == e.loaded())
                    }, t.prototype.dispose = function () {
                    }, t.prototype.hasErrors = function () {
                        return Object.keys(this.errors).length > 0
                    }, t.prototype.getErrors = function () {
                        return this.errors
                    }, t
                })();
                t.SharedAssetManager = i
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e(e) {
                        if (this._updateCache = new Array, this.updateCacheReset = new Array, this.time = 0, this.scaleX = 1, this.scaleY = 1, this.x = 0, this.y = 0, null == e) throw new Error("data cannot be null.");
                        this.data = e, this.bones = new Array;
                        for (var i = 0; i < e.bones.length; i++) {
                            var n = e.bones[i], r = void 0;
                            if (null == n.parent) r = new t.Bone(n, this, null); else {
                                var s = this.bones[n.parent.index];
                                r = new t.Bone(n, this, s), s.children.push(r)
                            }
                            this.bones.push(r)
                        }
                        for (this.slots = new Array, this.drawOrder = new Array, i = 0; i < e.slots.length; i++) {
                            var a = e.slots[i], o = (r = this.bones[a.boneData.index], new t.Slot(a, r));
                            this.slots.push(o), this.drawOrder.push(o)
                        }
                        for (this.ikConstraints = new Array, i = 0; i < e.ikConstraints.length; i++) {
                            var c = e.ikConstraints[i];
                            this.ikConstraints.push(new t.IkConstraint(c, this))
                        }
                        for (this.transformConstraints = new Array, i = 0; i < e.transformConstraints.length; i++) {
                            var l = e.transformConstraints[i];
                            this.transformConstraints.push(new t.TransformConstraint(l, this))
                        }
                        for (this.pathConstraints = new Array, i = 0; i < e.pathConstraints.length; i++) {
                            var h = e.pathConstraints[i];
                            this.pathConstraints.push(new t.PathConstraint(h, this))
                        }
                        this.color = new t.Color(1, 1, 1, 1), this.updateCache()
                    }

                    return e.prototype.updateCache = function () {
                        this._updateCache.length = 0, this.updateCacheReset.length = 0;
                        for (var t = this.bones, e = 0, i = t.length; e < i; e++) (r = t[e]).sorted = r.data.skinRequired, r.active = !r.sorted;
                        if (null != this.skin) {
                            var n = this.skin.bones;
                            for (e = 0, i = this.skin.bones.length; e < i; e++) {
                                var r = this.bones[n[e].index];
                                do {
                                    r.sorted = !1, r.active = !0, r = r.parent
                                } while (null != r)
                            }
                        }
                        var s = this.ikConstraints, a = this.transformConstraints, o = this.pathConstraints,
                            c = s.length, l = a.length, h = o.length, u = c + l + h;
                        t:for (e = 0; e < u; e++) {
                            for (var f = 0; f < c; f++) if ((d = s[f]).data.order == e) {
                                this.sortIkConstraint(d);
                                continue t
                            }
                            for (f = 0; f < l; f++) if ((d = a[f]).data.order == e) {
                                this.sortTransformConstraint(d);
                                continue t
                            }
                            for (f = 0; f < h; f++) {
                                var d;
                                if ((d = o[f]).data.order == e) {
                                    this.sortPathConstraint(d);
                                    continue t
                                }
                            }
                        }
                        for (e = 0, i = t.length; e < i; e++) this.sortBone(t[e])
                    }, e.prototype.sortIkConstraint = function (e) {
                        if (e.active = e.target.isActive() && (!e.data.skinRequired || null != this.skin && t.Utils.contains(this.skin.constraints, e.data, !0)), e.active) {
                            var i = e.target;
                            this.sortBone(i);
                            var n = e.bones, r = n[0];
                            if (this.sortBone(r), n.length > 1) {
                                var s = n[n.length - 1];
                                this._updateCache.indexOf(s) > -1 || this.updateCacheReset.push(s)
                            }
                            this._updateCache.push(e), this.sortReset(r.children), n[n.length - 1].sorted = !0
                        }
                    }, e.prototype.sortPathConstraint = function (e) {
                        if (e.active = e.target.bone.isActive() && (!e.data.skinRequired || null != this.skin && t.Utils.contains(this.skin.constraints, e.data, !0)), e.active) {
                            var i = e.target, n = i.data.index, r = i.bone;
                            null != this.skin && this.sortPathConstraintAttachment(this.skin, n, r), null != this.data.defaultSkin && this.data.defaultSkin != this.skin && this.sortPathConstraintAttachment(this.data.defaultSkin, n, r);
                            for (var s = 0, a = this.data.skins.length; s < a; s++) this.sortPathConstraintAttachment(this.data.skins[s], n, r);
                            var o = i.getAttachment();
                            o instanceof t.PathAttachment && this.sortPathConstraintAttachmentWith(o, r);
                            var c = e.bones, l = c.length;
                            for (s = 0; s < l; s++) this.sortBone(c[s]);
                            for (this._updateCache.push(e), s = 0; s < l; s++) this.sortReset(c[s].children);
                            for (s = 0; s < l; s++) c[s].sorted = !0
                        }
                    }, e.prototype.sortTransformConstraint = function (e) {
                        if (e.active = e.target.isActive() && (!e.data.skinRequired || null != this.skin && t.Utils.contains(this.skin.constraints, e.data, !0)), e.active) {
                            this.sortBone(e.target);
                            var i = e.bones, n = i.length;
                            if (e.data.local) for (var r = 0; r < n; r++) {
                                var s = i[r];
                                this.sortBone(s.parent), this._updateCache.indexOf(s) > -1 || this.updateCacheReset.push(s)
                            } else for (r = 0; r < n; r++) this.sortBone(i[r]);
                            this._updateCache.push(e);
                            for (var a = 0; a < n; a++) this.sortReset(i[a].children);
                            for (a = 0; a < n; a++) i[a].sorted = !0
                        }
                    }, e.prototype.sortPathConstraintAttachment = function (t, e, i) {
                        var n = t.attachments[e];
                        if (n) for (var r in n) this.sortPathConstraintAttachmentWith(n[r], i)
                    }, e.prototype.sortPathConstraintAttachmentWith = function (e, i) {
                        if (e instanceof t.PathAttachment) {
                            var n = e.bones;
                            if (null == n) this.sortBone(i); else for (var r = this.bones, s = 0; s < n.length;) for (var a = n[s++], o = s + a; s < o; s++) {
                                var c = n[s];
                                this.sortBone(r[c])
                            }
                        }
                    }, e.prototype.sortBone = function (t) {
                        if (!t.sorted) {
                            var e = t.parent;
                            null != e && this.sortBone(e), t.sorted = !0, this._updateCache.push(t)
                        }
                    }, e.prototype.sortReset = function (t) {
                        for (var e = 0, i = t.length; e < i; e++) {
                            var n = t[e];
                            n.active && (n.sorted && this.sortReset(n.children), n.sorted = !1)
                        }
                    }, e.prototype.updateWorldTransform = function () {
                        for (var t = this.updateCacheReset, e = 0, i = t.length; e < i; e++) {
                            var n = t[e];
                            n.ax = n.x, n.ay = n.y, n.arotation = n.rotation, n.ascaleX = n.scaleX, n.ascaleY = n.scaleY, n.ashearX = n.shearX, n.ashearY = n.shearY, n.appliedValid = !0
                        }
                        var r = this._updateCache;
                        for (e = 0, i = r.length; e < i; e++) r[e].update()
                    }, e.prototype.setToSetupPose = function () {
                        this.setBonesToSetupPose(), this.setSlotsToSetupPose()
                    }, e.prototype.setBonesToSetupPose = function () {
                        for (var t = this.bones, e = 0, i = t.length; e < i; e++) t[e].setToSetupPose();
                        var n = this.ikConstraints;
                        for (e = 0, i = n.length; e < i; e++) (o = n[e]).mix = o.data.mix, o.softness = o.data.softness, o.bendDirection = o.data.bendDirection, o.compress = o.data.compress, o.stretch = o.data.stretch;
                        var r = this.transformConstraints;
                        for (e = 0, i = r.length; e < i; e++) {
                            var s = (o = r[e]).data;
                            o.rotateMix = s.rotateMix, o.translateMix = s.translateMix, o.scaleMix = s.scaleMix, o.shearMix = s.shearMix
                        }
                        var a = this.pathConstraints;
                        for (e = 0, i = a.length; e < i; e++) {
                            var o;
                            s = (o = a[e]).data, o.position = s.position, o.spacing = s.spacing, o.rotateMix = s.rotateMix, o.translateMix = s.translateMix
                        }
                    }, e.prototype.setSlotsToSetupPose = function () {
                        var e = this.slots;
                        t.Utils.arrayCopy(e, 0, this.drawOrder, 0, e.length);
                        for (var i = 0, n = e.length; i < n; i++) e[i].setToSetupPose()
                    }, e.prototype.getRootBone = function () {
                        return 0 == this.bones.length ? null : this.bones[0]
                    }, e.prototype.findBone = function (t) {
                        if (null == t) throw new Error("boneName cannot be null.");
                        for (var e = this.bones, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r.data.name == t) return r
                        }
                        return null
                    }, e.prototype.findBoneIndex = function (t) {
                        if (null == t) throw new Error("boneName cannot be null.");
                        for (var e = this.bones, i = 0, n = e.length; i < n; i++) if (e[i].data.name == t) return i;
                        return -1
                    }, e.prototype.findSlot = function (t) {
                        if (null == t) throw new Error("slotName cannot be null.");
                        for (var e = this.slots, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r.data.name == t) return r
                        }
                        return null
                    }, e.prototype.findSlotIndex = function (t) {
                        if (null == t) throw new Error("slotName cannot be null.");
                        for (var e = this.slots, i = 0, n = e.length; i < n; i++) if (e[i].data.name == t) return i;
                        return -1
                    }, e.prototype.setSkinByName = function (t) {
                        var e = this.data.findSkin(t);
                        if (null == e) throw new Error("Skin not found: " + t);
                        this.setSkin(e)
                    }, e.prototype.setSkin = function (t) {
                        if (t != this.skin) {
                            if (null != t) if (null != this.skin) t.attachAll(this, this.skin); else for (var e = this.slots, i = 0, n = e.length; i < n; i++) {
                                var r = e[i], s = r.data.attachmentName;
                                if (null != s) {
                                    var a = t.getAttachment(i, s);
                                    null != a && r.setAttachment(a)
                                }
                            }
                            this.skin = t, this.updateCache()
                        }
                    }, e.prototype.getAttachmentByName = function (t, e) {
                        return this.getAttachment(this.data.findSlotIndex(t), e)
                    }, e.prototype.getAttachment = function (t, e) {
                        if (null == e) throw new Error("attachmentName cannot be null.");
                        if (null != this.skin) {
                            var i = this.skin.getAttachment(t, e);
                            if (null != i) return i
                        }
                        return null != this.data.defaultSkin ? this.data.defaultSkin.getAttachment(t, e) : null
                    }, e.prototype.setAttachment = function (t, e) {
                        if (null == t) throw new Error("slotName cannot be null.");
                        for (var i = this.slots, n = 0, r = i.length; n < r; n++) {
                            var s = i[n];
                            if (s.data.name == t) {
                                var a = null;
                                if (null != e && null == (a = this.getAttachment(n, e))) throw new Error("Attachment not found: " + e + ", for slot: " + t);
                                return void s.setAttachment(a)
                            }
                        }
                        throw new Error("Slot not found: " + t)
                    }, e.prototype.findIkConstraint = function (t) {
                        if (null == t) throw new Error("constraintName cannot be null.");
                        for (var e = this.ikConstraints, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r.data.name == t) return r
                        }
                        return null
                    }, e.prototype.findTransformConstraint = function (t) {
                        if (null == t) throw new Error("constraintName cannot be null.");
                        for (var e = this.transformConstraints, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r.data.name == t) return r
                        }
                        return null
                    }, e.prototype.findPathConstraint = function (t) {
                        if (null == t) throw new Error("constraintName cannot be null.");
                        for (var e = this.pathConstraints, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r.data.name == t) return r
                        }
                        return null
                    }, e.prototype.getBounds = function (e, i, n) {
                        if (void 0 === n && (n = new Array(2)), null == e) throw new Error("offset cannot be null.");
                        if (null == i) throw new Error("size cannot be null.");
                        for (var r = this.drawOrder, s = Number.POSITIVE_INFINITY, a = Number.POSITIVE_INFINITY, o = Number.NEGATIVE_INFINITY, c = Number.NEGATIVE_INFINITY, l = 0, h = r.length; l < h; l++) {
                            var u = r[l];
                            if (u.bone.active) {
                                var f = 0, d = null, _ = u.getAttachment();
                                if (_ instanceof t.RegionAttachment) f = 8, d = t.Utils.setArraySize(n, f, 0), _.computeWorldVertices(u.bone, d, 0, 2); else if (_ instanceof t.MeshAttachment) {
                                    var p = _;
                                    f = p.worldVerticesLength, d = t.Utils.setArraySize(n, f, 0), p.computeWorldVertices(u, 0, f, d, 0, 2)
                                }
                                if (null != d) for (var v = 0, g = d.length; v < g; v += 2) {
                                    var m = d[v], y = d[v + 1];
                                    s = Math.min(s, m), a = Math.min(a, y), o = Math.max(o, m), c = Math.max(c, y)
                                }
                            }
                        }
                        e.set(s, a), i.set(o - s, c - a)
                    }, e.prototype.update = function (t) {
                        this.time += t
                    }, e
                })();
                t.Skeleton = e
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e(t) {
                        this.scale = 1, this.linkedMeshes = new Array, this.attachmentLoader = t
                    }

                    return e.prototype.readSkeletonData = function (n) {
                        var r = this.scale, s = new t.SkeletonData;
                        s.name = "";
                        var a = new i(n);
                        s.hash = a.readString(), s.version = a.readString(), s.x = a.readFloat(), s.y = a.readFloat(), s.width = a.readFloat(), s.height = a.readFloat();
                        var o = a.readBoolean();
                        o && (s.fps = a.readFloat(), s.imagesPath = a.readString(), s.audioPath = a.readString());
                        var c = 0;
                        c = a.readInt(!0);
                        for (var l = 0; l < c; l++) a.strings.push(a.readString());
                        for (c = a.readInt(!0), l = 0; l < c; l++) {
                            var h = a.readString(), u = 0 == l ? null : s.bones[a.readInt(!0)];
                            (_ = new t.BoneData(l, h, u)).rotation = a.readFloat(), _.x = a.readFloat() * r, _.y = a.readFloat() * r, _.scaleX = a.readFloat(), _.scaleY = a.readFloat(), _.shearX = a.readFloat(), _.shearY = a.readFloat(), _.length = a.readFloat() * r, _.transformMode = e.TransformModeValues[a.readInt(!0)], _.skinRequired = a.readBoolean(), o && t.Color.rgba8888ToColor(_.color, a.readInt32()), s.bones.push(_)
                        }
                        for (c = a.readInt(!0), l = 0; l < c; l++) {
                            var f = a.readString(), d = s.bones[a.readInt(!0)], _ = new t.SlotData(l, f, d);
                            t.Color.rgba8888ToColor(_.color, a.readInt32());
                            var p = a.readInt32();
                            -1 != p && t.Color.rgb888ToColor(_.darkColor = new t.Color, p), _.attachmentName = a.readStringRef(), _.blendMode = e.BlendModeValues[a.readInt(!0)], s.slots.push(_)
                        }
                        c = a.readInt(!0), l = 0;
                        for (var v = void 0; l < c; l++) {
                            (_ = new t.IkConstraintData(a.readString())).order = a.readInt(!0), _.skinRequired = a.readBoolean(), v = a.readInt(!0);
                            for (var g = 0; g < v; g++) _.bones.push(s.bones[a.readInt(!0)]);
                            _.target = s.bones[a.readInt(!0)], _.mix = a.readFloat(), _.softness = a.readFloat() * r, _.bendDirection = a.readByte(), _.compress = a.readBoolean(), _.stretch = a.readBoolean(), _.uniform = a.readBoolean(), s.ikConstraints.push(_)
                        }
                        for (c = a.readInt(!0), l = 0, v = void 0; l < c; l++) {
                            for ((_ = new t.TransformConstraintData(a.readString())).order = a.readInt(!0), _.skinRequired = a.readBoolean(), v = a.readInt(!0), g = 0; g < v; g++) _.bones.push(s.bones[a.readInt(!0)]);
                            _.target = s.bones[a.readInt(!0)], _.local = a.readBoolean(), _.relative = a.readBoolean(), _.offsetRotation = a.readFloat(), _.offsetX = a.readFloat() * r, _.offsetY = a.readFloat() * r, _.offsetScaleX = a.readFloat(), _.offsetScaleY = a.readFloat(), _.offsetShearY = a.readFloat(), _.rotateMix = a.readFloat(), _.translateMix = a.readFloat(), _.scaleMix = a.readFloat(), _.shearMix = a.readFloat(), s.transformConstraints.push(_)
                        }
                        for (c = a.readInt(!0), l = 0, v = void 0; l < c; l++) {
                            for ((_ = new t.PathConstraintData(a.readString())).order = a.readInt(!0), _.skinRequired = a.readBoolean(), v = a.readInt(!0), g = 0; g < v; g++) _.bones.push(s.bones[a.readInt(!0)]);
                            _.target = s.slots[a.readInt(!0)], _.positionMode = e.PositionModeValues[a.readInt(!0)], _.spacingMode = e.SpacingModeValues[a.readInt(!0)], _.rotateMode = e.RotateModeValues[a.readInt(!0)], _.offsetRotation = a.readFloat(), _.position = a.readFloat(), _.positionMode == t.PositionMode.Fixed && (_.position *= r), _.spacing = a.readFloat(), _.spacingMode != t.SpacingMode.Length && _.spacingMode != t.SpacingMode.Fixed || (_.spacing *= r), _.rotateMix = a.readFloat(), _.translateMix = a.readFloat(), s.pathConstraints.push(_)
                        }
                        var m = this.readSkin(a, s, !0, o);
                        for (null != m && (s.defaultSkin = m, s.skins.push(m)), l = s.skins.length, t.Utils.setArraySize(s.skins, c = l + a.readInt(!0)); l < c; l++) s.skins[l] = this.readSkin(a, s, !1, o);
                        for (c = this.linkedMeshes.length, l = 0; l < c; l++) {
                            var y = this.linkedMeshes[l], T = null == y.skin ? s.defaultSkin : s.findSkin(y.skin);
                            if (null == T) throw new Error("Skin not found: " + y.skin);
                            var E = T.getAttachment(y.slotIndex, y.parent);
                            if (null == E) throw new Error("Parent mesh not found: " + y.parent);
                            y.mesh.deformAttachment = y.inheritDeform ? E : y.mesh, y.mesh.setParentMesh(E), y.mesh.updateUVs()
                        }
                        for (this.linkedMeshes.length = 0, c = a.readInt(!0), l = 0; l < c; l++) (_ = new t.EventData(a.readStringRef())).intValue = a.readInt(!1), _.floatValue = a.readFloat(), _.stringValue = a.readString(), _.audioPath = a.readString(), null != _.audioPath && (_.volume = a.readFloat(), _.balance = a.readFloat()), s.events.push(_);
                        for (c = a.readInt(!0), l = 0; l < c; l++) s.animations.push(this.readAnimation(a, a.readString(), s));
                        return s
                    }, e.prototype.readSkin = function (e, i, n, r) {
                        var s = null, a = 0;
                        if (n) {
                            if (0 == (a = e.readInt(!0))) return null;
                            s = new t.Skin("default")
                        } else {
                            (s = new t.Skin(e.readStringRef())).bones.length = e.readInt(!0);
                            for (var o = 0, c = s.bones.length; o < c; o++) s.bones[o] = i.bones[e.readInt(!0)];
                            for (o = 0, c = e.readInt(!0); o < c; o++) s.constraints.push(i.ikConstraints[e.readInt(!0)]);
                            for (o = 0, c = e.readInt(!0); o < c; o++) s.constraints.push(i.transformConstraints[e.readInt(!0)]);
                            for (o = 0, c = e.readInt(!0); o < c; o++) s.constraints.push(i.pathConstraints[e.readInt(!0)]);
                            a = e.readInt(!0)
                        }
                        for (o = 0; o < a; o++) for (var l = e.readInt(!0), h = 0, u = e.readInt(!0); h < u; h++) {
                            var f = e.readStringRef(), d = this.readAttachment(e, i, s, l, f, r);
                            null != d && s.setAttachment(l, f, d)
                        }
                        return s
                    }, e.prototype.readAttachment = function (i, r, s, a, o, c) {
                        var l = this.scale, h = i.readStringRef();
                        null == h && (h = o);
                        var u = i.readByte();
                        switch (e.AttachmentTypeValues[u]) {
                            case t.AttachmentType.Region:
                                var f = i.readStringRef(), d = i.readFloat(), _ = i.readFloat(), p = i.readFloat(),
                                    v = i.readFloat(), g = i.readFloat(), m = i.readFloat(), y = i.readFloat(),
                                    T = i.readInt32();
                                null == f && (f = h);
                                var E = this.attachmentLoader.newRegionAttachment(s, h, f);
                                return null == E ? null : (E.path = f, E.x = _ * l, E.y = p * l, E.scaleX = v, E.scaleY = g, E.rotation = d, E.width = m * l, E.height = y * l, t.Color.rgba8888ToColor(E.color, T), E.updateOffset(), E);
                            case t.AttachmentType.BoundingBox:
                                var A = i.readInt(!0), b = this.readVertices(i, A),
                                    x = (T = c ? i.readInt32() : 0, this.attachmentLoader.newBoundingBoxAttachment(s, h));
                                return null == x ? null : (x.worldVerticesLength = A << 1, x.vertices = b.vertices, x.bones = b.bones, c && t.Color.rgba8888ToColor(x.color, T), x);
                            case t.AttachmentType.Mesh:
                                f = i.readStringRef(), T = i.readInt32(), A = i.readInt(!0);
                                var C = this.readFloatArray(i, A << 1, 1), S = this.readShortArray(i),
                                    w = (b = this.readVertices(i, A), i.readInt(!0)), M = null;
                                return m = 0, y = 0, c && (M = this.readShortArray(i), m = i.readFloat(), y = i.readFloat()), null == f && (f = h), null == (R = this.attachmentLoader.newMeshAttachment(s, h, f)) ? null : (R.path = f, t.Color.rgba8888ToColor(R.color, T), R.bones = b.bones, R.vertices = b.vertices, R.worldVerticesLength = A << 1, R.triangles = S, R.regionUVs = C, R.updateUVs(), R.hullLength = w << 1, c && (R.edges = M, R.width = m * l, R.height = y * l), R);
                            case t.AttachmentType.LinkedMesh:
                                f = i.readStringRef(), T = i.readInt32();
                                var R, I = i.readStringRef(), O = i.readStringRef(), D = i.readBoolean();
                                return m = 0, y = 0, c && (m = i.readFloat(), y = i.readFloat()), null == f && (f = h), null == (R = this.attachmentLoader.newMeshAttachment(s, h, f)) ? null : (R.path = f, t.Color.rgba8888ToColor(R.color, T), c && (R.width = m * l, R.height = y * l), this.linkedMeshes.push(new n(R, I, a, O, D)), R);
                            case t.AttachmentType.Path:
                                for (var P = i.readBoolean(), L = i.readBoolean(), N = (A = i.readInt(!0), b = this.readVertices(i, A), t.Utils.newArray(A / 3, 0)), F = 0, B = N.length; F < B; F++) N[F] = i.readFloat() * l;
                                return T = c ? i.readInt32() : 0, null == (f = this.attachmentLoader.newPathAttachment(s, h)) ? null : (f.closed = P, f.constantSpeed = L, f.worldVerticesLength = A << 1, f.vertices = b.vertices, f.bones = b.bones, f.lengths = N, c && t.Color.rgba8888ToColor(f.color, T), f);
                            case t.AttachmentType.Point:
                                d = i.readFloat(), _ = i.readFloat(), p = i.readFloat(), T = c ? i.readInt32() : 0;
                                var k = this.attachmentLoader.newPointAttachment(s, h);
                                return null == k ? null : (k.x = _ * l, k.y = p * l, k.rotation = d, c && t.Color.rgba8888ToColor(k.color, T), k);
                            case t.AttachmentType.Clipping:
                                var V = i.readInt(!0),
                                    U = (A = i.readInt(!0), b = this.readVertices(i, A), T = c ? i.readInt32() : 0, this.attachmentLoader.newClippingAttachment(s, h));
                                return null == U ? null : (U.endSlot = r.slots[V], U.worldVerticesLength = A << 1, U.vertices = b.vertices, U.bones = b.bones, c && t.Color.rgba8888ToColor(U.color, T), U)
                        }
                        return null
                    }, e.prototype.readVertices = function (e, i) {
                        var n = i << 1, s = new r, a = this.scale;
                        if (!e.readBoolean()) return s.vertices = this.readFloatArray(e, n, a), s;
                        for (var o = new Array, c = new Array, l = 0; l < i; l++) {
                            var h = e.readInt(!0);
                            c.push(h);
                            for (var u = 0; u < h; u++) c.push(e.readInt(!0)), o.push(e.readFloat() * a), o.push(e.readFloat() * a), o.push(e.readFloat())
                        }
                        return s.vertices = t.Utils.toFloatArray(o), s.bones = c, s
                    }, e.prototype.readFloatArray = function (t, e, i) {
                        var n = new Array(e);
                        if (1 == i) for (var r = 0; r < e; r++) n[r] = t.readFloat(); else for (r = 0; r < e; r++) n[r] = t.readFloat() * i;
                        return n
                    }, e.prototype.readShortArray = function (t) {
                        for (var e = t.readInt(!0), i = new Array(e), n = 0; n < e; n++) i[n] = t.readShort();
                        return i
                    }, e.prototype.readAnimation = function (i, n, r) {
                        for (var s = new Array, a = this.scale, o = 0, c = new t.Color, l = new t.Color, h = 0, u = i.readInt(!0); h < u; h++) for (var f = i.readInt(!0), d = 0, _ = i.readInt(!0); d < _; d++) {
                            var p = i.readByte(), v = i.readInt(!0);
                            switch (p) {
                                case e.SLOT_ATTACHMENT:
                                    (T = new t.AttachmentTimeline(v)).slotIndex = f;
                                    for (var g = 0; g < v; g++) T.setFrame(g, i.readFloat(), i.readStringRef());
                                    s.push(T), o = Math.max(o, T.frames[v - 1]);
                                    break;
                                case e.SLOT_COLOR:
                                    for ((T = new t.ColorTimeline(v)).slotIndex = f, g = 0; g < v; g++) {
                                        var m = i.readFloat();
                                        t.Color.rgba8888ToColor(c, i.readInt32()), T.setFrame(g, m, c.r, c.g, c.b, c.a), g < v - 1 && this.readCurve(i, g, T)
                                    }
                                    s.push(T), o = Math.max(o, T.frames[(v - 1) * t.ColorTimeline.ENTRIES]);
                                    break;
                                case e.SLOT_TWO_COLOR:
                                    for ((T = new t.TwoColorTimeline(v)).slotIndex = f, g = 0; g < v; g++) m = i.readFloat(), t.Color.rgba8888ToColor(c, i.readInt32()), t.Color.rgb888ToColor(l, i.readInt32()), T.setFrame(g, m, c.r, c.g, c.b, c.a, l.r, l.g, l.b), g < v - 1 && this.readCurve(i, g, T);
                                    s.push(T), o = Math.max(o, T.frames[(v - 1) * t.TwoColorTimeline.ENTRIES])
                            }
                        }
                        for (h = 0, u = i.readInt(!0); h < u; h++) {
                            var y = i.readInt(!0);
                            for (d = 0, _ = i.readInt(!0); d < _; d++) switch (p = i.readByte(), v = i.readInt(!0), p) {
                                case e.BONE_ROTATE:
                                    for ((T = new t.RotateTimeline(v)).boneIndex = y, g = 0; g < v; g++) T.setFrame(g, i.readFloat(), i.readFloat()), g < v - 1 && this.readCurve(i, g, T);
                                    s.push(T), o = Math.max(o, T.frames[(v - 1) * t.RotateTimeline.ENTRIES]);
                                    break;
                                case e.BONE_TRANSLATE:
                                case e.BONE_SCALE:
                                case e.BONE_SHEAR:
                                    var T = void 0, E = 1;
                                    for (p == e.BONE_SCALE ? T = new t.ScaleTimeline(v) : p == e.BONE_SHEAR ? T = new t.ShearTimeline(v) : (T = new t.TranslateTimeline(v), E = a), T.boneIndex = y, g = 0; g < v; g++) T.setFrame(g, i.readFloat(), i.readFloat() * E, i.readFloat() * E), g < v - 1 && this.readCurve(i, g, T);
                                    s.push(T), o = Math.max(o, T.frames[(v - 1) * t.TranslateTimeline.ENTRIES])
                            }
                        }
                        for (h = 0, u = i.readInt(!0); h < u; h++) {
                            var A = i.readInt(!0);
                            for (v = i.readInt(!0), (T = new t.IkConstraintTimeline(v)).ikConstraintIndex = A, g = 0; g < v; g++) T.setFrame(g, i.readFloat(), i.readFloat(), i.readFloat() * a, i.readByte(), i.readBoolean(), i.readBoolean()), g < v - 1 && this.readCurve(i, g, T);
                            s.push(T), o = Math.max(o, T.frames[(v - 1) * t.IkConstraintTimeline.ENTRIES])
                        }
                        for (h = 0, u = i.readInt(!0); h < u; h++) {
                            for (A = i.readInt(!0), v = i.readInt(!0), (T = new t.TransformConstraintTimeline(v)).transformConstraintIndex = A, g = 0; g < v; g++) T.setFrame(g, i.readFloat(), i.readFloat(), i.readFloat(), i.readFloat(), i.readFloat()), g < v - 1 && this.readCurve(i, g, T);
                            s.push(T), o = Math.max(o, T.frames[(v - 1) * t.TransformConstraintTimeline.ENTRIES])
                        }
                        for (h = 0, u = i.readInt(!0); h < u; h++) {
                            A = i.readInt(!0);
                            var b = r.pathConstraints[A];
                            for (d = 0, _ = i.readInt(!0); d < _; d++) switch (p = i.readByte(), v = i.readInt(!0), p) {
                                case e.PATH_POSITION:
                                case e.PATH_SPACING:
                                    for (T = void 0, E = 1, p == e.PATH_SPACING ? (T = new t.PathConstraintSpacingTimeline(v), b.spacingMode != t.SpacingMode.Length && b.spacingMode != t.SpacingMode.Fixed || (E = a)) : (T = new t.PathConstraintPositionTimeline(v), b.positionMode == t.PositionMode.Fixed && (E = a)), T.pathConstraintIndex = A, g = 0; g < v; g++) T.setFrame(g, i.readFloat(), i.readFloat() * E), g < v - 1 && this.readCurve(i, g, T);
                                    s.push(T), o = Math.max(o, T.frames[(v - 1) * t.PathConstraintPositionTimeline.ENTRIES]);
                                    break;
                                case e.PATH_MIX:
                                    for ((T = new t.PathConstraintMixTimeline(v)).pathConstraintIndex = A, g = 0; g < v; g++) T.setFrame(g, i.readFloat(), i.readFloat(), i.readFloat()), g < v - 1 && this.readCurve(i, g, T);
                                    s.push(T), o = Math.max(o, T.frames[(v - 1) * t.PathConstraintMixTimeline.ENTRIES])
                            }
                        }
                        for (h = 0, u = i.readInt(!0); h < u; h++) {
                            var x = r.skins[i.readInt(!0)];
                            for (d = 0, _ = i.readInt(!0); d < _; d++) {
                                f = i.readInt(!0);
                                for (var C = 0, S = i.readInt(!0); C < S; C++) {
                                    var w = x.getAttachment(f, i.readStringRef()), M = null != w.bones, R = w.vertices,
                                        I = M ? R.length / 3 * 2 : R.length;
                                    for (v = i.readInt(!0), (T = new t.DeformTimeline(v)).slotIndex = f, T.attachment = w, g = 0; g < v; g++) {
                                        m = i.readFloat();
                                        var O = void 0, D = i.readInt(!0);
                                        if (0 == D) O = M ? t.Utils.newFloatArray(I) : R; else {
                                            O = t.Utils.newFloatArray(I);
                                            var P = i.readInt(!0);
                                            if (D += P, 1 == a) for (var L = P; L < D; L++) O[L] = i.readFloat(); else for (L = P; L < D; L++) O[L] = i.readFloat() * a;
                                            if (!M) {
                                                L = 0;
                                                for (var N = O.length; L < N; L++) O[L] += R[L]
                                            }
                                        }
                                        T.setFrame(g, m, O), g < v - 1 && this.readCurve(i, g, T)
                                    }
                                    s.push(T), o = Math.max(o, T.frames[v - 1])
                                }
                            }
                        }
                        var F = i.readInt(!0);
                        if (F > 0) {
                            T = new t.DrawOrderTimeline(F);
                            var B = r.slots.length;
                            for (h = 0; h < F; h++) {
                                m = i.readFloat();
                                var k = i.readInt(!0), V = t.Utils.newArray(B, 0);
                                for (d = B - 1; d >= 0; d--) V[d] = -1;
                                var U = t.Utils.newArray(B - k, 0), z = 0, H = 0;
                                for (d = 0; d < k; d++) {
                                    for (f = i.readInt(!0); z != f;) U[H++] = z++;
                                    V[z + i.readInt(!0)] = z++
                                }
                                for (; z < B;) U[H++] = z++;
                                for (d = B - 1; d >= 0; d--) -1 == V[d] && (V[d] = U[--H]);
                                T.setFrame(h, m, V)
                            }
                            s.push(T), o = Math.max(o, T.frames[F - 1])
                        }
                        var W = i.readInt(!0);
                        if (W > 0) {
                            for (T = new t.EventTimeline(W), h = 0; h < W; h++) {
                                m = i.readFloat();
                                var G = r.events[i.readInt(!0)], j = new t.Event(m, G);
                                j.intValue = i.readInt(!1), j.floatValue = i.readFloat(), j.stringValue = i.readBoolean() ? i.readString() : G.stringValue, null != j.data.audioPath && (j.volume = i.readFloat(), j.balance = i.readFloat()), T.setFrame(h, j)
                            }
                            s.push(T), o = Math.max(o, T.frames[W - 1])
                        }
                        return new t.Animation(n, s, o)
                    }, e.prototype.readCurve = function (t, i, n) {
                        switch (t.readByte()) {
                            case e.CURVE_STEPPED:
                                n.setStepped(i);
                                break;
                            case e.CURVE_BEZIER:
                                this.setCurve(n, i, t.readFloat(), t.readFloat(), t.readFloat(), t.readFloat())
                        }
                    }, e.prototype.setCurve = function (t, e, i, n, r, s) {
                        t.setCurve(e, i, n, r, s)
                    }, e.AttachmentTypeValues = [0, 1, 2, 3, 4, 5, 6], e.TransformModeValues = [t.TransformMode.Normal, t.TransformMode.OnlyTranslation, t.TransformMode.NoRotationOrReflection, t.TransformMode.NoScale, t.TransformMode.NoScaleOrReflection], e.PositionModeValues = [t.PositionMode.Fixed, t.PositionMode.Percent], e.SpacingModeValues = [t.SpacingMode.Length, t.SpacingMode.Fixed, t.SpacingMode.Percent], e.RotateModeValues = [t.RotateMode.Tangent, t.RotateMode.Chain, t.RotateMode.ChainScale], e.BlendModeValues = [t.BlendMode.Normal, t.BlendMode.Additive, t.BlendMode.Multiply, t.BlendMode.Screen], e.BONE_ROTATE = 0, e.BONE_TRANSLATE = 1, e.BONE_SCALE = 2, e.BONE_SHEAR = 3, e.SLOT_ATTACHMENT = 0, e.SLOT_COLOR = 1, e.SLOT_TWO_COLOR = 2, e.PATH_POSITION = 0, e.PATH_SPACING = 1, e.PATH_MIX = 2, e.CURVE_LINEAR = 0, e.CURVE_STEPPED = 1, e.CURVE_BEZIER = 2, e
                })();
                t.SkeletonBinary = e;
                var i = (function () {
                    function t(t, e, i, n) {
                        void 0 === e && (e = new Array), void 0 === i && (i = 0), void 0 === n && (n = new DataView(t.buffer)), this.strings = e, this.index = i, this.buffer = n
                    }

                    return t.prototype.readByte = function () {
                        return this.buffer.getInt8(this.index++)
                    }, t.prototype.readShort = function () {
                        var t = this.buffer.getInt16(this.index);
                        return this.index += 2, t
                    }, t.prototype.readInt32 = function () {
                        var t = this.buffer.getInt32(this.index);
                        return this.index += 4, t
                    }, t.prototype.readInt = function (t) {
                        var e = this.readByte(), i = 127 & e;
                        return 0 != (128 & e) && (i |= (127 & (e = this.readByte())) << 7, 0 != (128 & e) && (i |= (127 & (e = this.readByte())) << 14, 0 != (128 & e) && (i |= (127 & (e = this.readByte())) << 21, 0 != (128 & e) && (i |= (127 & (e = this.readByte())) << 28)))), t ? i : i >>> 1 ^ -(1 & i)
                    }, t.prototype.readStringRef = function () {
                        var t = this.readInt(!0);
                        return 0 == t ? null : this.strings[t - 1]
                    }, t.prototype.readString = function () {
                        var t = this.readInt(!0);
                        switch (t) {
                            case 0:
                                return null;
                            case 1:
                                return ""
                        }
                        t--;
                        for (var e = "", i = 0; i < t;) {
                            var n = this.readByte();
                            switch (n >> 4) {
                                case 12:
                                case 13:
                                    e += String.fromCharCode((31 & n) << 6 | 63 & this.readByte()), i += 2;
                                    break;
                                case 14:
                                    e += String.fromCharCode((15 & n) << 12 | (63 & this.readByte()) << 6 | 63 & this.readByte()), i += 3;
                                    break;
                                default:
                                    e += String.fromCharCode(n), i++
                            }
                        }
                        return e
                    }, t.prototype.readFloat = function () {
                        var t = this.buffer.getFloat32(this.index);
                        return this.index += 4, t
                    }, t.prototype.readBoolean = function () {
                        return 0 != this.readByte()
                    }, t
                })(), n = function (t, e, i, n, r) {
                    this.mesh = t, this.skin = e, this.slotIndex = i, this.parent = n, this.inheritDeform = r
                }, r = function (t, e) {
                    void 0 === t && (t = null), void 0 === e && (e = null), this.bones = t, this.vertices = e
                }
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e() {
                        this.minX = 0, this.minY = 0, this.maxX = 0, this.maxY = 0, this.boundingBoxes = new Array, this.polygons = new Array, this.polygonPool = new t.Pool(function () {
                            return t.Utils.newFloatArray(16)
                        })
                    }

                    return e.prototype.update = function (e, i) {
                        if (null == e) throw new Error("skeleton cannot be null.");
                        var n = this.boundingBoxes, r = this.polygons, s = this.polygonPool, a = e.slots, o = a.length;
                        n.length = 0, s.freeAll(r), r.length = 0;
                        for (var c = 0; c < o; c++) {
                            var l = a[c];
                            if (l.bone.active) {
                                var h = l.getAttachment();
                                if (h instanceof t.BoundingBoxAttachment) {
                                    var u = h;
                                    n.push(u);
                                    var f = s.obtain();
                                    f.length != u.worldVerticesLength && (f = t.Utils.newFloatArray(u.worldVerticesLength)), r.push(f), u.computeWorldVertices(l, 0, u.worldVerticesLength, f, 0, 2)
                                }
                            }
                        }
                        i ? this.aabbCompute() : (this.minX = Number.POSITIVE_INFINITY, this.minY = Number.POSITIVE_INFINITY, this.maxX = Number.NEGATIVE_INFINITY, this.maxY = Number.NEGATIVE_INFINITY)
                    }, e.prototype.aabbCompute = function () {
                        for (var t = Number.POSITIVE_INFINITY, e = Number.POSITIVE_INFINITY, i = Number.NEGATIVE_INFINITY, n = Number.NEGATIVE_INFINITY, r = this.polygons, s = 0, a = r.length; s < a; s++) for (var o = r[s], c = o, l = 0, h = o.length; l < h; l += 2) {
                            var u = c[l], f = c[l + 1];
                            t = Math.min(t, u), e = Math.min(e, f), i = Math.max(i, u), n = Math.max(n, f)
                        }
                        this.minX = t, this.minY = e, this.maxX = i, this.maxY = n
                    }, e.prototype.aabbContainsPoint = function (t, e) {
                        return t >= this.minX && t <= this.maxX && e >= this.minY && e <= this.maxY
                    }, e.prototype.aabbIntersectsSegment = function (t, e, i, n) {
                        var r = this.minX, s = this.minY, a = this.maxX, o = this.maxY;
                        if (t <= r && i <= r || e <= s && n <= s || t >= a && i >= a || e >= o && n >= o) return !1;
                        var c = (n - e) / (i - t), l = c * (r - t) + e;
                        if (l > s && l < o) return !0;
                        if ((l = c * (a - t) + e) > s && l < o) return !0;
                        var h = (s - e) / c + t;
                        return h > r && h < a || (h = (o - e) / c + t) > r && h < a
                    }, e.prototype.aabbIntersectsSkeleton = function (t) {
                        return this.minX < t.maxX && this.maxX > t.minX && this.minY < t.maxY && this.maxY > t.minY
                    }, e.prototype.containsPoint = function (t, e) {
                        for (var i = this.polygons, n = 0, r = i.length; n < r; n++) if (this.containsPointPolygon(i[n], t, e)) return this.boundingBoxes[n];
                        return null
                    }, e.prototype.containsPointPolygon = function (t, e, i) {
                        for (var n = t, r = t.length, s = r - 2, a = !1, o = 0; o < r; o += 2) {
                            var c = n[o + 1], l = n[s + 1];
                            if (c < i && l >= i || l < i && c >= i) {
                                var h = n[o];
                                h + (i - c) / (l - c) * (n[s] - h) < e && (a = !a)
                            }
                            s = o
                        }
                        return a
                    }, e.prototype.intersectsSegment = function (t, e, i, n) {
                        for (var r = this.polygons, s = 0, a = r.length; s < a; s++) if (this.intersectsSegmentPolygon(r[s], t, e, i, n)) return this.boundingBoxes[s];
                        return null
                    }, e.prototype.intersectsSegmentPolygon = function (t, e, i, n, r) {
                        for (var s = t, a = t.length, o = e - n, c = i - r, l = e * r - i * n, h = s[a - 2], u = s[a - 1], f = 0; f < a; f += 2) {
                            var d = s[f], _ = s[f + 1], p = h * _ - u * d, v = h - d, g = u - _, m = o * g - c * v,
                                y = (l * v - o * p) / m;
                            if ((y >= h && y <= d || y >= d && y <= h) && (y >= e && y <= n || y >= n && y <= e)) {
                                var T = (l * g - c * p) / m;
                                if ((T >= u && T <= _ || T >= _ && T <= u) && (T >= i && T <= r || T >= r && T <= i)) return !0
                            }
                            h = d, u = _
                        }
                        return !1
                    }, e.prototype.getPolygon = function (t) {
                        if (null == t) throw new Error("boundingBox cannot be null.");
                        var e = this.boundingBoxes.indexOf(t);
                        return -1 == e ? null : this.polygons[e]
                    }, e.prototype.getWidth = function () {
                        return this.maxX - this.minX
                    }, e.prototype.getHeight = function () {
                        return this.maxY - this.minY
                    }, e
                })();
                t.SkeletonBounds = e
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e() {
                        this.triangulator = new t.Triangulator, this.clippingPolygon = new Array, this.clipOutput = new Array, this.clippedVertices = new Array, this.clippedTriangles = new Array, this.scratch = new Array
                    }

                    return e.prototype.clipStart = function (i, n) {
                        if (null != this.clipAttachment) return 0;
                        this.clipAttachment = n;
                        var r = n.worldVerticesLength, s = t.Utils.setArraySize(this.clippingPolygon, r);
                        n.computeWorldVertices(i, 0, r, s, 0, 2);
                        var a = this.clippingPolygon;
                        e.makeClockwise(a);
                        for (var o = this.clippingPolygons = this.triangulator.decompose(a, this.triangulator.triangulate(a)), c = 0, l = o.length; c < l; c++) {
                            var h = o[c];
                            e.makeClockwise(h), h.push(h[0]), h.push(h[1])
                        }
                        return o.length
                    }, e.prototype.clipEndWithSlot = function (t) {
                        null != this.clipAttachment && this.clipAttachment.endSlot == t.data && this.clipEnd()
                    }, e.prototype.clipEnd = function () {
                        null != this.clipAttachment && (this.clipAttachment = null, this.clippingPolygons = null, this.clippedVertices.length = 0, this.clippedTriangles.length = 0, this.clippingPolygon.length = 0)
                    }, e.prototype.isClipping = function () {
                        return null != this.clipAttachment
                    }, e.prototype.clipTriangles = function (e, i, n, r, s, a, o, c, l, h, u, f) {
                        var d = this.clipOutput, _ = this.clippedVertices, p = this.clippedTriangles,
                            v = this.clippingPolygons, g = this.clippingPolygons.length, m = c ? 12 : 8, y = 0;
                        h = h || 0, u = u || 0, f = f || 0, _.length = 0, p.length = 0;
                        t:for (var T = h, E = h + r; T < E; T += 3) {
                            var A = n[T] * l, b = A + u, x = A + f, C = e[b], S = e[b + 1], w = s[x], M = s[x + 1];
                            x = (A = n[T + 1] * l) + f;
                            var R = e[b = A + u], I = e[b + 1], O = s[x], D = s[x + 1];
                            x = (A = n[T + 2] * l) + f;
                            for (var P = e[b = A + u], L = e[b + 1], N = s[x], F = s[x + 1], B = 0; B < g; B++) {
                                var k = _.length;
                                if (!this.clip(C, S, R, I, P, L, v[B], d)) {
                                    (Y = t.Utils.setArraySize(_, k + 3 * m))[k] = C, Y[k + 1] = S, Y[k + 2] = a.r, Y[k + 3] = a.g, Y[k + 4] = a.b, Y[k + 5] = a.a, c ? (Y[k + 6] = w, Y[k + 7] = M, Y[k + 8] = o.r, Y[k + 9] = o.g, Y[k + 10] = o.b, Y[k + 11] = o.a, Y[k + 12] = R, Y[k + 13] = I, Y[k + 14] = a.r, Y[k + 15] = a.g, Y[k + 16] = a.b, Y[k + 17] = a.a, Y[k + 18] = O, Y[k + 19] = D, Y[k + 20] = o.r, Y[k + 21] = o.g, Y[k + 22] = o.b, Y[k + 23] = o.a, Y[k + 24] = P, Y[k + 25] = L, Y[k + 26] = a.r, Y[k + 27] = a.g, Y[k + 28] = a.b, Y[k + 29] = a.a, Y[k + 30] = N, Y[k + 31] = F, Y[k + 32] = o.r, Y[k + 33] = o.g, Y[k + 34] = o.b, Y[k + 35] = o.a) : (Y[k + 6] = w, Y[k + 7] = M, Y[k + 8] = R, Y[k + 9] = I, Y[k + 10] = a.r, Y[k + 11] = a.g, Y[k + 12] = a.b, Y[k + 13] = a.a, Y[k + 14] = O, Y[k + 15] = D, Y[k + 16] = P, Y[k + 17] = L, Y[k + 18] = a.r, Y[k + 19] = a.g, Y[k + 20] = a.b, Y[k + 21] = a.a, Y[k + 22] = N, Y[k + 23] = F), k = p.length, (it = t.Utils.setArraySize(p, k + 3))[k] = y, it[k + 1] = y + 1, it[k + 2] = y + 2, y += 3;
                                    continue t
                                }
                                var V = d.length;
                                if (0 != V) {
                                    for (var U = I - L, z = P - R, H = C - P, W = L - S, G = 1 / (U * H + z * (S - L)), j = V >> 1, X = this.clipOutput, Y = t.Utils.setArraySize(_, k + j * m), q = 0; q < V; q += 2) {
                                        var Z = X[q], K = X[q + 1];
                                        Y[k] = Z, Y[k + 1] = K, Y[k + 2] = a.r, Y[k + 3] = a.g, Y[k + 4] = a.b, Y[k + 5] = a.a;
                                        var J = Z - P, Q = K - L, $ = (U * J + z * Q) * G, tt = (W * J + H * Q) * G,
                                            et = 1 - $ - tt;
                                        Y[k + 6] = w * $ + O * tt + N * et, Y[k + 7] = M * $ + D * tt + F * et, c && (Y[k + 8] = o.r, Y[k + 9] = o.g, Y[k + 10] = o.b, Y[k + 11] = o.a), k += m
                                    }
                                    k = p.length;
                                    var it = t.Utils.setArraySize(p, k + 3 * (j - 2));
                                    for (j--, q = 1; q < j; q++) it[k] = y, it[k + 1] = y + q, it[k + 2] = y + q + 1, k += 3;
                                    y += j + 1
                                }
                            }
                        }
                    }, e.prototype.clip = function (t, e, i, n, r, s, a, o) {
                        var c = o, l = !1, h = null;
                        a.length % 4 >= 2 ? (h = o, o = this.scratch) : h = this.scratch, h.length = 0, h.push(t), h.push(e), h.push(i), h.push(n), h.push(r), h.push(s), h.push(t), h.push(e), o.length = 0;
                        for (var u = a, f = a.length - 4, d = 0; ; d += 2) {
                            for (var _ = u[d], p = u[d + 1], v = u[d + 2], g = u[d + 3], m = _ - v, y = p - g, T = h, E = h.length - 2, A = o.length, b = 0; b < E; b += 2) {
                                var x = T[b], C = T[b + 1], S = T[b + 2], w = T[b + 3],
                                    M = m * (w - g) - y * (S - v) > 0;
                                if (m * (C - g) - y * (x - v) > 0) {
                                    if (M) {
                                        o.push(S), o.push(w);
                                        continue
                                    }
                                    var R = (O = w - C) * (v - _) - (D = S - x) * (g - p);
                                    if (Math.abs(R) > 1e-6) {
                                        var I = (D * (p - C) - O * (_ - x)) / R;
                                        o.push(_ + (v - _) * I), o.push(p + (g - p) * I)
                                    } else o.push(_), o.push(p)
                                } else if (M) {
                                    var O, D;
                                    R = (O = w - C) * (v - _) - (D = S - x) * (g - p), Math.abs(R) > 1e-6 ? (I = (D * (p - C) - O * (_ - x)) / R, o.push(_ + (v - _) * I), o.push(p + (g - p) * I)) : (o.push(_), o.push(p)), o.push(S), o.push(w)
                                }
                                l = !0
                            }
                            if (A == o.length) return c.length = 0, !0;
                            if (o.push(o[0]), o.push(o[1]), d == f) break;
                            var P = o;
                            (o = h).length = 0, h = P
                        }
                        if (c != o) {
                            c.length = 0, d = 0;
                            for (var L = o.length - 2; d < L; d++) c[d] = o[d]
                        } else c.length = c.length - 2;
                        return l
                    }, e.makeClockwise = function (t) {
                        for (var e = t, i = t.length, n = e[i - 2] * e[1] - e[0] * e[i - 1], r = 0, s = 0, a = 0, o = 0, c = i - 3; o < c; o += 2) r = e[o], s = e[o + 1], a = e[o + 2], n += r * e[o + 3] - a * s;
                        if (!(n < 0)) {
                            o = 0;
                            var l = i - 2;
                            for (c = i >> 1; o < c; o += 2) {
                                var h = e[o], u = e[o + 1], f = l - o;
                                e[o] = e[f], e[o + 1] = e[f + 1], e[f] = h, e[f + 1] = u
                            }
                        }
                    }, e
                })();
                t.SkeletonClipping = e
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function t() {
                        this.bones = new Array, this.slots = new Array, this.skins = new Array, this.events = new Array, this.animations = new Array, this.ikConstraints = new Array, this.transformConstraints = new Array, this.pathConstraints = new Array, this.fps = 0
                    }

                    return t.prototype.findBone = function (t) {
                        if (null == t) throw new Error("boneName cannot be null.");
                        for (var e = this.bones, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r.name == t) return r
                        }
                        return null
                    }, t.prototype.findBoneIndex = function (t) {
                        if (null == t) throw new Error("boneName cannot be null.");
                        for (var e = this.bones, i = 0, n = e.length; i < n; i++) if (e[i].name == t) return i;
                        return -1
                    }, t.prototype.findSlot = function (t) {
                        if (null == t) throw new Error("slotName cannot be null.");
                        for (var e = this.slots, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r.name == t) return r
                        }
                        return null
                    }, t.prototype.findSlotIndex = function (t) {
                        if (null == t) throw new Error("slotName cannot be null.");
                        for (var e = this.slots, i = 0, n = e.length; i < n; i++) if (e[i].name == t) return i;
                        return -1
                    }, t.prototype.findSkin = function (t) {
                        if (null == t) throw new Error("skinName cannot be null.");
                        for (var e = this.skins, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r.name == t) return r
                        }
                        return null
                    }, t.prototype.findEvent = function (t) {
                        if (null == t) throw new Error("eventDataName cannot be null.");
                        for (var e = this.events, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r.name == t) return r
                        }
                        return null
                    }, t.prototype.findAnimation = function (t) {
                        if (null == t) throw new Error("animationName cannot be null.");
                        for (var e = this.animations, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r.name == t) return r
                        }
                        return null
                    }, t.prototype.findIkConstraint = function (t) {
                        if (null == t) throw new Error("constraintName cannot be null.");
                        for (var e = this.ikConstraints, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r.name == t) return r
                        }
                        return null
                    }, t.prototype.findTransformConstraint = function (t) {
                        if (null == t) throw new Error("constraintName cannot be null.");
                        for (var e = this.transformConstraints, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r.name == t) return r
                        }
                        return null
                    }, t.prototype.findPathConstraint = function (t) {
                        if (null == t) throw new Error("constraintName cannot be null.");
                        for (var e = this.pathConstraints, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r.name == t) return r
                        }
                        return null
                    }, t.prototype.findPathConstraintIndex = function (t) {
                        if (null == t) throw new Error("pathConstraintName cannot be null.");
                        for (var e = this.pathConstraints, i = 0, n = e.length; i < n; i++) if (e[i].name == t) return i;
                        return -1
                    }, t
                })();
                t.SkeletonData = e
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e(t) {
                        this.scale = 1, this.linkedMeshes = new Array, this.attachmentLoader = t
                    }

                    return e.prototype.readSkeletonData = function (i) {
                        var n = this.scale, r = new t.SkeletonData, s = "string" == typeof i ? JSON.parse(i) : i,
                            a = s.skeleton;
                        if (null != a && (r.hash = a.hash, r.version = a.spine, r.x = a.x, r.y = a.y, r.width = a.width, r.height = a.height, r.fps = a.fps, r.imagesPath = a.images), s.bones) for (var o = 0; o < s.bones.length; o++) {
                            var c = s.bones[o], l = null, h = this.getValue(c, "parent", null);
                            if (null != h && null == (l = r.findBone(h))) throw new Error("Parent bone not found: " + h);
                            (_ = new t.BoneData(r.bones.length, c.name, l)).length = this.getValue(c, "length", 0) * n, _.x = this.getValue(c, "x", 0) * n, _.y = this.getValue(c, "y", 0) * n, _.rotation = this.getValue(c, "rotation", 0), _.scaleX = this.getValue(c, "scaleX", 1), _.scaleY = this.getValue(c, "scaleY", 1), _.shearX = this.getValue(c, "shearX", 0), _.shearY = this.getValue(c, "shearY", 0), _.transformMode = e.transformModeFromString(this.getValue(c, "transform", "normal")), _.skinRequired = this.getValue(c, "skin", !1), r.bones.push(_)
                        }
                        if (s.slots) for (o = 0; o < s.slots.length; o++) {
                            var u = (R = s.slots[o]).name, f = R.bone, d = r.findBone(f);
                            if (null == d) throw new Error("Slot bone not found: " + f);
                            var _ = new t.SlotData(r.slots.length, u, d), p = this.getValue(R, "color", null);
                            null != p && _.color.setFromString(p);
                            var v = this.getValue(R, "dark", null);
                            null != v && (_.darkColor = new t.Color(1, 1, 1, 1), _.darkColor.setFromString(v)), _.attachmentName = this.getValue(R, "attachment", null), _.blendMode = e.blendModeFromString(this.getValue(R, "blend", "normal")), r.slots.push(_)
                        }
                        if (s.ik) for (o = 0; o < s.ik.length; o++) {
                            var g = s.ik[o];
                            (_ = new t.IkConstraintData(g.name)).order = this.getValue(g, "order", 0), _.skinRequired = this.getValue(g, "skin", !1);
                            for (var m = 0; m < g.bones.length; m++) {
                                if (f = g.bones[m], null == (S = r.findBone(f))) throw new Error("IK bone not found: " + f);
                                _.bones.push(S)
                            }
                            var y = g.target;
                            if (_.target = r.findBone(y), null == _.target) throw new Error("IK target bone not found: " + y);
                            _.mix = this.getValue(g, "mix", 1), _.softness = this.getValue(g, "softness", 0) * n, _.bendDirection = this.getValue(g, "bendPositive", !0) ? 1 : -1, _.compress = this.getValue(g, "compress", !1), _.stretch = this.getValue(g, "stretch", !1), _.uniform = this.getValue(g, "uniform", !1), r.ikConstraints.push(_)
                        }
                        if (s.transform) for (o = 0; o < s.transform.length; o++) {
                            for (g = s.transform[o], (_ = new t.TransformConstraintData(g.name)).order = this.getValue(g, "order", 0), _.skinRequired = this.getValue(g, "skin", !1), m = 0; m < g.bones.length; m++) {
                                if (f = g.bones[m], null == (S = r.findBone(f))) throw new Error("Transform constraint bone not found: " + f);
                                _.bones.push(S)
                            }
                            if (y = g.target, _.target = r.findBone(y), null == _.target) throw new Error("Transform constraint target bone not found: " + y);
                            _.local = this.getValue(g, "local", !1), _.relative = this.getValue(g, "relative", !1), _.offsetRotation = this.getValue(g, "rotation", 0), _.offsetX = this.getValue(g, "x", 0) * n, _.offsetY = this.getValue(g, "y", 0) * n, _.offsetScaleX = this.getValue(g, "scaleX", 0), _.offsetScaleY = this.getValue(g, "scaleY", 0), _.offsetShearY = this.getValue(g, "shearY", 0), _.rotateMix = this.getValue(g, "rotateMix", 1), _.translateMix = this.getValue(g, "translateMix", 1), _.scaleMix = this.getValue(g, "scaleMix", 1), _.shearMix = this.getValue(g, "shearMix", 1), r.transformConstraints.push(_)
                        }
                        if (s.path) for (o = 0; o < s.path.length; o++) {
                            for (g = s.path[o], (_ = new t.PathConstraintData(g.name)).order = this.getValue(g, "order", 0), _.skinRequired = this.getValue(g, "skin", !1), m = 0; m < g.bones.length; m++) {
                                if (f = g.bones[m], null == (S = r.findBone(f))) throw new Error("Transform constraint bone not found: " + f);
                                _.bones.push(S)
                            }
                            if (y = g.target, _.target = r.findSlot(y), null == _.target) throw new Error("Path target slot not found: " + y);
                            _.positionMode = e.positionModeFromString(this.getValue(g, "positionMode", "percent")), _.spacingMode = e.spacingModeFromString(this.getValue(g, "spacingMode", "length")), _.rotateMode = e.rotateModeFromString(this.getValue(g, "rotateMode", "tangent")), _.offsetRotation = this.getValue(g, "rotation", 0), _.position = this.getValue(g, "position", 0), _.positionMode == t.PositionMode.Fixed && (_.position *= n), _.spacing = this.getValue(g, "spacing", 0), _.spacingMode != t.SpacingMode.Length && _.spacingMode != t.SpacingMode.Fixed || (_.spacing *= n), _.rotateMix = this.getValue(g, "rotateMix", 1), _.translateMix = this.getValue(g, "translateMix", 1), r.pathConstraints.push(_)
                        }
                        if (s.skins) {
                            var T = s.skins;
                            if (!(T instanceof Array)) {
                                var E = [];
                                for (var A in T) E.push({name: A, attachments: T[A]});
                                T = E
                            }
                            for (o = 0; o < T.length; o++) {
                                var b = T[o], x = new t.Skin(b.name);
                                if (b.bones) for (var C = 0; C < b.bones.length; C++) {
                                    var S;
                                    if (null == (S = r.findBone(b.bones[C]))) throw new Error("Skin bone not found: " + b.bones[o]);
                                    x.bones.push(S)
                                }
                                if (b.ik) for (C = 0; C < b.ik.length; C++) {
                                    if (null == (w = r.findIkConstraint(b.ik[C]))) throw new Error("Skin IK constraint not found: " + b.ik[o]);
                                    x.constraints.push(w)
                                }
                                if (b.transform) for (C = 0; C < b.transform.length; C++) {
                                    if (null == (w = r.findTransformConstraint(b.transform[C]))) throw new Error("Skin transform constraint not found: " + b.transform[o]);
                                    x.constraints.push(w)
                                }
                                if (b.path) for (C = 0; C < b.path.length; C++) {
                                    var w;
                                    if (null == (w = r.findPathConstraint(b.path[C]))) throw new Error("Skin path constraint not found: " + b.path[o]);
                                    x.constraints.push(w)
                                }
                                for (var u in b.attachments) {
                                    var M = r.findSlot(u);
                                    if (null == M) throw new Error("Slot not found: " + u);
                                    var R = b.attachments[u];
                                    for (var I in R) {
                                        var O = this.readAttachment(R[I], x, M.index, I, r);
                                        null != O && x.setAttachment(M.index, I, O)
                                    }
                                }
                                r.skins.push(x), "default" == x.name && (r.defaultSkin = x)
                            }
                        }
                        o = 0;
                        for (var D = this.linkedMeshes.length; o < D; o++) {
                            var P = this.linkedMeshes[o];
                            if (null == (x = null == P.skin ? r.defaultSkin : r.findSkin(P.skin))) throw new Error("Skin not found: " + P.skin);
                            var L = x.getAttachment(P.slotIndex, P.parent);
                            if (null == L) throw new Error("Parent mesh not found: " + P.parent);
                            P.mesh.deformAttachment = P.inheritDeform ? L : P.mesh, P.mesh.setParentMesh(L), P.mesh.updateUVs()
                        }
                        if (this.linkedMeshes.length = 0, s.events) for (var N in s.events) {
                            var F = s.events[N];
                            (_ = new t.EventData(N)).intValue = this.getValue(F, "int", 0), _.floatValue = this.getValue(F, "float", 0), _.stringValue = this.getValue(F, "string", ""), _.audioPath = this.getValue(F, "audio", null), null != _.audioPath && (_.volume = this.getValue(F, "volume", 1), _.balance = this.getValue(F, "balance", 0)), r.events.push(_)
                        }
                        if (s.animations) for (var B in s.animations) {
                            var k = s.animations[B];
                            this.readAnimation(k, B, r)
                        }
                        return r
                    }, e.prototype.readAttachment = function (e, n, r, s, a) {
                        var o = this.scale;
                        switch (s = this.getValue(e, "name", s), this.getValue(e, "type", "region")) {
                            case"region":
                                var c = this.getValue(e, "path", s),
                                    l = this.attachmentLoader.newRegionAttachment(n, s, c);
                                return null == l ? null : (l.path = c, l.x = this.getValue(e, "x", 0) * o, l.y = this.getValue(e, "y", 0) * o, l.scaleX = this.getValue(e, "scaleX", 1), l.scaleY = this.getValue(e, "scaleY", 1), l.rotation = this.getValue(e, "rotation", 0), l.width = e.width * o, l.height = e.height * o, null != (y = this.getValue(e, "color", null)) && l.color.setFromString(y), l.updateOffset(), l);
                            case"boundingbox":
                                var h = this.attachmentLoader.newBoundingBoxAttachment(n, s);
                                return null == h ? null : (this.readVertices(e, h, e.vertexCount << 1), null != (y = this.getValue(e, "color", null)) && h.color.setFromString(y), h);
                            case"mesh":
                            case"linkedmesh":
                                c = this.getValue(e, "path", s);
                                var u = this.attachmentLoader.newMeshAttachment(n, s, c);
                                if (null == u) return null;
                                u.path = c, null != (y = this.getValue(e, "color", null)) && u.color.setFromString(y), u.width = this.getValue(e, "width", 0) * o, u.height = this.getValue(e, "height", 0) * o;
                                var f = this.getValue(e, "parent", null);
                                if (null != f) return this.linkedMeshes.push(new i(u, this.getValue(e, "skin", null), r, f, this.getValue(e, "deform", !0))), u;
                                var d = e.uvs;
                                return this.readVertices(e, u, d.length), u.triangles = e.triangles, u.regionUVs = d, u.updateUVs(), u.edges = this.getValue(e, "edges", null), u.hullLength = 2 * this.getValue(e, "hull", 0), u;
                            case"path":
                                if (null == (c = this.attachmentLoader.newPathAttachment(n, s))) return null;
                                c.closed = this.getValue(e, "closed", !1), c.constantSpeed = this.getValue(e, "constantSpeed", !0);
                                var _ = e.vertexCount;
                                this.readVertices(e, c, _ << 1);
                                for (var p = t.Utils.newArray(_ / 3, 0), v = 0; v < e.lengths.length; v++) p[v] = e.lengths[v] * o;
                                return c.lengths = p, null != (y = this.getValue(e, "color", null)) && c.color.setFromString(y), c;
                            case"point":
                                var g = this.attachmentLoader.newPointAttachment(n, s);
                                return null == g ? null : (g.x = this.getValue(e, "x", 0) * o, g.y = this.getValue(e, "y", 0) * o, g.rotation = this.getValue(e, "rotation", 0), null != (y = this.getValue(e, "color", null)) && g.color.setFromString(y), g);
                            case"clipping":
                                var m = this.attachmentLoader.newClippingAttachment(n, s);
                                if (null == m) return null;
                                var y, T = this.getValue(e, "end", null);
                                if (null != T) {
                                    var E = a.findSlot(T);
                                    if (null == E) throw new Error("Clipping end slot not found: " + T);
                                    m.endSlot = E
                                }
                                return _ = e.vertexCount, this.readVertices(e, m, _ << 1), null != (y = this.getValue(e, "color", null)) && m.color.setFromString(y), m
                        }
                        return null
                    }, e.prototype.readVertices = function (e, i, n) {
                        var r = this.scale;
                        i.worldVerticesLength = n;
                        var s = e.vertices;
                        if (n != s.length) {
                            var a = new Array, o = new Array;
                            for (u = 0, f = s.length; u < f;) {
                                var c = s[u++];
                                o.push(c);
                                for (var l = u + 4 * c; u < l; u += 4) o.push(s[u]), a.push(s[u + 1] * r), a.push(s[u + 2] * r), a.push(s[u + 3])
                            }
                            i.bones = o, i.vertices = t.Utils.toFloatArray(a)
                        } else {
                            var h = t.Utils.toFloatArray(s);
                            if (1 != r) for (var u = 0, f = s.length; u < f; u++) h[u] *= r;
                            i.vertices = h
                        }
                    }, e.prototype.readAnimation = function (e, i, n) {
                        var r = this.scale, s = new Array, a = 0;
                        if (e.slots) for (var o in e.slots) {
                            var c = e.slots[o];
                            if (-1 == (J = n.findSlotIndex(o))) throw new Error("Slot not found: " + o);
                            for (var l in c) {
                                var h = c[l];
                                if ("attachment" == l) {
                                    (T = new t.AttachmentTimeline(h.length)).slotIndex = J;
                                    for (var u = 0, f = 0; f < h.length; f++) {
                                        var d = h[f];
                                        T.setFrame(u++, this.getValue(d, "time", 0), d.name)
                                    }
                                    s.push(T), a = Math.max(a, T.frames[T.getFrameCount() - 1])
                                } else if ("color" == l) {
                                    for ((T = new t.ColorTimeline(h.length)).slotIndex = J, u = 0, f = 0; f < h.length; f++) {
                                        d = h[f];
                                        var _ = new t.Color;
                                        _.setFromString(d.color), T.setFrame(u, this.getValue(d, "time", 0), _.r, _.g, _.b, _.a), this.readCurve(d, T, u), u++
                                    }
                                    s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.ColorTimeline.ENTRIES])
                                } else {
                                    if ("twoColor" != l) throw new Error("Invalid timeline type for a slot: " + l + " (" + o + ")");
                                    for ((T = new t.TwoColorTimeline(h.length)).slotIndex = J, u = 0, f = 0; f < h.length; f++) {
                                        d = h[f];
                                        var p = new t.Color, v = new t.Color;
                                        p.setFromString(d.light), v.setFromString(d.dark), T.setFrame(u, this.getValue(d, "time", 0), p.r, p.g, p.b, p.a, v.r, v.g, v.b), this.readCurve(d, T, u), u++
                                    }
                                    s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.TwoColorTimeline.ENTRIES])
                                }
                            }
                        }
                        if (e.bones) for (var g in e.bones) {
                            var m = e.bones[g], y = n.findBoneIndex(g);
                            if (-1 == y) throw new Error("Bone not found: " + g);
                            for (var l in m) if (h = m[l], "rotate" === l) {
                                for ((T = new t.RotateTimeline(h.length)).boneIndex = y, u = 0, f = 0; f < h.length; f++) d = h[f], T.setFrame(u, this.getValue(d, "time", 0), this.getValue(d, "angle", 0)), this.readCurve(d, T, u), u++;
                                s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.RotateTimeline.ENTRIES])
                            } else {
                                if ("translate" !== l && "scale" !== l && "shear" !== l) throw new Error("Invalid timeline type for a bone: " + l + " (" + g + ")");
                                var T = null, E = 1, A = 0;
                                for ("scale" === l ? (T = new t.ScaleTimeline(h.length), A = 1) : "shear" === l ? T = new t.ShearTimeline(h.length) : (T = new t.TranslateTimeline(h.length), E = r), T.boneIndex = y, u = 0, f = 0; f < h.length; f++) {
                                    d = h[f];
                                    var b = this.getValue(d, "x", A), x = this.getValue(d, "y", A);
                                    T.setFrame(u, this.getValue(d, "time", 0), b * E, x * E), this.readCurve(d, T, u), u++
                                }
                                s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.TranslateTimeline.ENTRIES])
                            }
                        }
                        if (e.ik) for (var C in e.ik) {
                            var S = e.ik[C], w = n.findIkConstraint(C);
                            for ((T = new t.IkConstraintTimeline(S.length)).ikConstraintIndex = n.ikConstraints.indexOf(w), u = 0, f = 0; f < S.length; f++) d = S[f], T.setFrame(u, this.getValue(d, "time", 0), this.getValue(d, "mix", 1), this.getValue(d, "softness", 0) * r, this.getValue(d, "bendPositive", !0) ? 1 : -1, this.getValue(d, "compress", !1), this.getValue(d, "stretch", !1)), this.readCurve(d, T, u), u++;
                            s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.IkConstraintTimeline.ENTRIES])
                        }
                        if (e.transform) for (var C in e.transform) {
                            for (S = e.transform[C], w = n.findTransformConstraint(C), (T = new t.TransformConstraintTimeline(S.length)).transformConstraintIndex = n.transformConstraints.indexOf(w), u = 0, f = 0; f < S.length; f++) d = S[f], T.setFrame(u, this.getValue(d, "time", 0), this.getValue(d, "rotateMix", 1), this.getValue(d, "translateMix", 1), this.getValue(d, "scaleMix", 1), this.getValue(d, "shearMix", 1)), this.readCurve(d, T, u), u++;
                            s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.TransformConstraintTimeline.ENTRIES])
                        }
                        var M = e.path || e.paths;
                        if (M) for (var C in M) {
                            S = M[C];
                            var R = n.findPathConstraintIndex(C);
                            if (-1 == R) throw new Error("Path constraint not found: " + C);
                            var I = n.pathConstraints[R];
                            for (var l in S) if (h = S[l], "position" === l || "spacing" === l) {
                                for (T = null, E = 1, "spacing" === l ? (T = new t.PathConstraintSpacingTimeline(h.length), I.spacingMode != t.SpacingMode.Length && I.spacingMode != t.SpacingMode.Fixed || (E = r)) : (T = new t.PathConstraintPositionTimeline(h.length), I.positionMode == t.PositionMode.Fixed && (E = r)), T.pathConstraintIndex = R, u = 0, f = 0; f < h.length; f++) d = h[f], T.setFrame(u, this.getValue(d, "time", 0), this.getValue(d, l, 0) * E), this.readCurve(d, T, u), u++;
                                s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.PathConstraintPositionTimeline.ENTRIES])
                            } else if ("mix" === l) {
                                for ((T = new t.PathConstraintMixTimeline(h.length)).pathConstraintIndex = R, u = 0, f = 0; f < h.length; f++) d = h[f], T.setFrame(u, this.getValue(d, "time", 0), this.getValue(d, "rotateMix", 1), this.getValue(d, "translateMix", 1)), this.readCurve(d, T, u), u++;
                                s.push(T), a = Math.max(a, T.frames[(T.getFrameCount() - 1) * t.PathConstraintMixTimeline.ENTRIES])
                            }
                        }
                        if (e.deform) for (var O in e.deform) {
                            var D = e.deform[O], P = n.findSkin(O);
                            if (null == P) throw new Error("Skin not found: " + O);
                            for (var o in D) {
                                if (c = D[o], -1 == (J = n.findSlotIndex(o))) throw new Error("Slot not found: " + c.name);
                                for (var l in c) {
                                    h = c[l];
                                    var L = P.getAttachment(J, l);
                                    if (null != L) {
                                        var N = null != L.bones, F = L.vertices, B = N ? F.length / 3 * 2 : F.length;
                                        (T = new t.DeformTimeline(h.length)).slotIndex = J, T.attachment = L, u = 0;
                                        for (var k = 0; k < h.length; k++) {
                                            d = h[k];
                                            var V = void 0, U = this.getValue(d, "vertices", null);
                                            if (null == U) V = N ? t.Utils.newFloatArray(B) : F; else {
                                                V = t.Utils.newFloatArray(B);
                                                var z = this.getValue(d, "offset", 0);
                                                if (t.Utils.arrayCopy(U, 0, V, z, U.length), 1 != r) for (var H = (f = z) + U.length; f < H; f++) V[f] *= r;
                                                if (!N) for (f = 0; f < B; f++) V[f] += F[f]
                                            }
                                            T.setFrame(u, this.getValue(d, "time", 0), V), this.readCurve(d, T, u), u++
                                        }
                                        s.push(T), a = Math.max(a, T.frames[T.getFrameCount() - 1])
                                    }
                                }
                            }
                        }
                        var W = e.drawOrder;
                        if (null == W && (W = e.draworder), null != W) {
                            T = new t.DrawOrderTimeline(W.length);
                            var G = n.slots.length;
                            for (u = 0, k = 0; k < W.length; k++) {
                                var j = W[k], X = null, Y = this.getValue(j, "offsets", null);
                                if (null != Y) {
                                    X = t.Utils.newArray(G, -1);
                                    var q = t.Utils.newArray(G - Y.length, 0), Z = 0, K = 0;
                                    for (f = 0; f < Y.length; f++) {
                                        var J, Q = Y[f];
                                        if (-1 == (J = n.findSlotIndex(Q.slot))) throw new Error("Slot not found: " + Q.slot);
                                        for (; Z != J;) q[K++] = Z++;
                                        X[Z + Q.offset] = Z++
                                    }
                                    for (; Z < G;) q[K++] = Z++;
                                    for (f = G - 1; f >= 0; f--) -1 == X[f] && (X[f] = q[--K])
                                }
                                T.setFrame(u++, this.getValue(j, "time", 0), X)
                            }
                            s.push(T), a = Math.max(a, T.frames[T.getFrameCount() - 1])
                        }
                        if (e.events) {
                            for (T = new t.EventTimeline(e.events.length), u = 0, f = 0; f < e.events.length; f++) {
                                var $ = e.events[f], tt = n.findEvent($.name);
                                if (null == tt) throw new Error("Event not found: " + $.name);
                                var et = new t.Event(t.Utils.toSinglePrecision(this.getValue($, "time", 0)), tt);
                                et.intValue = this.getValue($, "int", tt.intValue), et.floatValue = this.getValue($, "float", tt.floatValue), et.stringValue = this.getValue($, "string", tt.stringValue), null != et.data.audioPath && (et.volume = this.getValue($, "volume", 1), et.balance = this.getValue($, "balance", 0)), T.setFrame(u++, et)
                            }
                            s.push(T), a = Math.max(a, T.frames[T.getFrameCount() - 1])
                        }
                        if (isNaN(a)) throw new Error("Error while parsing animation, duration is NaN");
                        n.animations.push(new t.Animation(i, s, a))
                    }, e.prototype.readCurve = function (t, e, i) {
                        var n = t.curve;
                        n && ("stepped" == n ? e.setStepped(i) : "[object Array]" === Object.prototype.toString.call(n) ? e.setCurve(i, n[0], n[1], n[2], n[3]) : e.setCurve(i, n, this.getValue(t, "c2", 0), this.getValue(t, "c3", 1), this.getValue(t, "c4", 1)))
                    }, e.prototype.getValue = function (t, e, i) {
                        return void 0 !== t[e] ? t[e] : i
                    }, e.blendModeFromString = function (e) {
                        if ("normal" == (e = e.toLowerCase())) return t.BlendMode.Normal;
                        if ("additive" == e) return t.BlendMode.Additive;
                        if ("multiply" == e) return t.BlendMode.Multiply;
                        if ("screen" == e) return t.BlendMode.Screen;
                        throw new Error("Unknown blend mode: " + e)
                    }, e.positionModeFromString = function (e) {
                        if ("fixed" == (e = e.toLowerCase())) return t.PositionMode.Fixed;
                        if ("percent" == e) return t.PositionMode.Percent;
                        throw new Error("Unknown position mode: " + e)
                    }, e.spacingModeFromString = function (e) {
                        if ("length" == (e = e.toLowerCase())) return t.SpacingMode.Length;
                        if ("fixed" == e) return t.SpacingMode.Fixed;
                        if ("percent" == e) return t.SpacingMode.Percent;
                        throw new Error("Unknown position mode: " + e)
                    }, e.rotateModeFromString = function (e) {
                        if ("tangent" == (e = e.toLowerCase())) return t.RotateMode.Tangent;
                        if ("chain" == e) return t.RotateMode.Chain;
                        if ("chainscale" == e) return t.RotateMode.ChainScale;
                        throw new Error("Unknown rotate mode: " + e)
                    }, e.transformModeFromString = function (e) {
                        if ("normal" == (e = e.toLowerCase())) return t.TransformMode.Normal;
                        if ("onlytranslation" == e) return t.TransformMode.OnlyTranslation;
                        if ("norotationorreflection" == e) return t.TransformMode.NoRotationOrReflection;
                        if ("noscale" == e) return t.TransformMode.NoScale;
                        if ("noscaleorreflection" == e) return t.TransformMode.NoScaleOrReflection;
                        throw new Error("Unknown transform mode: " + e)
                    }, e
                })();
                t.SkeletonJson = e;
                var i = function (t, e, i, n, r) {
                    this.mesh = t, this.skin = e, this.slotIndex = i, this.parent = n, this.inheritDeform = r
                }
            })(r || (r = {})), (function (t) {
                var e = function (t, e, i) {
                    this.slotIndex = t, this.name = e, this.attachment = i
                };
                t.SkinEntry = e;
                var i = (function () {
                    function i(t) {
                        if (this.attachments = new Array, this.bones = Array(), this.constraints = new Array, null == t) throw new Error("name cannot be null.");
                        this.name = t
                    }

                    return i.prototype.setAttachment = function (t, e, i) {
                        if (null == i) throw new Error("attachment cannot be null.");
                        var n = this.attachments;
                        t >= n.length && (n.length = t + 1), n[t] || (n[t] = {}), n[t][e] = i
                    }, i.prototype.addSkin = function (t) {
                        for (var e = 0; e < t.bones.length; e++) {
                            for (var i = t.bones[e], n = !1, r = 0; r < this.bones.length; r++) if (this.bones[r] == i) {
                                n = !0;
                                break
                            }
                            n || this.bones.push(i)
                        }
                        for (e = 0; e < t.constraints.length; e++) {
                            var s = t.constraints[e];
                            for (n = !1, r = 0; r < this.constraints.length; r++) if (this.constraints[r] == s) {
                                n = !0;
                                break
                            }
                            n || this.constraints.push(s)
                        }
                        var a = t.getAttachments();
                        for (e = 0; e < a.length; e++) {
                            var o = a[e];
                            this.setAttachment(o.slotIndex, o.name, o.attachment)
                        }
                    }, i.prototype.copySkin = function (e) {
                        for (var i = 0; i < e.bones.length; i++) {
                            for (var n = e.bones[i], r = !1, s = 0; s < this.bones.length; s++) if (this.bones[s] == n) {
                                r = !0;
                                break
                            }
                            r || this.bones.push(n)
                        }
                        for (i = 0; i < e.constraints.length; i++) {
                            var a = e.constraints[i];
                            for (r = !1, s = 0; s < this.constraints.length; s++) if (this.constraints[s] == a) {
                                r = !0;
                                break
                            }
                            r || this.constraints.push(a)
                        }
                        var o = e.getAttachments();
                        for (i = 0; i < o.length; i++) {
                            var c = o[i];
                            null != c.attachment && (c.attachment instanceof t.MeshAttachment ? (c.attachment = c.attachment.newLinkedMesh(), this.setAttachment(c.slotIndex, c.name, c.attachment)) : (c.attachment = c.attachment.copy(), this.setAttachment(c.slotIndex, c.name, c.attachment)))
                        }
                    }, i.prototype.getAttachment = function (t, e) {
                        var i = this.attachments[t];
                        return i ? i[e] : null
                    }, i.prototype.removeAttachment = function (t, e) {
                        var i = this.attachments[t];
                        i && (i[e] = null)
                    }, i.prototype.getAttachments = function () {
                        for (var t = new Array, i = 0; i < this.attachments.length; i++) {
                            var n = this.attachments[i];
                            if (n) for (var r in n) {
                                var s = n[r];
                                s && t.push(new e(i, r, s))
                            }
                        }
                        return t
                    }, i.prototype.getAttachmentsForSlot = function (t, i) {
                        var n = this.attachments[t];
                        if (n) for (var r in n) {
                            var s = n[r];
                            s && i.push(new e(t, r, s))
                        }
                    }, i.prototype.clear = function () {
                        this.attachments.length = 0, this.bones.length = 0, this.constraints.length = 0
                    }, i.prototype.attachAll = function (t, e) {
                        for (var i = 0, n = 0; n < t.slots.length; n++) {
                            var r = t.slots[n], s = r.getAttachment();
                            if (s && i < e.attachments.length) {
                                var a = e.attachments[i];
                                for (var o in a) if (s == a[o]) {
                                    var c = this.getAttachment(i, o);
                                    null != c && r.setAttachment(c);
                                    break
                                }
                            }
                            i++
                        }
                    }, i
                })();
                t.Skin = i
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e(e, i) {
                        if (this.deform = new Array, null == e) throw new Error("data cannot be null.");
                        if (null == i) throw new Error("bone cannot be null.");
                        this.data = e, this.bone = i, this.color = new t.Color, this.darkColor = null == e.darkColor ? null : new t.Color, this.setToSetupPose()
                    }

                    return e.prototype.getSkeleton = function () {
                        return this.bone.skeleton
                    }, e.prototype.getAttachment = function () {
                        return this.attachment
                    }, e.prototype.setAttachment = function (t) {
                        this.attachment != t && (this.attachment = t, this.attachmentTime = this.bone.skeleton.time, this.deform.length = 0)
                    }, e.prototype.setAttachmentTime = function (t) {
                        this.attachmentTime = this.bone.skeleton.time - t
                    }, e.prototype.getAttachmentTime = function () {
                        return this.bone.skeleton.time - this.attachmentTime
                    }, e.prototype.setToSetupPose = function () {
                        this.color.setFromColor(this.data.color), null != this.darkColor && this.darkColor.setFromColor(this.data.darkColor), null == this.data.attachmentName ? this.attachment = null : (this.attachment = null, this.setAttachment(this.bone.skeleton.getAttachment(this.data.index, this.data.attachmentName)))
                    }, e
                })();
                t.Slot = e
            })(r || (r = {})), (function (t) {
                t.SlotData = function (e, i, n) {
                    if (this.color = new t.Color(1, 1, 1, 1), e < 0) throw new Error("index must be >= 0.");
                    if (null == i) throw new Error("name cannot be null.");
                    if (null == n) throw new Error("boneData cannot be null.");
                    this.index = e, this.name = i, this.boneData = n
                }
            })(r || (r = {})), (function (t) {
                var e, i, n = (function () {
                    function t(t) {
                        this._image = t
                    }

                    return t.prototype.getImage = function () {
                        return this._image
                    }, t.filterFromString = function (t) {
                        switch (t.toLowerCase()) {
                            case"nearest":
                                return e.Nearest;
                            case"linear":
                                return e.Linear;
                            case"mipmap":
                                return e.MipMap;
                            case"mipmapnearestnearest":
                                return e.MipMapNearestNearest;
                            case"mipmaplinearnearest":
                                return e.MipMapLinearNearest;
                            case"mipmapnearestlinear":
                                return e.MipMapNearestLinear;
                            case"mipmaplinearlinear":
                                return e.MipMapLinearLinear;
                            default:
                                throw new Error("Unknown texture filter " + t)
                        }
                    }, t.wrapFromString = function (t) {
                        switch (t.toLowerCase()) {
                            case"mirroredtepeat":
                                return i.MirroredRepeat;
                            case"clamptoedge":
                                return i.ClampToEdge;
                            case"repeat":
                                return i.Repeat;
                            default:
                                throw new Error("Unknown texture wrap " + t)
                        }
                    }, t
                })();
                t.Texture = n, (function (t) {
                    t[t.Nearest = 9728] = "Nearest", t[t.Linear = 9729] = "Linear", t[t.MipMap = 9987] = "MipMap", t[t.MipMapNearestNearest = 9984] = "MipMapNearestNearest", t[t.MipMapLinearNearest = 9985] = "MipMapLinearNearest", t[t.MipMapNearestLinear = 9986] = "MipMapNearestLinear", t[t.MipMapLinearLinear = 9987] = "MipMapLinearLinear"
                })(e = t.TextureFilter || (t.TextureFilter = {})), (function (t) {
                    t[t.MirroredRepeat = 33648] = "MirroredRepeat", t[t.ClampToEdge = 33071] = "ClampToEdge", t[t.Repeat = 10497] = "Repeat"
                })(i = t.TextureWrap || (t.TextureWrap = {}));
                t.TextureRegion = function () {
                    this.u = 0, this.v = 0, this.u2 = 0, this.v2 = 0, this.width = 0, this.height = 0, this.rotate = !1, this.offsetX = 0, this.offsetY = 0, this.originalWidth = 0, this.originalHeight = 0
                };
                var r = (function (t) {
                    function e() {
                        return null !== t && t.apply(this, arguments) || this
                    }

                    return s(e, t), e.prototype.setFilters = function () {
                    }, e.prototype.setWraps = function () {
                    }, e.prototype.dispose = function () {
                    }, e
                })(n);
                t.FakeTexture = r
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e(t, e) {
                        this.pages = new Array, this.regions = new Array, this.load(t, e)
                    }

                    return e.prototype.load = function (e, s) {
                        if (null == s) throw new Error("textureLoader cannot be null.");
                        for (var a = new i(e), o = new Array(4), c = null; ;) {
                            var l = a.readLine();
                            if (null == l) break;
                            if (0 == (l = l.trim()).length) c = null; else if (c) {
                                var h = new r;
                                h.name = l, h.page = c;
                                var u = a.readValue();
                                "true" == u.toLocaleLowerCase() ? h.degrees = 90 : "false" == u.toLocaleLowerCase() ? h.degrees = 0 : h.degrees = parseFloat(u), h.rotate = 90 == h.degrees, a.readTuple(o);
                                var f = parseInt(o[0]), d = parseInt(o[1]);
                                a.readTuple(o);
                                var _ = parseInt(o[0]), p = parseInt(o[1]);
                                h.u = f / c.width, h.v = d / c.height, h.rotate ? (h.u2 = (f + p) / c.width, h.v2 = (d + _) / c.height) : (h.u2 = (f + _) / c.width, h.v2 = (d + p) / c.height), h.x = f, h.y = d, h.width = Math.abs(_), h.height = Math.abs(p), 4 == a.readTuple(o) && 4 == a.readTuple(o) && a.readTuple(o), h.originalWidth = parseInt(o[0]), h.originalHeight = parseInt(o[1]), a.readTuple(o), h.offsetX = parseInt(o[0]), h.offsetY = parseInt(o[1]), h.index = parseInt(a.readValue()), h.texture = c.texture, this.regions.push(h)
                            } else {
                                (c = new n).name = l, 2 == a.readTuple(o) && (c.width = parseInt(o[0]), c.height = parseInt(o[1]), a.readTuple(o)), a.readTuple(o), c.minFilter = t.Texture.filterFromString(o[0]), c.magFilter = t.Texture.filterFromString(o[1]);
                                var v = a.readValue();
                                c.uWrap = t.TextureWrap.ClampToEdge, c.vWrap = t.TextureWrap.ClampToEdge, "x" == v ? c.uWrap = t.TextureWrap.Repeat : "y" == v ? c.vWrap = t.TextureWrap.Repeat : "xy" == v && (c.uWrap = c.vWrap = t.TextureWrap.Repeat), c.texture = s(l), c.texture.setFilters(c.minFilter, c.magFilter), c.texture.setWraps(c.uWrap, c.vWrap), c.width = c.texture.getImage().width, c.height = c.texture.getImage().height, this.pages.push(c)
                            }
                        }
                    }, e.prototype.findRegion = function (t) {
                        for (var e = 0; e < this.regions.length; e++) if (this.regions[e].name == t) return this.regions[e];
                        return null
                    }, e.prototype.dispose = function () {
                        for (var t = 0; t < this.pages.length; t++) this.pages[t].texture.dispose()
                    }, e
                })();
                t.TextureAtlas = e;
                var i = (function () {
                    function t(t) {
                        this.index = 0, this.lines = t.split(/\r\n|\r|\n/)
                    }

                    return t.prototype.readLine = function () {
                        return this.index >= this.lines.length ? null : this.lines[this.index++]
                    }, t.prototype.readValue = function () {
                        var t = this.readLine(), e = t.indexOf(":");
                        if (-1 == e) throw new Error("Invalid line: " + t);
                        return t.substring(e + 1).trim()
                    }, t.prototype.readTuple = function (t) {
                        var e = this.readLine(), i = e.indexOf(":");
                        if (-1 == i) throw new Error("Invalid line: " + e);
                        for (var n = 0, r = i + 1; n < 3; n++) {
                            var s = e.indexOf(",", r);
                            if (-1 == s) break;
                            t[n] = e.substr(r, s - r).trim(), r = s + 1
                        }
                        return t[n] = e.substring(r).trim(), n + 1
                    }, t
                })(), n = function () {
                };
                t.TextureAtlasPage = n;
                var r = (function (t) {
                    function e() {
                        return null !== t && t.apply(this, arguments) || this
                    }

                    return s(e, t), e
                })(t.TextureRegion);
                t.TextureAtlasRegion = r
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e(e, i) {
                        if (this.rotateMix = 0, this.translateMix = 0, this.scaleMix = 0, this.shearMix = 0, this.temp = new t.Vector2, this.active = !1, null == e) throw new Error("data cannot be null.");
                        if (null == i) throw new Error("skeleton cannot be null.");
                        this.data = e, this.rotateMix = e.rotateMix, this.translateMix = e.translateMix, this.scaleMix = e.scaleMix, this.shearMix = e.shearMix, this.bones = new Array;
                        for (var n = 0; n < e.bones.length; n++) this.bones.push(i.findBone(e.bones[n].name));
                        this.target = i.findBone(e.target.name)
                    }

                    return e.prototype.isActive = function () {
                        return this.active
                    }, e.prototype.apply = function () {
                        this.update()
                    }, e.prototype.update = function () {
                        this.data.local ? this.data.relative ? this.applyRelativeLocal() : this.applyAbsoluteLocal() : this.data.relative ? this.applyRelativeWorld() : this.applyAbsoluteWorld()
                    }, e.prototype.applyAbsoluteWorld = function () {
                        for (var e = this.rotateMix, i = this.translateMix, n = this.scaleMix, r = this.shearMix, s = this.target, a = s.a, o = s.b, c = s.c, l = s.d, h = a * l - o * c > 0 ? t.MathUtils.degRad : -t.MathUtils.degRad, u = this.data.offsetRotation * h, f = this.data.offsetShearY * h, d = this.bones, _ = 0, p = d.length; _ < p; _++) {
                            var v = d[_], g = !1;
                            if (0 != e) {
                                var m = v.a, y = v.b, T = v.c, E = v.d;
                                (w = Math.atan2(c, a) - Math.atan2(T, m) + u) > t.MathUtils.PI ? w -= t.MathUtils.PI2 : w < -t.MathUtils.PI && (w += t.MathUtils.PI2), w *= e;
                                var A = Math.cos(w), b = Math.sin(w);
                                v.a = A * m - b * T, v.b = A * y - b * E, v.c = b * m + A * T, v.d = b * y + A * E, g = !0
                            }
                            if (0 != i) {
                                var x = this.temp;
                                s.localToWorld(x.set(this.data.offsetX, this.data.offsetY)), v.worldX += (x.x - v.worldX) * i, v.worldY += (x.y - v.worldY) * i, g = !0
                            }
                            if (n > 0) {
                                var C = Math.sqrt(v.a * v.a + v.c * v.c), S = Math.sqrt(a * a + c * c);
                                C > 1e-5 && (C = (C + (S - C + this.data.offsetScaleX) * n) / C), v.a *= C, v.c *= C, C = Math.sqrt(v.b * v.b + v.d * v.d), S = Math.sqrt(o * o + l * l), C > 1e-5 && (C = (C + (S - C + this.data.offsetScaleY) * n) / C), v.b *= C, v.d *= C, g = !0
                            }
                            if (r > 0) {
                                y = v.b, E = v.d;
                                var w, M = Math.atan2(E, y);
                                (w = Math.atan2(l, o) - Math.atan2(c, a) - (M - Math.atan2(v.c, v.a))) > t.MathUtils.PI ? w -= t.MathUtils.PI2 : w < -t.MathUtils.PI && (w += t.MathUtils.PI2), w = M + (w + f) * r, C = Math.sqrt(y * y + E * E), v.b = Math.cos(w) * C, v.d = Math.sin(w) * C, g = !0
                            }
                            g && (v.appliedValid = !1)
                        }
                    }, e.prototype.applyRelativeWorld = function () {
                        for (var e = this.rotateMix, i = this.translateMix, n = this.scaleMix, r = this.shearMix, s = this.target, a = s.a, o = s.b, c = s.c, l = s.d, h = a * l - o * c > 0 ? t.MathUtils.degRad : -t.MathUtils.degRad, u = this.data.offsetRotation * h, f = this.data.offsetShearY * h, d = this.bones, _ = 0, p = d.length; _ < p; _++) {
                            var v, g = d[_], m = !1;
                            if (0 != e) {
                                var y = g.a, T = g.b, E = g.c, A = g.d;
                                (v = Math.atan2(c, a) + u) > t.MathUtils.PI ? v -= t.MathUtils.PI2 : v < -t.MathUtils.PI && (v += t.MathUtils.PI2), v *= e;
                                var b = Math.cos(v), x = Math.sin(v);
                                g.a = b * y - x * E, g.b = b * T - x * A, g.c = x * y + b * E, g.d = x * T + b * A, m = !0
                            }
                            if (0 != i) {
                                var C = this.temp;
                                s.localToWorld(C.set(this.data.offsetX, this.data.offsetY)), g.worldX += C.x * i, g.worldY += C.y * i, m = !0
                            }
                            if (n > 0) {
                                var S = (Math.sqrt(a * a + c * c) - 1 + this.data.offsetScaleX) * n + 1;
                                g.a *= S, g.c *= S, S = (Math.sqrt(o * o + l * l) - 1 + this.data.offsetScaleY) * n + 1, g.b *= S, g.d *= S, m = !0
                            }
                            if (r > 0) (v = Math.atan2(l, o) - Math.atan2(c, a)) > t.MathUtils.PI ? v -= t.MathUtils.PI2 : v < -t.MathUtils.PI && (v += t.MathUtils.PI2), T = g.b, A = g.d, v = Math.atan2(A, T) + (v - t.MathUtils.PI / 2 + f) * r, S = Math.sqrt(T * T + A * A), g.b = Math.cos(v) * S, g.d = Math.sin(v) * S, m = !0;
                            m && (g.appliedValid = !1)
                        }
                    }, e.prototype.applyAbsoluteLocal = function () {
                        var t = this.rotateMix, e = this.translateMix, i = this.scaleMix, n = this.shearMix,
                            r = this.target;
                        r.appliedValid || r.updateAppliedTransform();
                        for (var s = this.bones, a = 0, o = s.length; a < o; a++) {
                            var c = s[a];
                            c.appliedValid || c.updateAppliedTransform();
                            var l = c.arotation;
                            if (0 != t) {
                                var h = r.arotation - l + this.data.offsetRotation;
                                l += (h -= 360 * (16384 - (16384.499999999996 - h / 360 | 0))) * t
                            }
                            var u = c.ax, f = c.ay;
                            0 != e && (u += (r.ax - u + this.data.offsetX) * e, f += (r.ay - f + this.data.offsetY) * e);
                            var d = c.ascaleX, _ = c.ascaleY;
                            0 != i && (d > 1e-5 && (d = (d + (r.ascaleX - d + this.data.offsetScaleX) * i) / d), _ > 1e-5 && (_ = (_ + (r.ascaleY - _ + this.data.offsetScaleY) * i) / _));
                            var p = c.ashearY;
                            0 != n && (h = r.ashearY - p + this.data.offsetShearY, h -= 360 * (16384 - (16384.499999999996 - h / 360 | 0)), c.shearY += h * n), c.updateWorldTransformWith(u, f, l, d, _, c.ashearX, p)
                        }
                    }, e.prototype.applyRelativeLocal = function () {
                        var t = this.rotateMix, e = this.translateMix, i = this.scaleMix, n = this.shearMix,
                            r = this.target;
                        r.appliedValid || r.updateAppliedTransform();
                        for (var s = this.bones, a = 0, o = s.length; a < o; a++) {
                            var c = s[a];
                            c.appliedValid || c.updateAppliedTransform();
                            var l = c.arotation;
                            0 != t && (l += (r.arotation + this.data.offsetRotation) * t);
                            var h = c.ax, u = c.ay;
                            0 != e && (h += (r.ax + this.data.offsetX) * e, u += (r.ay + this.data.offsetY) * e);
                            var f = c.ascaleX, d = c.ascaleY;
                            0 != i && (f > 1e-5 && (f *= (r.ascaleX - 1 + this.data.offsetScaleX) * i + 1), d > 1e-5 && (d *= (r.ascaleY - 1 + this.data.offsetScaleY) * i + 1));
                            var _ = c.ashearY;
                            0 != n && (_ += (r.ashearY + this.data.offsetShearY) * n), c.updateWorldTransformWith(h, u, l, f, d, c.ashearX, _)
                        }
                    }, e
                })();
                t.TransformConstraint = e
            })(r || (r = {})), (function (t) {
                var e = (function (t) {
                    function e(e) {
                        var i = t.call(this, e, 0, !1) || this;
                        return i.bones = new Array, i.rotateMix = 0, i.translateMix = 0, i.scaleMix = 0, i.shearMix = 0, i.offsetRotation = 0, i.offsetX = 0, i.offsetY = 0, i.offsetScaleX = 0, i.offsetScaleY = 0, i.offsetShearY = 0, i.relative = !1, i.local = !1, i
                    }

                    return s(e, t), e
                })(t.ConstraintData);
                t.TransformConstraintData = e
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e() {
                        this.convexPolygons = new Array, this.convexPolygonsIndices = new Array, this.indicesArray = new Array, this.isConcaveArray = new Array, this.triangles = new Array, this.polygonPool = new t.Pool(function () {
                            return new Array
                        }), this.polygonIndicesPool = new t.Pool(function () {
                            return new Array
                        })
                    }

                    return e.prototype.triangulate = function (t) {
                        var i = t, n = t.length >> 1, r = this.indicesArray;
                        r.length = 0;
                        for (var s = 0; s < n; s++) r[s] = s;
                        var a = this.isConcaveArray;
                        a.length = 0, s = 0;
                        for (var o = n; s < o; ++s) a[s] = e.isConcave(s, n, i, r);
                        var c = this.triangles;
                        for (c.length = 0; n > 3;) {
                            for (var l = n - 1, h = (s = 0, 1); ;) {
                                t:if (!a[s]) {
                                    for (var u = r[l] << 1, f = r[s] << 1, d = r[h] << 1, _ = i[u], p = i[u + 1], v = i[f], g = i[f + 1], m = i[d], y = i[d + 1], T = (h + 1) % n; T != l; T = (T + 1) % n) if (a[T]) {
                                        var E = r[T] << 1, A = i[E], b = i[E + 1];
                                        if (e.positiveArea(m, y, _, p, A, b) && e.positiveArea(_, p, v, g, A, b) && e.positiveArea(v, g, m, y, A, b)) break t
                                    }
                                    break
                                }
                                if (0 == h) {
                                    do {
                                        if (!a[s]) break;
                                        s--
                                    } while (s > 0);
                                    break
                                }
                                l = s, s = h, h = (h + 1) % n
                            }
                            c.push(r[(n + s - 1) % n]), c.push(r[s]), c.push(r[(s + 1) % n]), r.splice(s, 1), a.splice(s, 1);
                            var x = (--n + s - 1) % n, C = s == n ? 0 : s;
                            a[x] = e.isConcave(x, n, i, r), a[C] = e.isConcave(C, n, i, r)
                        }
                        return 3 == n && (c.push(r[2]), c.push(r[0]), c.push(r[1])), c
                    }, e.prototype.decompose = function (t, i) {
                        var n = t, r = this.convexPolygons;
                        this.polygonPool.freeAll(r), r.length = 0;
                        var s = this.convexPolygonsIndices;
                        this.polygonIndicesPool.freeAll(s), s.length = 0;
                        var a = this.polygonIndicesPool.obtain();
                        a.length = 0;
                        var o = this.polygonPool.obtain();
                        o.length = 0;
                        for (var c = -1, l = 0, h = 0, u = i.length; h < u; h += 3) {
                            var f = i[h] << 1, d = i[h + 1] << 1, _ = i[h + 2] << 1, p = n[f], v = n[f + 1], g = n[d],
                                m = n[d + 1], y = n[_], T = n[_ + 1], E = !1;
                            if (c == f) {
                                var A = o.length - 4, b = e.winding(o[A], o[A + 1], o[A + 2], o[A + 3], y, T),
                                    x = e.winding(y, T, o[0], o[1], o[2], o[3]);
                                b == l && x == l && (o.push(y), o.push(T), a.push(_), E = !0)
                            }
                            E || (o.length > 0 ? (r.push(o), s.push(a)) : (this.polygonPool.free(o), this.polygonIndicesPool.free(a)), (o = this.polygonPool.obtain()).length = 0, o.push(p), o.push(v), o.push(g), o.push(m), o.push(y), o.push(T), (a = this.polygonIndicesPool.obtain()).length = 0, a.push(f), a.push(d), a.push(_), l = e.winding(p, v, g, m, y, T), c = f)
                        }
                        for (o.length > 0 && (r.push(o), s.push(a)), h = 0, u = r.length; h < u; h++) if (0 != (a = s[h]).length) for (var C = a[0], S = a[a.length - 1], w = (o = r[h])[A = o.length - 4], M = o[A + 1], R = o[A + 2], I = o[A + 3], O = o[0], D = o[1], P = o[2], L = o[3], N = e.winding(w, M, R, I, O, D), F = 0; F < u; F++) if (F != h) {
                            var B = s[F];
                            if (3 == B.length) {
                                var k = B[0], V = B[1], U = B[2], z = r[F];
                                y = z[z.length - 2], T = z[z.length - 1], k == C && V == S && (b = e.winding(w, M, R, I, y, T), x = e.winding(y, T, O, D, P, L), b == N && x == N && (z.length = 0, B.length = 0, o.push(y), o.push(T), a.push(U), w = R, M = I, R = y, I = T, F = 0))
                            }
                        }
                        for (h = r.length - 1; h >= 0; h--) 0 == (o = r[h]).length && (r.splice(h, 1), this.polygonPool.free(o), a = s[h], s.splice(h, 1), this.polygonIndicesPool.free(a));
                        return r
                    }, e.isConcave = function (t, e, i, n) {
                        var r = n[(e + t - 1) % e] << 1, s = n[t] << 1, a = n[(t + 1) % e] << 1;
                        return !this.positiveArea(i[r], i[r + 1], i[s], i[s + 1], i[a], i[a + 1])
                    }, e.positiveArea = function (t, e, i, n, r, s) {
                        return t * (s - n) + i * (e - s) + r * (n - e) >= 0
                    }, e.winding = function (t, e, i, n, r, s) {
                        var a = i - t, o = n - e;
                        return r * o - s * a + a * e - t * o >= 0 ? 1 : -1
                    }, e
                })();
                t.Triangulator = e
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function t() {
                        this.array = new Array
                    }

                    return t.prototype.add = function (t) {
                        var e = this.contains(t);
                        return this.array[0 | t] = 0 | t, !e
                    }, t.prototype.contains = function (t) {
                        return null != this.array[0 | t]
                    }, t.prototype.remove = function (t) {
                        this.array[0 | t] = void 0
                    }, t.prototype.clear = function () {
                        this.array.length = 0
                    }, t
                })();
                t.IntSet = e;
                var i = (function () {
                    function t(t, e, i, n) {
                        void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), this.r = t, this.g = e, this.b = i, this.a = n
                    }

                    return t.prototype.set = function (t, e, i, n) {
                        return this.r = t, this.g = e, this.b = i, this.a = n, this.clamp(), this
                    }, t.prototype.setFromColor = function (t) {
                        return this.r = t.r, this.g = t.g, this.b = t.b, this.a = t.a, this
                    }, t.prototype.setFromString = function (t) {
                        return t = "#" == t.charAt(0) ? t.substr(1) : t, this.r = parseInt(t.substr(0, 2), 16) / 255, this.g = parseInt(t.substr(2, 2), 16) / 255, this.b = parseInt(t.substr(4, 2), 16) / 255, this.a = (8 != t.length ? 255 : parseInt(t.substr(6, 2), 16)) / 255, this
                    }, t.prototype.add = function (t, e, i, n) {
                        return this.r += t, this.g += e, this.b += i, this.a += n, this.clamp(), this
                    }, t.prototype.clamp = function () {
                        return this.r < 0 ? this.r = 0 : this.r > 1 && (this.r = 1), this.g < 0 ? this.g = 0 : this.g > 1 && (this.g = 1), this.b < 0 ? this.b = 0 : this.b > 1 && (this.b = 1), this.a < 0 ? this.a = 0 : this.a > 1 && (this.a = 1), this
                    }, t.rgba8888ToColor = function (t, e) {
                        t.r = ((4278190080 & e) >>> 24) / 255, t.g = ((16711680 & e) >>> 16) / 255, t.b = ((65280 & e) >>> 8) / 255, t.a = (255 & e) / 255
                    }, t.rgb888ToColor = function (t, e) {
                        t.r = ((16711680 & e) >>> 16) / 255, t.g = ((65280 & e) >>> 8) / 255, t.b = (255 & e) / 255
                    }, t.WHITE = new t(1, 1, 1, 1), t.RED = new t(1, 0, 0, 1), t.GREEN = new t(0, 1, 0, 1), t.BLUE = new t(0, 0, 1, 1), t.MAGENTA = new t(1, 0, 1, 1), t
                })();
                t.Color = i;
                var n = (function () {
                    function t() {
                    }

                    return t.clamp = function (t, e, i) {
                        return t < e ? e : t > i ? i : t
                    }, t.cosDeg = function (e) {
                        return Math.cos(e * t.degRad)
                    }, t.sinDeg = function (e) {
                        return Math.sin(e * t.degRad)
                    }, t.signum = function (t) {
                        return t > 0 ? 1 : t < 0 ? -1 : 0
                    }, t.toInt = function (t) {
                        return t > 0 ? Math.floor(t) : Math.ceil(t)
                    }, t.cbrt = function (t) {
                        var e = Math.pow(Math.abs(t), 1 / 3);
                        return t < 0 ? -e : e
                    }, t.randomTriangular = function (e, i) {
                        return t.randomTriangularWith(e, i, .5 * (e + i))
                    }, t.randomTriangularWith = function (t, e, i) {
                        var n = Math.random(), r = e - t;
                        return n <= (i - t) / r ? t + Math.sqrt(n * r * (i - t)) : e - Math.sqrt((1 - n) * r * (e - i))
                    }, t.PI = 3.1415927, t.PI2 = 2 * t.PI, t.radiansToDegrees = 180 / t.PI, t.radDeg = t.radiansToDegrees, t.degreesToRadians = t.PI / 180, t.degRad = t.degreesToRadians, t
                })();
                t.MathUtils = n;
                var r = (function () {
                    function t() {
                    }

                    return t.prototype.apply = function (t, e, i) {
                        return t + (e - t) * this.applyInternal(i)
                    }, t
                })();
                t.Interpolation = r;
                var a = (function (t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.power = 2, i.power = e, i
                    }

                    return s(e, t), e.prototype.applyInternal = function (t) {
                        return t <= .5 ? Math.pow(2 * t, this.power) / 2 : Math.pow(2 * (t - 1), this.power) / (this.power % 2 == 0 ? -2 : 2) + 1
                    }, e
                })(r);
                t.Pow = a;
                var o = (function (t) {
                    function e(e) {
                        return t.call(this, e) || this
                    }

                    return s(e, t), e.prototype.applyInternal = function (t) {
                        return Math.pow(t - 1, this.power) * (this.power % 2 == 0 ? -1 : 1) + 1
                    }, e
                })(a);
                t.PowOut = o;
                var c = (function () {
                    function t() {
                    }

                    return t.arrayCopy = function (t, e, i, n, r) {
                        for (var s = e, a = n; s < e + r; s++, a++) i[a] = t[s]
                    }, t.setArraySize = function (t, e, i) {
                        void 0 === i && (i = 0);
                        var n = t.length;
                        if (n == e) return t;
                        if (t.length = e, n < e) for (var r = n; r < e; r++) t[r] = i;
                        return t
                    }, t.ensureArrayCapacity = function (e, i, n) {
                        return void 0 === n && (n = 0), e.length >= i ? e : t.setArraySize(e, i, n)
                    }, t.newArray = function (t, e) {
                        for (var i = new Array(t), n = 0; n < t; n++) i[n] = e;
                        return i
                    }, t.newFloatArray = function (e) {
                        if (t.SUPPORTS_TYPED_ARRAYS) return new Float32Array(e);
                        for (var i = new Array(e), n = 0; n < i.length; n++) i[n] = 0;
                        return i
                    }, t.newShortArray = function (e) {
                        if (t.SUPPORTS_TYPED_ARRAYS) return new Int16Array(e);
                        for (var i = new Array(e), n = 0; n < i.length; n++) i[n] = 0;
                        return i
                    }, t.toFloatArray = function (e) {
                        return t.SUPPORTS_TYPED_ARRAYS ? new Float32Array(e) : e
                    }, t.toSinglePrecision = function (e) {
                        return t.SUPPORTS_TYPED_ARRAYS ? Math.fround(e) : e
                    }, t.webkit602BugfixHelper = function () {
                    }, t.contains = function (t, e, i) {
                        void 0 === i && (i = !0);
                        for (var n = 0; n < t.length; n++) if (t[n] == e) return !0;
                        return !1
                    }, t.SUPPORTS_TYPED_ARRAYS = "undefined" != typeof Float32Array, t
                })();
                t.Utils = c;
                var l = (function () {
                    function t() {
                    }

                    return t.logBones = function (t) {
                        for (var e = 0; e < t.bones.length; e++) {
                            var i = t.bones[e];
                            console.log(i.data.name + ", " + i.a + ", " + i.b + ", " + i.c + ", " + i.d + ", " + i.worldX + ", " + i.worldY)
                        }
                    }, t
                })();
                t.DebugUtils = l;
                var h = (function () {
                    function t(t) {
                        this.items = new Array, this.instantiator = t
                    }

                    return t.prototype.obtain = function () {
                        return this.items.length > 0 ? this.items.pop() : this.instantiator()
                    }, t.prototype.free = function (t) {
                        t.reset && t.reset(), this.items.push(t)
                    }, t.prototype.freeAll = function (t) {
                        for (var e = 0; e < t.length; e++) t[e].reset && t[e].reset(), this.items[e] = t[e]
                    }, t.prototype.clear = function () {
                        this.items.length = 0
                    }, t
                })();
                t.Pool = h;
                var u = (function () {
                    function t(t, e) {
                        void 0 === t && (t = 0), void 0 === e && (e = 0), this.x = t, this.y = e
                    }

                    return t.prototype.set = function (t, e) {
                        return this.x = t, this.y = e, this
                    }, t.prototype.length = function () {
                        var t = this.x, e = this.y;
                        return Math.sqrt(t * t + e * e)
                    }, t.prototype.normalize = function () {
                        var t = this.length();
                        return 0 != t && (this.x /= t, this.y /= t), this
                    }, t
                })();
                t.Vector2 = u;
                var f = (function () {
                    function t() {
                        this.maxDelta = .064, this.framesPerSecond = 0, this.delta = 0, this.totalTime = 0, this.lastTime = Date.now() / 1e3, this.frameCount = 0, this.frameTime = 0
                    }

                    return t.prototype.update = function () {
                        var t = Date.now() / 1e3;
                        this.delta = t - this.lastTime, this.frameTime += this.delta, this.totalTime += this.delta, this.delta > this.maxDelta && (this.delta = this.maxDelta), this.lastTime = t, this.frameCount++, this.frameTime > 1 && (this.framesPerSecond = this.frameCount / this.frameTime, this.frameTime = 0, this.frameCount = 0)
                    }, t
                })();
                t.TimeKeeper = f;
                var d = (function () {
                    function t(t) {
                        void 0 === t && (t = 32), this.addedValues = 0, this.lastValue = 0, this.mean = 0, this.dirty = !0, this.values = new Array(t)
                    }

                    return t.prototype.hasEnoughData = function () {
                        return this.addedValues >= this.values.length
                    }, t.prototype.addValue = function (t) {
                        this.addedValues < this.values.length && this.addedValues++, this.values[this.lastValue++] = t, this.lastValue > this.values.length - 1 && (this.lastValue = 0), this.dirty = !0
                    }, t.prototype.getMean = function () {
                        if (this.hasEnoughData()) {
                            if (this.dirty) {
                                for (var t = 0, e = 0; e < this.values.length; e++) t += this.values[e];
                                this.mean = t / this.values.length, this.dirty = !1
                            }
                            return this.mean
                        }
                        return 0
                    }, t
                })();
                t.WindowedMean = d
            })(r || (r = {})), Math.fround || (Math.fround = (n = new Float32Array(1), function (t) {
                return n[0] = t, n[0]
            })), (function (t) {
                var e = function (t) {
                    if (null == t) throw new Error("name cannot be null.");
                    this.name = t
                };
                t.Attachment = e;
                var i = (function (e) {
                    function i(t) {
                        var n = e.call(this, t) || this;
                        return n.id = (65535 & i.nextID++) << 11, n.worldVerticesLength = 0, n.deformAttachment = n, n
                    }

                    return s(i, e), i.prototype.computeWorldVertices = function (t, e, i, n, r, s) {
                        i = r + (i >> 1) * s;
                        var a = t.bone.skeleton, o = t.deform, c = this.vertices, l = this.bones;
                        if (null != l) {
                            for (var h = 0, u = 0, f = 0; f < e; f += 2) h += (v = l[h]) + 1, u += v;
                            var d = a.bones;
                            if (0 == o.length) for (M = r, x = 3 * u; M < i; M += s) {
                                var _ = 0, p = 0, v = l[h++];
                                for (v += h; h < v; h++, x += 3) {
                                    T = d[l[h]], R = c[x], I = c[x + 1];
                                    var g = c[x + 2];
                                    _ += (R * T.a + I * T.b + T.worldX) * g, p += (R * T.c + I * T.d + T.worldY) * g
                                }
                                n[M] = _, n[M + 1] = p
                            } else for (var m = o, y = (M = r, x = 3 * u, u << 1); M < i; M += s) {
                                for (_ = 0, p = 0, v = l[h++], v += h; h < v; h++, x += 3, y += 2) T = d[l[h]], R = c[x] + m[y], I = c[x + 1] + m[y + 1], g = c[x + 2], _ += (R * T.a + I * T.b + T.worldX) * g, p += (R * T.c + I * T.d + T.worldY) * g;
                                n[M] = _, n[M + 1] = p
                            }
                        } else {
                            o.length > 0 && (c = o);
                            for (var T, E = (T = t.bone).worldX, A = T.worldY, b = T.a, x = T.b, C = T.c, S = T.d, w = e, M = r; M < i; w += 2, M += s) {
                                var R = c[w], I = c[w + 1];
                                n[M] = R * b + I * x + E, n[M + 1] = R * C + I * S + A
                            }
                        }
                    }, i.prototype.copyTo = function (e) {
                        null != this.bones ? (e.bones = new Array(this.bones.length), t.Utils.arrayCopy(this.bones, 0, e.bones, 0, this.bones.length)) : e.bones = null, null != this.vertices ? (e.vertices = t.Utils.newFloatArray(this.vertices.length), t.Utils.arrayCopy(this.vertices, 0, e.vertices, 0, this.vertices.length)) : e.vertices = null, e.worldVerticesLength = this.worldVerticesLength, e.deformAttachment = this.deformAttachment
                    }, i.nextID = 0, i
                })(e);
                t.VertexAttachment = i
            })(r || (r = {})), (function (t) {
                (function (t) {
                    t[t.Region = 0] = "Region", t[t.BoundingBox = 1] = "BoundingBox", t[t.Mesh = 2] = "Mesh", t[t.LinkedMesh = 3] = "LinkedMesh", t[t.Path = 4] = "Path", t[t.Point = 5] = "Point", t[t.Clipping = 6] = "Clipping"
                })(t.AttachmentType || (t.AttachmentType = {}))
            })(r || (r = {})), (function (t) {
                var e = (function (e) {
                    function i(i) {
                        var n = e.call(this, i) || this;
                        return n.color = new t.Color(1, 1, 1, 1), n
                    }

                    return s(i, e), i.prototype.copy = function () {
                        var t = new i(name);
                        return this.copyTo(t), t.color.setFromColor(this.color), t
                    }, i
                })(t.VertexAttachment);
                t.BoundingBoxAttachment = e
            })(r || (r = {})), (function (t) {
                var e = (function (e) {
                    function i(i) {
                        var n = e.call(this, i) || this;
                        return n.color = new t.Color(.2275, .2275, .8078, 1), n
                    }

                    return s(i, e), i.prototype.copy = function () {
                        var t = new i(name);
                        return this.copyTo(t), t.endSlot = this.endSlot, t.color.setFromColor(this.color), t
                    }, i
                })(t.VertexAttachment);
                t.ClippingAttachment = e
            })(r || (r = {})), (function (t) {
                var e = (function (e) {
                    function i(i) {
                        var n = e.call(this, i) || this;
                        return n.color = new t.Color(1, 1, 1, 1), n.tempColor = new t.Color(0, 0, 0, 0), n
                    }

                    return s(i, e), i.prototype.updateUVs = function () {
                        var e = this.regionUVs;
                        null != this.uvs && this.uvs.length == e.length || (this.uvs = t.Utils.newFloatArray(e.length));
                        var i = this.uvs, n = this.uvs.length, r = this.region.u, s = this.region.v, a = 0, o = 0;
                        if (this.region instanceof t.TextureAtlasRegion) {
                            var c = this.region, l = c.texture.getImage().width, h = c.texture.getImage().height;
                            switch (c.degrees) {
                                case 90:
                                    r -= (c.originalHeight - c.offsetY - c.height) / l, s -= (c.originalWidth - c.offsetX - c.width) / h, a = c.originalHeight / l, o = c.originalWidth / h;
                                    for (var u = 0; u < n; u += 2) i[u] = r + e[u + 1] * a, i[u + 1] = s + (1 - e[u]) * o;
                                    return;
                                case 180:
                                    for (r -= (c.originalWidth - c.offsetX - c.width) / l, s -= c.offsetY / h, a = c.originalWidth / l, o = c.originalHeight / h, u = 0; u < n; u += 2) i[u] = r + (1 - e[u]) * a, i[u + 1] = s + (1 - e[u + 1]) * o;
                                    return;
                                case 270:
                                    for (r -= c.offsetY / l, s -= c.offsetX / h, a = c.originalHeight / l, o = c.originalWidth / h, u = 0; u < n; u += 2) i[u] = r + (1 - e[u + 1]) * a, i[u + 1] = s + e[u] * o;
                                    return
                            }
                            r -= c.offsetX / l, s -= (c.originalHeight - c.offsetY - c.height) / h, a = c.originalWidth / l, o = c.originalHeight / h
                        } else null == this.region ? (r = s = 0, a = o = 1) : (a = this.region.u2 - r, o = this.region.v2 - s);
                        for (u = 0; u < n; u += 2) i[u] = r + e[u] * a, i[u + 1] = s + e[u + 1] * o
                    }, i.prototype.getParentMesh = function () {
                        return this.parentMesh
                    }, i.prototype.setParentMesh = function (t) {
                        this.parentMesh = t, null != t && (this.bones = t.bones, this.vertices = t.vertices, this.worldVerticesLength = t.worldVerticesLength, this.regionUVs = t.regionUVs, this.triangles = t.triangles, this.hullLength = t.hullLength, this.worldVerticesLength = t.worldVerticesLength)
                    }, i.prototype.copy = function () {
                        if (null != this.parentMesh) return this.newLinkedMesh();
                        var e = new i(this.name);
                        return e.region = this.region, e.path = this.path, e.color.setFromColor(this.color), this.copyTo(e), e.regionUVs = new Array(this.regionUVs.length), t.Utils.arrayCopy(this.regionUVs, 0, e.regionUVs, 0, this.regionUVs.length), e.uvs = new Array(this.uvs.length), t.Utils.arrayCopy(this.uvs, 0, e.uvs, 0, this.uvs.length), e.triangles = new Array(this.triangles.length), t.Utils.arrayCopy(this.triangles, 0, e.triangles, 0, this.triangles.length), e.hullLength = this.hullLength, null != this.edges && (e.edges = new Array(this.edges.length), t.Utils.arrayCopy(this.edges, 0, e.edges, 0, this.edges.length)), e.width = this.width, e.height = this.height, e
                    }, i.prototype.newLinkedMesh = function () {
                        var t = new i(this.name);
                        return t.region = this.region, t.path = this.path, t.color.setFromColor(this.color), t.deformAttachment = this.deformAttachment, t.setParentMesh(null != this.parentMesh ? this.parentMesh : this), t.updateUVs(), t
                    }, i
                })(t.VertexAttachment);
                t.MeshAttachment = e
            })(r || (r = {})), (function (t) {
                var e = (function (e) {
                    function i(i) {
                        var n = e.call(this, i) || this;
                        return n.closed = !1, n.constantSpeed = !1, n.color = new t.Color(1, 1, 1, 1), n
                    }

                    return s(i, e), i.prototype.copy = function () {
                        var e = new i(name);
                        return this.copyTo(e), e.lengths = new Array(this.lengths.length), t.Utils.arrayCopy(this.lengths, 0, e.lengths, 0, this.lengths.length), e.closed = closed, e.constantSpeed = this.constantSpeed, e.color.setFromColor(this.color), e
                    }, i
                })(t.VertexAttachment);
                t.PathAttachment = e
            })(r || (r = {})), (function (t) {
                var e = (function (e) {
                    function i(i) {
                        var n = e.call(this, i) || this;
                        return n.color = new t.Color(.38, .94, 0, 1), n
                    }

                    return s(i, e), i.prototype.computeWorldPosition = function (t, e) {
                        return e.x = this.x * t.a + this.y * t.b + t.worldX, e.y = this.x * t.c + this.y * t.d + t.worldY, e
                    }, i.prototype.computeWorldRotation = function (e) {
                        var i = t.MathUtils.cosDeg(this.rotation), n = t.MathUtils.sinDeg(this.rotation),
                            r = i * e.a + n * e.b, s = i * e.c + n * e.d;
                        return Math.atan2(s, r) * t.MathUtils.radDeg
                    }, i.prototype.copy = function () {
                        var t = new i(name);
                        return t.x = this.x, t.y = this.y, t.rotation = this.rotation, t.color.setFromColor(this.color), t
                    }, i
                })(t.VertexAttachment);
                t.PointAttachment = e
            })(r || (r = {})), (function (t) {
                var e = (function (e) {
                    function i(i) {
                        var n = e.call(this, i) || this;
                        return n.x = 0, n.y = 0, n.scaleX = 1, n.scaleY = 1, n.rotation = 0, n.width = 0, n.height = 0, n.color = new t.Color(1, 1, 1, 1), n.offset = t.Utils.newFloatArray(8), n.uvs = t.Utils.newFloatArray(8), n.tempColor = new t.Color(1, 1, 1, 1), n
                    }

                    return s(i, e), i.prototype.updateOffset = function () {
                        var t = this.width / this.region.originalWidth * this.scaleX,
                            e = this.height / this.region.originalHeight * this.scaleY,
                            n = -this.width / 2 * this.scaleX + this.region.offsetX * t,
                            r = -this.height / 2 * this.scaleY + this.region.offsetY * e, s = n + this.region.width * t,
                            a = r + this.region.height * e, o = this.rotation * Math.PI / 180, c = Math.cos(o),
                            l = Math.sin(o), h = n * c + this.x, u = n * l, f = r * c + this.y, d = r * l,
                            _ = s * c + this.x, p = s * l, v = a * c + this.y, g = a * l, m = this.offset;
                        m[i.OX1] = h - d, m[i.OY1] = f + u, m[i.OX2] = h - g, m[i.OY2] = v + u, m[i.OX3] = _ - g, m[i.OY3] = v + p, m[i.OX4] = _ - d, m[i.OY4] = f + p
                    }, i.prototype.setRegion = function (t) {
                        this.region = t;
                        var e = this.uvs;
                        t.rotate ? (e[2] = t.u, e[3] = t.v2, e[4] = t.u, e[5] = t.v, e[6] = t.u2, e[7] = t.v, e[0] = t.u2, e[1] = t.v2) : (e[0] = t.u, e[1] = t.v2, e[2] = t.u, e[3] = t.v, e[4] = t.u2, e[5] = t.v, e[6] = t.u2, e[7] = t.v2)
                    }, i.prototype.computeWorldVertices = function (t, e, n, r) {
                        var s = this.offset, a = t.worldX, o = t.worldY, c = t.a, l = t.b, h = t.c, u = t.d, f = 0,
                            d = 0;
                        f = s[i.OX1], d = s[i.OY1], e[n] = f * c + d * l + a, e[n + 1] = f * h + d * u + o, n += r, f = s[i.OX2], d = s[i.OY2], e[n] = f * c + d * l + a, e[n + 1] = f * h + d * u + o, n += r, f = s[i.OX3], d = s[i.OY3], e[n] = f * c + d * l + a, e[n + 1] = f * h + d * u + o, n += r, f = s[i.OX4], d = s[i.OY4], e[n] = f * c + d * l + a, e[n + 1] = f * h + d * u + o
                    }, i.prototype.copy = function () {
                        var e = new i(name);
                        return e.region = this.region, e.rendererObject = this.rendererObject, e.path = this.path, e.x = this.x, e.y = this.y, e.scaleX = this.scaleX, e.scaleY = this.scaleY, e.rotation = this.rotation, e.width = this.width, e.height = this.height, t.Utils.arrayCopy(this.uvs, 0, e.uvs, 0, 8), t.Utils.arrayCopy(this.offset, 0, e.offset, 0, 8), e.color.setFromColor(this.color), e
                    }, i.OX1 = 0, i.OY1 = 1, i.OX2 = 2, i.OY2 = 3, i.OX3 = 4, i.OY3 = 5, i.OX4 = 6, i.OY4 = 7, i.X1 = 0, i.Y1 = 1, i.C1R = 2, i.C1G = 3, i.C1B = 4, i.C1A = 5, i.U1 = 6, i.V1 = 7, i.X2 = 8, i.Y2 = 9, i.C2R = 10, i.C2G = 11, i.C2B = 12, i.C2A = 13, i.U2 = 14, i.V2 = 15, i.X3 = 16, i.Y3 = 17, i.C3R = 18, i.C3G = 19, i.C3B = 20, i.C3A = 21, i.U3 = 22, i.V3 = 23, i.X4 = 24, i.Y4 = 25, i.C4R = 26, i.C4G = 27, i.C4B = 28, i.C4A = 29, i.U4 = 30, i.V4 = 31, i
                })(t.Attachment);
                t.RegionAttachment = e
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e(t, e) {
                        this.jitterX = 0, this.jitterY = 0, this.jitterX = t, this.jitterY = e
                    }

                    return e.prototype.begin = function () {
                    }, e.prototype.transform = function (e) {
                        e.x += t.MathUtils.randomTriangular(-this.jitterX, this.jitterY), e.y += t.MathUtils.randomTriangular(-this.jitterX, this.jitterY)
                    }, e.prototype.end = function () {
                    }, e
                })();
                t.JitterEffect = e
            })(r || (r = {})), (function (t) {
                var e = (function () {
                    function e(t, e) {
                        this.centerX = 0, this.centerY = 0, this.radius = 0, this.angle = 0, this.worldX = 0, this.worldY = 0, this.radius = t, this.interpolation = e
                    }

                    return e.prototype.begin = function (t) {
                        this.worldX = t.x + this.centerX, this.worldY = t.y + this.centerY
                    }, e.prototype.transform = function (e) {
                        var i = this.angle * t.MathUtils.degreesToRadians, n = e.x - this.worldX, r = e.y - this.worldY,
                            s = Math.sqrt(n * n + r * r);
                        if (s < this.radius) {
                            var a = this.interpolation.apply(0, i, (this.radius - s) / this.radius), o = Math.cos(a),
                                c = Math.sin(a);
                            e.x = o * n - c * r + this.worldX, e.y = c * n + o * r + this.worldY
                        }
                    }, e.prototype.end = function () {
                    }, e.interpolation = new t.PowOut(2), e
                })();
                t.SwirlEffect = e
            })(r || (r = {})), e.exports = r
        }), {}],
        333: [(function (t, e) {
            "use strict";
            var i, n, r, s, a, o, c = t("./track-entry-listeners"), l = t("./lib/spine"), h = [], u = [], f = 0, d = 0,
                _ = 0, p = null, v = null, g = 0, m = 0, y = 0, T = 0, E = null, A = null, b = 0, x = 0,
                C = new l.Color(1, 1, 1, 1), S = new l.Color(1, 1, 1, 1), w = [0, 1, 2, 2, 3, 0], M = cc.Class({
                    ctor: function () {
                        this._privateMode = !1, this._inited = !1, this._invalid = !0, this._enableCacheAttachedInfo = !1, this.frames = [], this.totalTime = 0, this._frameIdx = -1, this.isCompleted = !1, this._skeletonInfo = null, this._animationName = null, this._tempSegments = null, this._tempColors = null, this._tempBoneInfos = null
                    }, init: function (t, e) {
                        this._inited = !0, this._animationName = e, this._skeletonInfo = t
                    }, clear: function () {
                        this._inited = !1;
                        for (var t = 0, e = this.frames.length; t < e; t++) this.frames[t].segments.length = 0;
                        this.invalidAllFrame()
                    }, bind: function (t) {
                        var e = function (t) {
                            t && t.animation.name === this._animationName && (this.isCompleted = !0)
                        }.bind(this);
                        t.complete = e
                    }, unbind: function (t) {
                        t.complete = null
                    }, begin: function () {
                        if (this._invalid) {
                            var t = this._skeletonInfo, e = t.curAnimationCache;
                            e && e !== this && (this._privateMode ? e.invalidAllFrame() : e.updateToFrame());
                            var i = t.skeleton, n = t.listener, r = t.state, s = i.data.findAnimation(this._animationName);
                            r.setAnimationWith(0, s, !1), this.bind(n), t.curAnimationCache = this, this._frameIdx = -1, this.isCompleted = !1, this.totalTime = 0, this._invalid = !1
                        }
                    }, end: function () {
                        this._needToUpdate() || (this._skeletonInfo.curAnimationCache = null, this.frames.length = this._frameIdx + 1, this.isCompleted = !0, this.unbind(this._skeletonInfo.listener))
                    }, _needToUpdate: function (t) {
                        return !this.isCompleted && this.totalTime < 30 && (null == t || this._frameIdx < t)
                    }, updateToFrame: function (t) {
                        if (this._inited && (this.begin(), this._needToUpdate(t))) {
                            var e = this._skeletonInfo, i = e.skeleton, n = e.clipper, r = e.state;
                            do {
                                i.update(1 / 60), r.update(1 / 60), r.apply(i), i.updateWorldTransform(), this._frameIdx++, this._updateFrame(i, n, this._frameIdx), this.totalTime += 1 / 60
                            } while (this._needToUpdate(t));
                            this.end()
                        }
                    }, isInited: function () {
                        return this._inited
                    }, isInvalid: function () {
                        return this._invalid
                    }, invalidAllFrame: function () {
                        this.isCompleted = !1, this._invalid = !0
                    }, updateAllFrame: function () {
                        this.invalidAllFrame(), this.updateToFrame()
                    }, enableCacheAttachedInfo: function () {
                        this._enableCacheAttachedInfo || (this._enableCacheAttachedInfo = !0, this.invalidAllFrame())
                    }, _updateFrame: function (t, e, i) {
                        _ = 0, f = 0, d = 0, p = null, v = null, g = 0, m = 0, y = 0, T = 0, E = null, A = null, this.frames[i] = this.frames[i] || {
                            segments: [],
                            colors: [],
                            boneInfos: [],
                            vertices: null,
                            uintVert: null,
                            indices: null
                        };
                        var n = this.frames[i], r = this._tempSegments = n.segments, s = this._tempColors = n.colors,
                            a = this._tempBoneInfos = n.boneInfos;
                        this._traverseSkeleton(t, e), T > 0 && (s[T - 1].vfOffset = _), s.length = T, a.length = f;
                        var o = y - 1;
                        if (o >= 0) if (m > 0) {
                            var c = r[o];
                            c.indexCount = m, c.vfCount = 6 * g, c.vertexCount = g, r.length = y
                        } else r.length = y - 1;
                        if (0 != r.length) {
                            var l = n.vertices, b = n.uintVert;
                            (!l || l.length < _) && (l = n.vertices = new Float32Array(_), b = n.uintVert = new Uint32Array(l.buffer));
                            for (var x = 0, C = 0; x < _;) l[x++] = h[C++], l[x++] = h[C++], l[x++] = h[C++], l[x++] = h[C++], b[x++] = h[C++], b[x++] = h[C++];
                            var S = n.indices;
                            (!S || S.length < d) && (S = n.indices = new Uint16Array(d));
                            for (var w = 0; w < d; w++) S[w] = u[w];
                            n.vertices = l, n.uintVert = b, n.indices = S
                        }
                    }, fillVertices: function (t, e, c, l, f) {
                        if (s = c.a * e.a * t.a * 255, i = e.r * t.r * 255, n = e.g * t.g * 255, r = e.b * t.b * 255, C.r = i * c.r, C.g = n * c.g, C.b = r * c.b, C.a = s, null == f.darkColor ? S.set(0, 0, 0, 1) : (S.r = f.darkColor.r * i, S.g = f.darkColor.g * n, S.b = f.darkColor.b * r), S.a = 0, a = (C.a << 24 >>> 0) + (C.b << 16) + (C.g << 8) + C.r, o = (S.a << 24 >>> 0) + (S.b << 16) + (S.g << 8) + S.r, E !== a || A !== o) {
                            var p = this._tempColors;
                            E = a, A = o, T > 0 && (p[T - 1].vfOffset = _), p[T++] = {
                                fr: C.r,
                                fg: C.g,
                                fb: C.b,
                                fa: C.a,
                                dr: S.r,
                                dg: S.g,
                                db: S.b,
                                da: S.a,
                                vfOffset: 0
                            }
                        }
                        if (l.isClipping()) {
                            l.clipTriangles(h, b, u, x, h, C, S, !0, 6, d, _, _ + 2);
                            var v = l.clippedVertices, g = l.clippedTriangles;
                            x = g.length, b = v.length / 12 * 6;
                            for (var m = 0, y = d, w = g.length; m < w;) u[y++] = g[m++];
                            for (var M = 0, R = v.length, I = _; M < R; M += 12, I += 6) h[I] = v[M], h[I + 1] = v[M + 1], h[I + 2] = v[M + 6], h[I + 3] = v[M + 7], h[I + 4] = a, h[I + 5] = o
                        } else for (var O = _, D = _ + b; O < D; O += 6) h[O + 4] = a, h[O + 5] = o
                    }, _traverseSkeleton: function (t, e) {
                        var i, n, r, s, a, o, c, T, E, A, C, S, M = this._tempSegments, R = this._tempBoneInfos,
                            I = t.color, O = t.bones;
                        if (this._enableCacheAttachedInfo) for (var D = 0, P = O.length; D < P; D++, f++) {
                            var L = O[D], N = R[f];
                            N || (N = R[f] = {}), N.a = L.a, N.b = L.b, N.c = L.c, N.d = L.d, N.worldX = L.worldX, N.worldY = L.worldY
                        }
                        for (var F = 0, B = t.drawOrder.length; F < B; F++) if ((S = t.drawOrder[F]).bone.active) if (b = 0, x = 0, i = S.getAttachment()) if (o = i instanceof l.RegionAttachment, c = i instanceof l.MeshAttachment, i instanceof l.ClippingAttachment) e.clipStart(S, i); else if (o || c) if (T = i.region.texture._texture) if (C = S.data.blendMode, p === T.nativeUrl && v === C || (p = T.nativeUrl, v = C, (E = y - 1) >= 0 && (m > 0 ? ((A = M[E]).indexCount = m, A.vertexCount = g, A.vfCount = 6 * g) : y--), M[y] = {
                            tex: T,
                            blendMode: C,
                            indexCount: 0,
                            vertexCount: 0,
                            vfCount: 0
                        }, y++, m = 0, g = 0), o ? (a = w, b = 24, x = 6, i.computeWorldVertices(S.bone, h, _, 6)) : c && (a = i.triangles, b = 6 * (i.worldVerticesLength >> 1), x = a.length, i.computeWorldVertices(S, 0, i.worldVerticesLength, h, _, 6)), 0 != b && 0 != x) {
                            for (var k = 0, V = d, U = a.length; k < U;) u[V++] = a[k++];
                            s = i.uvs;
                            for (var z = _, H = _ + b, W = 0; z < H; z += 6, W += 2) h[z + 2] = s[W], h[z + 3] = s[W + 1];
                            if (n = i.color, r = S.color, this.fillVertices(I, n, r, e, S), x > 0) {
                                for (var G = d, j = d + x; G < j; G++) u[G] += g;
                                d += x, _ += b, m += x, g += b / 6
                            }
                            e.clipEndWithSlot(S)
                        } else e.clipEndWithSlot(S); else e.clipEndWithSlot(S); else e.clipEndWithSlot(S); else e.clipEndWithSlot(S);
                        e.clipEnd()
                    }
                }), R = cc.Class({
                    ctor: function () {
                        this._privateMode = !1, this._animationPool = {}, this._skeletonCache = {}
                    }, enablePrivateMode: function () {
                        this._privateMode = !0
                    }, clear: function () {
                        this._animationPool = {}, this._skeletonCache = {}
                    }, removeSkeleton: function (t) {
                        var e = this._skeletonCache[t];
                        if (e) {
                            var i = e.animationsCache;
                            for (var n in i) {
                                var r = i[n];
                                r && (this._animationPool[t + "#" + n] = r, r.clear())
                            }
                            delete this._skeletonCache[t]
                        }
                    }, getSkeletonCache: function (t, e) {
                        var i = this._skeletonCache[t];
                        if (!i) {
                            var n = new l.Skeleton(e), r = new l.SkeletonClipping, s = new l.AnimationStateData(n.data),
                                a = new l.AnimationState(s), o = new c;
                            a.addListener(o), this._skeletonCache[t] = i = {
                                skeleton: n,
                                clipper: r,
                                state: a,
                                listener: o,
                                animationsCache: {},
                                curAnimationCache: null
                            }
                        }
                        return i
                    }, getAnimationCache: function (t, e) {
                        var i = this._skeletonCache[t];
                        return i ? i.animationsCache[e] : null
                    }, invalidAnimationCache: function (t) {
                        var e = this._skeletonCache[t];
                        if (e && e.skeleton) {
                            var i = e.animationsCache;
                            for (var n in i) i[n].invalidAllFrame()
                        }
                    }, initAnimationCache: function (t, e) {
                        if (!e) return null;
                        var i = this._skeletonCache[t], n = i && i.skeleton;
                        if (!n) return null;
                        if (!n.data.findAnimation(e)) return null;
                        var r = i.animationsCache, s = r[e];
                        if (!s) {
                            var a = t + "#" + e;
                            (s = this._animationPool[a]) ? delete this._animationPool[a] : (s = new M)._privateMode = this._privateMode, s.init(i, e), r[e] = s
                        }
                        return s
                    }, updateAnimationCache: function (t, e) {
                        if (e) {
                            var i = this.initAnimationCache(t, e);
                            if (!i) return null;
                            i.updateAllFrame()
                        } else {
                            var n = this._skeletonCache[t];
                            if (!n || !n.skeleton) return;
                            var r = n.animationsCache;
                            for (var s in r) r[s].updateAllFrame()
                        }
                    }
                });
            R.FrameTime = 1 / 60, R.sharedCache = new R, e.exports = R
        }), {"./lib/spine": 332, "./track-entry-listeners": 337}],
        334: [(function (t, e) {
            "use strict";
            var i = t("./skeleton-cache").sharedCache, n = cc.Class({
                name: "sp.SkeletonData", extends: cc.Asset, ctor: function () {
                    this.reset()
                }, properties: {
                    _skeletonJson: null,
                    skeletonJsonStr: {
                        get: function () {
                            return this._skeletonJson ? JSON.stringify(this._skeletonJson) : ""
                        }
                    },
                    skeletonJson: {
                        get: function () {
                            return this._skeletonJson
                        }, set: function (t) {
                            this.reset(), this._skeletonJson = "string" == typeof t ? JSON.parse(t) : t, !this._uuid && t.skeleton && (this._uuid = t.skeleton.hash)
                        }
                    },
                    _atlasText: "",
                    atlasText: {
                        get: function () {
                            return this._atlasText
                        }, set: function (t) {
                            this._atlasText = t, this.reset()
                        }
                    },
                    textures: {default: [], type: [cc.Texture2D]},
                    textureNames: {default: [], type: [cc.String]},
                    scale: 1,
                    _nativeAsset: {
                        get: function () {
                            return this._buffer
                        }, set: function (t) {
                            this._buffer = t.buffer || t, this.reset()
                        }, override: !0
                    }
                }, statics: {preventDeferredLoadDependents: !0}, createNode: !1, reset: function () {
                    this._skeletonCache = null, this._atlasCache = null
                }, ensureTexturesLoaded: function (t, e) {
                    var i = this.textures, n = i.length;
                    if (0 != n) for (var r = 0, s = function () {
                        ++r >= n && (t && t.call(e, !0), t = null)
                    }, a = 0; a < n; a++) {
                        var o = i[a];
                        o.loaded ? s() : o.once("load", s)
                    } else t.call(e, !1)
                }, isTexturesLoaded: function () {
                    for (var t = this.textures, e = t.length, i = 0; i < e; i++) if (!t[i].loaded) return !1;
                    return !0
                }, getRuntimeData: function (t) {
                    if (this._skeletonCache) return this._skeletonCache;
                    if (!(this.textures && this.textures.length > 0) && this.textureNames && this.textureNames.length > 0) return t || cc.errorID(7507, this.name), null;
                    var e = this._getAtlas(t);
                    if (!e) return null;
                    var i = new sp.spine.AtlasAttachmentLoader(e), n = null, r = null;
                    return this.skeletonJson ? (r = new sp.spine.SkeletonJson(i), n = this.skeletonJson) : (r = new sp.spine.SkeletonBinary(i), n = new Uint8Array(this._nativeAsset)), r.scale = this.scale, this._skeletonCache = r.readSkeletonData(n), e.dispose(), this._skeletonCache
                }, getSkinsEnum: !1, getAnimsEnum: !1, _getTexture: function (t) {
                    for (var e = this.textureNames, i = 0; i < e.length; i++) if (e[i] === t) {
                        var n = this.textures[i], r = new sp.SkeletonTexture({width: n.width, height: n.height});
                        return r.setRealTexture(n), r
                    }
                    return cc.errorID(7506, t), null
                }, _getAtlas: function (t) {
                    return this._atlasCache ? this._atlasCache : this.atlasText ? this._atlasCache = new sp.spine.TextureAtlas(this.atlasText, this._getTexture.bind(this)) : (t || cc.errorID(7508, this.name), null)
                }, destroy: function () {
                    i.removeSkeleton(this._uuid), this._super()
                }
            });
            sp.SkeletonData = e.exports = n
        }), {"./skeleton-cache": 333}],
        335: [(function () {
            "use strict";
            sp.SkeletonTexture = cc.Class({
                name: "sp.SkeletonTexture",
                extends: sp.spine.Texture,
                _texture: null,
                _material: null,
                setRealTexture: function (t) {
                    this._texture = t
                },
                getRealTexture: function () {
                    return this._texture
                },
                setFilters: function (t, e) {
                    this._texture && this._texture.setFilters(t, e)
                },
                setWraps: function (t, e) {
                    this._texture && this._texture.setWrapMode(t, e)
                },
                dispose: function () {
                }
            })
        }), {}],
        336: [(function (t, e, i) {
            "use strict";
            i.__esModule = !0, i.default = void 0;
            var n, r = (n = t("../../cocos2d/core/renderer/assembler")) && n.__esModule ? n : {default: n};

            function s(t, e) {
                return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
                    return t.__proto__ = e, t
                })(t, e)
            }

            var a, o, c, l, h, u, f, d, _, p, v, g, m, y, T, E, A, b = t("./Skeleton"), x = t("./lib/spine"),
                C = t("../../cocos2d/core/renderer/render-flow"),
                S = t("../../cocos2d/core/renderer/webgl/vertex-format"), w = S.vfmtPosUvColor, M = S.vfmtPosUvTwoColor,
                R = cc.gfx, I = 0, O = [0, 1, 2, 2, 3, 0], D = cc.color(0, 0, 255, 255), P = cc.color(255, 0, 0, 255),
                L = cc.color(0, 255, 0, 255), N = cc.color(255, 255, 0, 255), F = null, B = null, k = null, V = null;
            F = new x.Color(1, 1, 1, 1), B = new x.Color(1, 1, 1, 1), k = new x.Vector2, V = new x.Vector2;
            var U, z, H, W, G, j, X, Y, q, Z, K, J, Q, $, tt, et, it, nt, rt, st, at, ot, ct, lt, ht, ut, ft, dt, _t,
                pt = 0, vt = 0, gt = 0, mt = 0, yt = 0, Tt = 0, Et = 0;

            function At(t, e) {
                var i, n;
                switch (e) {
                    case x.BlendMode.Additive:
                        i = a ? cc.macro.ONE : cc.macro.SRC_ALPHA, n = cc.macro.ONE;
                        break;
                    case x.BlendMode.Multiply:
                        i = cc.macro.DST_COLOR, n = cc.macro.ONE_MINUS_SRC_ALPHA;
                        break;
                    case x.BlendMode.Screen:
                        i = cc.macro.ONE, n = cc.macro.ONE_MINUS_SRC_COLOR;
                        break;
                    case x.BlendMode.Normal:
                    default:
                        i = a ? cc.macro.ONE : cc.macro.SRC_ALPHA, n = cc.macro.ONE_MINUS_SRC_ALPHA
                }
                var r = !lt.enableBatch, s = lt._materials[0];
                if (!s) return null;
                var o = t.getId() + i + n + h + r, c = lt._materialCache, l = c[o];
                return l || (c.baseMaterial ? l = cc.MaterialVariant.create(s) : (l = s, c.baseMaterial = s), l.define("CC_USE_MODEL", r), l.define("USE_TINT", h), l.setProperty("texture", t), l.setBlend(!0, R.BLEND_FUNC_ADD, i, n, R.BLEND_FUNC_ADD, i, n), c[o] = l), l
            }

            function bt(t) {
                st = t.fa * g, $ = _ * (o = a ? st / 255 : 1), tt = p * o, et = v * o, it = t.fr * $, nt = t.fg * tt, rt = t.fb * et, m = (st << 24 >>> 0) + (rt << 16) + (nt << 8) + it, at = t.dr * $, ot = t.dg * tt, ct = t.db * et, y = ((a ? 255 : 0) << 24 >>> 0) + (ct << 16) + (ot << 8) + at
            }

            function xt(t) {
                return (t.a << 24 >>> 0) + (t.b << 16) + (t.g << 8) + t.r
            }

            var Ct = (function (t) {
                var e, i;

                function n() {
                    return t.apply(this, arguments) || this
                }

                i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, s(e, i);
                var r = n.prototype;
                return r.updateRenderData = function (t) {
                    if (!t.isAnimationCached()) {
                        var e = t._skeleton;
                        e && e.updateWorldTransform()
                    }
                }, r.fillVertices = function (t, e, i, n, r) {
                    var s, c = ht._vData, l = ht._iData, u = ht._uintVData;
                    if (F.a = i.a * e.a * t.a * g * 255, o = a ? F.a : 255, U = _ * e.r * t.r * o, z = p * e.g * t.g * o, H = v * e.b * t.b * o, F.r = U * i.r, F.g = z * i.g, F.b = H * i.b, null == r.darkColor ? B.set(0, 0, 0, 1) : (B.r = r.darkColor.r * U, B.g = r.darkColor.g * z, B.b = r.darkColor.b * H), B.a = a ? 255 : 0, n.isClipping()) {
                        var f = c.subarray(gt + 2);
                        n.clipTriangles(c.subarray(gt), pt, l.subarray(Tt), yt, f, F, B, h, E);
                        var d = new Float32Array(n.clippedVertices), T = n.clippedTriangles;
                        if (yt = T.length, pt = d.length / A * E, s = ht.request(pt / E, yt), Tt = s.indiceOffset, mt = s.vertexOffset, gt = s.byteOffset >> 2, c = ht._vData, l = ht._iData, u = ht._uintVData, l.set(T, Tt), _t) for (var b = 0, x = d.length, C = gt; b < x; b += A, C += E) k.x = d[b], k.y = d[b + 1], F.set(d[b + 2], d[b + 3], d[b + 4], d[b + 5]), V.x = d[b + 6], V.y = d[b + 7], h ? B.set(d[b + 8], d[b + 9], d[b + 10], d[b + 11]) : B.set(0, 0, 0, 0), _t.transform(k, V, F, B), c[C] = k.x, c[C + 1] = k.y, c[C + 2] = V.x, c[C + 3] = V.y, u[C + 4] = xt(F), h && (u[C + 5] = xt(B)); else for (var S = 0, w = d.length, M = gt; S < w; S += A, M += E) c[M] = d[S], c[M + 1] = d[S + 1], c[M + 2] = d[S + 6], c[M + 3] = d[S + 7], m = (d[S + 5] << 24 >>> 0) + (d[S + 4] << 16) + (d[S + 3] << 8) + d[S + 2], u[M + 4] = m, h && (y = (d[S + 11] << 24 >>> 0) + (d[S + 10] << 16) + (d[S + 9] << 8) + d[S + 8], u[M + 5] = y)
                    } else if (_t) for (var R = gt, I = gt + pt; R < I; R += E) k.x = c[R], k.y = c[R + 1], V.x = c[R + 2], V.y = c[R + 3], _t.transform(k, V, F, B), c[R] = k.x, c[R + 1] = k.y, c[R + 2] = V.x, c[R + 3] = V.y, u[R + 4] = xt(F), h && (u[R + 5] = xt(B)); else {
                        m = xt(F), y = xt(B);
                        for (var O = gt, D = gt + pt; O < D; O += E) u[O + 4] = m, h && (u[O + 5] = y)
                    }
                }, r.realTimeTraverse = function (t) {
                    var e, i, n, r, s, a, o, _, p, v, g, m, y = lt._skeleton, T = y.color, b = lt._debugRenderer,
                        C = lt._clipper, S = null;
                    c = lt._startSlotIndex, l = lt._endSlotIndex, W = !1, -1 == c && (W = !0), u = lt.debugSlots, f = lt.debugBones, d = lt.debugMesh, b && (f || u || d) && (b.clear(), b.lineWidth = 2), A = h ? 12 : 8, pt = 0, gt = 0, mt = 0, yt = 0, Tt = 0;
                    for (var w = 0, M = y.drawOrder.length; w < M; w++) if (null != (g = y.drawOrder[w]) && g.bone.active) if (c >= 0 && c == g.data.index && (W = !0), W) if (l >= 0 && l == g.data.index && (W = !1), pt = 0, yt = 0, n = g.getAttachment()) if (_ = n instanceof x.RegionAttachment, p = n instanceof x.MeshAttachment, n instanceof x.ClippingAttachment) C.clipStart(g, n); else if (_ || p) if (S = At(n.region.texture._texture, g.data.blendMode)) {
                        if ((G || S.getHash() !== ut.material.getHash()) && (G = !1, ut._flush(), ut.node = ft, ut.material = S), _) {
                            if (o = O, pt = 4 * E, yt = 6, v = ht.request(4, 6), Tt = v.indiceOffset, mt = v.vertexOffset, gt = v.byteOffset >> 2, e = ht._vData, i = ht._iData, n.computeWorldVertices(g.bone, e, gt, E), b && u) {
                                b.strokeColor = D, b.moveTo(e[gt], e[gt + 1]);
                                for (var R = gt + E, I = gt + pt; R < I; R += E) b.lineTo(e[R], e[R + 1]);
                                b.close(), b.stroke()
                            }
                        } else if (p && (o = n.triangles, pt = (n.worldVerticesLength >> 1) * E, yt = o.length, v = ht.request(pt / E, yt), Tt = v.indiceOffset, mt = v.vertexOffset, gt = v.byteOffset >> 2, e = ht._vData, i = ht._iData, n.computeWorldVertices(g, 0, n.worldVerticesLength, e, gt, E), b && d)) {
                            b.strokeColor = N;
                            for (var F = 0, B = o.length; F < B; F += 3) {
                                var k = o[F] * E + gt, V = o[F + 1] * E + gt, U = o[F + 2] * E + gt;
                                b.moveTo(e[k], e[k + 1]), b.lineTo(e[V], e[V + 1]), b.lineTo(e[U], e[U + 1]), b.close(), b.stroke()
                            }
                        }
                        if (0 != pt && 0 != yt) {
                            i.set(o, Tt), a = n.uvs;
                            for (var z = gt, H = gt + pt, $ = 0; z < H; z += E, $ += 2) e[z + 2] = a[$], e[z + 3] = a[$ + 1];
                            if (r = n.color, s = g.color, this.fillVertices(T, r, s, C, g), e = ht._vData, i = ht._iData, yt > 0) {
                                for (var tt = Tt, et = Tt + yt; tt < et; tt++) i[tt] += mt;
                                if (t) {
                                    m = t.m, Y = m[0], q = m[4], Z = m[12], K = m[1], J = m[5], Q = m[13];
                                    for (var it = gt, nt = gt + pt; it < nt; it += E) j = e[it], X = e[it + 1], e[it] = j * Y + X * q + Z, e[it + 1] = j * K + X * J + Q
                                }
                                ht.adjust(pt / E, yt)
                            }
                            C.clipEndWithSlot(g)
                        } else C.clipEndWithSlot(g)
                    } else C.clipEndWithSlot(g); else C.clipEndWithSlot(g); else C.clipEndWithSlot(g); else C.clipEndWithSlot(g);
                    if (C.clipEnd(), b && f) {
                        var rt;
                        b.strokeColor = P, b.fillColor = D;
                        for (var st = 0, at = y.bones.length; st < at; st++) {
                            var ot = (rt = y.bones[st]).data.length * rt.a + rt.worldX,
                                ct = rt.data.length * rt.c + rt.worldY;
                            b.moveTo(rt.worldX, rt.worldY), b.lineTo(ot, ct), b.stroke(), b.circle(rt.worldX, rt.worldY, 1.5 * Math.PI), b.fill(), 0 === st && (b.fillColor = L)
                        }
                    }
                }, r.cacheTraverse = function (t) {
                    var e = lt._curFrame;
                    if (e) {
                        var i = e.segments;
                        if (0 != i.length) {
                            var n, r, s, a, o, c, l = e.vertices, h = e.indices, u = 0, f = 0, d = 0;
                            t && (c = t.m, Y = c[0], K = c[1], q = c[4], J = c[5], Z = c[12], Q = c[13]);
                            var _ = 16 & I, p = _ && 1 === Y && 0 === K && 0 === q && 1 === J, v = 0, g = e.colors,
                                T = g[v++], E = T.vfOffset;
                            bt(T);
                            for (var A = 0, b = i.length; A < b; A++) {
                                var x = i[A];
                                if (a = At(x.tex, x.blendMode)) {
                                    (G || a.getHash() !== ut.material.getHash()) && (G = !1, ut._flush(), ut.node = ft, ut.material = a), vt = x.vertexCount, yt = x.indexCount, o = ht.request(vt, yt), Tt = o.indiceOffset, mt = o.vertexOffset, Et = o.byteOffset >> 2, n = ht._vData, r = ht._iData, s = ht._uintVData;
                                    for (var C = Tt, S = Tt + yt; C < S; C++) r[C] = mt + h[f++];
                                    if (d = x.vfCount, n.set(l.subarray(u, u + d), Et), u += d, p) for (var w = Et, M = Et + d; w < M; w += 6) n[w] += Z, n[w + 1] += Q; else if (_) for (var R = Et, O = Et + d; R < O; R += 6) j = n[R], X = n[R + 1], n[R] = j * Y + X * q + Z, n[R + 1] = j * K + X * J + Q;
                                    if (ht.adjust(vt, yt), dt) for (var D = u - d, P = Et + 4, L = Et + 4 + d; P < L; P += 6, D += 6) D >= E && (bt(T = g[v++]), E = T.vfOffset), s[P] = m, s[P + 1] = y
                                }
                            }
                        }
                    }
                }, r.fillBuffers = function (t, e) {
                    var i = t.node;
                    if (i._renderFlag |= C.FLAG_UPDATE_RENDER_DATA, t._skeleton) {
                        var n = i._color;
                        _ = n.r / 255, p = n.g / 255, v = n.b / 255, g = n.a / 255, h = t.useTint || t.isAnimationCached(), T = h ? M : w, E = h ? 6 : 5, ft = t.node, ht = e.getBuffer("spine", T), ut = e, lt = t, G = !0, a = t.premultipliedAlpha, o = 1, I = 0, dt = !1, _t = t._effectDelegate && t._effectDelegate._vertexEffect, (4294967295 !== n._val || a) && (dt = !0), h && (I |= 1);
                        var r = void 0;
                        lt.enableBatch && (r = ft._worldMatrix, G = !1, I |= 16), t.isAnimationCached() ? this.cacheTraverse(r) : (_t && _t.begin(t._skeleton), this.realTimeTraverse(r), _t && _t.end()), e.worldMatDirty++, t.attachUtil._syncAttachedNode(), ft = void 0, ht = void 0, ut = void 0, lt = void 0, _t = null
                    }
                }, r.postFillBuffers = function (t, e) {
                    e.worldMatDirty--
                }, n
            })(r.default);
            i.default = Ct, r.default.register(b, Ct), e.exports = i.default
        }), {
            "../../cocos2d/core/renderer/assembler": 196,
            "../../cocos2d/core/renderer/render-flow": 200,
            "../../cocos2d/core/renderer/webgl/vertex-format": 239,
            "./Skeleton": 330,
            "./lib/spine": 332
        }],
        337: [(function (t, e) {
            "use strict";
            var i = function () {
                this.start = null, this.end = null, this.complete = null, this.event = null, this.interrupt = null, this.dispose = null
            };
            i.getListeners = function (t) {
                return t.listener || (t.listener = new i), t.listener
            }, e.exports = i
        }), {}],
        338: [(function (t, e) {
            "use strict";
            var i = t("./lib/spine");
            sp.VertexEffectDelegate = cc.Class({
                name: "sp.VertexEffectDelegate", ctor: function () {
                    this._vertexEffect = null, this._interpolation = null, this._effectType = "none"
                }, clear: function () {
                    this._vertexEffect = null, this._interpolation = null, this._effectType = "none"
                }, initJitter: function (t, e) {
                    return this._effectType = "jitter", this._vertexEffect = new i.JitterEffect(t, e), this._vertexEffect
                }, initSwirlWithPow: function (t, e) {
                    return this._interpolation = new i.Pow(e), this._vertexEffect = new i.SwirlEffect(t, this._interpolation), this._vertexEffect
                }, initSwirlWithPowOut: function (t, e) {
                    return this._interpolation = new i.PowOut(e), this._vertexEffect = new i.SwirlEffect(t, this._interpolation), this._vertexEffect
                }, getJitterVertexEffect: function () {
                    return this._vertexEffect
                }, getSwirlVertexEffect: function () {
                    return this._vertexEffect
                }, getVertexEffect: function () {
                    return this._vertexEffect
                }, getEffectType: function () {
                    return this._effectType
                }
            }), e.exports = sp.VertexEffectDelegate
        }), {"./lib/spine": 332}],
        339: [(function (t, e) {
            "use strict";
            var i = "undefined" == typeof window ? global : window;
            i.cc = i.cc || {}, cc.internal = cc.internal || {}, t("./predefine"), t("./polyfill/string"), t("./polyfill/misc"), t("./polyfill/array"), t("./polyfill/object"), t("./polyfill/array-buffer"), t("./polyfill/number"), t("./polyfill/typescript"), t("./cocos2d/core/predefine"), t("./cocos2d"), t("./extends"), e.exports = i.cc
        }), {
            "./cocos2d": 278,
            "./cocos2d/core/predefine": 192,
            "./extends": 327,
            "./package": void 0,
            "./polyfill/array": 341,
            "./polyfill/array-buffer": 340,
            "./polyfill/misc": 342,
            "./polyfill/number": 343,
            "./polyfill/object": 344,
            "./polyfill/string": 345,
            "./polyfill/typescript": 346,
            "./predefine": 347
        }],
        340: [(function () {
            "use strict";
            if (!ArrayBuffer.isView) {
                var t = Object.getPrototypeOf(Int8Array);
                ArrayBuffer.isView = "function" == typeof t ? function (e) {
                    return e instanceof t
                } : function (t) {
                    if ("object" != typeof t) return !1;
                    var e = t.constructor;
                    return e === Float64Array || e === Float32Array || e === Uint8Array || e === Uint32Array || e === Int8Array
                }
            }
        }), {}],
        341: [(function () {
            "use strict";
            Array.isArray || (Array.isArray = function (t) {
                return "[object Array]" === Object.prototype.toString.call(t)
            }), Array.prototype.find || (Array.prototype.find = function (t) {
                for (var e = this.length, i = 0; i < e; i++) {
                    var n = this[i];
                    if (t.call(this, n, i, this)) return n
                }
            }), Array.prototype.includes || (Array.prototype.includes = function (t) {
                return -1 !== this.indexOf(t)
            })
        }), {}],
        342: [(function () {
            "use strict";
            if (Math.sign || (Math.sign = function (t) {
                return 0 == (t = +t) || isNaN(t) ? t : t > 0 ? 1 : -1
            }), Math.log2 || (Math.log2 = function (t) {
                return Math.log(t) * Math.LOG2E
            }), Number.isInteger || (Number.isInteger = function (t) {
                return "number" == typeof t && isFinite(t) && Math.floor(t) === t
            }), !console.time) {
                var t = window.performance || Date, e = Object.create(null);
                console.time = function (i) {
                    e[i] = t.now()
                }, console.timeEnd = function (i) {
                    var n = e[i], r = t.now() - n;
                    console.log(i + ": " + r + "ms")
                }
            }
        }), {}],
        343: [(function () {
            "use strict";
            Number.parseFloat = Number.parseFloat || parseFloat, Number.parseInt = Number.parseInt || parseInt
        }), {}],
        344: [(function () {
            "use strict";
            Object.assign || (Object.assign = function (t, e) {
                return cc.js.mixin(t, e)
            }), Object.getOwnPropertyDescriptors || (Object.getOwnPropertyDescriptors = function (t) {
                var e = {}, i = Object.getOwnPropertyNames(t);
                Object.getOwnPropertySymbols && (i = i.concat(Object.getOwnPropertySymbols(t)));
                for (var n = 0; n < i.length; ++n) {
                    var r = i[n];
                    e[r] = Object.getOwnPropertyDescriptor(t, r)
                }
                return e
            })
        }), {}],
        345: [(function () {
            "use strict";
            String.prototype.startsWith || (String.prototype.startsWith = function (t, e) {
                return e = e || 0, this.lastIndexOf(t, e) === e
            }), String.prototype.endsWith || (String.prototype.endsWith = function (t, e) {
                (void 0 === e || e > this.length) && (e = this.length), e -= t.length;
                var i = this.indexOf(t, e);
                return -1 !== i && i === e
            }), String.prototype.trimLeft || (String.prototype.trimLeft = function () {
                return this.replace(/^\s+/, "")
            })
        }), {}],
        346: [(function () {
            "use strict";
            var t = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
                t.__proto__ = e
            } || function (t, e) {
                for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
            };
            window.__extends = function (e, i) {
                function n() {
                    this.constructor = e
                }

                t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }, window.__assign = Object.assign || function (t) {
                for (var e, i = 1, n = arguments.length; i < n; i++) for (var r in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                return t
            }, window.__rest = function (t, e) {
                var i = {};
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && e.indexOf(n) < 0 && (i[n] = t[n]);
                if (null != t && "function" == typeof Object.getOwnPropertySymbols) {
                    var r = 0;
                    for (n = Object.getOwnPropertySymbols(t); r < n.length; r++) e.indexOf(n[r]) < 0 && Object.prototype.propertyIsEnumerable.call(t, n[r]) && (i[n[r]] = t[n[r]])
                }
                return i
            }, window.__decorate = function (t, e, i, n) {
                var r, s = arguments.length, a = s < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, i, n); else for (var o = t.length - 1; o >= 0; o--) (r = t[o]) && (a = (s < 3 ? r(a) : s > 3 ? r(e, i, a) : r(e, i)) || a);
                return s > 3 && a && Object.defineProperty(e, i, a), a
            }, window.__param = function (t, e) {
                return function (i, n) {
                    e(i, n, t)
                }
            }, window.__metadata = function (t, e) {
                if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
            }, window.__awaiter = function (t, e, i, n) {
                return new (i || (i = Promise))(function (r, s) {
                    function a(t) {
                        try {
                            c(n.next(t))
                        } catch (e) {
                            s(e)
                        }
                    }

                    function o(t) {
                        try {
                            c(n.throw(t))
                        } catch (e) {
                            s(e)
                        }
                    }

                    function c(t) {
                        var e;
                        t.done ? r(t.value) : (e = t.value, e instanceof i ? e : new i(function (t) {
                            t(e)
                        })).then(a, o)
                    }

                    c((n = n.apply(t, e || [])).next())
                })
            }, window.__generator = function (t, e) {
                var i, n, r, s, a = {
                    label: 0, sent: function () {
                        if (1 & r[0]) throw r[1];
                        return r[1]
                    }, trys: [], ops: []
                };
                return s = {
                    next: o(0),
                    throw: o(1),
                    return: o(2)
                }, "function" == typeof Symbol && (s[Symbol.iterator] = function () {
                    return this
                }), s;

                function o(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }

                function c(s) {
                    if (i) throw new TypeError("Generator is already executing.");
                    for (; a;) try {
                        if (i = 1, n && (r = 2 & s[0] ? n.return : s[0] ? n.throw || ((r = n.return) && r.call(n), 0) : n.next) && !(r = r.call(n, s[1])).done) return r;
                        switch (n = 0, r && (s = [2 & s[0], r.value]), s[0]) {
                            case 0:
                            case 1:
                                r = s;
                                break;
                            case 4:
                                return a.label++, {value: s[1], done: !1};
                            case 5:
                                a.label++, n = s[1], s = [0];
                                continue;
                            case 7:
                                s = a.ops.pop(), a.trys.pop();
                                continue;
                            default:
                                if (!(r = (r = a.trys).length > 0 && r[r.length - 1]) && (6 === s[0] || 2 === s[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === s[0] && (!r || s[1] > r[0] && s[1] < r[3])) {
                                    a.label = s[1];
                                    break
                                }
                                if (6 === s[0] && a.label < r[1]) {
                                    a.label = r[1], r = s;
                                    break
                                }
                                if (r && a.label < r[2]) {
                                    a.label = r[2], a.ops.push(s);
                                    break
                                }
                                r[2] && a.ops.pop(), a.trys.pop();
                                continue
                        }
                        s = e.call(t, a)
                    } catch (o) {
                        s = [6, o], n = 0
                    } finally {
                        i = r = 0
                    }
                    if (5 & s[0]) throw s[1];
                    return {value: s[0] ? s[1] : void 0, done: !0}
                }
            }, window.__exportStar = function (t, e) {
                for (var i in t) "default" === i || Object.prototype.hasOwnProperty.call(e, i) || __createBinding(e, t, i)
            }, window.__createBinding = Object.create ? function (t, e, i, n) {
                void 0 === n && (n = i), Object.defineProperty(t, n, {
                    enumerable: !0, get: function () {
                        return e[i]
                    }
                })
            } : function (t, e, i, n) {
                void 0 === n && (n = i), t[n] = e[i]
            }, window.__values = function (t) {
                var e = "function" == typeof Symbol && Symbol.iterator, i = e && t[e], n = 0;
                if (i) return i.call(t);
                if (t && "number" == typeof t.length) return {
                    next: function () {
                        return t && n >= t.length && (t = void 0), {value: t && t[n++], done: !t}
                    }
                };
                throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.")
            }, window.__read = function (t, e) {
                var i = "function" == typeof Symbol && t[Symbol.iterator];
                if (!i) return t;
                var n, r, s = i.call(t), a = [];
                try {
                    for (; (void 0 === e || e-- > 0) && !(n = s.next()).done;) a.push(n.value)
                } catch (o) {
                    r = {error: o}
                } finally {
                    try {
                        n && !n.done && (i = s.return) && i.call(s)
                    } finally {
                        if (r) throw r.error
                    }
                }
                return a
            }, window.__spread = function () {
                for (var t = [], e = 0; e < arguments.length; e++) t = t.concat(__read(arguments[e]));
                return t
            }, window.__spreadArrays = function () {
                for (var t = 0, e = 0, i = arguments.length; e < i; e++) t += arguments[e].length;
                var n = Array(t), r = 0;
                for (e = 0; e < i; e++) for (var s = arguments[e], a = 0, o = s.length; a < o; a++, r++) n[r] = s[a];
                return n
            }, window.__await = function (t) {
                return this instanceof __await ? (this.v = t, this) : new __await(t)
            }, window.__asyncGenerator = function (t, e, i) {
                if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
                var n, r = i.apply(t, e || []), s = [];
                return n = {}, a("next"), a("throw"), a("return"), n[Symbol.asyncIterator] = function () {
                    return this
                }, n;

                function a(t) {
                    r[t] && (n[t] = function (e) {
                        return new Promise(function (i, n) {
                            s.push([t, e, i, n]) > 1 || o(t, e)
                        })
                    })
                }

                function o(t, e) {
                    try {
                        (i = r[t](e)).value instanceof __await ? Promise.resolve(i.value.v).then(c, l) : h(s[0][2], i)
                    } catch (n) {
                        h(s[0][3], n)
                    }
                    var i
                }

                function c(t) {
                    o("next", t)
                }

                function l(t) {
                    o("throw", t)
                }

                function h(t, e) {
                    t(e), s.shift(), s.length && o(s[0][0], s[0][1])
                }
            }, window.__asyncDelegator = function (t) {
                var e, i;
                return e = {}, n("next"), n("throw", (function (t) {
                    throw t
                })), n("return"), e[Symbol.iterator] = function () {
                    return this
                }, e;

                function n(n, r) {
                    e[n] = t[n] ? function (e) {
                        return (i = !i) ? {value: __await(t[n](e)), done: "return" === n} : r ? r(e) : e
                    } : r
                }
            }, window.__asyncValues = function (t) {
                if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
                var e, i = t[Symbol.asyncIterator];
                return i ? i.call(t) : (t = "function" == typeof __values ? __values(t) : t[Symbol.iterator](), e = {}, n("next"), n("throw"), n("return"), e[Symbol.asyncIterator] = function () {
                    return this
                }, e);

                function n(i) {
                    e[i] = t[i] && function (e) {
                        return new Promise(function (n, s) {
                            r(n, s, (e = t[i](e)).done, e.value)
                        })
                    }
                }

                function r(t, e, i, n) {
                    Promise.resolve(n).then((function (e) {
                        t({value: e, done: i})
                    }), e)
                }
            }, window.__makeTemplateObject = function (t, e) {
                return Object.defineProperty ? Object.defineProperty(t, "raw", {value: e}) : t.raw = e, t
            };
            var e = Object.create ? function (t, e) {
                Object.defineProperty(t, "default", {enumerable: !0, value: e})
            } : function (t, e) {
                t.default = e
            };
            window.__importStar = function (t) {
                if (t && t.__esModule) return t;
                var i = {};
                if (null != t) for (var n in t) "default" !== n && Object.prototype.hasOwnProperty.call(t, n) && __createBinding(i, t, n);
                return e(i, t), i
            }, window.__importDefault = function (t) {
                return t && t.__esModule ? t : {default: t}
            }, window.__classPrivateFieldGet = function (t, e) {
                if (!e.has(t)) throw new TypeError("attempted to get private field on non-instance");
                return e.get(t)
            }, window.__classPrivateFieldSet = function (t, e, i) {
                if (!e.has(t)) throw new TypeError("attempted to set private field on non-instance");
                return e.set(t, i), i
            }
        }), {}],
        347: [(function () {
            "use strict";
            var t = "undefined" == typeof window ? global : window;

            function e(e, i) {
                void 0 === t[e] && Object.defineProperty(t, e, {
                    get: function () {
                        var t;
                        return "CC_WECHATGAMESUB" === e ? t = "cc.sys.platform === cc.sys.WECHAT_GAME_SUB" : "CC_WECHATGAME" === e ? t = "cc.sys.platform === cc.sys.WECHAT_GAME" : "CC_QQPLAY" === e && (t = "cc.sys.platform === cc.sys.QQ_PLAY"), cc.warnID(1400, e, t), i
                    }
                })
            }

            function i(e) {
                return "object" == typeof t[e]
            }

            (function (e, i) {
                void 0 === t[e] && (t[e] = i)
            })("CC_BUILD", !1), t.CC_BUILD = !0, t.CC_DEV = !1, t.CC_DEBUG = !1, t.CC_JSB = !1, t.CC_NATIVERENDERER = !1, t.CC_SUPPORT_JIT = !1, t.CC_PHYSICS_BUILTIN = !1, t.CC_PHYSICS_CANNON = !1, t.CC_EDITOR = !1, t.CC_PREVIEW = !1, t.CC_TEST = !1, t.CC_RUNTIME = !1, t.CC_JSB = !1;
            var n = !(!i("wx") || !wx.getSharedCanvas), r = !(!i("wx") || !wx.getSystemInfoSync && !wx.getSharedCanvas),
                s = i("bk");
            e("CC_WECHATGAMESUB", n), e("CC_WECHATGAME", r), e("CC_QQPLAY", s), t.CocosEngine = cc.ENGINE_VERSION = "2.4.9"
        }), {}]
    }, {}, [339]);
});
define("game-defines.js", function (require, module, exports) {
    "use strict";
    var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) {
            return typeof o
        } : function (o) {
            return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o
        },
        t = "object" === ("undefined" == typeof globalThis ? "undefined" : o(globalThis)) ? globalThis : "object" === ("undefined" == typeof window ? "undefined" : o(window)) ? window : global;
    t.PLATFORM = "wx", t.ENV = "Prod", t.APPID = "wx0840558555a454ed", t.CDN = "https://xxz-xyzw-res.hortorgames.com", t.SERVER = "https://xxz-xyzw.hortorgames.com", t.GAME_NAME = "咸鱼之王", t.GAME_ID = "xyzw_mix", t.GAME_VERSION = "1.68.1-wx", t.CODE_VERSION = "1.68.1", t.COMMIT_ID = "", t.CONFIG_COMMIT_ID = "", t.RESOURCES_COMMIT_ID = "", t.DOWNLOAD_URL = "", t.CDNS = ["https://xxz-xyzw-res.hortorgames.com", "https://xxz-xyzw-alires.hortorgames.com"], t.VERSION_POSTFIX = "", t.BATTLE_OSS_URL = "https://xxz-xyzw-service-battle.hortorgames.com";
});
define("hortor/sdk.min.js", function (require, module, exports) {
    "use strict";

    function e(e, t, n) {
        return (t = p(t)) in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function t(e) {
        return function (e) {
            if (Array.isArray(e)) return r(e)
        }(e) || function (e) {
            if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e)
        }(e) || n(e) || function () {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }

    function n(e, t) {
        if (e) {
            if ("string" == typeof e) return r(e, t);
            var n = Object.prototype.toString.call(e).slice(8, -1);
            return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? r(e, t) : void 0
        }
    }

    function r(e, t) {
        (null == t || t > e.length) && (t = e.length);
        for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
        return r
    }

    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                writable: !0,
                configurable: !0
            }
        }), Object.defineProperty(e, "prototype", {writable: !1}), t && o(e, t)
    }

    function o(e, t) {
        return (o = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function a(e) {
        var t = function () {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {
                })), !0
            } catch (e) {
                return !1
            }
        }();
        return function () {
            var n, r = u(e);
            if (t) {
                var i = u(this).constructor;
                n = Reflect.construct(r, arguments, i)
            } else n = r.apply(this, arguments);
            return s(this, n)
        }
    }

    function s(e, t) {
        if (t && ("object" === l(t) || "function" == typeof t)) return t;
        if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined");
        return c(e)
    }

    function c(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function u(e) {
        return (u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == Zn(Symbol.iterator) ? function (e) {
            return void 0 === e ? "undefined" : Zn(e)
        } : function (e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : Zn(e)
        })(e)
    }

    function d(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function f(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, p(r.key), r)
        }
    }

    function h(e, t, n) {
        return t && f(e.prototype, t), n && f(e, n), Object.defineProperty(e, "prototype", {writable: !1}), e
    }

    function p(e) {
        var t = function (e) {
            if ("object" !== l(e) || null === e) return e;
            var t = e[Symbol.toPrimitive];
            if (void 0 !== t) {
                var n = t.call(e, "string");
                if ("object" !== l(n)) return n;
                throw new TypeError("@@toPrimitive must return a primitive value.")
            }
            return String(e)
        }(e);
        return "symbol" === l(t) ? t : String(t)
    }

    function g(e) {
        var t = null == e ? void 0 : e.query;
        if (!Ar(t)) return "";
        var n = "";
        return t.gdt_vid || [1045, 1046, 1084].indexOf(null == e ? void 0 : e.scene) > -1 ? n = "TENCENT" : t.clue_token || t.clickid && t.item_id ? n = "BYTEDANCE" : t.callback && "kuaishou" === t.ksChannel ? n = "KUAISHOU" : t.bd_vid || t.ai && t.d && t.q && t.c ? n = "BAIDU" : t.uctrackid ? n = "ALIBABA" : (t.trackid || t.imp || [1065, 1069, 1194].indexOf(null == e ? void 0 : e.scene) > -1 && (t.callback || t.u)) && (n = "OTHERS"), n
    }

    function v(e, t) {
        try {
            var n = _r(), r = {
                sdk_version: "1.5.4",
                sdk_name: "@dn-sdk/minigame",
                device_brand: null == n ? void 0 : n.device_brand,
                device_model: null == n ? void 0 : n.device_model,
                wx_version: null == n ? void 0 : n.wx_version,
                wx_lib_version: null == n ? void 0 : n.wx_lib_version,
                wx_platform: null == n ? void 0 : n.wx_platform,
                os: null == n ? void 0 : n.os,
                os_version: null == n ? void 0 : n.os_version,
                local_id: Ir()
            }, i = Object.assign(r, e);
            wx.request({
                url: "https://api.datanexus.qq.com/data-nexus-trace/log",
                data: i,
                method: "POST",
                timeout: lr.requestTimeout,
                success: function (e) {
                    "function" == typeof t && 200 === (null == e ? void 0 : e.statusCode) && t()
                }
            })
        } catch (n) {
            Nr.error(n)
        }
    }

    function m(e) {
        return new Promise(function (t, n) {
            wx.request({
                method: "POST",
                url: "https://api.datanexus.qq.com/data-nexus-config/v1/sdk/config/get",
                data: e,
                timeout: lr.requestTimeout,
                success: function (e) {
                    y(e, t, "config/get", n), I(e)
                },
                fail: function (e) {
                    _(e, "config/get", n)
                }
            })
        })
    }

    function y(e, t, n, r) {
        var i, o, a, s, c = null == e ? void 0 : e.statusCode,
            u = null == (i = null == e ? void 0 : e.data) ? void 0 : i.code;
        if (200 !== c || 0 !== u) {
            var l = u;
            200 !== c && (l = "number" == typeof c ? -1 * c : -888), v({
                log_type: hr,
                message: "cgiName: ".concat(n, ", statusCode: ").concat(c, ", code: ").concat(u, ", traceid: ").concat(null == (a = null == e ? void 0 : e.data) ? void 0 : a.trace_id),
                code: l
            }), null == r || r(null == (s = null == e ? void 0 : e.data) ? void 0 : s.data)
        } else t(null == (o = e.data) ? void 0 : o.data)
    }

    function _(e, t, n) {
        v({
            log_type: hr,
            message: "cgiName: ".concat(t, " , message: ").concat(null == e ? void 0 : e.errMsg, " "),
            code: "number" == typeof (null == e ? void 0 : e.errno) ? -1 * e.errno : -999
        }), null == n || n(e)
    }

    function I(e) {
        var t, n = 1 * (null == (t = null == e ? void 0 : e.header) ? void 0 : t["Server-Time"]);
        n > 17266752e5 && kr.revise(n)
    }

    function w() {
        var e = (new Date).getTime(), t = Math.abs(1e3 * (e - xr));
        return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function (n) {
            var r = 16 * Math.random();
            return e > 0 ? (r = (e + r) % 16 | 0, e = Math.floor(e / 16)) : (r = (t + r) % 16 | 0, t = Math.floor(t / 16)), ("x" === n ? r : 3 & r | 8).toString(16).replace(/-/g, "")
        })
    }

    function b(e) {
        return T()[e]
    }

    function T() {
        return lr
    }

    function k(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }

    function S(e, t, n) {
        var r = n.value;
        return n.value = function () {
            for (var n = arguments.length, i = new Array(n), o = 0; o < n; o++) i[o] = arguments[o];
            try {
                return r.apply(this, i)
            } catch (n) {
                try {
                    Nr.error.apply(Nr, ["calling ".concat(e.constructor.name, ".").concat(t, " error with arguments")].concat(i)), Nr.error(n);
                    var a = {
                        log_type: dr,
                        message: "[safeExcutable] ".concat(e.constructor.name, ".").concat(t, ": ").concat(null == n ? void 0 : n.message),
                        err_stack: null == n ? void 0 : n.stack
                    };
                    Er(this.reportLog) ? this.reportLog(a) : v(a)
                } catch (a) {
                }
            }
        }, n
    }

    function A(e) {
        return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e
    }

    function C(e, n, r, i) {
        try {
            if (!Qr || null == e || !e[n]) return;
            e[n] = new Qr(e[n], {
                apply: function (e, n, o) {
                    var a, s;
                    i && O(function () {
                        return i.apply(void 0, t(o))
                    });
                    var c = !!(null != (a = o[0]) && a.success || null != (s = o[0]) && s.fail);
                    c && ["success", "fail"].forEach(function (e) {
                        if (o[0][e]) try {
                            o[0][e] = new Qr(o[0][e], {
                                apply: function (n, i, a) {
                                    return O(function () {
                                        return r.apply(void 0, [e, o[0]].concat(t(a)))
                                    }), n.apply(i, a)
                                }
                            })
                        } catch (e) {
                            R(e)
                        }
                    });
                    var u = e.apply(n, o);
                    return !c && u && "[object Promise]" === Object.prototype.toString.call(u) ? u.then(function (e) {
                        return O(function () {
                            return r("success", o[0], e)
                        }), e
                    }).catch(function (e) {
                        throw O(function () {
                            return r("fail", o[0], e)
                        }), e
                    }) : u
                }
            })
        } catch (e) {
            R(e)
        }
    }

    function E(e, n, r) {
        try {
            if (!Qr || null == e || !e[n]) return;
            e[n] = new Qr(e[n], {
                apply: function (e, n, i) {
                    var o = "function" == typeof i[0];
                    if (o) try {
                        i[0] = new Qr(i[0], {
                            apply: function (e, n, i) {
                                var o = e.call.apply(e, [n].concat(t(i)));
                                return O(function () {
                                    return r(o)
                                }), o
                            }
                        })
                    } catch (e) {
                        R(e)
                    }
                    var a = e.call.apply(e, [n].concat(t(i)));
                    return o || O(function () {
                        return r(a)
                    }), a
                }
            })
        } catch (e) {
            R(e)
        }
    }

    function x(e) {
        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
            r = arguments.length > 2 ? arguments[2] : void 0,
            i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : [],
            o = arguments.length > 4 ? arguments[4] : void 0;
        try {
            if (!Qr || null == e || !e[n]) return;
            e[n] = new Qr(e[n], {
                apply: function (e, a, s) {
                    var c = e.call.apply(e, [a].concat(t(s)));
                    return (!r || !oi[n]) && (O(function () {
                        return null == o ? void 0 : o(c)
                    }), i.forEach(function (e) {
                        var t = e.eventName, n = e.isAsync, r = e.proxyEvent;
                        n ? C(c, t, r) : E(c, t, r)
                    })), r && (oi[n] = !0), c
                }
            })
        } catch (e) {
            R(e)
        }
    }

    function O(e) {
        try {
            e()
        } catch (e) {
            R(e)
        }
    }

    function R(e) {
        v({log_type: "PROXY_ERROR", message: null == e ? void 0 : e.message, err_stack: null == e ? void 0 : e.stack})
    }

    function P(e, t) {
        try {
            e.is_sdk_auto_track || (function (e) {
                try {
                    var t = Li.getActionList();
                    if (!t.includes(e)) {
                        var r, i = function (e) {
                            var t = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
                            if (!t) {
                                if (Array.isArray(e) || (t = n(e))) {
                                    t && (e = t);
                                    var r = 0, i = function () {
                                    };
                                    return {
                                        s: i, n: function () {
                                            return r >= e.length ? {done: !0} : {done: !1, value: e[r++]}
                                        }, e: function (e) {
                                            throw e
                                        }, f: i
                                    }
                                }
                                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                            }
                            var o, a = !0, s = !1;
                            return {
                                s: function () {
                                    t = t.call(e)
                                }, n: function () {
                                    var e = t.next();
                                    return a = e.done, e
                                }, e: function (e) {
                                    s = !0, o = e
                                }, f: function () {
                                    try {
                                        a || null == t.return || t.return()
                                    } finally {
                                        if (s) throw o
                                    }
                                }
                            }
                        }(t);
                        try {
                            for (i.s(); !(r = i.n()).done;) {
                                var o = r.value;
                                if (M(o, e) <= parseInt((.3 * o.length).toString())) {
                                    Nr.warn("通过SDK上报的".concat(e, "行为名称可能有误，请检查该行为类型是否为腾讯广告提供的标准行为！").concat(Di));
                                    break
                                }
                            }
                        } catch (e) {
                            i.e(e)
                        } finally {
                            i.f()
                        }
                    }
                } catch (t) {
                    Nr.error(t)
                }
            }(e.action_type), "minigame" === t ? function (e, t) {
                var n, r, i;
                try {
                    ["PURCHASE", "ADD_TO_CART"].includes(e.action_type) && e.action_param && k(e.action_param, "value") && ("number" != typeof (null == (n = e.action_param) ? void 0 : n.value) ? Nr.warn("通过SDK上报的".concat(e.action_type, "行为携带的金额参数需要为数字！")) : (null == (r = e.action_param) ? void 0 : r.value) <= 0 ? Nr.warn("通过SDK上报的".concat(e.action_type, "行为携带的金额参数需要大于0！")) : "minigame" === t && (null == (i = e.action_param) ? void 0 : i.value) < 100 && Nr.warn("通过SDK上报的".concat(e.action_type, "行为携带的金额参数可能有误，金额的单位为‘分’，请检查金额是否正确！").concat(Di)))
                } catch (e) {
                    Nr.error(e)
                }
            }(e, t) : "miniprogram" === t && function (e) {
                try {
                    var t = null == e ? void 0 : e.action_type, n = (null == e ? void 0 : e.action_param) || {};
                    "PURCHASE" === t && k(n, "value") && ("number" != typeof (null == n ? void 0 : n.value) ? Nr.warn("通过SDK上报的".concat(t, "行为携带的金额参数需要为数字！")) : (null == n ? void 0 : n.value) <= 0 && Nr.warn("通过SDK上报的".concat(t, "行为携带的金额参数需要大于0！")))
                } catch (t) {
                    Nr.error(t)
                }
            }(e))
        } catch (e) {
            Nr.error(e)
        }
    }

    function M(e, t) {
        try {
            if (0 === e.length) return t.length;
            if (0 === t.length) return e.length;
            for (var n = [], r = 0; r <= t.length; r++) n[r] = [r];
            for (var i = 0; i <= e.length; i++) n[0][i] = i;
            for (var o = 1; o <= t.length; o++) for (var a = 1; a <= e.length; a++) t.charAt(o - 1) === e.charAt(a - 1) ? n[o][a] = n[o - 1][a - 1] : n[o][a] = Math.min(n[o - 1][a - 1] + 1, n[o][a - 1] + 1, n[o - 1][a] + 1);
            return n[t.length][e.length]
        } catch (n) {
            Nr.error(n)
        }
    }

    function D(e) {
        try {
            e && !/^[a-zA-Z0-9_\-]+$/.test(e) && Nr.warn("通过SDK上报的openid：".concat(e, "可能有误，请检查openid是否正确！").concat(Di))
        } catch (e) {
            Nr.error(e)
        }
    }

    function L(e) {
        z("emptyFun", e)
    }

    function N(e, t) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
        return e.apply(n, t)
    }

    function U(e, t) {
        return Object.assign(e, t)
    }

    function q(e) {
        try {
            return Wi.stringify(e) || ""
        } catch (e) {
            return z("stringify err", e), ""
        }
    }

    function F(e) {
        return "function" == typeof e
    }

    function j(e) {
        return e.toUpperCase()
    }

    function V() {
        for (var e = arguments, t = e[0], n = 1; n < e[Jo]; ++n) t += j(e[n][0]) + e[n].substr(1);
        return t
    }

    function H(e, t) {
        return N(Array.prototype[$o], [t], e)
    }

    function G() {
        var e = H(arguments);
        return e[$o](0, -1)[Zo](e[e[Jo] - 1])
    }

    function W() {
        var e = H(arguments);
        return e[Yo](""), N(G, e)
    }

    function B() {
        var e = H(arguments);
        return e[Yo]("_"), N(G, e)
    }

    function K() {
        for (var e = H(arguments), t = 0; t < e[Jo]; ++t) if (e[t]) return e[t];
        return ""
    }

    function z() {
        var e = H(arguments);
        e[Xo]("[HFLOWSDK]:"), N(console.log, e)
    }

    function Q(e) {
        var t = e.path, n = e.handler, r = void 0 === n ? function () {
        } : n, i = e.params, o = void 0 === i ? {} : i;
        (function (e) {
            return N(e, H(arguments, 1)).catch(L)
        })(Na, W("https://", "comb-", sa, Da[ra] === HSDK.ENV.Test ? "-test" : "", ".hortorgames.com") + "/external/api/v1/traffic/mini/" + t, U({
            gameId: Da[oa],
            uniqueId: Gi[ba],
            ts: Date.now()
        }, o)).then(function (e) {
            (null == e ? void 0 : e.result) && r(e);
            var n = null == e ? void 0 : e.retryInfo;
            if (null == n ? void 0 : n.retry) {
                var i = n.delayDuration;
                "number" == typeof i && i > 0 && setTimeout(function () {
                    Q({path: t, handler: r, params: o})
                }, 1e3 * i)
            } else if (!1 === (null == n ? void 0 : n.retry) && o.externalOrderId) {
                var a = ja(1);
                if (null == a ? void 0 : a.length) {
                    var s = a.findIndex(function (e) {
                        return e === o.externalOrderId
                    });
                    s > -1 && (a.splice(s), Va(1, a))
                }
            }
        })
    }

    function J(e) {
        !function (e, t) {
            !function (e, t) {
                HSDK && F(HSDK.handleMsgFromFlowSdk) ? HSDK.handleMsgFromFlowSdk(e, t) : z("msg to HSDK err", e, t)
            }("sdkTrack", {eventName: "c_traffic", data: t})
        }(0, e)
    }

    function Y() {
        var e;
        Qa || (z("setOpenId"), Qa = !0, null === (e = null == Ga ? void 0 : Ga.setOpenId) || void 0 === e || e.call(Ga, Gi[_a]))
    }

    function X(e) {
        var t;
        null === (t = null == Ga ? void 0 : Ga.onCreateRole) || void 0 === t || t.call(Ga, e), Q({
            path: "createRole/callback",
            params: {callbackResult: !0, roleId: e}
        }), J({event_type: "CREATE_ROLE"})
    }

    function $() {
        var e;
        null === (e = null == Ga ? void 0 : Ga.onTutorialFinish) || void 0 === e || e.call(Ga), Q({
            path: "tutorial/callback",
            params: {callbackResult: !0}
        }), J({event_type: "TUTORIAL_FINISH"})
    }

    function Z(e) {
        if (void 0 === e && (e = ""), Ja.includes(e)) z("订单重复了"); else {
            Ja.push(e), Ja.length > 100 && Ja.shift();
            var t = ja(1) || [];
            -1 === t.findIndex(function (t) {
                return e === t
            }) && (t.push(e), Va(1, t)), Q({
                path: "pay", handler: function (e) {
                    var t = e.result;
                    t && t.length && (J({event_type: "PURCHASE", event_pay_amount: t}), t.forEach(function (e) {
                        var t;
                        null === (t = null == Ga ? void 0 : Ga.onPurchase) || void 0 === t || t.call(Ga, e.money), Q({
                            path: "pay/callback",
                            params: {id: e.id, externalOrderId: e.externalOrderId}
                        })
                    }))
                }, params: {externalOrderId: e}
            })
        }
    }

    function ee(e, t) {
        function n() {
            this.constructor = e
        }

        Hs(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
    }

    function te(e, t, n, r) {
        return new (n || (n = Promise))(function (i, o) {
            function a(e) {
                try {
                    c(r.next(e))
                } catch (e) {
                    o(e)
                }
            }

            function s(e) {
                try {
                    c(r.throw(e))
                } catch (e) {
                    o(e)
                }
            }

            function c(e) {
                e.done ? i(e.value) : new n(function (t) {
                    t(e.value)
                }).then(a, s)
            }

            c((r = r.apply(e, t || [])).next())
        })
    }

    function ne(e, t) {
        function n(n) {
            return function (a) {
                return function (n) {
                    if (r) throw new TypeError("Generator is already executing.");
                    for (; s;) try {
                        if (r = 1, i && (o = 2 & n[0] ? i.return : n[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, n[1])).done) return o;
                        switch (i = 0, o && (n = [2 & n[0], o.value]), n[0]) {
                            case 0:
                            case 1:
                                o = n;
                                break;
                            case 4:
                                return s.label++, {value: n[1], done: !1};
                            case 5:
                                s.label++, i = n[1], n = [0];
                                continue;
                            case 7:
                                n = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (o = s.trys, !((o = o.length > 0 && o[o.length - 1]) || 6 !== n[0] && 2 !== n[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === n[0] && (!o || n[1] > o[0] && n[1] < o[3])) {
                                    s.label = n[1];
                                    break
                                }
                                if (6 === n[0] && s.label < o[1]) {
                                    s.label = o[1], o = n;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(n);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                        }
                        n = t.call(e, s)
                    } catch (e) {
                        n = [6, e], i = 0
                    } finally {
                        r = o = 0
                    }
                    if (5 & n[0]) throw n[1];
                    return {value: n[0] ? n[1] : void 0, done: !0}
                }([n, a])
            }
        }

        var r, i, o, a, s = {
            label: 0, sent: function () {
                if (1 & o[0]) throw o[1];
                return o[1]
            }, trys: [], ops: []
        };
        return a = {
            next: n(0),
            throw: n(1),
            return: n(2)
        }, "function" == typeof Symbol && (a[Symbol.iterator] = function () {
            return this
        }), a
    }

    function re() {
        for (var e = 0, t = 0, n = arguments.length; t < n; t++) e += arguments[t].length;
        var r = Array(e), i = 0;
        for (t = 0; t < n; t++) for (var o = arguments[t], a = 0, s = o.length; a < s; a++, i++) r[i] = o[a];
        return r
    }

    function ie(e) {
        var t = this;
        this.data = e, this._stopped = !1, this.stopPropagation = function () {
            t._stopped = !0
        }, this.isStopped = function () {
            return t._stopped
        }
    }

    function oe() {
        this.timer = null
    }

    function ae(e, t) {
        var n = se().SDKVersion;
        return !(!wx[e] || !fc.geVersion(n, t))
    }

    function se() {
        return oc || ((oc = wx.getSystemInfoSync()).hortorSDKVersion = Ws), oc || {}
    }

    function ce() {
        if (!ac) {
            var e = se();
            ac = JSON.stringify({
                SDKVersion: e.SDKVersion,
                brand: e.brand,
                model: e.model,
                system: e.system,
                version: e.version,
                screenHeight: e.screenHeight,
                screenWidth: e.screenWidth,
                pixelRatio: e.pixelRatio,
                benchmarkLevel: e.benchmarkLevel,
                hortorSDKVersion: e.hortorSDKVersion
            })
        }
        return ac
    }

    function ue() {
        return te(this, void 0, void 0, function () {
            return ne(this, function (e) {
                switch (e.label) {
                    case 0:
                        return ic ? [3, 2] : (ae("offNetworkStatusChange", "2.8.1") && fc.defineProperty(wx, "offNetworkStatusChange", he), fe(), [4, le()]);
                    case 1:
                        ic = e.sent(), e.label = 2;
                    case 2:
                        return [2, ic]
                }
            })
        })
    }

    function le() {
        return new Promise(function (e, t) {
            wx.getNetworkType({success: e, fail: t})
        })
    }

    function de(e) {
        fc.isFun(e) && ae("onNetworkStatusChange", "1.1.0") && wx.onNetworkStatusChange(e)
    }

    function fe() {
        de(function (e) {
            ic = e
        })
    }

    function he(e) {
        return function (t) {
            fc.isFun(e) && e(t), fe()
        }
    }

    function pe() {
        var e = se(), t = e.screenHeight, n = void 0 === t ? 0 : t, r = e.screenWidth;
        return {result: n / (void 0 === r ? 1 : r) > 2}
    }

    function ge(e) {
        return se().platform === e
    }

    function ve() {
        return ge("ios")
    }

    function me() {
        return ge("devtools")
    }

    function ye(e, t) {
        return new Promise(function (n, r) {
            e().then(function (e) {
                n(e)
            }).catch(function (i) {
                t > 1 ? ye(e, t - 1).then(function (e) {
                    return n(e)
                }).catch(function (e) {
                    return r(e)
                }) : r(i)
            })
        })
    }

    function _e(e) {
        try {
            return JSON.stringify(e)
        } catch (e) {
            return ""
        }
    }

    function Ie() {
        var e = new Date, t = e.getFullYear(), n = String(e.getMonth() + 1);
        1 === n.length && (n = "0" + n);
        var r = String(e.getDate());
        1 === r.length && (r = "0" + r);
        var i = String(e.getHours());
        1 === i.length && (i = "0" + i);
        var o = String(e.getMinutes());
        1 === o.length && (o = "0" + o);
        var a = String(e.getSeconds());
        1 === a.length && (a = "0" + a);
        var s = String(e.getMilliseconds());
        return 1 === s.length ? s = "00" + s : 2 === s.length && (s = "0" + s), t + "-" + n + "-" + r + " " + i + ":" + o + ":" + a + "." + s
    }

    function we() {
        return wx.getLaunchOptionsSync()
    }

    function be(e) {
        wx.onShow(e)
    }

    function Te(e) {
        wx.onHide(e)
    }

    function ke(e) {
        setTimeout(function () {
            Je("onShow", e), Je("_launchOptions", sc)
        }, 1e3), sc = Gs(Gs({}, e), {custom: Se(e)})
    }

    function Se(e) {
        var t = (e || {}).query, n = void 0 === t ? {} : t, r = {
            channel: n.channel || n.c || "hortor",
            origChannel: n.origChannel || "",
            shareConfigId: n.shareConfigId || "",
            activityId: n.activityId || "",
            h_shareCode: n.h_shareCode || "",
            pageQuery: n.scene || "",
            boxCode: n.wallCode || n.horwall || ""
        }, i = fc.queryToJson(n.scene);
        return r.channel = i.channel || i.c || r.channel, r.origChannel = i.origChannel || r.origChannel, r.boxCode = i.wallCode || i.horwall || r.boxCode, r
    }

    function Ae(e, t) {
        return "function" == typeof (null == e ? void 0 : e.listener) ? e : (Xe("请正确调用api: ", t + "({ listener: listenFunction })"), "function" == typeof e ? {listener: e} : {
            listener: function () {
            }
        })
    }

    function Ce() {
        return sc || ke(we()), sc || {}
    }

    function Ee() {
        return Hu.sdkConfig() || {}
    }

    function xe(e, t) {
        void 0 === t && (t = {});
        try {
            var n = Vs.platform.information, r = (n && n.getUserInfo() || {}).uniqueId, i = (Ee() || {}).gameId;
            gc.post(Js.logHost + "/wxlog/api/v1/log", {
                msg: e,
                err: JSON.stringify(t),
                combGameId: Hu.option.combGameId,
                subGameId: i,
                uniqueId: r,
                gameTp: "minigame"
            }).catch(console.log)
        } catch (e) {
            console.warn("postMonitor err", e)
        }
    }

    function Oe(e) {
        return new Promise(function (t, n) {
            e(t, n)
        })
    }

    function Re(e, t) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
        return e.apply(n, t)
    }

    function Pe() {
        for (var e = Ve(arguments), t = Me(e[0]), n = t ? {} : e[0], r = t ? 0 : 1; r < e[wu]; r += 2) n[e[r]] = e[r + 1];
        return n
    }

    function Me(e) {
        return Le(e, "string")
    }

    function De(e) {
        return Le(e, "boolean")
    }

    function Le(e, t) {
        return (void 0 === e ? "undefined" : Zn(e)) === t
    }

    function Ne(e) {
        try {
            return Vu.stringify(e) || ""
        } catch (e) {
            return ""
        }
    }

    function Ue(e) {
        qe(e) && Re(e, Ve(arguments, 1))
    }

    function qe(e) {
        return "function" == typeof e
    }

    function Fe(e) {
        return e.toUpperCase()
    }

    function je() {
        for (var e = arguments, t = e[0], n = 1; n < e[wu]; ++n) t += Fe(e[n][0]) + e[n].substr(1);
        return t
    }

    function Ve(e, t) {
        return Re(Array.prototype[Tu], [t], e)
    }

    function He() {
        var e = Ve(arguments);
        return e[Tu](0, -1).join(e[e[wu] - 1])
    }

    function Ge() {
        var e = Ve(arguments);
        return e[bu](""), Re(He, e)
    }

    function We() {
        var e = Ve(arguments);
        return e[bu]("_"), Re(He, e)
    }

    function Be(e) {
        e.unshift("[HSDK]:")
    }

    function Ke() {
        var e = Ve(arguments);
        Be(e), Re(console.log, e)
    }

    function ze() {
        var e = Ve(arguments);
        Be(e), Re(console.error, e)
    }

    function Qe(e, t, n, r) {
        window.HFLOWSDK && qe(window.HFLOWSDK.handleMsgFromHSDK) ? window.HFLOWSDK.handleMsgFromHSDK(e, t) : ze("msg to HFLOWSDK err")
    }

    function Je(e) {
        for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
        Hu.sdkConfig().isHideLog || console.log.apply(console, re([Bu(e)], t))
    }

    function Ye(e) {
        for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
        Hu.sdkConfig().isHideLog || console.info.apply(console, re([Bu(e)], t))
    }

    function Xe(e) {
        for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
        Wu <= Gu.Warn && !Hu.sdkConfig().isHideLog && console.warn.apply(console, re([Bu(e)], t))
    }

    function $e(e, t) {
        var n = Ku[e] || [];
        n.push(t), Ku[e] = n
    }

    function Ze(e, t) {
        return te(this, void 0, void 0, function () {
            var n, r, i, o;
            return ne(this, function (a) {
                switch (a.label) {
                    case 0:
                        if (!(n = this.getProcessors(e))) return [2, t];
                        r = {}, i = 0, a.label = 1;
                    case 1:
                        return i < n.length ? [4, n[i](t)] : [3, 4];
                    case 2:
                        o = a.sent(), r = Object.assign(r, o || {}), a.label = 3;
                    case 3:
                        return i++, [3, 1];
                    case 4:
                        return [2, r]
                }
            })
        })
    }

    function et() {
        return new Promise(function (e, t) {
            wx.getSetting({
                withSubscriptions: !0, success: function (t) {
                    Je("wx setting ", JSON.parse(JSON.stringify(t))), e(t)
                }, fail: function (e) {
                    t(e)
                }
            })
        })
    }

    function tt() {
        return new Promise(function (e, t) {
            wx.getUserInfo({
                withCredentials: !0, lang: "zh_CN", success: function (n) {
                    if ((n || {}).encryptedData) return e(n);
                    t(el)
                }, fail: t
            })
        })
    }

    function nt(e, t) {
        return te(this, void 0, void 0, function () {
            var n;
            return ne(this, function (r) {
                switch (r.label) {
                    case 0:
                        return yc.login = Date.now(), xt({eventName: "sdk_startlogin"}), zs.dispatch(Os), [4, ot(e, t, !1)];
                    case 1:
                        return n = r.sent(), bt(3), zs.dispatch(Rs, n), function () {
                            if (!vd) {
                                vd = !0;
                                var e = (Ee() || {}).gameId, t = (Nl.getTempUser() || {}).uniqueId;
                                gc.get(Js.combHost + "/comb-pay-server/api/v1/order/pay/mini/mdspay/status?subGameId=" + e).then(function (n) {
                                    n && n.data && !n.data.closeLoginAction && gc.post("" + Js.combHost + Zs, {
                                        gameId: e,
                                        gameTp: "minigame",
                                        uniqueId: t
                                    }).then(function (e) {
                                    }).catch(function (e) {
                                    })
                                }).catch(function (e) {
                                    console.log("mdspay/status err", e)
                                })
                            }
                        }(), xt({eventType: "user_add", data: {sdk_total_login: 1}}), xt({
                            eventType: "user_set",
                            data: {sdk_last_time: Ie()}
                        }), yc.loginSuccess = Date.now(), yc.platformLoginCost = yc.loginSuccess - yc.platformLogin, yc.loginCost = yc.loginSuccess - yc.login, gd || (gd = !0, xt({
                            eventName: "sdk_timing",
                            data: yc
                        })), Qe(Su, Pe(Ou, Nl.uniqueId, Fu, Nl.envUniqueId, xu, Nl.openId, ju, Nl.getFlowIsNewUser())), [2, n.combUser]
                }
            })
        })
    }

    function rt(e) {
        var t = Ee().getUserInfoBtn, n = function (e) {
            return Xl ? wx.createUserInfoButton(Object.assign({}, {lang: "zh_CN"}, e)) : null
        }(e || t);
        return n && n.onTap(function (e) {
            var t = e || {}, n = t.userInfo, r = t.encryptedData, i = n || {}, o = i.nickName, a = i.gender;
            o && zs.dispatch(vl, {nickName: o, gender: a}), r || (zs.dispatch(ml), bt(10, {errMsg: e.errMsg}))
        }), n
    }

    function it() {
        return te(this, void 0, void 0, function () {
            return ne(this, function (e) {
                switch (e.label) {
                    case 0:
                        return e.trys.push([0, 5, , 6]), Xl ? [4, new Promise(function (e, t) {
                            et().then(function (t) {
                                e(t.authSetting[Yl])
                            }).catch(function (e) {
                                t(e)
                            })
                        })] : [3, 2];
                    case 1:
                    case 3:
                        return [2, e.sent()];
                    case 2:
                        return [4, new Promise(function (e, t) {
                            wx.authorize({
                                scope: Yl, success: function () {
                                    e(!0)
                                }, fail: t
                            })
                        })];
                    case 4:
                        return [3, 6];
                    case 5:
                        return Ke("checkAuth fail", e.sent()), [2, !1];
                    case 6:
                        return [2]
                }
            })
        })
    }

    function ot(e, t, n) {
        return te(this, void 0, void 0, function () {
            var r, i, o, a, s, c, u, l, d, f, h, p;
            return ne(this, function (g) {
                switch (g.label) {
                    case 0:
                        if (g.trys.push([0, 8, , 9]), 0 == Hu._hasInitSuccess) throw dl;
                        return [4, st(t, n)];
                    case 1:
                        return r = g.sent(), i = Ee(), o = i.gameId, a = i.cryptRule, r && (s = r.userSdk) && s.gameId === o ? (Ke("storageInfo", r), [4, at(r, t, n)]) : [3, 3];
                    case 2:
                        if (g.sent()) return xt({
                            eventName: "sdk_loginsuccess",
                            data: {login_type: "mini_trylogin"}
                        }), [2, r];
                        xt({eventName: "sdk_check_login", data: {status: "fail"}}), g.label = 3;
                    case 3:
                        return zs.dispatch(pl, {
                            stage: "开始请求微信登录",
                            storageInfo: r,
                            req: {btnConfig: e, isWeak: t, forceAuth: n}
                        }), [4, lt()];
                    case 4:
                        return c = g.sent(), zs.dispatch(pl, {
                            stage: "微信登录返回结果",
                            code: c,
                            req: {btnConfig: e, isWeak: t, forceAuth: n}
                        }), u = (new Date).getTime(), zs.dispatch(pl, {
                            stage: "开始请求平台登录",
                            startTime: u,
                            req: {btnConfig: e, isWeak: t, forceAuth: n}
                        }), [4, dt(c, t, n, a)];
                    case 5:
                        return l = g.sent(), d = (new Date).getTime(), f = d - u, h = (l || {}).userSdk, zs.dispatch(pl, {
                            stage: "平台登录返回结果",
                            platUserInfo: l,
                            costTime: f,
                            req: {btnConfig: e, isWeak: t, forceAuth: n}
                        }), h && h.isAuth ? (xt({
                            eventName: "sdk_loginsuccess",
                            data: {login_type: "mini_login", isPost: !1}
                        }), [2, l]) : [4, ft(e)];
                    case 6:
                        return [4, ht(g.sent(), a)];
                    case 7:
                        return [2, g.sent()];
                    case 8:
                        throw p = g.sent(), zs.dispatch(pl, {
                            stage: "登录失败",
                            error: p,
                            req: {btnConfig: e, isWeak: t, forceAuth: n}
                        }), xt({
                            eventName: "sdk_loginfail",
                            data: {
                                login_type: "mini_login",
                                login_callback: _e({error: p, req: {btnConfig: e, isWeak: t, forceAuth: n}})
                            }
                        }), xe(bs.LoginFail, {
                            error: p,
                            req: {btnConfig: e, isWeak: t, forceAuth: n}
                        }), fc.pkgError(p, ks);
                    case 9:
                        return [2]
                }
            })
        })
    }

    function at(e, t, n) {
        return Oe(function (r, i) {
            var o = Ee(), a = o.gameId, s = o.gameVersion, c = o.cryptRule, u = Math.floor((new Date).getTime() / 1e3),
                l = e.combSdkInfo, d = e.combUser, f = e.envCombSdkInfo, h = Ce(), p = h.custom;
            h.query;
            var g = h.scene, v = h.referrerInfo, m = "", y = "";
            v && v.extraData && (m = v.extraData.origGameId || "", y = v.extraData.origUniqueId || "");
            var _ = p || {}, I = _.channel, w = _.origChannel, b = _.pageQuery, T = _.shareConfigId, k = _.activityId,
                S = _.h_shareCode, A = _.boxCode, C = "";
            try {
                C = JSON.stringify(h)
            } catch (e) {
                Xe("launchOptions error", e)
            }
            var E = Js.combHost + "/comb-login-server/api/v1/login/check?gameId=" + a + "&gameTp=minigame&system=" + (ve() ? "ios" : "android") + "&version=" + s + "&deviceUniqueId=" + Hu.deviceId + "&loginTag=code&cryptVersion=1.1.0",
                x = {
                    gameId: a,
                    gameTp: Ys,
                    timestamp: u,
                    loginInfo: {
                        combSdkInfo: l,
                        combUser: d,
                        envCombSdkInfo: f,
                        requestBodyInfo: {
                            gameTp: Ys,
                            origGameId: m,
                            origUniqueId: y,
                            version: Ws,
                            gameId: a,
                            channel: I,
                            origChannel: w,
                            query: b,
                            queryRaw: pd,
                            shareConfigId: T,
                            activityId: k,
                            h_shareCode: S,
                            boxCode: A,
                            isWeak: t,
                            forceAuth: n,
                            sysInfo: ce(),
                            scene: g,
                            rawData: C
                        }
                    }
                }, O = c.codeBook;
            c.codeBookLen;
            var R = c.swapTimes, P = c.keySkip, M = c.keyOffset, D = ed.encode(hd(JSON.stringify(x)), O, R, P, M),
                L = hd(D);
            gc.postText(E, L).then(function (e) {
                var t;
                r(0 == (null === (t = null == e ? void 0 : e.meta) || void 0 === t ? void 0 : t.errCode) ? !0 : !1)
            }).catch(function (e) {
                r(!1)
            })
        })
    }

    function st(e, t) {
        return te(this, void 0, void 0, function () {
            var n, r;
            return ne(this, function (i) {
                switch (i.label) {
                    case 0:
                        return t ? [2, null] : (n = Nl.getUserInfo(e)) ? (yc.checkSession = Date.now(), [4, ut()]) : [2, null];
                    case 1:
                        return r = i.sent(), yc.checkSessionComplete = Date.now(), yc.checkSessionCost = yc.checkSessionComplete - yc.checkSession, [2, r ? n : null]
                }
            })
        })
    }

    function ct() {
        return null === _d && (_d = setTimeout(function () {
            md = null, window.clearTimeout(_d), _d = null
        }, 3e3)), null === md ? new Promise(function (e, t) {
            ($l ? Promise.resolve($l) : new Promise(function (e, t) {
                wx.checkSession({
                    success: function () {
                        $l = !0, e(!0)
                    }, fail: function () {
                        t(!1)
                    }
                })
            })).then(function () {
                md = !0, e(!0)
            }).catch(function (e) {
                yd = e, md = !1, t(e)
            })
        }) : !1 === md ? Promise.reject(yd) : Promise.resolve(!0)
    }

    function ut() {
        return te(this, void 0, void 0, function () {
            var e;
            return ne(this, function (t) {
                switch (t.label) {
                    case 0:
                        return t.trys.push([0, 2, , 3]), [4, ct()];
                    case 1:
                        return t.sent(), zs.dispatch(fl, {}), [2, !0];
                    case 2:
                        return Xe("session fail", e = t.sent()), zs.dispatch(fl, {err: e}), [2, !1];
                    case 3:
                        return [2]
                }
            })
        })
    }

    function lt() {
        return te(this, void 0, void 0, function () {
            var e, t;
            return ne(this, function (n) {
                switch (n.label) {
                    case 0:
                        return n.trys.push([0, 2, , 3]), yc.getCode = Date.now(), [4, new Promise(function (e, t) {
                            wx.login({
                                success: function (n) {
                                    var r = (n || {}).code;
                                    r ? e(r) : t(Qu)
                                }, fail: function (e) {
                                    t(e)
                                }
                            })
                        })];
                    case 1:
                        return e = n.sent(), yc.getCodeSuccess = Date.now(), yc.getCodeCost = yc.getCodeSuccess - yc.getCode, zs.dispatch(hl, {code: e}), [2, e];
                    case 2:
                        throw t = n.sent(), zs.dispatch(hl, {err: t}), xe(bs.WxLoginFail, t), fc.pkgError(t, Qu);
                    case 3:
                        return [2]
                }
            })
        })
    }

    function dt(e, t, n, r) {
        return te(this, void 0, void 0, function () {
            var i, o, a, s, c, u, l, d, f, h, p, g, v, m, y, _, I, w, b, T, k, S, A, C, E, x, O, R, P, M, D, L, N;
            return ne(this, function (U) {
                switch (U.label) {
                    case 0:
                        i = r.codeBook, r.codeBookLen, o = r.swapTimes, a = r.keySkip, s = r.keyOffset, c = Ee(), u = c.gameId, l = c.gameVersion, d = Ce(), f = d.custom, d.query, h = d.scene, p = d.referrerInfo, g = "", v = "", p && p.extraData && (g = p.extraData.origGameId || "", v = p.extraData.origUniqueId || ""), y = (m = f || {}).channel, _ = m.origChannel, I = m.pageQuery, w = m.shareConfigId, b = m.activityId, T = m.h_shareCode, k = m.boxCode, S = "";
                        try {
                            S = JSON.stringify(d)
                        } catch (e) {
                            Xe("launchOptions error", e)
                        }
                        A = {
                            gameTp: "minigame",
                            origGameId: g,
                            origUniqueId: v,
                            version: Ws,
                            gameId: u,
                            channel: y,
                            origChannel: _,
                            query: I,
                            queryRaw: pd,
                            shareConfigId: w,
                            activityId: b,
                            h_shareCode: T,
                            boxCode: k,
                            isWeak: t,
                            forceAuth: n,
                            code: e,
                            sysInfo: ce(),
                            scene: h,
                            rawData: S
                        }, U.label = 1;
                    case 1:
                        return U.trys.push([1, 3, , 4]), C = "" + Js.combHost + Xs + "?gameId=" + u + "&gameTp=minigame&system=" + (ve() ? "ios" : "android") + "&version=" + l + "&deviceUniqueId=" + Hu.deviceId + "&loginTag=code&cryptVersion=1.1.0", Ke("login code params", A), E = ed.encode(hd(JSON.stringify(A)), i, o, a, s), x = hd(E), yc.platformLogin = Date.now(), [4, gc.postText(C, x)];
                    case 2:
                        return O = U.sent().data, R = JSON.parse(JSON.stringify(O)), P = O.combUser, M = P.encryptCombUser, D = P.timestamp, L = P.sign, O.encryptUserInfo = {
                            userInfo: M,
                            timestamp: D,
                            sign: L
                        }, O.userSdk = O.combSdkInfo, O.envCombSdkInfo ? O.userSdk.userId = O.envCombSdkInfo.userId : O.userSdk.userId = O.combSdkInfo.userId, O.envCombSdkInfo && (O.userSdk.isAuth = O.envCombSdkInfo.isAuth), Ke("entry login", O), !1 === O.userSdk.isAuth || n ? (O.encryptUserInfo = null, O.combUser = null) : Ql.setStorage("hsdkRawLoginRes", R), vt(O), Nl.setTempUser(O), [2, O];
                    case 3:
                        throw Xe("entry err", N = U.sent()), Nl.clearUserInfo(), xe(bs.PlatformLoginFail, N), fc.pkgError(N, Ss);
                    case 4:
                        return [2]
                }
            })
        })
    }

    function ft(e) {
        return te(this, void 0, void 0, function () {
            var t;
            return ne(this, function (n) {
                switch (n.label) {
                    case 0:
                        return t = null, Xl ? [4, pt(e)] : [3, 2];
                    case 1:
                        return t = n.sent(), [3, 4];
                    case 2:
                        return [4, It()];
                    case 3:
                        t = n.sent(), n.label = 4;
                    case 4:
                        return Ke("fetch userinfo", t), [2, t]
                }
            })
        })
    }

    function ht(e, t) {
        return te(this, void 0, void 0, function () {
            var n, r, i, o, a, s, c, u, l, d, f, h, p, g, v, m, y, _, I, w, b, T, k;
            return ne(this, function (S) {
                switch (S.label) {
                    case 0:
                        n = t.codeBook, t.codeBookLen, r = t.swapTimes, i = t.keySkip, o = t.keyOffset, a = Ee(), s = a.gameId, c = a.gameVersion, l = (u = e || {}).encryptedData, d = u.iv, f = Nl.getTempUser() || {}, h = f.userId, p = f.uniqueId, Ke("update params", g = {
                            entryAlias: "minisdk",
                            gameId: s,
                            userId: h,
                            uniqueId: p,
                            encryptedData: l,
                            iv: d
                        }), S.label = 1;
                    case 1:
                        return S.trys.push([1, 3, , 4]), v = "" + Js.combHost + Xs + "?gameId=" + s + "&gameTp=minigame&system=" + (ve() ? "ios" : "android") + "&version=" + c + "&deviceUniqueId=" + Hu.deviceId + "&loginTag=update&cryptVersion=1.1.0", m = ed.encode(hd(JSON.stringify(g)), n, r, i, o), y = hd(m), [4, gc.postText(v, y)];
                    case 2:
                        if (_ = S.sent().data, Ql.setStorage("hsdkRawLoginRes", _), !_ || !_.combUser) throw Ss;
                        return I = _.combUser, w = I.encryptCombUser, b = I.timestamp, T = I.sign, _.encryptUserInfo = {
                            userInfo: w,
                            timestamp: b,
                            sign: T
                        }, _.userSdk = _.combSdkInfo, vt(_), xt({
                            eventName: "sdk_loginsuccess",
                            data: {login_type: "mini_login", isPost: !0}
                        }), [2, _];
                    case 3:
                        throw k = S.sent(), xe(bs.PlatformUpdateFail, k), Xe("_postUserInfo err", k), fc.pkgError(k, Ss);
                    case 4:
                        return [2]
                }
            })
        })
    }

    function pt(e) {
        return te(this, void 0, void 0, function () {
            var t, n, r, i, o, a;
            return ne(this, function (s) {
                switch (s.label) {
                    case 0:
                        return [4, it()];
                    case 1:
                        return s.sent() ? [4, gt()] : [3, 3];
                    case 2:
                        return n = s.sent(), [3, 4];
                    case 3:
                        n = null, s.label = 4;
                    case 4:
                        if (t = n) return [2, t];
                        if (zs.dispatch(gl), r = Ee().getUserInfoBtn, o = (i = e || {}).useGameBtn, a = i.config, o || !a && !r) throw Zu;
                        return [4, mt(e)];
                    case 5:
                        return [2, s.sent()]
                }
            })
        })
    }

    function gt() {
        return te(this, void 0, void 0, function () {
            return ne(this, function (e) {
                switch (e.label) {
                    case 0:
                        return e.trys.push([0, 2, , 3]), [4, tt()];
                    case 1:
                        return [2, e.sent()];
                    case 2:
                        return e.sent(), [2, null];
                    case 3:
                        return [2]
                }
            })
        })
    }

    function vt(e) {
        var t = e || {}, n = t.encryptUserInfo, r = t.userSdk, i = t.combSdkInfo.uniqueId, o = Ee().gameId;
        n && (function () {
            if (!Nl.getUserInfo(!0)) {
                var e = Ce() || {}, t = e.custom || {}, n = t.shareConfigId, r = t.activityId;
                bt(1, {content: fc.copy(e, ["custom"]), shareConfigId: n, activityId: r})
            }
        }(), r && (r.masterUniqueId = i, r.gameId = o), Nl.setUserInfo(e))
    }

    function mt(e) {
        var t = e || {}, n = t.config, r = t.onTap, i = t.onShow, o = t.stayOnDeny;
        return new Promise(function (e, t) {
            var a = yt(n);
            if (!a) throw il;
            a.onTap(function (n) {
                var i = (n || {}).encryptedData;
                i ? e(n) : o || t($u), r && r(n), !i && o || _t()
            }), a.show(), i && i()
        })
    }

    function yt(e) {
        return _t(), sd = rt(e)
    }

    function _t() {
        sd && (sd.hide(), sd.destroy(), sd = null)
    }

    function It() {
        return te(this, void 0, void 0, function () {
            var e;
            return ne(this, function (t) {
                switch (t.label) {
                    case 0:
                        return [4, it()];
                    case 1:
                        return (e = t.sent()) ? [3, 3] : [4, wt()];
                    case 2:
                        e = t.sent(), t.label = 3;
                    case 3:
                        if (!e) throw $u;
                        return [4, tt()];
                    case 4:
                        return [2, t.sent()]
                }
            })
        })
    }

    function wt() {
        return te(this, void 0, void 0, function () {
            return ne(this, function (e) {
                switch (e.label) {
                    case 0:
                        return e.trys.push([0, 4, , 5]), [4, new Promise(function (e, t) {
                            wx.openSetting({
                                success: function (t) {
                                    e(t.authSetting[Yl])
                                }, fail: t
                            })
                        })];
                    case 1:
                        return e.sent() ? [2, !0] : [4, Zl({
                            title: "提示",
                            content: "需要开启访问用户信息权限",
                            showCancel: !0,
                            cancelText: "知道了",
                            confirmText: "去设置"
                        })];
                    case 2:
                        return e.sent().confirm ? [4, wt()] : [2, !1];
                    case 3:
                        return [2, e.sent()];
                    case 4:
                        return Ke("low auth fail", e.sent()), [2, !1];
                    case 5:
                        return [2]
                }
            })
        })
    }

    function bt(e, t) {
        var n = Nl.getTempUser() || {}, r = n.userId, i = n.uniqueId, o = Ce(), a = "";
        try {
            a = JSON.stringify(o)
        } catch (e) {
            Xe("_postLog err", e)
        }
        var s = Ql.getStorage("__sdk_postLog_rawData_logType_" + e + "__");
        s && s === a ? a = "" : Ql.setStorage("__sdk_postLog_rawData_logType_" + e + "__", a);
        var c = o.custom, u = o.scene, l = c || {}, d = o.coldStart ? 0 : 1, f = {
            logType: e,
            channel: l.channel,
            origChannel: l.origChannel,
            shareConfigId: l.shareConfigId,
            scene: u,
            userId: r,
            uniqueId: i,
            time: (new Date).getTime()
        };
        3 !== e && 45 !== e || (f.open_type = d), a && (f.rawData = a);
        var h = t ? Object.assign(f, t) : f;
        zs.dispatch(Ds, {log: h})
    }

    function Tt(e) {
        !function (e) {
            zs.on(Rs, function (t) {
                e && e(null == t ? void 0 : t.data)
            })
        }((e = Ae(e, "registerOnLogin")).listener)
    }

    function kt(e, t, n) {
        return this.guid = fc.generateGuid(), this.opt = e, this.topic = e.topic, this.fromPlatform = !!n, this._init(t), this
    }

    function St() {
        zs.on(Ls, function (e) {
            !function (e, t) {
                var n = Kl[e];
                n && Ct(Object.assign({}, n, t || {}), t)
            }(zl.SET_USER_INFO, e.data)
        });
        var e = Ee(), t = e.autoUploadSDTLog, n = e.stdAutoUpload, r = e.tgaAutoUpload, i = e.stdHeartBeatInterval;
        if (!1 !== r || n || t) {
            if (At(Kl.INIT, {eventType: "track", eventName: "sdk_init"}, !0), zs.on(Cs, function () {
                At(Kl.OPEN, null, !0)
            }), zs.on(Es, function () {
                At(Kl.CLOSE, null, !0)
            }), zs.on(_l, function (e) {
                At(Kl.SHARE, e.data, !0)
            }), zs.on(Il, function (e) {
                At(Kl.SHARE_END, e.data, !0)
            }), zs.on(wl, function (e) {
                At(Kl.SHARE, e.data, !0)
            }), zs.on(bl, function (e) {
                At(Kl.SHARE_END, e.data, !0)
            }), zs.on(kl, function (e) {
                At(Kl.VIDEO_AD_SHOW, e.data, !0)
            }), zs.on(Sl, function (e) {
                At(Kl.VIDEO_AD_END, e.data, !0)
            }), zs.on(Cl, function (e) {
                At(Kl.VIDEO_AD_END, e.data, !0)
            }), zs.on(vl, function (e) {
                At(Kl.AUTH, e.data, !0)
            }), zs.once(Rs, function (e) {
                At(Kl.LOGIN, e.data, !0), new Promise(function (e, t) {
                    ae("getUserGameLabel", "2.9.3") ? wx.getUserGameLabel({success: e, fail: t}) : t(il)
                }).then(function (e) {
                    At(Kl.PROFILE, e, !0)
                }).catch(function (e) {
                })
            }), i) {
                var o = i - 0 || 60, a = {interval: o};
                isNaN(o) || fc.resetInterval(function () {
                    At(Kl.BEAT, a, !0)
                }, 1e3 * o)
            }
            zs.on(Tl, function (e) {
                At(Kl.SHARE_FRIEND, {extend: e.data}, !0)
            })
        }
    }

    function At(e, t, n) {
        var r = Vl, i = Hl, o = Ee(), a = o.autoUploadSDTLog, s = o.stdAutoUpload, c = o.tgaAutoUpload, u = e.logType;
        s || a || (u = (u | i) === u ? u ^ i : u), !1 === c && (u = (u | r) === u ? u ^ r : u), u && (e.logType = u, Ct(e, t, n))
    }

    function Ct(e, t, n) {
        var r = new kt(e, t, n), i = r.getConfig(), o = i.stopWhenShare, a = i.callAfterLogin;
        Ed.getState(xl) && o || (a ? function (e) {
            if (fc.isFun(e)) {
                var t = Nl.getSDKUserInfo() || {}, n = t.uniqueId;
                t.userId && n ? e() : (xd.push(e), zs.once(Rs, function (e) {
                    xd.forEach(function (t) {
                        return t(e)
                    }), xd = []
                }))
            }
        }(function () {
            Td.collect(r.refreshData().toLogData())
        }) : Td.collect(r.toLogData()))
    }

    function Et(e) {
        return void 0 === (null == e ? void 0 : e.logType) && (e.logType = 2), void 0 === (null == e ? void 0 : e.eventType) && (e.eventType = "track"), e && e.customData && (e.extend = e.customData), e.extend ? e.extend.sdk_trackplatform = "game_c" : e.extend = {sdk_trackplatform: "game_c"}, Ct(e, e, !1)
    }

    function xt(e) {
        var t = e.eventName, n = void 0 === t ? "" : t, r = e.data, i = void 0 === r ? {} : r, o = e.eventType,
            a = void 0 === o ? "track" : o;
        i.sdk_trackplatform = "sdk_c";
        var s = {eventName: n, extend: i, logType: 2, eventType: a};
        return Ct(s, s, !1)
    }

    function Ot(e) {
        return "https://" + e + ".hortorgames.com"
    }

    function Rt(e) {
        var t = e || {}, n = t.adUnitId;
        return uf = t.customScene, this.options = e || {}, this.adUnitId = n, this.adInstance = null, this.destroyed = !1, this.create(e), this
    }

    function Pt() {
        var e = Ee(), t = e.videoCoolTime, n = e.videoTimeout;
        this.adInstance = void 0, this.loaded = !1, this.loading = !0, this.loadReported = !1, this.coolLoad = !1, this.coolTimer = null, this.loadCoolTime = t || 18e4, this.callTimeout = n || 5e3, this.destroyed = !1, this.fstLoaded = !1, this.cacheQueue = [], this.isOnlyUseWX = !0, this.cacheHortorAdInfo = null, this.isNeedConsumeQueue = !0, this.preAd = 0, this.videoPlayFreezeTime = 0, this.videoPlayFreezeEnable = 0, this.activeFreezeTime = 0, this.freezeTimer = 0, zs.on(El, this._initVideoFreezeTime.bind(this))
    }

    function Mt(e) {
        for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
        "function" == typeof e && e.apply(void 0, t)
    }

    function Dt() {
        var e = Ee().gameId,
            t = Js.combHost + "/comb-ad-server/api/v1/combAd?gameId=" + e + "&gameTp=minigame&adTp=miniGameWxAdId";
        return new Promise(function (e, n) {
            gc.get(t).then(function (t) {
                var r;
                0 === (null === (r = null == t ? void 0 : t.meta) || void 0 === r ? void 0 : r.errCode) ? (vf = t.data || {}, e(vf)) : n(null == t ? void 0 : t.meta)
            }).catch(function (e) {
                Je("err", e), n(e)
            })
        })
    }

    function Lt() {
        return vf ? Promise.resolve(vf) : Dt()
    }

    function Nt(e, t, n) {
        var r = e[t];
        Object.defineProperty(e, t, {value: n(r)})
    }

    function Ut(e) {
        Hf.length <= 10 && Hf.push(e)
    }

    function qt(e) {
        Gf.length <= 10 && Gf.push(e)
    }

    function Ft(e) {
        Yf.notify(e)
    }

    function jt(e) {
        var t = e.state, n = e.type, r = void 0 === n ? "" : n, i = e.errMsg, o = void 0 === i ? "" : i, a = e.id;
        xt({
            eventName: "sdk_ad",
            data: {ad_state: t, ad_placeid: (void 0 === a ? "" : a) || "", sdk_ad_type: r, ad_callback: o}
        })
    }

    function Vt(e) {
        if (jt({state: "call", errMsg: _e({id: null == e ? void 0 : e.id})}), null == e ? void 0 : e.id) {
            var t = e.id, n = Xf[t];
            n ? Lt().then(function (t) {
                var r = t[null == e ? void 0 : e.id];
                if (void 0 === r) Mt(null == e ? void 0 : e.onShowFail, {errMsg: $f}); else if ("loaded" === n.status) {
                    var i = null == r ? void 0 : r.miniGameWxAdId;
                    "reward_video" === (null == r ? void 0 : r.adShowTp) ? function (e) {
                        (null == e ? void 0 : e.id) && (e.adUnitId = e.id), "boolean" == typeof (null == e ? void 0 : e.isMulti) && (e.multiton = e.isMulti), yf.show(Gs(Gs({}, e), {
                            onClose: function (t) {
                                jt({
                                    state: "close",
                                    type: "RewardedVideo",
                                    errMsg: _e(t),
                                    id: e.id
                                }), Mt(null == e ? void 0 : e.onClose, t), (null == t ? void 0 : t.isEnded) ? (Mt(null == e ? void 0 : e.onFinishClose, t), xt({
                                    eventType: "user_add",
                                    data: {sdk_total_ad: 1}
                                })) : Mt(null == e ? void 0 : e.onQuitClose, t)
                            }
                        })).then(function (t) {
                            Mt(null == e ? void 0 : e.onPlaySuccess, t), jt({
                                state: "success",
                                type: "RewardedVideo",
                                id: e.id
                            })
                        }).catch(function (t) {
                            Mt(null == e ? void 0 : e.onPlayFail, t), Ft({
                                msg: "showVideoAd err",
                                data: {option: e, err: t}
                            }), jt({state: "fail", type: "RewardedVideo", errMsg: _e(t), id: e.id})
                        })
                    }(Object.assign({}, e, {id: i})) : "interstitial" === (null == r ? void 0 : r.adShowTp) ? function (e) {
                        (null == e ? void 0 : e.id) && (e.adUnitId = e.id, df.show(Gs(Gs({}, e), {
                            onClose: function (t) {
                                Mt(null == e ? void 0 : e.onClose, t)
                            }
                        })).then(function (t) {
                            Mt(null == e ? void 0 : e.onShowSuccess, t), jt({
                                state: "success",
                                type: "Interstitial",
                                id: e.id
                            })
                        }).catch(function (t) {
                            Mt(null == e ? void 0 : e.onShowFail, t), Ft({
                                msg: "showInterstitialAd err",
                                data: {option: e, err: t}
                            }), jt({state: "fail", type: "Interstitial", errMsg: _e(t), id: e.id})
                        }))
                    }(Object.assign({}, e, {id: i})) : "wxmg_template" === (null == r ? void 0 : r.adShowTp) ? function (e) {
                        (null == e ? void 0 : e.id) && eh[e.id].show().then(function (t) {
                            Mt(e.onShowSuccess, t), jt({state: "success", type: "CustomAd", id: e.id})
                        }).catch(function (t) {
                            Mt(e.onShowFail, t), Ft({
                                msg: "showCustomAd err",
                                data: {option: e, err: t}
                            }), jt({state: "fail", type: "CustomAd", errMsg: _e(t), id: e.id})
                        })
                    }(Object.assign({}, e, {id: i})) : "banner" === (null == r ? void 0 : r.adShowTp) && function (e) {
                        if ((null == e ? void 0 : e.id) && Zf[e.id]) {
                            var t = Zf[e.id];
                            t.show().then(function (t) {
                                Mt(null == e ? void 0 : e.onShowSuccess, t), jt({
                                    state: "success",
                                    type: "Banner",
                                    id: e.id
                                })
                            }).catch(function (t) {
                                Mt(null == e ? void 0 : e.onShowFail, t), Ft({
                                    msg: "showBannerAd err",
                                    data: {option: e, err: t}
                                }), jt({state: "fail", type: "Banner", errMsg: _e(t), id: e.id})
                            }), e.style && (t.style = Object.assign(t.style, e.style))
                        }
                    }(Object.assign({}, e, {id: i}))
                } else "loading" === n.status && (n.isImmediateShow = !0, n.showOption = e)
            }).catch(function (t) {
                Mt(null == e ? void 0 : e.onShowFail, t)
            }) : Mt(null == e ? void 0 : e.onShowFail, {errMsg: "makesure preload before show"})
        } else Mt(null == e ? void 0 : e.onShowFail, {errMsg: "广告id不能为空"})
    }

    function Ht(e) {
        return rh.openCustomer(e)
    }

    function Gt(e, t) {
        return te(this, void 0, void 0, function () {
            return ne(this, function (n) {
                switch (n.label) {
                    case 0:
                        return cc && cc.ENGINE_VERSION ? "2" != cc.ENGINE_VERSION[0] ? [3, 2] : [4, Bt(e, t)] : [3, 4];
                    case 1:
                    case 3:
                        return [2, n.sent()];
                    case 2:
                        return "3" != cc.ENGINE_VERSION[0] ? [3, 4] : [4, Wt(e, t)];
                    case 4:
                        return [2, Xu]
                }
            })
        })
    }

    function Wt(e, t) {
        return te(this, void 0, void 0, function () {
            var n, r, i, o, a, s, c, u;
            return ne(this, function (l) {
                switch (l.label) {
                    case 0:
                        n = t || cc.director.getScene(), r = Qt("modalNode", {
                            isHorizontal: !0,
                            isVertical: !0
                        }), n.addChild(r), Jf = r, i = cc.winSize.width, o = cc.winSize.height, l.label = 1;
                    case 1:
                        return l.trys.push([1, 3, , 4]), a = ch(r), ah(a, new cc.Size(i, o)), r.on(cc.Node.EventType.TOUCH_END, function () {
                            zt(r)
                        }), r.addComponent(cc.Canvas), (s = r.addComponent("cc.Graphics")).rect(-a.width / 2, -a.height / 2, a.width, a.height), s.fillColor = (new cc.Color).fromHEX("#000000cc"), s.fill(), c = Qt("panelNode", {
                            isVertical: !0,
                            isHorizontal: !0
                        }), r.addChild(c), c.addComponent("cc.BlockInputEvents"), u = Qt("lb", {
                            isHorizontal: !0,
                            isVertical: !0
                        }), c.addChild(u), u.addComponent("cc.Label").string = "加载中...", [4, Kt({
                            node: c,
                            url: e,
                            x: 0,
                            y: 0,
                            width: 750,
                            height: 1001,
                            type: 3
                        })];
                    case 2:
                        return l.sent(), [2, {errCode: 0, errMsg: "生成二维码成功"}];
                    case 3:
                        return l.sent(), zt(r), [2, Yu];
                    case 4:
                        return [2]
                }
            })
        })
    }

    function Bt(e, t) {
        return te(this, void 0, void 0, function () {
            var n, r, i, o, a, s, c;
            return ne(this, function (u) {
                switch (u.label) {
                    case 0:
                        n = t || cc.director.getScene(), r = new cc.Node("modalNode"), Jf = r, u.label = 1;
                    case 1:
                        return u.trys.push([1, 3, , 4]), n.addChild(r), r.width = cc.winSize.width, r.height = cc.winSize.height, (i = r.addComponent(cc.Widget)).isAlignHorizontalCenter = !0, i.isAlignVerticalCenter = !0, r.zIndex = cc.macro.MAX_ZINDEX, r.on(cc.Node.EventType.TOUCH_END, function () {
                            cc.tween(a).to(.35, {scale: 0, opacity: 0}, {easing: cc.easing.backIn}).call(function () {
                                zt(r)
                            }).start()
                        }), (o = r.addComponent(cc.Graphics)).rect(-r.width / 2, -r.height / 2, r.width, r.height), o.fillColor = (new cc.Color).fromHEX("#000000cc"), o.fill(), r.addComponent("cc.BlockInputEvents"), a = new cc.Node("panelNode"), r.addChild(a), s = a.addComponent(cc.Widget), a.addComponent(cc.BlockInputEvents), s.verticalCenter = 0, s.horizontalCenter = 0, c = new cc.Node, a.addChild(c), c.addComponent(cc.Label).string = "加载中...", [4, Kt({
                            node: a,
                            url: e,
                            x: 0,
                            y: 0,
                            width: 750,
                            height: 1001,
                            type: 2
                        })];
                    case 2:
                        return u.sent(), cc.tween(a).set({scale: 0, opacity: 0}).to(.4, {
                            scale: 1,
                            opacity: 255
                        }, {easing: cc.easing.backOut}).start(), [2, {errCode: 0, errMsg: "生成二维码成功"}];
                    case 3:
                        return u.sent(), zt(r), [2, Yu];
                    case 4:
                        return [2]
                }
            })
        })
    }

    function Kt(e) {
        var t = e.node, n = e.url, r = e.x, i = e.y, o = e.width, a = e.height, s = e.type;
        return new Promise(function (e, c) {
            var u, l;
            2 == s && (u = new cc.Node, l = u.addComponent(cc.Sprite), u.x = r, u.y = i, cc.loader.load({
                url: n,
                type: "image"
            }, function (n, r) {
                n ? (console.error("加载图片失败: " + n), c()) : (l.spriteFrame = new cc.SpriteFrame(r), u.width = o, u.height = a, t.setContentSize(o, a), e())
            })), 3 == s && (u = Qt("img", {
                isHorizontal: !0,
                isVertical: !0
            }), l = u.addComponent(cc.Sprite), cc.loader.load({url: n, type: "image"}, function (t, n) {
                if (t) console.error("加载图片失败: " + t), c(); else {
                    var r = new cc.SpriteFrame, i = new cc.Texture2D;
                    i.image = n, r.texture = i, l.spriteFrame = r, e()
                }
            })), u.off(cc.Node.EventType.TOUCH_END), t.addChild(u)
        })
    }

    function zt(e) {
        e && "function" == typeof e.destroy && (e.destroyAllChildren(), e.destroy(), e = null)
    }

    function Qt(e, t) {
        void 0 === t && (t = {});
        var n = new cc.Node(e);
        return oh(n), t && sh(n, t), n
    }

    function Jt(e) {
        var t = e.url, n = e.resolve, r = e.reject, i = e.parent || cc.director.getScene();
        (uh = new cc.Node("modalNode")).width = cc.winSize.width, uh.height = cc.winSize.height;
        var o = uh.addComponent(cc.Widget);
        o.isAlignHorizontalCenter = !0, o.isAlignVerticalCenter = !0, uh.zIndex = cc.macro.MAX_ZINDEX;
        var a = uh.addComponent(cc.Graphics);
        a.rect(-uh.width / 2, -uh.height / 2, uh.width, uh.height), a.fillColor = (new cc.Color).fromHEX("#000000cc"), a.fill(), i.insertChild(uh, i.childrenCount), uh.addComponent("cc.BlockInputEvents");
        var s = new cc.Node("pannelNode");
        uh.insertChild(s, uh.childrenCount), s.width = 640, s.height = 880;
        var c = s.addComponent(cc.Widget);
        c.verticalCenter = 0, c.horizontalCenter = 0;
        var u = new cc.Node("pannelGraphicsNode");
        u.width = s.width, u.height = s.height, u.on(cc.Node.EventType.TOUCH_END, function (e) {
            e.stopPropagation()
        }), s.insertChild(u, s.childrenCount);
        var l = u.addComponent(cc.Graphics);
        l.roundRect(0 - s.width / 2, -400, s.width, s.height, 5), l.fillColor = (new cc.Color).fromHEX("#FFFFFF"), l.fill(), uh.on(cc.Node.EventType.TOUCH_END, function () {
            Xt()
        }), Yt({node: s, url: t, x: 0, y: 70, width: 380, height: 380}).then(function (e) {
            e.on(cc.Node.EventType.TOUCH_END, function (e) {
                e.stopPropagation()
            }), n()
        }).catch(function (e) {
            r({errMsg: "展示二维码失败, 请重试"})
        });
        var d = new cc.Node("subTitleTextNode"), f = d.addComponent(cc.Label);
        f.string = "请使用微信扫一扫完成支付", f.fontSize = 32, f.fontFamily = "Impact", s.addChild(d), d.y = -250, d.color = (new cc.Color).fromHEX("#000000cc"), Yt({
            node: function (e) {
                var t = e.node, n = e.x, r = e.y, i = e.width, o = e.height, a = e.callBack, s = new cc.Node;
                return s.x = n, s.y = r, s.width = i, s.height = o, s.anchorX = 0, s.anchorY = 0, s.on(cc.Node.EventType.TOUCH_END, function () {
                    a()
                }), t.addChild(s, t.childrenCount), s
            }({
                node: s, x: s.width / 2 - 75 - 10, y: s.width / 2 + 75, width: 100, height: 100, callBack: function () {
                    Xt()
                }
            }),
            url: "https://wxmini-resource.hortorgames.com/background-image/close-1692082564.png",
            x: 50,
            y: 50,
            width: 28,
            height: 28
        }).then(function (e) {
        }).catch(function (e) {
        })
    }

    function Yt(e) {
        var t = e.node, n = e.url, r = e.x, i = e.y, o = e.width, a = e.height;
        return new Promise(function (e, s) {
            var c = new cc.Node;
            c.x = r, c.y = i;
            var u = c.addComponent(cc.Sprite);
            cc.loader.load({url: n, type: "image"}, function (t, n) {
                t && s(t), e(c), u.spriteFrame = new cc.SpriteFrame(n), c.setContentSize(o, a)
            }), c.off(cc.Node.EventType.TOUCH_END), t.addChild(c, t.childrenCount)
        })
    }

    function Xt() {
        return uh && "function" == typeof uh.destroy && (uh.destroy(), uh = null), Promise.resolve()
    }

    function $t(e) {
        var t = e.state, n = e.type, r = void 0 === n ? "" : n, i = e.errMsg;
        xt({
            eventName: "sdk_c_pay",
            data: {pay_state: t, order_id: hh, pay_amount: ph, pay_type: r, pay_callback: void 0 === i ? "" : i}
        })
    }

    function Zt(e) {
        var t, n, r, i, o, a, s, c;
        return te(this, void 0, void 0, function () {
            var u, l, d, f, h, p;
            return ne(this, function (g) {
                switch (g.label) {
                    case 0:
                        return u = Ee().gameId, l = Js.combHost + "/comb-pay-server/api/v1/order/pay/mini", d = (Nl.getSDKUserInfo() || {}).uniqueId, f = (null === (r = null === (n = null === (t = null == pc ? void 0 : se()) || void 0 === t ? void 0 : t.system) || void 0 === n ? void 0 : n.toLowerCase()) || void 0 === r ? void 0 : r.startsWith("ios")) || (null === (a = null === (o = null === (i = null == pc ? void 0 : se()) || void 0 === i ? void 0 : i.system) || void 0 === o ? void 0 : o.toLowerCase()) || void 0 === a ? void 0 : a.startsWith("mac")), h = f ? "ios" : "android", p = {
                            gameId: u,
                            gameTp: "minigame",
                            uniqueId: d,
                            orderId: null == e ? void 0 : e.orderId,
                            system: h,
                            systemString: (null === (s = null == pc ? void 0 : se()) || void 0 === s ? void 0 : s.system) || "",
                            platformString: (null === (c = null == pc ? void 0 : se()) || void 0 === c ? void 0 : c.platform) || ""
                        }, [4, gc.post(l, p)];
                    case 1:
                        return [2, g.sent()]
                }
            })
        })
    }

    function en(e) {
        $t({state: "orderfail", errMsg: _e(e)})
    }

    function tn(e, t) {
        return new Promise(function (n, r) {
            (null == e ? void 0 : e.previewImg) ? Jt({
                url: Js.combHost + "/comb-pay-server/api/v1/tools/qr_gen?u=" + encodeURIComponent(e.previewImg),
                resolve: n,
                reject: r,
                parent: t.parent
            }) : r()
        })
    }

    function nn(e, t) {
        var n = this;
        return new Promise(function (r, i) {
            return te(n, void 0, void 0, function () {
                var n, o, a;
                return ne(this, function (s) {
                    return (n = null === (a = null == e ? void 0 : e.miniH5QrPayInfo) || void 0 === a ? void 0 : a.previewImg) ? (o = Js.combHost + "/comb-pay-server/api/v1/tools/qr?u=" + encodeURIComponent(n), r(Gt(o, t))) : i(e), [2]
                })
            })
        })
    }

    function rn(e, t) {
        var n = this;
        return new Promise(function (r, i) {
            return te(n, void 0, void 0, function () {
                var n, o, a, s;
                return ne(this, function (c) {
                    return n = Ee().combGameId, (o = null === (s = null == e ? void 0 : e.miniH5IOSQrWxPayInfo) || void 0 === s ? void 0 : s.previewImg) ? (a = Js.combHost + "/comb-pay-server/api/v1/tools/qr/minigame_ios?gameId=" + n + "&platType=" + e.platType + "&u=" + encodeURIComponent(o), r(Gt(a, t))) : i(e), [2]
                })
            })
        })
    }

    function on(e, t, n) {
        zs.dispatch(Ds, {log: {orderId: t, logType: e, errMsg: n}})
    }

    function an(e, t) {
        return te(this, void 0, void 0, function () {
            var n, r, i;
            return ne(this, function (o) {
                switch (o.label) {
                    case 0:
                        if (!e) throw tl;
                        on(13, e, "[SDK] call midashi: " + e), o.label = 1;
                    case 1:
                        return o.trys.push([1, 4, , 5]), Je("payInfo", t), [4, ih(t)];
                    case 2:
                        return o.sent(), $t({
                            state: "paysuccess",
                            type: "mdsPay"
                        }), on(8, e, "[SDK] midashi success: " + e), n = Js.combHost + "/comb-pay-server/api/v1/order/pay/mini/mds/callback", [4, gc.post(n, {orderId: e})];
                    case 3:
                        if ("success" !== (r = o.sent().data)) throw $t({
                            state: "payfail",
                            errMsg: _e(r),
                            type: "mdsPay"
                        }), xe(bs.PayFail, {err: r, orderId: hh}), xe(bs.MdsPlatformCallbackFail, {
                            err: r,
                            orderId: hh
                        }), Yu;
                        return on(9, e, "[SDK] MinigameCallback Success: " + e), [3, 5];
                    case 4:
                        throw $t({
                            state: "payfail",
                            errMsg: _e(i = o.sent()),
                            type: "mdsPay"
                        }), on(7, e, JSON.stringify(i)), zs.dispatch(yl, {
                            payType: 0,
                            err: i
                        }), Je("midasPay fail", i), xe(bs.PayFail, {err: i, orderId: hh}), xe(bs.MdsPayFail, {
                            err: i,
                            orderId: hh
                        }), i;
                    case 5:
                        return [2]
                }
            })
        })
    }

    function sn(e) {
        return te(this, void 0, void 0, function () {
            var t, n, r;
            return ne(this, function (i) {
                switch (i.label) {
                    case 0:
                        if (t = e.orderId, n = e.jumpType, !t || "number" != typeof n) throw tl;
                        i.label = 1;
                    case 1:
                        return i.trys.push([1, 8, , 9]), n !== lh ? [3, 3] : [4, cn(e)];
                    case 2:
                        return [2, i.sent()];
                    case 3:
                        return n !== fh ? [3, 5] : [4, ln(e)];
                    case 4:
                        return [2, i.sent()];
                    case 5:
                        return n !== dh ? [3, 7] : [4, un(e)];
                    case 6:
                        return [2, i.sent()];
                    case 7:
                        return [3, 9];
                    case 8:
                        throw r = i.sent(), zs.dispatch(yl, {payType: n, err: r}), on(7, t, JSON.stringify(r)), r;
                    case 9:
                        return [2]
                }
            })
        })
    }

    function cn(e) {
        return te(this, void 0, void 0, function () {
            var t, n, r, i, o, a, s, c, u, l;
            return ne(this, function (d) {
                switch (d.label) {
                    case 0:
                        n = (t = e || {}).orderId, r = t.appId, i = t.path, o = t.extraData, a = t.envVersion, s = void 0 === a ? "release" : a, c = encodeURIComponent("o=" + n), u = i || "/pages/index/index?scene=" + c, d.label = 1;
                    case 1:
                        return d.trys.push([1, 3, , 7]), [4, th.navigateToMiniProgram({
                            appId: r,
                            path: u,
                            extraData: o,
                            envVersion: s
                        })];
                    case 2:
                        return [2, d.sent()];
                    case 3:
                        if (l = d.sent(), xe(bs.PayFail, {err: l, orderId: hh}), xe(bs.JumpPayFail, {
                            err: l,
                            orderId: hh
                        }), $t({state: "payfail", errMsg: _e(l), type: "shellJump"}), !l || !l.isCancel) return [3, 4];
                        throw Ju;
                    case 4:
                        return Je("jumpAppPay fail", l), [4, un(e)];
                    case 5:
                        return [2, d.sent()];
                    case 6:
                        return [3, 7];
                    case 7:
                        return [2]
                }
            })
        })
    }

    function un(e) {
        return te(this, void 0, void 0, function () {
            var t, n;
            return ne(this, function (r) {
                switch (r.label) {
                    case 0:
                        return t = e.orderId, n = Js.combHost + "/comb-pay-server/api/v1/order/pay/mini/shell/qrcode?orderId=" + t, [4, th.previewImage(n)];
                    case 1:
                        return [2, r.sent()]
                }
            })
        })
    }

    function ln(e) {
        return te(this, void 0, void 0, function () {
            var t, n, r, i;
            return ne(this, function (o) {
                switch (o.label) {
                    case 0:
                        if (t = e.path, n = e.title, r = e.imgUrl, i = {
                            showMessageCard: !0,
                            sendMessageTitle: n,
                            sendMessageImg: r,
                            sendMessagePath: t
                        }, !n || !r || !t) throw tl;
                        return [4, nh.openCustomerServiceConversation(i)];
                    case 1:
                        return [2, o.sent()]
                }
            })
        })
    }

    function dn(e) {
        return te(this, void 0, void 0, function () {
            var t, n, r, i, o, a, s, c, u, l, d, f;
            return ne(this, function (h) {
                return t = e.orderId, n = e.img, r = e.title, i = e.money, o = e.host, a = e.previewImg, s = e.showJumpCustomerTip, c = e.alertContent, u = e.alertTitle, l = e.jumpButton, d = e.cancelButton, f = e.hideOpenCustomerServiceParam, [2, new Promise(function (e, h) {
                    var p = function (e, s, c) {
                        var u = !1;
                        if (null != c && (u = c.isCancel), u) {
                            var l = "tip cancel";
                            hn({state: "sdkfail", errMsg: l}), hn({state: "dialogue1cancel"}), s({errMsg: l})
                        } else {
                            hn({state: "dialogue1confirm"});
                            var d = "index?min_h5_orderInfo=" + JSON.stringify({
                                host: encodeURIComponent(o),
                                money: i,
                                orderId: t,
                                previewImg: a
                            }), h = f ? {} : {
                                sessionFrom: d,
                                showMessageCard: !0,
                                sendMessageTitle: r,
                                sendMessageImg: n,
                                sendMessagePath: d
                            };
                            nh.openCustomerServiceConversation(h).then(function (t) {
                                hn({state: "sdksuccess"}), hn({state: "dialogue2confirm"}), e({msg: "跳转客服会话成功"})
                            }).catch(function (e) {
                                xe(bs.PayFail, {err: e, orderId: hh}), xe(bs.CustomerPayFail, {
                                    err: e,
                                    orderId: hh
                                }), hn({state: "dialogue2cancel"}), hn({
                                    state: "sdkfail",
                                    errMsg: "open " + _e(e)
                                }), s(e)
                            })
                        }
                    }, g = {title: u, content: c, confirmText: l, cancelText: d, showCancel: !!d};
                    gh ? p(e, h, null) : "function" == typeof s ? s(function (t) {
                        return p(e, h, t)
                    }, g) : wx.showModal(Gs(Gs({}, g), {
                        success: function (t) {
                            if (t.confirm) p(e, h, null); else if (t.cancel) {
                                var n = "modal cancel";
                                hn({state: "sdkfail", errMsg: n}), h({errMsg: n})
                            }
                        }, fail: function (e) {
                            hn({state: "sdkfail", errMsg: "modal " + _e(e)}), h(e)
                        }
                    }))
                })]
            })
        })
    }

    function fn(e) {
        return new Promise(function (t, n) {
            wx.showModal({
                title: e.title || "支付提示",
                content: e.content || "1.点击复制付款链接后，打开微信\n2.将链接粘贴并发送给自己或文件传输助手\n3.点击链接完成支付后回到游戏自动发放道具",
                cancelText: e.cancelButton || "关闭",
                confirmText: e.confirmButton || "复制链接",
                success: function (r) {
                    if (!r.confirm) return n(Ju);
                    wx.setClipboardData({
                        data: e.link, success: function () {
                            return t({errCode: 0, errMsg: "支付方式生成成功"})
                        }, fail: function (e) {
                            return n(e.errMsg)
                        }
                    })
                }
            })
        })
    }

    function hn(e) {
        var t = e.state, n = e.errMsg;
        xt({
            eventName: "sdk_h5_pay",
            data: {pay_state: t, orderId: hh, pay_amount: ph, pay_callback: void 0 === n ? "" : n}
        })
    }

    function pn(e) {
        void 0 === e && (e = {}), this.lastIndex = -1, this.allZero = !1, this.allWeight = 0, this.unitWeight = 100, this.opt = e, this._init()
    }

    function gn(e) {
        wx.showShareMenu(e)
    }

    function vn(e) {
        return new Promise(function (t, n) {
            mh ? void 0 === e.isUpdatableMessage || yh ? wx.updateShareMenu(Object.assign({}, e || {}, {
                success: t,
                fail: n
            })) : n(nl) : n(il)
        })
    }

    function mn() {
        return this.forceResult = void 0, this.destroyed = !1, this.inited = !1, this
    }

    function yn(e) {
        Je("share process aggr req");
        var t = (e || {}).resp, n = (t || {}).share;
        return n && _n(n), t || null
    }

    function _n(e) {
        var t;
        if (0 === (null === (t = null == e ? void 0 : e.meta) || void 0 === t ? void 0 : t.errCode) && (null == e ? void 0 : e.data)) {
            var n = [];
            Object.keys(e.data).forEach(function (t) {
                e.data[t].forEach(function (e) {
                    var r = e.shareDescription, i = e.id, o = e.shareImgUrl, a = e.previewId, s = e.previewUrl,
                        c = e.shareSceneType, u = e.shareSuccessDiff, l = e.thumbnailId, d = e.thumbnailUrl,
                        f = e.shareTitle, h = e.msgTp;
                    n.push({
                        type: t,
                        category: "",
                        desc: r,
                        gameID: wh.gameId,
                        id: i,
                        imageUrl: o,
                        position: 0,
                        previewId: a,
                        previewUrl: s,
                        shareScene: c,
                        shareSuccessDiff: u,
                        thumbnailId: l,
                        thumbnailUrl: d,
                        title: f,
                        weight: 0,
                        msgTp: h
                    })
                })
            }), bh = vh.renderShareThemes(n.map(function (e) {
                return 2 === e.shareScene && (e.imageUrl = e.thumbnailUrl, e.imageUrlId = e.thumbnailId, e.imagePreviewUrl = e.previewUrl, e.imagePreviewUrlId = e.previewId), e
            }))
        }
    }

    function In(e, t) {
        e ? zs.dispatch(wl, {wx_share_type: 1}) : zs.dispatch(_l, {wx_share_type: 0})
    }

    function wn(e, t, n, r, i) {
        Ed.setState(xl, !1);
        var o = r ? Math.max(fc.getTime() - r, 0) : 0,
            a = Gs(Gs({shareData: t, shareSuccess: n, spentTime: o}, e), {wx_share_type: i ? 1 : 0});
        return i ? zs.dispatch(bl, a) : zs.dispatch(Il, a), a
    }

    function bn(e) {
        var t = (wh || {}).shareData, n = (e || {}).shareType, r = n ? bh[n] : null, i = r ? r.getData() : t || {};
        return vh.renderShare(e, i)
    }

    function Tn(e, t, n, r) {
        kh = r;
        var i, o = fc.getTime();
        if ("" !== e.shareType) i = bn(e), Th = ""; else {
            var a = bn(e);
            i = Object.assign(a, {shareConfigId: (null == a ? void 0 : a.shareConfigId) || ""})
        }
        Je("_handleShare inData", i);
        var s = wh || {}, c = s.shareSuccessDiff, u = s.onShareCallbackTime, l = i || {}, d = l.shareSuccessDiff,
            f = l.onShareCallbackTime, h = l.activityId,
            p = Object.assign({}, i, {shareSuccessDiff: d || c, onShareCallbackTime: f || u}), g = t || {},
            v = g.success, m = g.fail, y = g.complete, _ = vh.renderPostParams(p), I = new mn, w = {
                complete: function (e) {
                    I.destroy(), y && fc.isFun(y) && y(e), h && _h.clear().catch(function (e) {
                        Je("update fail", e)
                    })
                }, success: function (e) {
                    Je("share success", e);
                    var t = wn(e, p, !0, o);
                    r || (kn(_, 2), kn(_, 12)), fc.isFun(v) && v(t)
                }, fail: function (e) {
                    Je("share fail", e);
                    var t = wn(e, p, !1, o);
                    fc.isFun(m) && m(t)
                }
            }, b = Gs(Gs({}, p), w);
        return I.init(b), kn(_, r ? 2 : 11), In(!1), b
    }

    function kn(e, t) {
        zs.dispatch(Ds, {log: Gs(Gs({}, e), {logType: t, customScene: kh ? "hsdk_menue" : Th})})
    }

    function Sn(e, t) {
        return new Promise(function (t, n) {
            var r = Tn(e, {success: t, fail: n}, 0, !1);
            if ("poster" === r.msgTp) {
                if (wx.showShareImageMenu) {
                    var i = function (e, t) {
                        r.style = "v2", r.needShowEntrance = !0, r.path = e, r.entrancePath = "?" + t, wx.showShareImageMenu(r)
                    };
                    r.imageUrl.includes("://tmp") ? i(r.imageUrl, r.query) : wx.downloadFile({
                        url: r.imageUrl,
                        success: function (e) {
                            i(e.tempFilePath, r.query)
                        },
                        fail: function (e) {
                            r.fail()
                        },
                        complete: function () {
                            r.complete()
                        }
                    })
                }
            } else {
                !function (e) {
                    wx.shareAppMessage(e)
                }(r);
                var o = r.shareSuccessDiff || wh.shareSuccessDiff;
                "number" == typeof o ? setTimeout(function () {
                    r.success({})
                }, o) : r.success({})
            }
        })
    }

    function An(e) {
        !function (e) {
            wx.onShareAppMessage(e)
        }(function (t) {
            var n = e && fc.isFun(e) ? e(t) : null, r = n || {};
            return Tn(n, {success: r.success, fail: r.fail, complete: r.complete}, 0, !0)
        })
    }

    function Cn(e) {
        !function (e) {
            wx.onShareTimeline && wx.onShareTimeline(e)
        }(function (t) {
            var n = e && fc.isFun(e) ? e(t) : null, r = n || {};
            return function (e, t, n, r) {
                kh = !0;
                var i, o = fc.getTime();
                if ("" !== e.shareType) i = bn(e), Th = ""; else {
                    var a = bn(e);
                    i = Object.assign(a, {shareConfigId: (null == a ? void 0 : a.shareConfigId) || ""})
                }
                var s = wh || {}, c = s.shareSuccessDiff, u = s.onShareCallbackTime, l = i || {},
                    d = l.shareSuccessDiff, f = l.onShareCallbackTime, h = l.activityId,
                    p = Object.assign({}, i, {shareSuccessDiff: d || c, onShareCallbackTime: f || u}), g = t || {},
                    v = g.success, m = g.fail, y = g.complete, _ = vh.renderPostParams(p), I = new mn, w = {
                        complete: function (e) {
                            Je("share complete", e), I.destroy(), y && fc.isFun(y) && y(e), h && _h.clear().catch(function (e) {
                                Je("update fail", e)
                            })
                        }, success: function (e) {
                            Je("share success", e);
                            var t = wn(e, p, !0, o, !0);
                            fc.isFun(v) && v(t)
                        }, fail: function (e) {
                            Je("share fail", e);
                            var t = wn(e, p, !1, o, !0);
                            fc.isFun(m) && m(t)
                        }
                    }, b = Gs(Gs({}, p), w);
                return I.init(b), kn(_, 44), In(!0), b
            }(n, {success: r.success, fail: r.fail, complete: r.complete})
        })
    }

    function En() {
        if (me()) return Je("devtool is not support private share");
        if (Ee().usePrivateShare) {
            var e = Ee().gameId, t = Nl.getSDKUserInfo() || {}, n = t.uniqueId, r = t.userId;
            gc.post(Js.combHost + "/comb-login-server/api/v1/user/activityId", {
                gameId: e,
                uniqueId: n,
                openId: r
            }).then(function (e) {
                var t = e.data, n = t.activityId, r = t.activityKey;
                Sh = r, function (e) {
                    te(this, void 0, void 0, function () {
                        return ne(this, function (t) {
                            switch (t.label) {
                                case 0:
                                    return [4, vn({withShareTicket: !0, isPrivateMessage: !0, activityId: e})];
                                case 1:
                                    return [2, t.sent()]
                            }
                        })
                    })
                }(n)
            })
        }
    }

    function xn() {
        return te(this, void 0, void 0, function () {
            return ne(this, function (e) {
                return [2, new Promise(function (e, t) {
                    var n, r = Ce(), i = r.shareTicket, o = r.query;
                    n = {
                        shareTicket: i, success: function (t) {
                            return e(Gs(Gs({}, t), {activityKey: o.activityKey}))
                        }, fail: t
                    }, wx.authPrivateMessage(n)
                })]
            })
        })
    }

    function On(e) {
        var t = e.state, n = e.type, r = void 0 === n ? "chat" : n, i = e.errMsg;
        xt({eventName: "sdk_c_share", data: {share_state: t, share_type: r, share_callback: void 0 === i ? "" : i}})
    }

    function Rn(e) {
        return new Promise(function (t, n) {
            Ah ? wx.requestSubscribeMessage(Object.assign({}, e, {success: t, fail: n})) : n(il)
        })
    }

    function Pn(e) {
        return new Promise(function (t, n) {
            ae("requestSubscribeSystemMessage", "2.32.1") ? wx.getSetting({
                withSubscriptions: !0,
                success: function (e) {
                    var n, r;
                    t("accept" === (null === (r = null === (n = null == e ? void 0 : e.subscriptionsSetting) || void 0 === n ? void 0 : n.itemSettings) || void 0 === r ? void 0 : r.SYS_MSG_TYPE_WHATS_NEW) ? {hasSubscribed: !0} : {hasSubscribed: !1})
                },
                fail: n
            }) : (Ch || n(il), wx.getWhatsNewSubscriptionsSetting(Object.assign({}, e, {
                success: function (e) {
                    2 === (null == e ? void 0 : e.status) ? t({hasSubscribed: !0}) : 1 === (null == e ? void 0 : e.status) ? t({hasSubscribed: !1}) : n(e)
                }, fail: n
            })))
        })
    }

    function Mn(e) {
        return new Promise(function (t, n) {
            ae("requestSubscribeSystemMessage", "2.32.1") ? wx.requestSubscribeSystemMessage({
                msgTypeList: ["SYS_MSG_TYPE_WHATS_NEW"],
                success: function (e) {
                    t("accept" === (null == e ? void 0 : e.SYS_MSG_TYPE_WHATS_NEW) ? {isAgree: !0} : {isAgree: !1})
                },
                fail: function (e) {
                    n(e)
                }
            }) : (Ch || n(il), wx.requestSubscribeWhatsNew(Object.assign({}, e, {
                success: function (e) {
                    t((null == e ? void 0 : e.confirm) ? {isAgree: !0} : {isAgree: !1})
                }, fail: n
            })))
        })
    }

    function Dn(e) {
        return te(this, void 0, void 0, function () {
            var t, n, r, i, o;
            return ne(this, function (a) {
                switch (a.label) {
                    case 0:
                        n = (t = e || {}).playerId, t.tmplIds, a.label = 1;
                    case 1:
                        return a.trys.push([1, 3, , 4]), [4, Rn(e)];
                    case 2:
                        return r = a.sent(), i = function (e, t) {
                            var n = {playerId: t};
                            for (var r in Eh) n[Eh[r]] = [];
                            for (var r in e) {
                                var i = Eh[e[r]];
                                n[i] && n[i].push(r)
                            }
                            return n
                        }(r, n), Ln(i, 0), [2, i];
                    case 3:
                        return Je("订阅消息 err", o = a.sent()), [2, Promise.reject(o)];
                    case 4:
                        return [2]
                }
            })
        })
    }

    function Ln(e, t) {
        if (void 0 === t && (t = 0), !(t > 3)) {
            var n = Ee().gameId, r = e || {}, i = r.acceptIds, o = void 0 === i ? [] : i, a = r.playerId;
            if (o.length) {
                var s = Nl.getSDKUserInfo() || {}, c = s.userId, u = s.uniqueId,
                    l = {gameId: n, playerId: fc.toNStr(a), openId: c, uniqueId: u, templateIds: o},
                    d = Js.subscribeHost + "/subscribe-server/api/v1/msg";
                gc.post(d, l).then(function () {
                    Je("subscribe count add", l)
                }).catch(function () {
                    setTimeout(function () {
                        Ln(e, ++t)
                    }, 5e3)
                })
            }
        }
    }

    function Nn(e) {
        return new Promise(function (t, n) {
            var r = wx.createImage();
            r.src = e, r.onload = function (e) {
                t(r)
            }, r.onerror = n
        })
    }

    function Un() {
        Ql.removeStorage(Vh)
    }

    function qn(e) {
        return function (e) {
            return Bh ? wx.getLogManager(e) : null
        }(e)
    }

    function Fn(e) {
        return function (e) {
            return Wh ? wx.createFeedbackButton(e) : null
        }(e)
    }

    function jn(e, t, n) {
        Gh || (Gh = qn()), Gh && Gh[e]("SDK " + t, n || "")
    }

    function Vn(e) {
        return ae(e.apiName, e.version) ? Promise.resolve() : Promise.reject({errMsg: il})
    }

    function Hn(e) {
        return new Promise(function (t, n) {
            var r = (Nl.getSDKUserInfo() || {}).uniqueId,
                i = Js.gsHost + "/community-server/api/v1/game/account/background/config?gameId=" + Hu.option.combGameId + "&level=" + (e || 1) + "&uniqueId=" + r;
            gc.get(i).then(function (e) {
                var r;
                console.log("getGsSetting", e), 0 === (null === (r = null == e ? void 0 : e.meta) || void 0 === r ? void 0 : r.errCode) && (null == e ? void 0 : e.data) || n(e);
                var i = {status: e.data.status, iconUrl: e.data.iconUrl, iconX: e.data.iconX, iconY: e.data.iconY};
                Qh = e.data.programAppId, t(i)
            }).catch(function (e) {
                n(e)
            })
        })
    }

    function Gn(e, t, n) {
        wx.authorize({
            scope: Jh, success: function () {
                Wn(e, t, n)
            }, fail: function (e) {
                n({errMsg: JSON.stringify(e)})
            }
        })
    }

    function Wn(e, t, n) {
        wx.saveImageToPhotosAlbum({
            filePath: e, success: function (e) {
                t()
            }, fail: function (e) {
                n({errMsg: JSON.stringify(e)})
            }
        })
    }

    function Bn(e) {
        return te(this, void 0, void 0, function () {
            return ne(this, function (t) {
                return [2, new Promise(function (t, n) {
                    wx.getGameClubData({dataTypeList: e, success: t, fail: n})
                })]
            })
        })
    }

    function Kn(e, t, n) {
        var r, i;
        return te(this, void 0, void 0, function () {
            var o, a, s, c;
            return ne(this, function (u) {
                switch (u.label) {
                    case 0:
                        return o = Hu.sdkConfig().gameId, a = (null === (r = Nl.combUserInfo.envCombSdkInfo) || void 0 === r ? void 0 : r.uniqueId) || Nl.combUserInfo.combSdkInfo.uniqueId, s = {
                            gameId: o,
                            uniqueId: a,
                            gameTp: "minigame",
                            wxGameCircle: {encryptedData: e, iv: t, signature: n}
                        }, [4, gc.post(Js.combHost + "/comb-platform-server/api/v1/game_circle/decode_user", s)];
                    case 1:
                        if (c = u.sent(), 0 !== (null === (i = null == c ? void 0 : c.meta) || void 0 === i ? void 0 : i.errCode)) throw new Error(c.meta.errMsg);
                        return [2, c.data.wxData]
                }
            })
        })
    }

    function zn(e) {
        return new Promise(function (t, n) {
            var r = Ee().gameId;
            gc.get(decodeURIComponent(Js.combHost + "/common/api/v1/private_policy?gameId=" + r + "&type=" + e + "&lng=zh")).then(function (e) {
                e && e.data && e.data.content ? t(e.data.content) : n(e)
            }).catch(function (e) {
                n(e)
            })
        })
    }

    function Qn(e) {
        xt({eventName: "privacyAuth", data: {sdk_msg: e}})
    }

    function Jn(e) {
        var t = (Nl.getSDKUserInfo() || {}).uniqueId, n = Ee().gameId, r = Ce().query;
        gc.post(Js.combHost + "/brand_wall-server/api/v1/brand_game/log", {
            gameId: n,
            uniqueId: t,
            gameTp: Yh,
            logTp: e,
            queryRaw: JSON.stringify(r),
            sysInfo: ce()
        }).then(function (e) {
        }).catch(function (e) {
        })
    }

    function Yn(e) {
        return Oe(function (t, n) {
            wx.getSetting({
                success: function (n) {
                    t((null == n ? void 0 : n.authSetting[e]) ? {status: "authed"} : !1 === n.authSetting[e] ? {status: "denied"} : {status: "haveNotTried"})
                }, fail: function (t) {
                    n({errMsg: e + " get setting failed"})
                }
            })
        })
    }

    function Xn(e) {
        return Oe(function (t, n) {
            wx.authorize({
                scope: e, success: function (e) {
                    t(e)
                }, fail: function (t) {
                    n({errMsg: e + " auth deny"})
                }
            })
        })
    }

    function $n(e) {
        $h.muteRemoteAudio(e.userId, !e.isEnablePlay);
        var t = ip.findIndex(function (t) {
            return t.userId === e.userId
        });
        t > -1 && (ip[t].isEnablePlay = e.isEnablePlay), dp[e.userId] = e.isEnablePlay
    }

    Object.defineProperty(exports, "__esModule", {value: !0});
    var Zn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    }, er = function () {
        return (er = Object.assign || function (e) {
            for (var t, n = 1, r = arguments.length; n < r; n++) for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
            return e
        }).apply(this, arguments)
    };
    "function" == typeof SuppressedError && SuppressedError;
    var tr, nr, rr = "LOCAL_ID", ir = "CLICK_ID", or = "QUEUE_LOST_MAP", ar = "REMOTE_CONFIG",
        sr = "REMOTE_COMMON_CONFIG", cr = "OPENID", ur = {init: "init", reporting: "reporting", fail: "fail"}, lr = {
            maxSdkInstance: 4,
            maxQueueLength: 500,
            actionParamMaxLength: 1e4,
            autoTrack: !0,
            reportThreshold: 5,
            reportDelay: 1,
            inspectDelay: 30,
            cgiBatchSize: 50,
            requestConcurrency: 4,
            requestTimeout: 1e4,
            signVersion: "1.0",
            realTimeActionList: ["START_APP", "REGISTER", "PURCHASE"]
        }, dr = "JS_RUN_ERROR", fr = "REQUEST_ERROR", hr = "REQUEST_CONFIG_ERROR", pr = "UNKNOWN", gr = "TRUE",
        vr = "FALSE", mr = "TICKET_INTERVAL_CHANGE", yr = (nr = function (e) {
            return "".concat("@dn-sdk/minigame", "_").concat("production", "_").concat(e)
        }, {
            getSync: function (e) {
                var t;
                try {
                    t = wx.getStorageSync(nr(e))
                } catch (e) {
                    return console.error("storage get error", e), t
                }
                return t
            }, setSync: function (e, t) {
                try {
                    wx.setStorageSync(nr(e), t)
                } catch (e) {
                    return console.error("storage set error", e), !1
                }
                return !0
            }
        }), _r = function () {
            var e;
            return function () {
                if (!e) {
                    var t = function () {
                            if (tr) return tr;
                            try {
                                return tr = wx.getSystemInfoSync()
                            } catch (e) {
                                return {}
                            }
                        }(), n = t.system, r = void 0 === n ? "" : n, i = (null == r ? void 0 : r.split(" ")) || [],
                        o = function (e) {
                            if (!e) return pr;
                            var t = (null == e ? void 0 : e.toUpperCase()) || "";
                            return t.indexOf("ANDROID") > -1 ? "ANDROID" : t.indexOf("IOS") > -1 ? "IOS" : t.indexOf("MAC") > -1 ? "OSX" : t.indexOf("WINDOWS") > -1 ? "WINDOWS" : pr
                        }(i[0]), a = function (e) {
                            return !e || e.length <= 0 ? "" : 2 === e.length ? e[1] : 3 === e.length && "Windows" === e[0] ? "".concat(e[1], " ").concat(e[2]) : e[e.length - 1]
                        }(i);
                    e = {
                        benchmark_level: t.benchmarkLevel,
                        device_brand: t.brand,
                        screen_height: Math.floor(t.screenHeight),
                        screen_width: Math.floor(t.screenWidth),
                        wx_lib_version: t.SDKVersion,
                        wx_version: t.version,
                        wx_platform: t.platform,
                        device_model: t.model,
                        os: o,
                        os_version: a
                    }
                }
                return e
            }
        }(), Ir = function () {
            var e;
            return function () {
                try {
                    if (e) return e;
                    e || (e = yr.getSync(rr) || ""), e || (e = w(), yr.setSync(rr, e))
                } catch (e) {
                }
                return e
            }
        }(), wr = function () {
            var e = "unknown", t = !1;
            return function () {
                if (!t) try {
                    wx.getNetworkType({
                        success: function (t) {
                            e = t.networkType
                        }, fail: function () {
                            e = "unknown"
                        }
                    }), wx.onNetworkStatusChange(function (t) {
                        e = t.networkType
                    }), t = !0
                } catch (e) {
                }
                return e
            }
        }();
    wr();
    var br = function () {
        var e = "";
        return function () {
            return e || (e = yr.getSync(cr) || ""), e
        }
    }(), Tr = function () {
        var e;
        return function () {
            if (e) return e;
            try {
                var t = wx.getAccountInfoSync();
                return Ar(t.miniProgram) ? e = t.miniProgram : {}
            } catch (t) {
                return {}
            }
        }
    }(), kr = function () {
        function e() {
            d(this, e)
        }

        return h(e, null, [{
            key: "revise", value: function (e) {
                e > 0 && !this.isRevised && (this.offsetTime = e - Date.now(), this.isRevised = !0)
            }
        }, {
            key: "getRevisedcurrentTimeMillis", value: function () {
                return this.isRevised ? Date.now() + this.offsetTime : -1
            }
        }]), e
    }();
    kr.offsetTime = 0, kr.isRevised = !1;
    var Sr = Object.prototype.toString, Ar = function (e) {
            return "[object Object]" === Sr.call(e)
        }, Cr = function (e) {
            return "[object Array]" === Sr.call(e)
        }, Er = function (e) {
            return "[object Function]" === Sr.call(e)
        }, xr = (new Date).getTime(),
        Or = /^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,
        Rr = function (e) {
            if ("string" != typeof e) throw new TypeError("Invalid argument expected string");
            if (!Or.test(e)) throw new Error("Invalid argument not valid semver ('".concat(e, "' received)"))
        }, Pr = function (e) {
            return isNaN(Number(e)) ? e : Number(e)
        }, Mr = function (e) {
            var t = e.replace(/^v/, "").replace(/\+.*$/, ""), n = function (e) {
                return -1 === e.indexOf("-") ? e.length : e.indexOf("-")
            }(t), r = t.substring(0, n).split(".");
            return r.push(t.substring(n + 1)), r
        }, Dr = function (e, t) {
            [e, t].forEach(Rr);
            for (var n = Mr(e), r = Mr(t), i = 0; i < Math.max(n.length - 1, r.length - 1); i++) {
                var o = parseInt(n[i] || "0", 10), a = parseInt(r[i] || "0", 10);
                if (o > a) return 1;
                if (a > o) return -1
            }
            var s = n[n.length - 1], c = r[r.length - 1];
            if (s && c) for (var u = s.split(".").map(Pr), l = c.split(".").map(Pr), d = 0; d < Math.max(u.length, l.length); d++) {
                if (void 0 === u[d] || "string" == typeof l[d] && "number" == typeof u[d]) return -1;
                if (void 0 === l[d] || "string" == typeof u[d] && "number" == typeof l[d] || u[d] > l[d]) return 1;
                if (l[d] > u[d]) return -1
            } else if (s || c) return s ? -1 : 1;
            return 0
        }, Lr = function (e) {
            try {
                return e && "string" == typeof e ? -1 === (e = e.replace(/\s/g, "")).indexOf(".") ? e : e.split(".").slice(0, 2).join(".") : ""
            } catch (t) {
                return e
            }
        }, Nr = function () {
            function e() {
                d(this, e)
            }

            return h(e, null, [{
                key: "error", value: function (e) {
                    for (var t, n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++) r[i - 1] = arguments[i];
                    (t = console).error.apply(t, ["".concat("[@dn-sdk/minigame v1.5.4]", ": ").concat(e)].concat(r))
                }
            }, {
                key: "info", value: function (t) {
                    for (var n, r = arguments.length, i = new Array(r > 1 ? r - 1 : 0), o = 1; o < r; o++) i[o - 1] = arguments[o];
                    e.debug && (n = console).info.apply(n, ["".concat("[@dn-sdk/minigame v1.5.4]", ": ").concat(t)].concat(i))
                }
            }, {
                key: "log", value: function (t) {
                    for (var n, r = arguments.length, i = new Array(r > 1 ? r - 1 : 0), o = 1; o < r; o++) i[o - 1] = arguments[o];
                    e.debug && (n = console).log.apply(n, ["".concat("[@dn-sdk/minigame v1.5.4]", ": ").concat(t)].concat(i))
                }
            }, {
                key: "warn", value: function (e) {
                    for (var t, n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++) r[i - 1] = arguments[i];
                    (t = console).warn.apply(t, ["".concat("[@dn-sdk/minigame v1.5.4]", ": ").concat(e)].concat(r))
                }
            }, {
                key: "devLog", value: function (t) {
                    for (var n, r = arguments.length, i = new Array(r > 1 ? r - 1 : 0), o = 1; o < r; o++) i[o - 1] = arguments[o];
                    e.isDev && (n = console).log.apply(n, ["".concat("[@dn-sdk/minigame v1.5.4]", ": ").concat(t)].concat(i))
                }
            }]), e
        }();
    Nr.debug = !1, Nr.isDev = !1;
    var Ur = function () {
        var e;
        return function () {
            if (!e) try {
                var t = wx.getLaunchOptionsSync(), n = t.query.gdt_vid || "";
                n ? yr.setSync(ir, n) : n = yr.getSync(ir) || "";
                var r = JSON.stringify(t);
                r.length > 1e4 && (r = JSON.stringify({cut: 1, scene: t.scene})), e = {
                    source_scene: t.scene,
                    pkg_channel_id: t.query.wxgamepro || "",
                    ad_trace_id: n,
                    launch_options: r,
                    channel: g(t)
                }
            } catch (t) {
                e = {}, Nr.log("获取场景值和渠道号失败", t)
            }
            return e
        }
    }(), qr = function (e, t, n) {
        var r = n.value;
        return n.value = function () {
            if (this.inited) {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                return r.apply(this, t)
            }
            Nr.error("上报失败，请先完成初始化")
        }, n
    }, Fr = Object.defineProperty, jr = Object.getOwnPropertyDescriptor, Vr = function (e, t, n, r) {
        for (var i, o = r > 1 ? void 0 : r ? jr(t, n) : t, a = e.length - 1; a >= 0; a--) (i = e[a]) && (o = (r ? i(t, n, o) : i(o)) || o);
        return r && o && Fr(t, n, o), o
    }, Hr = function () {
        function e(t) {
            var n = t.userActionSetId, r = t.maxLength, i = void 0 === r ? 500 : r;
            d(this, e), this.lostActionMaps = {}, this.stack = [], this.localStorageKey = "", this.localStorageKey = "".concat("QUEUE_ACTIONS", "_").concat(null == n ? void 0 : n.toString()), this.maxLength = i, this.userActionSetId = n, this.setTimeStamp(), this.init()
        }

        return h(e, [{
            key: "getItems", value: function () {
                return this.stack
            }
        }, {
            key: "getStorage", value: function () {
                var e, t = (null == (e = yr) ? void 0 : e.getSync(this.localStorageKey)) || "[]";
                return JSON.parse(t)
            }
        }, {
            key: "reportLostNum", value: function () {
                var e = this, t = Object.assign({}, this.lostActionMaps), n = [];
                for (var r in t) {
                    var i = null == r ? void 0 : r.split("_");
                    n.push({queue_lost_session_id: i[0], queue_lost_timestamp: i[1], queue_lost_num: t[r]})
                }
                n.length && (this.setTimeStamp(), n.forEach(function (t) {
                    var n = Object.assign({}, {user_action_set_id: e.userActionSetId, log_type: "QUEUE_LOST_NUM"}, t),
                        r = null == t ? void 0 : t.queue_lost_session_id,
                        i = null == t ? void 0 : t.queue_lost_timestamp, o = "".concat(r, "_").concat(i);
                    v(n, function () {
                        k(e.lostActionMaps, o) && (delete e.lostActionMaps[o], yr.setSync(or, JSON.stringify(e.lostActionMaps)))
                    })
                }))
            }
        }, {
            key: "getLostMaps", value: function () {
                return this.lostActionMaps
            }
        }, {
            key: "init", value: function () {
                var e = this, t = this.getStorage(), n = null == t ? void 0 : t.map(function (e) {
                    var t, n;
                    return e.inner_status === (null == (t = ur) ? void 0 : t.reporting) ? Object.assign({}, e, {
                        inner_status: null == (n = ur) ? void 0 : n.fail,
                        is_retry: !0,
                        retry_count: e.retry_count + 1
                    }) : e
                });
                this.stack = n, this.lostActionMaps = JSON.parse(yr.getSync(or) || "{}"), setTimeout(function () {
                    e.reportLostNum()
                }, 1e3)
            }
        }, {
            key: "addItem", value: function (e) {
                var t;
                null == (t = null == this ? void 0 : this.stack) || t.push(e)
            }
        }, {
            key: "removeItems", value: function (e) {
                var t, n = null == (t = null == this ? void 0 : this.stack) ? void 0 : t.filter(function (t) {
                    return !(null != e && e.includes(null == t ? void 0 : t.action_id))
                });
                this.stack = n
            }
        }, {
            key: "updateForReportFail", value: function (e) {
                var t;
                this.stack = null == (t = this.stack) ? void 0 : t.map(function (t) {
                    var n;
                    return null != e && e.includes(null == t ? void 0 : t.action_id) ? Object.assign({}, t, {
                        inner_status: null == (n = ur) ? void 0 : n.fail,
                        retry_count: t.retry_count + 1,
                        is_retry: !0
                    }) : t
                })
            }
        }, {
            key: "updateForReporting", value: function (e) {
                var t;
                this.stack = null == (t = this.stack) ? void 0 : t.map(function (t) {
                    var n;
                    return null != e && e.includes(null == t ? void 0 : t.action_id) ? Object.assign({}, t, {inner_status: null == (n = ur) ? void 0 : n.reporting}) : t
                })
            }
        }, {
            key: "updateAllStack", value: function (e) {
                this.stack = e
            }
        }, {
            key: "updateToStorage", value: function () {
                yr.setSync(this.localStorageKey, JSON.stringify(this.stack))
            }
        }, {
            key: "updateLostAction", value: function (e) {
                if (e) {
                    var t = "".concat(e, "_").concat(this.timeStamp), n = this.lostActionMaps[t] || 0;
                    this.lostActionMaps[t] = n + 1, yr.setSync(or, JSON.stringify(this.lostActionMaps))
                }
            }
        }, {
            key: "setTimeStamp", value: function () {
                this.timeStamp = Date.now().toString()
            }
        }]), e
    }();
    Vr([S], Hr.prototype, "getItems", 1), Vr([S], Hr.prototype, "getStorage", 1), Vr([S], Hr.prototype, "reportLostNum", 1), Vr([S], Hr.prototype, "getLostMaps", 1), Vr([S], Hr.prototype, "init", 1), Vr([S], Hr.prototype, "addItem", 1), Vr([S], Hr.prototype, "removeItems", 1), Vr([S], Hr.prototype, "updateForReportFail", 1), Vr([S], Hr.prototype, "updateForReporting", 1), Vr([S], Hr.prototype, "updateAllStack", 1), Vr([S], Hr.prototype, "updateToStorage", 1), Vr([S], Hr.prototype, "updateLostAction", 1);
    var Gr = Object.defineProperty, Wr = Object.getOwnPropertyDescriptor, Br = function (e, t, n, r) {
        for (var i, o = r > 1 ? void 0 : r ? Wr(t, n) : t, a = e.length - 1; a >= 0; a--) (i = e[a]) && (o = (r ? i(t, n, o) : i(o)) || o);
        return r && o && Gr(t, n, o), o
    }, Kr = function () {
        function e(n) {
            var r, i = n.userActionSetId, o = n.maxLength, a = void 0 === o ? 500 : o, s = n.ogEvents,
                c = void 0 === s ? [] : s;
            return d(this, e), (r = t.call(this, {userActionSetId: i, maxLength: a})).ogEvents = c, r
        }

        i(e, Hr);
        var t = a(e);
        return h(e, [{
            key: "getReportableActions", value: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 100, t = this.getItems(),
                    n = [];
                return null == t || t.forEach(function (t) {
                    var r;
                    (null == n ? void 0 : n.length) < e && (null == t ? void 0 : t.inner_status) !== (null == (r = ur) ? void 0 : r.reporting) && (null == n || n.push(t))
                }), n
            }
        }, {
            key: "addAction", value: function (e) {
                var t = this.getItems();
                if ((null == t ? void 0 : t.length) >= this.maxLength) {
                    var n = "队列长度超过最大限制".concat(this.maxLength, "条，SDK将按照行为优先级排序，丢弃优先级最低的行为事件");
                    Nr.warn(n), v({user_action_set_id: this.userActionSetId, log_type: "JS_QUEUE_LOG", message: n});
                    var r = this.sortQueue(e, t);
                    Nr.debug && Nr.info("超过".concat(this.maxLength, "条按优先级排序的队列："), r.concat([]));
                    var i = r.pop();
                    this.updateAllStack(r), this.updateLostAction((null == i ? void 0 : i.session_id) || "")
                } else this.addItem(e);
                this.updateToStorage()
            }
        }, {
            key: "removeActions", value: function (e) {
                this.removeItems(e), this.updateToStorage()
            }
        }, {
            key: "updateActionsForReportFail", value: function (e) {
                this.updateForReportFail(e), this.updateToStorage()
            }
        }, {
            key: "updateActionsForReporting", value: function (e) {
                this.updateForReporting(e), this.updateToStorage()
            }
        }, {
            key: "getReportableActionsLength", value: function () {
                var e = this.getItems().filter(function (e) {
                    var t;
                    return (null == e ? void 0 : e.inner_status) !== (null == (t = ur) ? void 0 : t.reporting)
                });
                return null == e ? void 0 : e.length
            }
        }, {
            key: "sortQueue", value: function (e, t) {
                var n = this, r = {}, i = null == e ? void 0 : e.action_time, o = function (e) {
                    return r[e.action_id] || (r[e.action_id] = n.caculateWeight(i, e)), r[e.action_id]
                };
                return t.concat([e]).sort(function (e, t) {
                    return o(t) - o(e)
                })
            }
        }, {
            key: "caculateWeight", value: function (e, t) {
                var n, r = 0, i = this.formatWeight(e, null == t ? void 0 : t.action_time), o = i.ogWeight,
                    a = i.sdkWeight, s = i.userWeight;
                null != (n = this.ogEvents) && n.includes(null == t ? void 0 : t.action_type) && (r += o), null != t && t.is_sdk_auto_track ? r += a : r += s;
                var c = e - (null == t ? void 0 : t.action_time) + 1;
                return c > 0 ? r + 1 / c : r
            }
        }, {
            key: "formatWeight", value: function (e, t) {
                var n = 1e3, r = 10, i = 100;
                return e - t > 2592e6 && (n /= 100, r /= 100, i /= 100), {ogWeight: n, sdkWeight: r, userWeight: i}
            }
        }]), e
    }();
    Br([S], Kr.prototype, "getReportableActions", 1), Br([S], Kr.prototype, "addAction", 1), Br([S], Kr.prototype, "removeActions", 1), Br([S], Kr.prototype, "updateActionsForReportFail", 1), Br([S], Kr.prototype, "updateActionsForReporting", 1), Br([S], Kr.prototype, "getReportableActionsLength", 1), Br([S], Kr.prototype, "sortQueue", 1), Br([S], Kr.prototype, "caculateWeight", 1), Br([S], Kr.prototype, "formatWeight", 1);
    var zr = function () {
        function e() {
            d(this, e), this.events = {}
        }

        return h(e, [{
            key: "subscribe", value: function (t, n) {
                e.checkCallback(n), Cr(this.events[t]) ? this.events[t].push(n) : this.events[t] = [n]
            }
        }, {
            key: "once", value: function (t, n) {
                e.checkCallback(n), this.subscribe(this.onceEventName(t), n)
            }
        }, {
            key: "unsubscribe", value: function (t, n) {
                e.checkCallback(n), Cr(this.events[t]) && (this.events[t] = this.events[t].filter(function (e) {
                    return e !== n
                })), Cr(this.events[this.onceEventName(t)]) && (this.events[this.onceEventName(t)] = this.events[this.onceEventName(t)].filter(function (e) {
                    return e !== n
                }))
            }
        }, {
            key: "publish", value: function (e) {
                for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
                var i = Date.now();
                Cr(this.events[e]) && this.events[e].forEach(function (e) {
                    return e.apply(void 0, [i].concat(n))
                }), Cr(this.events[this.onceEventName(e)]) && (this.events[this.onceEventName(e)].forEach(function (e) {
                    return e.apply(void 0, [i].concat(n))
                }), this.events[this.onceEventName(e)] = [])
            }
        }, {
            key: "onceEventName", value: function (e) {
                return "once_event_prefix_".concat(e)
            }
        }], [{
            key: "checkCallback", value: function (t) {
                Er(t) || Nr.error(e.ERROR_CALLBACK_IS_NOT_A_FUNCTION)
            }
        }]), e
    }();
    zr.ERROR_CALLBACK_IS_NOT_A_FUNCTION = "callback 不是函数";
    var Qr, Jr = new zr,
        Yr = ["REGISTER", "VIEW_CONTENT", "ADD_TO_CART", "PURCHASE", "COMPLETE_ORDER", "ADD_TO_WISHLIST", "START_APP", "CREATE_ROLE", "AUTHORIZE", "TUTORIAL_FINISH", "START_PAY", "FINISH_PAY"],
        Xr = "FINISH_PAY", $r = "START_PAY", Zr = ["REGISTER", "START_APP", "RE_ACTIVE"],
        ei = ["TICKET", "ENTER_FOREGROUND", "ENTER_BACKGROUND"], ti = new (function () {
            function e() {
                d(this, e), this.channelClaimActionList = Zr, this.noClaimActionList = ei, this.realTimeActionList = lr.realTimeActionList, this.ticketInterval = 60, this.requestTimeout = lr.requestTimeout, this.loadConfig()
            }

            return h(e, [{
                key: "getChannelClaimActionList", value: function () {
                    return this.channelClaimActionList
                }
            }, {
                key: "getNoClaimActionList", value: function () {
                    return this.noClaimActionList
                }
            }, {
                key: "getRealTimeActionList", value: function () {
                    return this.realTimeActionList
                }
            }, {
                key: "getTicketInterval", value: function () {
                    return this.ticketInterval
                }
            }, {
                key: "getRequestTimeout", value: function () {
                    return this.requestTimeout
                }
            }, {
                key: "loadConfig", value: function () {
                    var e = this;
                    try {
                        if ("undefined" == typeof wx) return;
                        var t = yr.getSync(sr);
                        t && this.updateConfig(t), m({
                            conf_name: "mini_game_sdk_common",
                            conf_key: "config"
                        }).then(function (t) {
                            t && Ar(t) && (e.updateConfig(t), yr.setSync(sr, t))
                        })
                    } catch (t) {
                        console.error(t)
                    }
                }
            }, {
                key: "updateConfig", value: function (e) {
                    e.channelClaimActionList && Cr(e.channelClaimActionList) && (this.channelClaimActionList = e.channelClaimActionList), e.noClaimActionList && Cr(e.noClaimActionList) && (this.noClaimActionList = e.noClaimActionList), e.realTimeActionList && Cr(e.realTimeActionList) && (this.realTimeActionList = e.realTimeActionList), e.ticketInterval && "number" == typeof e.ticketInterval && e.ticketInterval > 1 && e.ticketInterval !== this.ticketInterval && (this.ticketInterval = e.ticketInterval, Jr.publish(mr)), e.requestTimeout && "number" == typeof e.requestTimeout && e.requestTimeout > 5e3 && (this.requestTimeout = e.requestTimeout)
                }
            }]), e
        }()), ni = function () {
            var e = !1, t = !1, n = !0, r = !0, i = !0, o = !1;
            return function () {
                if (!o) {
                    o = !0;
                    var a = yr.getSync(ar);
                    if ((null == a ? void 0 : a.bg) === gr ? e = !0 : (null == a ? void 0 : a.bg) === vr && (e = !1), (null == a ? void 0 : a.fg) === gr ? t = !0 : (null == a ? void 0 : a.fg) === vr && (t = !1), (null == a ? void 0 : a.st) === gr ? n = !0 : (null == a ? void 0 : a.st) === vr && (n = !1), (null == a ? void 0 : a.ti) === gr ? r = !0 : (null == a ? void 0 : a.ti) === vr && (r = !1), Nr.devLog("当前缓存开关 bgOn，fgOn，stOn，tiOn：", e, t, n, r), n && Jr.publish("START_APP"), r) {
                        var s = function () {
                            i && Jr.publish("TICKET")
                        }, c = setInterval(s, 1e3 * ti.getTicketInterval());
                        Jr.subscribe(mr, function () {
                            c && clearInterval(c), c = setInterval(s, 1e3 * ti.getTicketInterval())
                        })
                    }
                    wx.onShow(function (e) {
                        if (i = !0, t) {
                            var n = "";
                            try {
                                (n = JSON.stringify(e)).length > 1e4 && (n = JSON.stringify({cut: 1, scene: e.scene}))
                            } catch (e) {
                            }
                            Jr.publish("ENTER_FOREGROUND", {enter_options: n})
                        }
                    }), wx.onHide(function () {
                        i = !1, e && Jr.publish("ENTER_BACKGROUND")
                    })
                }
            }
        }(),
        ri = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {},
        ii = A(function () {
            function e(e) {
                return !!e && ("object" == l(e) || "function" == typeof e)
            }

            function t(t) {
                if (null !== t && !e(t)) throw new TypeError("Object prototype may only be an Object or null: " + t)
            }

            var n, r = null, i = Object, o = !(!i.create && {__proto__: null} instanceof i),
                a = i.create || (o ? function (e) {
                    return t(e), {__proto__: e}
                } : function (e) {
                    if (t(e), null === e) throw new SyntaxError("Native Object.create is required to create objects with null prototype");
                    var n = function () {
                    };
                    return n.prototype = e, new n
                }), s = function () {
                    return null
                }, c = i.getPrototypeOf || ([].__proto__ === Array.prototype ? function (t) {
                    var n = t.__proto__;
                    return e(n) ? n : null
                } : s);
            return n = function (u, l) {
                if (void 0 === (this && this instanceof n ? this.constructor : void 0)) throw new TypeError("Constructor Proxy requires 'new'");
                if (!e(u) || !e(l)) throw new TypeError("Cannot create proxy with a non-object as target or handler");
                var d = function () {
                };
                r = function () {
                    u = null, d = function (e) {
                        throw new TypeError("Cannot perform '".concat(e, "' on a proxy that has been revoked"))
                    }
                }, setTimeout(function () {
                    r = null
                }, 0);
                var f = l;
                for (var h in l = {get: null, set: null, apply: null, construct: null}, f) {
                    if (!(h in l)) throw new TypeError("Proxy polyfill does not support trap '".concat(h, "'"));
                    l[h] = f[h]
                }
                "function" == typeof f && (l.apply = f.apply.bind(f));
                var p, g = c(u), v = !1, m = !1;
                "function" == typeof u ? (p = function () {
                    var e = this && this.constructor === p, t = Array.prototype.slice.call(arguments);
                    return d(e ? "construct" : "apply"), e && l.construct ? l.construct.call(this, u, t) : !e && l.apply ? l.apply(u, this, t) : e ? (t.unshift(u), new (u.bind.apply(u, t))) : u.apply(this, t)
                }, v = !0) : u instanceof Array ? (p = [], m = !0) : p = o || null !== g ? a(g) : {};
                var y = l.get ? function (e) {
                    return d("get"), l.get(this, e, p)
                } : function (e) {
                    return d("get"), this[e]
                }, _ = l.set ? function (e, t) {
                    d("set"), l.set(this, e, t, p)
                } : function (e, t) {
                    d("set"), this[e] = t
                }, I = {};
                i.getOwnPropertyNames(u).forEach(function (e) {
                    if (!v && !m || !(e in p)) {
                        var t = {
                            enumerable: !!i.getOwnPropertyDescriptor(u, e).enumerable,
                            get: y.bind(u, e),
                            set: _.bind(u, e)
                        };
                        i.defineProperty(p, e, t), I[e] = !0
                    }
                });
                var w = !0;
                if (v || m) {
                    var b = i.setPrototypeOf || ([].__proto__ === Array.prototype ? function (e, n) {
                        return t(n), e.__proto__ = n, e
                    } : s);
                    g && b(p, g) || (w = !1)
                }
                if (l.get || !w) for (var T in u) I[T] || i.defineProperty(p, T, {get: y.bind(u, T)});
                return i.seal(u), i.seal(p), p
            }, n.revocable = function (e, t) {
                return {proxy: new n(e, t), revoke: r}
            }, n
        }), oi = {};
    try {
        Qr || (Qr = ii())
    } catch (e) {
        R(e)
    }
    var ai = "SHARE", si = $r, ci = Xr, ui = function () {
        var e = !1;
        return function () {
            e || (e = !0, C(wx, "login", function (e) {
                "success" === e && Jr.publish("LOGIN")
            }), E(wx, "onAddToFavorites", function () {
                Jr.publish("ADD_TO_WISHLIST")
            }), E(wx, "onShareTimeline", function () {
                Jr.publish(ai, {target: "TIME_LINE", trigger: "MENU"})
            }), E(wx, "onShareAppMessage", function () {
                Jr.publish(ai, {target: "APP_MESSAGE", trigger: "MENU"})
            }), E(wx, "shareAppMessage", function () {
                Jr.publish(ai, {target: "APP_MESSAGE", trigger: "BUTTON"})
            }), x(wx, "createGameClubButton", !1, [{
                isAsync: !1, eventName: "onTap", proxyEvent: function () {
                    Jr.publish("TAP_GAME_CLUB")
                }
            }], function () {
                Jr.publish("CREATE_GAME_CLUB")
            }), x(wx, "getGameServerManager", !0, [{
                isAsync: !0, eventName: "createRoom", proxyEvent: function (e) {
                    "success" === e && Jr.publish("CREATE_GAME_ROOM")
                }
            }, {
                isAsync: !0, eventName: "joinRoom", proxyEvent: function (e) {
                    "success" === e && Jr.publish("JOIN_GAME_ROOM")
                }
            }]), C(wx, "requestMidasPayment", function (e, t) {
                Jr.publish(ci, {
                    status: "success" === e ? "SUCCESS" : "FAIL",
                    quantity: (null == t ? void 0 : t.buyQuantity) || 0,
                    mode: (null == t ? void 0 : t.mode) || "",
                    platform: (null == t ? void 0 : t.platform) || "",
                    no: (null == t ? void 0 : t.outTradeNo) || "",
                    payType: "Midas"
                })
            }, function (e) {
                Jr.publish(si, {
                    quantity: (null == e ? void 0 : e.buyQuantity) || 0,
                    mode: (null == e ? void 0 : e.mode) || "",
                    platform: (null == e ? void 0 : e.platform) || "",
                    no: (null == e ? void 0 : e.outTradeNo) || "",
                    payType: "Midas"
                })
            }), C(wx, "requestMidasPaymentGameItem", function (e, t) {
                var n = (t || {}).signData;
                Jr.publish(ci, {
                    status: "success" === e ? "SUCCESS" : "FAIL",
                    quantity: (null == n ? void 0 : n.buyQuantity) || 0,
                    mode: (null == n ? void 0 : n.mode) || "",
                    platform: (null == n ? void 0 : n.platform) || "",
                    no: (null == n ? void 0 : n.outTradeNo) || "",
                    p: (null == n ? void 0 : n.goodsPrice) || 0,
                    productId: (null == n ? void 0 : n.productId) || "",
                    payType: "MidasGameItem"
                })
            }, function (e) {
                var t = (e || {}).signData;
                Jr.publish(si, {
                    quantity: (null == t ? void 0 : t.buyQuantity) || 0,
                    mode: (null == t ? void 0 : t.mode) || "",
                    platform: (null == t ? void 0 : t.platform) || "",
                    no: (null == t ? void 0 : t.outTradeNo) || "",
                    p: (null == t ? void 0 : t.goodsPrice) || 0,
                    productId: (null == t ? void 0 : t.productId) || "",
                    payType: "MidasGameItem"
                })
            }))
        }
    }(), li = function () {
        function e() {
            d(this, e)
        }

        return h(e, null, [{
            key: "isEmpty", value: function (e) {
                return !e || "" === e.trim()
            }
        }, {
            key: "format", value: function (e) {
                for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
                return e.replace(/\${(\d+)}/g, function (e, t) {
                    return n[t]
                })
            }
        }, {
            key: "customStringify", value: function (e) {
                var t = [];
                try {
                    return JSON.stringify(e, function (e, n) {
                        if (void 0 === n) return "undefined";
                        if ("object" == l(n) && null !== n) {
                            if (-1 !== t.indexOf(n)) return "[Circular]";
                            t.push(n)
                        }
                        return "bigint" == typeof n ? n.toString() : n
                    })
                } catch (e) {
                    return "[Param Error]"
                }
            }
        }]), e
    }(), di = /^([a-zA-Z][a-zA-Z\d_]{0,63})$/i, fi = /^ams_reserved_(.*)/i, hi = function () {
        function e() {
            d(this, e)
        }

        return h(e, null, [{
            key: "validateActionType", value: function (t) {
                return li.isEmpty(t) ? (Nr.error(e.ERROR_ACTION_TYPE_NULL), !1) : !!di.test(t) || (Nr.error(e.ERROR_ACTION_TYPE_INVALID), !1)
            }
        }, {
            key: "validateActionParam", value: function (t) {
                if (!t) return !0;
                if (!Ar(t)) return Nr.error(e.ERROR_ACTION_PARAM_IS_NOT_OBJECT), !1;
                for (var n in t) {
                    if (li.isEmpty(n)) return Nr.error(e.ERROR_ACTION_PARAM_KEY_NULL), !1;
                    if (!di.test(n)) return Nr.error(e.ERROR_ACTION_PARAM_KEY_INVALID), !1;
                    fi.test(n) && Nr.warn(e.WARN_ACTION_PARAM_KEY_RESERVED);
                    var r = t[n];
                    if (!e.isValidValue(r)) return Nr.error(li.format(e.ERROR_ACTION_PARAM_VALUE_INVALID, n, r)), !1;
                    if (Cr(r)) {
                        if (!e.isValidArrayValue(r)) {
                            for (var i = 0; i < r.length; i++) Nr.error(li.format(e.ERROR_ACTION_PARAM_VALUE_ARRAY_INVALID, n, li.customStringify(r), i, r[i]));
                            return !1
                        }
                        if (!e.checkArrayElementTypes(r)) return Nr.error(e.ERROR_ACTION_PARAM_VALUE_ARRAY_TYPE_UNUNIQUE), !1
                    }
                }
                return !0
            }
        }, {
            key: "isValidValue", value: function (e) {
                return null == e || "string" == typeof e || "number" == typeof e || "boolean" == typeof e || Cr(e)
            }
        }, {
            key: "isValidArrayValue", value: function (e) {
                for (var t = 0; t < e.length; t++) {
                    var n = e[t];
                    if ("string" != typeof n && "number" != typeof n && "boolean" != typeof n) return !1
                }
                return !0
            }
        }, {
            key: "checkArrayElementTypes", value: function (e) {
                if (!e || e.length <= 1) return !0;
                for (var t = l(e[0]), n = 1; n < e.length; n++) if (l(e[n]) !== t) return !1;
                return !0
            }
        }]), e
    }();
    hi.ERROR_ACTION_TYPE_NULL = "在track方法中，action_type参数不能为空！", hi.ERROR_ACTION_TYPE_INVALID = "在track方法中，action_type参数只能包含字母、数字和下划线，且只能以字母开头，长度不能超过64个字符！", hi.ERROR_ACTION_PARAM_KEY_NULL = "在track方法中，action_param参数的key不能为空！", hi.ERROR_ACTION_PARAM_KEY_INVALID = "在track方法中，action_param参数的key只能包含字母、数字和下划线，且不能以数字开头，长度不能超过64个字符！", hi.WARN_ACTION_PARAM_KEY_RESERVED = "SDK内部预留参数的key均以'ams_reserved_'开头，该参数的值会被SDK内部覆盖，请不要使用！", hi.ERROR_ACTION_PARAM_VALUE_INVALID = "在track方法中，action_param参数的value必须是String/Number/Boolean/Array中的一种！[key=${0}, value=${1}]", hi.ERROR_ACTION_PARAM_VALUE_ARRAY_INVALID = "在track方法中，如果action_param参数中的某个元素的value是Array，那么这个Array中的每个元素必须是String/Number/Boolean中的一种！[key=${0}, value=${1}, 数组的第${2}个元素为${3}]", hi.ERROR_ACTION_PARAM_VALUE_ARRAY_TYPE_UNUNIQUE = "在track方法中，如果action_param参数中的某个元素的value是Array，那么这个Array中所有元素的类型必须是同一种！", hi.ERROR_ACTION_PARAM_IS_NOT_OBJECT = "action_param 参数不是Object";
    var pi = {exports: {}};
    !function (e) {
        !function (t) {
            function n(e, t) {
                var n = (65535 & e) + (65535 & t);
                return (e >> 16) + (t >> 16) + (n >> 16) << 16 | 65535 & n
            }

            function r(e, t, r, i, o, a) {
                return n(function (e, t) {
                    return e << t | e >>> 32 - t
                }(n(n(t, e), n(i, a)), o), r)
            }

            function i(e, t, n, i, o, a, s) {
                return r(t & n | ~t & i, e, t, o, a, s)
            }

            function o(e, t, n, i, o, a, s) {
                return r(t & i | n & ~i, e, t, o, a, s)
            }

            function a(e, t, n, i, o, a, s) {
                return r(t ^ n ^ i, e, t, o, a, s)
            }

            function s(e, t, n, i, o, a, s) {
                return r(n ^ (t | ~i), e, t, o, a, s)
            }

            function c(e, t) {
                e[t >> 5] |= 128 << t % 32, e[14 + (t + 64 >>> 9 << 4)] = t;
                var r, c, u, l, d, f = 1732584193, h = -271733879, p = -1732584194, g = 271733878;
                for (r = 0; r < e.length; r += 16) c = f, u = h, l = p, d = g, f = s(f = a(f = a(f = a(f = a(f = o(f = o(f = o(f = o(f = i(f = i(f = i(f = i(f, h, p, g, e[r], 7, -680876936), h = i(h, p = i(p, g = i(g, f, h, p, e[r + 1], 12, -389564586), f, h, e[r + 2], 17, 606105819), g, f, e[r + 3], 22, -1044525330), p, g, e[r + 4], 7, -176418897), h = i(h, p = i(p, g = i(g, f, h, p, e[r + 5], 12, 1200080426), f, h, e[r + 6], 17, -1473231341), g, f, e[r + 7], 22, -45705983), p, g, e[r + 8], 7, 1770035416), h = i(h, p = i(p, g = i(g, f, h, p, e[r + 9], 12, -1958414417), f, h, e[r + 10], 17, -42063), g, f, e[r + 11], 22, -1990404162), p, g, e[r + 12], 7, 1804603682), h = i(h, p = i(p, g = i(g, f, h, p, e[r + 13], 12, -40341101), f, h, e[r + 14], 17, -1502002290), g, f, e[r + 15], 22, 1236535329), p, g, e[r + 1], 5, -165796510), h = o(h, p = o(p, g = o(g, f, h, p, e[r + 6], 9, -1069501632), f, h, e[r + 11], 14, 643717713), g, f, e[r], 20, -373897302), p, g, e[r + 5], 5, -701558691), h = o(h, p = o(p, g = o(g, f, h, p, e[r + 10], 9, 38016083), f, h, e[r + 15], 14, -660478335), g, f, e[r + 4], 20, -405537848), p, g, e[r + 9], 5, 568446438), h = o(h, p = o(p, g = o(g, f, h, p, e[r + 14], 9, -1019803690), f, h, e[r + 3], 14, -187363961), g, f, e[r + 8], 20, 1163531501), p, g, e[r + 13], 5, -1444681467), h = o(h, p = o(p, g = o(g, f, h, p, e[r + 2], 9, -51403784), f, h, e[r + 7], 14, 1735328473), g, f, e[r + 12], 20, -1926607734), p, g, e[r + 5], 4, -378558), h = a(h, p = a(p, g = a(g, f, h, p, e[r + 8], 11, -2022574463), f, h, e[r + 11], 16, 1839030562), g, f, e[r + 14], 23, -35309556), p, g, e[r + 1], 4, -1530992060), h = a(h, p = a(p, g = a(g, f, h, p, e[r + 4], 11, 1272893353), f, h, e[r + 7], 16, -155497632), g, f, e[r + 10], 23, -1094730640), p, g, e[r + 13], 4, 681279174), h = a(h, p = a(p, g = a(g, f, h, p, e[r], 11, -358537222), f, h, e[r + 3], 16, -722521979), g, f, e[r + 6], 23, 76029189), p, g, e[r + 9], 4, -640364487), h = a(h, p = a(p, g = a(g, f, h, p, e[r + 12], 11, -421815835), f, h, e[r + 15], 16, 530742520), g, f, e[r + 2], 23, -995338651), p, g, e[r], 6, -198630844), h = s(h = s(h = s(h = s(h, p = s(p, g = s(g, f, h, p, e[r + 7], 10, 1126891415), f, h, e[r + 14], 15, -1416354905), g, f, e[r + 5], 21, -57434055), p = s(p, g = s(g, f = s(f, h, p, g, e[r + 12], 6, 1700485571), h, p, e[r + 3], 10, -1894986606), f, h, e[r + 10], 15, -1051523), g, f, e[r + 1], 21, -2054922799), p = s(p, g = s(g, f = s(f, h, p, g, e[r + 8], 6, 1873313359), h, p, e[r + 15], 10, -30611744), f, h, e[r + 6], 15, -1560198380), g, f, e[r + 13], 21, 1309151649), p = s(p, g = s(g, f = s(f, h, p, g, e[r + 4], 6, -145523070), h, p, e[r + 11], 10, -1120210379), f, h, e[r + 2], 15, 718787259), g, f, e[r + 9], 21, -343485551), f = n(f, c), h = n(h, u), p = n(p, l), g = n(g, d);
                return [f, h, p, g]
            }

            function u(e) {
                var t, n = "", r = 32 * e.length;
                for (t = 0; t < r; t += 8) n += String.fromCharCode(e[t >> 5] >>> t % 32 & 255);
                return n
            }

            function l(e) {
                var t, n = [];
                for (n[(e.length >> 2) - 1] = void 0, t = 0; t < n.length; t += 1) n[t] = 0;
                var r = 8 * e.length;
                for (t = 0; t < r; t += 8) n[t >> 5] |= (255 & e.charCodeAt(t / 8)) << t % 32;
                return n
            }

            function d(e) {
                var t, n, r = "0123456789abcdef", i = "";
                for (n = 0; n < e.length; n += 1) t = e.charCodeAt(n), i += r.charAt(t >>> 4 & 15) + r.charAt(15 & t);
                return i
            }

            function f(e) {
                return unescape(encodeURIComponent(e))
            }

            function h(e) {
                return function (e) {
                    return u(c(l(e), 8 * e.length))
                }(f(e))
            }

            function p(e, t) {
                return function (e, t) {
                    var n, r, i = l(e), o = [], a = [];
                    for (o[15] = a[15] = void 0, i.length > 16 && (i = c(i, 8 * e.length)), n = 0; n < 16; n += 1) o[n] = 909522486 ^ i[n], a[n] = 1549556828 ^ i[n];
                    return r = c(o.concat(l(t)), 512 + 8 * t.length), u(c(a.concat(r), 640))
                }(f(e), f(t))
            }

            function g(e, t, n) {
                return t ? n ? p(t, e) : function (e, t) {
                    return d(p(e, t))
                }(t, e) : n ? h(e) : function (e) {
                    return d(h(e))
                }(e)
            }

            e.exports ? e.exports = g : t.md5 = g
        }(ri)
    }(pi);
    var gi = A(pi.exports), vi = "function" == typeof btoa, mi = "function" == typeof Buffer;
    "function" == typeof TextDecoder && new TextDecoder;
    var yi, _i = "function" == typeof TextEncoder ? new TextEncoder : void 0,
        Ii = Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");
    yi = {}, Ii.forEach(function (e, t) {
        return yi[e] = t
    });
    var wi = String.fromCharCode.bind(String);
    "function" == typeof Uint8Array.from && Uint8Array.from.bind(Uint8Array);
    var bi = vi ? function (e) {
        return btoa(e)
    } : mi ? function (e) {
        return Buffer.from(e, "binary").toString("base64")
    } : function (e) {
        for (var t, n, r, i, o = "", a = e.length % 3, s = 0; s < e.length;) {
            if ((n = e.charCodeAt(s++)) > 255 || (r = e.charCodeAt(s++)) > 255 || (i = e.charCodeAt(s++)) > 255) throw new TypeError("invalid character found");
            o += Ii[(t = n << 16 | r << 8 | i) >> 18 & 63] + Ii[t >> 12 & 63] + Ii[t >> 6 & 63] + Ii[63 & t]
        }
        return a ? o.slice(0, a - 3) + "===".substring(a) : o
    }, Ti = mi ? function (e) {
        return Buffer.from(e).toString("base64")
    } : function (e) {
        for (var t = [], n = 0, r = e.length; n < r; n += 4096) t.push(wi.apply(null, e.subarray(n, n + 4096)));
        return bi(t.join(""))
    }, ki = function (e) {
        if (e.length < 2) return (t = e.charCodeAt(0)) < 128 ? e : t < 2048 ? wi(192 | t >>> 6) + wi(128 | 63 & t) : wi(224 | t >>> 12 & 15) + wi(128 | t >>> 6 & 63) + wi(128 | 63 & t);
        var t = 65536 + 1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320);
        return wi(240 | t >>> 18 & 7) + wi(128 | t >>> 12 & 63) + wi(128 | t >>> 6 & 63) + wi(128 | 63 & t)
    }, Si = /[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g, Ai = mi ? function (e) {
        return Buffer.from(e, "utf8").toString("base64")
    } : _i ? function (e) {
        return Ti(_i.encode(e))
    } : function (e) {
        return bi(function (e) {
            return e.replace(Si, ki)
        }(e))
    }, Ci = Object.defineProperty, Ei = Object.getOwnPropertyDescriptor, xi = function (e, t, n, r) {
        for (var i, o = r > 1 ? void 0 : r ? Ei(t, n) : t, a = e.length - 1; a >= 0; a--) (i = e[a]) && (o = (r ? i(t, n, o) : i(o)) || o);
        return r && o && Ci(t, n, o), o
    }, Oi = function () {
        function e(t) {
            var n = this;
            d(this, e), this.cgiBatchSize = lr.cgiBatchSize, this.reportThreshold = lr.reportThreshold, this.reportDelay = lr.reportDelay, this.triggerExecuteSend = function (e) {
                var t, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r = [];
                return function () {
                    for (var i = arguments.length, o = new Array(i), a = 0; a < i; a++) o[a] = arguments[a];
                    return clearTimeout(t), t = setTimeout(function () {
                        var t = e.apply(void 0, o);
                        r.forEach(function (e) {
                            return e(t)
                        }), r = []
                    }, n), new Promise(function (e) {
                        return r.push(e)
                    })
                }
            }(function () {
                n.executeSend()
            }, 1e3 * this.reportDelay), this.inspectDelay = lr.inspectDelay, this.inspectTimer = void 0, this.isNeedContinueSend = !1, this.getBaseInfo = t.getBaseInfo, this.reportLog = t.reportLog, this.queueManager = t.queueManager, this.configManager = t.configManager, this.flushSend(), this.startInspectTimer()
        }

        return h(e, [{
            key: "batchSend", value: function () {
                var e, t = this.queueManager.getReportableActions(this.reportThreshold);
                if (t.length >= this.reportThreshold) this.executeSend(); else {
                    var n = (null == (e = this.configManager) ? void 0 : e.getRealTimeActionList()) || lr.realTimeActionList;
                    t.some(function (e) {
                        return n.indexOf(e.action_type) > -1 && !e.is_retry
                    }) ? this.executeSend() : this.triggerExecuteSend()
                }
                this.startInspectTimer()
            }
        }, {
            key: "flushSend", value: function () {
                this.executeSend()
            }
        }, {
            key: "executeSend", value: function () {
                var t = this;
                if (e.currentRequestCount >= e.requestConcurrency) this.isNeedContinueSend = !0; else {
                    this.isNeedContinueSend = !1;
                    var n = (e.requestConcurrency - e.currentRequestCount) * this.cgiBatchSize,
                        r = this.queueManager.getReportableActions(n), i = this.getBaseInfo();
                    if (!i.openid && !i.unionid && (Nr.warn("请尽快调用 setOpenId 或 setUnionId 方法设置用户ID！"), r = r.filter(function (e) {
                        return null == e ? void 0 : e.ad_trace_id
                    })), !(r.length <= 0)) {
                        n < this.queueManager.getReportableActionsLength() && (this.isNeedContinueSend = !0), e.currentRequestCount += Math.ceil(r.length / this.cgiBatchSize);
                        for (var o = [], a = 0; a < r.length; a += this.cgiBatchSize) {
                            var s = this.generateActionReportParams(r.slice(a, a + this.cgiBatchSize));
                            o.push(this.report(s))
                        }
                        Promise.all(o).then(function (e) {
                            var n = e.some(function (e) {
                                return e >= 0
                            });
                            t.isNeedContinueSend && n && t.executeSend()
                        }).catch(function (e) {
                            Nr.error(e), t.reportLog({
                                message: "executeSend catch: ".concat(e.message),
                                log_type: dr,
                                err_stack: e.stack
                            })
                        })
                    }
                }
            }
        }, {
            key: "generateActionReportParams", value: function (e) {
                var t = [], n = [], r = this.getBaseInfo();
                return e.forEach(function (e) {
                    n.push(e.action_id);
                    var r = Object.assign({}, e);
                    delete r.inner_status, t.push(r)
                }), {data: {info: r, actions: t}, actionIdList: n}
            }
        }, {
            key: "dealSuccessData", value: function (e, t) {
                [51001, 51003].indexOf(null == e ? void 0 : e.code) > -1 ? this.queueManager.updateActionsForReportFail(t) : this.queueManager.removeActions(t), 0 !== (null == e ? void 0 : e.code) && (this.reportLog({
                    log_type: fr,
                    code: null == e ? void 0 : e.code,
                    message: "trace_id: ".concat(null == e ? void 0 : e.trace_id, "，msg: ").concat(null == e ? void 0 : e.message)
                }), Nr.error("上报失败：", e))
            }
        }, {
            key: "dealFailData", value: function (e, t) {
                this.queueManager.updateActionsForReportFail(t), this.reportLog({
                    log_type: fr,
                    code: e.code,
                    message: e.message
                }), Nr.error("上报失败：", e)
            }
        }, {
            key: "report", value: function (t) {
                var n = this, r = t.data, i = t.actionIdList;
                return this.queueManager.updateActionsForReporting(i), Nr.debug && (Nr.info("上报行为类型: ", "【".concat(r.actions.map(function (e) {
                    return e.action_type
                }).join("、"), "】")), Nr.info("上报请求参数: ", r)), new Promise(function (t) {
                    var o, a, s, c, u, d, f, h, p = Date.now();
                    try {
                        var g = function (e) {
                            var t = "", n = null == e ? void 0 : e.appid, r = null == e ? void 0 : e.secret_key,
                                i = null == e ? void 0 : e.sdk_version, o = null == e ? void 0 : e.timestamp;
                            if (!(n && r && i && o && 32 === r.length)) return t;
                            for (var a = gi(i + n + o), s = 0; s < 32; s++) t += s % 2 == 0 ? r[s] : a[s];
                            return t
                        }({
                            appid: null == (o = null == r ? void 0 : r.info) ? void 0 : o.appid,
                            secret_key: null == (a = null == r ? void 0 : r.info) ? void 0 : a.secret_key,
                            sdk_version: null == (s = null == r ? void 0 : r.info) ? void 0 : s.sdk_version,
                            timestamp: p
                        }), v = function (e) {
                            return arguments.length > 1 && void 0 !== arguments[1] && arguments[1] ? function (e) {
                                return e.replace(/=/g, "").replace(/[+\/]/g, function (e) {
                                    return "+" == e ? "-" : "_"
                                })
                            }(Ai(e)) : Ai(e)
                        }(JSON.stringify(r));
                        f = {
                            "Client-Time": p,
                            "Sign-Value": gi(v + (null == (c = null == r ? void 0 : r.info) ? void 0 : c.user_action_set_id) + (null == (u = null == r ? void 0 : r.info) ? void 0 : u.secret_key) + g),
                            "Sign-Version": lr.signVersion,
                            "content-type": "text/plain;charset=UTF-8"
                        }, h = v
                    } catch (g) {
                        f = {"Client-Time": p}, h = r, n.reportLog({
                            log_type: "SIGN_ERROR",
                            message: "sign error msg: ".concat(null == g ? void 0 : g.message),
                            err_stack: null == g ? void 0 : g.stack
                        }), Nr.error(g)
                    }
                    wx.request({
                        url: "https://api.datanexus.qq.com/data-nexus-cgi/miniprogram",
                        method: "POST",
                        timeout: (null == (d = n.configManager) ? void 0 : d.getRequestTimeout()) || lr.requestTimeout,
                        header: f,
                        data: h,
                        success: function (r) {
                            var o, a;
                            Nr.devLog("上报接口返回码:", null == (o = null == r ? void 0 : r.data) ? void 0 : o.code);
                            var s = (null == (a = null == r ? void 0 : r.header) ? void 0 : a["Server-Time"]) || -1;
                            if (kr.revise(s), e.currentRequestCount -= 1, 200 === (null == r ? void 0 : r.statusCode)) return n.dealSuccessData(null == r ? void 0 : r.data, i), void t((null == r ? void 0 : r.data).code);
                            var c = "";
                            try {
                                c = "object" == l(null == r ? void 0 : r.data) ? JSON.stringify(null == r ? void 0 : r.data) : null == r ? void 0 : r.data
                            } catch (e) {
                                Nr.error(e)
                            }
                            var u = {
                                code: "number" == typeof (null == r ? void 0 : r.statusCode) ? -1 * r.statusCode : -888,
                                message: "statusCode: ".concat(null == r ? void 0 : r.statusCode, ", data: ").concat(c)
                            };
                            n.dealFailData(u, i), t(u.code)
                        },
                        fail: function (r) {
                            Nr.devLog("上报失败:", r), e.currentRequestCount -= 1;
                            var o = {
                                code: "number" == typeof (null == r ? void 0 : r.errno) ? -1 * r.errno : -999,
                                message: null == r ? void 0 : r.errMsg
                            };
                            n.dealFailData(o, i), t(o.code)
                        }
                    })
                })
            }
        }, {
            key: "startInspectTimer", value: function () {
                var t = this;
                clearTimeout(this.inspectTimer), this.inspectTimer = setTimeout(function () {
                    e.currentRequestCount >= e.requestConcurrency && (e.currentRequestCount = e.requestConcurrency - 1), t.executeSend(), t.startInspectTimer()
                }, 1e3 * this.inspectDelay)
            }
        }], [{
            key: "setRequestConcurrency", value: function (t) {
                "number" == typeof t ? t < 1 ? Nr.error("网络请求最大并发量不能小于1") : t > 10 ? Nr.error("网络请求最大并发量不能大于10") : e.requestConcurrency = t : Nr.error("网络请求最大并发量需设置为数字")
            }
        }]), e
    }();
    Oi.currentRequestCount = 0, Oi.requestConcurrency = lr.requestConcurrency, xi([S], Oi.prototype, "batchSend", 1), xi([S], Oi.prototype, "flushSend", 1), xi([S], Oi.prototype, "executeSend", 1);
    var Ri = function () {
        function t() {
            d(this, t)
        }

        return h(t, [{
            key: "install", value: function (t, n) {
                var r = function (n) {
                    Jr.subscribe(n, function (n) {
                        var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        return function (i) {
                            var o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                            t.track(n, Object.assign(r || {}, o, e(e({}, ji, !0), Vi, i)))
                        }
                    }(n))
                };
                r("TICKET"), r("START_APP"), r("ENTER_FOREGROUND"), r("ENTER_BACKGROUND"), "all" === n && (r("LOGIN"), r("ADD_TO_WISHLIST"), r("SHARE"), r("CREATE_GAME_CLUB"), r("TAP_GAME_CLUB"), r("CREATE_GAME_ROOM"), r("JOIN_GAME_ROOM"), r("START_PAY"), r("FINISH_PAY"))
            }
        }]), t
    }(), Pi = function () {
        function t() {
            d(this, t), this.special_method_symbol = Symbol("special_method_symbol")
        }

        return h(t, [{
            key: "onPurchase", value: function (e) {
                "number" != typeof e && Nr.warn("付费金额需要为数字"), e <= 0 && Nr.warn("付费金额需要大于0"), this.wrapTrack("PURCHASE", {value: e})
            }
        }, {
            key: "onEnterForeground", value: function () {
                this.wrapTrack("ENTER_FOREGROUND")
            }
        }, {
            key: "onEnterBackground", value: function () {
                this.wrapTrack("ENTER_BACKGROUND")
            }
        }, {
            key: "onAppStart", value: function () {
                this.wrapTrack("START_APP")
            }
        }, {
            key: "onAppQuit", value: function () {
                this.wrapTrack("APP_QUIT")
            }
        }, {
            key: "onAddToWishlist", value: function () {
                this.wrapTrack("ADD_TO_WISHLIST")
            }
        }, {
            key: "wrapTrack", value: function (t, n) {
                this.track(t, Object.assign(n || {}, e({}, this.special_method_symbol, 1)))
            }
        }]), t
    }(), Mi = function () {
        function e() {
            return d(this, e), t.apply(this, arguments)
        }

        i(e, Pi);
        var t = a(e);
        return h(e, [{
            key: "onRegister", value: function () {
                this.wrapTrack("REGISTER")
            }
        }, {
            key: "onCreateRole", value: function (e) {
                e && "string" != typeof e && Nr.warn("角色名称需要为字符串"), this.wrapTrack("CREATE_ROLE", e ? {name: e} : {})
            }
        }, {
            key: "onTutorialFinish", value: function () {
                this.wrapTrack("TUTORIAL_FINISH")
            }
        }]), e
    }(), Di = "（如果确认无误，请忽略该提示）", Li = function () {
        var e = [];
        return {
            requestActionList: function () {
                try {
                    m({conf_name: "data_nexus_common", conf_key: "action_types"}).then(function (t) {
                        Cr(t) && (e = t)
                    })
                } catch (e) {
                    Nr.error(e)
                }
            }, getActionList: function () {
                return e
            }
        }
    }(), Ni = Object.defineProperty, Ui = Object.getOwnPropertyDescriptor, qi = function (e, t, n, r) {
        for (var i, o = r > 1 ? void 0 : r ? Ui(t, n) : t, a = e.length - 1; a >= 0; a--) (i = e[a]) && (o = (r ? i(t, n, o) : i(o)) || o);
        return r && o && Ni(t, n, o), o
    }, Fi = Symbol("initializedInstance"), ji = Symbol("autoTrack"), Vi = Symbol("actionTime"), Hi = function () {
        function t(e) {
            var r;
            if (d(this, t), (r = n.call(this)).env = "production", r.sdk_version = "1.5.4", r.sdk_name = "@dn-sdk/minigame", r.deviceInfo = {}, r.gameInfo = {}, r.session_id = "", r.log_id = 0, r.inited = !1, null == wx || !wx.createCanvas) return Nr.error("SDK只可以用在微信小游戏中使用"), s(r);
            var i = T();
            if (t[Fi].length >= i.maxSdkInstance) return Nr.error("初始化超过上限"), s(r);
            var o = function (e) {
                return Ar(e) ? (function (e) {
                    var t = ["user_action_set_id", "secret_key", "appid", "openid", "unionid", "user_unique_id", "auto_track", "auto_attr"];
                    for (var n in e) t.includes(n) || Nr.warn("Invalid property '".concat(n, "' found in config"))
                }(e), "number" != typeof e.user_action_set_id ? "user_action_set_id 参数需为 number 类型" : e.user_action_set_id <= 0 ? "user_action_set_id 参数需大于 0" : "string" != typeof e.secret_key ? "secret_key 参数需为 string 类型" : "" === e.secret_key.trim() ? "缺少 secret_key 参数" : 32 !== e.secret_key.length ? "secret_key 参数需为 32 位字符串" : "string" != typeof e.appid ? "appid 参数需为 string 类型" : "" !== e.appid.trim() || "缺少 appid") : "初始化参数需为 object 类型"
            }(e), a = Tr();
            if (!0 !== o) return Nr.error(o), s(r);
            var u = null == a ? void 0 : a.appId;
            if (u && u !== e.appid) return Nr.error("初始化失败，传入的appid与当前小游戏appid不一致"), s(r);
            r.config = e, k(e, "auto_track") || (r.config.auto_track = b("autoTrack")), r.openid = e.openid, r.unionid = e.unionid, r.user_unique_id = e.user_unique_id, r.saveValidOpenidToStorage();
            var l = e.user_action_set_id;
            return t[Fi].includes(l) ? (Nr.error("请勿重复初始化SDK"), s(r)) : (r.reportLog = r.reportLog.bind(c(r)), r.getTrackBaseInfo = r.getTrackBaseInfo.bind(c(r)), r.deviceInfo = _r(), r.gameInfo = Ur(), r.session_id = w(), r.queueManage = new Kr({
                userActionSetId: l,
                maxLength: i.maxQueueLength,
                ogEvents: Yr
            }), r.actionReporter = new Oi({
                getBaseInfo: r.getTrackBaseInfo,
                reportLog: r.reportLog,
                queueManager: r.queueManage,
                configManager: ti
            }), r.inited = !0, t[Fi].push(l), r.useAutoTrack(), r.doReportOnEnterBackground(), "release" === (null == a ? void 0 : a.envVersion) ? (Nr.info("初始化成功"), s(r)) : (function (e) {
                var t = e.sdk_version, n = e.default_download_url, r = e.fail_handler;
                m({conf_name: e.conf_name, conf_key: e.conf_key}).then(function (e) {
                    if (Ar(e)) {
                        var i = null == e ? void 0 : e.blackVersions, o = null == e ? void 0 : e.minVersion,
                            a = null == e ? void 0 : e.bestVersion, s = null == e ? void 0 : e.downloadUrl, c = n;
                        return s && /^https/.test(s) && (c = s), Cr(i) && (null == i ? void 0 : i.indexOf(t)) > -1 ? (null == r || r(), void Nr.error("初始化失败！当前SDK版本存在兼容问题，请尽快升级至最新版！下载地址：".concat(c))) : o && Dr(t, o) < 0 ? (null == r || r(), void Nr.error("初始化失败！当前SDK版本过低，请尽快升级至最新版！下载地址：".concat(c))) : (a && Dr(t, a) < 0 && Nr.warn("新版本SDK已上线，强烈建议您升级至最新版，尽早享受新特性！下载地址：".concat(c)), void Nr.info("初始化成功"))
                    }
                    Nr.info("初始化成功")
                }).catch(function () {
                    Nr.info("初始化成功")
                })
            }({
                conf_name: "mini_game_sdk_common",
                conf_key: "version",
                sdk_version: r.sdk_version,
                default_download_url: "https://sr-home-1257214331.cos.ap-guangzhou.myqcloud.com/sdk/dn-sdk-minigame/dn-sdk-minigame.zip",
                fail_handler: function () {
                    r.inited = !1
                }
            }), Li.requestActionList(), D(e.openid), s(r)))
        }

        i(t, Mi);
        var n = a(t);
        return h(t, [{
            key: "track", value: function (e, t) {
                var n, r, i, o = hi.validateActionType(e), a = hi.validateActionParam(t);
                if (o && a) {
                    !this.openid && !this.unionid && Nr.warn("缺少 openid 或 unionid");
                    var s = b("actionParamMaxLength");
                    if (JSON.stringify(t || {}).length > s) return void Nr.error("监测到超过".concat(s, "的上报日志：").concat(e, " ").concat(t));
                    var c = !(null == t || !t[ji]), u = this.createAction(e, t || {}, c);
                    "release" !== (null == (n = Tr()) ? void 0 : n.envVersion) && P(u, "minigame"), null == (r = this.queueManage) || r.addAction(u), null == (i = this.actionReporter) || i.batchSend()
                }
            }
        }, {
            key: "flush", value: function () {
                var e;
                null == (e = this.actionReporter) || e.flushSend()
            }
        }, {
            key: "setOpenId", value: function (e) {
                var t;
                e && "string" == typeof e ? (this.openid = e, this.gameInfo.ad_trace_id && !yr.getSync(cr) && Jr.publish("START_APP"), this.flush(), this.saveValidOpenidToStorage(), "release" !== (null == (t = Tr()) ? void 0 : t.envVersion) && D(e)) : Nr.error("openid 格式错误")
            }
        }, {
            key: "setUnionId", value: function (e) {
                e && "string" == typeof e ? (this.unionid = e, this.flush()) : Nr.error("unionid 格式错误")
            }
        }, {
            key: "setUserUniqueId", value: function (e) {
                e && "string" == typeof e ? this.user_unique_id = e : Nr.error("user_unique_id 格式错误")
            }
        }, {
            key: "doReportOnEnterBackground", value: function () {
                var e = this;
                wx.onHide(function () {
                    var t, n;
                    null == (t = e.actionReporter) || t.flushSend(), null == (n = e.queueManage) || n.reportLostNum()
                })
            }
        }, {
            key: "getTrackBaseInfo", value: function () {
                var e = Tr();
                return Object.assign({}, this.deviceInfo, function (e) {
                    var t = {};
                    return ["user_action_set_id", "appid", "openid", "secret_key", "user_unique_id", "unionid"].forEach(function (n) {
                        k(e, n) && (t[n] = e[n])
                    }), t
                }(this.config), {
                    local_id: Ir(),
                    sdk_name: this.sdk_name,
                    sdk_version: this.sdk_version,
                    openid: this.openid || br(),
                    unionid: this.unionid,
                    user_unique_id: this.user_unique_id,
                    inner_param: {app_env_version: e.envVersion, app_version: e.version}
                })
            }
        }, {
            key: "createAction", value: function (e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                null != t && t[ji] && delete t[ji];
                var r = Date.now();
                null != t && t[Vi] && (r = null == t ? void 0 : t[Vi], delete t[Vi]);
                var i = {
                    action_id: w(),
                    action_param: t,
                    action_time: r,
                    action_type: e,
                    is_retry: !1,
                    is_sdk_auto_track: n,
                    retry_count: 0,
                    revised_action_time: kr.getRevisedcurrentTimeMillis(),
                    log_id: ++this.log_id,
                    session_id: this.session_id,
                    pkg_channel_id: this.gameInfo.pkg_channel_id,
                    source_scene: this.gameInfo.source_scene,
                    network_type: wr(),
                    ad_trace_id: this.gameInfo.ad_trace_id,
                    channel: this.getChannelByActionType(e)
                };
                return null != t && t[this.special_method_symbol] && (this.addActionInnerParam(i, "is_special_method", !0), delete t[this.special_method_symbol]), ti.getChannelClaimActionList().indexOf(e) > -1 && this.gameInfo.launch_options && this.addActionInnerParam(i, "launch_options", this.gameInfo.launch_options), i
            }
        }, {
            key: "addActionInnerParam", value: function (t, n, r) {
                t.inner_param && Ar(t.inner_param) ? t.inner_param[n] = r : t.inner_param = e({}, n, r)
            }
        }, {
            key: "getChannelByActionType", value: function (e) {
                var t = "";
                return ti.getChannelClaimActionList().indexOf(e) > -1 ? t = this.gameInfo.channel || "" : ti.getNoClaimActionList().indexOf(e) > -1 && (t = "UNKNOWN"), t
            }
        }, {
            key: "reportLog", value: function (e) {
                var t, n, r = {
                    user_action_set_id: null == (t = this.config) ? void 0 : t.user_action_set_id,
                    appid: null == (n = this.config) ? void 0 : n.appid,
                    session_id: this.session_id
                };
                v(Object.assign(r, e))
            }
        }, {
            key: "useAutoTrack", value: function () {
                var e;
                if (null != (e = this.config) && e.auto_track) {
                    var t = !0, n = yr.getSync(ar);
                    (null == n ? void 0 : n.ap) === gr ? t = !0 : (null == n ? void 0 : n.ap) === vr && (t = !1), "devtools" === _r().wx_platform && (t = !0), (new Ri).install(this, t ? "all" : "lifecycle"), ni(), t && ui(), this.getAutoProxyRemoteConfig()
                }
            }
        }, {
            key: "getAutoProxyRemoteConfig", value: function () {
                var e, t, n = _r();
                n.os && n.os_version && null != (e = this.config) && e.user_action_set_id && function (e) {
                    return new Promise(function (t) {
                        wx.request({
                            method: "POST",
                            url: "https://api.datanexus.qq.com/data-nexus-config/v1/sdk/minigame/get",
                            data: e,
                            timeout: lr.requestTimeout,
                            success: function (e) {
                                y(e, t, "minigame/get"), I(e)
                            },
                            fail: function (e) {
                                _(e, "minigame/get")
                            }
                        })
                    })
                }({
                    conf_name: "MG",
                    conf_param: {
                        user_action_set_id: null == (t = this.config) ? void 0 : t.user_action_set_id,
                        sdk_version: this.sdk_version,
                        os_type: (null == n ? void 0 : n.os) || "",
                        os_version: Lr(n.os_version),
                        device_brand: (null == n ? void 0 : n.device_brand) || "",
                        weixin_lib_version: (null == n ? void 0 : n.wx_lib_version) || "",
                        weixin_version: (null == n ? void 0 : n.wx_version) || ""
                    }
                }).then(function (e) {
                    Ar(e) && yr.setSync(ar, e)
                })
            }
        }, {
            key: "saveValidOpenidToStorage", value: function () {
                this.openid && function (e) {
                    return /^[a-zA-Z0-9_-]{28,30}$/.test(e)
                }(this.openid) && yr.setSync(cr, this.openid)
            }
        }], [{
            key: "setRequestConcurrency", value: function (e) {
                Oi.setRequestConcurrency(e)
            }
        }, {
            key: "setDebug", value: function (e) {
                Nr.debug = e
            }
        }]), t
    }();
    Hi[Fi] = [], qi([S, qr], Hi.prototype, "track", 1), qi([S, qr], Hi.prototype, "flush", 1), qi([S], Hi.prototype, "setOpenId", 1), qi([S], Hi.prototype, "setUnionId", 1), qi([S], Hi.prototype, "setUserUniqueId", 1), qi([S], Hi.prototype, "doReportOnEnterBackground", 1), qi([S], Hi.prototype, "getTrackBaseInfo", 1), qi([S], Hi.prototype, "useAutoTrack", 1);
    var Gi = {}, Wi = JSON, Bi = "activity", Ki = "brightness", zi = "channel", Qi = "check", Ji = "client",
        Yi = "code", Xi = "comb", $i = "cost", Zi = "custom", eo = "data", to = "fail", no = "from", ro = "game",
        io = "get", oo = "id", ao = "info", so = "is", co = "line", uo = "list", lo = "log", fo = "login",
        ho = "message", po = "mini", go = "network", vo = "on", mo = "open", yo = "order", _o = "orig", Io = "pay",
        wo = "platform", bo = "player", To = "position", ko = "preview", So = "query", Ao = "request", Co = "scene",
        Eo = "screen", xo = "sdk", Oo = "send", Ro = "session", Po = "set", Mo = "setting", Do = "share", Lo = "#",
        No = "show", Uo = "storage", qo = "subscribe", Fo = "subscriptions", jo = "success", Vo = "sync", Ho = "system",
        Go = "time", Wo = "type", Bo = "unique", Ko = "user", zo = "version", Qo = "wall", Jo = "length", Yo = "push",
        Xo = "unshift", $o = "slice", Zo = "join", ea = "forEach", ta = "listener";
    V(Ko, ao), V(Ao, ao);
    var na = Go + "s";
    V(Ao, na), V("download", na), W("dis", V("connect", na));
    var ra = "env", ia = W("h", xo);
    V(ro, oo), V(Xi, ro, oo);
    var oa = V("sub", ro, oo);
    V(ro, "tp"), V(no, ro, oo), V(no, Ko, oo), V("ad", no), V(so, no, zi), V(Ho, "string"), V(wo, "string"), V("wx", Ho, ao);
    var aa = zo;
    V(ro, zo), V("device", Bo, oo), V("swap", Go + "s");
    var sa = wo, ca = zi, ua = V(_o, ro, oo), la = V(_o, Bo, oo), da = V(_o, zi), fa = V("extra", eo),
        ha = V(Do, "config", oo), pa = V(Bi, oo), ga = V("box", Yi), va = V(Qo, Yi), ma = V("page", So),
        ya = B("h", V(Do, Yi)), _a = V(mo, oo), Ia = V(so, "new", Ko);
    V(wo, oo);
    var wa = V("event", "name");
    V("event", Wo), V(Zi, eo), V(Ji, ao), V("distinct", oo), V(lo, "source"), B(po, xo), W(lo, "s");
    V(lo, oo), V(So, "raw"), V(lo, Wo), V(Eo, "height"), V(Eo, "width"), V("benchmark", "level"), V("pixel", "ratio");
    V("crypt", zo), V("raw", eo), V(so, "weak"), V(so, "force"), V("force", "auth"), V("sys", ao), V("entry", "alias"), V("encrypted", eo);
    var ba = V("env", V(Bo, oo));
    V(Ko, oo), V(fo, ao), V(Xi, Ko), V(Xi, xo, ao), V("env", Xi, xo, ao), V(Ao, "body", ao), V("has", Ko, ao);
    V(Ko, eo), V(so, "auth"), W(fo, jo), W(fo, to), V("save", Go), V(vo, fo, ao), V("encrypt", Ko, ao), V(Ko, xo), V(yo, oo), V(ko, "img"), V(Ki), V(Po, Eo, Ki), V(io, Eo, Ki), V("battery"), V(go, Wo), V("hideDuration"), V("plat", Wo), V("mds", Io), V(po, "h5"), V("shell", "jump"), V(po, "h5", "qr"), W(yo, jo), W(yo, to), W(xo, jo), W(xo, to), B("h5", Io), B("c", Io), B(Io, "state"), B(yo, oo), B(Io, "amount"), B(Io, Wo), B(Io, "callback"), B(Io, jo), B(Io, to), V(Ro, no), V(No, ho, "card"), V(Oo, ho, "title"), V(Oo, ho, "img"), V(Oo, ho, "path"), W(xo, "_", "track", wo), B(ro, "c"), B(xo, "c"), B("app", xo, zo), V(j(xo), zo), B(Ji, zo), B(ro, zo), B(ia, zo), B(xo, Ji), B(xo, "current", zi), B(xo, "first", zi), B(ro, zi), B(ro, "origin", zi), B(xo, Go), W("track", wo), B(xo, "frontend");
    var Ta = V("role", oo);
    W(Lo, "device", "_", "model"), W(Lo, "lib"), W(Lo, "lib", "_", zo), W(Lo, "manufacturer"), W(Lo, go, "_", Wo), W(Lo, "os"), W(Lo, "os", "_", zo), W(Lo, Co), B(Do, "guid"), V(Do, eo), V("image", "url"), V(Do, Co, Wo + "s"), V(vo, Do, "app", ho), V(Do, "app", ho), V(No, Do, "menu"), V(Do, Go + co), V(vo, Do, Go, co), V(Bi, "key"), V("accept", oo, uo), V("reject", oo, uo), V(bo, oo), V(bo, "name"), V(bo, "level"), V("recharge", "total", "amount"), V(bo, "create", Go);
    var ka = Zi + "er";
    V(mo, ka, "service", "conversation"), V(Qo, "key"), V("master", Bo, oo), V(No, "cancel"), V("trace", oo), V("trace", oo, "str"), V(W(vo, co), "total"), V("task", oo), V(Qo, To), V(so, "a", "b", "test");
    var Sa = V(io, Uo, Vo), Aa = V(Po, Uo, Vo);
    V("remove", Uo, Vo);
    var Ca = V(Qi, Ro);
    V(Ca, jo), V(Ca, to), V(Ca, "complete"), V(Ca, $i);
    var Ea = V(Qi, "expired");
    V(Ea, jo), V(Ea, to);
    var xa = V(io, Yi);
    V(xa, jo), V(xa, to), V(xa, $i);
    var Oa = V(Oo, Yi);
    V(Oa, jo), V(Oa, to);
    var Ra = V("post", Ko, ao);
    V(Ra, jo), V(Ra, to), V(vo, "error"), V(vo, "close"), V("start", fo), V("create", Ko, ao, "button"), function () {
        var e = H(arguments);
        e[Yo]("-"), N(G, e)
    }(ro, "notice"), B(mo, Wo), V("tga", ao), B(Ko, Po), V(po, "h5", "qr", Io, ao), V(ko, "image"), V(io, Mo), V(Fo, Mo), V("item", Mo), V("has", qo), V(Ao, qo, Ho, ho), V("msg", Wo, uo), V(so, "agree"), V("with", Fo), V("run", $i), V("init", jo), V("init", $i), V(fo, jo), V(fo, $i), V(V(wo, fo), $i), V(io, ro, Ko, ao), V(so, ro, j("tga"), lo, "use", "role", oo), V(Qi, V(so, "added"), "to", "my", po, "program"), V(ka, eo), V(io, ro, "club", eo), V(eo, Wo, uo), V("add", "component"), V("add", "child"), V(Po, "content", "size"), V(Po, To);
    var Pa = !1, Ma = [], Da = {}, La = "/api/v1/";
    W("/comb-login-server", La, "login"), W("/comb-pay-server", La, "order/pay/mini"), W("/htlog", La, "log/comb"), W("/comb-ad-server", La, "combAd"), W("/comb-custom-switch-server", La, "switch/multi/status"), W("/subscribe-server", La, "msg"), W("/customer", La, "gs/new/comb/", "info"), W("/wall", La), W("/mini", La, "log/multi"), W("/apm", La, "collect");
    var Na = function (e, t) {
        return function (e, t, n, r) {
            return void 0 === t && (t = {}), void 0 === r && (r = {}), i = function (n, i) {
                var o;
                wx.request(((o = {url: e, method: "POST", enableHttp2: !0, data: t, header: r}).success = function (e) {
                    try {
                        0 == e.data.meta.errCode ? n(e.data.data) : i(e.data.meta)
                    } catch (t) {
                        i(e)
                    }
                }, o.fail = function (e) {
                    i(e)
                }, o))
            }, new Promise(function (e, t) {
                i(e, t)
            });
            var i
        }(e, t)
    }, Ua = {
        GameCharacterCreatedFistTime: "game_character_created_first_time",
        GameCharacterCreatedNotFirstTime: "game_character_created_not_first_time",
        TutorialFinish: "tutorial_finish",
        PaySuccess: "pay_success",
        LevelUp: "level_up",
        ViewContentMall: "view_content_mall",
        ViewContentActivity: "view_content_activity"
    }, qa = Object.freeze({__proto__: null, BusinessEventName: Ua}), Fa = "$$flow_sdk_", ja = function (e) {
        try {
            return t = wx[Sa](Fa + e), Wi.parse(t)
        } catch (e) {
            return null
        }
        var t
    }, Va = function (e, t) {
        wx[Aa](Fa + e, q(t))
    }, Ha = {};
    Ha[aa] = "0.0.5", Ha.time = "2025/2/6 14:09:43", z("js-sdk", Ha[aa], Ha.time);
    var Ga, Wa, Ba = [], Ka = [], za = !1;
    Wa = {
        listener: function () {
            !function () {
                if (!za) {
                    var e = {user_action_set_id: Da.wxAdSourceId, secret_key: Da.wxAdSecretKey, appid: Da.wxAppId};
                    z("config", e), J({event_type: "INIT", event_extra_info: q(e)}), Ga = new Hi(e), za = !0
                }
            }()
        }
    }, Ka[Yo](Wa[ta]);
    var Qa = !1;
    !function (e) {
        Ma[Yo](e[ta])
    }({
        listener: function () {
            var e;
            Gi[Ia] && (z("isNewUser"), Q({
                path: "register", handler: function (e) {
                    var t;
                    Y(), e.result.callback && (ja(0) || (Va(0, 1), null === (t = null == Ga ? void 0 : Ga.onRegister) || void 0 === t || t.call(Ga), Q({
                        path: "register/callback",
                        params: {callbackResult: !0}
                    }), J({event_type: "REGISTER"})))
                }
            })), Q({
                path: "login", handler: function (e) {
                    var t, n;
                    Y();
                    var r = e.result;
                    r.registerInfo.callback && (1 !== r.registerInfo.callbackType || ja(0) ? 2 === r.registerInfo.callbackType && (null === (n = null == Ga ? void 0 : Ga.track) || void 0 === n || n.call(Ga, "RE_ACTIVE", {backFlowDay: r.registerInfo.backFlowDay}), J({event_type: "RE_ACTIVE"}), Q({
                        path: "register/callback",
                        params: {callbackResult: !0}
                    })) : (Va(0, 1), null === (t = null == Ga ? void 0 : Ga.onRegister) || void 0 === t || t.call(Ga), J({
                        event_type: "REGISTER",
                        event_extra_info: "patch"
                    }), Q({
                        path: "register/callback",
                        params: {callbackResult: !0}
                    }))), r.createRoleInfo.callback && X(Gi[Ta]), r.tutorialInfo.callback && $(), r.payInfo.callbacks && r.payInfo.callbacks.length && (J({
                        event_type: "PURCHASE",
                        event_pay_amount: r.payInfo.callbacks,
                        event_extra_info: "patch"
                    }), r.payInfo.callbacks.forEach(function (e) {
                        var t;
                        null === (t = null == Ga ? void 0 : Ga.onPurchase) || void 0 === t || t.call(Ga, e.money), Q({
                            path: "pay/callback",
                            params: {callbackResult: !0, id: e.id}
                        })
                    }))
                }, params: {version: 1}
            }), z("localOrderList", e = ja(1)), (null == e ? void 0 : e.length) && e.forEach(function (e) {
                Z(e)
            })
        }
    });
    var Ja = [];
    if (F(wx.shareAppMessage)) {
        var Ya = wx.shareAppMessage;
        wx.shareAppMessage = function (e) {
            return Q({
                path: "share", handler: function (e) {
                    var t;
                    e.result.callback && (J({event_type: "SHARE"}), null === (t = null == Ga ? void 0 : Ga.track) || void 0 === t || t.call(Ga, "SHARE", {target: "APP_MESSAGE"}))
                }
            }), z("shareAppMessage"), Ya(e)
        }
    }
    if (F(wx.onShareTimeline)) {
        var Xa = wx.onShareTimeline;
        wx.onShareTimeline = function (e) {
            return Xa(function () {
                return Q({
                    path: "share", handler: function (e) {
                        var t;
                        e.result.callback && (J({event_type: "SHARE"}), null === (t = null == Ga ? void 0 : Ga.track) || void 0 === t || t.call(Ga, "SHARE", {target: "TIME_LINE"}))
                    }
                }), z("onShareTimeline"), e()
            })
        }, wx.onShareTimeline(function () {
        })
    }
    if (F(wx.onShareAppMessage)) {
        var $a = wx.onShareAppMessage;
        wx.onShareAppMessage = function (e) {
            $a(function () {
                return Q({
                    path: "share", handler: function (e) {
                        var t;
                        e.result.callback && (J({event_type: "SHARE"}), null === (t = null == Ga ? void 0 : Ga.track) || void 0 === t || t.call(Ga, "SHARE", {target: "APP_MESSAGE"}))
                    }
                }), z("onShareAppMessage"), e()
            })
        }, wx.onShareAppMessage(function () {
        })
    }
    if (F(wx.onAddToFavorites)) {
        var Za = wx.onAddToFavorites;
        wx.onAddToFavorites = function (e) {
            Za(function () {
                return Q({
                    path: "collect", handler: function (e) {
                        var t;
                        e.result.callback && (J({event_type: "ADD_TO_WISHLIST"}), null === (t = null == Ga ? void 0 : Ga.track) || void 0 === t || t.call(Ga, "ADD_TO_WISHLIST", {type: "default"}))
                    }
                }), z("onAddToFavorites"), e()
            })
        }, wx.onAddToFavorites(function () {
        })
    }
    var es = Object.freeze({
        __proto__: null, business: function (e) {
            var t, n, r, i;
            z("business", e);
            var o = e[wa];
            o === Ua.TutorialFinish ? Q({
                path: "tutorial", handler: function (e) {
                    e.result.callback && $()
                }
            }) : o === Ua.PaySuccess ? Z(null === (t = null == e ? void 0 : e.data) || void 0 === t ? void 0 : t.orderId) : o === Ua.GameCharacterCreatedFistTime || o === Ua.GameCharacterCreatedNotFirstTime ? function (e) {
                Q({
                    path: "createRole", handler: function (t) {
                        t.result.callback && X(e)
                    }, params: {roleId: e}
                })
            }(null === (n = null == e ? void 0 : e.data) || void 0 === n ? void 0 : n.roleId) : o === Ua.LevelUp ? function (e, t) {
                Q({
                    path: "level", handler: function (n) {
                        var r;
                        n.result.callback && (J({event_type: "UPDATE_LEVEL"}), null === (r = null == Ga ? void 0 : Ga.track) || void 0 === r || r.call(Ga, "UPDATE_LEVEL", {
                            level: e,
                            power: t
                        }))
                    }
                })
            }(null === (r = null == e ? void 0 : e.data) || void 0 === r ? void 0 : r.level, null === (i = null == e ? void 0 : e.data) || void 0 === i ? void 0 : i.power) : (o === Ua.ViewContentMall || o === Ua.ViewContentActivity) && function (e) {
                Q({
                    path: "viewContent", handler: function (t) {
                        var n;
                        t.result.callback && (J({event_type: "VIEW_CONTENT"}), null === (n = null == Ga ? void 0 : Ga.track) || void 0 === n || n.call(Ga, "VIEW_CONTENT", {item: e === Ua.ViewContentMall ? "Mall" : "Activity"}))
                    }
                })
            }(o)
        }, initGame: function (e) {
            z("initGame", e), U(Da, e), Ba[ea](function (e) {
                e()
            })
        }, initWxAdSdk: function (e) {
            z("initWxAdSdk", e), U(Da, e), Ka[ea](function (e) {
                e()
            })
        }, login: function (e) {
            Pa || (Pa = !0, z("login", e), U(Gi, e), Ma[ea](function (e) {
                e()
            }))
        }
    }), ts = function (e) {
        var t = e.query, n = function (e) {
            var t, n = {};
            if (e) {
                var r = (t = e, decodeURIComponent(t)).split("&");
                for (var i in r) {
                    var o = r[i].split("=");
                    n[o[0]] = o[1]
                }
            }
            return n
        }(t.scene);
        return function () {
            for (var e = H(arguments), t = "string" == typeof e[0], n = t ? {} : e[0], r = t ? 0 : 1; r < e[Jo]; r += 2) n[e[r]] = e[r + 1];
            return n
        }(ca, K(n[ca], n.c, t[ca], t.c, "hortor"), da, K(n[da], t[da]), ha, K(t[ha]), pa, K(t[pa]), ya, K(t[ya]), ma, K(t.scene), ga, K(n[va], t[va]))
    }, ns = wx.getLaunchOptionsSync();
    ns.custom = ts(ns), q(ns);
    var rs = q(ns.query), is = ns.referrerInfo;
    is && is[fa] && (is[fa][ua], is[fa][la]), wx.onShow(function (e) {
        (ns = e).custom = ts(e)
    }), window.HFLOWSDK = er({
        getQueryRaw: function () {
            return z("queryRaw", rs), rs
        }, handleMsgFromHSDK: function (e, t) {
            void 0 === t && (t = {}), function (e) {
                F(e) && N(e, H(arguments, 1))
            }(es[e], t)
        }
    }, qa);
    var os = {Development: "Dev", Test: "Test", Production: "Prod"}, as = {Ali: 1, TGA: 2, STD: 4, Platform: 8}, ss = {
            Track: "track",
            UserSet: "user_set",
            UserSetOnce: "user_setOnce",
            UserAdd: "user_add",
            UserUnset: "user_unset",
            UserDel: "user_del"
        }, cs = {Text: 1, Image: 2, TextAndImage: 3, Scroll: 4, ScrollAndText: 5, ScrollAndImage: 6, All: 7},
        us = {Login: "login", Register: "register", ResetPass: "resetPass", Binding: "binding"},
        ls = {Friend: 0, Space: 1}, ds = {Session: 0, Timeline: 1, Favorite: 2, SpecifiedSession: 3},
        fs = {Test: 1, Release: 3}, hs = {Release: 0, Development: 1, Experience: 2},
        ps = {Release: 0, Development: 1, Experience: 2},
        gs = {WX: "app-we", QQ: "app-qq", Mobile: "app-mobile", Apple: "app-apple"},
        vs = {QuitGame: 0, SwitchAccount: 1}, ms = {Opened: 1, Closed: 0, NotConfigured: -1}, ys = {
            IconShow: "ICON_SHOW",
            IconClick: "ICON_CLICK",
            PageShow: "PAGE_SHOW",
            JumpCustomer: "JUMP_CUSTOMER",
            PageShowForce: "PAGE_SHOW_FORCE",
            JumpCustomerForce: "JUMP_CUSTOMER_FORCE"
        }, _s = {DaShi: "gs", XiaoMi: "secret"}, Is = {WeChat: "wechat", Customer: "customerSession"},
        ws = {Short: 0, Long: 1}, bs = {
            InitFail: "init_fail",
            LoginFail: "login_fail",
            WxLoginFail: "wx_login_fail",
            PlatformLoginFail: "platform_login_fail",
            PlatformUpdateFail: "platform_update_fail",
            PayFail: "pay_fail",
            CreateOrderFail: "create_order_fail",
            MdsPayFail: "mds_pay_fail",
            MdsPlatformCallbackFail: "mds_platform_callback_fail",
            CustomerPayFail: "customer_pay_fail",
            JumpPayFail: "jump_pay_fail"
        }, Ts = HFLOWSDK.BusinessEventName, ks = {errCode: 500, errMsg: "未知错误"},
        Ss = {errCode: 1e3, errMsg: "网络错误"}, As = "EVT_SDK_READY", Cs = "EVT_ON_SHOW", Es = "EVT_ON_HIDE",
        xs = "EVT_ON_ERROR", Os = "EVT_LOGIN_START", Rs = "EVT_ON_LOGIN", Ps = "EVT_UPDATE_START", Ms = "EVT_ON_UPDATE",
        Ds = "EVT_REPORT_LOG", Ls = "EVT_SET_GAMEUSER", Ns = "Test", Us = "Prod", qs = "PROC_PRE_AGGR",
        Fs = "PROC_REQ_AGGR", js = window || global || {};
    js.$__sdk__ || (js.$__sdk__ = {});
    var Vs = {platform: js.$__sdk__.platform}, Hs = function (e, t) {
            return (Hs = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                e.__proto__ = t
            } || function (e, t) {
                for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
            })(e, t)
        }, Gs = function () {
            return (Gs = Object.assign || function (e) {
                for (var t, n = 1, r = arguments.length; n < r; n++) for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e
            }).apply(this, arguments)
        }, Ws = "1.10.10",
        Bs = "object" == Zn(window.tt) && "object" == Zn(window.wx) && window.tt === window.wx ? (Xe("当前为头条环境, 但是使用的是微信sdk, 请使用头条sdk"), "tt") : "object" == Zn(window.wx) ? "wx" : "debug",
        Ks = {}, zs = {
            _on: function (e, t, n, r) {
                if (void 0 === n && (n = 0), void 0 === r && (r = !1), t) {
                    var i = Ks[e] || [];
                    i.push({priority: n, listener: t, once: r}), Ks[e] = i.sort(function (e, t) {
                        return e.priority < t.priority ? 1 : e.priority > t.priority ? -1 : 0
                    })
                }
            }, once: function (e, t, n) {
                void 0 === n && (n = 0), this._on(e, t, n, !0)
            }, on: function (e, t, n) {
                void 0 === n && (n = 0), this._on(e, t, n, !1)
            }, off: function (e, t) {
                var n = Ks[e];
                n && (n = n.filter(function (e) {
                    return e.listener !== t
                }), Ks[e] = n)
            }, dispatch: function (e, t) {
                this._dispatch(e, t)
            }, _dispatch: function (e, t) {
                var n = Ks[e];
                if (n && !(n.length <= 0)) for (var r = new ie(t), i = 0; i < n.length; i++) {
                    var o = n[i];
                    try {
                        o.listener(r)
                    } catch (t) {
                        Xe("EventBus invoke '" + e + "' exception: ", t)
                    }
                    if (o.once && this.off(e, o.listener), r.isStopped()) break
                }
            }
        }, Qs = {Dev: "-dev", Test: "-test", Prod: ""}, Js = {
            get combHost() {
                var e = Hu.sdkConfig() && Hu.sdkConfig().env || "Prod";
                return "https://comb-platform" + Qs[e] + ".hortorgames.com"
            }, get logHost() {
                var e = Hu.sdkConfig() && Hu.sdkConfig().env || "Prod";
                return "https://platform-stat" + Qs[e] + ".hortorgames.com"
            }, get combKMS() {
                var e = Hu.sdkConfig() && Hu.sdkConfig().env || "Prod";
                return "https://kms-server" + Qs[e] + ".hortorgames.com"
            }, get sAPI() {
                var e = Hu.sdkConfig() && Hu.sdkConfig().env || "Prod";
                return "https://comb-sapi" + Qs[e] + ".hortorgames.com"
            }, get subscribeHost() {
                var e = Hu.sdkConfig() && Hu.sdkConfig().env || "Prod";
                return "https://subscribe" + Qs[e] + ".hortorgames.com"
            }, get combAPI() {
                var e = Hu.sdkConfig() && Hu.sdkConfig().env || "Prod";
                return "https://comb-active" + Qs[e] + ".hortorgames.com/comb-active-server/api/v1/"
            }, get gsHost() {
                var e = Hu.sdkConfig() && Hu.sdkConfig().env || "Prod";
                return "Prod" === e ? "https://comb-platform.hortorgames.com" : "https://community-server" + Qs[e] + ".hortorgames.com"
            }
        }, Ys = "minigame", Xs = "/comb-login-server/api/v1/login", $s = "/comb-share/server/v1/scheme",
        Zs = "/comb-pay-server/api/v1/order/pay/mini/action/login", ec = {
            isFun: function (e) {
                return "function" == typeof e
            }, isNull: function (e) {
                return null == e
            }, toNStr: function (e, t) {
                return void 0 === t && (t = ""), "string" == typeof e ? e : this.toStr(e, t)
            }, toStr: function (e, t) {
                if (void 0 === t && (t = ""), this.isNull(e)) return t;
                try {
                    return JSON.stringify(e)
                } catch (e) {
                    return t
                }
            }, toNumber: function (e, t) {
                void 0 === t && (t = 0);
                try {
                    return Number(e) || t
                } catch (e) {
                    return t
                }
            }, toBoolean: function (e, t) {
                void 0 === t && (t = !1);
                try {
                    return !!JSON.parse(e)
                } catch (n) {
                    return !!e || t
                }
            }, toObject: function (e, t) {
                void 0 === t && (t = void 0);
                try {
                    return JSON.parse(e)
                } catch (e) {
                    return t
                }
            }, isEmpty: function (e) {
                return this.isNull(e) || "" === e
            }, wait: function (e) {
                return new Promise(function (t) {
                    setTimeout(t, e)
                })
            }, toLine: function (e) {
                return e.replace(/([A-Z])/g, "_$1").toLowerCase()
            }, startsWith: function (e, t) {
                return e.slice(0, t.length) === t
            }, endsWith: function (e, t) {
                return -1 !== e.indexOf(t, e.length - t.length)
            }, generateGuid: function () {
                for (var e = [], t = "0123456789abcdef", n = 0; n < 36; ++n) e[n] = t.substr(Math.floor(16 * Math.random()), 1);
                return e[14] = "4", e[19] = t.substr(3 & e[19] | 8, 1), e[8] = e[13] = e[18] = e[23] = "-", e.join("")
            }
        };
    oe.prototype = {
        setTimer: function (e) {
            this.timer = e
        }, getTimer: function () {
            return this.timer
        }
    };
    var tc, nc, rc, ic, oc, ac, sc, uc = {
            getTime: function () {
                return Date.now()
            }, getTimeSec: function () {
                return Math.floor(this.getTime() / 1e3)
            }, todayStart: function (e) {
                var t = e ? new Date(e) : new Date;
                return new Date(t.getFullYear(), t.getMonth(), t.getDate()).getTime()
            }, toMSecond: function (e) {
                return 3600 * e * 1e3
            }, resetInterval: function (e, t) {
                var n = new oe;
                return n.setTimer(setTimeout(function r() {
                    e && !1 !== e() && n.setTimer(setTimeout(r, t))
                }, t)), n
            }, reclearInterval: function (e) {
                var t = e && e.getTimer ? e.getTimer() : null;
                t && (clearTimeout(t), e.setTimer(null))
            }
        }, lc = {
            geVersion: function (e, t) {
                return this._compareVersion(e, t) >= 0
            }, ltVersion: function (e, t) {
                return this._compareVersion(e, t) < 0
            }, _compareVersion: function (e, t) {
                for (var n = e.split("."), r = t.split("."), i = Math.max(n.length, r.length), o = 0; o < i; o++) {
                    var a = parseInt(n[o], 10) || 0, s = parseInt(r[o], 10) || 0;
                    if (a > s) return 1;
                    if (a < s) return -1
                }
                return 0
            }
        }, dc = {
            reset: function (e, t) {
                var n = Object.assign({}, e);
                return Object.keys(t || {}).forEach(function (r) {
                    ec.isNull(e[r]) && !ec.isNull(t[r]) && (n[r] = t[r])
                }), n
            }, copy: function (e, t) {
                if (void 0 === t && (t = []), ec.isNull(e)) return {};
                var n = {};
                return Object.keys(e).forEach(function (r) {
                    t && t.indexOf(r) > -1 || ec.isNull(e[r]) || (n[r] = e[r])
                }), n
            }, deepCopyTo: function (e, t, n, r, i) {
                var o = this;
                return void 0 === n && (n = 0), void 0 === r && (r = []), void 0 === i && (i = 0), null === e || "object" != (void 0 === e ? "undefined" : Zn(e)) || !t || 0 !== n && i >= n ? e : (Object.keys(e).forEach(function (a) {
                    r && r.indexOf(a) > -1 || (t[a] = o.deepCopyTo(e[a], t[a], n, r, ++i))
                }), t)
            }, queryToJson: function (e) {
                if (ec.isEmpty(e)) return {};
                try {
                    var t = {};
                    return decodeURIComponent(e).split("&").forEach(function (e) {
                        if (e && e.split) {
                            var n = e.split("=");
                            t[n[0]] = n[1]
                        }
                    }), t
                } catch (e) {
                    return {}
                }
            }, jsonToQuery: function (e, t) {
                if (ec.isNull(e)) return "";
                try {
                    var n = [];
                    return Object.keys(e).forEach(function (r) {
                        if (!ec.isNull(e[r])) {
                            var i = t ? encodeURIComponent(e[r]) : e[r];
                            n.push(r + "=" + i)
                        }
                    }), n.join("&")
                } catch (e) {
                    return ""
                }
            }, addToQuery: function (e, t) {
                var n = this.queryToJson(e), r = this.reset(n, t);
                return this.jsonToQuery(r)
            }, defineProperty: function (e, t, n) {
                if (e) {
                    var r = "function" == typeof e[t] ? e[t].bind(e) : e[t];
                    Object.defineProperty(e, t, {value: n(r)})
                }
            }
        }, fc = Gs(Gs(Gs(Gs(Gs({}, ec), uc), lc), {
            pkgError: function (e, t) {
                return {errCode: e && e.errCode || t.errCode, errMsg: e && (e.errMsg || e.message) || t.errMsg}
            }
        }), dc),
        hc = null === (rc = null === (nc = null === (tc = se()) || void 0 === tc ? void 0 : tc.system) || void 0 === nc ? void 0 : nc.toLowerCase()) || void 0 === rc ? void 0 : rc.startsWith("ios"),
        pc = Object.freeze({
            __proto__: null,
            canUse: ae,
            getSystemInfo: se,
            isAppleOS: hc,
            getSystemStr: ce,
            getNetStatus: ue,
            getNetworkType: le,
            onNetworkStatusChange: de,
            _onNetChange: fe,
            _handleOffNetChange: he,
            getNotchInfo: pe,
            checkPlatform: ge,
            isAndroid: function () {
                return ge("android")
            },
            isIOS: ve,
            isPC: me
        }), gc = {
            request: function (e, t, n, r, i, o) {
                return void 0 === o && (o = !0), te(this, void 0, void 0, function () {
                    var a, s, c, u, l, d, f;
                    return ne(this, function (h) {
                        switch (h.label) {
                            case 0:
                                a = null, h.label = 1;
                            case 1:
                                return h.trys.push([1, 3, , 4]), s = Object.assign({}, i, {"content-type": o ? "application/json" : "application/x-www-form-urlencoded"}), c = this._jointQuery(t, n || {}), [4, Vs.platform.network.request(e, c, r, s)];
                            case 2:
                                return u = h.sent(), l = u.data, d = void 0 === l ? {} : l, this._checkRespValid(u) ? [2, {
                                    meta: d.meta,
                                    data: d.data
                                }] : (a = d.meta, [3, 4]);
                            case 3:
                                return Xe("request get failed", f = h.sent()), a = f, [3, 4];
                            case 4:
                                return [4, this._onFailed(a)];
                            case 5:
                                return [2, h.sent()]
                        }
                    })
                })
            }, get: function (e, t) {
                return void 0 === t && (t = null), this.request("GET", e, t)
            }, post: function (e, t, n) {
                return void 0 === n && (n = null), this.request("POST", e, n, t, {}, !0)
            }, postText: function (e, t, n) {
                return te(this, void 0, void 0, function () {
                    var r, i, o, a, s, c, u;
                    return ne(this, function (l) {
                        switch (l.label) {
                            case 0:
                                r = null, l.label = 1;
                            case 1:
                                return l.trys.push([1, 3, , 4]), i = {"content-type": "text/plain"}, o = this._jointQuery(e, n || {}), [4, Vs.platform.network.request("POST", o, t, i)];
                            case 2:
                                return a = l.sent(), s = a.data, c = void 0 === s ? {} : s, this._checkRespValid(a) ? [2, {
                                    meta: c.meta,
                                    data: c.data
                                }] : (r = c.meta, [3, 4]);
                            case 3:
                                return Xe("request get failed", u = l.sent()), r = u, [3, 4];
                            case 4:
                                return [4, this._onFailed(r)];
                            case 5:
                                return [2, l.sent()]
                        }
                    })
                })
            }, postForm: function (e, t, n) {
                return void 0 === n && (n = null), this.request("POST", e, n, t, {}, !1)
            }, _onFailed: function (e) {
                var t = e && e.errCode ? e : Ss;
                return Je("--- net error ---", e, t), Promise.reject(t)
            }, _checkRespValid: function (e) {
                return 200 === e.statusCode && e.data && (!e.data.meta || 0 === e.data.meta.errCode)
            }, _jointQuery: function (e, t) {
                return Object.keys(t).forEach(function (n, r) {
                    var i = 0 === r && e.indexOf("?") < 0 ? "?" : "&";
                    e += "" + i + n + "=" + t[n]
                }), e
            }
        }, vc = {
            getString: function (e, t) {
                return void 0 === t && (t = ""), this._get(e, function (e) {
                    return fc.toStr(e, t)
                })
            }, getNumber: function (e, t) {
                return void 0 === t && (t = 0), this._get(e, function (e) {
                    return fc.toNumber(e, t)
                })
            }, getBoolean: function (e, t) {
                return void 0 === t && (t = !1), this._get(e, function (e) {
                    return fc.toBoolean(e, t)
                })
            }, get: function (e, t) {
                return void 0 === t && (t = void 0), this._get(e, function (e) {
                    return fc.toObject(e, t)
                })
            }, set: function (e, t) {
                return this._set(e, t)
            }, remove: function (e) {
                return Vs.platform.storage.removeStorage(e)
            }, clear: function () {
                return Vs.platform.storage.clearStorage()
            }, _get: function (e, t) {
                return t(Vs.platform.storage.getStorage(e))
            }, _set: function (e, t) {
                var n = fc.toStr(t);
                return Vs.platform.storage.setStorage(e, n)
            }
        }, mc = !1;
    mc || (mc = !0, zs.on(Cs, function (e) {
        ke(e.data)
    }));
    var yc = {run: Date.now()}, _c = "activity", Ic = "brightness", wc = "channel", bc = "check", Tc = "client",
        kc = "code", Sc = "comb", Ac = "cost", Cc = "data", Ec = "fail", xc = "from", Oc = "game", Rc = "get",
        Pc = "h5", Mc = "id", Dc = "info", Lc = "is", Nc = "line", Uc = "list", qc = "log", Fc = "login",
        jc = "message", Vc = "mini", Hc = "network", Gc = "on", Wc = "open", Bc = "order", Kc = "orig", zc = "pay",
        Qc = "platform", Jc = "player", Yc = "position", Xc = "preview", $c = "qr", Zc = "request", eu = "screen",
        tu = "sdk", nu = "send", ru = "session", iu = "set", ou = "setting", au = "share", su = "#", cu = "show",
        uu = "storage", lu = "subscribe", du = "subscriptions", fu = "success", hu = "sync", pu = "system", gu = "time",
        vu = "type", mu = "unique", yu = "user", _u = "version", Iu = "wall", wu = "length", bu = "push", Tu = "slice";
    je(yu, Dc), je(Zc, Dc);
    var ku = gu + "s";
    je(Zc, ku), je("download", ku), Ge("dis", je("connect", ku));
    var Su = Fc, Au = Ge("h", tu);
    je(Oc, Mc), je(Sc, Oc, Mc);
    var Cu = je("sub", Oc, Mc);
    je(Oc, "tp"), je(xc, Oc, Mc), je(xc, yu, Mc), je("ad", xc), je(Lc, xc, wc), je(pu, "string"), je(Qc, "string"), je("wx", pu, Dc);
    var Eu = je(Oc, _u);
    je("device", mu, Mc), je("swap", gu + "s"), je(Kc, Oc, Mc), je(Kc, mu, Mc), je(Kc, wc), je("extra", Cc), je(au, "config", Mc), je(_c, Mc), je("box", kc), je(Iu, kc), je("page", "query"), We("h", je(au, kc));
    var xu = je(Wc, Mc);
    je(Qc, Mc), je("event", "name"), je("event", vu), je("custom", Cc), je(Tc, Dc), je("distinct", Mc), je(qc, "source"), We(Vc, tu), Ge(qc, "s"), je(qc, Mc), je("query", "raw"), je(qc, vu), je(eu, "height"), je(eu, "width"), je("benchmark", "level"), je("pixel", "ratio"), je("crypt", _u), je("raw", Cc), je(Lc, "weak"), je(Lc, "force"), je("force", "auth"), je("sys", Dc), je("entry", "alias"), je("encrypted", Cc);
    var Ou = je(mu, Mc);
    je(yu, Mc), je(Fc, Dc), je(Sc, yu);
    var Ru = je(Sc, tu, Dc);
    je("env", Sc, tu, Dc), je(Zc, "body", Dc), je("has", yu, Dc), je(yu, Cc), je(Lc, "auth"), Ge(Fc, fu), Ge(Fc, Ec), je("save", gu), je(Gc, Fc, Dc), je("encrypt", yu, Dc), je(yu, tu), je(Bc, Mc), je(Xc, "img"), je("cancel", "text"), je(Ic), je(iu, eu, Ic), je(Rc, eu, Ic), je("battery"), je(Hc, vu), je("hideDuration"), je("plat", vu), je("mds", zc), je(Vc, Pc), je("shell", "jump"), je(Vc, Pc, $c), Ge(Bc, fu), Ge(Bc, Ec), Ge(tu, fu), Ge(tu, Ec), We(Pc, zc), We("c", zc), We(zc, "state"), We(Bc, Mc), We(zc, "amount"), We(zc, vu), We(zc, "callback"), We(zc, fu), We(zc, Ec), je(ru, xc), je(cu, jc, "card"), je(nu, jc, "title"), je(nu, jc, "img"), je(nu, jc, "path"), Ge(tu, "_", "track", Qc), We(Oc, "c"), We(tu, "c"), We("app", tu, _u), je(Fe(tu), _u), We(Tc, _u), We(Oc, _u), We(Au, _u), We(tu, Tc), We(tu, "current", wc), We(tu, "first", wc), We(Oc, wc), We(Oc, "origin", wc), We(tu, gu), Ge("track", Qc), We(tu, "frontend"), je("role", Mc), Ge(su, "device", "_", "model"), Ge(su, "lib"), Ge(su, "lib", "_", _u), Ge(su, "manufacturer"), Ge(su, Hc, "_", vu), Ge(su, "os"), Ge(su, "os", "_", _u), Ge(su, "scene"), We(au, "guid"), je(au, Cc), je("image", "url"), je(au, "scene", vu + "s"), je(Gc, au, "app", jc), je(au, "app", jc), je(cu, au, "menu"), je(au, gu + Nc), je(Gc, au, gu, Nc), je(_c, "key"), je("accept", Mc, Uc), je("reject", Mc, Uc), je(Jc, Mc), je(Jc, "name"), je(Jc, "level"), je("recharge", "total", "amount"), je(Jc, "create", gu);
    var Pu = "customer";
    je(Wc, Pu, "service", "conversation"), je(Iu, "key"), je("master", mu, Mc), je(cu, "cancel"), je("trace", Mc), je("trace", Mc, "str"), je(Ge(Gc, Nc), "total"), je("task", Mc), je(Iu, Yc), je(Lc, "a", "b", "test"), je(Rc, uu, hu), je(iu, uu, hu), je("remove", uu, hu);
    var Mu = je(bc, ru);
    je(Mu, fu), je(Mu, Ec), je(Mu, "complete"), je(Mu, Ac);
    var Du = je(bc, "expired");
    je(Du, fu), je(Du, Ec);
    var Lu = je(Rc, kc);
    je(Lu, fu), je(Lu, Ec), je(Lu, Ac);
    var Nu = je(nu, kc);
    je(Nu, fu), je(Nu, Ec);
    var Uu = je("post", yu, Dc);
    je(Uu, fu), je(Uu, Ec), je(Gc, "error"), je(Gc, "close"), je("start", Fc), je("create", yu, Dc, "button"), function () {
        var e = Ve(arguments);
        e[bu]("-"), Re(He, e)
    }(Oc, "notice"), We(Wc, vu), je("tga", Dc), We(yu, iu), je(je(Vc, Pc, $c, zc), Dc), je(je(Vc, Pc, "IOS", $c, "wx", zc), Dc), je(je(Vc, Pc, "IOS", $c, "ali", zc), Dc), je(je(Vc, Pc, "IOS", $c, "mix", zc), Dc), je(je(Vc, Pc, "IOS", "link", "wx", zc), Dc), je(je(Vc, Pc, "IOS", "link", "ali", zc), Dc), je(je(Vc, Pc, "IOS", "link", "mix", zc), Dc), je(Xc, "image"), je(Rc, ou), je(du, ou), je("item", ou), je("has", lu), je(Zc, lu, pu, jc), je("msg", vu, Uc), je(Lc, "agree"), je("with", du), je("run", Ac), je("init", fu), je("init", Ac), je(Fc, fu), je(Fc, Ac), je(je(Qc, Fc), Ac), je(Rc, Oc, yu, Dc), je(Lc, Oc, Fe("tga"), qc, "use", "role", Mc), je(bc, je(Lc, "added"), "to", "my", Vc, "program"), je(Pu, Cc), je(Rc, Oc, "club", Cc), je(Cc, vu, Uc), je("add", "component"), je("add", "child"), je(iu, "content", "size"), je(iu, Yc);
    var qu = "business", Fu = je("env", Ou), ju = je(Lc, "new", yu), Vu = JSON, Hu = {
            _hasInitSuccess: !1, _canTry: !0, config: {}, init: function (e) {
                var t = this;
                return e.wxAppId ? e.wxAdSourceId ? e.wxAdSecretKey ? (Qe("initWxAdSdk", Pe("wxAppId", e.wxAppId, "wxAdSourceId", e.wxAdSourceId, "wxAdSecretKey", e.wxAdSecretKey)), yc.init = Date.now(), yc.runCost = yc.init - yc.run, this._checkValid(e) ? (this.config = Object.assign({}, e), this._print(e), this._canTry ? (this._canTry = !1, setTimeout(function () {
                    t._canTry = !0
                }, 3e3), ye(this._comb2Sub.bind(this), 3)) : Promise.reject({errMsg: "wait to init"})) : Promise.reject()) : Promise.reject({errMsg: "wxAdSecretKey is required"}) : Promise.reject({errMsg: "wxAdSourceId is required"}) : Promise.reject({errMsg: "wxAppId is required"})
            }, get storagePrefix() {
                return (this.config.combGameId || this.config.gameId) + "_" + this.config.env + "_hsdk_"
            }, get deviceId() {
                var e = this.storagePrefix + "deviceId";
                if (vc.get(e)) return vc.get(e);
                var t = Math.random().toString(36).slice(-8);
                return vc.set(e, t), t
            }, _comb2Sub: function () {
                var e = this, t = this.sdkConfig(), n = t.gameId, r = t.gameVersion,
                    i = Js.combHost + "/comb-login-server/api/v1/login/crypt/mix?combGameId=" + n + "&gameTp=minigame&system=" + (ve() ? "ios" : "android") + "&version=" + r + "&deviceUniqueId=" + this.deviceId;
                return new Promise(function (t, n) {
                    gc.get(i).then(function (i) {
                        var o;
                        if (0 === (null === (o = null == i ? void 0 : i.meta) || void 0 === o ? void 0 : o.errCode) && (null == i ? void 0 : i.data)) {
                            var a = i.data, s = a.subGameId, c = a.cryptRule;
                            e.config.combGameId = e.config.gameId, e.config.gameId = s, e.config.cryptRule = c, zs.dispatch(As, e.config), e._hasInitSuccess = !0, yc.initSuccess = Date.now(), yc.initCost = yc.initSuccess - yc.init, Qe("initGame", Pe(Cu, s, Eu, r, "env", e.config.env)), t(!0)
                        } else n(i)
                    }).catch(function (e) {
                        xe(bs.InitFail, e), n(e)
                    })
                })
            }, sdkConfig: function () {
                return this.config || {}
            }, get option() {
                return this.config
            }, _checkValid: function (e) {
                return this._hasInitSuccess ? (Xe("already initiated"), !1) : !!this._checkConfigValid(e) || (function (e) {
                    for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                    Hu.sdkConfig().isHideLog || console.error.apply(console, re([Bu(e)], t))
                }("initiate failed, please check config!"), !1)
            }, _checkConfigValid: function (e) {
                return e.env && e.gameId && e.gameVersion
            }, _print: function (e) {
                Ye("/*************************/"), Ye(" SDK Version: " + Ws), Ye(" SDK Release Time: 3/4/2025, 3:44:34 PM"), Ye(" Platform: wx"), Ye(" Api Type: new_promise_mix"), Ye(" Env: " + e.env), Ye(" Game ID: " + e.gameId), Ye(" Game Version: " + e.gameVersion), Ye(" Private Share: " + e.usePrivateShare), Ye("/*************************/")
            }
        }, Gu = {Debug: 1, Info: 2, Warn: 3, Error: 4}, Wu = Gu.Debug, Bu = function (e) {
            return "[HSDK] " + e
        }, Ku = {}, zu = "__sdk_fail_logs_native", Qu = {errCode: 1001, errMsg: "微信Code获取失败"},
        Ju = {errCode: 1002, errMsg: "支付取消"}, Yu = {errCode: 1003, errMsg: "支付失败"},
        Xu = {errCode: 1003, errMsg: "支付失败，暂不支持该平台"}, $u = {errCode: 1005, errMsg: "拒绝授权获取用户信息"},
        Zu = {errCode: 1006, errMsg: "需要用户授权"}, el = {errCode: 1007, errMsg: "获取用户信息失败"},
        tl = {errCode: 20002, errMsg: "订单数据不全，请传入创建订单返回的全部数据"},
        nl = {errCode: 20008, errMsg: "当前版本不支持使用动态分享"}, rl = {errCode: 20009, errMsg: "频繁调用分享"},
        il = {errCode: 3e4, errMsg: "方法暂不支持"}, ol = {errCode: 30001, errMsg: "传参错误"},
        al = {errCode: 30002, errMsg: "未登录"}, sl = {errCode: 30003, errMsg: "已销毁"},
        cl = {errCode: 1004, errMsg: "暂无广告"}, ul = {errCode: 1005, errMsg: "微信广告单元id参数必填"},
        ll = {errCode: 1006, errMsg: "无效hortor视频广告"},
        dl = {errCode: -1, errMsg: "还没有初始化，请在初始化后调用接口"}, fl = "EVT_SESSION", hl = "EVT_WX_LOGIN",
        pl = "EVT_TRACK_LOGIN", gl = "EVT_NEED_AUTH", vl = "EVT_ON_AUTH", ml = "EVT_AUTH_DENY", yl = "EVY_PAY_FAIL",
        _l = "EVT_SHARE_START", Il = "EVT_SHARE_END", wl = "EVT_SHARE_TIME_START", bl = "EVT_SHARE_TIME_END",
        Tl = "EVT_SHARE_FRIEND", kl = "EVT_VIDEO_AD_PLAY_START", Sl = "EVT_VIDEO_AD_PLAY_FINISH",
        Al = "EVT_VIDEO_AD_ERROR", Cl = "EVT_INTERSTITIAL_AD_SHOW", El = "EVT_HORTOR_AD_PLAY_SUCCESS", xl = "sharing",
        Ol = function () {
            var e = Ee();
            return "__sdk_login_native_" + e.gameId + "_" + e.env + "_1.9.0"
        }, Rl = function () {
            return vc.get(Ol(), null)
        }, Pl = void 0, Ml = {}, Dl = !1, Ll = !1, Nl = {
            clearUserInfo: function () {
                return vc.remove(Ol())
            }, get combUserInfo() {
                return this.getUserInfo(!1) || this.getUserInfo(!0) || {envCombSdkInfo: null, combSdkInfo: {}}
            }, get envUniqueId() {
                var e, t;
                return (null === (e = this.combUserInfo.envCombSdkInfo) || void 0 === e ? void 0 : e.uniqueId) || (null === (t = this.combUserInfo.combSdkInfo) || void 0 === t ? void 0 : t.uniqueId)
            }, get openId() {
                return this.combUserInfo.combSdkInfo.userId
            }, get uniqueId() {
                return this.combUserInfo.combSdkInfo.uniqueId
            }, getFlowIsNewUser: function () {
                if (!Ll) {
                    Ll = !0;
                    var e = "HasSendFlowSdkIsNewUser";
                    this.combUserInfo[Ru][ju] && !vc.get(e) && (vc.set(e, 1), Dl = !0)
                }
                return Dl
            }, getUserInfo: function (e) {
                var t = Rl() || {}, n = t.userInfo, r = t.saveTime;
                if (!n || !r) return null;
                var i = ((n || {}).userSdk || {}).hasUserInfo;
                if (!e && !i) return null;
                var o = Ee().expireTime || 86400, a = fc.getTimeSec();
                return r + o < a || r > a ? null : n
            }, setUserInfo: function (e) {
                var t = e || {}, n = t.encryptUserInfo, r = t.userSdk;
                if (!n) return !1;
                var i = {userInfo: e, saveTime: fc.getTimeSec()};
                vc.set(Ol(), i), i.userInfo = Object.assign(e, {userSdk: this._inheritOldData(r)})
            }, _inheritOldData: function (e) {
                var t = this.getTempUser();
                if (!t || !e) return e;
                var n = t.isNewUser;
                return fc.isNull(n) || (e.isNewUser = !!n), e
            }, getSDKUserInfo: function () {
                var e = ((Rl() || {}).userInfo || {}).userSdk;
                return e && (e.gameUser = this.getGameUser()), e
            }, updateIsNewUser: function () {
                var e = Rl();
                e.userInfo.userSdk.isNewUser = !1, vc.set(Ol(), e)
            }, setTempUser: function (e) {
                var t = (e || {}).userSdk;
                Pl = t ? this._inheritOldData(t) : null
            }, getTempUser: function () {
                if (!Pl) {
                    var e = ((Rl() || {}).userInfo || {}).userSdk;
                    Pl = e || null
                }
                return Pl
            }, setGameUser: function (e) {
                Ml = Object.assign(Ml, e), zs.dispatch(Ls, Ml)
            }, getGameUser: function () {
                return Ml
            }
        }, Ul = "sdk_share", ql = "sdk_video_ad_show", Fl = "track", jl = "user_set", Vl = 2, Hl = 4, Gl = {
            INIT: {topic: "", eventType: Fl, eventName: "sdk_init", logType: Vl},
            LOGIN: {topic: "", eventType: Fl, eventName: "sdk_login", logType: Vl},
            AUTH: {topic: "", eventType: jl, eventName: "sdk_auth", logType: Hl},
            OPEN: {topic: "", eventType: Fl, eventName: "sdk_open", logType: Hl},
            CLOSE: {topic: "", eventType: Fl, eventName: "sdk_close", logType: Hl},
            SHARE: {topic: "", eventType: Fl, eventName: Ul, logType: Vl},
            SHARE_END: {topic: "", eventType: Fl, eventName: Ul, logType: Vl | Hl},
            VIDEO_AD_SHOW: {topic: "", eventType: Fl, eventName: ql, logType: Vl},
            VIDEO_AD_END: {topic: "", eventType: Fl, eventName: ql, logType: Vl | Hl},
            BEAT: {topic: "", eventType: Fl, eventName: "sdk_heartbeat", logType: Hl},
            PROFILE: {topic: "", eventType: jl, eventName: "sdk_user_profile", logType: Hl},
            SET_USER_INFO: {topic: "", eventType: jl, eventName: "wx_game_role", logType: Hl},
            SHARE_FRIEND: {topic: "", eventType: Fl, eventName: "sdk_share_to_friend", logType: Vl}
        }, Wl = {};
    Object.keys(Gl).map(function (e) {
        Wl[e] = e, Gl[e].topic = e
    });
    var Bl, Kl = Gl, zl = Wl, Ql = {
        getStorage: function (e) {
            try {
                return wx.getStorageSync(e)
            } catch (e) {
                return null
            }
        }, setStorage: function (e, t) {
            if (fc.isNull(t)) return !1;
            try {
                return wx.setStorageSync(e, t), !0
            } catch (e) {
                return !1
            }
        }, removeStorage: function (e) {
            try {
                return wx.removeStorageSync(e), !0
            } catch (e) {
                return !1
            }
        }, clearStorage: function () {
            try {
                return wx.clearStorageSync(), !0
            } catch (e) {
                return !1
            }
        }
    };
    !function () {
        te(this, void 0, void 0, function () {
            var e;
            return ne(this, function (t) {
                switch (t.label) {
                    case 0:
                        return [4, ue()];
                    case 1:
                        return e = t.sent(), Bl = e.networkType, [2]
                }
            })
        })
    }();
    var Jl = {
        getCommonData: function () {
            return te(this, void 0, void 0, function () {
                var e;
                return ne(this, function (t) {
                    switch (t.label) {
                        case 0:
                            return this.baseData || (this.baseData = this._getBaseData()), [4, this._getChangeData()];
                        case 1:
                            return (e = t.sent()).clientInfo = Object.assign({}, this.baseData ? this.baseData.clientInfo : {}, e.clientInfo || {}), [2, Object.assign({}, this.baseData, e)]
                    }
                })
            })
        }, getLogDataByTopic: function (e, t) {
            switch (e) {
                case Kl.OPEN.topic:
                    return this._getOpenData(t);
                case Kl.AUTH.topic:
                    return this._getAuthData(t);
                case Kl.SHARE.topic:
                    return this._getShareData(t);
                case Kl.SHARE_END.topic:
                    return this._getShareEndData(t);
                case Kl.VIDEO_AD_SHOW.topic:
                    return this._getVideoAdPlayData(t);
                case Kl.VIDEO_AD_END.topic:
                    return this._getVideoAdEndData(t);
                case Kl.LOGIN.topic:
                    return this._getLoginData(t);
                case Kl.BEAT.topic:
                    return this._getHeartbeatData(t);
                case Kl.PROFILE.topic:
                    return this._getUserProfileData(t);
                case Kl.SET_USER_INFO.topic:
                    return this._getGameUserData(t);
                default:
                    return this._getBasicData(t)
            }
        }, refreshDataByTopic: function (e, t) {
            return e === Kl.OPEN.topic ? this._refreshOpenData(t) : t
        }, _getBaseData: function () {
            var e = Ee(), t = e.gameId, n = e.gameVersion, r = se();
            return {
                gameId: t,
                gameVersion: n,
                logSource: "mini-sdk",
                clientInfo: {
                    clientType: "weixin",
                    version: r.version,
                    language: r.language,
                    model: r.model,
                    system: r.system,
                    brand: r.brand,
                    pixelRatio: r.pixelRatio,
                    screenWidth: r.screenWidth,
                    screenHeight: r.screenHeight,
                    platform: r.platform,
                    sdkVersion: r.SDKVersion,
                    hsdkVersion: r.hortorSDKVersion
                }
            }
        }, _getChangeData: function () {
            return te(this, void 0, void 0, function () {
                var e, t, n, r, i, o, a, s;
                return ne(this, function (c) {
                    switch (c.label) {
                        case 0:
                            return e = function () {
                                var e = Ee(), t = e.gameId + "_" + e.env + "_tgaDistinctId", n = Ql.getStorage(t);
                                return n || (n = fc.generateGuid(), Ql.setStorage(t, n)), n
                            }(), t = Nl.getSDKUserInfo() || {}, n = t.uniqueId, r = t.userId, i = t.channel, o = t.gameUser, a = void 0 === o ? {} : o, [4, ue()];
                        case 1:
                            return s = c.sent().networkType, [2, {
                                distinctId: e,
                                platformId: n,
                                openId: r,
                                channel: i,
                                clientInfo: {netType: Bl = s},
                                accountId: a.accountId || ""
                            }]
                    }
                })
            })
        }, _pkg: function (e, t) {
            return {property: e, extra: t}
        }, _getBasicData: function (e) {
            var t, n, r = e || {}, i = r.extend;
            if ("track" === r.eventType) {
                var o = se(), a = Ee(), s = Ce() || {}, c = s.scene, u = s.query, l = void 0 === u ? {} : u,
                    d = (o.platform || "").toLowerCase(), f = (Bl || "WIFI").toUpperCase(),
                    h = Nl.getSDKUserInfo() || {}, p = h.channel;
                i = Object.assign({
                    "#scene": c || 0,
                    "#os": {android: "Android", ios: "iOS", devtools: "devtools"}[d] || d || "",
                    "#os_version": (null == o ? void 0 : o.system.split(" ")[1]) || "",
                    "#screen_height": o.screenHeight || 0,
                    "#network_type": f,
                    "#lib": "weixin",
                    "#lib_version": "1.10.10",
                    "#device_model": o.model,
                    "#manufacturer": o.brand,
                    "#system_language": o.language,
                    sdk_time: Ie(),
                    sdk_client: "minigame",
                    hsdk_version: "1.10.10",
                    client_versioin: o.version,
                    sdk_client_version: o.version,
                    app_sdk_version: o.SDKVersion,
                    game_version: a.gameVersion,
                    sdk_first_channel: p,
                    sdk_current_channel: l.channel || "hortor",
                    game_channel: p,
                    game_origin_channel: l.channel || "hortor",
                    idfa: "",
                    trackplatform: "sdk_frontend"
                }, i || {}), (null === (n = null === (t = null == o ? void 0 : o.model) || void 0 === t ? void 0 : t.toLowerCase()) || void 0 === n ? void 0 : n.includes("ipad")) ? i.sdk_is_ipad = !0 : i.sdk_is_ipad = !1
            }
            return this._pkg(null, i)
        }, _getShareData: function (e) {
            var t = e || {}, n = t.extend, r = t.wx_share_type;
            return this._pkg({event_step: "begin", wx_share_type: r}, n)
        }, _getShareEndData: function (e) {
            var t = e || {}, n = t.shareData, r = t.shareSuccess, i = t.spentTime, o = t.extend, a = t.wx_share_type,
                s = n || {}, c = s.title, u = s.imageUrl, l = s.shareType, d = s.shareConfigId, f = s.shareGuid,
                h = (s.sequenceInfo || {}).modelId;
            return this._pkg({
                share_guid: f || "",
                share_content_id: d || "",
                share_content_title: c || "",
                share_content_img: u || "",
                share_content_type: l || "",
                share_use_time: i || 0,
                event_state: r ? 0 : 1,
                event_step: r ? "suc" : "fail",
                model_algorithm_id: h || "",
                wx_share_type: a
            }, o)
        }, _getVideoAdPlayData: function (e) {
            var t = e || {}, n = t.adUnitId, r = t.playSuccess, i = t.extend;
            return this._pkg({ad_id: n || "", event_step: r ? "suc" : "begin"}, i)
        }, _getVideoAdEndData: function (e) {
            var t = e || {}, n = t.adUnitId, r = t.isEnded, i = t.playFailCode, o = t.spentTime, a = t.sequenceInfo,
                s = t.extend, c = t.adType, u = a || {}, l = u.modelId, d = u.shareGuid,
                f = void 0 === r ? -1 : r ? 0 : 1, h = i ? 1004 === i || 1002 === i ? 2 : 1 : 0 === i ? 0 : 1;
            return this._pkg({
                ad_id: n || "",
                event_state: h,
                ad_close_type: f,
                ad_show_time: o || 0,
                event_step: h ? "fail" : f > 0 ? "abort" : "complete",
                model_algorithm_id: l || "",
                share_guid: d || "",
                ad_type: c || 0
            }, s)
        }, _getGameUserData: function (e) {
            var t = (Ce() || {}).query, n = "toNumber", r = "toNStr", i = {
                roleId: r,
                roleName: r,
                serverId: r,
                level: n,
                vipLevel: n,
                energy: n,
                money1Consume: n,
                teamName: r,
                teamJob: r,
                roleCtime: n,
                id: r,
                wxUnionId: r,
                extend: "",
                accountId: r
            }, o = {query_string: JSON.stringify(t)}, a = (e || {}).extend;
            return Object.keys(i).map(function (t) {
                var n = e[t], r = i[t];
                if (r) {
                    var a = "user_" + fc.toLine(t);
                    o[a] = fc[r](n)
                }
            }), this._pkg(o, a)
        }, _getAuthData: function (e) {
            var t = Nl.getSDKUserInfo() || {}, n = t.name, r = t.sex, i = ((Ce() || {}).query || {}).share_guid,
                o = e || {}, a = o.gender, s = void 0 === a ? r : a, c = o.nickName, u = void 0 === c ? n : c,
                l = o.extend;
            return this._pkg({gender: s || 0, nick: u || "", share_guid: i || ""}, l)
        }, _getOpenData: function (e) {
            var t = Nl.getSDKUserInfo() || {}, n = t.isNewUser, r = t.createdAt;
            n && (Je("change local isNewUser to false"), Nl.updateIsNewUser());
            var i = Ce() || {}, o = i.query, a = i.scene, s = i.coldStart, c = i.referrerInfo, u = (o || {}).share_guid,
                l = e || {}, d = l.isColdStart, f = void 0 === d ? !!s : d, h = l.isNewUser, p = void 0 === h ? n : h,
                g = l.extend, v = Object.assign(o, {referrerInfo: c}), m = this._pkg({
                    is_new_user: p ? 0 : 1,
                    open_type: f ? 0 : 1,
                    source_type: a || 0,
                    share_guid: u || "",
                    query_string: JSON.stringify(v),
                    reg_time: r
                }, g);
            return Je("onShowReport", m), m
        }, _getUserProfileData: function (e) {
            var t = e || {}, n = t.label, r = t.extend;
            return this._pkg({wx_tags_general: n || 0}, r)
        }, _getHeartbeatData: function (e) {
            var t = (e || {}).interval;
            return this._pkg({interval: t || 60})
        }, _getLoginData: function (e) {
            var t = (Nl.getSDKUserInfo() || {}).isNewUser, n = Ce() || {}, r = n.query, i = n.scene,
                o = (r || {}).shareConfigId, a = e || {}, s = a.isNewUser, c = void 0 === s ? t : s, u = a.extend,
                l = this._getBasicData({eventType: "track"});
            return u = Object.assign(l.extra || {}, u || {}), this._pkg({is_new: c, f_share_id: o, wx_scene: i}, u)
        }, _refreshOpenData: function (e) {
            var t = Nl.getSDKUserInfo() || {}, n = t.isNewUser, r = t.createdAt;
            return e && e.property && (e.property.is_new_user = n ? 0 : 1, e.property.reg_time = r), e
        }
    }, Yl = "scope.userInfo", Xl = ae("createUserInfoButton", "2.0.1"), $l = null, Zl = function (e) {
        return new Promise(function (t, n) {
            wx.showModal(Object.assign({success: t, fail: n}, e))
        })
    }, ed = function () {
        function e() {
        }

        return e.decode = function (e, t, n, r, i) {
            var o = t, a = this.transCode(o, n), s = this.getKey(a, r);
            return this.crypto(e, s, s.length >> i)
        }, e.encode = function (e, t, n, r, i) {
            return this.decode(e, t, n, r, i)
        }, e.crypto = function (e, t, n) {
            if (null != e && null != t) {
                for (var r = "", i = 0; i < e.length; i++) n >= t.length && (n = 0), r += String.fromCharCode(e[i].charCodeAt(0) ^ t[n].charCodeAt(0)), n++;
                return r
            }
            return null
        }, e.getKey = function (e, t) {
            for (var n = e, r = "", i = Math.floor(e.length / t), o = 0; o < i; o++) r += n[o * t];
            return r
        }, e.transCode = function (e, t) {
            if (t > 0) {
                t--;
                var n = this.rightSide(e), r = this.leftSide(e);
                return this.transCode(n, t) + this.transCode(r, t)
            }
            return e
        }, e.swap = function (e) {
            return this.rightSide(e) + this.leftSide(e)
        }, e.rightSide = function (e) {
            return e.length % 2 != 0 ? null : e.substring(e.length / 2, e.length)
        }, e.leftSide = function (e) {
            return e.length % 2 != 0 ? null : e.substring(0, e.length / 2)
        }, e
    }(), td = "function" == typeof btoa, nd = "function" == typeof Buffer;
    "function" == typeof TextDecoder && new TextDecoder;
    var rd, id = "function" == typeof TextEncoder ? new TextEncoder : void 0,
        od = Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");
    rd = {}, od.forEach(function (e, t) {
        return rd[e] = t
    });
    var ad = String.fromCharCode.bind(String);
    "function" == typeof Uint8Array.from && Uint8Array.from.bind(Uint8Array);
    var sd, cd = td ? function (e) {
        return btoa(e)
    } : nd ? function (e) {
        return Buffer.from(e, "binary").toString("base64")
    } : function (e) {
        for (var t, n, r, i, o = "", a = e.length % 3, s = 0; s < e.length;) {
            if ((n = e.charCodeAt(s++)) > 255 || (r = e.charCodeAt(s++)) > 255 || (i = e.charCodeAt(s++)) > 255) throw new TypeError("invalid character found");
            o += od[(t = n << 16 | r << 8 | i) >> 18 & 63] + od[t >> 12 & 63] + od[t >> 6 & 63] + od[63 & t]
        }
        return a ? o.slice(0, a - 3) + "===".substring(a) : o
    }, ud = nd ? function (e) {
        return Buffer.from(e).toString("base64")
    } : function (e) {
        for (var t = [], n = 0, r = e.length; n < r; n += 4096) t.push(ad.apply(null, e.subarray(n, n + 4096)));
        return cd(t.join(""))
    }, ld = function (e) {
        if (e.length < 2) return (t = e.charCodeAt(0)) < 128 ? e : t < 2048 ? ad(192 | t >>> 6) + ad(128 | 63 & t) : ad(224 | t >>> 12 & 15) + ad(128 | t >>> 6 & 63) + ad(128 | 63 & t);
        var t = 65536 + 1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320);
        return ad(240 | t >>> 18 & 7) + ad(128 | t >>> 12 & 63) + ad(128 | t >>> 6 & 63) + ad(128 | 63 & t)
    }, dd = /[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g, fd = nd ? function (e) {
        return Buffer.from(e, "utf8").toString("base64")
    } : id ? function (e) {
        return ud(id.encode(e))
    } : function (e) {
        return cd(function (e) {
            return e.replace(dd, ld)
        }(e))
    }, hd = function (e, t) {
        return void 0 === t && (t = !1), t ? function (e) {
            return e.replace(/=/g, "").replace(/[+\/]/g, function (e) {
                return "+" == e ? "-" : "_"
            })
        }(fd(e)) : fd(e)
    }, pd = HFLOWSDK.getQueryRaw(), gd = !1, vd = !1, md = null, yd = null, _d = null, Id = {roleId: ""}, wd = !1;
    Tt({
        listener: function () {
            wd = !0
        }
    });
    var bd = {
        temps: void 0, report: function (e) {
            var t = this._getTempLogs(e && e.logs);
            if (wd && this._clearTempLogs(), t && t.length) {
                var n = Ce().query;
                t.forEach(function (e) {
                    e.extra && (e.extra.queryRaw = JSON.stringify(n))
                });
                var r = Js.logHost + "/htlog/api/v1/log/comb";
                if (t = this._sortByTimeStamp(t), Ee().isGameTGALogUseRoleId) {
                    var i = [], o = [];
                    if (t.forEach(function (e) {
                        var t;
                        "game_c" === (null === (t = null == e ? void 0 : e.extra) || void 0 === t ? void 0 : t.sdk_trackplatform) ? i.push(e) : o.push(e)
                    }), i.length) {
                        i = this._sortByTimeStamp(i);
                        var a = Object.assign({}, e, {logs: i, gameTp: "minigame"});
                        a.platformId = Id.roleId, a.accountId = "", gc.post(r, a).then(function () {
                        }).catch(function () {
                        })
                    }
                    if (o.length) {
                        o = this._sortByTimeStamp(o);
                        var s = Object.assign({}, e, {logs: o, gameTp: "minigame"});
                        s.accountId = "", gc.post(r, s).then(function () {
                        }).catch(function () {
                        })
                    }
                } else {
                    var c = Object.assign({}, e, {logs: t, gameTp: "minigame"});
                    gc.post(r, c).then(function () {
                    }).catch(function () {
                    })
                }
            }
        }, _sortByTimeStamp: function (e) {
            return e.sort(function (e, t) {
                return (null == e ? void 0 : e.timestamp) && (null == t ? void 0 : t.timestamp) ? e.timestamp - t.timestamp : 1
            })
        }, _getTempLogs: function (e) {
            return void 0 === this.temps && wd && (this.temps = vc.get(zu)), this._limitLogs((this.temps || []).concat(e || []))
        }, _setTempLogs: function (e) {
            e.forEach(function (e) {
                e.extra && (e.extra.sdk_is_from_storage = 1)
            }), this.temps = this._limitLogs(e), vc.set(zu, this.temps)
        }, _clearTempLogs: function () {
            this.temps = [], vc.set(zu, "")
        }, _limitLogs: function (e) {
            var t = (e ? e.length : 0) - 50;
            return (e || []).slice(t > 0 ? t : 0)
        }
    }, Td = {
        lastLog: {}, logs: [], reporting: !1, delayCollect: 800, delayReport: 5e3, collect: function (e) {
            if (e) {
                var t = e.topic;
                if (t) {
                    var n = this.lastLog[t], r = n && !n.fromPlatform ? n : e;
                    0 === ((n || {}).params || {}).open_type && (r.params.open_type = 0), this.lastLog[t] = r, n || setTimeout(this._reduceLog.bind(this, t), this.delayCollect)
                } else this._reportLog(e)
            }
        }, _reportLog: function (e) {
            var t = e || {}, n = t.immediateReport, r = t.params;
            r && (this.logs.push(r), this._report(n).catch(function () {
            }))
        }, _reduceLog: function (e) {
            var t = this.lastLog[e];
            t && (this._reportLog(t), this.lastLog[e] = null)
        }, _report: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n;
                return ne(this, function (r) {
                    switch (r.label) {
                        case 0:
                            return e ? [3, 2] : this.reporting ? [2] : (this.reporting = !0, [4, fc.wait(this.delayReport)]);
                        case 1:
                            r.sent(), this.reporting = !1, r.label = 2;
                        case 2:
                            return [4, Jl.getCommonData()];
                        case 3:
                            return t = r.sent(), n = this.logs, bd.report(Gs(Gs({}, t), {logs: n})), this.logs = [], [2]
                    }
                })
            })
        }
    };
    kt.prototype = {
        _init: function (e) {
            var t = {immediateReport: !1, stopWhenShare: !1, callAfterLogin: !1};
            switch (this.topic) {
                case Kl.CLOSE.topic:
                    t.stopWhenShare = !0, t.immediateReport = !0;
                    break;
                case Kl.OPEN.topic:
                    t.stopWhenShare = !0, t.callAfterLogin = this.fromPlatform
            }
            this.config = t, this.data = {}, this.createAt = fc.getTime(), this._setData(e)
        }, getConfig: function () {
            return this.config
        }, start: function () {
            this.startTime = fc.getTime()
        }, stop: function (e) {
            e && (e.spentTime = this.startTime ? Math.max(0, fc.getTime() - this.startTime) : 0), this._setData(e)
        }, refreshData: function () {
            return this.data = Jl.refreshDataByTopic(this.topic, this.data), this
        }, _setData: function (e) {
            var t = Jl.getLogDataByTopic(this.topic, e), n = t.property, r = t.extra, i = this.data, o = i.property,
                a = i.extra;
            return n && (this.data.property = Object.assign(o || {}, n)), r && (this.data.extra = Object.assign(a || {}, r)), this
        }, _getData: function () {
            var e = this.opt, t = e.eventName, n = e.eventType, r = e.logType;
            return Object.assign({}, this.data, {
                logId: this.guid,
                logType: r,
                eventType: n,
                eventName: t,
                timestamp: this.createAt || 0
            })
        }, toLogData: function () {
            var e = this._getData(), t = this.getConfig().immediateReport;
            return {topic: this.topic, fromPlatform: this.fromPlatform, immediateReport: t, params: e}
        }
    };
    var kd, Sd, Ad, Cd = {}, Ed = {
        setState: function (e, t) {
            Cd[e] = t
        }, getState: function (e) {
            return !!Cd[e]
        }
    }, xd = [];
    !function () {
        zs.once(As, St.bind(this))
    }(), (window || global).regeneratorRuntime = void 0;
    var Od = {
            weixin: {
                host: {prod: "wxmini", test: "wxmini-test", dev: "wxmini-dev"},
                server: {prod: "platform", test: "platform-test", dev: "platform-dev"},
                log: {prod: "wxmini-log", test: "wxmini-test", dev: "wxmini-dev"}
            },
            toutiao: {
                host: {prod: "platform-douyin", test: "platform-douyin-test", dev: "platform-douyin-dev"},
                server: {prod: "platform", test: "platform-test", dev: "platform-dev"},
                log: {prod: "platform", test: "platform-test", dev: "platform-dev"}
            }
        }.weixin, Rd = {
            HOST: (kd = {}, kd[Us] = Ot(Od.host.prod), kd[Ns] = Ot(Od.host.test), kd.Dev = Ot(Od.host.dev), kd),
            HOST_SERVER: (Sd = {}, Sd[Us] = Ot(Od.server.prod), Sd[Ns] = Ot(Od.server.test), Sd.Dev = Ot(Od.server.dev), Sd),
            HOST_LOG: (Ad = {}, Ad[Us] = Ot(Od.log.prod), Ad[Ns] = Ot(Od.log.test), Ad.Dev = Ot(Od.log.dev), Ad)
        }, Pd = function () {
            var e = Hu.sdkConfig() && Hu.sdkConfig().env || Us, t = Rd.HOST_SERVER;
            return (void 0 === t ? {} : t)[e]
        }, Md = function () {
            var e = Hu.sdkConfig() && Hu.sdkConfig().env || Us, t = Rd.HOST_LOG;
            return (void 0 === t ? {} : t)[e]
        }, Dd = {weixin: "/mini/api/v1/log/multi", toutiao: "/wxlog/api/v1/log/douyin/multi"}.weixin, Ld = Ds, Nd = zs,
        Ud = Vs, qd = Je, Fd = gc, jd = {
            _logs: [], _delayer: void 0, post: function (e, t) {
                void 0 === t && (t = !1), e && (this._logs.push(e), t ? this._report() : this._delayReport())
            }, _init: function () {
                Nd.on(Ld, this._onReport.bind(this))
            }, _onReport: function (e) {
                var t = e.data || {}, n = t.log, r = t.immediate;
                this.post(n, r)
            }, _report: function () {
                var e = this._logs;
                this._logs = [];
                var t = Ud.platform.information, n = t.getUserInfo() || {}, r = n.userId, i = n.uniqueId, o = t.getConfig(),
                    a = o.gameId, s = o.gameVersion, c = t.getSystemStr(), u = t.getLaunchOpts().query;
                null == e || e.forEach(function (e) {
                    e.queryRaw = JSON.stringify(u)
                });
                var l = {gameId: a, userId: r, uniqueId: i, gameVersion: s, sysInfo: c, logs: e}, d = function () {
                    var e = "" + Md() + Dd;
                    Fd.post(e, l).then(function () {
                    }).catch(function () {
                    })
                };
                Hu.sdkConfig() && Hu.sdkConfig().env ? d() : Nd.once("EVT_SDK_READY", function () {
                    qd("sdk ready report"), d()
                })
            }, _delayReport: function () {
                var e = this;
                if (!this._delayer) {
                    var t = (Ud.platform.information.getConfig() || {}).logReportFrequency, n = void 0 === t ? 5e3 : t;
                    this._delayer = setTimeout(function () {
                        e._report(), e._delayer = null
                    }, n)
                }
            }
        };
    jd._init();
    var Vd = {post: jd.post.bind(jd)}, Hd = {
        request: function (e, t, n, r, i) {
            return new Promise(function (o, a) {
                var s = {
                    url: t,
                    method: e,
                    enableHttp2: !0,
                    data: n,
                    header: r,
                    responseType: i,
                    success: function (e) {
                        o(e)
                    },
                    fail: function (e) {
                        a(e)
                    }
                };
                wx.request(s)
            })
        }
    }, Gd = {
        getUserInfo: function () {
            return Nl.getSDKUserInfo()
        }, getSystemStr: function () {
            return ce()
        }, getSystemInfo: function () {
            return se()
        }, getNetStatus: function () {
            return ue()
        }, getLaunchOpts: function () {
            return Ce()
        }, getConfig: function () {
            return Ee()
        }
    }, Wd = {
        _isShowed: !1, _isLaunched: !1, _sdkInited: !1, _hideAt: 0, init: function () {
            be(this._handleOnShow.bind(this)), Te(this._handleOnHide.bind(this)), zs.once(As, this._onSDKInit.bind(this), -1)
        }, _onSDKInit: function () {
            var e = this;
            this._sdkInited = !0, this._isShowed ? this._triggerOnShow() : setTimeout(function () {
                e._isShowed || e._triggerOnShow()
            }, 2e3)
        }, _triggerOnShow: function () {
            var e = we();
            this._handleOnShow(e)
        }, _handleOnShow: function (e) {
            var t = this._hideAt ? Date.now() - this._hideAt : 0;
            e.hideDuration = t, this._isShowed = !0, e.coldStart = !this._isLaunched, zs.dispatch(Cs, e), (Nl.getTempUser() || {}).userId && this._logOnShow(e), this._sdkInited && (this._isLaunched = !0)
        }, _handleOnHide: function (e) {
            this._hideAt = Date.now(), zs.dispatch(Es, e)
        }, _logOnShow: function (e) {
            void 0 === e && (e = {}), e && delete e.hideDuration;
            var t = e.scene, n = e.coldStart, r = Nl.getTempUser() || {}, i = r.userId, o = r.uniqueId,
                a = Ce().custom || {}, s = a.channel, c = a.origChannel, u = a.shareConfigId, l = n ? 0 : 1, d = "";
            try {
                e = Object.assign(e, {at: "onShow"}), d = JSON.stringify(e)
            } catch (e) {
            }
            var f = Ql.getStorage("__sdk_logOnShow_rawData__");
            f && f === d ? d = "" : Ql.setStorage("__sdk_logOnShow_rawData__", d);
            var h = {
                logType: 3,
                channel: s,
                origChannel: c,
                shareConfigId: u,
                scene: t,
                userId: i,
                uniqueId: o,
                open_type: l,
                rawData: d
            };
            d && zs.dispatch(Ds, {log: h})
        }
    }, Bd = {network: Hd, storage: Ql, information: Gd};
    Vs.platform = Bd, Wd.init();
    var Kd = {
        AggrType: {SWITCH: "customSwitch", IP_REGION: "ipregion", SHARE: "share"}, post: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n, r, i, o, a, s, c, u, l, d, f, h, p;
                return ne(this, function (g) {
                    switch (g.label) {
                        case 0:
                            return t = Hu.sdkConfig(), n = t.gameId, r = t.gameVersion, i = Vs.platform.information, o = i.getUserInfo() || {}, a = o.uniqueId, s = o.userId, c = o.name, u = i.getSystemStr(), [4, Ze(qs, e)];
                        case 1:
                            return l = g.sent(), d = Object.keys(l), f = {
                                gameId: n,
                                gameVersion: r,
                                openId: s,
                                uniqueId: a,
                                userId: a,
                                servers: d,
                                nickName: c || "",
                                params: l,
                                sysInfo: u
                            }, h = Pd() + "/platform-gateway-server/api/v1/aggr", [4, gc.post(h, f)];
                        case 2:
                            return p = g.sent(), [4, this._renderResult(p.data, l)];
                        case 3:
                            return [2, g.sent()]
                    }
                })
            })
        }, _renderResult: function (e, t) {
            return te(this, void 0, void 0, function () {
                var n, r, i;
                return ne(this, function (o) {
                    switch (o.label) {
                        case 0:
                            return n = e || {}, r = {}, Object.keys(n).forEach(function (e) {
                                var t = {data: null, err: null}, i = n[e] || {}, o = i.data, a = i.meta;
                                a && a.errCode ? t.err = a : t.data = o, r[e] = t
                            }), [4, Ze(Fs, {req: t, resp: r})];
                        case 1:
                            return i = o.sent(), [2, Object.assign(r, i)]
                    }
                })
            })
        }
    }, zd = function (e) {
        return Hu.init(e)
    }, Qd = {
        getExtUserInfo: function () {
            return te(this, void 0, void 0, function () {
                var e, t, n, r, i;
                return ne(this, function (o) {
                    switch (o.label) {
                        case 0:
                            return e = Hu.sdkConfig().gameId, t = Vs.platform.information, n = (t.getUserInfo() || {}).uniqueId, r = {
                                userId: n,
                                gameId: e
                            }, i = Pd() + "/wechat/user-info", [4, gc.get(i, r)];
                        case 1:
                            return [2, o.sent().data]
                    }
                })
            })
        }
    }, Jd = {
        init: function () {
            $e(qs, this._processAggr.bind(this))
        }, checkIps: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n, r, i, o, a, s, c, u;
                return ne(this, function (l) {
                    switch (l.label) {
                        case 0:
                            return t = e.interfaceIds, n = e.userId, r = Hu.sdkConfig(), i = r.gameId, o = r.gameVersion, a = Vs.platform.information, s = (a.getUserInfo() || {}).uniqueId, c = {
                                gameId: i,
                                gameVersion: o,
                                interfaceIds: t || [],
                                userId: n || s
                            }, u = Pd() + "/ipregion/api/v1/blockstatus/multi", [4, gc.post(u, c)];
                        case 1:
                            return [2, l.sent().data]
                    }
                })
            })
        }, _processAggr: function (e) {
            if (!e || !e.ipregion) return null;
            var t = (Vs.platform.information.getUserInfo() || {}).uniqueId, n = Object.assign({}, e.ipregion);
            return e.ipregion.userId || (n = Object.assign(n, {userId: t || ""})), {ipregion: n}
        }
    };
    Jd.init();
    var Yd = {Text: 1, Image: 2, Scroll: 4}, Xd = Yd.Text | Yd.Image, $d = {
        NoticeTypes: Yd, getNotice: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n, r;
                return ne(this, function (i) {
                    switch (i.label) {
                        case 0:
                            return t = Hu.sdkConfig().gameId, n = Object.assign({}, {
                                gameId: t,
                                tp: Xd
                            }, e || {}), r = Js.combHost + "/capi/v1/notice", [4, gc.get(r, n)];
                        case 1:
                            return [2, i.sent().data]
                    }
                })
            })
        }
    }, Zd = {ERROR: "error", WARN: "warn", DEBUG: "debug"}, ef = {
        LOG_TP: Zd, init: function () {
            var e = this;
            zs.on("EVT_LOGIN_FAIL", function (t) {
                e.postLog(Zd.ERROR, t.data)
            }), zs.on(xs, function (t) {
                e.postLog(Zd.ERROR, t.data)
            })
        }, postLog: function (e, t, n) {
            t && "object" == (void 0 === t ? "undefined" : Zn(t)) && !n && (n = t, t = "");
            var r = n || {}, i = r.msg, o = r.errMsg, a = r.message, s = r.logTp, c = t || i || a || o;
            Je(e + ": " + c, n);
            var u = Vs.platform.information, l = u.getUserInfo() || {}, d = l.userId, f = l.uniqueId, h = u.getConfig(),
                p = h.gameId, g = h.gameVersion, v = u.getSystemStr(), m = Object.assign({
                    msg: c,
                    logTp: s,
                    gameId: p,
                    gameVersion: g,
                    userId: d,
                    uniqueId: f,
                    sysInfo: v,
                    hortorMsg: c,
                    hortorLogTp: e
                }, n || {}), y = Js.logHost + "/wxlog/api/v1/log";
            gc.post(y, m).then(function () {
                Je("log remote success")
            }).catch(function (e) {
                Je("log remote fail", e)
            })
        }
    };
    ef.init();
    var tf = {
        init: function () {
            $e(qs, this._processAggr.bind(this)), $e(Fs, this._processAggrReq.bind(this))
        }, _renderSwitches: function (e) {
            var t = [];
            return e.map(function (e) {
                if (e) {
                    var n = "string" == typeof e ? e : e.switchId;
                    t.some(function (e) {
                        return e.switchId === n
                    }) || t.push({switchId: n})
                }
            }), t
        }, _renderParams: function (e) {
            var t = {};
            if (e) for (var n in e) {
                var r = e[n];
                void 0 !== r && "nickName" !== n && (t[n] = r)
            }
            return t
        }, _getRequestData: function (e, t) {
            var n = (t || {}).nickName, r = Vs.platform.information, i = r && r.getUserInfo() || {}, o = i.userId,
                a = i.uniqueId, s = i.channel, c = r && r.getLaunchOpts() || {}, u = c.scene, l = Hu.sdkConfig();
            return {
                gameId: l.gameId,
                nickName: n,
                gameTp: "minigame",
                platform: "minigame",
                gameVersion: l.gameVersion,
                uniqueId: a,
                channel: s,
                openId: o,
                scene: u,
                defCustomParams: t,
                switchIdList: e
            }
        }, _transformResult: function (e, t) {
            var n = {};
            return t.forEach(function (t, r) {
                n[t] = e[r]
            }), Je("switch result", n), n
        }, _processAggr: function (e) {
            if (!e || !e.customSwitch) return null;
            var t = e.customSwitch, n = t.switches, r = t.params;
            return {customSwitch: this._getRequestData(n, r)}
        }, _processAggrReq: function (e) {
            if (!(e && e.resp && e.req && e.req.customSwitch && e.resp.customSwitch)) return null;
            var t = e.req.customSwitch.switches, n = e.resp.customSwitch.data;
            return {customSwitch: {data: this._transformResult(n, t)}}
        }, check: function (e, t) {
            return te(this, void 0, void 0, function () {
                var n, r, i;
                return ne(this, function (o) {
                    switch (o.label) {
                        case 0:
                            if (o.trys.push([0, 2, , 3]), 0 == Hu._hasInitSuccess) throw dl;
                            return n = Js.combHost + "/comb-custom-switch-server/api/v1/switch/multi/status", r = this._getRequestData(e, t), [4, gc.post(n, r)];
                        case 1:
                            return i = o.sent(), [2, this._transformResult(i.data, r.switchIdList)];
                        case 2:
                            return [2, o.sent()];
                        case 3:
                            return [2]
                    }
                })
            })
        }
    };
    tf.init();
    var nf = ae("createBannerAd", "2.0.4"), rf = ae("createRewardedVideoAd", "2.0.4"),
        of = ae("createRewardedVideoAd", "2.8.0"), af = ae("createInterstitialAd", "2.6.0");
    ae("createGridAd", "2.9.2");
    var sf = "", cf = {
        create: function (e) {
            var t = e || {}, n = t.adUnitId;
            sf = t.customScene;
            var r = function (e) {
                return nf ? wx.createBannerAd(e) : null
            }(e);
            return r && (fc.defineProperty(r, "show", this._showHandler.bind(this, n)), fc.defineProperty(r, "hide", this._hideHandler.bind(this, n)), r.onError(function (e) {
                Je("banner ad err", e)
            })), r
        }, _showHandler: function (e, t) {
            var n = this;
            return function () {
                return new Promise(function (r, i) {
                    n._postLog(e, 28), t().then(function (t) {
                        r(t), Je("banner ad show"), n._postLog(e, 21)
                    }).catch(function (e) {
                        i(e), Je("banner ad show fail", e)
                    })
                })
            }
        }, _hideHandler: function (e, t) {
            var n = this;
            return function (r) {
                t(r), Je("banner ad hide"), n._postLog(e, 22)
            }
        }, _postLog: function (e, t) {
            var n = Ce(), r = n.scene,
                i = {adUnitId: e, logType: t, channel: (n.custom || {}).channel, scene: r, customScene: sf || ""};
            zs.dispatch(Ds, {log: i})
        }
    }, uf = "";
    Rt.prototype = {
        bindedOnClose: null, injectKeys: ["Close", "Error", "Load"], injectHandlers: {}, create: function (e) {
            var t = function (e) {
                return af ? wx.createInterstitialAd(e) : null
            }(e);
            return t && (fc.defineProperty(t, "show", this._showHandler.bind(this)), fc.defineProperty(t, "destroy", this._destroyHandler.bind(this)), fc.defineProperty(t, "offClose", this._offCloseHandler.bind(this)), this.adInstance = t, this._bindOnClose(), t.onError(function (e) {
                Je("interstitial ad err", e)
            })), t
        }, destroy: function () {
            !this.destroyed && this.adInstance && (this.destroyed = !0, this.adInstance.destroy(), this.adInstance = null)
        }, setOptions: function (e) {
            var t = this;
            if (e) {
                var n = e.customScene;
                uf = n || uf, this.options = e, this.injectKeys.forEach(function (n) {
                    var r = "on" + n;
                    fc.isFun(e[r]) && (t.options = t.options || {}, t.options[r] = e[r])
                })
            }
        }, bindHandlers: function () {
            var e = this;
            this.adInstance && this.injectKeys.forEach(function (t) {
                var n = "on" + t, r = function (t) {
                    e.options && fc.isFun(e.options[n]) && e.options[n](t)
                };
                e.injectHandlers[n] = r, e.adInstance[n] && e.adInstance[n](r)
            })
        }, unbindHandlers: function () {
            var e = this;
            this.adInstance && (this.injectKeys.forEach(function (t) {
                var n = "off" + t, r = "on" + t, i = e.injectHandlers[r];
                e.adInstance[n] && i && e.adInstance[n](i)
            }), this.options = null, this.injectHandlers = {})
        }, _showHandler: function (e) {
            var t = this;
            return function () {
                return new Promise(function (n, r) {
                    fc.isFun(e) || r(il), t._postLog(25), e().then(function (e) {
                        n(e), t._postLog(26), t._stdInterstitialAdLog(!0)
                    }).catch(function (e) {
                        r(e), t._stdInterstitialAdLog(!1, e.errCode), Je("interstitial ad show fail", e)
                    })
                })
            }
        }, _stdInterstitialAdLog: function (e, t) {
            void 0 === t && (t = 0), Je("interstitial this.options", this.options);
            var n = this.options, r = n.adUnitId, i = n.sequenceInfo;
            zs.dispatch(Cl, {adUnitId: r, isEnded: e, playFailCode: t, spentTime: 0, sequenceInfo: i, adType: 1})
        }, _destroyHandler: function (e) {
            var t = this;
            return function (n) {
                t._unbindOnClose(), t.destroyed = !0, t.adInstance = null, fc.isFun(e) && e(n)
            }
        }, _offCloseHandler: function (e) {
            var t = this;
            return function (n) {
                fc.isFun(e) && (e(n), n || t.destroyed || (t._unbindOnClose(), t._bindOnClose()))
            }
        }, _unbindOnClose: function () {
            var e = this.adInstance;
            this.bindedOnClose && e && fc.isFun(e.offClose) && e.offClose(this.bindedOnClose), this.bindedOnClose = null
        }, _bindOnClose: function () {
            var e = this, t = this.adInstance;
            !this.bindedOnClose && t && fc.isFun(t.onClose) && (this.bindedOnClose = function () {
                Je("interstitial ad close"), e._postLog(27)
            }, t.onClose(this.bindedOnClose))
        }, _postLog: function (e) {
            var t = Ce(), n = t.scene, r = (t.custom || {}).channel;
            zs.dispatch(Ds, {log: {adUnitId: this.adUnitId, logType: e, channel: r, scene: n, customScene: uf || ""}})
        }
    };
    var lf = {}, df = {
        create: function (e) {
            return new Rt(e).adInstance
        }, createAdManager: function (e) {
            var t = e.adUnitId, n = new Rt(e);
            return n.bindHandlers(), lf[t] = n, n
        }, preLoad: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n = this;
                return ne(this, function (r) {
                    if (!(t = e.adUnitIds) || !t.length) throw ol;
                    if (!af) throw il;
                    return t.forEach(function (e) {
                        lf[e] = lf[e] || n.createAdManager({adUnitId: e})
                    }), Je("preLoad ad success"), [2, lf]
                })
            })
        }, show: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n, r;
                return ne(this, function (i) {
                    switch (i.label) {
                        case 0:
                            if (Je("show interstitial ad ", e), t = e.adUnitId, (n = lf[t] || this.createAdManager(e)).setOptions(e), !(r = n.adInstance)) throw il;
                            return [4, r.show()];
                        case 1:
                            return [2, i.sent()]
                    }
                })
            })
        }, getInterstitialAd: function (e) {
            Je("get interstitial ad ", e);
            var t = e.adUnitId, n = (lf[t] || this.createAdManager(e)).adInstance;
            if (!n) throw il;
            return n
        }, _destroy: function (e) {
            var t = lf[e];
            t && (t.unbindHandlers(), t.destroy(), lf[e] = null)
        }, destroy: function (e) {
            var t = this;
            Je("destroy interstitial ad", e);
            var n = (e || {}).adUnitId;
            if (n) return this._destroy(n);
            Object.keys(lf || {}).forEach(function (e) {
                t._destroy(e)
            })
        }
    }, ff = "hortor视频广告", hf = "", pf = function (e, t, n) {
        void 0 === n && (n = ""), hf = n || hf;
        var r = Ce(), i = r.scene,
            o = {adUnitId: e, logType: t, channel: (r.custom || {}).channel, scene: i, customScene: hf || ""};
        zs.dispatch(Ds, {log: o})
    }, gf = function (e) {
        var t = e.sequenceInfo;
        zs.dispatch(Sl, {sequenceInfo: t, adType: 2}), zs.dispatch(El)
    };
    Pt.prototype = {
        _sCool: function () {
            this.coolLoad = !1, this.coolTimer = null
        }, _sRest: function () {
            this.loaded = !1, this.loading = !0, this.isNeedConsumeQueue = !0, this._sCool()
        }, _sLoad: function (e) {
            Je("ad loaded", e), this.loaded = !0, this.loading = !1, this.fstLoaded = !0, this._sCool()
        }, _sError: function (e) {
            Je("ad err", e), this.loaded = !1, this.loading = !1, this.fstLoaded = !0;
            var t = e.errCode;
            !this.coolTimer && [1002, 1004].indexOf(t) > -1 && (this.coolLoad = !0, this.coolTimer = setTimeout(this._sCool.bind(this), this.loadCoolTime))
        }, _loadAd: function (e, t) {
            return te(this, void 0, void 0, function () {
                var n;
                return ne(this, function (r) {
                    switch (r.label) {
                        case 0:
                            Je("ad reload"), r.label = 1;
                        case 1:
                            if (r.trys.push([1, 3, , 4]), this.coolLoad && t) throw t;
                            return [4, e.load()];
                        case 2:
                            return r.sent(), this._sLoad(), [2, !0];
                        case 3:
                            throw n = r.sent(), this._sError(n), n;
                        case 4:
                            return [2]
                    }
                })
            })
        }, _showAd: function (e, t) {
            return te(this, void 0, void 0, function () {
                var n;
                return ne(this, function (r) {
                    switch (r.label) {
                        case 0:
                            Je("ad show", t), r.label = 1;
                        case 1:
                            return r.trys.push([1, 3, , 5]), [4, e.show(t)];
                        case 2:
                            return [2, r.sent()];
                        case 3:
                            return n = r.sent(), [4, this._loadAd(e, n)];
                        case 4:
                            return r.sent(), [2, e.show()];
                        case 5:
                            return [2]
                    }
                })
            })
        }, _waitResult: function (e) {
            var t = this;
            return Je("ad wait"), new Promise(function (n, r) {
                var i = setTimeout(function () {
                    if (Je("ad wait timeout"), t.fstLoaded) return t._sLoad("fake"), n(!0);
                    t._loadAd(e).then(n).catch(r)
                }, t.callTimeout);
                e.onLoad(function (t) {
                    e.offLoad(this), clearTimeout(i), n(!0)
                }), e.onError(function (t) {
                    e.offError(this), clearTimeout(i), r(t)
                })
            })
        }, getInstance: function (e) {
            if (void 0 !== this.adInstance) return this.adInstance;
            var t = function (e) {
                return rf ? wx.createRewardedVideoAd(e) : null
            }(e);
            return this.adInstance = t, t ? (t.onLoad(this._sLoad.bind(this)), t.onError(this._sError.bind(this)), this.adInstance) : null
        }, _getAdInstance: function (e) {
            return te(this, void 0, void 0, function () {
                var t;
                return ne(this, function (n) {
                    if (this.destroyed) throw sl;
                    if (!(t = this.getInstance(e))) throw il;
                    return [2, t]
                })
            })
        }, _checkLoaded: function (e) {
            return te(this, void 0, void 0, function () {
                return ne(this, function (t) {
                    switch (t.label) {
                        case 0:
                            return this.loaded ? [2, !0] : this.loading ? [4, this._waitResult(e)] : [3, 2];
                        case 1:
                        case 3:
                            return [2, t.sent()];
                        case 2:
                            return this.coolLoad ? [3, 4] : (Je("ad try load"), [4, this._loadAd(e)]);
                        case 4:
                            if (!this.loaded) throw cl;
                            return [2, !0]
                    }
                })
            })
        }, destroy: function () {
            this.adInstance && (this.adInstance.destroy(), this.adInstance = null), this.destroyed = !0, this._sRest(), this.loading = !1
        }, _showStart: function (e) {
            this.loadReported = !1, zs.dispatch(kl, {adUnitId: e})
        }, _showSuccess: function (e) {
            zs.dispatch(kl, {adUnitId: e, playSuccess: !0})
        }, _showFinish: function (e, t, n, r, i) {
            void 0 === n && (n = 0);
            var o = r ? Math.max(fc.getTime() - r, 0) : 0;
            zs.dispatch(Sl, {
                adUnitId: e,
                isEnded: t,
                playFailCode: n,
                spentTime: o,
                sequenceInfo: i,
                adType: 0
            }), t && this._initVideoFreezeTime()
        }, _initVideoFreezeTime: function () {
            var e = vc.get("__sdk_std_seq") || {};
            if (this.videoPlayFreezeEnable = e.video_play_freeze_enable || 0, this.videoPlayFreezeTime = e.video_play_freeze_time || 0, this.activeFreezeTime = this.videoPlayFreezeTime, clearTimeout(this.freezeTimer), !(this.activeFreezeTime <= 0 || 0 === this.videoPlayFreezeEnable)) {
                var t = this;
                !function e() {
                    t.activeFreezeTime--, clearTimeout(t.freezeTimer), t.activeFreezeTime <= 0 || (t.freezeTimer = setTimeout(function () {
                        e()
                    }, 1e3))
                }()
            }
        }, show: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n, r, i, o, a, s, c, u, l, d, f = this;
                return ne(this, function (h) {
                    switch (h.label) {
                        case 0:
                            return Je("调用展示广告"), [4, this._getAdInstance(e)];
                        case 1:
                            t = h.sent(), n = e.adUnitId, r = e.onClose, i = e.sequenceInfo, o = e.customScene, Je("showing ad", n), a = fc.getTime(), s = function (e) {
                                t.offClose(s), r && r(e);
                                var c = (e || {}).isEnded, u = void 0 === c || c;
                                pf(n, u ? 17 : 18, o), f._showFinish(n, u, 0, a, i)
                            }, t.onClose(s), pf(n, 15, o), this._showStart(n), h.label = 2;
                        case 2:
                            return h.trys.push([2, 5, , 6]), [4, this._checkLoaded(t)];
                        case 3:
                            return h.sent(), [4, this._showAd(t, e)];
                        case 4:
                            return c = h.sent(), this._showSuccess(n), this._sRest(), pf(n, 16, o), [2, c];
                        case 5:
                            throw u = h.sent(), t.offClose(s), l = (u || {}).errCode, d = void 0 === l ? 1 : l, this._showFinish(n, !1, d, a, i), Je("ad show err", n, u), zs.dispatch(Al, {
                                adUnitId: n,
                                err: u
                            }), u;
                        case 6:
                            return [2]
                    }
                })
            })
        }, prepareShowHortorVedioAd: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n;
                return ne(this, function (r) {
                    switch (r.label) {
                        case 0:
                            return t = JSON.parse(JSON.stringify(this.cacheHortorAdInfo)), this.cacheHortorAdInfo = null, this.isNeedConsumeQueue = !0, [4, this._hortorAdCheck(e)];
                        case 1:
                            return r.sent(), n = new Promise(function (e, n) {
                                var r = t || {}, i = r.jumpConfig, o = r.videoResource;
                                i && o ? e(t) : n(ll)
                            }), [2, n]
                    }
                })
            })
        }, check: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n, r, i;
                return ne(this, function (o) {
                    switch (o.label) {
                        case 0:
                            return [4, this._getAdInstance(e)];
                        case 1:
                            t = o.sent(), Je("checking ad", n = e.adUnitId), this.loadReported || pf(n, 23), o.label = 2;
                        case 2:
                            return o.trys.push([2, 4, 5, 6]), [4, this._checkLoaded(t)];
                        case 3:
                            return r = o.sent(), this.loadReported || pf(n, 24), [2, r];
                        case 4:
                            throw i = o.sent(), Je("ad check err", n, i), zs.dispatch(Al, {adUnitId: n, err: i}), i;
                        case 5:
                            return this.loadReported = !0, [7];
                        case 6:
                            return [2]
                    }
                })
            })
        }, _getConnomHorotrAdParams: function (e) {
            var t = Vs.platform.information, n = t.getUserInfo() || {}, r = n.gameId, i = n.uniqueId, o = n.openId,
                a = t.getSystemInfo();
            return {adPositionId: e.hortorAdUnitId, gameId: r, uniqueId: i, openId: o, sysInfo: JSON.stringify(a)}
        }, _getAdQueueInfo: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n, r, i, o, a, s;
                return ne(this, function (c) {
                    switch (c.label) {
                        case 0:
                            if (n = (t = this).isOnlyUseWX, (r = t.cacheQueue).length > 1) return [2, {
                                isOnlyUseWX: n,
                                cacheQueue: r
                            }];
                            i = Pd() + "/ad-platform-server/api/v1/platform/strategy", o = this._getConnomHorotrAdParams(e), c.label = 1;
                        case 1:
                            return c.trys.push([1, 3, , 4]), [4, gc.post(i, o)];
                        case 2:
                            return a = c.sent().data, s = a.strategyList || [], this.isOnlyUseWX = a.isOnlyUseWX, this.cacheQueue = re(this.cacheQueue, s), [2, {
                                isOnlyUseWX: this.isOnlyUseWX,
                                cacheQueue: this.cacheQueue
                            }];
                        case 3:
                            return c.sent(), [2, Promise.resolve({
                                isOnlyUseWX: this.isOnlyUseWX,
                                cacheQueue: this.cacheQueue
                            })];
                        case 4:
                            return [2]
                    }
                })
            })
        }, _hortorAdCheck: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n, r, i, o, a;
                return ne(this, function (s) {
                    switch (s.label) {
                        case 0:
                            return t = {
                                isHaveAd: !1,
                                adType: "hortor",
                                msg: "无hortor视频广告",
                                isFreeze: !1,
                                freezeTime: 0
                            }, this.cacheHortorAdInfo ? [2, Object.assign(t, {
                                isHaveAd: !0,
                                msg: ff
                            })] : (n = Pd() + "/ad-platform-server/api/v1/platform/fetch", r = this._getConnomHorotrAdParams(e), [4, gc.post(n, r)]);
                        case 1:
                            return i = s.sent(), o = i.data, a = i.meta, Je("get ad info", o, a), a && 0 !== a.errCode ? [2, t] : (this.cacheHortorAdInfo = o, [2, Object.assign(t, {
                                isHaveAd: !0,
                                msg: ff
                            })])
                    }
                })
            })
        }, _wxAdCheck: function (e) {
            return te(this, void 0, void 0, function () {
                var t;
                return ne(this, function (n) {
                    switch (n.label) {
                        case 0:
                            return Je("_wxAdCheck"), [4, this.check(e)];
                        case 1:
                            return Je("wx ad check", t = n.sent()), [2, {
                                isHaveAd: t,
                                adType: "wx",
                                msg: t ? "微信视频广告" : "无微信视频广告",
                                isFreeze: !1,
                                freezeTime: 0
                            }]
                    }
                })
            })
        }, _consumeQueue: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n, r, i, o;
                return ne(this, function (a) {
                    switch (a.label) {
                        case 0:
                            return a.trys.push([0, 6, , 7]), t = ["_wxAdCheck", "_hortorAdCheck"], n = 0, this.isNeedConsumeQueue ? (n = this.cacheQueue.shift(), this.preAd = n, this.isNeedConsumeQueue = !1, Je("consume queue", n)) : Je("no consume queue", n = this.preAd), r = null, n >= t.length ? [4, this._wxAdCheck(e)] : [3, 2];
                        case 1:
                            return [2, r = a.sent()];
                        case 2:
                            return i = t[n], o = t[Number(!n)], [4, this[i](e)];
                        case 3:
                            return (r = a.sent()).isHaveAd ? [3, 5] : [4, this[o](e)];
                        case 4:
                            r = a.sent(), a.label = 5;
                        case 5:
                            return r.isHaveAd || (r = {
                                isHaveAd: !1,
                                adType: "",
                                msg: "暂无视频广告",
                                isFreeze: !1,
                                freezeTime: 0
                            }), [2, r];
                        case 6:
                            throw a.sent();
                        case 7:
                            return [2]
                    }
                })
            })
        }, mixCheck: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n, r, i, o, a, s, c, u;
                return ne(this, function (l) {
                    switch (l.label) {
                        case 0:
                            if (t = {}, n = e.adUnitId, r = e.hortorAdUnitId, !n) throw ul;
                            return o = (i = this).activeFreezeTime, i.videoPlayFreezeEnable && o > 0 ? [2, t = {
                                isHaveAd: !1,
                                adType: "",
                                msg: "视频广告冻结期间, 暂无视频广告",
                                isFreeze: !0,
                                freezeTime: this.activeFreezeTime
                            }] : (a = !0, r ? [4, this._getAdQueueInfo(e)] : [3, 2]);
                        case 1:
                            s = l.sent(), c = s.isOnlyUseWX, u = s.cacheQueue, a = c || 0 === u.length, Je("get ad queue", s), l.label = 2;
                        case 2:
                            return a ? (Je("isWxAd"), [4, this._wxAdCheck(e)]) : [3, 4];
                        case 3:
                            return Je("adInfo", t = l.sent()), [2, t];
                        case 4:
                            return [4, this._consumeQueue(e)];
                        case 5:
                            return Je("ad result", t = l.sent()), [2, t]
                    }
                })
            })
        }
    };
    var vf, mf = "global", yf = {
        managerOrder: [], adManagers: {}, idToManagerKeys: {}, _getOpt: function (e) {
            var t = Object.assign({}, e), n = t.multiton, r = t.type;
            return t.multiton = !(!n && !r || !of), t
        }, _getManagerKey: function (e) {
            var t = e.adUnitId, n = e.multiton, r = e.type;
            return this.idToManagerKeys[t] || (n ? (this.idToManagerKeys[t] = r || t, r || t) : (this.idToManagerKeys[t] = mf, mf))
        }, _getAdManager: function (e) {
            var t = this._getManagerKey(e), n = this.adManagers[t] || null;
            if (n) return n;
            var r = Ee().maxTempVideoAdLen;
            this.managerOrder.length >= r && this.destroy(this.managerOrder[0]);
            var i = e.adUnitId, o = new Pt;
            return Je("create adManager", t, i), this.adManagers[t] = o, this.managerOrder.push(t), this.idToManagerKeys[i] = t, o
        }, destroy: function (e) {
            var t = "";
            if ((t = "string" == typeof e ? this.idToManagerKeys[e] || e || "" : e ? this._getManagerKey(this._getOpt(e)) : "") && t !== mf) {
                var n = this.adManagers[t];
                if (n) {
                    n.destroy(), this.adManagers[t] = null;
                    var r = this.managerOrder.indexOf(t);
                    r > -1 && this.managerOrder.splice(r, 1), Je("destroy adManager", t)
                }
            }
        }, check: function (e) {
            return te(this, void 0, void 0, function () {
                var t;
                return ne(this, function (n) {
                    switch (n.label) {
                        case 0:
                            return t = this._getOpt(e), [4, this._getAdManager(t).check(t)];
                        case 1:
                            return [2, n.sent()]
                    }
                })
            })
        }, mixCheck: function (e) {
            return te(this, void 0, void 0, function () {
                var t;
                return ne(this, function (n) {
                    switch (n.label) {
                        case 0:
                            return t = this._getOpt(e), [4, this._getAdManager(t).mixCheck(t)];
                        case 1:
                            return [2, n.sent()]
                    }
                })
            })
        }, show: function (e) {
            return te(this, void 0, void 0, function () {
                var t;
                return ne(this, function (n) {
                    switch (n.label) {
                        case 0:
                            return t = this._getOpt(e), [4, this._getAdManager(t).show(t)];
                        case 1:
                            return [2, n.sent()]
                    }
                })
            })
        }, prepareShowHortorVedioAd: function (e) {
            return te(this, void 0, void 0, function () {
                var t;
                return ne(this, function (n) {
                    switch (n.label) {
                        case 0:
                            return t = this._getOpt(e), [4, this._getAdManager(t).prepareShowHortorVedioAd(t)];
                        case 1:
                            return [2, n.sent()]
                    }
                })
            })
        }, play: function (e) {
            var t = this;
            return new Promise(function (n, r) {
                var i = (e || {}).onShow;
                t.show(Object.assign({}, e || {}, {
                    onClose: function (e) {
                        n(e || {isEnded: !0})
                    }
                })).then(function (e) {
                    i && i(e)
                }).catch(r)
            })
        }, getVideoAd: function (e) {
            var t = this._getOpt(e);
            return this._getAdManager(t).getInstance(t)
        }, adPointShow: function (e, t) {
            void 0 === e && (e = ""), void 0 === t && (t = ""), pf(e, 20, t)
        }, hortorAdPlaySuccess: function (e) {
            gf(e)
        }
    }, _f = "", If = {
        create: function (e) {
            var t = e || {}, n = t.adUnitId;
            _f = t.customScene;
            var r = function (e) {
                return ae("createCustomAd", "2.11.1") ? wx.createCustomAd(e) : null
            }(e);
            return r && (fc.defineProperty(r, "show", this._showHandler.bind(this, n)), fc.defineProperty(r, "hide", this._hideHandler.bind(this, n)), r.onError(function (e) {
                Je("custom ad err", e)
            })), r
        }, _showHandler: function (e, t) {
            var n = this;
            return function () {
                return new Promise(function (r, i) {
                    n._postLog(e, 41), t().then(function (t) {
                        r(t), Je("custom ad show"), n._postLog(e, 42)
                    }).catch(function (e) {
                        i(e), Je("custom ad show fail", e)
                    })
                })
            }
        }, _hideHandler: function (e, t) {
            var n = this;
            return function (r) {
                t(r), Je("custom ad hide"), n._postLog(e, 43)
            }
        }, _postLog: function (e, t) {
            var n = Ce(), r = n.scene,
                i = {adUnitId: e, logType: t, channel: (n.custom || {}).channel, scene: r, customScene: _f || ""};
            zs.dispatch(Ds, {log: i})
        }
    };
    zs.once(As, Dt);
    var wf = "__APM_TEMP_LOGS", bf = function () {
            function e(e, t) {
                this.wx = e, this._temp = null, this._max = t.MaxTempFailLogLength || 0, this.enable = t.EnabledTempFailLog
            }

            return e.prototype.setStorage = function (e) {
                try {
                    this._temp = e, this.wx.setStorageSync(wf, e)
                } catch (e) {
                    console.log("[APM] set storage err: ", e)
                }
            }, e.prototype.getStorage = function () {
                var e = this._temp;
                if (e) return e;
                try {
                    e = this.wx.getStorageSync(wf), this._temp = e
                } catch (t) {
                    e = "", console.log("[APM] get storage err: ", t)
                }
                return e
            }, e.prototype.limitLens = function (e, t) {
                var n = e, r = e.length - t;
                return t > 0 && r > 0 && (n = e.slice(r)), n
            }, e.prototype.setTemp = function (e) {
                if (this.enable) {
                    var t = this._temp || [];
                    t.push(e), this._temp = this.limitLens(t, this._max), console.log("[APM] storage fail log: ", this._temp), this.setStorage(this._temp)
                }
            }, e.prototype.mergeNum = function (e, t) {
                var n = e || t;
                if (n) {
                    for (var r in t = t || {}, e = e || {}, n) t[r] = t[r] || 0, t[r] += e[r] || 0;
                    return t
                }
            }, e.prototype.mergeTemp = function (e, t) {
                var n = t || {}, r = n.logs, i = n.sockets, o = n.times, a = e || {}, s = a.logs, c = a.sockets,
                    u = a.times, l = {};
                l.logs = this.limitLens((s || []).concat(r || []), this._max), l.sockets = this.mergeNum(i, c);
                var d = o || u;
                if (d) for (var f in l.times = {}, d) l.times[f] = this.mergeNum((o || {})[f], (u || {})[f]);
                return l
            }, e.prototype.getTemp = function (e) {
                var t = this;
                if (!this.enable) return e;
                var n = this.getStorage(), r = Object.assign({}, e || {});
                return n && n.length && (n.forEach(function (e) {
                    r = t.mergeTemp(e, r)
                }), console.log("[APM] merge storage log: ", r), this.clear()), r
            }, e.prototype.checkTemp = function () {
                return this.enable && this.getStorage()
            }, e.prototype.clear = function () {
                this.setStorage("")
            }, e
        }(), Tf = function () {
            function e(e, t) {
                this.clientInfo = null, this.wx = e, this.config = t, this.initNetworkType(), this.logTemper = new bf(this.wx, t)
            }

            return e.prototype.setUserInfo = function (e) {
                this.config.userInfo = Object.assign(this.config.userInfo || {}, e)
            }, e.prototype.initNetworkType = function () {
                var e = this;
                this.netTp = "unknown", this.wx.getNetworkType({
                    success: function (t) {
                        e.netTp = t.networkType
                    }
                }), this.wx.onNetworkStatusChange && "function" == typeof this.wx.onNetworkStatusChange && (this.bindedNetChangge || (this.bindedNetChangge = !0, this.wx.onNetworkStatusChange(function (t) {
                    e.netTp = t.networkType
                })))
            }, e.prototype.getClientInfo = function () {
                if (this.clientInfo) return this.clientInfo.netType = this.netTp, this.clientInfo;
                var e = this.wx.getSystemInfoSync();
                return this.clientInfo = {
                    version: e.version,
                    system: e.system,
                    platform: e.platform,
                    sdk: e.SDKVersion,
                    model: e.model,
                    netType: this.netTp,
                    brand: e.brand
                }
            }, e.prototype.report = function (e, t) {
                var n = this;
                void 0 === e && (e = {});
                var r = e.logs, i = e.times, o = e.sockets;
                if (this.logTemper.checkTemp() || e.logs && e.logs.length || e.times || e.sockets) {
                    var a = [];
                    r.length > 0 && (a = r.map(function (e) {
                        return e.toJSON()
                    }));
                    var s = this.logTemper.getTemp({logs: a, times: i, sockets: o});
                    if (!s.logs || 0 != s.logs.length) {
                        var c = this.config, u = {
                            game: {gameId: c.gameId, version: c.gameVersion, env: c.env},
                            client: this.getClientInfo(),
                            user: c.userInfo,
                            logs: s.logs
                        };
                        this.post(u, function (e, r) {
                            r ? n.logTemper.setTemp(s) : t && t(e)
                        })
                    }
                }
            }, e.prototype.getReportUrl = function () {
                return this.config.Debug ? this.config.reportUrlDev : this.config.reportUrlProc
            }, e.prototype.post = function (e, t) {
                this.wx.request({
                    url: this.getReportUrl(),
                    method: "POST",
                    data: e,
                    header: {"content-type": "application/json"},
                    success: function (e) {
                    },
                    fail: function (e) {
                    }
                })
            }, e
        }(), kf = ["comb-platform", "comb-platform-test", "comb-platform-dev"], Sf = "requestTimes", Af = "downloadTimes",
        Cf = function () {
            function e(e) {
                this.collector = e, this.reset()
            }

            return e.prototype.getPlatformByUrl = function (e) {
                var t = [];
                "string" == typeof e && (t = e.split("//"));
                var n = [];
                "string" == typeof t[1] && (n = t[1].split("."));
                var r = n.length ? n[0] : "";
                return kf.indexOf(r) > -1 ? "platformSource" : "gameSource"
            }, e.prototype.add = function (e, t) {
                if (e) {
                    this.hadData = !0;
                    var n = this.getPlatformByUrl(e);
                    this.requestInfo[n][t] += 1
                }
            }, e.prototype.reset = function () {
                this.hadData = !1, this.requestInfo = {
                    platformSource: {requestTimes: 0, downloadTimes: 0},
                    gameSource: {requestTimes: 0, downloadTimes: 0}
                }
            }, e.prototype.getInfo = function () {
                return this.hadData ? this.requestInfo : {
                    platformSource: {requestTimes: 0, downloadTimes: 0},
                    gameSource: {requestTimes: 0, downloadTimes: 0}
                }
            }, e
        }(), Ef = function () {
            function e(e) {
                this.collector = e, this.reset()
            }

            return e.prototype.add = function (e) {
                e && (this.hasSocketData = !0, this.socketInfo[e] += 1)
            }, e.prototype.reset = function () {
                this.hasSocketData = !1, this.socketInfo = {connectTimes: 0, disconnectTimes: 0}
            }, e.prototype.getInfo = function () {
                return this.hasSocketData ? this.socketInfo : {connectTimes: 0, disconnectTimes: 0}
            }, e
        }(), xf = {
            Debug: !1,
            ReportDelay: 6e4,
            ErrorReportDelay: 2e3,
            ClearRepeatLog: !0,
            EnabledDownLoadErr: !0,
            EnabledDownLoadPerf: !0,
            EnabledUpLoadErr: !0,
            EnabledUpLoadPerf: !1,
            EnabledConsoleErr: !1,
            EnabledAppOnErr: !0,
            EnabledAppLaunch: !1,
            EnabledPagePerf: !1,
            EnabledResErr: !0,
            EnabledResPerf: !0,
            EnabledSocket: !0,
            EnabledSocketTimes: !0,
            EnabledMemoryWarning: !0,
            EnabledTempFailLog: !1,
            MaxTempFailLogLength: 100,
            Filters: [],
            reportUrlProc: "https://platform-apm.hortorgames.com/apm/api/v1/collect",
            reportUrlDev: "https://platform-apm-test.hortorgames.com/apm/api/v1/collect"
        }, Of = {Filters: [/\/v1\/statlog$/, /\/v1\/log$/, /\/v1\/log\/multi$/, /apm\/api\/v1\/collect$/]},
        Rf = function () {
            function e(e, t) {
                this.logs = [], this.started = !1, this.wx = e, this.config = t, this.reporter = new Tf(this.wx, t), this.timeser = new Cf, this.socketTimeser = new Ef
            }

            return e.prototype.clearReporter = function (e) {
                return e && clearTimeout(e), null
            }, e.prototype.finalReport = function () {
                var e = this.logs, t = this.timeser.getInfo(), n = this.socketTimeser.getInfo();
                this.reporter.report({logs: e, times: t, sockets: n}, function (e) {
                }), this.logs = [], this.timeser.reset(), this.socketTimeser.reset(), this.errorReporter = this.clearReporter(this.errorReporter), this.fixedReporter = this.clearReporter(this.fixedReporter), this.fixedReport()
            }, e.prototype.fixedReport = function () {
                this.fixedReporter = setTimeout(this.finalReport.bind(this), this.config.ReportDelay)
            }, e.prototype.startFixedReport = function () {
                this.started || (this.started = !0, this.fixedReport())
            }, e.prototype.tryReport = function (e) {
                this.checkValid(e) && (this.add(e), this.errorReporter || (this.errorReporter = setTimeout(this.finalReport.bind(this), this.config.ErrorReportDelay)))
            }, e.prototype.collect = function (e) {
                this.checkValid(e) && this.add(e)
            }, e.prototype.checkValid = function (e) {
                return !(!e || e.resURI && e.resURI.startsWith(this.reporter.getReportUrl()) || e.resURI && (this.filters || (this.filters = Of.Filters || [], this.filters = this.filters.concat(this.config.Filters)), this.filters.length && this.filters.some(function (t) {
                    return t && t.test && t.test(e.resURI)
                })))
            }, e.prototype.isRepeat = function (e, t) {
                return void 0 === e && (e = {}), void 0 === t && (t = {}), !(!e.id || e.id !== t.id) || !!this.config.ClearRepeatLog && ["resURI", "logType", "extra"].every(function (n) {
                    return JSON.stringify(e[n]) == JSON.stringify(t[n])
                })
            }, e.prototype.add = function (e) {
                var t = this;
                this.logs.some(function (n, r) {
                    if (t.isRepeat(e, n)) return (!e.timestamp || e.timestamp > n.timestamp) && (t.logs[r] = e), !0
                }) || (this.logs.push(e), this.startFixedReport())
            }, e
        }(), Pf = 1, Mf = ["comb-platform", "comb-platform-test", "comb-platform-dev"], Df = "unc-err", Lf = "soc-err",
        Nf = function () {
            function e(e, t) {
                void 0 === t && (t = {}), this.id = Pf++, this.logType = e, this.extra = {}, this.collected = !1, this.collector = t, this.initTimes()
            }

            return e.prototype.setType = function (e) {
                return this.logType = e, this
            }, e.prototype.addExtra = function (e) {
                return e.url && (this.resURI = e.url), e.errMsg && !e.msg && (e.msg = e.errMsg), this.extra = Object.assign(this.extra, e), this
            }, e.prototype.updateTimes = function (e) {
                return this.requestInfo = e.requestInfo, this.socketInfo = e.socketInfo, this
            }, e.prototype.initTimes = function (e) {
                e && "all" != e ? "requestInfo" == e ? this.initRequestInfo() : this.initSocketInfo() : (this.initRequestInfo(), this.initSocketInfo())
            }, e.prototype.initRequestInfo = function () {
                this.requestInfo = {
                    platformSource: {requestTimes: 0, downloadTimes: 0},
                    gameSource: {requestTimes: 0, downloadTimes: 0}
                }
            }, e.prototype.initSocketInfo = function () {
                this.socketInfo = {connectTimes: 0, disconnectTimes: 0}
            }, e.prototype.addRequestTimes = function (e, t) {
                var n = this.getPlatformByUrl(e);
                this.requestInfo[n][t] += 1
            }, e.prototype.addSocketTimes = function (e) {
                this.socketInfo[e] += 1
            }, e.prototype.start = function () {
                return this.startTime = (new Date).getTime(), this
            }, e.prototype.end = function () {
                return this.timestamp = (new Date).getTime() - this.startTime, this.timestamp = this.timestamp < 0 ? 0 : this.timestamp, this.collect(), this
            }, e.prototype.collect = function () {
                return this.collected || "function" != typeof this.collector.collect || (this.collected = !0, this.collector.collect(this)), this
            }, e.prototype.tryReport = function () {
                return this.collected || "function" != typeof this.collector.tryReport || (this.collected = !0, this.collector.tryReport(this)), this
            }, e.prototype.toJSON = function () {
                return {
                    res: this.resURI,
                    type: this.logType,
                    ts: this.timestamp,
                    ext: this.extra,
                    requestInfo: this.requestInfo,
                    socketInfo: this.socketInfo
                }
            }, e.prototype.getPlatformByUrl = function (e) {
                var t = [];
                "string" == typeof e && (t = e.split("//"));
                var n = [];
                "string" == typeof t[1] && (n = t[1].split("."));
                var r = n.length ? n[0] : "";
                return Mf.indexOf(r) > -1 ? "platformSource" : "gameSource"
            }, e
        }(), Uf = function () {
            function e(e) {
                var t = e.wx, n = e.config, r = e.collector;
                this.wx = t, this.config = n, this.collector = r
            }

            return e.prototype.handle = function () {
            }, e.prototype.isFun = function (e) {
                return !(!e || "function" != typeof e)
            }, e.prototype.tracker = function (e, t) {
                return void 0 === t && (t = {}), new Nf(e, this.collector).addExtra(t)
            }, e
        }(), qf = function (e) {
            function t(t) {
                return e.call(this, t) || this
            }

            return ee(t, e), t.prototype.handle = function () {
                (this.config.EnabledDownLoadErr || this.config.EnabledDownLoadPerf) && Nt(this.wx, "downloadFile", this.downloadFileHandler.bind(this))
            }, t.prototype.downloadFileHandler = function (e) {
                var t = this;
                return function (n) {
                    var r = t.tracker("", {url: n.url, filePath: n.filePath}).start(), i = function (e) {
                        console.log("[APM] download err", e), t.config.EnabledDownLoadErr && (r.addRequestTimes(n.url, Af), r.setType("down-err").addExtra(e).end())
                    };
                    return e(Object.assign({}, n, {
                        success: function (e) {
                            void 0 === e && (e = {});
                            var o, a = e.statusCode, s = e.header ? e.header["Content-Length"] : 0;
                            200 == a ? (o = {
                                status: a,
                                size: s
                            }, t.config.EnabledDownLoadPerf && (r.addRequestTimes(n.url, Af), r.setType("down-req").addExtra(o).end())) : i({
                                status: a,
                                err: e.data,
                                size: s
                            }), n.success && n.success.call(this, e)
                        }, fail: function (e) {
                            i({err: e}), n.fail && n.fail.call(this, e)
                        }
                    }))
                }
            }, t
        }(Uf), Ff = function (e) {
            function t(t) {
                return e.call(this, t) || this
            }

            return ee(t, e), t.prototype.handle = function () {
                (this.config.EnabledResErr || this.config.EnabledResPerf) && Nt(this.wx, "request", this.requestHandler.bind(this))
            }, t.prototype.requestHandler = function (e) {
                var t = this;
                return function (n) {
                    var r = t.tracker("", {url: n.url, method: n.method}).start(), i = function (e) {
                        t.config.EnabledResErr && (r.addRequestTimes(n.url, Sf), r.setType("res-err").addExtra(e).end())
                    };
                    return e(Object.assign({}, n, {
                        success: function (e) {
                            void 0 === e && (e = {});
                            var o, a = e.header ? e.header["Content-Length"] : 0, s = e.statusCode;
                            200 == s ? (o = {
                                status: s,
                                size: a
                            }, t.config.EnabledResPerf && (r.addRequestTimes(n.url, Sf), r.setType("res-req").addExtra(o).end())) : i({
                                status: s,
                                err: e.data,
                                size: a
                            }), n.success && n.success.call(this, e)
                        }, fail: function (e) {
                            i({err: e}), n.fail && n.fail.call(this, e)
                        }
                    }))
                }
            }, t
        }(Uf), jf = function (e) {
            function t(t) {
                return e.call(this, t) || this
            }

            return ee(t, e), t.prototype.handle = function () {
                (this.config.EnabledUpLoadErr || this.config.EnabledUpLoadPerf) && Nt(this.wx, "uploadFile", this.uploadFileHandler.bind(this))
            }, t.prototype.uploadFileHandler = function (e) {
                var t = this;
                return function (n) {
                    var r = t.tracker("", {url: n.url, filePath: n.method}).start(), i = function (e) {
                        t.config.EnabledUpLoadErr && (r.addRequestTimes(n.url, Sf), r.setType("up-err").addExtra(e).end())
                    };
                    return e(Object.assign({}, n, {
                        success: function (e) {
                            void 0 === e && (e = {});
                            var o, a = e.statusCode, s = e.header ? e.header["Content-Length"] : 0;
                            200 == a ? (o = {
                                status: a,
                                size: s
                            }, t.config.EnabledUpLoadPerf && (r.addRequestTimes(n.url, Sf), r.setType("up-req").addExtra(o).end())) : i({
                                status: a,
                                err: e.data,
                                size: s
                            }), n.success && n.success.call(this, e)
                        }, fail: function (e) {
                            i({err: e}), n.fail && n.fail.call(this, e)
                        }
                    }))
                }
            }, t
        }(Uf), Vf = function (e) {
            function t(t) {
                return e.call(this, t) || this
            }

            return ee(t, e), t.prototype.handle = function () {
                (this.config.EnabledSocket || this.config.EnabledSocketTimes) && Nt(this.wx, "connectSocket", this.connectSocketHandler.bind(this))
            }, t.prototype.connectSocketHandler = function (e) {
                var t = this;
                return function (n) {
                    var r = void 0;
                    if (t.config.EnabledSocket) {
                        var i = {url: n.url, method: n.method, protocols: n.protocols};
                        t.log = t.tracker("", i).start(), (r = e(Object.assign({}, n, {
                            success: function (e) {
                                var r;
                                r = {status: 200}, t.log.setType("soc-req").addExtra(r).end(), n.success && n.success.call(this, e)
                            }, fail: function (e) {
                                !function (e) {
                                    t.log.setType(Lf).addExtra(e).end()
                                }({err: e}), n.fail && n.fail.call(this, e)
                            }
                        }))) && r.onError(function (e) {
                            !function (e) {
                                t.tracker(Lf, i).addExtra(e).collect()
                            }({err: e})
                        })
                    } else r = e(n);
                    return r && t.config.EnabledSocketTimes && (t.log.initTimes("socketInfo"), t.log.addSocketTimes("connectTimes"), r.onClose(function (e) {
                        1e3 !== e.code && (t.log.initTimes("socketInfo"), t.log.addSocketTimes("disconnectTimes"))
                    })), r
                }
            }, t
        }(Uf), Hf = [];
    "function" == typeof wx.onError && wx.onError(Ut);
    var Gf = [];
    "function" == typeof wx.onUnhandledRejection && wx.onUnhandledRejection(qt);
    var Wf = function (e) {
        function t(t) {
            return e.call(this, t) || this
        }

        return ee(t, e), t.prototype.handle = function () {
            "undefined" != typeof console && this.config.EnabledConsoleErr && Nt(console, "error", this.consoleErrorHandler.bind(this)), this.wx.onError && this.config.EnabledAppOnErr && (Nt(this.wx, "onError", this.onErrorhandler.bind(this)), this.bindOnError(), this.wx.offError && Nt(this.wx, "offError", this.offErrorhandler.bind(this)))
        }, t.prototype.renderErrMsg = function (e) {
            if (void 0 === e && (e = ""), e && "string" != typeof e) return {msg: JSON.stringify(e)};
            var t = e.split("\n"), n = t.slice(0, 2).join("\n"), r = t.slice(2), i = (r[1] || "").split(":"),
                o = (i.pop() || "").replace(")", "") - 0, a = (i.pop() || "") - 0;
            return {line: a = isNaN(a) ? 0 : a, column: o, msg: n, stack: r}
        }, t.prototype.bindOnError = function () {
            var e = this;
            this.bindedOnError || (this.bindedOnError = !0, Hf.length && (Hf.forEach(function (t) {
                e.handleWXOnError(t)
            }), Hf = []), wx.offError(Ut), wx.onError(function (t) {
                e.handleWXOnError(t)
            }), "function" == typeof wx.onUnhandledRejection && (Gf.length && (Gf.forEach(function (t) {
                e.handleWXOnUnhandledRejection(t)
            }), Gf = []), wx.offUnhandledRejection(qt), wx.onUnhandledRejection(function (t) {
                e.handleWXOnUnhandledRejection(t)
            })))
        }, t.prototype.handleWXOnError = function (e) {
            console.log("[APM] onError error", e);
            var t = this.renderErrMsg(e.message);
            t.stack = e.stack || t.stack, this.tracker(Df).addExtra(t).tryReport()
        }, t.prototype.handleWXOnUnhandledRejection = function (e) {
            var t, n;
            if (console.log("[APM] onUnhandledRejection error", e), null === (t = null == e ? void 0 : e.reason) || void 0 === t ? void 0 : t.message) {
                var r = this.renderErrMsg("onUnhandledRejection: " + e.reason.message);
                (null === (n = e.reason) || void 0 === n ? void 0 : n.stack) && "function" == typeof e.reason.stack.split && (r.stack = e.reason.stack.split("\n")), this.tracker(Df).addExtra(r).tryReport()
            }
        }, t.prototype.onErrorhandler = function (e) {
            var t = this;
            return function (n) {
                return t.bindOnError(), e(n)
            }
        }, t.prototype.offErrorhandler = function (e) {
            var t = this;
            return function (n) {
                var r = e(n);
                return n || (t.bindedOnError = !1, t.bindOnError()), r
            }
        }, t.prototype.consoleErrorHandler = function (e) {
            var t = this;
            return function () {
                for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
                return function (e) {
                    void 0 === e && (e = {});
                    var n = t.renderErrMsg(e[0]);
                    t.tracker(Df).addExtra(n).tryReport()
                }(n), e.apply(void 0, n)
            }
        }, t
    }(Uf), Bf = function (e) {
        function t(t) {
            var n = e.call(this, t) || this;
            return n.bindTimes = 0, n.reported = !1, n
        }

        return ee(t, e), t.prototype.handle = function () {
            this.isFun(this.wx.onMemoryWarning) && this.config.EnabledMemoryWarning && (Nt(this.wx, "onMemoryWarning", this.memoryWranHandler.bind(this)), this.firstBind())
        }, t.prototype.firstBind = function () {
            this.wx.onMemoryWarning(function (e) {
            })
        }, t.prototype.report = function (e, t) {
            this.reported || t != this.bindTimes || (this.tracker("mem-warn").addExtra(e || {}).collect(), this.reported = !0)
        }, t.prototype.memoryWranHandler = function (e) {
            var t = this;
            return function (n) {
                var r = ++t.bindTimes;
                return e(function (e) {
                    t.report(e, r), t.isFun(n) && n(e)
                })
            }
        }, t
    }(Uf), Kf = function () {
        function e(e, t) {
            this.wx = e, this.config = t, this.collector = new Rf(e, t);
            var n = {wx: e, config: t, collector: this.collector};
            this.handlers = [new Vf(n), new Wf(n), new Ff(n), new qf(n), new jf(n), new Bf(n)]
        }

        return e.prototype.track = function () {
            return this.handlers.forEach(function (e) {
                e.handle()
            }), this
        }, e.prototype.tracker = function (e, t) {
            return void 0 === t && (t = {}), new Nf(e, this.collector).addExtra(t)
        }, e.prototype.setUserInfo = function (e) {
            this.collector && this.collector.reporter.setUserInfo(e)
        }, e
    }(), zf = {version: "1.10.10", date: 1601443721480, mode: "dev"}, Qf = new (function () {
        function e() {
        }

        return e.prototype.init = function (e) {
            var t = Object.assign({}, e);
            t.Debug = !t.env || "Prod" !== t.env || t.Debug, this.wxTracker = new Kf(wx, Object.assign({}, xf, zf, t)).track()
        }, e.prototype.notify = function (e) {
            var t = e.msg, n = e.data;
            return this.wxTracker ? this.wxTracker.tracker("game-notice", Object.assign({msg: t}, n)).collect() : {errMsg: "please init apm first"}
        }, e.prototype.notifyError = function (e) {
            var t = e.msg, n = e.data;
            return this.notify({msg: t, data: n})
        }, e.prototype.newTracker = function (e) {
            var t = e.msg, n = e.data;
            return this.wxTracker ? this.wxTracker.tracker("game-track", Object.assign({msg: t}, n)) : {errMsg: "please init apm first"}
        }, e.prototype.setUserInfo = function (e) {
            this.wxTracker && this.wxTracker.setUserInfo(e)
        }, e
    }());
    zs.once(As, function () {
        var e = Ee();
        Qf.init(e)
    }), zs.on(Rs, function (e) {
        var t, n;
        Qf.setUserInfo({userId: null === (n = null === (t = null == e ? void 0 : e.data) || void 0 === t ? void 0 : t.userSdk) || void 0 === n ? void 0 : n.uniqueId})
    });
    var Jf, Yf = Qf, Xf = {}, $f = "invalid ad id in gm-v2", Zf = {}, eh = {}, th = {
        _canUseNavigate: ae("navigateToMiniProgram", "2.2.0"), navigateToMiniProgram: function (e, t) {
            var n = this;
            return new Promise(function (r, i) {
                if (!n._canUseNavigate) return t ? r(n.previewImage(t)) : i(ol);
                var o = Object.assign({}, e, {
                    success: r, fail: function (e) {
                        var o = (e || {}).errMsg;
                        if ((void 0 === o ? "" : o).indexOf("cancel") > -1) e.isCancel = !0; else if (t) return r(n.previewImage(t));
                        i(e || ol)
                    }
                });
                wx.navigateToMiniProgram(o)
            })
        }, previewImage: function (e) {
            return new Promise(function (t, n) {
                if (!e) return n(ol);
                wx.previewImage({current: e, urls: [e], success: t, fail: n})
            })
        }
    }, nh = {
        _canUseCustomer: ae("openCustomerServiceConversation", "2.0.3"),
        openCustomerServiceConversation: function (e) {
            var t = this;
            return new Promise(function (n, r) {
                t._canUseCustomer ? wx.openCustomerServiceConversation(Object.assign({}, e, {
                    success: n,
                    fail: r
                })) : r(il)
            })
        }
    }, rh = {
        _getAppInfo: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n, r, i, o, a, s;
                return ne(this, function (c) {
                    switch (c.label) {
                        case 0:
                            if (this.jumpInfo) return [2, this.jumpInfo];
                            if (t = Ee().gameId, n = Nl.getSDKUserInfo() || {}, r = n.uniqueId, i = n.channel, !(o = Object.assign({}, e || {}, {
                                fromGameId: t,
                                fromUserId: r,
                                channel: i
                            })).fromUserId) throw al;
                            return a = Js.combHost + "/sdk/conf/api/v1/customer/get", [4, gc.get(a, o)];
                        case 1:
                            return s = c.sent().data, this.jumpInfo = s || {}, [2, s]
                    }
                })
            })
        }, goCustomer: function (e) {
            return te(this, void 0, void 0, function () {
                var t;
                return ne(this, function (n) {
                    switch (n.label) {
                        case 0:
                            return [4, this._getAppInfo(e)];
                        case 1:
                            return t = n.sent(), [4, th.navigateToMiniProgram(t, t.url)];
                        case 2:
                            return n.sent(), [2]
                    }
                })
            })
        }, openCustomer: function (e) {
            return te(this, void 0, void 0, function () {
                var t;
                return ne(this, function (n) {
                    switch (n.label) {
                        case 0:
                            return n.trys.push([0, 3, , 4]), null == e.customerData || e.customerData.constructor !== Object ? [3, 2] : [4, this._getAppInfo(e.customerData)];
                        case 1:
                            t = n.sent(), e.sessionFrom = hd(t.path + "&eventName=customer"), e.showMessageCard = !1, n.label = 2;
                        case 2:
                            return Je("jump customer data:", e), [2, nh.openCustomerServiceConversation(e)];
                        case 3:
                            return [2, n.sent()];
                        case 4:
                            return [2]
                    }
                })
            })
        }
    }, ih = function (e) {
        return new Promise(function (t, n) {
            wx.requestMidasPayment(Object.assign({}, e, {success: t, fail: n}))
        })
    }, oh = function (e) {
        e.layer = cc.Layers.Enum.UI_2D
    }, ah = function (e, t) {
        e.setContentSize(t)
    }, sh = function (e, t) {
        var n = e.addComponent("cc.Widget");
        return null != t.top && (n.top = t.top, n.isAlignTop = !0), null != t.bottom && (n.bottom = t.bottom, n.isAlignBottom = !0), null != t.right && (n.right = t.right, n.isAlignRight = !0), null != t.left && (n.left = t.left, n.isAlignLeft = !0), null != t.isHorizontal && (n.isAlignHorizontalCenter = !0), null != t.isVertical && (n.isAlignVerticalCenter = !0), n
    }, ch = function (e) {
        return e.getComponent("cc.UITransform") || e.getComponent("cc.UITransformComponent")
    }, uh = null, lh = 1, dh = 2, fh = 3, hh = "", ph = 0, gh = !1;
    pn.prototype = {
        _init: function () {
            var e = this.opt, t = e.list, n = e.lastIndex, r = e.weightCount;
            if (t && t.length) {
                this.lastIndex = "number" == typeof n ? n : -1;
                var i = 0;
                "number" == typeof r ? i = r : t.map(function (e) {
                    var t = e.weight;
                    i += (void 0 === t ? 0 : t) - 0
                }), 0 === i && (this.allZero = !0, i = t.length * this.unitWeight), this.allWeight = i
            }
        }, _setLastIndex: function (e) {
            this.lastIndex = e
        }, _getLastIndex: function () {
            return this.lastIndex
        }, _getRandomIndex: function () {
            var e = this, t = this.opt.list, n = Math.floor(Math.random() * this.allWeight), r = 0;
            return t.findIndex(function (t) {
                var i = e.allZero ? e.unitWeight : t.weight, o = !!(r <= n && n < r + i);
                return o || (r += i), o
            })
        }, _getUniqueIndex: function () {
            var e = this._getLastIndex(), t = this._getRandomIndex();
            return t !== e ? (this._setLastIndex(t), t) : this._getUniqueIndex()
        }, getIndex: function () {
            var e = -1;
            switch (this.opt.list.length) {
                case 0:
                    e = -1;
                    break;
                case 1:
                    e = 0;
                    break;
                default:
                    e = this._getUniqueIndex()
            }
            return e
        }, getData: function () {
            var e = (this.opt || {}).list;
            return (void 0 === e ? [] : e)[this.getIndex()]
        }
    };
    var vh = {
        _renderQuery: function (e) {
            var t = e || {}, n = t.query, r = t.shareConfigId, i = t.activityId, o = t.shareGuid, a = fc.getTimeSec(),
                s = Nl.getSDKUserInfo() || {}, c = s.h_shareCode, u = void 0 === c ? "" : c, l = s.channel,
                d = void 0 === l ? "hortor_" : l, f = s.origChannel, h = void 0 === f ? "" : f, p = {
                    channel: fc.endsWith(d, "_") ? d : d + "_",
                    h_shareCode: u,
                    timestamp: a,
                    origChannel: h,
                    shareConfigId: r,
                    activityId: i,
                    share_guid: o,
                    activityKey: Sh
                };
            return fc.addToQuery(n, p)
        }, _renderTitle: function (e) {
            var t = e || {}, n = t.title, r = t.titleParams;
            return n ? (r && "object" == (void 0 === r ? "undefined" : Zn(r)) && Object.keys(r).forEach(function (e) {
                if (new RegExp("({{" + e + "}})").test(n)) {
                    var t = r[e] + "";
                    n = n.replace(RegExp.$1, t)
                }
            }), n = n.replace(/({{[-\w]*}})/g, "")) : ""
        }, _renderImageUrl: function (e) {
            var t = e || {}, n = t.imageUrl, r = t.imageParams;
            return n ? (r && "object" == (void 0 === r ? "undefined" : Zn(r)) && Object.keys(r).forEach(function (e) {
                if (new RegExp("({{" + e + "}})").test(n)) {
                    var t = r[e] + "";
                    n = n.replace(RegExp.$1, t)
                }
            }), n = n.replace(/({{[-\w]*}})/g, "")) : ""
        }, _renderShareGuid: function (e) {
            var t = e || {}, n = t.query, r = t.shareGuid, i = void 0 === r ? "" : r,
                o = (t.sequenceInfo || {}).shareGuid;
            if (!fc.isEmpty(o)) return o;
            if (!fc.isEmpty(i)) return i;
            var a = fc.queryToJson(n);
            return fc.isEmpty(a.share_guid) ? fc.generateGuid() : a.share_guid
        }, _renderForceResult: function (e) {
            return ((e || {}).sequenceInfo || {}).forceResult
        }, _renderShareId: function (e) {
            var t = e || {}, n = t.id, r = t.query;
            return n || fc.queryToJson(r).shareConfigId || ""
        }, renderShare: function (e, t) {
            var n = (e || {}).beforeShare, r = fc.isFun(n) ? n(t) : null,
                i = Object.assign({}, t || {}, e || {}, r || {});
            return i.shareConfigId = this._renderShareId(i), i.title = this._renderTitle(i), i.imageUrl = this._renderImageUrl(i), i.shareGuid = this._renderShareGuid(i), i.query = this._renderQuery(i), i.forceResult = this._renderForceResult(i), fc.copy(i, ["id", "gameID", "beforeShare", "success", "fail", "complete"])
        }, renderShareThemes: function (e) {
            if (!e || !e.length) return {};
            var t = {}, n = {};
            for (var r in e.map(function (e) {
                t[e.type] = t[e.type] || [], t[e.type].push(e)
            }), t) n[r] = new pn({list: t[r]});
            return n
        }, renderPostParams: function (e) {
            var t = e || {}, n = t.shareConfigId;
            return {
                shareConfigId: void 0 === n ? "" : n,
                customShareType: t.shareType,
                activityId: t.activityId,
                content: fc.copy(e, ["activityId", "shareType", "shareConfigId"])
            }
        }
    }, mh = ae("updateShareMenu", "1.2.0"), yh = ae("updateShareMenu", "2.4.0"), _h = {
        set: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n, r;
                return ne(this, function (i) {
                    switch (i.label) {
                        case 0:
                            return n = (t = e || {}).activityId, r = t.templateInfo, [4, vn({
                                withShareTicket: !0,
                                isUpdatableMessage: !0,
                                activityId: n,
                                templateInfo: void 0 === r ? {} : r
                            })];
                        case 1:
                            return [2, i.sent()]
                    }
                })
            })
        }, clear: function () {
            return te(this, void 0, void 0, function () {
                return ne(this, function (e) {
                    switch (e.label) {
                        case 0:
                            return [4, fc.wait(1)];
                        case 1:
                            return e.sent(), [4, vn({withShareTicket: !0, isUpdatableMessage: !1, templateInfo: {}})];
                        case 2:
                            return [2, e.sent()]
                    }
                })
            })
        }
    };
    mn.prototype = {
        init: function (e) {
            if (!this.inited) {
                this.inited = !0;
                var t = e || {}, n = t.forceResult, r = t.shareSuccessDiff, i = t.onShareCallbackTime, o = t.success,
                    a = t.fail, s = t.complete;
                this.successDiff = r || 2e3, this.onCallbackTime = i || 500, this.forceResult = n, this.showEnv = this.onShow.bind(this, {
                    success: o,
                    fail: a,
                    complete: s
                }), this._bind()
            }
        }, _bind: function () {
        }, _unbind: function () {
        }, onShow: function (e, t) {
            if (!this.destroyed) {
                var n = e || {}, r = n.success, i = n.fail, o = n.complete, a = ((t || {}).data || {}).hideDuration;
                this._check(a || 0).then(function (e) {
                    o && fc.isFun(o) && o(e), fc.isFun(r) && r(e)
                }).catch(function (e) {
                    o && fc.isFun(o) && o(e), fc.isFun(i) && i(e)
                })
            }
        }, _check: function (e) {
            return te(this, void 0, void 0, function () {
                var t, n;
                return ne(this, function (r) {
                    switch (r.label) {
                        case 0:
                            return fc.getTime(), t = this.successDiff, this.destroy(), [4, fc.wait(this.onCallbackTime)];
                        case 1:
                            if (r.sent(), n = {
                                isForce: !1,
                                isFake: !0,
                                diffTime: e,
                                successDiff: t,
                                errMsg: "微信分享回调已经废弃，这是模拟分享成功"
                            }, "success" === this.forceResult) return n.isForce = !0, n.errMsg = "强制分享成功", [2, n];
                            if ("fail" === this.forceResult) throw n.isForce = !0, n.errMsg = "强制分享失败", n;
                            if (e < t) throw n.errMsg = "分享操作太快，模拟分享失败", n;
                            return [2, n]
                    }
                })
            })
        }, destroy: function () {
            this.destroyed || (this._unbind(), this.destroyed = !0)
        }
    };
    var Ih = {
        withShareTicket: !0,
        openGetShareTheme: !0,
        shareSuccessDiff: 2e3,
        onShareCallbackTime: 500,
        useShareAdapter: !0
    }, wh = {}, bh = {}, Th = "", kh = !1, Sh = "";
    zs.once(As, function () {
        var e;
        $e(Fs, yn), e = Ee();
        var t = (wh = Object.assign({}, wh || Ih, e || {})).openShareTimeline, n = void 0 !== t && t,
            r = ae("onShareTimeline", "2.11.3") && n;
        gn(r ? {
            withShareTicket: !0,
            menus: ["shareAppMessage", "shareTimeline"]
        } : {withShareTicket: !0}), An(function () {
            return {}
        }), r && Cn(function () {
            return {}
        });
        var i = wh || {}, o = i.openGetShareTheme, a = void 0 === o || o, s = i.shareThemes;
        a && function (e) {
            return te(this, void 0, void 0, function () {
                var t, n, r;
                return ne(this, function (i) {
                    switch (i.label) {
                        case 0:
                            return t = (wh || {}).gameId, n = {gameID: t}, e && e.length && (n.shareTypes = e), r = "" + Js.combHost + $s, [4, gc.post(r, {
                                gameId: t,
                                gameTp: "minigame",
                                shareSceneTypes: [1, 2]
                            })];
                        case 1:
                            return [2, i.sent()]
                    }
                })
            })
        }(s).then(function (e) {
            _n(e)
        }).catch(function (e) {
            Je("getShareTheme err", e)
        }), function (e) {
            ae("onShareMessageToFriend", "2.9.4") && wx.onShareMessageToFriend(e)
        }(function (e) {
            zs.dispatch(Tl, e)
        })
    }), zs.once(Rs, function () {
        En()
    });
    var Ah = ae("requestSubscribeMessage", "2.8.3"), Ch = ae("requestSubscribeWhatsNew", "2.10.4"),
        Eh = {accept: "acceptIds", reject: "rejectIds", ban: "banIds"}, xh = {
            TasksErr: {errCode: 70001, errMsg: "获取任务失败"},
            NoTask: {errCode: 70002, errMsg: "任务不存在"},
            GoErr: {errCode: 70003, errMsg: "跳转任务失败"},
            AwardGetted: {errCode: 70004, errMsg: "已经领取奖励"},
            GetAwardErr: {errCode: 70005, errMsg: "领奖失败"}
        }, Oh = "panel", Rh = {InBox: 1, InGame: 2, Login: 3, Play: 4, PlayNoSDK: 5}, Ph = "", Mh = function () {
            if (!Ph) {
                var e = se();
                Ph = JSON.stringify({
                    SDKVersion: e.SDKVersion,
                    brand: e.brand,
                    model: e.model,
                    system: e.system,
                    version: e.version,
                    wallSDKV: e.hortorSDKVersion
                })
            }
            return Ph
        }, Dh = function (e) {
            var t = Ee() || {}, n = t.gameId, r = t.wallKey, i = t.gameVersion, o = t.key, a = Nl.getSDKUserInfo() || {},
                s = a.userId, c = a.uniqueId, u = a.sex, l = a.channel, d = a.origChannel, f = a.masterUniqueId,
                h = Nl.getGameUser(), p = h.serverId, g = void 0 === p ? "" : p, v = h.roleId, m = Ce();
            m.scene;
            var y = m.custom || {}, _ = y.channel, I = y.origChannel;
            return Object.assign({
                gameId: n,
                key: r || o,
                gameVersion: i,
                openId: s || v,
                gameServerId: g,
                sex: u,
                uniqueId: c || v,
                masterUniqueId: f || v,
                channel: l || _,
                origChannel: d || I,
                sysInfo: Mh()
            }, e || {})
        }, Lh = "", Nh = Dh, Uh = function () {
            return Lh
        }, qh = function (e, t) {
            !function (e) {
                var t = Ee() || {}, n = t.wallKey, r = t.key;
                if (n || r) {
                    var i = (Ce().custom || {}).boxCode, o = void 0 === i ? "" : i,
                        a = Dh(Object.assign({traceId: "", wallCode: o}, e || {})), s = Js.combHost + "/wall/api/v1/log";
                    gc.postForm(s, a).then(function (e) {
                        Lh = ((e || {}).data || {}).traceIdStr || ""
                    }).catch(function () {
                    })
                }
            }(Gs({logType: e}, t))
        }, Fh = {
            createQRCode: function (e) {
                return te(this, void 0, void 0, function () {
                    var t, n, r, i, o, a;
                    return ne(this, function (s) {
                        switch (s.label) {
                            case 0:
                                return s.trys.push([0, 4, 5, 6]), Je("creating code ", e), n = (t = e || {}).codeUrl, r = t.backUrl, wx.showLoading(Object.assign({title: "请稍等..."}, c || {})), [4, this._createImages({
                                    codeUrl: n,
                                    backUrl: r
                                })];
                            case 1:
                                return i = s.sent(), [4, this._drawQRCodeMiniGame(i)];
                            case 2:
                                return o = s.sent().tempFilePath, [4, th.previewImage(o)];
                            case 3:
                                return [2, s.sent()];
                            case 4:
                                throw Je("create code fail ", a = s.sent()), a;
                            case 5:
                                return wx.hideLoading(), [7];
                            case 6:
                                return [2]
                        }
                        var c
                    })
                })
            }, _createImages: function (e) {
                return te(this, void 0, void 0, function () {
                    var t, n, r, i, o, a, s;
                    return ne(this, function (c) {
                        switch (c.label) {
                            case 0:
                                for (r in t = {}, n = [], e) n.push(r);
                                i = 0, c.label = 1;
                            case 1:
                                return i < n.length ? (o = n[i], a = t, s = o, [4, Nn(e[o])]) : [3, 4];
                            case 2:
                                a[s] = c.sent(), c.label = 3;
                            case 3:
                                return i++, [3, 1];
                            case 4:
                                return [4, fc.wait(100)];
                            case 5:
                                return c.sent(), [2, t]
                        }
                    })
                })
            }, _drawQRCodeMiniGame: function (e) {
                return te(this, void 0, void 0, function () {
                    var t, n, r, i, o;
                    return ne(this, function (a) {
                        switch (a.label) {
                            case 0:
                                return t = e.backUrl, n = e.codeUrl, (r = {
                                    w: 750,
                                    h: 1334,
                                    cw: 260,
                                    cp: .05,
                                    cx: .5,
                                    cy: .828
                                }).cx = parseInt(String(r.cx * r.w), 10), r.cy = parseInt(String(r.cy * r.h), 10), r.cp = parseInt(String(r.cp * r.cw), 10), r.cr = parseInt(String(r.cw / 2), 10), r.cqw = parseInt(String(r.cw - 2 * r.cp), 10), r.cqx = parseInt(String(r.cx - r.cqw / 2), 10), r.cqy = parseInt(String(r.cy - r.cqw / 2), 10), (i = wx.createCanvas()).width = r.w, i.height = r.h, (o = i.getContext("2d")).drawImage(t, 0, 0, r.w, r.h), o.beginPath(), o.arc(r.cx, r.cy, r.cr, 0, 2 * Math.PI), o.fillStyle = "rgba(255,255,255,1)", o.fill(), o.clip(), o.drawImage(n, r.cqx, r.cqy, r.cqw, r.cqw), [4, fc.wait(100)];
                            case 1:
                                return a.sent(), [4, this._toTempFilePath(i, r)];
                            case 2:
                                return [2, a.sent()]
                        }
                    })
                })
            }, _toTempFilePath: function (e, t) {
                return new Promise(function (n, r) {
                    var i = t.x, o = void 0 === i ? 0 : i, a = t.y, s = void 0 === a ? 0 : a, c = t.w, u = t.h;
                    e.toTempFilePath({x: o, y: s, width: c, height: u, destWidth: c, destHeight: u, success: n, fail: r})
                })
            }
        }, jh = !1, Vh = "hsdk_wall_tasks", Hh = {
            logined: !1,
            tasksMap: {},
            lastTask: null,
            onlineTimer: null,
            onlineTime: 0,
            onlineTotal: 0,
            allTasks: [],
            dataSource: "",
            init: function () {
                zs.once(Cs, this._onLaunch.bind(this)), zs.once(Ls, this._onLogined.bind(this))
            },
            _onLaunch: function () {
                var e = Nl.getSDKUserInfo() || {}, t = e.userId, n = e.uniqueId;
                if (t && n) return qh(2);
                zs.once(Rs, function () {
                    qh(2)
                })
            },
            _onLogined: function () {
                this.logined || (this.logined = !0, Je("wall logined"), this.postLog(3), this._startOnline(), this._bindEvent())
            },
            _startOnline: function () {
                var e = this;
                if ((Ce().custom || {}).boxCode) {
                    var t = function () {
                        e.onlineTime += 10, e.onlineTotal += 10;
                        var t = Uh();
                        !t || e.onlineTime < 60 || (e.postLog(6, {
                            wallCode: "",
                            online: e.onlineTime,
                            onlineTotal: e.onlineTotal,
                            traceIdStr: t
                        }), e.onlineTime = 0)
                    }, n = function () {
                        Je("wall start beat"), fc.reclearInterval(e.onlineTimer), e.onlineTimer = fc.resetInterval(t, 1e4)
                    };
                    zs.on(Cs, n), zs.on(Es, function () {
                        Je("wall clear beat"), fc.reclearInterval(e.onlineTimer)
                    }), n()
                }
            },
            _bindEvent: function () {
                var e = this, t = null, n = (Ee() || {}).taskCheckDelay || 1500;
                zs.on(Cs, function (r) {
                    var i = (r || {}).data;
                    e._fixOnlineLog(i), t = setTimeout(e.checkLastTask.bind(e), n)
                }), zs.on(Es, function () {
                    t && (clearTimeout(t), t = null)
                })
            },
            _getTasks: function (e) {
                return te(this, void 0, void 0, function () {
                    var t, n, r, i, o, a, s, c;
                    return ne(this, function (u) {
                        switch (u.label) {
                            case 0:
                                return (t = function () {
                                    var e = Ql.getStorage(Vh);
                                    if (!e) return null;
                                    try {
                                        var t = JSON.parse(e), n = (new Date).getTime(), r = t.saveTime;
                                        return n - r > 6e4 || n <= r ? null : t
                                    } catch (e) {
                                        return null
                                    }
                                }()) ? (Je("wall get cache tasks", t.taskList), this.handleTaskMap(t.taskList), [2, t]) : [3, 1];
                            case 1:
                                return n = Js.combHost + "/wall/api/v1/tasks", r = Nh(), e && (r = Object.assign(r, e)), [4, gc.postForm(n, r)];
                            case 2:
                                if (i = u.sent().data, a = (o = i || {}).tasks, (s = o.dataSource) && (this.dataSource = s), Je("wall get tasks", i), !a) throw xh.TasksErr;
                                return this.handleTaskMap(a), a = a.filter(function (e) {
                                    return "hideTask" !== e.wallLimitMissIcon
                                }), function (e) {
                                    e.saveTime = (new Date).getTime(), Ql.setStorage(Vh, JSON.stringify(e))
                                }(c = {taskList: a}), [2, c]
                        }
                    })
                })
            },
            getTasks: function (e) {
                return te(this, void 0, void 0, function () {
                    var t;
                    return ne(this, function (n) {
                        switch (n.label) {
                            case 0:
                                return n.trys.push([0, 2, , 3]), [4, this._getTasks(e)];
                            case 1:
                                return [2, n.sent()];
                            case 2:
                                throw Je("wall get tasks err", t = n.sent()), t;
                            case 3:
                                return [2]
                        }
                    })
                })
            },
            _goTask: function (e) {
                return te(this, void 0, void 0, function () {
                    var t, n, r, i, o, a, s, c, u, l, d, f, h, p, g, v, m, y, _;
                    return ne(this, function (I) {
                        switch (I.label) {
                            case 0:
                                if (n = (t = e || {}).taskId, r = t.wallPosition, !(i = this.tasksMap[n])) throw xh.NoTask;
                                return (o = Nh({
                                    taskId: n,
                                    wallPosition: r,
                                    isABTest: jh
                                }) || {}).dataSource = this.dataSource, a = Js.combHost + "/wall/api/v1/go_task", [4, gc.postForm(a, o)];
                            case 1:
                                if (s = I.sent().data, c = (s || {}).traceId, Je("wall go task", s), !c) throw s || xh.GoErr;
                                l = (u = s || {}).useNav, d = u.appId, f = u.appPath, h = u.appEnvVersion, p = u.appExtraData, g = u.mixedQrcodeImg, v = {
                                    appId: d,
                                    path: f,
                                    envVersion: h || "release",
                                    extraData: p ? JSON.parse(p) : {}
                                }, m = (Ee() || {}).gameId, y = (Nl.getSDKUserInfo() || {}).uniqueId, v.extraData = Object.assign(v.extraData, {
                                    origGameId: m || "",
                                    origUniqueId: y || ""
                                }), I.label = 2;
                            case 2:
                                return I.trys.push([2, 7, , 9]), Un(), l && th._canUseNavigate ? (Je("wall jump params", v, g), [4, th.navigateToMiniProgram(v, g)]) : [3, 4];
                            case 3:
                                return I.sent(), [3, 6];
                            case 4:
                                return [4, th.previewImage(g)];
                            case 5:
                                I.sent(), I.label = 6;
                            case 6:
                                return [3, 9];
                            case 7:
                                if ((_ = I.sent()).isCancel) throw _;
                                return Je("wall try go err", _), [4, Fh.createQRCode({
                                    codeUrl: s.qrcodeImg,
                                    backUrl: s.qrcodeBg,
                                    posX: s.qrcodePosX,
                                    posY: s.qrcodePosY
                                })];
                            case 8:
                                return I.sent(), [3, 9];
                            case 9:
                                return this.postLog(5, {
                                    taskId: n,
                                    traceId: c,
                                    wallPosition: r,
                                    isABTest: jh
                                }), this._setLastTask(i, c), Un(), [2, s]
                        }
                    })
                })
            },
            goTask: function (e) {
                return te(this, void 0, void 0, function () {
                    var t;
                    return ne(this, function (n) {
                        switch (n.label) {
                            case 0:
                                return n.trys.push([0, 2, , 3]), Je("wall start go", e), [4, this._goTask(e)];
                            case 1:
                                return [2, n.sent()];
                            case 2:
                                throw Je("wall go task err", t = n.sent()), t;
                            case 3:
                                return [2]
                        }
                    })
                })
            },
            _getAward: function (e) {
                return te(this, void 0, void 0, function () {
                    var t, n, r, i, o;
                    return ne(this, function (a) {
                        switch (a.label) {
                            case 0:
                                if (!(t = this.tasksMap[e])) throw xh.NoTask;
                                if (0 != t.awareAccpetStatus) throw xh.AwardGetted;
                                return n = Nh({taskId: e}), r = Js.combHost + "/wall/api/v1/award", [4, gc.postForm(r, n)];
                            case 1:
                                if (i = a.sent().data, o = (i || {}).traceId, Je("wall get award", i), !o) throw i || xh.GetAwardErr;
                                return Un(), [2, i]
                        }
                    })
                })
            },
            getAward: function (e) {
                return te(this, void 0, void 0, function () {
                    var t;
                    return ne(this, function (n) {
                        switch (n.label) {
                            case 0:
                                return n.trys.push([0, 2, , 3]), [4, this._getAward(e)];
                            case 1:
                                return [2, n.sent()];
                            case 2:
                                throw Je("wall get award err", t = n.sent()), t;
                            case 3:
                                return [2]
                        }
                    })
                })
            },
            _setLastTask: function (e, t) {
                this.lastTask = Gs({traceId: "" + t}, e)
            },
            _checkLastTask: function (e) {
                return te(this, void 0, void 0, function () {
                    var t, n, r, i, o;
                    return ne(this, function (a) {
                        switch (a.label) {
                            case 0:
                                return n = (t = e || {}).taskId, r = t.actionType, n && -1 !== [Rh.Play, Rh.PlayNoSDK].indexOf(r) ? (Je("wall check task", n, r), i = Js.combHost + "/wall/api/v1/task/status", [4, gc.get(i, Nh({taskId: n}))]) : [2, null];
                            case 1:
                                return ((o = a.sent().data) || {}).isAlert ? [4, Zl(Object.assign({
                                    title: "提醒",
                                    content: "还有游戏没体验完",
                                    showCancel: !1,
                                    confirmText: "确定"
                                }, o))] : [2, null];
                            case 2:
                                return [2, a.sent()]
                        }
                    })
                })
            },
            checkLastTask: function () {
                var e = this;
                this._checkLastTask(this.lastTask).then(function () {
                    e.lastTask = null
                }).catch(function (e) {
                    Je("wall check task err", e)
                })
            },
            _fixOnlineLog: function (e) {
                var t = this.lastTask || {}, n = t.traceId, r = t.taskId, i = t.actionType;
                if (r && n && i === Rh.PlayNoSDK) {
                    var o = (e || {}).hideDuration;
                    Je("wall fix log", r, o);
                    var a = Math.floor(o / 1e3);
                    this.postLog(8, {traceId: n, traceIdStr: n, onlineTotal: a, online: 60, wallCode: ""})
                }
            },
            postLog: function (e, t) {
                void 0 === t && (t = {}), t.dataSource = this.dataSource, qh(e, t)
            },
            logOpenTaskPanel: function () {
                var e = this.allTasks.map(function (e) {
                    return e.gameId
                }).join(",");
                this.postLog(4, {wallPosition: Oh, isABTest: jh, adGames: e})
            },
            handleTaskMap: function (e) {
                var t = this;
                e.length && (jh = !!e[0].isABTest), e.map(function (e) {
                    t.tasksMap[e.taskId] = e
                }), this.allTasks = e
            }
        };
    Hh.init();
    var Gh, Wh = ae("createFeedbackButton", "2.1.2"), Bh = ae("getLogManager", "2.1.0");
    zs.on(Ps, function () {
        jn("log", "update start")
    }), zs.on(Os, function () {
        jn("log", "login start")
    }), zs.on(fl, function (e) {
        var t = ((e || {}).data || {}).err;
        if (t) return jn("warn", "checkSession err:", t);
        jn("log", "checkSession success")
    }), zs.on(hl, function (e) {
        var t = ((e || {}).data || {}).err;
        if (t) return jn("warn", "wx login err:", t);
        jn("log", "wx logined")
    }), zs.on(pl, function (e) {
        jn("log", "tracklogin: ", e && e.data)
    }), zs.on(gl, function () {
        jn("log", "wx need auth")
    }), zs.on(vl, function () {
        jn("log", "wx authed")
    }), zs.on(ml, function () {
        jn("log", "wx auth deny")
    }), zs.on(Rs, function () {
        jn("log", "logined")
    }), zs.on(Ms, function () {
        jn("log", "updated")
    }), zs.on(Cs, function (e) {
        jn("log", "onshow")
    }), zs.on(xs, function (e) {
        jn("warn", "onerr:", e && e.data)
    }), zs.on(yl, function (e) {
        jn("warn", "pay fail:", e && e.data)
    }), zs.on(Al, function (e) {
        jn("warn", "video ad err:", e && e.data)
    });
    var Kh = {
        confTp: "",
        forceAlert: !1,
        wxSendConf: {},
        displayTimes: 0,
        moneyStart: 0,
        moneyEnd: 0,
        wechatIdImg: {
            backgroundImg: "",
            closeImg: "",
            closeCoordinate: {x: 0, y: 0},
            confirmImg: "",
            confirmCoordinate: {x: 0, y: 0},
            wechatIdCoordinate: {x: 0, y: 0}
        },
        customerSessionImg: {
            backgroundImg: "",
            closeImg: "",
            closeCoordinate: {x: 0, y: 0},
            confirmImg: "",
            confirmCoordinate: {x: 0, y: 0},
            wechatIdCoordinate: {x: 0, y: 0}
        }
    }, zh = !1, Qh = "", Jh = "scope.writePhotosAlbum", Yh = "minigame", Xh = [];
    zs.on(Rs, function (e) {
        var t = Ce().query;
        "brandWall" === (null == t ? void 0 : t.sdkFrom) && Jn("login")
    });
    var $h, Zh, ep, tp = !1;
    wx.onShow(function (e) {
        1023 === e.scene && (tp = !0)
    }), function (e, t) {
        window.GME = t()
    }(window, function () {
        function e(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter(function (t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })), n.push.apply(n, r)
            }
            return n
        }

        function t(t) {
            for (var n = 1; n < arguments.length; n++) {
                var r = null != arguments[n] ? arguments[n] : {};
                n % 2 ? e(Object(r), !0).forEach(function (e) {
                    a(t, e, r[e])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : e(Object(r)).forEach(function (e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(r, e))
                })
            }
            return t
        }

        function n(e) {
            return (n = "function" == typeof Symbol && "symbol" == Zn(Symbol.iterator) ? function (e) {
                return void 0 === e ? "undefined" : Zn(e)
            } : function (e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : Zn(e)
            })(e)
        }

        function r(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function i(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, s(r.key), r)
            }
        }

        function o(e, t, n) {
            return t && i(e.prototype, t), n && i(e, n), Object.defineProperty(e, "prototype", {writable: !1}), e
        }

        function a(e, t, n) {
            return (t = s(t)) in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }

        function s(e) {
            var t = function (e) {
                if ("object" != (void 0 === e ? "undefined" : Zn(e)) || null === e) return e;
                var t = e[Symbol.toPrimitive];
                if (void 0 !== t) {
                    var n = t.call(e, "string");
                    if ("object" != (void 0 === n ? "undefined" : Zn(n))) return n;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return String(e)
            }(e);
            return "symbol" == (void 0 === t ? "undefined" : Zn(t)) ? t : String(t)
        }

        function c() {
            var e = (new Date).getTime(), t = new Date(e), n = t.getHours(), r = t.getMinutes(), i = t.getSeconds(),
                o = t.getMilliseconds();
            return n = n < 10 ? "0".concat(n) : n, r = r < 10 ? "0".concat(r) : r, i = i < 10 ? "0".concat(i) : i, "".concat(n, ":").concat(r, ":").concat(i, ".").concat(o)
        }

        function u() {
            var e = new Date;
            return e.setTime((new Date).getTime() + 0), e.toLocaleString()
        }

        function l(e, t) {
            var n = "https://".concat(x.kUrlHostTest).concat(x.kUriPREFIX).concat(t, "?");
            return n += "sdkappid=".concat(e.app_id_), e.auth_token_ && (n += "&authtoken=".concat(e.auth_token_)), n += "&usersig=".concat(e.user_sig_), n += "&identifier=".concat(e.open_id_), n += "&platform=WeChat&version=".concat(O), n += "&codec_type=mp3", n += "&usehttps=1", M.log("url:", n), n
        }

        function d(e) {
            return !!(e.hasOwnProperty("app_id_") && e.hasOwnProperty("open_id_") && e.hasOwnProperty("user_sig_") && e.hasOwnProperty("auth_token_"))
        }

        var f = "LOCAL_LEAVE", h = "REMOTE_AUDIO_REMOVE", p = "ERROR", g = "ITMG_MAIN_EVENT_TYPE_PTT_PLAY_COMPLETE",
            v = "VOICE_RECORDER_INIT_ERROR", m = "VOICE_RECORDER_RECORDING_ERROR",
            y = "VOICE_RECORDER_MIC_PERMISSION_ERROR", _ = "VOICE_RECORD_AUDIO_TOO_SHORT", I = "VOICE_PLAY_PARAM_NULL",
            w = "AV_ERR_INVALID_ARGUMENT", b = "VOICE_UPLOAD_GET_TOKEN_NETWORK_FAIL",
            T = "VOICE_DOWNLOAD_SYSTEM_INNER_ERROR", k = 1004, S = {
                url: "",
                mode: "RTC",
                autopush: !1,
                enableCamera: !1,
                enableMic: !1,
                enableAgc: !0,
                enableAns: !0,
                enableEarMonitor: !1,
                enableAutoFocus: !0,
                enableZoom: !1,
                minBitrate: 600,
                maxBitrate: 900,
                videoWidth: 360,
                videoHeight: 640,
                beautyLevel: 0,
                whitenessLevel: 0,
                videoOrientation: "vertical",
                videoAspect: "9:16",
                frontCamera: "front",
                enableRemoteMirror: !1,
                localMirror: "auto",
                enableBackgroundMute: !0,
                audioQuality: "low",
                audioVolumeType: "media",
                audioReverbType: 0,
                waitingImage: "",
                waitingImageHash: "",
                beautyStyle: "smooth",
                filter: "",
                netStatus: {}
            }, A = {
                src: "",
                mode: "RTC",
                autoplay: !0,
                muteAudio: !0,
                muteVideo: !0,
                orientation: "vertical",
                objectFit: "fillCrop",
                enableBackgroundMute: !0,
                minCache: 1,
                maxCache: 2,
                soundMode: "speaker",
                enableRecvMessage: !1,
                autoPauseIfNavigate: !0,
                autoPauseIfOpenNative: !0,
                isVisible: !0,
                width: 0,
                height: 0,
                _definitionType: "main",
                netStatus: {}
            }, C = {duration: 6e4, sampleRate: 16e3, numberOfChannels: 1, encodeBitRate: 32e3, format: "mp3"}, E = {
                duration: 6e4,
                sampleRate: 16e3,
                numberOfChannels: 1,
                encodeBitRate: 32e3,
                format: "mp3",
                frameSize: 4
            }, x = {
                kUrlHostTest: "voice.gmertc.com",
                kUriPREFIX: "/v4/group_open_http_svc/",
                kUploadTokenFlag: "get_voice_upload_url",
                kVoice2TextFlag: "convert_voice_to_text",
                kDownloadTokenFlag: "get_voice_download_token",
                kReportFlag: "report_event",
                kRequireTokenUrl: "get_authtoken"
            }, O = "3.0.0", R = 8e4, P = "GME", M = new (function () {
                function e() {
                    r(this, e), this.logLevel = 0
                }

                return o(e, [{
                    key: "setLogLevel", value: function (e) {
                        this.logLevel = e
                    }
                }, {
                    key: "log", value: function () {
                        var e;
                        0 === this.logLevel && (e = console).log.apply(e, [P, c()].concat(Array.prototype.slice.call(arguments)))
                    }
                }, {
                    key: "info", value: function () {
                        var e;
                        this.logLevel <= 1 && (e = console).info.apply(e, [P, c()].concat(Array.prototype.slice.call(arguments)))
                    }
                }, {
                    key: "warn", value: function () {
                        var e;
                        this.logLevel <= 2 && (e = console).warn.apply(e, [P, c()].concat(Array.prototype.slice.call(arguments)))
                    }
                }, {
                    key: "error", value: function () {
                        var e;
                        this.logLevel <= 3 && (e = console).error.apply(e, [P, c()].concat(Array.prototype.slice.call(arguments)))
                    }
                }]), e
            }());
        (new Date).getTime();
        var D = new (function () {
            function e() {
                r(this, e), this.sdkAppId = "", this.userId = "", this.version = "", this.common = {}
            }

            return o(e, [{
                key: "setConfig", value: function (e) {
                    this.sdkAppId = "".concat(e.sdkAppId), this.userId = "".concat(e.userId), this.version = "".concat(e.version), this.common.TUIScene = "default"
                }
            }, {
                key: "log", value: function (e) {
                    wx.request({
                        url: "https://yun.tim.qq.com/v5/AVQualityReportSvc/C2S?sdkappid=1&cmdtype=jssdk_log",
                        method: "POST",
                        header: {"content-type": "application/json"},
                        data: {
                            timestamp: u(),
                            sdkAppId: this.sdkAppId,
                            userId: this.userId,
                            version: this.version,
                            log: JSON.stringify(t(t({}, e), this.common))
                        }
                    })
                }
            }]), e
        }()), L = function () {
            function e() {
                r(this, e), this._stores = new Set
            }

            return o(e, [{
                key: "on", value: function (e, t) {
                    "function" == typeof e ? this._stores.add({fn: e, ctx: t}) : M.error("listener must be a function")
                }
            }, {
                key: "emit", value: function (e) {
                    var t = this._stores, n = [].slice.call(arguments, 1);
                    n[0] = {code: e, data: n[0]}, t.forEach(function (e) {
                        e.fn.apply(e.ctx, n)
                    })
                }
            }, {
                key: "off", value: function (e) {
                    if (0 !== arguments.length) {
                        var t = this._stores;
                        t.forEach(function (n) {
                            n.fn === e && t.delete(n)
                        })
                    } else this._stores.clear()
                }
            }]), e
        }(), N = o(function e(t) {
            r(this, e), Object.assign(this, {userID: "", player: [], muteAudio: !1}, t)
        }), U = function () {
            function e(t, n) {
                r(this, e), this.attributes = this._getInitAttributes(t), this._initPlayer(), this.eventEmitter = n
            }

            return o(e, [{
                key: "_initPlayer", value: function () {
                    Object.assign(this.attributes, {fail: this.playerCreatorFail});
                    var e = wx.createLivePlayer(this.attributes);
                    this._configEvent(e), this.livePlayer = e
                }
            }, {
                key: "setAttributes", value: function (e) {
                    M.log("'[apiLog][playertStart] ", e), Object.assign(this.attributes, e), void 0 !== this.livePlayer && this._updateLivePlayerAttr()
                }
            }, {
                key: "_updateLivePlayerAttr", value: function () {
                    void 0 !== this.livePlayer && Object.assign(this.livePlayer, this.attributes)
                }
            }, {
                key: "_getPlayer", value: function () {
                    return void 0 === this.livePlayer && this._initPlayer(), this.livePlayer
                }
            }, {
                key: "_configEvent", value: function (e) {
                    var t = this;
                    e.onStateChange(function (e) {
                    }), e.onAudioVolumeNotify(function (e) {
                        t.updateVolumeHandler(e)
                    })
                }
            }, {
                key: "updateVolumeHandler", value: function (e) {
                    var t = e.volume, n = this.attributes.userID, r = this.attributes.streamType;
                    this.eventEmitter.emit("REMOTE_AUDIO_VOLUME_UPDATE", {userID: n, playerType: r, volume: t})
                }
            }, {
                key: "play", value: function (e) {
                    this._getPlayer().play(e)
                }
            }, {
                key: "stop", value: function (e) {
                    this._getPlayer().stop(e)
                }
            }, {
                key: "pause", value: function (e) {
                    this._getPlayer().pause(e)
                }
            }, {
                key: "resume", value: function (e) {
                    this._getPlayer().resume(e)
                }
            }, {
                key: "mute", value: function (e) {
                    e !== this.getAttributes().muteAudio && (this._getPlayer().mute({
                        fail: function (e) {
                            M.log("mute error", e)
                        }
                    }), Object.assign(this.getAttributes(), {muteAudio: !this.getAttributes().muteAudio}))
                }
            }, {
                key: "reset", value: function () {
                    this.livePlayer && (this.livePlayer.stop(), this.livePlayer.destroy(), this.playerContext = void 0), this.attributes = this._getInitAttributes()
                }
            }, {
                key: "getAttributes", value: function () {
                    return this.attributes
                }
            }, {
                key: "_getInitAttributes", value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    return Object.assign({}, A, {
                        userID: "",
                        streamType: "",
                        streamID: "",
                        id: "",
                        hasVideo: !1,
                        hasAudio: !1,
                        volume: 0,
                        playerContext: void 0,
                        muteAudio: !1
                    }, e)
                }
            }, {
                key: "playerCreatorFail", value: function (e) {
                    M.error("[player] creator fail", e.errMsg)
                }
            }]), e
        }(), q = "error", F = "GME-User_controller", j = function () {
            function e(t) {
                r(this, e), this.userMap = new Map, this.userList = [], this.playerList = [], this.emitter = t
            }

            return o(e, [{
                key: "userEventHandler", value: function (e) {
                    var t = e.code, n = e.message, r = {name: "other", code: t, message: n, data: ""};
                    switch (t) {
                        case 0:
                            M.log(n, t);
                            break;
                        case 1001:
                            M.log("已经连接推流服务器", t), r.name = "connectServer";
                            break;
                        case 1002:
                            M.log("已经与服务器握手完毕,开始推流", t), r.name = "startPusher";
                            break;
                        case 1003:
                            M.log("打开摄像头成功", t), r.name = "openCamera";
                            break;
                        case 1004:
                            M.log("录屏启动成功", t), r.name = "screenCap";
                            break;
                        case 1005:
                            M.log("推流动态调整分辨率", t), r.name = "pusherResolution";
                            break;
                        case 1006:
                            M.log("推流动态调整码率", t), r.name = "pusherCodeRate";
                            break;
                        case 1007:
                            M.log("首帧画面采集完成", t), r.name = "collectionFirstFrame";
                            break;
                        case 1008:
                            M.log("编码器启动", t), r.name = "encoderStart";
                            break;
                        case 1018:
                            M.log("进房成功", t), r.name = "enterRoomSuccess", r.data = "event enterRoom success", this.emitter.emit("LOCAL_JOIN", {
                                code: t,
                                massage: r.data
                            });
                            break;
                        case 1019:
                            M.log("退出房间", t), n.indexOf("reason[0]") > -1 ? (r.name = "exitRoomSuccess", r.data = "event exitRoom success") : (r.name = "kicked_out", r.data = "event abnormal exitRoom", this.emitter.emit("KICKED_OUT", {
                                code: t,
                                massage: r.data
                            }));
                            break;
                        case 2003:
                            M.log("渲染首帧视频", t), r.name = "renderFirstFrame";
                            break;
                        case-1301:
                            M.error("打开摄像头失败: ", t), r.name = q, r.data = "event start camera failed", this.emitter.emit(p, {
                                code: t,
                                message: n
                            });
                            break;
                        case-1302:
                            r.name = q, r.data = "event start microphone failed", M.error("打开麦克风失败: ", t), this.emitter.emit(p, {
                                code: t,
                                message: n
                            });
                            break;
                        case-1303:
                            M.error("视频编码失败: ", t), r.name = q, r.data = "event video encode failed", this.emitter.emit(p, {
                                code: t,
                                message: n
                            });
                            break;
                        case-1304:
                            M.error("音频编码失败: ", t), r.name = q, r.data = "event audio encode failed", this.emitter.emit(p, {
                                code: t,
                                message: n
                            });
                            break;
                        case-1307:
                            M.error("推流连接断开: ", t), r.name = q, r.data = "event pusher stream failed", this.emitter.emit(p, {
                                code: t,
                                message: n
                            });
                            break;
                        case-100018:
                            M.error("进房失败: userSig 校验失败，请检查 userSig 是否填写正确", t, n), r.name = q, r.data = "event userSig is error", this.emitter.emit(p, {
                                code: t,
                                message: "event userSig is error"
                            });
                            break;
                        case 5e3:
                            M.log("小程序被挂起: ", t), r.name = "miniAppHang", r.data = "miniApp is hang";
                            break;
                        case 5001:
                            M.log("小程序悬浮窗被关闭: ", t), r.name = "closeSuspension";
                            break;
                        case 1021:
                            M.log("网络类型发生变化，需要重新进房", t);
                            break;
                        case 2007:
                            M.log("本地视频播放loading: ", t);
                            break;
                        case 2004:
                            M.log("本地视频播放开始: ", t);
                            break;
                        case 1031:
                        case 1032:
                        case 1033:
                        case 1034:
                            this._handleUserEvent(e)
                    }
                    D.log(r)
                }
            }, {
                key: "_handleUserEvent", value: function (e) {
                    M.log("_handleUserEvent", e);
                    var t, n = e.code, r = e.message;
                    if (!r || "string" != typeof r) return M.warn(F, "userEventHandler 数据格式错误"), !1;
                    try {
                        t = JSON.parse(r)
                    } catch (e) {
                        return M.warn(F, "userEventHandler 数据格式错误", e), !1
                    }
                    switch (this.emitter.emit("REMOTE_STATE_UPDATE", e), D.log({
                        name: "update",
                        code: n,
                        message: r,
                        data: t
                    }), n) {
                        case 1031:
                            this.addUser(t);
                            break;
                        case 1032:
                            this.removeUser(t);
                            break;
                        case 1033:
                            break;
                        case 1034:
                            this.updateUserAudio(t)
                    }
                }
            }, {
                key: "addUser", value: function (e) {
                    var t = this, n = e.userlist;
                    Array.isArray(n) && n.length > 0 && n.forEach(function (e) {
                        var n = e.userid, r = t.getUser(n);
                        r || (r = new N({userID: n}), t.userList.push({userID: n})), t.userMap.set(n, r), t.emitter.emit("REMOTE_USER_JOIN", {
                            userID: n,
                            userList: t.userList
                        }), D.log({name: "addUser", userID: n, userList: t.userList, playerList: t.getPlayerList()})
                    })
                }
            }, {
                key: "removeUser", value: function (e) {
                    var t = this, n = e.userlist;
                    Array.isArray(n) && n.length > 0 && n.forEach(function (e) {
                        var n = e.userid, r = t.getUser(n);
                        r && r.player && (t._removeUserAndPlayer(n), r.player.main && r.player.main.reset(), r.player.aux && r.player.aux.reset(), t.emitter.emit("REMOTE_USER_LEAVE", {
                            userID: n,
                            userList: t.userList
                        }), D.log({
                            name: "remove_user",
                            userID: n,
                            userList: t.userList,
                            playerList: t.getPlayerList()
                        }), r = void 0, t.userMap.delete(n))
                    })
                }
            }, {
                key: "updateUserAudio", value: function (e) {
                    var t = this, n = e.userlist;
                    Array.isArray(n) && n.length > 0 && n.forEach(function (e) {
                        var n = e.userid;
                        M.log("inComingUserList inComingUser", e);
                        var r = "main", i = "".concat(n, "_").concat(r), o = e.hasaudio, a = e.playurl,
                            s = t.getUser(n);
                        if (s) {
                            var c = s.player[r];
                            c ? (c.setAttributes({hasAudio: o}), !1 === o && t._removePlayer(c)) : (c = new U({
                                userID: n,
                                streamID: i,
                                streamType: r,
                                src: a,
                                hasAudio: o
                            }, t.emitter), M.log("new player:", s, c), s.player[r] = c, t._addPlayer(c), c.mute(s.muteAudio)), t.userList.find(function (e) {
                                if (e.userID === n) return e["has".concat(r.replace(/^\S/, function (e) {
                                    return e.toUpperCase()
                                }), "Audio")] = o, !0
                            });
                            var u = o ? "REMOTE_AUDIO_ADD" : h;
                            t.emitter.emit(u, {
                                userID: n,
                                player: c.getAttributes(),
                                userList: t.userList,
                                playerList: t.getPlayerList()
                            }), D.log({
                                name: "update_user_audio",
                                player: c.getAttributes(),
                                userList: t.userList,
                                playerList: t.getPlayerList()
                            })
                        }
                    })
                }
            }, {
                key: "getUser", value: function (e) {
                    return this.userMap.get(e)
                }
            }, {
                key: "getPlayer", value: function (e, t) {
                    var n = this.userMap.get(e);
                    if (n) return n.player[t]
                }
            }, {
                key: "getPlayerList", value: function () {
                    return this.playerList.map(function (e) {
                        return Object.assign({}, e.getAttributes())
                    })
                }
            }, {
                key: "muteRemoteAudio", value: function (e, t) {
                    var n = this.getUser(e);
                    if (n) {
                        n.muteAudio = t;
                        var r = this.getPlayer(e, "main");
                        r && r.mute(t)
                    } else M.log("muteRemoteAudio can not found", e)
                }
            }, {
                key: "muteRemoteAll", value: function (e) {
                    for (var t = 0; t < this.userList.length; t++) this.muteRemoteAudio(this.userList[t].userID, e)
                }
            }, {
                key: "resumeAllPlayer", value: function () {
                    for (var e = 0; e < this.userList.length; e++) {
                        var t = this.getPlayer(this.userList[e].userID, "main");
                        t && t.resume()
                    }
                }
            }, {
                key: "pauseAllPlayer", value: function () {
                    for (var e = 0; e < this.userList.length; e++) {
                        var t = this.getPlayer(this.userList[e].userID, "main");
                        t && t.pause()
                    }
                }
            }, {
                key: "reset", value: function () {
                    return this.playerList.forEach(function (e) {
                        e.reset()
                    }), this.playerList = [], this.userList = [], this.userMap.clear(), {
                        userList: this.userList,
                        playerList: this.playerList
                    }
                }
            }, {
                key: "stopAllPlayer", value: function () {
                    for (var e = 0; e < this.userList.length; e++) {
                        var t = this.getPlayer(this.userList[e].userID, "main");
                        t && t.stop()
                    }
                }
            }, {
                key: "startAllPlayer", value: function () {
                    for (var e = 0; e < this.userList.length; e++) {
                        var t = this.getPlayer(this.userList[e].userID, "main");
                        t && t.start()
                    }
                }
            }, {
                key: "_removeUserAndPlayer", value: function (e) {
                    var t = this.getPlayer(e, "main");
                    this.playerList = this.playerList.filter(function (t) {
                        return t.getAttributes().userID !== e && "" !== t.getAttributes().userID
                    }), t && this.emitter.emit(h, {
                        userID: e,
                        player: t.getAttributes(),
                        userList: this.userList,
                        playerList: this.getPlayerList()
                    }), this.userList = this.userList.filter(function (t) {
                        return t.userID !== e
                    })
                }
            }, {
                key: "_addPlayer", value: function (e) {
                    -1 === this.playerList.findIndex(function (t) {
                        return t.getAttributes().userID === e.getAttributes().userID && t.getAttributes().playerType === e.getAttributes().playerType
                    }) && this.playerList.push(e)
                }
            }, {
                key: "_removePlayer", value: function (e) {
                    this.playerList = this.playerList.filter(function (t) {
                        return !(t.getAttributes().userID === e.getAttributes().userID)
                    }), this.getUser(e.getAttributes().userID).player[e.getAttributes().streamType] = void 0
                }
            }]), e
        }(), V = function () {
            function e(t, n) {
                r(this, e), this.attributes = this.getInitAttributes(), this.userController = n, this.eventEmitter = t, this.pauseMicStatus = !1
            }

            return o(e, [{
                key: "setAttributes", value: function (e) {
                    M.log("[apiLog][setAttributes] :", e), Object.assign(this.attributes, e), this.updateLivePusherAttr()
                }
            }, {
                key: "updateLivePusherAttr", value: function () {
                    void 0 !== this.livePusher && Object.assign(this.livePusher, this.attributes)
                }
            }, {
                key: "getContext", value: function () {
                    if (void 0 !== this.livePusher && null !== this.livePusher) return this.livePusher;
                    M.info("error pusher , please enter room first")
                }
            }, {
                key: "configEvent", value: function (e) {
                    var t = this;
                    e.onStateChange(function (e) {
                        t.userController.userEventHandler(e)
                    }), e.onError(function (e) {
                        M.info("onErrors", e), t.errorHandler(e)
                    }), e.onNetStatus(function (e) {
                    }), e.onBGMStart(function (e) {
                        console.log("onBGMStart", e)
                    }), e.onBGMComplete(function (e) {
                        console.log("onBGMComplete", e)
                    }), e.onBGMProgress(function (e) {
                        console.log("onBGMProgress", e)
                    })
                }
            }, {
                key: "start", value: function (e) {
                    var t;
                    M.log("[apiLog][pusherStart]"), D.log({
                        name: "pusherStart",
                        options: e
                    }), M.log("[pusher][CreateConfig]:", this.attributes), null === (t = this.getContext()) || void 0 === t || t.start(e)
                }
            }, {
                key: "stop", value: function (e) {
                    var t;
                    M.log("[apiLog][pusherStop]"), D.log({
                        name: "pusherStop",
                        options: e
                    }), null === (t = this.getContext()) || void 0 === t || t.stop({
                        success: function (e) {
                            M.log("Pusher context.stop()", e)
                        }, fail: function (e) {
                            M.error("Pusher fail.stop()", e)
                        }, complete: function (e) {
                            M.info("Pusher complete.stop()", e)
                        }
                    })
                }
            }, {
                key: "pause", value: function (e) {
                    var t;
                    M.log("[apiLog] pusherPause()"), D.log({
                        name: "pusherPause",
                        options: e
                    }), this.pauseMicStatus = this.attributes.enableMic, this.enableMic(!1), null === (t = this.getContext()) || void 0 === t || t.pause()
                }
            }, {
                key: "resume", value: function (e) {
                    var t;
                    M.log("[apiLog][pusherResume]", e), D.log({
                        name: "pusherResume",
                        options: e
                    }), null === (t = this.getContext()) || void 0 === t || t.resume(), !0 === this.pauseMicStatus && (this.enableMic(!0), this.pauseMicStatus = !1)
                }
            }, {
                key: "errorHandler", value: function (e) {
                    try {
                        var t = e.detail.errCode, n = e.detail.errMsg;
                        this.eventEmitter.emit(p, {code: t, message: n}), D.log({name: q, code: t, message: n})
                    } catch (t) {
                        M.info("pusher error data parser exception", e, t)
                    }
                }
            }, {
                key: "enterRoom", value: function (e) {
                    Object.assign(e, {
                        fail: this.pusherCreatorFail, success: function (e) {
                            M.info("creator pusher", e)
                        }, complete: function (e) {
                            M.info("complete pusher", e)
                        }
                    });
                    var t = wx.createLivePusher(e);
                    M.log("pusher context", t), this.configEvent(t), this.livePusher = t
                }
            }, {
                key: "playBGM", value: function (e) {
                    var t;
                    M.log("[apiLog] playBGM() url: ", e), null === (t = this.getContext()) || void 0 === t || t.playBGM(e)
                }
            }, {
                key: "pauseBGM", value: function (e) {
                    var t;
                    M.log("[apiLog] pauseBGM()"), null === (t = this.getContext()) || void 0 === t || t.pauseBGM(e)
                }
            }, {
                key: "resumeBGM", value: function (e) {
                    var t;
                    M.log("[apiLog] resumeBGM()"), null === (t = this.getContext()) || void 0 === t || t.resumeBGM(e)
                }
            }, {
                key: "stopBGM", value: function (e) {
                    var t;
                    M.log("[apiLog] stopBGM()"), null === (t = this.getContext()) || void 0 === t || t.stopBGM(e)
                }
            }, {
                key: "setBGMVolume", value: function (e) {
                    var t, r;
                    M.log("[apiLog] setBGMVolume() volume:", e), e && e.volume && "object" === n(e.volume) && e.volume.volume ? null === (t = this.getContext()) || void 0 === t || t.setBGMVolume(e.volume) : null === (r = this.getContext()) || void 0 === r || r.setBGMVolume(e)
                }
            }, {
                key: "enableMic", value: function (e) {
                    M.log("[apiLog] enableMic() enable:", e), this.setAttributes({enableMic: e})
                }
            }, {
                key: "enableAgc", value: function (e) {
                    M.log("[apiLog] enableAgc() enable:", e), this.setAttributes({enableAgc: e})
                }
            }, {
                key: "enableAns", value: function (e) {
                    M.log("[apiLog] enableAns() enable:", e), this.setAttributes({enableAns: e})
                }
            }, {
                key: "enableEarMonitor", value: function (e) {
                    M.log("[apiLog] enableEarMonitor() enable:", e), this.setAttributes({enableEarMonitor: e})
                }
            }, {
                key: "audioReverbType", value: function (e) {
                    M.log("[apiLog] audioReverbType() type:", e), this.setAttributes({audioReverbType: e})
                }
            }, {
                key: "audioVolumeType", value: function (e) {
                    M.log("[apiLog] audioVolumeType() type:", e), this.setAttributes({audioVolumeType: e})
                }
            }, {
                key: "audioQuality", value: function (e) {
                    M.log("[apiLog] audioQuality() quality:", e), this.setAttributes({audioQuality: e})
                }
            }, {
                key: "setMicVolume", value: function (e) {
                    var t;
                    M.log("[apiLog] setMICVolume() volume:", e), null === (t = this.getContext()) || void 0 === t || t.setMICVolume(e)
                }
            }, {
                key: "reset", value: function (e) {
                    var t = this;
                    if (this.livePusher) {
                        if (!0 === e) return this.livePusher.destroy(), this.livePusher = void 0, this.eventEmitter.emit(f), void (this.attributes = this.getInitAttributes());
                        new Promise(function (e, n) {
                            t.audioVolumeType("media"), e("success resolve")
                        }).then(function (e) {
                            t.stop(), t.livePusher.destroy().then(function () {
                                M.log("livePuser destory over"), t.livePusher = void 0, t.eventEmitter.emit(f)
                            })
                        }).catch(function (e) {
                            M.log("livePusher promise", e)
                        })
                    }
                    this.attributes = this.getInitAttributes()
                }
            }, {
                key: "getAttributes", value: function () {
                    return this.attributes
                }
            }, {
                key: "getInitAttributes", value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    return Object.assign({}, S, {enableCamera: !1, height: 0, width: 0, enableMic: !1}, e)
                }
            }, {
                key: "pusherCreatorFail", value: function (e) {
                    M.error("[puhser] creator fail", e.errMsg)
                }
            }]), e
        }(), H = function () {
            function e(t, n) {
                r(this, e), this._ptt_app_info = n, this._emitter = t, this.varDownloadFilePath = ""
            }

            return o(e, [{
                key: "download", value: function (e, t) {
                    this.varDownloadFilePath = t, this._requestToken(x.kDownloadTokenFlag, e)
                }
            }, {
                key: "_downloadFromCos", value: function (e, t) {
                    var n = this;
                    if ("" !== this.varDownloadFilePath) {
                        var r = {Connection: "Keep-Alive", Authorization: t};
                        wx.request({
                            url: e,
                            header: r,
                            method: "GET",
                            responseType: "arraybuffer",
                            timeout: R,
                            fail: function (e) {
                                M.log("_downloadFileFromCos", e), n._emitter.emit(p, {
                                    code: 12293,
                                    message: "VOICE_DOWNLOAD_GET_SIGN_NETWORK_FAIL"
                                })
                            },
                            success: function (e) {
                                wx.getFileSystemManager().writeFile({
                                    filePath: n.varDownloadFilePath,
                                    data: e.data,
                                    success: function (e) {
                                        M.info("writeFile success", e), n._emitter.emit("ITMG_MAIN_EVENT_TYPE_PTT_DOWNLOAD_COMPLETE", {
                                            code: 0,
                                            message: n.varDownloadFilePath
                                        })
                                    },
                                    fail: function (e) {
                                        M.error("writeFile error", e), n._emitter.emit(p, {code: 12289, message: e})
                                    }
                                })
                            }
                        })
                    } else this._emitter.emit(p, {code: k, message: w})
                }
            }, {
                key: "_requestToken", value: function (e, t) {
                    var n = this, r = {voice_url: t}, i = JSON.stringify(r),
                        o = {"Content-Type": "application/json", "Content-Length": i.length};
                    wx.request({
                        url: l(this._ptt_app_info, e),
                        header: o,
                        method: "POST",
                        data: i,
                        timeout: R,
                        fail: function (e) {
                            M.error("_requestDownloadToken error", e), n._emitter.emit(p, {code: 12294, message: T})
                        },
                        success: function (e) {
                            if (M.log("_requestDownloadToken", e), e.statusCode && 200 == e.statusCode && 0 == e.data.ErrorCode) {
                                n._ptt_app_info.auth_token_ = e.data.authtoken;
                                var t = e.data.download_token_v5, r = e.data.voice_url_v5;
                                n._downloadFromCos(r, t)
                            } else n._emitter.emit(p, {code: 12294, message: T})
                        }
                    })
                }
            }]), e
        }(), G = function () {
            function e(t, n) {
                r(this, e), this._emitter = t, this._ptt_app_info = n
            }

            return o(e, [{
                key: "download", value: function (e, t) {
                    if ("" === e || void 0 === e || "" === t || void 0 === t) return this._emitter.emit(Event.ERROR, {
                        code: EventType.AV_ERR_INVALID_ARGUMENT,
                        message: Event.AV_ERR_INVALID_ARGUMENT
                    }), void logger.error("file path error");
                    new H(this._emitter, this._ptt_app_info).download(e, t)
                }
            }]), e
        }(), W = function () {
            function e(t, n) {
                r(this, e), this._ptt_app_info = n, this._emitter = t, this.varUploadCosUrl = "", this.varUploadFilePath = ""
            }

            return o(e, [{
                key: "upload", value: function (e) {
                    this.varUploadFilePath = e, this._requestToken(x.kUploadTokenFlag)
                }
            }, {
                key: "_requestToken", value: function (e) {
                    var t = this;
                    wx.request({
                        url: l(this._ptt_app_info, e),
                        header: {"content-type": "application/json"},
                        method: "GET",
                        timeout: R,
                        fail: function (e) {
                            M.error("_requestUploadToken error", e), t._emitter.emit(p, {code: 8196, message: b})
                        },
                        success: function (e) {
                            if (M.log("_requestToken ", e), e.statusCode && 200 == e.statusCode && 0 == e.data.ErrorCode) {
                                t._ptt_app_info.auth_token_ = e.data.authtoken;
                                var n = e.data.upload_token_v5, r = e.data.upload_url_v5;
                                t.varUploadCosUrl = e.data.upload_url_v5, t._uploadToCos(r, n)
                            } else t._emitter.emit(p, {code: 8197, message: "VOICE_UPLOAD_SYSTEM_INNER_ERROR"})
                        }
                    })
                }
            }, {
                key: "_uploadToCos", value: function (e, t) {
                    var n = this, r = this.varUploadFilePath;
                    "" !== r ? wx.getFileSystemManager().readFile({
                        filePath: r, position: 0, fail: function (e) {
                            n._emitter.emit(p, {code: 8193, message: e})
                        }, success: function (r) {
                            var i = {Connection: "Keep-Alive", "Content-Length": r.data.byteLength, Authorization: t};
                            wx.request({
                                url: e,
                                header: i,
                                data: r.data,
                                method: "PUT",
                                timeout: R,
                                success: function (e) {
                                    M.log("success upload", e), n._emitter.emit("ITMG_MAIN_EVENT_TYPE_PTT_UPLOAD_COMPLETE", {
                                        code: 0,
                                        message: n.varUploadCosUrl
                                    })
                                },
                                fail: function (e) {
                                    M.log("_uploadFileToCos", e), n._emitter.emit(b, {code: 8196, message: b})
                                }
                            })
                        }
                    }) : this._emitter.emit(p, {code: k, message: w})
                }
            }]), e
        }(), B = function () {
            function e(t, n) {
                r(this, e), this._emitter = t, this._ptt_app_info = n
            }

            return o(e, [{
                key: "upload", value: function (e) {
                    if ("" === e || null == e) return logger.error("file path error"), void this._emitter.emit(Event.ERROR, {
                        code: EventType.AV_ERR_INVALID_ARGUMENT,
                        message: Event.AV_ERR_INVALID_ARGUMENT
                    });
                    new W(this._emitter, this._ptt_app_info).upload(e)
                }
            }]), e
        }(), K = function () {
            function e(t, n) {
                r(this, e), this._ptt_app_info = n, this._emitter = t
            }

            return o(e, [{
                key: "speechToText", value: function (e, t, n) {
                    this._requestTranslate(e, t, n)
                }
            }, {
                key: "_requestTranslate", value: function (e, t, n) {
                    var r = this, i = x.kVoice2TextFlag, o = {voice_url: e, srclanguage: t, dstlanguage: n},
                        a = JSON.stringify(o), s = {"Content-Type": "application/json", "Content-Length": a.length};
                    wx.request({
                        url: l(this._ptt_app_info, i),
                        header: s,
                        method: "POST",
                        data: a,
                        timeout: R,
                        fail: function (e) {
                            M.error("_requestTextFromCos error", e), r._emitter.emit(p, {
                                code: 32770,
                                message: "VOICE_ERR_VOICE_S2T_NETWORK_FAIL"
                            })
                        },
                        success: function (e) {
                            M.log("_requestTextFromCos", e), e.statusCode && 200 == e.statusCode && 0 == e.data.ErrorCode ? r._emitter.emit("ITMG_MAIN_EVENT_TYPE_PTT_TRANSLATOR_COMPLETE", {
                                code: 0,
                                message: {text: e.data.text}
                            }) : r._emitter.emit(p, {code: 32774, message: "VOICE_ERR_VOICE_S2T_APPINFO_UNSET"})
                        }
                    })
                }
            }]), e
        }(), z = function () {
            function e(t, n) {
                r(this, e), this._emitter = t, this._ptt_app_info = n
            }

            return o(e, [{
                key: "translate", value: function (e, t, n) {
                    "" !== e && void 0 !== e && "" !== t && void 0 !== t ? new K(this._emitter, this._ptt_app_info).speechToText(e, t, n) : this._emitter.emit(Event.ERROR, {
                        code: EventType.AV_ERR_INVALID_ARGUMENT,
                        message: Event.AV_ERR_INVALID_ARGUMENT
                    })
                }
            }]), e
        }(), Q = function () {
            function e(t) {
                r(this, e), this._emitter = t, this._socketOpened = !1, this._socketMsgQueue = [], this._curFrameSeq = 0, this._socketClient = void 0, this._recordInfo = void 0, this._tokenUpdata = ""
            }

            return o(e, [{
                key: "sendSocketMessage", value: function (e, t) {
                    if (void 0 !== this._socketClient) if (!1 !== this._socketOpened) {
                        if (0 != this._socketMsgQueue.length) {
                            for (var n = 0; n < this._socketMsgQueue.length; n++) {
                                var r = this._socketMsgQueue[n];
                                this._sendAudioToSocket(r.frameBuffer, r.seq, r.isLastFrame)
                            }
                            this._socketMsgQueue = []
                        }
                        this._sendAudioToSocket(e, this._curFrameSeq++, t)
                    } else this._socketMsgQueue.push({
                        frameBuffer: e,
                        seq: this._curFrameSeq++,
                        isLastFrame: t
                    }); else M.info("socket not create")
                }
            }, {
                key: "connectSocket", value: function (e) {
                    var t = this;
                    this._socketMsgQueue = [], this._socketClient = wx.connectSocket({
                        url: e,
                        timeout: R,
                        header: {"content-type": "application/json"},
                        fail: function (e) {
                            M.error("err", e)
                        }
                    }), this._socketClient.onError(function (e) {
                        M.error("error info", e), wx.getRecorderManager().stop()
                    }), this._socketClient.onMessage(function (e) {
                        var n = e.data, r = JSON.parse(n);
                        if (0 === r.code) {
                            switch (r.event) {
                                case"check":
                                    return void (t._socketOpened = !0);
                                case"asr":
                                    if (1 === r.end) return t._socketClient.close({
                                        code: 1e3,
                                        reason: "stream ptt over",
                                        fail: function (e) {
                                            M.error(e)
                                        }
                                    }), void t._emitStreamEventData(r, !0);
                                    t._emitStreamEventData(r, !1)
                            }
                            t._tokenUpdata = r.authtoken
                        }
                    }), this._socketClient.onClose(function (e) {
                        4103 === e.code && t._emitter.emit(_, {
                            code: 4103,
                            message: _
                        }), M.info("close info", e), wx.getRecorderManager().stop(), t._socketOpened = !1, t._socketMsgQueue = [], t._curFrameSeq = 0
                    })
                }
            }, {
                key: "stopSocket", value: function (e, t) {
                    void 0 !== this._socketClient ? !0 !== t ? (!1 === this._socketOpened && this._socketClient.close({
                        code: 4103,
                        reason: "record time error"
                    }), this._recordInfo = e) : this._socketClient.close({
                        code: 2e3,
                        reason: "cancel record"
                    }) : M.info("Invalid socket")
                }
            }, {
                key: "updateAuthToken", value: function (e) {
                    "" != this._tokenUpdata && (e.auth_token_ = this._tokenUpdata)
                }
            }, {
                key: "_emitStreamEventData", value: function (e, t) {
                    var n = "ITMG_MAIN_EVENT_TYPE_PTT_STREAMRECORDING", r = {text: e.text};
                    t && null != this._recordInfo && (Object.assign(r, {
                        downloadUrl: e.download_url,
                        filePath: this._recordInfo.tempFilePath,
                        fileSize: this._recordInfo.fileSize,
                        duration: this._recordInfo.duration
                    }), n = "ITMG_MAIN_EVENT_TYPE_PTT_STREAMRECORD_COMPLETE", this._recordInfo = void 0), this._emitter.emit(n, {
                        code: 0,
                        message: r
                    })
                }
            }, {
                key: "_sendAudioToSocket", value: function (e, t, n) {
                    void 0 === e && (e = new ArrayBuffer(0));
                    var r = this._transformFrameData(e, t, n);
                    this._socketClient.send({
                        data: r, fail: function (e) {
                            M.error("err_sendData", e)
                        }
                    })
                }
            }, {
                key: "_transformFrameData", value: function (e, t, n) {
                    var r = new ArrayBuffer(e.byteLength + 3), i = new DataView(r);
                    i.setUint16(0, t), i.setUint8(2, n ? 1 : 0);
                    var o = new Uint8Array(e);
                    return new Uint8Array(r, 3).set(o), r
                }
            }]), e
        }(), J = function () {
            function e(t, n, i) {
                r(this, e), this._recordManager = void 0, this._innerAudioContext = void 0, this._uploadManager = void 0, this._downloadManager = void 0, this._translateManager = void 0, this._socketManager = void 0, this._emitter = t, this._ptt_app_info = void 0, this._isRecord = !1, this._isCancel = !1, this._pusher = n, this._userManager = i
            }

            return o(e, [{
                key: "_getSocketManager", value: function () {
                    return void 0 === this._socketManager && (this._socketManager = new Q(this._emitter)), this._socketManager
                }
            }, {
                key: "_getRecordManager", value: function () {
                    return void 0 === this._recordManager && (this._recordManager = wx.getRecorderManager()), this._recordManager
                }
            }, {
                key: "_getAudioManager", value: function () {
                    var e = this;
                    return void 0 === this._innerAudioContext && (this._innerAudioContext = wx.createInnerAudioContext(), this._innerAudioContext.onError(function (t) {
                        var n = "", r = "";
                        switch (t.errCode) {
                            case 10001:
                                n = 20481, r = "VOICE_PLAY_INIT_ERROR";
                                break;
                            case 10003:
                                n = 20484, r = "VOICE_PLAY_OPEN_FILE_ERROR";
                                break;
                            case 10004:
                                n = 20485, r = "VOICE_PLAY_NOT_START"
                        }
                        e._emitter.emit(r, {
                            code: n,
                            message: r
                        }), M.info("playRecordedFile error:", t), e._pusher.resume(), e._userManager.resumeAllPlayer()
                    }), this._innerAudioContext.onPlay(function (t) {
                        e._pusher.pause(), e._userManager.pauseAllPlayer()
                    }), this._innerAudioContext.onStop(function (t) {
                        e._pusher.resume(), e._userManager.resumeAllPlayer(), e._emitter.emit(g, {
                            code: 0,
                            message: "play stop"
                        })
                    }), this._innerAudioContext.onEnded(function (t) {
                        e._pusher.resume(), e._userManager.resumeAllPlayer(), e._emitter.emit(g, {
                            code: 0,
                            message: "play end"
                        })
                    })), this._innerAudioContext
                }
            }, {
                key: "setPttInfo", value: function (e) {
                    this._ptt_app_info = e, function (e) {
                        wx.request({
                            url: l(e, x.kRequireTokenUrl), method: "GET", success: function (t) {
                                M.log("_getTokenByUserSig", t), 200 === t.statusCode && 0 === t.data.ErrorCode && (e.auth_token_ = t.data.authtoken)
                            }, fail: function (e) {
                                M.error("_getTokenByUserSig", e)
                            }
                        })
                    }(this._ptt_app_info)
                }
            }, {
                key: "startRecording", value: function () {
                    var e = this;
                    !0 !== this._isRecord && d(this._ptt_app_info) ? (this._getRecordManager().start(C), this._getRecordManager().onStart(function () {
                        M.log("recorder start"), e._isRecord = !0, e._getAudioManager().stop(), e._pusher.pause(), e._userManager.pauseAllPlayer()
                    }), this._getRecordManager().onError(function (t) {
                        var n = "", r = "";
                        103 === t.errno && (n = 4102, r = y), e._emitter.emit(r, {
                            code: n,
                            message: r
                        }), e._isRecord = !1, e._getRecordManager().stop()
                    }), this._getRecordManager().onStop(function (t) {
                        M.log("recorder stop", t), e.varRecordFilePath = t.tempFilePath, !0 !== e._isCancel && e._emitter.emit("ITMG_MAIN_EVENT_TYPE_PTT_RECORD_COMPLETE", {
                            code: 0,
                            message: {filePath: e.varRecordFilePath, fileSize: t.fileSize, duration: t.duration}
                        }), e._isRecord = !1, e._isCancel = !1, e._pusher.resume(), e._userManager.resumeAllPlayer()
                    })) : this._emitter.emit(m, {code: 4099, message: m})
                }
            }, {
                key: "startRecordingWithStreamingRecognition", value: function (e, t) {
                    var n = this;
                    !0 !== this._isRecord && d(this._ptt_app_info) ? (this._getRecordManager().start(E), this._getRecordManager().onError(function (e) {
                        M.info("record error", e);
                        var t = "", r = "";
                        103 === e.errno && (t = 4102, r = y), n._emitter.emit(t, {message: r}), n._isRecord = !1
                    }), this._getRecordManager().onStart(function () {
                        n._isRecord = !0, n._getAudioManager().stop(), n._pusher.pause(), n._userManager.pauseAllPlayer();
                        var r = function (e, t, n) {
                            var r = "wss://".concat(x.kUrlHostTest, "/ptt_ws/asr_stream?");
                            return r += "sdkappid=".concat(e.app_id_), r += "&identifier=".concat(e.open_id_), e.auth_token_ && (r += "&authtoken=".concat(e.auth_token_)), r += "&usersig=".concat(e.user_sig_), r += "&srclanguage=".concat(t), r += "&codec_type=mp3", r += "&translateLanguage=".concat(n), r += "&is_retransmit=0", r += "&platform=WeChat", r += "&version=".concat(O), M.log("url:", r), r
                        }(n._ptt_app_info, e, t);
                        n._getSocketManager().connectSocket(r)
                    }), this._getRecordManager().onStop(function (e) {
                        n._isRecord = !1, n._getSocketManager().stopSocket(e, n._isCancel), n._getSocketManager().updateAuthToken(n._ptt_app_info), n._pusher.resume(), n._userManager.resumeAllPlayer(), n._isCancel = !1
                    }), this._getRecordManager().onFrameRecorded(function (e) {
                        n._getSocketManager().sendSocketMessage(e.frameBuffer, e.isLastFrame)
                    })) : this._emitter.emit(m, {code: 4099, message: {errorMsg: m}})
                }
            }, {
                key: "stopRecord", value: function () {
                    this._getRecordManager().stop()
                }
            }, {
                key: "pausePTT", value: function () {
                    this._getRecordManager().pause(), this._getAudioManager().stop()
                }
            }, {
                key: "resumePTT", value: function () {
                    this._getRecordManager().resume()
                }
            }, {
                key: "cancelRecord", value: function () {
                    this._isCancel = !0, this._getRecordManager().stop()
                }
            }, {
                key: "playRecordedFile", value: function (e) {
                    if ("" === e || null == e || !0 === this._isRecord) return M.error("AV_ERR_INVALID_ARGUMENT"), void this._emitter.emit(I, {
                        code: 20483,
                        message: I
                    });
                    this._getAudioManager().src = e, this._getAudioManager().play()
                }
            }, {
                key: "stopPlayFile", value: function () {
                    this._getAudioManager().stop()
                }
            }, {
                key: "uploadRecordedFile", value: function (e) {
                    if (!d(this._ptt_app_info)) return this._emitter.emit(v, {
                        code: 4098,
                        message: v
                    }), void M.error("Init PTT error");
                    void 0 === this._uploadManager && (this._uploadManager = new B(this._emitter, this._ptt_app_info)), this._uploadManager.upload(e)
                }
            }, {
                key: "downloadRecordedFile", value: function (e, t) {
                    d(this._ptt_app_info) ? (void 0 === this._downloadManager && (this._downloadManager = new G(this._emitter, this._ptt_app_info)), this._downloadManager.download(e, t)) : M.error("Init PTT error")
                }
            }, {
                key: "speechToText", value: function (e, t, n) {
                    d(this._ptt_app_info) ? (void 0 === this._translateManager && (this._translateManager = new z(this._emitter, this._ptt_app_info)), this._translateManager.translate(e, t, n)) : M.error("Init PTT error")
                }
            }, {
                key: "setPTTSourceLanguage", value: function (e) {
                }
            }]), e
        }();
        return function () {
            function e() {
                r(this, e), this._env = "pro", this._rtcConfig = {}, this._eventEmitter = new L, this._eventEmitter.on(this._defEventHandle, this), this._userManager = new j(this._eventEmitter), this._pusherWrapper = new V(this._eventEmitter, this._userManager), this._pttManager = new J(this._eventEmitter, this._pusherWrapper, this._userManager)
            }

            return o(e, [{
                key: "enterRoom", value: function (e) {
                    M.log("[apiLog] [enterRoom]", e), Object.assign(this._rtcConfig, e), this._initLog(), D.log({name: "init"});
                    var t = function (e) {
                        if (!function (e) {
                            var t = /[\u4e00-\u9fa5]/;
                            return e.sdkAppID ? void 0 === e.roomID && void 0 === e.strRoomID ? (M.error("未设置 roomID"), !1) : !e.strRoomID && (e.roomID < 1 || e.roomID > 4294967296) ? (M.error("roomID 超出取值范围 1 ~ 4294967295"), !1) : e.strRoomID && t.test(e.strRoomID) ? (M.error("strRoomID 请勿使用中文字符"), !1) : e.userID ? e.userID && t.test(e.userID) ? (M.error("userID 请勿使用中文字符"), !1) : !!e.userSig || (M.error("未设置 userSig"), !1) : (M.error("未设置 userID"), !1) : (M.error("未设置 sdkAppID"), !1)
                        }(e)) return null;
                        var t = "";
                        e.mode ? t = "rtc" === e.mode ? "videocall" : e.mode : (e.mode = "rtc", t = "videocall"), e.enableBlackStream = e.enableBlackStream || "", e.encsmall = e.encsmall || 0, e.cloudenv = e.cloudenv || "PRO", e.streamID = e.streamID || "", e.userDefineRecordID = e.userDefineRecordID || "", e.privateMapKey = e.privateMapKey || "", e.pureAudioMode = e.pureAudioMode || "", e.recvMode = e.recvMode || 1;
                        var n = "".concat(e.roomID);
                        return "room://cloud.tencent.com/rtc?sdkappid=".concat(e.sdkAppID, "&strroomid=").concat(n, "&userid=").concat(e.userID, "&usersig=").concat(e.userSig, "&appscene=").concat(t, "&encsmall=").concat(e.encsmall, "&cloudenv=").concat(e.cloudenv, "&enableBlackStream=").concat(e.enableBlackStream, "&streamid=").concat(e.streamID, "&userdefinerecordid=").concat(e.userDefineRecordID, "&privatemapkey=").concat(e.privateMapKey, "&pureaudiomode=").concat(e.pureAudioMode, "&recvmode=").concat(e.recvMode, "&component=1")
                    }(this._rtcConfig);
                    if (!t) {
                        var n = "进房参数错误";
                        this._eventEmitter.emit(p, {message: n}), D.log({name: q, message: n, data: this._rtcConfig})
                    }
                    Object.assign(this._pusherWrapper.attributes, {url: t}), Object.assign(this._pusherWrapper.attributes, this._rtcConfig), this._pusherWrapper.enterRoom(this._pusherWrapper.attributes), M.log("[statusLog] [enterRoom]", this._pusherWrapper.getAttributes()), D.log({
                        name: "enterRoom",
                        pusherConfig: this._pusherWrapper.attributes
                    }), this._pusherWrapper.start({
                        fail: function (e) {
                            M.log("start pusher error", e)
                        }, complete: function (e) {
                            M.log("pusher complete", e)
                        }, success: function (e) {
                            M.log("pusher success", e)
                        }
                    })
                }
            }, {
                key: "exitRoom", value: function (e) {
                    M.log("[apiLog] [exitRoom]"), this._userManager.reset(), this._pusherWrapper.reset(e);
                    var t = Object.assign({pusher: this._pusherWrapper.getAttributes()}, {playerList: this._userManager.getPlayerList()});
                    D.log({name: "exitRoom", data: t})
                }
            }, {
                key: "enableMic", value: function (e) {
                    !0 === e ? this._pusherWrapper.audioVolumeType("voicecall") : this._pusherWrapper.audioVolumeType("media"), this._pusherWrapper.enableMic(e)
                }
            }, {
                key: "enbaleAns", value: function (e) {
                    this._pusherWrapper.enableAns(e)
                }
            }, {
                key: "enableSpeaker", value: function (e) {
                    this._userManager.muteRemoteAll(e)
                }
            }, {
                key: "setMicVolume", value: function (e) {
                    this._pusherWrapper.setMicVolume(e)
                }
            }, {
                key: "setAdvanceParams", value: function (e, t) {
                    switch (M.log("[apiLog] setAdvanceParams() key and value:", e, t), e) {
                        case"audioVolumeType":
                            return void this._pusherWrapper.audioVolumeType(t);
                        case"audioReverbType":
                            return void this._pusherWrapper.audioReverbType(t);
                        case"audioQuality":
                            return void this._pusherWrapper.audioQuality(t);
                        case"enableAgc":
                            return void this._pusherWrapper.enableAgc(t);
                        case"enableAns":
                            return void this._pusherWrapper.enableAns(t);
                        case"enableTest":
                            n = t, x.kUrlHostTest = !0 === n ? "test-voice.gmertc.com" : "voice.gmertc.com";
                            break;
                        default:
                            return k
                    }
                    var n
                }
            }, {
                key: "startPlayMusic", value: function (e) {
                    this._pusherWrapper.playBGM(e)
                }
            }, {
                key: "stopPlayMusic", value: function () {
                    this._pusherWrapper.stopBGM()
                }
            }, {
                key: "pausePlayMusic", value: function () {
                    this._pusherWrapper.pauseBGM()
                }
            }, {
                key: "resumePlayMusic", value: function () {
                    this._pusherWrapper.resumeBGM()
                }
            }, {
                key: "setMusicVolume", value: function (e) {
                    this._pusherWrapper.setBGMVolume(e)
                }
            }, {
                key: "muteRemoteAudio", value: function (e, t) {
                    this._userManager.muteRemoteAudio(e, t)
                }
            }, {
                key: "pause", value: function () {
                    this._pusherWrapper.pause(), this._userManager.pauseAllPlayer(), this._pttManager.pausePTT()
                }
            }, {
                key: "resume", value: function () {
                    this._pusherWrapper.resume(), this._userManager.resumeAllPlayer(), this._pttManager.resumePTT()
                }
            }, {
                key: "setLogLevel", value: function (e) {
                    M.setLogLevel(e)
                }
            }, {
                key: "setTMGDelegate", value: function (e) {
                    return void 0 === e ? (this._onEventDelegate = void 0, 0) : "function" != typeof e ? (M.error("Delegate must be a function"), -1) : (this._onEventDelegate = e, 0)
                }
            }, {
                key: "initPTT", value: function (e) {
                    this._pttManager.setPttInfo(e)
                }
            }, {
                key: "startRecording", value: function () {
                    this._pttManager.startRecording()
                }
            }, {
                key: "stopRecording", value: function () {
                    this._pttManager.stopRecord()
                }
            }, {
                key: "cancelRecord", value: function () {
                    this._pttManager.cancelRecord()
                }
            }, {
                key: "playRecordedFile", value: function (e) {
                    this._pttManager.playRecordedFile(e)
                }
            }, {
                key: "stopRecordedFile", value: function () {
                    this._pttManager.stopPlayFile()
                }
            }, {
                key: "uploadRecordedFile", value: function (e) {
                    this._pttManager.uploadRecordedFile(e)
                }
            }, {
                key: "downloadRecordedFile", value: function (e, t) {
                    this._pttManager.downloadRecordedFile(e, t)
                }
            }, {
                key: "speechToText", value: function (e, t, n) {
                    this._pttManager.speechToText(e, t, n)
                }
            }, {
                key: "startRecordingWithStreamingRecognition", value: function (e, t) {
                    this._pttManager.startRecordingWithStreamingRecognition(e, t)
                }
            }, {
                key: "_defEventHandle", value: function (e) {
                    this._onEventDelegate(e)
                }
            }, {
                key: "_initLog", value: function () {
                    D.setConfig({
                        sdkAppId: this._rtcConfig.sdkAppID,
                        userId: this._rtcConfig.userID,
                        version: "wechat-game",
                        env: this._env
                    })
                }
            }, {
                key: "_pausePusher", value: function () {
                    this._pusherWrapper.pause()
                }
            }, {
                key: "_resumePusher", value: function () {
                    this._pusherWrapper.resume()
                }
            }]), e
        }()
    });
    var np = [], rp = !1, ip = [], op = [], ap = "", sp = "", cp = "", up = "",
        lp = {isEnableMic: null, isEnablePlayAll: null, micVolume: null}, dp = {}, fp = function (e) {
            np.forEach(function (t) {
                if (qe(t.listener)) {
                    var n = op.length ? op : null;
                    t.context ? t.listener.call(t.context, e, ip, n) : t.listener(e, ip, n), op = []
                }
            })
        };
    exports.AddicationType = vs, exports.BindPlatformType = gs, exports.BusinessEventName = Ts, exports.ENV = os, exports.EventType = ss, exports.GSFlowType = Is, exports.GSLogType = ys, exports.GSServiceType = _s, exports.LogType = as, exports.MicroProgramType = ps, exports.MonitorType = bs, exports.NoticeType = cs, exports.QQMicroAppType = fs, exports.QQScene = ls, exports.SMSCodeType = us, exports.SwitchStatus = ms, exports.VibrateType = ws, exports.WXMicroAppType = hs, exports.WXScene = ds, exports._getWXCode = function () {
        return lt()
    }, exports.aggregationRequest = function (e) {
        return Kd.post(e)
    }, exports.brandWallShowTrack = function () {
        Jn("show")
    }, exports.business = function (e) {
        xt({eventName: "sdk_call_api", data: {apiName: qu, apiOptions: Ne(e)}}), Qe(qu, e)
    }, exports.checkCanGetOneTimeReward = function () {
        return new Promise(function (e, t) {
            var n = Ee().combGameId, r = (Nl.getSDKUserInfo() || {}).uniqueId;
            gc.post(Js.combHost + "/comb-platform-server/api/v1/mp/sdk/user_subscribe", {
                gameId: n,
                uniqueId: r
            }).then(function (n) {
                (null == n ? void 0 : n.data) ? e({canGetReward: n.data.subscribe}) : t(n)
            }).catch(function (e) {
                t(e)
            })
        })
    }, exports.checkIPs = function (e) {
        return Jd.checkIps(e)
    }, exports.checkIsAddedToMyMiniProgram = function () {
        return new Promise(function (e, t) {
            wx.checkIsAddedToMyMiniProgram ? wx.checkIsAddedToMyMiniProgram({
                success: function (n) {
                    n && "boolean" == typeof n.added ? e({isAdded: n.added}) : t({errMsg: "回调参数值异常", res: n})
                }, fail: function (e) {
                    t({errMsg: e})
                }
            }) : t({errMsg: il})
        })
    }, exports.checkSwitches = function (e) {
        var t = [];
        return e && e.switchIdList && "function" == typeof e.switchIdList.forEach && e.switchIdList.forEach(function (e) {
            t.push(e)
        }), tf.check(t, e.params)
    }, exports.chooseImage = function (e) {
        return new Promise(function (e, t) {
            wx.chooseImage({
                count: 1, sizeType: ["compressed"], success: function (t) {
                    e({imagePath: t.tempFilePaths[0]})
                }, fail: t
            })
        })
    }, exports.closeMacPayModal = function () {
        return zt(Jf), Promise.resolve()
    }, exports.closeWindowsPayModal = Xt, exports.createFeedbackButton = function (e) {
        return Fn(e)
    }, exports.createUserInfoButton = function (e) {
        return rt(e)
    }, exports.debug = Je, exports.debugLog = function (e) {
        void 0 === e && (e = {}), ef.postLog(ef.LOG_TP.DEBUG, e.msg, e.data)
    }, exports.decodeShareTicket = function () {
        return te(this, void 0, void 0, function () {
            return ne(this, function (e) {
                return [2, xn()]
            })
        })
    }, exports.errorLog = function (e) {
        void 0 === e && (e = {}), ef.postLog(ef.LOG_TP.ERROR, e.msg, e.data)
    }, exports.exitGMEChat = function () {
        return Oe(function (e, t) {
            ep = e, $h.exitRoom()
        })
    }, exports.gameTrack = Et, exports.getAggregationTypes = function () {
        return Promise.resolve({type: Kd.AggrType})
    }, exports.getAward = function (e) {
        return Hh.getAward(e.id)
    }, exports.getBattery = function () {
        return new Promise(function (e, t) {
            new Promise(function (e, t) {
                wx.getBatteryInfo({success: e, fail: t})
            }).then(function (t) {
                e({battery: null == t ? void 0 : t.level, isCharging: null == t ? void 0 : t.isCharging})
            }).catch(t)
        })
    }, exports.getBrandWallList = function () {
        return new Promise(function (e, t) {
            var n = (Nl.getSDKUserInfo() || {}).uniqueId, r = Ee().gameId;
            gc.post(Js.combHost + "/brand_wall-server/api/v1/brand_game", {
                gameId: r,
                uniqueId: n,
                gameTp: Yh,
                sysInfo: ce()
            }).then(function (t) {
                (null == t ? void 0 : t.data) && (t.data.forEach(function (e, t) {
                    e.index = t
                }), Xh = t.data, e(t.data))
            }).catch(function (e) {
                t(e)
            })
        })
    }, exports.getBrightness = function () {
        return new Promise(function (e, t) {
            new Promise(function (e, t) {
                Vn({apiName: "getScreenBrightness", version: "1.2.0"}).then(function () {
                    wx.getScreenBrightness({success: e, fail: t})
                }).catch(t)
            }).then(function (t) {
                var n = t.value;
                e({brightness: n})
            }).catch(t)
        })
    }, exports.getClipboard = function () {
        return new Promise(function (e, t) {
            wx.getClipboardData().then(function (t) {
                e({text: t.data})
            }).catch(t)
        })
    }, exports.getConfig = Ee, exports.getDeviceInfo = function () {
        return Oe(function (e, t) {
            var n = se();
            e({
                deviceUniqueId: Hu.deviceId,
                gameId: Hu.option.combGameId,
                gameTp: "minigame",
                uniqueId: Nl.uniqueId,
                sysInfo: {
                    deviceSystem: n.system,
                    deviceModel: n.model,
                    deviceBrand: n.brand,
                    deviceVersion: "",
                    hortorSDKVersion: n.hortorSDKVersion,
                    deviceName: ""
                }
            })
        })
    }, exports.getExtUserInfo = function () {
        return Qd.getExtUserInfo()
    }, exports.getGSInfo = function () {
        var e = (Nl.getSDKUserInfo() || {}).uniqueId,
            t = Js.combHost + "/customer/api/v1/gs/new/comb/info?gameId=" + Hu.option.combGameId + "&gameTp=comb&uniqueId=" + e + "&system=" + (hc ? "ios" : "android");
        return new Promise(function (e, n) {
            gc.get(t).then(function (t) {
                var r, i, o, a, s, c, u, l, d, f, h, p, g, v, m, y, _, I, w, b, T, k, S, A, C, E, x, O;
                console.log(t), 0 === (null === (r = null == t ? void 0 : t.meta) || void 0 === r ? void 0 : r.errCode) && (null === (i = null == t ? void 0 : t.data) || void 0 === i ? void 0 : i.conf) || n(t), Kh = t.data.conf, ["gs", "secret"].includes(Kh.confTp) || n(t), zh = !0, e({
                    serviceType: Kh.confTp,
                    isForceAlert: Kh.forceAlert,
                    secretMoneyRange: [Kh.moneyStart, Kh.moneyEnd],
                    gsFlowTp: t.data.gsFlowTp,
                    customer: {
                        backgroundImg: null === (o = Kh.customerSessionImg) || void 0 === o ? void 0 : o.backgroundImg,
                        closeImg: null === (a = Kh.customerSessionImg) || void 0 === a ? void 0 : a.closeImg,
                        closeX: null === (c = null === (s = Kh.customerSessionImg) || void 0 === s ? void 0 : s.closeCoordinate) || void 0 === c ? void 0 : c.x,
                        closeY: null === (l = null === (u = Kh.customerSessionImg) || void 0 === u ? void 0 : u.closeCoordinate) || void 0 === l ? void 0 : l.y,
                        jumpImg: null === (d = Kh.customerSessionImg) || void 0 === d ? void 0 : d.confirmImg,
                        jumpX: null === (h = null === (f = Kh.customerSessionImg) || void 0 === f ? void 0 : f.confirmCoordinate) || void 0 === h ? void 0 : h.x,
                        jumpY: null === (g = null === (p = Kh.customerSessionImg) || void 0 === p ? void 0 : p.confirmCoordinate) || void 0 === g ? void 0 : g.y
                    },
                    wechat: {
                        backgroundImg: null === (v = Kh.wechatIdImg) || void 0 === v ? void 0 : v.backgroundImg,
                        posX: null === (y = null === (m = Kh.wechatIdImg) || void 0 === m ? void 0 : m.wechatIdCoordinate) || void 0 === y ? void 0 : y.x,
                        posY: null === (I = null === (_ = Kh.wechatIdImg) || void 0 === _ ? void 0 : _.wechatIdCoordinate) || void 0 === I ? void 0 : I.y,
                        code: t.data.wechatId,
                        closeImg: null === (w = Kh.wechatIdImg) || void 0 === w ? void 0 : w.closeImg,
                        closeX: null === (T = null === (b = Kh.wechatIdImg) || void 0 === b ? void 0 : b.closeCoordinate) || void 0 === T ? void 0 : T.x,
                        closeY: null === (S = null === (k = Kh.wechatIdImg) || void 0 === k ? void 0 : k.closeCoordinate) || void 0 === S ? void 0 : S.y,
                        copyImg: null === (A = Kh.wechatIdImg) || void 0 === A ? void 0 : A.confirmImg,
                        copyX: null === (E = null === (C = Kh.wechatIdImg) || void 0 === C ? void 0 : C.confirmCoordinate) || void 0 === E ? void 0 : E.x,
                        copyY: null === (O = null === (x = Kh.wechatIdImg) || void 0 === x ? void 0 : x.confirmCoordinate) || void 0 === O ? void 0 : O.y
                    }
                })
            }).catch(function (e) {
                n(e)
            })
        })
    }, exports.getGameClubData = function (e) {
        return te(this, void 0, void 0, function () {
            var t, n, r, i, o;
            return ne(this, function (a) {
                switch (a.label) {
                    case 0:
                        t = [1, 3, 4, 5, 6, 7, 8, 9].map(function (e) {
                            return {type: e}
                        }), (null == e ? void 0 : e.officialTopicId) && t.push({
                            type: 10,
                            subKey: e.officialTopicId
                        }), a.label = 1;
                    case 1:
                        return a.trys.push([1, 4, , 5]), [4, Bn(t)];
                    case 2:
                        return n = a.sent(), r = n.encryptedData, i = n.iv, o = n.signature, [4, Kn(r, i, o)];
                    case 3:
                        return [2, a.sent()];
                    case 4:
                        throw a.sent();
                    case 5:
                        return [2]
                }
            })
        })
    }, exports.getGetUserInfoBtn = function (e) {
        return sd && !e ? sd : yt(e)
    }, exports.getGsSetting = Hn, exports.getHTLauchOptions = Ce, exports.getHasOpenedFromDesktopIcon = function () {
        return 1023 === wx.getLaunchOptionsSync().scene || tp
    }, exports.getHasSubscribedGameUpdate = function (e) {
        return function (e) {
            return te(this, void 0, void 0, function () {
                var t;
                return ne(this, function (n) {
                    switch (n.label) {
                        case 0:
                            return n.trys.push([0, 2, , 3]), [4, Pn(e)];
                        case 1:
                            return [2, n.sent()];
                        case 2:
                            return Je("获取游戏更新订阅状态 err", t = n.sent()), [2, Promise.reject(t)];
                        case 3:
                            return [2]
                    }
                })
            })
        }(e)
    }, exports.getIsFromChannel = function () {
        return new Promise(function (e, t) {
            var n = we();
            e({isFromChannel: !!(n.query.adFrom && n.query.adFrom.length > 0)})
        })
    }, exports.getKeyByKeyType = function (e) {
        return te(this, void 0, void 0, function () {
            var t, n, r, i, o;
            return ne(this, function (a) {
                switch (a.label) {
                    case 0:
                        if (a.trys.push([0, 2, , 3]), t = e.secretKeyType, !(n = (Nl.getSDKUserInfo() || {}).uniqueId)) throw new Error("");
                        return r = Js.combKMS + "/kms-server/api/v1/key/public", [4, gc.get(r, {
                            secretKeyType: t,
                            uniqueId: n
                        })];
                    case 1:
                        if (!(i = a.sent()).data) throw new Error("");
                        return [2, {secretKey: i.data}];
                    case 2:
                        throw o = a.sent(), {errMsg: "公钥获取失败" + JSON.stringify(o)};
                    case 3:
                        return [2]
                }
            })
        })
    }, exports.getNetworkType = function () {
        return new Promise(function (e, t) {
            new Promise(function (e, t) {
                wx.getNetworkType({success: e, fail: t})
            }).then(function (t) {
                var n = t.networkType;
                e({networkType: n})
            }).catch(t)
        })
    }, exports.getNotchInfo = function () {
        return pe()
    }, exports.getNotice = function (e) {
        return void 0 === e && (e = {}), $d.getNotice(e)
    }, exports.getProtocolText = function () {
        return new Promise(function (e, t) {
            Promise.all([zn(0), zn(1)]).then(function (t) {
                var n = t[0], r = t[1];
                e({userPolicyText: n, privacyPolicyText: r})
            }).catch(function (e) {
                t(e)
            })
        })
    }, exports.getQuestionnaire = function (e) {
        return new Promise(function (t, n) {
            var r = (Nl.getSDKUserInfo() || {}).uniqueId, i = Js.combAPI + "questionnaires",
                o = {gameId: Hu.option.gameId, roleLevel: (null == e ? void 0 : e.roleLevel) || 0, uniqueId: r};
            gc.get(i, o).then(function (e) {
                var r, i, o, a, s, c, u;
                if (console.warn("getQuestionnaire", e), 0 == (null === (r = null == e ? void 0 : e.meta) || void 0 === r ? void 0 : r.errCode) && (null === (i = null == e ? void 0 : e.data) || void 0 === i ? void 0 : i.questionnaires) && (null === (a = null === (o = null == e ? void 0 : e.data) || void 0 === o ? void 0 : o.questionnaires) || void 0 === a ? void 0 : a.length) > 0) t(e.data.questionnaires); else {
                    if ((null === (s = null == e ? void 0 : e.data) || void 0 === s ? void 0 : s.questionnaires) && 0 != (null === (u = null === (c = null == e ? void 0 : e.data) || void 0 === c ? void 0 : c.questionnaires) || void 0 === u ? void 0 : u.length)) throw new Error(e.meta || {
                        errCode: -1,
                        errMsg: "获取问卷列表失败"
                    });
                    n({errCode: -1, errMsg: "问卷列表为空"})
                }
            }).catch(function (e) {
                n(e)
            })
        })
    }, exports.getQuestionnaireConfig = function () {
        return new Promise(function (e, t) {
            var n = Js.combAPI + "questionnaires/config", r = {gameId: Hu.option.gameId || ""};
            gc.get(n, r).then(function (t) {
                if (console.warn("getQuestionnaireConfig", t), !(t && t.meta && 0 == t.meta.errCode && t.data)) throw new Error(t.meta || {
                    errCode: -1,
                    errMsg: "获取问卷配置失败"
                });
                e(t.data)
            }).catch(function (e) {
                t(e)
            })
        })
    }, exports.getShareData = function (e) {
        return (null == e ? void 0 : e.id) && (e.shareType = e.id + "-miniwechat"), new Promise(function (t, n) {
            var r = bn(e);
            r ? t(r) : n({errMsg: "getShareData failed"})
        })
    }, exports.getSubscribeMessageCount = function () {
        return function () {
            return te(this, void 0, void 0, function () {
                var e, t, n, r, i, o;
                return ne(this, function (a) {
                    switch (a.label) {
                        case 0:
                            return a.trys.push([0, 2, , 3]), e = Ee().gameId, t = Nl.getSDKUserInfo() || {}, n = t.userId, r = t.uniqueId, i = Js.subscribeHost + "/subscribe-server/api/v1/msg/num", [4, gc.get(i, {
                                gameId: e,
                                openId: n,
                                uniqueId: r
                            })];
                        case 1:
                            return [2, a.sent().data];
                        case 2:
                            return Je("获取订阅次数 err", o = a.sent()), [2, Promise.reject(o)];
                        case 3:
                            return [2]
                    }
                })
            })
        }()
    }, exports.getTask = function (e) {
        return Hh.getTasks(e)
    }, exports.getWechatGroupQrCode = function (e) {
        return new Promise(function (t, n) {
            gc.post(Js.combHost + "/group-chat-server/api/v1/group/qrCode", Gs(Gs({}, e), {combGameId: Hu.sdkConfig().combGameId})).then(function (e) {
                var r;
                0 == (null === (r = null == e ? void 0 : e.meta) || void 0 === r ? void 0 : r.errCode) ? t(e.data) : n(e.meta)
            }).catch(function (e) {
                n(e)
            })
        })
    }, exports.goTask = function (e) {
        return Hh.goTask({taskId: e.id, wallPosition: Oh})
    }, exports.handleMsgFromFlowSdk = function (e, t) {
        "sdkTrack" === e ? xt({eventName: t.eventName, data: t.data}) : ze("handler not found: " + e)
    }, exports.hideAd = function (e) {
        if (null == e ? void 0 : e.id) {
            var t = e.id, n = Xf[t];
            if (n) return new Promise(function (t, r) {
                "loaded" === n.status ? Lt().then(function (n) {
                    var r = n[null == e ? void 0 : e.id], i = null == r ? void 0 : r.miniGameWxAdId;
                    "wxmg_template" === (null == r ? void 0 : r.adShowTp) ? (function (e) {
                        (null == e ? void 0 : e.id) && (eh[e.id].hide(), jt({
                            state: "close",
                            type: "CustomAd",
                            id: e.id
                        }))
                    }(Object.assign({}, e, {id: i})), t(!0)) : "banner" === (null == r ? void 0 : r.adShowTp) && (function (e) {
                        (null == e ? void 0 : e.id) && Zf[e.id] && (Zf[e.id].hide(), jt({
                            state: "close",
                            type: "Banner",
                            id: e.id
                        }))
                    }(Object.assign({}, e, {id: i})), t(!0))
                }).catch(function (e) {
                    r(e)
                }) : "loadFail" === n.status && r(n.loadFailReason)
            })
        }
    }, exports.hideLoading = function () {
        new Promise(function (e, t) {
            ae("hideLoading", "1.1.0") ? wx.hideLoading({
                success: function () {
                    e()
                }, fail: function (e) {
                    t(e)
                }
            }) : t({errMsg: il})
        }).then(function (e) {
            Je("hideLoading res", e)
        }).catch(function (e) {
            Je("hideLoading err", e)
        })
    }, exports.information = Gd, exports.init = function (e) {
        return zd(e)
    }, exports.joinGMEChat = function (e) {
        return Oe(function (t, n) {
            (function () {
                var e = this;
                return Oe(function (t, n) {
                    return te(e, void 0, void 0, function () {
                        var e, r, i, o, a;
                        return ne(this, function (s) {
                            switch (s.label) {
                                case 0:
                                    return s.trys.push([0, 9, , 10]), [4, Yn("scope.record")];
                                case 1:
                                    return e = s.sent().status, [4, Yn("scope.camera")];
                                case 2:
                                    return r = s.sent().status, "haveNotTried" !== e ? [3, 4] : [4, Xn("scope.record")];
                                case 3:
                                    s.sent(), s.label = 4;
                                case 4:
                                    return "haveNotTried" !== r ? [3, 6] : [4, Xn("scope.camera")];
                                case 5:
                                    s.sent(), s.label = 6;
                                case 6:
                                    return [4, Yn("scope.record")];
                                case 7:
                                    return i = s.sent().status, e = i, [4, Yn("scope.camera")];
                                case 8:
                                    return o = s.sent().status, r = o, "authed" === e && "authed" === r ? (Ke("麦克风与摄像头授权通过"), t()) : wx.openSetting({
                                        success: function (e) {
                                            !1 === e.authSetting["scope.record"] && !1 === e.authSetting["scope.camera"] ? n({errMsg: "scope.record and scope.camera auth deny"}) : !1 === e.authSetting["scope.record"] ? n({errMsg: "scope.record auth deny"}) : !1 === e.authSetting["scope.camera"] ? n({errMsg: "scope.camera auth deny"}) : t()
                                        }
                                    }), [3, 10];
                                case 9:
                                    return a = s.sent(), n(a), [3, 10];
                                case 10:
                                    return [2]
                            }
                        })
                    })
                })
            })().then(function () {
                rp || (rp = !0, ($h = new window.GME).setTMGDelegate(function (e) {
                    var t, n;
                    Ke("gme event", e);
                    var r = null === (t = null == e ? void 0 : e.data) || void 0 === t ? void 0 : t.userID,
                        i = ip.findIndex(function (e) {
                            return e.userId === r
                        }), o = e.code;
                    switch (o) {
                        case"LOCAL_JOIN":
                            Ue(Zh), Zh = null, fp(o);
                            break;
                        case"LOCAL_LEAVE":
                            Ue(ep), ep = null, ip.splice(0, ip.length), fp(o);
                            break;
                        case"REMOTE_USER_JOIN":
                            var a = !1;
                            "boolean" == typeof lp.isEnablePlayAll && (a = lp.isEnablePlayAll), null === (n = null == e ? void 0 : e.data) || void 0 === n || n.userList.forEach(function (e) {
                                -1 == ip.findIndex(function (t) {
                                    return t.userId === e.userID
                                }) && ip.push({userId: r, isEnablePlay: !1, isSpeaking: !1})
                            }), $n({userId: r, isEnablePlay: a}), op.push(r), fp(o);
                            break;
                        case"REMOTE_USER_LEAVE":
                            i > -1 && ip.splice(i, 1), op.push(r), fp(o);
                            break;
                        case"REMOTE_AUDIO_ADD":
                            i > -1 && (ip[i].isSpeaking = !0), op.push(r), fp(o);
                            break;
                        case"REMOTE_AUDIO_REMOVE":
                            i > -1 && (ip[i].isSpeaking = !1), op.push(r), fp(o)
                    }
                })), sp = e.userId, ap = e.roomId, e.expire, function (e) {
                    return Oe(function (t, n) {
                        gc.post(Js.combHost + "/common/api/v1/gme/sign", e).then(function (e) {
                            var r, i, o;
                            0 === (null === (r = null == e ? void 0 : e.meta) || void 0 === r ? void 0 : r.errCode) ? (cp = null === (i = null == e ? void 0 : e.data) || void 0 === i ? void 0 : i.userSig, up = null === (o = null == e ? void 0 : e.data) || void 0 === o ? void 0 : o.sdkAppId, t()) : n(e)
                        }).catch(function (e) {
                            n(e)
                        })
                    })
                }({
                    gameId: Hu.option.combGameId,
                    uniqueId: Nl.envUniqueId,
                    userId: e.userId,
                    expire: e.expire
                }).then(function (n) {
                    $h.enterRoom({sdkAppID: up, roomID: ap, userID: sp, userSig: cp, mode: e.mode || "rtc"}), Zh = t
                }).catch(function (e) {
                    n(e)
                })
            }).catch(function (e) {
                console.log("err", e), n(e)
            })
        })
    }, exports.joinWechatGroup = function (e) {
        return new Promise(function (t, n) {
            var r = Hu.sdkConfig().gameId, i = Hu.sdkConfig().combGameId,
                o = Js.combHost + "/customer/api/v1/gameConfig/sdk/config?gameId=" + r;
            gc.get(o).then(function (r) {
                var o, a;
                console.warn(r), 0 == r.meta.errCode ? (o = r.data.ticketProgramAppId, a = Hu.sdkConfig().env, wx.showModal({
                    title: "加群方法",
                    content: "请点击下方按钮，跳转至小程序，长按识别二维码，并加入群聊",
                    showCancel: !1,
                    confirmText: "加入群聊",
                    success: function () {
                        wx.navigateToMiniProgram({
                            appId: o,
                            path: "/pages/wechatGroup/index?combGameId=" + i + "&env=" + a + "&attr=" + e.attr,
                            envVersion: a === HSDK.ENV.Production ? "release" : "trial",
                            success: t,
                            fail: n
                        })
                    },
                    fail: n
                })) : n(r.meta.errMsg)
            }).catch(function (e) {
                console.warn(e), n(e)
            })
        })
    }, exports.jumpBrandWallGame = function (e) {
        return new Promise(function (t, n) {
            Jn("click");
            var r = e.index, i = Xh[r], o = i.appId, a = i.path, s = i.extraData, c = void 0 === s ? {} : s,
                u = i.envVersion;
            th.navigateToMiniProgram({appId: o, path: a, extraData: c, envVersion: u}).then(function (e) {
                t()
            }).catch(function (e) {
                n(e)
            })
        })
    }, exports.jumpGSCustomer = function () {
        return zh ? Ht(Kh.wxSendConf) : Promise.reject({errMsg: "has no gs conf"})
    }, exports.jumpGsMiniProgram = function (e) {
        var t = this;
        return new Promise(function (n, r) {
            return te(t, void 0, void 0, function () {
                var t, i, o, a;
                return ne(this, function (s) {
                    switch (s.label) {
                        case 0:
                            if (t = Hu.sdkConfig().gameId, i = Hu.sdkConfig().combGameId, (o = e.envVersion || "") || (o = "Test" === Hu.sdkConfig().env ? "trial" : "Dev" === Hu.sdkConfig().env ? "develop" : "release"), Qh) return [3, 4];
                            s.label = 1;
                        case 1:
                            return s.trys.push([1, 3, , 4]), [4, Hn(1)];
                        case 2:
                            return s.sent(), [3, 4];
                        case 3:
                            return a = s.sent(), r(a), [3, 4];
                        case 4:
                            return (null == e ? void 0 : e.userKey) ? wx.navigateToMiniProgram({
                                appId: Qh,
                                path: "/pages/index/index?userKey=" + e.userKey + "&targetType=" + e.targetType + "&gameId=" + i + "&subGameId=" + t,
                                envVersion: o,
                                success: n,
                                fail: r
                            }) : r({errMsg: "userKey is required"}), [2]
                    }
                })
            })
        })
    }, exports.logOpenTaskPanel = function () {
        Hh.logOpenTaskPanel()
    }, exports.login = function (e) {
        return nt(e, !1)
    }, exports.logout = function () {
        return xt({eventName: "sdk_logout"}), Nl.clearUserInfo(), Promise.resolve()
    }, exports.network = Hd, exports.offError = function (e) {
        !function (e) {
            wx.offError(e)
        }((e = Ae(e, "offError")).listener)
    }, exports.offGMEChatMembersChanged = function (e) {
        if (e.listener) {
            var t = np.findIndex(function (t) {
                return t.listener === e.listener
            });
            t > -1 && np.splice(t)
        }
    }, exports.offHide = function (e) {
        !function (e) {
            wx.offHide(e)
        }((e = Ae(e, "offHide")).listener)
    }, exports.offShow = function (e) {
        !function (e) {
            wx.offShow(e)
        }((e = Ae(e, "offShow")).listener)
    }, exports.onError = function (e) {
        !function (e) {
            wx.onError(e)
        }((e = Ae(e, "onError")).listener)
    }, exports.onGMEChatMembersChanged = function (e) {
        e.listener && (op = [], np.push(e))
    }, exports.onHide = function (e) {
        Te((e = Ae(e, "onHide")).listener)
    }, exports.onLogin = Tt, exports.onNeedPrivacyAuth = function (e) {
        var t = e.showPrivacyAuthUI, n = void 0 === t ? function (e) {
            e.onAgree, e.onRefuse
        } : t, r = e.onNotSupport, i = void 0 === r ? function () {
        } : r;
        Qn("onNeedPrivacyAuthCall"), "function" == typeof wx.onNeedPrivacyAuthorization ? wx.onNeedPrivacyAuthorization(function (e) {
            e({event: "exposureAuthorization"}), Qn("onNeedPrivacyAuthExposure"), n({
                onAgree: function () {
                    e({event: "agree"}), Qn("onNeedPrivacyAuthAgree")
                }, onRefuse: function () {
                    e({event: "disagree"}), Qn("onNeedPrivacyAuthRefuse")
                }
            })
        }) : (i(), Qn("onNeedPrivacyAuthNotSupport"))
    }, exports.onShare = function (e) {
        return (null == e ? void 0 : e.id) && (e.shareType = e.id + "-miniwechat"), function (e) {
            An(function () {
                return e
            })
        }(e)
    }, exports.onShareTimeline = function (e) {
        return (null == e ? void 0 : e.id) && (e.shareType = e.id + "-minifriend"), function (e) {
            Cn(function () {
                return e
            })
        }(e)
    }, exports.onShow = function (e) {
        be((e = Ae(e, "onShow")).listener)
    }, exports.openCustomerMiniApp = function (e) {
        return rh.goCustomer(e)
    }, exports.openCustomerServiceConversation = Ht, exports.openPrivacyContract = function () {
        return Qn("openPrivacyContractCall"), new Promise(function (e, t) {
            "function" == typeof wx.openPrivacyContract ? wx.openPrivacyContract({
                success: function (t) {
                    e(t), Qn("openPrivacyContractSuccess")
                }, fail: function (e) {
                    t(e), Qn("openPrivacyContractFail: " + JSON.stringify(e))
                }
            }) : (t({errMsg: "微信基础库不支持"}), Qn("openPrivacyContractNotSupport"))
        })
    }, exports.pay = function (e) {
        return function (e) {
            return te(this, void 0, void 0, function () {
                var t, n, r, i, o;
                return ne(this, function (a) {
                    switch (a.label) {
                        case 0:
                            return a.trys.push([0, 20, , 21]), hh = null == e ? void 0 : e.orderId, ph = null == e ? void 0 : e.money, gh = null == e ? void 0 : e.isSkipTip, $t({state: "sdksuccess"}), [4, Zt(e)];
                        case 1:
                            if (!(null == (t = a.sent()) ? void 0 : t.data)) throw en(t), null == t ? void 0 : t.meta;
                            switch (n = t.data, r = n.orderId, $t({state: "ordersuccess", type: i = n.platType}), i) {
                                case"mdsPay":
                                    return [3, 2];
                                case"shellJump":
                                    return [3, 4];
                                case"miniH5":
                                    return [3, 6];
                                case"miniH5Qr":
                                    return [3, 8];
                                case"miniH5IOSQrWxPay":
                                case"miniH5IOSQrAliPay":
                                case"miniH5IOSQrMixPay":
                                    return [3, 10];
                                case"miniWinQr":
                                    return [3, 12];
                                case"miniH5IOSLinkWxPay":
                                case"miniH5IOSLinkAliPay":
                                case"miniH5IOSLinkMixPay":
                                    return [3, 14];
                                case"mdsPayItem":
                                    return [3, 16]
                            }
                            return [3, 18];
                        case 2:
                            return n.mdsPayInfo.orderId = r, [4, an(r, n.mdsPayInfo)];
                        case 3:
                        case 5:
                        case 7:
                        case 9:
                        case 11:
                        case 13:
                        case 15:
                        case 17:
                            return [2, a.sent()];
                        case 4:
                            return n.shellPayInfo.orderId = r, [4, sn(n.shellPayInfo)];
                        case 6:
                            return e.showJumpCustomerTip && (n.miniH5PayInfo.showJumpCustomerTip = e.showJumpCustomerTip), n.miniH5PayInfo.orderId = n.orderId, [4, dn(n.miniH5PayInfo)];
                        case 8:
                            return [4, nn(n, e.parent)];
                        case 10:
                            return [4, rn(n, e.parent)];
                        case 12:
                            return [4, tn(n.miniH5WinQrPayInfo, e)];
                        case 14:
                            return [4, fn(n.miniH5IOSLinkWxPayInfo)];
                        case 16:
                            return [4, (s = n.mdsPayInfoItemSign, new Promise(function (e, t) {
                                wx.requestMidasPaymentGameItem({
                                    signData: s.signData,
                                    paySig: s.paySig,
                                    signature: s.signature,
                                    success: function (t, n) {
                                        e({res: t, errCode: n}), $t({state: "paysuccess", type: "mdsItem"})
                                    },
                                    fail: function (e) {
                                        t(e), $t({state: "payfail", errMsg: _e(e), type: "mdsItem"})
                                    }
                                })
                            }))];
                        case 18:
                            throw en(t), null == t ? void 0 : t.meta;
                        case 19:
                            return [3, 21];
                        case 20:
                            throw $t({state: "orderfail", errMsg: _e(o = a.sent())}), o;
                        case 21:
                            return [2]
                    }
                    var s
                })
            })
        }(e)
    }, exports.platformType = Bs, exports.postAPMLog = Ft, exports.postLog = function (e) {
        return void 0 === e && (e = {}), Vd.post(e.data, e.immediate)
    }, exports.preloadAd = function (e) {
        if (null == e ? void 0 : e.id) {
            var t = e.id;
            Xf[t] = {status: "loading"};
            var n = Xf[t];
            return new Promise(function (r, i) {
                Lt().then(function (o) {
                    var a = o[t];
                    if (void 0 === a) i({errMsg: $f}); else {
                        var s = null == a ? void 0 : a.miniGameWxAdId;
                        "reward_video" === (null == a ? void 0 : a.adShowTp) ? function (e) {
                            return (null == e ? void 0 : e.id) && (e.adUnitId = e.id), "boolean" == typeof (null == e ? void 0 : e.isMulti) && (e.multiton = e.isMulti), yf.check(e)
                        }(Object.assign({}, e, {id: s})).then(function (e) {
                            r(e), n.status = "loaded", n.isImmediateShow && Vt(n.showOption)
                        }).catch(function (e) {
                            var t;
                            i(e), Ft({
                                msg: "preloadVideoAd err",
                                data: {adItem: n, err: e}
                            }), n.status = "loadFail", n.loadFailReason = e, n.isImmediateShow && Mt(null === (t = n.showOption) || void 0 === t ? void 0 : t.onLoadFail, e)
                        }) : "interstitial" === (null == a ? void 0 : a.adShowTp) ? function (e) {
                            return new Promise(function (t, n) {
                                (null == e ? void 0 : e.id) ? df.preLoad({adUnitIds: [e.id]}).then(function (e) {
                                    t(!0)
                                }).catch(function (e) {
                                    n(e)
                                }) : n({errMsg: "id is empty"})
                            })
                        }(Object.assign({}, e, {id: s})).then(function (e) {
                            r(e), n.status = "loaded", n.isImmediateShow && Vt(n.showOption)
                        }).catch(function (e) {
                            var t;
                            i(e), Ft({
                                msg: "preloadInterstitialAd err",
                                data: {adItem: n, err: e}
                            }), n.status = "loadFail", n.loadFailReason = e, n.isImmediateShow && Mt(null === (t = n.showOption) || void 0 === t ? void 0 : t.onLoadFail, e)
                        }) : "wxmg_template" === (null == a ? void 0 : a.adShowTp) ? function (e) {
                            return new Promise(function (t, n) {
                                (null == e ? void 0 : e.id) ? (e.adUnitId = e.id, eh[e.id] = If.create(e), t(eh[e.id])) : n({errMsg: "id is empty"})
                            })
                        }(Object.assign({}, e, {id: s})).then(function (e) {
                            r(e), n.status = "loaded", n.isImmediateShow && Vt(n.showOption)
                        }).catch(function (e) {
                            var t;
                            i(e), Ft({
                                msg: "preloadCustomAd err",
                                data: {adItem: n, err: e}
                            }), n.status = "loadFail", n.loadFailReason = e, n.isImmediateShow && Mt(null === (t = n.showOption) || void 0 === t ? void 0 : t.onLoadFail, e)
                        }) : "banner" === (null == a ? void 0 : a.adShowTp) && function (e) {
                            if (null == e ? void 0 : e.id) return Zf[e.id] || (Zf[e.id] = cf.create(Object.assign({adUnitId: e.id}, e)), null !== Zf[e.id]) ? Promise.resolve(Zf[e.id]) : Promise.reject({errMsg: "create bannerAd fail"})
                        }(Object.assign({}, e, {id: s})).then(function (e) {
                            r(e), n.status = "loaded", n.isImmediateShow && Vt(n.showOption)
                        }).catch(function (e) {
                            var t;
                            i(e), Ft({
                                msg: "preloadBannerAd err",
                                data: {adItem: n, err: e}
                            }), n.status = "loadFail", n.loadFailReason = e, n.isImmediateShow && Mt(null === (t = n.showOption) || void 0 === t ? void 0 : t.onLoadFail, e)
                        })
                    }
                }).catch(function (e) {
                    var r;
                    i(e), Ft({
                        msg: "getAdScheme err",
                        data: {id: t, err: e}
                    }), n.status = "loadFail", n.loadFailReason = e, n.isImmediateShow && Mt(null === (r = n.showOption) || void 0 === r ? void 0 : r.onLoadFail, e)
                })
            })
        }
        return Promise.reject({errMsg: "广告id不能为空"})
    },exports.receiveMsgFromMainModule = function (e) {
        e = Ae(e, "receiveMsgFromMainModule"), zs.on(Rs, function () {
            var t = Ee() || {}, n = t.gameId, r = t.env, i = Nl.getTempUser() || {}, o = Gs({gameId: n, env: r}, i);
            e.listener && e.listener(o)
        })
    },exports.receiveMsgWhileRunning = function () {
        var e = Ee() || {}, t = e.gameId, n = e.env, r = Nl.getTempUser() || {};
        return Gs({gameId: t, env: n}, r)
    },exports.requestSubscribeGameUpdate = function (e) {
        return function (e) {
            return te(this, void 0, void 0, function () {
                var t;
                return ne(this, function (n) {
                    switch (n.label) {
                        case 0:
                            return n.trys.push([0, 2, , 3]), [4, Mn(e)];
                        case 1:
                            return [2, n.sent()];
                        case 2:
                            return Je("游戏更新订阅 err", t = n.sent()), [2, Promise.reject(t)];
                        case 3:
                            return [2]
                    }
                })
            })
        }(e)
    },exports.requestSubscribeMessage = function (e) {
        return e.templateIdList && (e.tmplIds = e.templateIdList), new Promise(function (t, n) {
            Dn(e).then(function (e) {
                var n = e || {};
                t({playerId: n.playerId, acceptIdList: n.acceptIds, rejectIdList: n.rejectIds, banIdList: n.banIds})
            }).catch(function (e) {
                n(e)
            })
        })
    },exports.requirePrivacyAuth = function () {
        return Qn("requirePrivacyAuthCall"), new Promise(function (e, t) {
            "function" == typeof wx.requirePrivacyAuthorize ? wx.requirePrivacyAuthorize({
                success: function (t) {
                    e(t), Qn("requirePrivacyAuthSuccess")
                }, fail: function (e) {
                    t(e), Qn("requirePrivacyAuthFail: " + JSON.stringify(e))
                }
            }) : t({errMsg: "微信基础库不支持"})
        })
    },exports.saveImage = function (e) {
        return new Promise(function (t, n) {
            try {
                var r = e.imagePath;
                wx.getSetting({
                    success: function (e) {
                        e.authSetting[Jh] ? Wn(r, t, n) : Gn(r, t, n)
                    }, fail: function (e) {
                        Gn(r, t, n)
                    }
                })
            } catch (e) {
                n({errMsg: JSON.stringify(e)})
            }
        })
    },exports.setBrightness = function (e) {
        (function (e) {
            var t = e.value;
            return new Promise(function (e, n) {
                Vn({apiName: "setScreenBrightness", version: "1.2.0"}).then(function () {
                    wx.setScreenBrightness({value: t, success: e, fail: n})
                }).catch(n)
            })
        })({value: e.brightness}).then(function (e) {
        }).catch(function (e) {
        })
    },exports.setClipboard = function (e) {
        return wx.setClipboardData({data: e.text})
    },exports.setGMEChatAutoReconnect = function (e) {
    },exports.setGameUserInfo = function (e) {
        var t;
        e && e.tgaInfo && (Et({
            eventType: "user_set",
            customData: e.tgaInfo
        }), delete e.tgaInfo), e && e.roleId && (void 0 === (t = {roleId: e.roleId}) && (t = {roleId: ""}), Id = t), function (e) {
            Nl.setGameUser(e)
        }(e)
    },exports.setKeepScreenOn = function (e) {
        return new Promise(function (t, n) {
            try {
                wx.setKeepScreenOn({keepScreenOn: e.isOn, success: t, fail: n})
            } catch (e) {
                n(e)
            }
        })
    },exports.setVibrate = function (e) {
        return new Promise(function (t, n) {
            var r = {errMsg: "setVibrate:ok"}, i = e.type, o = {
                type: "medium", success: t(r), fail: function (e) {
                    e && e.errMsg && e.errMsg.indexOf("style is not support") > 0 ? t(r) : n(e)
                }
            };
            i === HSDK.VibrateType.Short ? wx.vibrateShort(o) : i === HSDK.VibrateType.Long ? (delete o.type, wx.vibrateLong(o)) : n(ol)
        })
    },exports.share = function (e) {
        return On({
            state: "call",
            errMsg: _e({id: null == e ? void 0 : e.id})
        }), (null == e ? void 0 : e.id) && (e.shareType = e.id + "-miniwechat"), e.imagePath && (e.imageUrl = e.imagePath), new Promise(function (t, n) {
            (function (e) {
                return te(this, void 0, void 0, function () {
                    return ne(this, function (t) {
                        switch (t.label) {
                            case 0:
                                if (Ed.getState(xl)) throw rl;
                                if (!e.activityId) return [3, 4];
                                t.label = 1;
                            case 1:
                                return t.trys.push([1, 3, , 4]), [4, _h.set(e)];
                            case 2:
                                return t.sent(), [3, 4];
                            case 3:
                                return Je("update share err", t.sent()), [3, 4];
                            case 4:
                                return [4, Sn(e)];
                            case 5:
                                return [2, t.sent()]
                        }
                    })
                })
            })(e).then(function (e) {
                (null == e ? void 0 : e.shareData) && (e.shareData.id = e.shareData.type), t(e), On({state: "success"})
            }).catch(function (e) {
                n(e), On({state: "fail", errMsg: _e(e)})
            })
        })
    },exports.showAd = Vt,exports.showAppComment = function () {
        if (wx.openBusinessView) try {
            wx.openBusinessView({businessType: "servicecommentpage"})
        } catch (e) {
        }
    },exports.showLoading = function (e) {
        e.mask = (null == e ? void 0 : e.isShowMask) || !1, e.title || (e.title = ""), function (e) {
            return new Promise(function (t, n) {
                ae("showLoading", "1.1.0") ? wx.showLoading({
                    title: null == e ? void 0 : e.title,
                    mask: null == e ? void 0 : e.mask,
                    success: function () {
                        t()
                    },
                    fail: function (e) {
                        n(e)
                    }
                }) : n({errMsg: il})
            })
        }(e).then(function (e) {
            Je("showLoading res", e)
        }).catch(function (e) {
            Je("showLoading err", e)
        })
    },exports.showModal = function (e) {
        return new Promise(function (t, n) {
            wx.showModal(Object.assign(e, {success: t, fail: n}))
        })
    },exports.showQR = Gt,exports.storage = Ql,exports.submitQuestionnaire = function (e) {
        return new Promise(function (t, n) {
            var r = (Nl.getSDKUserInfo() || {}).uniqueId,
                i = Js.combAPI + "questionnaires/" + e.questionnaireId + "/answers", o = {
                    roleId: e.roleId,
                    roleLevel: e.roleLevel || 0,
                    startTime: e.startTime,
                    endTime: e.endTime,
                    gameId: Hu.option.gameId,
                    uniqueId: r,
                    answers: e.answers
                };
            gc.post(i, o).then(function (e) {
                if (console.warn("submitQuestionnaire", e), !e || !e.meta || 0 != e.meta.errCode) throw new Error((null == e ? void 0 : e.meta) || {
                    errCode: -1,
                    errMsg: "提交问卷失败"
                });
                t(e.meta)
            }).catch(function (e) {
                n(e)
            })
        })
    },exports.trackGS = function (e) {
        if (void 0 === e && (e = {eventType: ""}), zh) {
            var t = Nl.combUserInfo, n = t.envCombSdkInfo, r = t.combSdkInfo, i = r.uniqueId;
            n && n.uniqueId && (i = n.uniqueId);
            var o = Js.combHost + "/customer/api/v1/gs/new/log", a = e.eventType, s = {
                gameId: Hu.option.gameId,
                confTp: Kh.confTp,
                gameTp: "minigame",
                eventTp: {
                    ICON_SHOW: 0,
                    ICON_CLICK: 1,
                    PAGE_SHOW_FORCE: 3,
                    PAGE_SHOW: 3,
                    JUMP_CUSTOMER_FORCE: 4,
                    JUMP_CUSTOMER: 4
                }[a],
                forceAlert: Kh.forceAlert,
                isUserClick: "PAGE_SHOW" === a || "JUMP_CUSTOMER" === a,
                IconShowTp: "game",
                nodePlatform: "hortor_mix",
                uniqueId: i,
                guestOpenId: "",
                parentUniqueId: r.uniqueId,
                parentGuestOpenId: "",
                parentMixGameId: Hu.option.combGameId
            };
            gc.post(o, s).then(function (e) {
            }).catch(function (e) {
            })
        }
    },exports.updateGMEChatLocalConfig = function (e) {
        De(null == e ? void 0 : e.isEnableMic) && ($h.enableMic(e.isEnableMic), lp.isEnableMic = e.isEnableMic), De(null == e ? void 0 : e.isEnablePlayAll) && ($h.enableSpeaker(!e.isEnablePlayAll), ip.forEach(function (t) {
            t.isEnablePlay = e.isEnablePlayAll
        }), lp.isEnablePlayAll = e.isEnablePlayAll, fp(e.isEnablePlayAll ? "UNMUTE_ALL_SPEAKER" : "MUTE_ALL_SPEAKER")), Le(null == e ? void 0 : e.micVolume, "number") && (lp.micVolume = e.micVolume, $h.setMicVolume(e.micVolume))
    },exports.updateGMEChatRemoteConfig = function (e) {
        De(null == e ? void 0 : e.isEnablePlay) && Me(null == e ? void 0 : e.userId) && ($n(e), fp(e.isEnablePlay ? "UNMUTE_PART_SPEAKER" : "MUTE_PART_SPEAKER"))
    },exports.updateUserInfo = function (e) {
        return function (e) {
            return te(this, void 0, void 0, function () {
                var t;
                return ne(this, function (n) {
                    switch (n.label) {
                        case 0:
                            return zs.dispatch(Ps), [4, ot(e, !1, !0)];
                        case 1:
                            return t = n.sent(), bt(45), zs.dispatch(Ms, t), [2, t.combUser]
                    }
                })
            })
        }(e)
    },exports.warnLog = function (e) {
        void 0 === e && (e = {}), ef.postLog(ef.LOG_TP.WARN, e.msg, e.data)
    },exports.weakLogin = function (e) {
        return nt(e, !0)
    },exports.wxGetSetting = et;
});
define("main.js", function (require, module, exports) {
    "use strict";
    window._hortor_sceneok = !1, window._hortor_sdkok = !1, window._hortor_callOnLoad = function (e, n) {
        if (e && (window._hortor_sceneok = e), n && (window._hortor_sdkok = n), window._hortor_sceneok && window._hortor_sdkok) {
            var o = window._hortor_sceneok;
            if (o) {
                var r = o._children;
                if (r && r[0]) {
                    var a = r[0].getComponent("Launcher");
                    a && a.onLoadFunc()
                }
            }
        }
    }, window.boot = function () {
        function e(e) {
            if (e) return console.error(e.message, e.stack);
            ++d === u.length + 1 && cc.assetManager.loadBundle(n.hasStartSceneBundle ? i : s, function (e) {
                e || cc.game.run(a, o)
            })
        }

        var n = window._CCSettings;
        window._CCSettings = void 0;
        var o = function () {
            cc.view.enableRetina(!0), cc.view.resizeWithBrowserSize(!0);
            n.launchScene;
            !function e() {
                var o = n.launchScene;
                cc.director.loadScene(o, function (n, o) {
                    n ? (console.error("Failed to load scene: " + n), setTimeout(e, 1e3)) : window._hortor_callOnLoad(o, !1)
                })
            }()
        }, r = cc.sys.platform === cc.sys.WECHAT_GAME_SUB, a = {
            id: "GameCanvas",
            debugMode: n.debug ? cc.debug.DebugMode.INFO : cc.debug.DebugMode.ERROR,
            showFPS: !r && n.debug,
            frameRate: 60,
            groupList: n.groupList,
            collisionMatrix: n.collisionMatrix
        };
        cc.assetManager.init({
            bundleVers: n.bundleVers,
            subpackages: n.subpackages,
            remoteBundles: n.remoteBundles,
            server: n.server,
            subContextRoot: n.subContextRoot
        });
        var t = cc.AssetManager.BuiltinBundleName.RESOURCES, c = cc.AssetManager.BuiltinBundleName.INTERNAL,
            s = cc.AssetManager.BuiltinBundleName.MAIN, i = cc.AssetManager.BuiltinBundleName.START_SCENE, u = [c];
        n.hasResourcesBundle && u.push(t), n.hasStartSceneBundle && u.push(s);
        var d = 0;
        cc.assetManager.loadScript(n.jsList.map(function (e) {
            return "src/" + e
        }), e);
        for (var l = 0; l < u.length; l++) cc.assetManager.loadBundle(u[l], e)
    };
});
define("src/assets/launcher/common/libs/platform/hortor/HSDK.turnpass.min.js", function (require, module, exports) {
    "use strict";
    !function (t) {
        "function" == typeof define && define.amd ? define(t) : t()
    }(function () {
        function t(t, n, e, r) {
            return new (e || (e = Promise))(function (i, o) {
                function a(t) {
                    try {
                        u(r.next(t))
                    } catch (t) {
                        o(t)
                    }
                }

                function c(t) {
                    try {
                        u(r.throw(t))
                    } catch (t) {
                        o(t)
                    }
                }

                function u(t) {
                    var n;
                    t.done ? i(t.value) : ((n = t.value) instanceof e ? n : new e(function (t) {
                        t(n)
                    })).then(a, c)
                }

                u((r = r.apply(t, n || [])).next())
            })
        }

        function n(t, n) {
            function e(e) {
                return function (u) {
                    return function (e) {
                        if (r) throw new TypeError("Generator is already executing.");
                        for (; a && (a = 0, e[0] && (c = 0)), c;) try {
                            if (r = 1, i && (o = 2 & e[0] ? i.return : e[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, e[1])).done) return o;
                            switch (i = 0, o && (e = [2 & e[0], o.value]), e[0]) {
                                case 0:
                                case 1:
                                    o = e;
                                    break;
                                case 4:
                                    return c.label++, {value: e[1], done: !1};
                                case 5:
                                    c.label++, i = e[1], e = [0];
                                    continue;
                                case 7:
                                    e = c.ops.pop(), c.trys.pop();
                                    continue;
                                default:
                                    if (!((o = (o = c.trys).length > 0 && o[o.length - 1]) || 6 !== e[0] && 2 !== e[0])) {
                                        c = 0;
                                        continue
                                    }
                                    if (3 === e[0] && (!o || e[1] > o[0] && e[1] < o[3])) {
                                        c.label = e[1];
                                        break
                                    }
                                    if (6 === e[0] && c.label < o[1]) {
                                        c.label = o[1], o = e;
                                        break
                                    }
                                    if (o && c.label < o[2]) {
                                        c.label = o[2], c.ops.push(e);
                                        break
                                    }
                                    o[2] && c.ops.pop(), c.trys.pop();
                                    continue
                            }
                            e = n.call(t, c)
                        } catch (t) {
                            e = [6, t], i = 0
                        } finally {
                            r = o = 0
                        }
                        if (5 & e[0]) throw e[1];
                        return {value: e[0] ? e[1] : void 0, done: !0}
                    }([e, u])
                }
            }

            var r, i, o, a, c = {
                label: 0, sent: function () {
                    if (1 & o[0]) throw o[1];
                    return o[1]
                }, trys: [], ops: []
            };
            return a = {
                next: e(0),
                throw: e(1),
                return: e(2)
            }, "function" == typeof Symbol && (a[Symbol.iterator] = function () {
                return this
            }), a
        }

        function e(t, n) {
            return Math.random() * (n - t) + t
        }

        function r() {
        }

        function i(t) {
            return new Promise(function (n, e) {
                var r = m.wx;
                if (r) r.request({
                    method: "POST", url: t.url, data: t.params, success: function (t) {
                        t.data && t.data.data ? n(t.data.data) : e("验证失败, 请重新尝试")
                    }, fail: e
                }); else {
                    var i = new XMLHttpRequest;
                    i.open("POST", t.url), i.setRequestHeader("Content-Type", "application/json"), i.onload = function () {
                        if (200 === i.status) {
                            var t = JSON.parse(i.responseText);
                            t && t.meta && 0 === t.meta.errCode ? n(t.data) : e(t.meta.errMsg)
                        } else e(i.statusText)
                    }, i.onerror = function () {
                        e(i.statusText)
                    }, i.send(JSON.stringify(t.params))
                }
            })
        }

        function o() {
            return t(this, void 0, void 0, function () {
                var t, e, r, o, a, c;
                return n(this, function (n) {
                    switch (n.label) {
                        case 0:
                            return t = m.ins.init, e = t.gameId, r = t.uniqueId, o = w(), u = m.wx, a = u ? u.getSystemInfoSync().brand : "", c = {
                                gameId: e,
                                uniqueId: r,
                                timestamp: o,
                                brand: a,
                                sign: P("".concat(_(), "&time=").concat(o, "&brand=").concat(a, "&salt=NHpGRkw3185m26Ul"))
                            }, [4, i({url: N("token"), params: c})];
                        case 1:
                            return [2, n.sent().token]
                    }
                    var u
                })
            })
        }

        function a() {
            return t(this, void 0, void 0, function () {
                var t, e, r, o, a, c, u, s, l, f;
                return n(this, function (n) {
                    switch (n.label) {
                        case 0:
                            return t = m.ins.init, e = t.gameId, r = t.uniqueId, o = m.ins.apiData, a = o.token, c = o.globalOffset, u = w(), s = {
                                gameId: e,
                                uniqueId: r,
                                timestamp: u,
                                offset: c,
                                sign: P("".concat(_(), "&time=").concat(u, "&offset=").concat(c, "&salt=mnNZgVNSw3SSUXs8"))
                            }, l = {gameId: e, uniqueId: r, data: x(s, a)}, [4, i({
                                url: N("get_validate_img"),
                                params: l
                            })];
                        case 1:
                            return f = n.sent(), [2, O(f, a)]
                    }
                })
            })
        }

        function c(r) {
            return t(this, void 0, void 0, function () {
                var t, o, a, c, u, s, l, f, d, h;
                return n(this, function (n) {
                    switch (n.label) {
                        case 0:
                            return t = m.ins.init, o = t.gameId, a = t.uniqueId, c = m.ins.apiData, u = c.token, s = c.validateId, l = w(), f = function (t) {
                                var n = [], r = !(l % 2);
                                return t.map(function (t, i, o) {
                                    var a, c, u = {x: t.x, y: t.y, time: t.time}, s = r ? -b(2, 4) : b(2, 4),
                                        l = o[i + 1];
                                    a = l ? l.x - t.x : e(0, 1), c = l ? l.x - t.x : e(0, 1);
                                    var f = {x: t.x + a, y: t.y + c, time: t.time + s};
                                    r ? (n.push(f), n.push(u)) : (n.push(u), n.push(f))
                                }), n
                            }(r), d = {
                                gameId: o,
                                uniqueId: a,
                                validateId: s,
                                recordInfos: f,
                                timestamp: l,
                                sign: P("".concat(_(), "&validateId=").concat(s, "&time=").concat(l, "&salt=mqPnJ6JnNl65HzWm"))
                            }, h = {gameId: o, uniqueId: a, data: x(d, u)}, [4, i({
                                url: N("check_validate_img"),
                                params: h
                            })];
                        case 1:
                            return [2, n.sent()]
                    }
                })
            })
        }

        function u() {
            return t(this, void 0, void 0, function () {
                var t, e, r, i, c, u, s, l, f, d, h;
                return n(this, function (n) {
                    switch (n.label) {
                        case 0:
                            return Y(!0, "加载中..."), [4, o()];
                        case 1:
                            return t = n.sent(), m.syncApi({token: t}), [4, a()];
                        case 2:
                            if (e = n.sent(), m.syncApi({validateId: e.validateId}), r = H("tip-layout", {
                                top: 20,
                                left: 20
                            }), z(r, B), M(r, cc.Layout.Type.HORIZONTAL, cc.Layout.ResizeMode.CONTAINER), L(r, 572, 80), r.setAnchorPoint(0, .5), i = H("tip-label"), D(i, e.detail, 28, 0, "000000"), z(i, r), e.subTp == v.ClickMore) for (c = H("tip-imgs-layout"), z(c, r), c.getPosition().equals, c.setPosition(c.getPosition().add(cc.v2(0, 12))), M(c, cc.Layout.Type.HORIZONTAL, cc.Layout.ResizeMode.CONTAINER, 10), u = function (t) {
                                var n = e.detailImgs[t], r = H("img" + t);
                                z(r, c), F(r, n).then(function () {
                                    L(r, 50, 50)
                                })
                            }, s = 0; s < e.detailImgs.length; ++s) u(s);
                            return l = new cc.Size(572, 280), f = H("body", {
                                top: 90,
                                isHorizontal: !0
                            }), z(f, B), L(f, l.width, l.height), d = X = H("sprite"), z(d, f), [4, F(d, e.backImg)];
                        case 3:
                            return n.sent(), L(d, 572, 280), h = H("click-layer"), z(h, f), L(h, 286, 140), d.on(cc.Node.EventType.TOUCH_END, function (t) {
                                var n = t.getLocation(), e = d.convertToNodeSpaceAR(n), r = d.getContentSize(),
                                    i = d.getAnchorPoint(),
                                    o = cc.v2(e.x + i.x * r.width, r.height - e.y - (1 - i.y) * r.height),
                                    a = H("child"), c = q(a);
                                z(a, h), L(a, 60, 60), function (t, n, e) {
                                    a.setPosition(cc.v2(n, e))
                                }(0, e.x, e.y), c.lineWidth = 10, c.circle(0, 0, 20), c.strokeColor = cc.Color.WHITE, c.stroke(), U(c, "2165fc");
                                var u = H("child-lb"), s = D(u, (K.length + 1).toString(), 30, 26);
                                z(u, a);
                                var l = {
                                    x: (o.x + m.ins.apiData.globalOffset) / 2,
                                    y: (o.y + m.ins.apiData.globalOffset) / 2,
                                    time: Date.now()
                                };
                                K.push(l), W.push(s), a.once(cc.Node.EventType.TOUCH_END, function (t) {
                                    var n = t.target.getSiblingIndex();
                                    K.splice(n, 1), W.splice(n, 1), W.forEach(function (t, n) {
                                        return t.string = "".concat(n + 1)
                                    }), y({event_step: "verify_redo", verify_state: ++n}), a.destroy()
                                }), y({event_step: "verify_tap", verify_state: K.length})
                            }), Y(!1), [2]
                    }
                })
            })
        }

        function s() {
            return t(this, void 0, void 0, function () {
                return n(this, function (t) {
                    switch (t.label) {
                        case 0:
                            return t.trys.push([0, 3, 5, 6]), Y(!0, "验证中"), [4, c(K)];
                        case 1:
                            return t.sent(), f(1), [4, new Promise(function (t) {
                                return setTimeout(t, 700)
                            })];
                        case 2:
                            return t.sent(), h(), G.suc(), y({event_step: "verify_suc"}), [3, 6];
                        case 3:
                            return t.sent(), y({event_step: "verify_err"}), [4, new Promise(function (t) {
                                cc.tween(B).call(function () {
                                    return f(0)
                                }).sequence(cc.tween().to(.1, {position: cc.v3(10, 0)}), cc.tween().to(.1, {position: cc.v3(-10, 0)})).repeat(3).to(.1, {position: cc.v3(0, 0)}).delay(.3).call(function () {
                                    l().then(t)
                                }).start(), Z && Z({errCode: 0, errMsg: "validate fail"})
                            })];
                        case 4:
                            return t.sent(), [3, 6];
                        case 5:
                            return Y(!1), [7];
                        case 6:
                            return [2]
                    }
                })
            })
        }

        function l() {
            return Y(!0), new Promise(function (t) {
                cc.tween(B).to(.2, {opacity: 0, scale: .9}, {easing: cc.easing.quadOut}).call(function () {
                    new Promise(function (t) {
                        try {
                            var n = B.getChildByName("body");
                            n && n.removeFromParent();
                            var e = B.getChildByName("tip-layout");
                            e && e.removeFromParent(), K.length = 0, W.length = 0, u().then(t)
                        } catch (n) {
                            h(), t(), G.err(n)
                        }
                    }).then(t)
                }).set({scale: 1, opacity: 255}).start()
            })
        }

        function f(t) {
            var n = H("result", {left: 0, right: 0, bottom: 0});
            z(n, X);
            var e = H("result-label", {isHorizontal: !0, isVertical: !0});
            z(e, n), L(n, 572, 40);
            var r = q(n);
            E(r, 572, 40, 10), U(r, t ? "3CD25A" : "FF0000"), D(e, t ? "验证成功" : "验证失败，请重试", 24, 20)
        }

        function d(t) {
            j = t
        }

        function h() {
            J && J.removeAllChildren(), K.length = 0, W.length = 0, d(!1), Y(!1)
        }

        var g, p, v;
        !function (t) {
            t.Development = "Dev", t.Test = "Test", t.Production = "Prod"
        }(g || (g = {})), function (t) {
            t[t.Click = 1] = "Click", t[t.Move = 2] = "Move"
        }(p || (p = {})), function (t) {
            t[t.ClickOne = 1.1] = "ClickOne", t[t.ClickMore = 1.2] = "ClickMore"
        }(v || (v = {}));
        var m = function () {
            function t() {
                this.init = {gameId: "", uniqueId: "", env: g.Production}, this.apiData = {
                    validateId: "",
                    token: "",
                    globalOffset: 0
                }
            }

            return Object.defineProperty(t, "ins", {
                get: function () {
                    return t._ins || (t._ins = new t), t._ins
                }, enumerable: !1, configurable: !0
            }), t.syncInit = function (n) {
                t.ins.init = Object.assign(t.ins.init, n), t.hasInit = !0
            }, t.syncApi = function (n) {
                t.ins.apiData = Object.assign(t.ins.apiData, n)
            }, t.imgHost = "https://wxmini-resource.hortorgames.com/background-image/", t.baseImgUrl = {
                logo: t.imgHost + "logo-1672303337.png",
                refresh: t.imgHost + "refresh-1672303763.png"
            }, t.wx = window.wx, t.hasInit = !1, t
        }(), y = function (t) {
            HSDK && HSDK.gameTrack ? HSDK.gameTrack({
                eventName: "sdk_c_verify",
                customData: Object.assign(t, {roleId: m.ins.init.uniqueId})
            }) : cc.warn("请接入SDK")
        }, b = function (t, n) {
            return Math.round(Math.random() * (n - t)) + t
        }, w = function () {
            return Math.floor(.001 * (new Date).getTime())
        }, I = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", C = function () {
            var t = new Uint8Array(1);
            return function (n) {
                return t[0] = n, t[0]
            }
        }(), x = function (t, n) {
            var e = [], r = JSON.stringify(t);
            for (var i in r) if (Object.hasOwnProperty.call(r, i)) {
                var o = r[i];
                e.push(o.charCodeAt(0))
            }
            for (var a = n.length, c = parseInt(n.slice(5, 6)), u = new Uint8Array(e.length), s = 0; s < e.length; ++s) {
                var l = 255 - (C(e[s]) - C(c) - n[s % a].charCodeAt(0));
                u[s] = l
            }
            return A(u)
        }, O = function (t, n) {
            for (var e = T(t), i = n.length, o = parseInt(n.slice(5, 6)), a = new Uint8Array(e.length), c = 0; c < e.length; ++c) {
                var u = 255 - (e[c] - n[c % i].charCodeAt(0) - C(o));
                a[c] = u
            }
            var s = (new r).decode(a);
            return JSON.parse(s)
        }, A = function (t) {
            var n, e = "";
            for (n = 0; n < t.length; n += 3) {
                var r = 255 & t[n], i = 255 & t[n + 1], o = 255 & t[n + 2];
                e += I.charAt(r >> 2), e += I.charAt((3 & r) << 4 | i >> 4), e += n + 1 < t.length ? I.charAt((15 & i) << 2 | o >> 6) : "=", e += n + 2 < t.length ? I.charAt(63 & o) : "="
            }
            return e
        }, T = function (t) {
            for (var n = t.indexOf("="), e = -1 !== n ? n : t.length, r = 3 * (t = t.replace(/=/g, "")).length / 4, i = new Uint8Array(r), o = 0, a = 0; a < e; a += 4) {
                var c = I.indexOf(t.charAt(a)), u = I.indexOf(t.charAt(a + 1)), s = I.indexOf(t.charAt(a + 2)),
                    l = I.indexOf(t.charAt(a + 3)), f = c << 2 | u >> 4;
                if (i[o++] = f, -1 !== s) {
                    var d = (15 & u) << 4 | s >> 2;
                    i[o++] = d
                }
                if (-1 !== l) {
                    var h = (3 & s) << 6 | l;
                    i[o++] = h
                }
            }
            return i
        };
        r.prototype.decode = function (t) {
            for (var n = "", e = 0; e < t.length;) {
                var r = t[e], i = 0, o = 0;
                if (r <= 127 ? (i = 0, o = 255 & r) : r <= 223 ? (i = 1, o = 31 & r) : r <= 239 ? (i = 2, o = 15 & r) : r <= 244 && (i = 3, o = 7 & r), t.length - e - i > 0) for (var a = 0; a < i;) o = o << 6 | 63 & (r = t[e + a + 1]), a += 1; else o = 65533, i = t.length - e;
                n += String.fromCodePoint(o), e += i + 1
            }
            return n
        };
        var S,
            k = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {},
            P = (function (t) {
                !function (n) {
                    function e(t, n) {
                        var e = (65535 & t) + (65535 & n);
                        return (t >> 16) + (n >> 16) + (e >> 16) << 16 | 65535 & e
                    }

                    function r(t, n, r, i, o, a) {
                        return e(function (t) {
                            return t << o | t >>> 32 - o
                        }(e(e(n, t), e(i, a))), r)
                    }

                    function i(t, n, e, i, o, a, c) {
                        return r(n & e | ~n & i, t, n, o, a, c)
                    }

                    function o(t, n, e, i, o, a, c) {
                        return r(n & i | e & ~i, t, n, o, a, c)
                    }

                    function a(t, n, e, i, o, a, c) {
                        return r(n ^ e ^ i, t, n, o, a, c)
                    }

                    function c(t, n, e, i, o, a, c) {
                        return r(e ^ (n | ~i), t, n, o, a, c)
                    }

                    function u(t, n) {
                        var r, u, s, l, f;
                        t[n >> 5] |= 128 << n % 32, t[14 + (n + 64 >>> 9 << 4)] = n;
                        var d = 1732584193, h = -271733879, g = -1732584194, p = 271733878;
                        for (r = 0; r < t.length; r += 16) h = c(h = c(h = c(h = c(h = a(h = a(h = a(h = a(h = o(h = o(h = o(h = o(h = i(h = i(h = i(h = i(s = h, g = i(l = g, p = i(f = p, d = i(u = d, h, g, p, t[r], 7, -680876936), h, g, t[r + 1], 12, -389564586), d, h, t[r + 2], 17, 606105819), p, d, t[r + 3], 22, -1044525330), g = i(g, p = i(p, d = i(d, h, g, p, t[r + 4], 7, -176418897), h, g, t[r + 5], 12, 1200080426), d, h, t[r + 6], 17, -1473231341), p, d, t[r + 7], 22, -45705983), g = i(g, p = i(p, d = i(d, h, g, p, t[r + 8], 7, 1770035416), h, g, t[r + 9], 12, -1958414417), d, h, t[r + 10], 17, -42063), p, d, t[r + 11], 22, -1990404162), g = i(g, p = i(p, d = i(d, h, g, p, t[r + 12], 7, 1804603682), h, g, t[r + 13], 12, -40341101), d, h, t[r + 14], 17, -1502002290), p, d, t[r + 15], 22, 1236535329), g = o(g, p = o(p, d = o(d, h, g, p, t[r + 1], 5, -165796510), h, g, t[r + 6], 9, -1069501632), d, h, t[r + 11], 14, 643717713), p, d, t[r], 20, -373897302), g = o(g, p = o(p, d = o(d, h, g, p, t[r + 5], 5, -701558691), h, g, t[r + 10], 9, 38016083), d, h, t[r + 15], 14, -660478335), p, d, t[r + 4], 20, -405537848), g = o(g, p = o(p, d = o(d, h, g, p, t[r + 9], 5, 568446438), h, g, t[r + 14], 9, -1019803690), d, h, t[r + 3], 14, -187363961), p, d, t[r + 8], 20, 1163531501), g = o(g, p = o(p, d = o(d, h, g, p, t[r + 13], 5, -1444681467), h, g, t[r + 2], 9, -51403784), d, h, t[r + 7], 14, 1735328473), p, d, t[r + 12], 20, -1926607734), g = a(g, p = a(p, d = a(d, h, g, p, t[r + 5], 4, -378558), h, g, t[r + 8], 11, -2022574463), d, h, t[r + 11], 16, 1839030562), p, d, t[r + 14], 23, -35309556), g = a(g, p = a(p, d = a(d, h, g, p, t[r + 1], 4, -1530992060), h, g, t[r + 4], 11, 1272893353), d, h, t[r + 7], 16, -155497632), p, d, t[r + 10], 23, -1094730640), g = a(g, p = a(p, d = a(d, h, g, p, t[r + 13], 4, 681279174), h, g, t[r], 11, -358537222), d, h, t[r + 3], 16, -722521979), p, d, t[r + 6], 23, 76029189), g = a(g, p = a(p, d = a(d, h, g, p, t[r + 9], 4, -640364487), h, g, t[r + 12], 11, -421815835), d, h, t[r + 15], 16, 530742520), p, d, t[r + 2], 23, -995338651), g = c(g, p = c(p, d = c(d, h, g, p, t[r], 6, -198630844), h, g, t[r + 7], 10, 1126891415), d, h, t[r + 14], 15, -1416354905), p, d, t[r + 5], 21, -57434055), g = c(g, p = c(p, d = c(d, h, g, p, t[r + 12], 6, 1700485571), h, g, t[r + 3], 10, -1894986606), d, h, t[r + 10], 15, -1051523), p, d, t[r + 1], 21, -2054922799), g = c(g, p = c(p, d = c(d, h, g, p, t[r + 8], 6, 1873313359), h, g, t[r + 15], 10, -30611744), d, h, t[r + 6], 15, -1560198380), p, d, t[r + 13], 21, 1309151649), g = c(g, p = c(p, d = c(d, h, g, p, t[r + 4], 6, -145523070), h, g, t[r + 11], 10, -1120210379), d, h, t[r + 2], 15, 718787259), p, d, t[r + 9], 21, -343485551), d = e(d, u), h = e(h, s), g = e(g, l), p = e(p, f);
                        return [d, h, g, p]
                    }

                    function s(t) {
                        var n, e = "", r = 32 * t.length;
                        for (n = 0; n < r; n += 8) e += String.fromCharCode(t[n >> 5] >>> n % 32 & 255);
                        return e
                    }

                    function l(t) {
                        var n, e = [];
                        for (e[(t.length >> 2) - 1] = void 0, n = 0; n < e.length; n += 1) e[n] = 0;
                        var r = 8 * t.length;
                        for (n = 0; n < r; n += 8) e[n >> 5] |= (255 & t.charCodeAt(n / 8)) << n % 32;
                        return e
                    }

                    function f(t) {
                        var n, e, r = "0123456789abcdef", i = "";
                        for (e = 0; e < t.length; e += 1) n = t.charCodeAt(e), i += r.charAt(n >>> 4 & 15) + r.charAt(15 & n);
                        return i
                    }

                    function d(t) {
                        return unescape(encodeURIComponent(t))
                    }

                    function h(t) {
                        return function (t) {
                            return s(u(l(t), 8 * t.length))
                        }(d(t))
                    }

                    function g(t, n) {
                        return function (t, n) {
                            var e, r, i = l(t), o = [], a = [];
                            for (o[15] = a[15] = void 0, 16 < i.length && (i = u(i, 8 * t.length)), e = 0; e < 16; e += 1) o[e] = 909522486 ^ i[e], a[e] = 1549556828 ^ i[e];
                            return r = u(o.concat(l(n)), 512 + 8 * n.length), s(u(a.concat(r), 640))
                        }(d(t), d(n))
                    }

                    function p(t, n, e) {
                        return n ? e ? g(n, t) : function (t, n) {
                            return f(g(t, n))
                        }(n, t) : e ? h(t) : function (t) {
                            return f(h(t))
                        }(t)
                    }

                    t.exports ? t.exports = p : n.md5 = p
                }(k)
            }(S = {exports: {}}), S.exports), N = function (t) {
                return "https://platform".concat("Prod" == m.ins.init.env ? "" : "-test", ".hortorgames.com/common/api/v2/validate_img/") + t
            }, _ = function () {
                var t = m.ins.init, n = t.gameId, e = t.uniqueId;
                return "gameId=".concat(n, "&uniqueId=").concat(e)
            }, H = function (t, n) {
                void 0 === n && (n = {});
                var e = new cc.Node(t);
                return n && function (t, n) {
                    var e = t.addComponent(cc.Widget);
                    null != n.top && (e.top = n.top, e.isAlignTop = !0), null != n.bottom && (e.bottom = n.bottom, e.isAlignBottom = !0), null != n.right && (e.right = n.right, e.isAlignRight = !0), null != n.left && (e.left = n.left, e.isAlignLeft = !0), n.isHorizontal && (e.isAlignHorizontalCenter = !0), n.isVertical && (e.isAlignVerticalCenter = !0)
                }(e, n), e
            }, D = function (t, n, e, r, i) {
                i && (t.color = (new cc.Color).fromHEX("#" + i));
                var o = t.addComponent(cc.Label);
                return o.string = n, o.fontSize = e, o.lineHeight = r || e, o
            }, M = function (t, n, e, r, i) {
                void 0 === r && (r = 0), void 0 === i && (i = 0);
                var o = t.addComponent(cc.Layout);
                o.type = n, o.resizeMode = e, o.spacingX = r, o.spacingY = i
            }, q = function (t) {
                return t.addComponent(cc.Graphics)
            }, E = function (t, n, e, r) {
                t.roundRect(-n / 2, -e / 2, n, e, r)
            }, U = function (t, n) {
                t.fillColor = (new cc.Color).fromHEX("#" + n), t.fill()
            }, z = function (t, n) {
                t.parent = n
            }, F = function (t, n, e) {
                return new Promise(function (r, i) {
                    R(n).then(function (n) {
                        var i = t.addComponent(cc.Sprite);
                        e ? function (t, n, e) {
                            t.spriteFrame = n, t.sizeMode = cc.Sprite.SizeMode.CUSTOM, t.type = cc.Sprite.Type.SLICED, n.insetBottom = n.insetTop = n.insetLeft = n.insetRight = e
                        }(i, n, e) : i.spriteFrame = n, r(i)
                    }).catch(i)
                })
            }, R = function (t) {
                return new Promise(function (n, e) {
                    cc.assetManager.loadRemote(t, function (t, r) {
                        if (null == t) {
                            var i = new cc.SpriteFrame;
                            i.setTexture(r), n(i)
                        } else e({errMsg: "load spf failed"})
                    })
                })
            }, L = function (t, n, e) {
                t.setContentSize(n, e)
            }, j = !1, J = null, V = null, B = null, X = null, K = [], W = [], G = {suc: null, err: null}, Z = null,
            Y = function (t, n) {
                void 0 === n && (n = "");
                var e = m.wx;
                t ? (e && e.showLoading({title: n, mask: !0}), V.enabled = !0) : (e && e.hideLoading(), V.enabled = !1)
            };
        console.warn("build time:", "4/8/2024, 7:57:13 PM"), console.warn("build vers:", "1.0.0"), window.VERIFY = Object.assign({
            bootstrap: function (t) {
                if (!m.hasInit) {
                    m.syncInit(t);
                    for (var n = [m.baseImgUrl.logo, m.baseImgUrl.refresh], e = 0; e < n.length; ++e) R(n[e])
                }
            }, turnpass: function (e) {
                var r = this;
                return new Promise(function (i, o) {
                    return t(r, void 0, void 0, function () {
                        var t;
                        return n(this, function (n) {
                            switch (n.label) {
                                case 0:
                                    return n.trys.push([0, 2, , 3]), j ? [2, o({errMsg: "请不要重复验证"})] : (y({event_step: "verify_start"}), m.syncApi({globalOffset: b(0, 5)}), d(!0), J = e.node, Z = e.listener, function () {
                                        var t = H("verify-panel"), n = q(t);
                                        E(n, 600, 480, 25), U(n, "FFFFFF"), L(t, 600, 480), z(t, J);
                                        var e = H("mask", {top: 0, left: 0, bottom: 0, right: 0});
                                        V = e.addComponent(cc.BlockInputEvents), z(e, t), B = H("container", {
                                            top: 0,
                                            right: 0,
                                            bottom: 0,
                                            left: 0
                                        }), z(B, t);
                                        var r = H("logo", {bottom: 30, left: 30}), i = m.baseImgUrl.logo;
                                        F(r, i).then(function () {
                                            z(r, t)
                                        });
                                        var o = H("refresh-btn", {top: 20, right: 20}), a = m.baseImgUrl.refresh;
                                        F(o, a).then(function () {
                                            z(o, t), e.zIndex = 999
                                        });
                                        var c = H("confirm-btn", {right: 20, bottom: 30}), u = q(c);
                                        E(u, 100, 50, 15), U(u, "409EFF"), L(c, 100, 50), z(c, t);
                                        var f, d, h = H("confirm-label", {isHorizontal: !0, isVertical: !0});
                                        D(h, "确认", 26, 21), z(h, c), o.on(cc.Node.EventType.TOUCH_END, l), c.on(cc.Node.EventType.TOUCH_END, s), f = t, void 0 === d && (d = .5), new Promise(function (t) {
                                            cc.tween(f).set({opacity: 0, scale: .5}).to(d, {
                                                opacity: 255,
                                                scale: 1
                                            }, {easing: "backOut"}).call(function () {
                                                t()
                                            }).start()
                                        })
                                    }(), [4, u()]);
                                case 1:
                                    return n.sent(), G.suc = i, G.err = o, [3, 3];
                                case 2:
                                    return t = n.sent(), y({
                                        event_step: "verify_logic_err",
                                        errmsg: JSON.stringify(t)
                                    }), h(), o(t), [3, 3];
                                case 3:
                                    return [2]
                            }
                        })
                    })
                })
            }
        })
    });
});
define("src/settings.js", function (require, module, exports) {
    "use strict";
    window._CCSettings = {
        platform: "wechatgame",
        groupList: ["default", "ui", "player", "enemy"],
        collisionMatrix: [[!1], [!1, !1], [!1, !1, !1, !0], [!1, !1, !0, !1]],
        hasResourcesBundle: !1,
        hasStartSceneBundle: !1,
        remoteBundles: ["miniGameRes", "config", "language", "materials", "prefabs", "quiz", "sounds", "yuling_1101", "yuling_1102", "yuling_1103", "yuling_1104", "yuling_1105", "yuling_1106", "yuling_1106_plt", "yuling_1107", "yuling_1107_plt", "yuling_1108", "yuling_1108_plt", "yuling_1109", "yuling_1109_plt", "yuling_1110", "yuling_1110_plt", "yuling_1111", "yuling_1111_plt", "yuling_1112", "yuling_1112_plt", "yuling_1113", "yuling_1113_plt", "yuling_1114", "yuling_1114_plt", "yuling_1201", "yuling_1202", "yuling_1203", "yuling_1204", "yuling_1205", "yuling_1206", "yuling_1207", "yuling_1208", "yuling_1209", "yuling_1210", "yuling_1211", "yuling_1212", "yuling_1213", "yuling_1214", "yuling_1215", "yuling_1216", "yuling_1217", "yuling_1218", "yuling_1219", "yuling_1220", "yuling_1301", "yuling_1302", "yuling_1303", "yuling_1304", "yuling_1305", "yuling_1401", "yuling_1402", "yuling_1403", "yuling_1404", "yuling_1405", "yuling_1406", "yuling_1407", "yuling_1408", "yuling_1409", "yuling_1410", "yuling_1411", "yuling_1412", "yuling_1501", "yuling_1502", "yuling_1503", "yuling_1504", "yuling_1505", "yuling_1506", "yuling_1601", "yuling_1602", "yuling_1603", "yuling_1604", "yuling_txcc_1111", "yuling_txcc_1112", "axian", "axian1_change1", "axian_change0", "axian_change1", "axian_change4", "axian_change5", "bianpao", "boss_baobaoshe", "boss_chaiyouxiongdi", "boss_diandianwa", "boss_nianshou", "boss_weiweiyu", "boss_xianyuwang", "boss_xianyuwang_guide", "bosstower_boss1", "bosstower_boss2", "bosstower_boss3", "bosstower_boss4", "caiwenji", "caoren", "caoren2", "caoren3", "caoren4", "caoren5", "caoren6", "chabing", "chengpu", "chest", "cjqh_boss1a", "cjqh_boss1b", "cjqh_boss1c", "cjqh_boss2a", "cjqh_boss2b", "cjqh_boss2c", "cjqh_boss3a", "cjqh_boss3b", "cjqh_boss3c", "cjqh_boss4a", "cjqh_boss4b", "cjqh_boss4c", "cjqh_boss5a", "cjqh_boss5b", "cjqh_boss5c", "cjqh_boss6a", "cjqh_boss6b", "cjqh_boss6c", "daobing", "daqiao", "daqiao2", "daqiao3", "dengai", "dengshenqun", "dengshenshu", "dengshenwei", "dengshenwu", "dianwei", "dianwei2_1", "dianwei2_2", "dianwei3_1", "dianwei3_2", "diaochan", "dongzhuo", "dsqq_boss_els", "dsqq_boss_hmkqj", "dsqq_boss_hsly", "dsqq_boss_nxx", "dsqq_boss_tsgz", "dunbing", "futoubing", "ganning", "ghg_jingying_baiyu", "ghg_jingying_chan", "ghg_jingying_chu", "ghg_jingying_fu", "ghg_jingying_gong", "ghg_jingying_hu", "ghg_jingying_lan", "ghg_jingying_pa", "ghg_xiaobing_hong", "ghg_xiaobing_huang", "ghg_xiaobing_lan", "ghg_xiaobing_zi", "gongbing", "gongjian", "gongsunzan", "gongsunzan2", "gongsunzan3", "gongsunzan4", "gongsunzan5", "gongsunzan6", "guanping", "guanyinping", "guanyu", "guanyu2", "guanyu3", "guanyu4", "guanyu5", "guanyu6", "guojia", "guojia2", "guojia3", "guojia4", "guojia5", "guojia6", "guojia_fahai_boyu", "guojia_fahai_muyu", "guojia_fahai_nianzhu", "guojia_fahai_xianglu", "guojia_fahai_xizhang", "guojia_ice", "huanggai", "huangyueying", "huangyueying2", "huangyueying3", "huangyueying5", "huangyueying6", "huangyueying7", "huangzhong", "huatuo", "huatuo2", "huatuo3", "huatuo4", "huatuo5", "huatuo6", "huaxiong", "jiangwei", "jiangwei2", "jiangwei3", "jiangwei4", "jiangwei5", "jiangwei6", "jiangwei7", "jiaxu", "jiaxu2", "jiaxu3", "jiaxu4", "jiaxu5", "jiaxu6", "jingying", "linghun", "liubei", "luji", "lusu", "luxun", "lvbu", "lvbu10", "lvbu2", "lvbu3", "lvbu4", "lvbu5", "lvbu6", "lvbu7", "lvbu8", "lvbu9", "lvlingqi", "lvmeng", "machao", "madai", "menghuo", "nanzhujue", "panfeng", "pangtong", "qiangbing", "qiuyuanboss", "sdsl_boss1", "sdsl_boss2", "sdsl_boss3", "sdsl_boss4", "sdsl_boss5", "sdsl_boss6", "sdsl_boss7", "sdsl_boss8_1", "sdsl_boss8_2", "sdsl_boss8_3", "sdsl_xiaobing1", "sdsl_xiaobing2", "sdsl_xiaobing3", "sdsl_xiaobing4", "sdsl_xiaobing5", "sdsl_xiaobing6", "shanzei_bianpao", "shanzeidundao", "simayi", "simayi2", "simayi3", "simayi4", "simayi5", "simayi7", "sjhd_chest", "ss_boss1a", "ss_boss1b", "ss_boss1c", "ss_boss2a", "ss_boss2b", "ss_boss2c", "ss_boss3a", "ss_boss3b", "ss_boss3c", "ss_boss4a", "ss_boss4b", "ss_boss4c", "ss_boss5a", "ss_boss5b", "ss_boss5c", "sunce", "sunce2", "sunce3", "sunce4", "sunce5", "sunce6", "sunjian", "sunjian2", "sunjian3", "sunjian4", "sunjian5", "sunjian6", "taishici", "taishici2", "taishici3", "taishici4", "taishici5", "taishici6", "tbhdqx_boss_dcc", "tbhdqx_boss_dmxs", "tbhdqx_boss_ls", "tbhdqx_boss_sez", "tbhdqx_boss_slj", "wbhj_boss1a", "wbhj_boss1b", "wbhj_boss1c", "wbhj_boss2a", "wbhj_boss2b", "wbhj_boss2c", "wbhj_boss3a", "wbhj_boss3b", "wbhj_boss3c", "wbhj_boss4a", "wbhj_boss4b", "wbhj_boss4c", "wbhj_boss5a", "wbhj_boss5b", "wbhj_boss5c", "weiyan", "wenchou", "xiahoudun", "xiahouyuan", "xiaobing2_fazhang", "xiaobing2_gongjian", "xiaobing2_gutou", "xiaobing2_mianju", "xiaobing2_qingtongniao", "xiaobing3_haidan", "xiaobing3_jian", "xiaobing3_nu", "xiaobing3_xie", "xiaobing3_zhang", "xiaobing4_chanzi", "xiaobing4_feidao", "xiaobing4_gong", "xiaobing4_luo", "xiaobing4_shao", "xiaobing5_dunbing", "xiaobing5_gutou", "xiaobing5_xie", "xiaobing5_zhentong", "xiaobing_bianpao", "xiaobing_daobing", "xiaobing_denglong", "xiaobing_dunbing", "xiaobing_gongbing", "xiaobing_kulou", "xiaobing_sdr", "xiaoqiao", "xingdaorong", "xjzw_boss0a", "xjzw_boss0b", "xjzw_boss0c", "xjzw_boss1a", "xjzw_boss1b", "xjzw_boss1c", "xjzw_boss2a", "xjzw_boss2b", "xjzw_boss2c", "xjzw_boss3a", "xjzw_boss3b", "xjzw_boss3c", "xjzw_boss4a", "xjzw_boss4b", "xjzw_boss4c", "xjzw_boss5a", "xjzw_boss5b", "xjzw_boss5c", "xuchu", "xuhuang", "xunyu", "xuyou", "xxwky_bxg", "yanliang", "ygbh_boss_bgj", "ygbh_boss_edj", "ygbh_boss_nmw", "ygbh_boss_qx", "ygbh_boss_zx", "ygbh_boss_zzj", "ymj_boss", "ymj_jingying1", "ymj_jingying1_2", "ymj_jingying2", "ymj_jingying2_2", "ymj_jingying3", "ymj_jingying3_2", "ymj_jingying4", "ymj_jingying4_2", "ymj_jingying5", "ymj_jingying5_2", "ymj_jingying6", "ymj_jingying6_2", "ymj_jingying7", "ymj_jingying7_2", "ymj_jingying8", "ymj_xiaobing1", "ymj_xiaobing2", "ymj_xiaobing3", "ymj_xiaobing4", "yuanshao", "yujin", "yzxt_dengshen", "zhangfei", "zhangjiao", "zhangjiao2_1", "zhangjiao2_2", "zhangjiao3_1", "zhangjiao3_2", "zhangjiao4_1", "zhangjiao4_2", "zhangliao", "zhangxingcai", "zhangzhao", "zhaoyun", "zhaoyun2", "zhaoyun3", "zhenji", "zhenji2", "zhenji3", "zhenji4", "zhenji5", "zhenji7", "zhenji8", "zhoutai", "zhouyu", "zhouyu2", "zhouyu3", "zhouyu4", "zhouyu5", "zhouyu6", "zhouyu7", "zhugeliang", "zhugeliang2", "zhugeliang3", "zhugeliang4", "zhugeliang5", "zhugeliang6", "zhugeliang7", "zhurongfuren", "znq2024_boss_ft", "znq2024_boss_xn", "znq2024_boss_zcyg", "znq2024_xg_zcyg", "zytp_boss1", "zytp_boss2", "zytp_boss3", "zytp_boss4", "zytp_boss5", "zytp_xiaobing1", "buffIcons", "battleEffect", "numbers", "cjhd24_cardbox", "cszb_cardbox", "dsqq_cardbox_1", "tbhdqx_cardbox_1", "ygbh_cardbox_1", "ygbh_cardbox_2", "ygbh_cardbox_xuancai", "znq23_cardbox", "zxc_cardbox1_1", "zxc_cardbox1_2", "zxc_cardbox2_1", "zxc_cardbox3_1", "zxc_cardbox_xuancai", "hjls_medal_1", "hjls_medal_2", "pearl_yuling_1101", "pearl_yuling_1102", "pearl_yuling_1103", "pearl_yuling_1104", "pearl_yuling_1105", "pearl_yuling_1106", "pearl_yuling_1107", "pearl_yuling_1108", "pearl_yuling_1109", "pearl_yuling_1110", "pearl_yuling_1111", "pearl_yuling_1112", "pearl_yuling_1113", "pearl_yuling_1114", "AdvancedMap_01", "CTFMap_01", "CTFMap_02", "IntroMap_01", "IntroMap_02", "IntroMap_03", "IntroMap_04", "IntroMap_05", "IntroMap_06", "LeagueMap_01", "LeagueMap_02", "demoMap", "font", "icons", "moon_map1_publish", "ycxsz_qiliu", "xghg_cc1", "xghg_cc2", "xghg_csm", "xghg_fcjd", "xghg_huicheng", "xghg_shu", "xghg_smoke", "xghg_tuzi", "xghg_xfc_1", "xghg_xfc_1_1", "xghg_xfc_1_2", "xghg_xfc_2", "xghg_xfc_2_2", "dsqq_rg_fly", "dsqq_rg_szg", "dsqq_rg_xg_1", "dsqq_rg_xg_2", "dsqq_rg_xg_3", "tbhdqx_rg_sr", "tbhdqx_rg_xg_1", "tbhdqx_rg_xg_2", "tbhdqx_rg_xg_3", "ygbh_rg_sr", "ygbh_rg_xg", "tgcf_rk_banner_ymj", "xghg_rk_banner", "xmdss_rk_banner", "buff_angry", "buff_angrybig", "buff_blackGas", "buff_burn", "buff_dizzy", "buff_fire", "buff_frozen", "buff_meihuo", "buff_moonHit", "buff_moonTrigger", "buff_recovery", "buff_silent", "buff_whiteGas", "map_100001", "map_100002", "map_100003", "map_100004", "map_100005", "map_100006", "map_100007", "map_100008", "map_10001", "map_10002", "map_10003", "map_10004", "map_10005", "map_110001", "map_120001", "map_120002", "map_140001", "map_140002", "map_140003", "map_30001", "map_30002", "map_30003", "map_30004", "map_30005", "map_30006", "map_30007", "map_30008", "map_30009", "map_30010", "map_30011", "map_30012", "map_30013", "map_30014", "map_30015", "map_30016", "map_30017", "map_30018", "map_40001", "map_50001", "map_50002", "map_50003", "map_60001", "map_70001", "map_70002", "map_70003", "map_70004", "map_70005", "map_80001", "map_80002", "map_80003", "map_80004", "map_80005", "map_80006", "map_80007", "map_80008", "map_80009", "map_80010", "map_80011", "map_80012", "map_80013", "map_80014", "map_80015", "map_80016", "map_80017", "map_80018", "map_80019", "map_80020", "map_80021", "map_80022", "map_80023", "map_90001", "map_90002", "map_91001", "map_91002", "map_91003", "map_91004", "map_91005", "map_91006", "ui_boss01_diandianwa", "ui_DB24", "ui_DBFestival23", "ui_activity", "ui_activityMonth", "ui_activitySevenDay", "ui_activityTimeComboGift", "ui_activityTimeGift", "ui_activitytime", "ui_adventure", "ui_afArenaBattlePass", "ui_afTreasure", "ui_afWCMonopoly", "ui_afk", "ui_afkAxian", "ui_afkDefault", "ui_agreement", "ui_arena", "ui_artifact", "ui_ativityFestival", "ui_autoClick", "ui_battle", "ui_battleDetail", "ui_battleResult", "ui_battleScene", "ui_bg", "ui_bingoBattle", "ui_blessing", "ui_bossChanllenge", "ui_bossComing", "ui_bossTower", "ui_bossTower2", "ui_bossTowerTeam", "ui_bottle", "ui_bottleRobot", "ui_box", "ui_card", "ui_cardFilmXJZW", "ui_card_3rd", "ui_card_spring24", "ui_card_spring25", "ui_careerChallenge", "ui_chapter", "ui_charge", "ui_chat", "ui_chatEmojis", "ui_chat_tip", "ui_cj7hFestival23", "ui_cj7hFestivalFace23", "ui_common", "ui_commonBig", "ui_commonSystem", "ui_customerTip", "ui_debug", "ui_dressing_room", "ui_dungeon", "ui_equip", "ui_equipQuench", "ui_equipTrump", "ui_equipTurmpOld", "ui_exWarBg", "ui_featureUnlock", "ui_festival244", "ui_festival24_1213", "ui_festival24_1227", "ui_festival24_celebration", "ui_festival_cardTower", "ui_festival_rogue", "ui_feudatory", "ui_fguiBin", "ui_fishSpirit", "ui_friend", "ui_fx", "ui_gameLoading", "ui_genie", "ui_getWay", "ui_golden", "ui_guide", "ui_gvg", "ui_hangUp", "ui_hero", "ui_heroBestTeam", "ui_heroBook", "ui_heroList", "ui_heroTeam", "ui_heroTrain", "ui_hohohorse", "ui_home", "ui_item", "ui_leagueTile", "ui_leagueTileE", "ui_legion", "ui_legionBet", "ui_legionEntrance", "ui_legionEvent", "ui_legionItem", "ui_legionShop", "ui_legionStarClub", "ui_legionTechnology", "ui_legionWar", "ui_legionWarCraftCup", "ui_legionWarCup", "ui_legionWarCupAd", "ui_legionWarCupCommon", "ui_legionWarLeaguEffect", "ui_legionWarLeagueCup", "ui_loading", "ui_mail", "ui_mail_autumn", "ui_mail_league", "ui_main", "ui_medallionInfo", "ui_moon_rule", "ui_moon_signUp", "ui_moon_tiledMap", "ui_moon_war", "ui_moon_war_medium", "ui_new_pearl", "ui_nightmare", "ui_nightmareFace", "ui_overview", "ui_pearl", "ui_playerinfo", "ui_quiz", "ui_quiz_common", "ui_quiz_movie", "ui_ranklist", "ui_recruit", "ui_reflux", "ui_rename", "ui_ring", "ui_ringCommon", "ui_ringFace", "ui_room", "ui_roomFight", "ui_scale9", "ui_seasonAct", "ui_seasonAdventrue", "ui_seasonArena", "ui_seasonBattlePass", "ui_seasonBox", "ui_seasonCommonDialog", "ui_seasonEuipeStone", "ui_seasonFace", "ui_seasonGift", "ui_seasonHero", "ui_seasonHeroList", "ui_seasonLord", "ui_seasonLvRank", "ui_seasonMain", "ui_seasonMerchandise", "ui_seasonRescue", "ui_seasonScene", "ui_seasonSceneRes", "ui_seasonTechnology", "ui_seasonTower", "ui_seasonUnlock", "ui_selectServer", "ui_setting", "ui_shop", "ui_shopBWSkin", "ui_sky", "ui_skyWarBattle", "ui_springFace24", "ui_springFestival24", "ui_store", "ui_subRole", "ui_task", "ui_team", "ui_teamUp", "ui_team_panel", "ui_tiledMap", "ui_tiledMap_1", "ui_tiledMap_10", "ui_tiledMap_10_medium", "ui_tiledMap_11", "ui_tiledMap_11_medium", "ui_tiledMap_12", "ui_tiledMap_12_medium", "ui_tiledMap_1_medium", "ui_tiledMap_2", "ui_tiledMap_2_medium", "ui_tiledMap_3", "ui_tiledMap_3_medium", "ui_tiledMap_4", "ui_tiledMap_4_medium", "ui_tiledMap_5", "ui_tiledMap_5_medium", "ui_tiledMap_6", "ui_tiledMap_6_medium", "ui_tiledMap_7", "ui_tiledMap_7_medium", "ui_tiledMap_8", "ui_tiledMap_8_medium", "ui_tiledMap_9", "ui_tiledMap_9_medium", "ui_timegift", "ui_tooltip", "ui_tower", "ui_ttSidebarGuide", "ui_unuse", "ui_verify", "ui_vip", "ui_war_tip", "ui_weapon", "ui_wxAccount"],
        subpackages: ["game", "miniGameScripts", "TEST_REMOTE_MODULE"],
        launchScene: "db://assets/launcher/scenes/Launcher.fire",
        orientation: "portrait",
        server: "https://xxz-xyzw-res.hortorgames.com",
        jsList: ["assets/launcher/common/libs/platform/hortor/HSDK.turnpass.min.js"],
        bundleVers: {
            internal: "e6604",
            game: "272eb",
            miniGameRes: "193bc",
            miniGameScripts: "f761e",
            TEST_REMOTE_MODULE: "7c0b8",
            config: "3a056",
            language: "497da",
            materials: "7c4c1",
            prefabs: "a4342",
            quiz: "87dc8",
            sounds: "d456f",
            yuling_1101: "72bf7",
            yuling_1102: "123d0",
            yuling_1103: "5fdf0",
            yuling_1104: "bab2c",
            yuling_1105: "e3a4d",
            yuling_1106: "4e4c6",
            yuling_1106_plt: "6f797",
            yuling_1107: "1e502",
            yuling_1107_plt: "f1f8e",
            yuling_1108: "86c1b",
            yuling_1108_plt: "070b4",
            yuling_1109: "7a33b",
            yuling_1109_plt: "e6fdc",
            yuling_1110: "f4a6d",
            yuling_1110_plt: "5887e",
            yuling_1111: "c6c66",
            yuling_1111_plt: "1cdbc",
            yuling_1112: "8d04a",
            yuling_1112_plt: "035d5",
            yuling_1113: "db6d2",
            yuling_1113_plt: "0bf2f",
            yuling_1114: "ad924",
            yuling_1114_plt: "ff429",
            yuling_1201: "5b8be",
            yuling_1202: "2c4bc",
            yuling_1203: "dea3f",
            yuling_1204: "3d40a",
            yuling_1205: "5580d",
            yuling_1206: "8e595",
            yuling_1207: "9314b",
            yuling_1208: "dbf99",
            yuling_1209: "f7b16",
            yuling_1210: "5549f",
            yuling_1211: "89aca",
            yuling_1212: "679b1",
            yuling_1213: "17557",
            yuling_1214: "122e2",
            yuling_1215: "4d05c",
            yuling_1216: "9c14d",
            yuling_1217: "842ba",
            yuling_1218: "09f64",
            yuling_1219: "03f77",
            yuling_1220: "3bd99",
            yuling_1301: "4e2b2",
            yuling_1302: "789bf",
            yuling_1303: "73218",
            yuling_1304: "69b82",
            yuling_1305: "88d7d",
            yuling_1401: "1a9d0",
            yuling_1402: "f2c7d",
            yuling_1403: "9284e",
            yuling_1404: "59333",
            yuling_1405: "dd380",
            yuling_1406: "d9c3b",
            yuling_1407: "2e436",
            yuling_1408: "27e30",
            yuling_1409: "ec2d9",
            yuling_1410: "2d0fd",
            yuling_1411: "ba9b4",
            yuling_1412: "9a746",
            yuling_1501: "1e3e0",
            yuling_1502: "0b1e3",
            yuling_1503: "97c87",
            yuling_1504: "d2224",
            yuling_1505: "ddd88",
            yuling_1506: "e7ad1",
            yuling_1601: "967ec",
            yuling_1602: "3dc24",
            yuling_1603: "051ff",
            yuling_1604: "a4ce9",
            yuling_txcc_1111: "a31da",
            yuling_txcc_1112: "10d5f",
            axian: "68227",
            axian1_change1: "8bec6",
            axian_change0: "b1133",
            axian_change1: "c53a2",
            axian_change4: "b83d6",
            axian_change5: "13675",
            bianpao: "ba31c",
            boss_baobaoshe: "3f74f",
            boss_chaiyouxiongdi: "45a67",
            boss_diandianwa: "8c646",
            boss_nianshou: "3f717",
            boss_weiweiyu: "cc7c9",
            boss_xianyuwang: "55595",
            boss_xianyuwang_guide: "77ca5",
            bosstower_boss1: "6ad7f",
            bosstower_boss2: "6209e",
            bosstower_boss3: "e089f",
            bosstower_boss4: "c1c63",
            caiwenji: "847b8",
            caoren: "92ed2",
            caoren2: "2dabe",
            caoren3: "65229",
            caoren4: "b4291",
            caoren5: "91737",
            caoren6: "eeef1",
            chabing: "58088",
            chengpu: "0af1e",
            chest: "d3dd4",
            cjqh_boss1a: "62de4",
            cjqh_boss1b: "2d39a",
            cjqh_boss1c: "e4563",
            cjqh_boss2a: "be1b3",
            cjqh_boss2b: "cd9ed",
            cjqh_boss2c: "a7061",
            cjqh_boss3a: "c5664",
            cjqh_boss3b: "0d90c",
            cjqh_boss3c: "5d9c5",
            cjqh_boss4a: "237c2",
            cjqh_boss4b: "296cb",
            cjqh_boss4c: "e0885",
            cjqh_boss5a: "67478",
            cjqh_boss5b: "4b3e2",
            cjqh_boss5c: "5bba6",
            cjqh_boss6a: "6f4ed",
            cjqh_boss6b: "b82b7",
            cjqh_boss6c: "05a7b",
            daobing: "2f54c",
            daqiao: "d4e61",
            daqiao2: "01f5a",
            daqiao3: "6e321",
            dengai: "2b8b0",
            dengshenqun: "d0c56",
            dengshenshu: "7335e",
            dengshenwei: "c3a53",
            dengshenwu: "5abc2",
            dianwei: "f0526",
            dianwei2_1: "b673d",
            dianwei2_2: "3fe3b",
            dianwei3_1: "b8fec",
            dianwei3_2: "b4d8c",
            diaochan: "2e547",
            dongzhuo: "bd370",
            dsqq_boss_els: "903a3",
            dsqq_boss_hmkqj: "7cd93",
            dsqq_boss_hsly: "bb038",
            dsqq_boss_nxx: "6155c",
            dsqq_boss_tsgz: "8ad46",
            dunbing: "4790b",
            futoubing: "2701d",
            ganning: "e757f",
            ghg_jingying_baiyu: "f8e23",
            ghg_jingying_chan: "4f115",
            ghg_jingying_chu: "e14e9",
            ghg_jingying_fu: "0d223",
            ghg_jingying_gong: "229eb",
            ghg_jingying_hu: "323bd",
            ghg_jingying_lan: "86ee3",
            ghg_jingying_pa: "85586",
            ghg_xiaobing_hong: "89ec8",
            ghg_xiaobing_huang: "89d17",
            ghg_xiaobing_lan: "a60b7",
            ghg_xiaobing_zi: "7f906",
            gongbing: "cb5b8",
            gongjian: "31a5c",
            gongsunzan: "03793",
            gongsunzan2: "a45d0",
            gongsunzan3: "92bbe",
            gongsunzan4: "35032",
            gongsunzan5: "bdddd",
            gongsunzan6: "a647d",
            guanping: "51183",
            guanyinping: "57035",
            guanyu: "6c23b",
            guanyu2: "58e57",
            guanyu3: "9a70e",
            guanyu4: "3c803",
            guanyu5: "cfd49",
            guanyu6: "83532",
            guojia: "737fe",
            guojia2: "8522d",
            guojia3: "ff6fb",
            guojia4: "3a6bd",
            guojia5: "662c5",
            guojia6: "101bb",
            guojia_fahai_boyu: "1dbc9",
            guojia_fahai_muyu: "f55b2",
            guojia_fahai_nianzhu: "7e603",
            guojia_fahai_xianglu: "6d389",
            guojia_fahai_xizhang: "c1326",
            guojia_ice: "90f0b",
            huanggai: "dbd2e",
            huangyueying: "14911",
            huangyueying2: "96e57",
            huangyueying3: "caa3b",
            huangyueying5: "5d57b",
            huangyueying6: "b2449",
            huangyueying7: "710f7",
            huangzhong: "2a662",
            huatuo: "ccac3",
            huatuo2: "1e5d8",
            huatuo3: "b3566",
            huatuo4: "25232",
            huatuo5: "4ebb8",
            huatuo6: "a571d",
            huaxiong: "f7fff",
            jiangwei: "72a1c",
            jiangwei2: "eaa21",
            jiangwei3: "d3c84",
            jiangwei4: "b32c4",
            jiangwei5: "16b02",
            jiangwei6: "45dac",
            jiangwei7: "2f6ec",
            jiaxu: "0c58c",
            jiaxu2: "8f224",
            jiaxu3: "35c07",
            jiaxu4: "d5eaf",
            jiaxu5: "7a9e9",
            jiaxu6: "9aa7c",
            jingying: "8ec63",
            linghun: "12bfd",
            liubei: "5f0c4",
            luji: "12a60",
            lusu: "7fe13",
            luxun: "bd3e4",
            lvbu: "06e17",
            lvbu10: "a72af",
            lvbu2: "77b21",
            lvbu3: "979c5",
            lvbu4: "b8b05",
            lvbu5: "dfd9d",
            lvbu6: "20e9b",
            lvbu7: "1c107",
            lvbu8: "ec1c3",
            lvbu9: "2c962",
            lvlingqi: "8c5af",
            lvmeng: "3e3d9",
            machao: "a6b74",
            madai: "7d6de",
            menghuo: "09059",
            nanzhujue: "36d2c",
            panfeng: "fd668",
            pangtong: "65a97",
            qiangbing: "92627",
            qiuyuanboss: "cb8d2",
            sdsl_boss1: "a3dcb",
            sdsl_boss2: "5cc60",
            sdsl_boss3: "2b595",
            sdsl_boss4: "50db6",
            sdsl_boss5: "f4642",
            sdsl_boss6: "0f7de",
            sdsl_boss7: "a3d62",
            sdsl_boss8_1: "98946",
            sdsl_boss8_2: "38b91",
            sdsl_boss8_3: "268da",
            sdsl_xiaobing1: "4c98c",
            sdsl_xiaobing2: "435b2",
            sdsl_xiaobing3: "5cd0d",
            sdsl_xiaobing4: "ac04e",
            sdsl_xiaobing5: "d5638",
            sdsl_xiaobing6: "d1241",
            shanzei_bianpao: "52787",
            shanzeidundao: "0697a",
            simayi: "9d72d",
            simayi2: "e6a67",
            simayi3: "48e36",
            simayi4: "56e70",
            simayi5: "17792",
            simayi7: "9af10",
            sjhd_chest: "2c0ec",
            ss_boss1a: "ae214",
            ss_boss1b: "c03c7",
            ss_boss1c: "402b5",
            ss_boss2a: "88a29",
            ss_boss2b: "5cb25",
            ss_boss2c: "73dd9",
            ss_boss3a: "b621d",
            ss_boss3b: "684b9",
            ss_boss3c: "345ae",
            ss_boss4a: "100bf",
            ss_boss4b: "0ef9b",
            ss_boss4c: "9cb58",
            ss_boss5a: "506c3",
            ss_boss5b: "b9235",
            ss_boss5c: "8a15f",
            sunce: "023e6",
            sunce2: "a7480",
            sunce3: "4db45",
            sunce4: "38427",
            sunce5: "07a3d",
            sunce6: "7841c",
            sunjian: "8a54c",
            sunjian2: "c4cda",
            sunjian3: "9d5e9",
            sunjian4: "d19fc",
            sunjian5: "231db",
            sunjian6: "1658f",
            taishici: "be2d9",
            taishici2: "09cd3",
            taishici3: "960cb",
            taishici4: "6721b",
            taishici5: "7cb57",
            taishici6: "4f349",
            tbhdqx_boss_dcc: "6c526",
            tbhdqx_boss_dmxs: "01930",
            tbhdqx_boss_ls: "15c2e",
            tbhdqx_boss_sez: "86557",
            tbhdqx_boss_slj: "e0fc3",
            wbhj_boss1a: "d2964",
            wbhj_boss1b: "9e240",
            wbhj_boss1c: "5f8b4",
            wbhj_boss2a: "9f055",
            wbhj_boss2b: "c0a5e",
            wbhj_boss2c: "6eb00",
            wbhj_boss3a: "c3ec6",
            wbhj_boss3b: "34781",
            wbhj_boss3c: "7d5b0",
            wbhj_boss4a: "c7a7e",
            wbhj_boss4b: "e54d8",
            wbhj_boss4c: "4b03c",
            wbhj_boss5a: "11302",
            wbhj_boss5b: "8d4c0",
            wbhj_boss5c: "8a66f",
            weiyan: "84797",
            wenchou: "808de",
            xiahoudun: "28b87",
            xiahouyuan: "19382",
            xiaobing2_fazhang: "da1a8",
            xiaobing2_gongjian: "30d65",
            xiaobing2_gutou: "6937b",
            xiaobing2_mianju: "3866b",
            xiaobing2_qingtongniao: "f95fe",
            xiaobing3_haidan: "4d106",
            xiaobing3_jian: "0f5fb",
            xiaobing3_nu: "df3dd",
            xiaobing3_xie: "2e301",
            xiaobing3_zhang: "2b45c",
            xiaobing4_chanzi: "db979",
            xiaobing4_feidao: "6f2eb",
            xiaobing4_gong: "9b59d",
            xiaobing4_luo: "c35dd",
            xiaobing4_shao: "9199e",
            xiaobing5_dunbing: "c45ce",
            xiaobing5_gutou: "24513",
            xiaobing5_xie: "39856",
            xiaobing5_zhentong: "fba2f",
            xiaobing_bianpao: "01e9a",
            xiaobing_daobing: "59164",
            xiaobing_denglong: "89624",
            xiaobing_dunbing: "38777",
            xiaobing_gongbing: "a7c73",
            xiaobing_kulou: "b47d2",
            xiaobing_sdr: "65886",
            xiaoqiao: "04ed9",
            xingdaorong: "318b7",
            xjzw_boss0a: "f264a",
            xjzw_boss0b: "17421",
            xjzw_boss0c: "a61dc",
            xjzw_boss1a: "5df31",
            xjzw_boss1b: "e5a35",
            xjzw_boss1c: "e934e",
            xjzw_boss2a: "9367a",
            xjzw_boss2b: "d784d",
            xjzw_boss2c: "33ed1",
            xjzw_boss3a: "e747e",
            xjzw_boss3b: "89be8",
            xjzw_boss3c: "7196d",
            xjzw_boss4a: "9a040",
            xjzw_boss4b: "0c528",
            xjzw_boss4c: "88d07",
            xjzw_boss5a: "3e2a9",
            xjzw_boss5b: "f2120",
            xjzw_boss5c: "97e8c",
            xuchu: "3c147",
            xuhuang: "58b80",
            xunyu: "6a83e",
            xuyou: "09aff",
            xxwky_bxg: "4a4a7",
            yanliang: "f0ec3",
            ygbh_boss_bgj: "62778",
            ygbh_boss_edj: "ce69e",
            ygbh_boss_nmw: "dd1b5",
            ygbh_boss_qx: "01e95",
            ygbh_boss_zx: "c6604",
            ygbh_boss_zzj: "92927",
            ymj_boss: "5fb8c",
            ymj_jingying1: "19b5d",
            ymj_jingying1_2: "60e84",
            ymj_jingying2: "7542b",
            ymj_jingying2_2: "af56c",
            ymj_jingying3: "21f6a",
            ymj_jingying3_2: "76130",
            ymj_jingying4: "ab6dd",
            ymj_jingying4_2: "30efe",
            ymj_jingying5: "4ddb8",
            ymj_jingying5_2: "32f99",
            ymj_jingying6: "30bda",
            ymj_jingying6_2: "425fe",
            ymj_jingying7: "80397",
            ymj_jingying7_2: "c8bde",
            ymj_jingying8: "0e358",
            ymj_xiaobing1: "667a9",
            ymj_xiaobing2: "37cc1",
            ymj_xiaobing3: "417c5",
            ymj_xiaobing4: "52298",
            yuanshao: "3d27e",
            yujin: "a37b6",
            yzxt_dengshen: "2334d",
            zhangfei: "05483",
            zhangjiao: "0c2a7",
            zhangjiao2_1: "96a43",
            zhangjiao2_2: "9c299",
            zhangjiao3_1: "a54f0",
            zhangjiao3_2: "bc08b",
            zhangjiao4_1: "201f1",
            zhangjiao4_2: "56743",
            zhangliao: "1a10a",
            zhangxingcai: "98f05",
            zhangzhao: "74522",
            zhaoyun: "a67b4",
            zhaoyun2: "12efe",
            zhaoyun3: "401ff",
            zhenji: "056b6",
            zhenji2: "14e1d",
            zhenji3: "502e9",
            zhenji4: "1c70b",
            zhenji5: "5d37f",
            zhenji7: "b2fb4",
            zhenji8: "5b470",
            zhoutai: "007bd",
            zhouyu: "ac3cf",
            zhouyu2: "d3e1b",
            zhouyu3: "72c8d",
            zhouyu4: "16bcc",
            zhouyu5: "0143f",
            zhouyu6: "3f60a",
            zhouyu7: "0022c",
            zhugeliang: "ced82",
            zhugeliang2: "acf09",
            zhugeliang3: "5fb94",
            zhugeliang4: "5e615",
            zhugeliang5: "7e9fb",
            zhugeliang6: "52b73",
            zhugeliang7: "3be8d",
            zhurongfuren: "b242c",
            znq2024_boss_ft: "24ef5",
            znq2024_boss_xn: "e3ff7",
            znq2024_boss_zcyg: "25bff",
            znq2024_xg_zcyg: "5074d",
            zytp_boss1: "9c6f7",
            zytp_boss2: "d0285",
            zytp_boss3: "18e04",
            zytp_boss4: "bba06",
            zytp_boss5: "b51e4",
            zytp_xiaobing1: "a0a55",
            buffIcons: "6e3f9",
            battleEffect: "01a48",
            numbers: "5168a",
            cjhd24_cardbox: "29c0c",
            cszb_cardbox: "2514a",
            dsqq_cardbox_1: "48968",
            tbhdqx_cardbox_1: "d7b93",
            ygbh_cardbox_1: "7b637",
            ygbh_cardbox_2: "9e295",
            ygbh_cardbox_xuancai: "751d4",
            znq23_cardbox: "69b59",
            zxc_cardbox1_1: "1178e",
            zxc_cardbox1_2: "edaf4",
            zxc_cardbox2_1: "0576b",
            zxc_cardbox3_1: "96095",
            zxc_cardbox_xuancai: "3eb2d",
            hjls_medal_1: "6907a",
            hjls_medal_2: "3c143",
            pearl_yuling_1101: "bb73c",
            pearl_yuling_1102: "423f2",
            pearl_yuling_1103: "a67de",
            pearl_yuling_1104: "da08e",
            pearl_yuling_1105: "2c679",
            pearl_yuling_1106: "b45bf",
            pearl_yuling_1107: "448fd",
            pearl_yuling_1108: "8a6a3",
            pearl_yuling_1109: "6b77e",
            pearl_yuling_1110: "5ab3b",
            pearl_yuling_1111: "df565",
            pearl_yuling_1112: "fce45",
            pearl_yuling_1113: "95752",
            pearl_yuling_1114: "92228",
            AdvancedMap_01: "fc517",
            CTFMap_01: "3043a",
            CTFMap_02: "e4fcb",
            IntroMap_01: "0bd4b",
            IntroMap_02: "34477",
            IntroMap_03: "eae0e",
            IntroMap_04: "afa50",
            IntroMap_05: "e3cda",
            IntroMap_06: "cb968",
            LeagueMap_01: "6d6b9",
            LeagueMap_02: "d1a9a",
            demoMap: "f15e2",
            font: "0d317",
            icons: "18346",
            moon_map1_publish: "03c2b",
            ycxsz_qiliu: "1b4f7",
            xghg_cc1: "61178",
            xghg_cc2: "2272f",
            xghg_csm: "90701",
            xghg_fcjd: "3ebd6",
            xghg_huicheng: "6430c",
            xghg_shu: "cb5c1",
            xghg_smoke: "7875e",
            xghg_tuzi: "93c7e",
            xghg_xfc_1: "4458d",
            xghg_xfc_1_1: "1555f",
            xghg_xfc_1_2: "8ef09",
            xghg_xfc_2: "a6687",
            xghg_xfc_2_2: "8c5a4",
            dsqq_rg_fly: "a7eab",
            dsqq_rg_szg: "df0bd",
            dsqq_rg_xg_1: "9a35b",
            dsqq_rg_xg_2: "7cf21",
            dsqq_rg_xg_3: "0063c",
            tbhdqx_rg_sr: "650cb",
            tbhdqx_rg_xg_1: "1d621",
            tbhdqx_rg_xg_2: "83738",
            tbhdqx_rg_xg_3: "12008",
            ygbh_rg_sr: "36c63",
            ygbh_rg_xg: "49233",
            tgcf_rk_banner_ymj: "09e09",
            xghg_rk_banner: "89105",
            xmdss_rk_banner: "0a794",
            buff_angry: "c31fa",
            buff_angrybig: "ae126",
            buff_blackGas: "833b4",
            buff_burn: "2bc4e",
            buff_dizzy: "3e5eb",
            buff_fire: "e77b6",
            buff_frozen: "b929b",
            buff_meihuo: "3ce67",
            buff_moonHit: "79758",
            buff_moonTrigger: "6673c",
            buff_recovery: "baec9",
            buff_silent: "5e129",
            buff_whiteGas: "6f91f",
            map_100001: "9ccfa",
            map_100002: "28228",
            map_100003: "78174",
            map_100004: "ca82a",
            map_100005: "7ea6d",
            map_100006: "2ebd5",
            map_100007: "42eaf",
            map_100008: "3fa57",
            map_10001: "8958a",
            map_10002: "0b702",
            map_10003: "2a175",
            map_10004: "aca8f",
            map_10005: "e68dc",
            map_110001: "122be",
            map_120001: "4fdea",
            map_120002: "a5534",
            map_140001: "6079c",
            map_140002: "52c72",
            map_140003: "5d2f9",
            map_30001: "24a12",
            map_30002: "97efe",
            map_30003: "e8dc2",
            map_30004: "fc501",
            map_30005: "7561c",
            map_30006: "c2212",
            map_30007: "c0418",
            map_30008: "09dcc",
            map_30009: "818cb",
            map_30010: "f34a3",
            map_30011: "c78e4",
            map_30012: "8aa89",
            map_30013: "f1a84",
            map_30014: "c89e6",
            map_30015: "f50fc",
            map_30016: "079e5",
            map_30017: "7bcb2",
            map_30018: "8a011",
            map_40001: "16305",
            map_50001: "3e474",
            map_50002: "cd54b",
            map_50003: "9c6ae",
            map_60001: "4d895",
            map_70001: "6f8cb",
            map_70002: "2e471",
            map_70003: "5c956",
            map_70004: "8dd4c",
            map_70005: "5e684",
            map_80001: "bb52c",
            map_80002: "d3f6d",
            map_80003: "79ee7",
            map_80004: "26b66",
            map_80005: "473d3",
            map_80006: "af71c",
            map_80007: "c7e3b",
            map_80008: "85ed3",
            map_80009: "06a42",
            map_80010: "725e9",
            map_80011: "bba60",
            map_80012: "a521a",
            map_80013: "6b688",
            map_80014: "c6b7d",
            map_80015: "0e9ae",
            map_80016: "2ef7d",
            map_80017: "04fcb",
            map_80018: "ebfd1",
            map_80019: "fdbfd",
            map_80020: "8f6a4",
            map_80021: "a1768",
            map_80022: "5def3",
            map_80023: "d9a2b",
            map_90001: "c0d29",
            map_90002: "9b7e1",
            map_91001: "80a90",
            map_91002: "a89cd",
            map_91003: "a0715",
            map_91004: "bbfdc",
            map_91005: "e87a6",
            map_91006: "bc15e",
            ui_boss01_diandianwa: "dcc04",
            ui_DB24: "73298",
            ui_DBFestival23: "d9f9f",
            ui_activity: "6ff26",
            ui_activityMonth: "b966f",
            ui_activitySevenDay: "825c8",
            ui_activityTimeComboGift: "d8215",
            ui_activityTimeGift: "225ca",
            ui_activitytime: "997c5",
            ui_adventure: "a1841",
            ui_afArenaBattlePass: "dbb78",
            ui_afTreasure: "048ae",
            ui_afWCMonopoly: "36936",
            ui_afk: "5afd5",
            ui_afkAxian: "4a938",
            ui_afkDefault: "28294",
            ui_agreement: "f9509",
            ui_arena: "fd860",
            ui_artifact: "33bde",
            ui_ativityFestival: "c9318",
            ui_autoClick: "1041a",
            ui_battle: "49ef7",
            ui_battleDetail: "40dab",
            ui_battleResult: "b4343",
            ui_battleScene: "dd6e2",
            ui_bg: "61605",
            ui_bingoBattle: "8145d",
            ui_blessing: "e2687",
            ui_bossChanllenge: "37685",
            ui_bossComing: "86061",
            ui_bossTower: "dd313",
            ui_bossTower2: "d1164",
            ui_bossTowerTeam: "8a996",
            ui_bottle: "ded11",
            ui_bottleRobot: "2d89b",
            ui_box: "ad73e",
            ui_card: "8cc05",
            ui_cardFilmXJZW: "5873c",
            ui_card_3rd: "dd879",
            ui_card_spring24: "de240",
            ui_card_spring25: "8f814",
            ui_careerChallenge: "ea95e",
            ui_chapter: "3d977",
            ui_charge: "efb17",
            ui_chat: "3b25f",
            ui_chatEmojis: "4fbf9",
            ui_chat_tip: "f7fcf",
            ui_cj7hFestival23: "3b582",
            ui_cj7hFestivalFace23: "5db66",
            ui_common: "5beeb",
            ui_commonBig: "c6e08",
            ui_commonSystem: "15325",
            ui_customerTip: "29a62",
            ui_debug: "1f6be",
            ui_dressing_room: "8c4e3",
            ui_dungeon: "902af",
            ui_equip: "f51c8",
            ui_equipQuench: "e9a99",
            ui_equipTrump: "35346",
            ui_equipTurmpOld: "ccb04",
            ui_exWarBg: "7cd0a",
            ui_featureUnlock: "06170",
            ui_festival244: "44ee5",
            ui_festival24_1213: "f650d",
            ui_festival24_1227: "70d2d",
            ui_festival24_celebration: "f1357",
            ui_festival_cardTower: "a3765",
            ui_festival_rogue: "801e0",
            ui_feudatory: "eabbf",
            ui_fguiBin: "ade1f",
            ui_fishSpirit: "078e1",
            ui_friend: "a1314",
            ui_fx: "737ea",
            ui_gameLoading: "49f5c",
            ui_genie: "ee00f",
            ui_getWay: "ce86a",
            ui_golden: "80fd8",
            ui_guide: "897cd",
            ui_gvg: "2ae0f",
            ui_hangUp: "32e37",
            ui_hero: "e7df3",
            ui_heroBestTeam: "f0e57",
            ui_heroBook: "a2981",
            ui_heroList: "70108",
            ui_heroTeam: "7e990",
            ui_heroTrain: "f2c46",
            ui_hohohorse: "9ce7f",
            ui_home: "2246a",
            ui_item: "40a26",
            ui_leagueTile: "05ca7",
            ui_leagueTileE: "cb591",
            ui_legion: "2a7ad",
            ui_legionBet: "6c4d7",
            ui_legionEntrance: "1ec6c",
            ui_legionEvent: "63092",
            ui_legionItem: "537a1",
            ui_legionShop: "31f40",
            ui_legionStarClub: "58c7a",
            ui_legionTechnology: "78d08",
            ui_legionWar: "b893e",
            ui_legionWarCraftCup: "d5167",
            ui_legionWarCup: "4b40b",
            ui_legionWarCupAd: "0e609",
            ui_legionWarCupCommon: "ec065",
            ui_legionWarLeaguEffect: "73b98",
            ui_legionWarLeagueCup: "a9b8e",
            ui_loading: "9adb0",
            ui_mail: "fbe15",
            ui_mail_autumn: "7bce9",
            ui_mail_league: "54ef2",
            ui_main: "174aa",
            ui_medallionInfo: "315e7",
            ui_moon_rule: "e7203",
            ui_moon_signUp: "c9196",
            ui_moon_tiledMap: "1a0c0",
            ui_moon_war: "1e318",
            ui_moon_war_medium: "8e36a",
            ui_new_pearl: "2064b",
            ui_nightmare: "71bda",
            ui_nightmareFace: "369b6",
            ui_overview: "51dd7",
            ui_pearl: "f6256",
            ui_playerinfo: "f816d",
            ui_quiz: "ae25d",
            ui_quiz_common: "71b0b",
            ui_quiz_movie: "fe95e",
            ui_ranklist: "e5b46",
            ui_recruit: "16d0f",
            ui_reflux: "e67a8",
            ui_rename: "11768",
            ui_ring: "0c265",
            ui_ringCommon: "e2205",
            ui_ringFace: "ad6d1",
            ui_room: "b172d",
            ui_roomFight: "bbcb9",
            ui_scale9: "299fe",
            ui_seasonAct: "c62d2",
            ui_seasonAdventrue: "b4f77",
            ui_seasonArena: "1fec5",
            ui_seasonBattlePass: "f4874",
            ui_seasonBox: "4f6cd",
            ui_seasonCommonDialog: "9fe9e",
            ui_seasonEuipeStone: "95876",
            ui_seasonFace: "abe95",
            ui_seasonGift: "dcc45",
            ui_seasonHero: "844d9",
            ui_seasonHeroList: "c4791",
            ui_seasonLord: "ab2f3",
            ui_seasonLvRank: "4032d",
            ui_seasonMain: "50e21",
            ui_seasonMerchandise: "f3f29",
            ui_seasonRescue: "8eb4c",
            ui_seasonScene: "44dd3",
            ui_seasonSceneRes: "85023",
            ui_seasonTechnology: "b28ab",
            ui_seasonTower: "31513",
            ui_seasonUnlock: "58dac",
            ui_selectServer: "28a18",
            ui_setting: "e6983",
            ui_shop: "0ac7e",
            ui_shopBWSkin: "79471",
            ui_sky: "86a78",
            ui_skyWarBattle: "805dc",
            ui_springFace24: "5b60b",
            ui_springFestival24: "f7da2",
            ui_store: "ddd35",
            ui_subRole: "ff151",
            ui_task: "21676",
            ui_team: "badf6",
            ui_teamUp: "a4a80",
            ui_team_panel: "d4a39",
            ui_tiledMap: "fbff5",
            ui_tiledMap_1: "a5dc7",
            ui_tiledMap_10: "1195e",
            ui_tiledMap_10_medium: "2f8c4",
            ui_tiledMap_11: "650ac",
            ui_tiledMap_11_medium: "65843",
            ui_tiledMap_12: "cbf27",
            ui_tiledMap_12_medium: "f5134",
            ui_tiledMap_1_medium: "8b0bc",
            ui_tiledMap_2: "e3b5d",
            ui_tiledMap_2_medium: "bcdd1",
            ui_tiledMap_3: "74c33",
            ui_tiledMap_3_medium: "83c1f",
            ui_tiledMap_4: "f8601",
            ui_tiledMap_4_medium: "e1ee6",
            ui_tiledMap_5: "99dca",
            ui_tiledMap_5_medium: "c9bd7",
            ui_tiledMap_6: "75884",
            ui_tiledMap_6_medium: "31d6d",
            ui_tiledMap_7: "7ac49",
            ui_tiledMap_7_medium: "1543a",
            ui_tiledMap_8: "ffd3f",
            ui_tiledMap_8_medium: "925b3",
            ui_tiledMap_9: "9eaf7",
            ui_tiledMap_9_medium: "974df",
            ui_timegift: "66283",
            ui_tooltip: "f4829",
            ui_tower: "3a4b9",
            ui_ttSidebarGuide: "f0732",
            ui_unuse: "f22b6",
            ui_verify: "6eb64",
            ui_vip: "91735",
            ui_war_tip: "9ca35",
            ui_weapon: "9973c",
            ui_wxAccount: "a0560",
            main: "d89c1"
        }
    };
});
define("subpackages/TEST_REMOTE_MODULE/game.js", function (require, module, exports) {
    "use strict";
    window.__require = function e(i, o, t) {
        function u(n, s, a) {
            if (!o[n]) {
                if (!i[n]) {
                    var c = n;
                    if (n.includes("./") && (c = (c = n.split("/"))[c.length - 1]), !i[c]) {
                        var l = "function" == typeof __require && __require;
                        if (!s && l) return l(c, !0);
                        if (r) return r(c, !0);
                        throw new Error("Cannot find module '" + n + "'")
                    }
                    n = c
                }
                var d = o[n] = {exports: {}};
                i[n][0].call(d.exports, function (e) {
                    return u(i[n][1][e] || e, void 0, e.includes("./") ? void 0 : e)
                }, d, d.exports, e, i, o, t)
            }
            return a && o[n] && !o[a] && (o[a] = o[n]), o[n].exports
        }

        for (var r = "function" == typeof __require && __require, n = 0; n < t.length; n++) u(t[n]);
        return u
    }({
        TestModule: [function (e, i, o) {
            cc._RF.push(i, "285b6OCdM5Mlp0Qoc/CbvJn", "TestModule"), Object.defineProperty(o, "__esModule", {value: !0}), o.TestModule = void 0;
            var t = e("../../../launcher/config/Configs"), u = e("../../../game/scripts/modules/RemoteModuleLoader"),
                r = e("../../../game/scripts/modules/BaseModule"),
                n = e("../../../game/scripts/ui/loading/NormalSwitchLoading"),
                s = e("../../../game/scripts/ui/index-ui"), a = e("../ui/TestUi"), c = function (e) {
                    function i() {
                        return null !== e && e.apply(this, arguments) || this
                    }

                    return __extends(i, e), i.prototype.goto = function () {
                        return __awaiter(this, void 0, void 0, function () {
                            return __generator(this, function (e) {
                                switch (e.label) {
                                    case 0:
                                        return [4, s.SHOW_PROXY_AFTER_LOADING(a.TestUi, n.NormalSwitchLoading)];
                                    case 1:
                                        return e.sent(), [2]
                                }
                            })
                        })
                    }, i.prototype.test = function () {
                        console.log("TestModule test")
                    }, __decorate([u.remoteModule(t.ModuleType.TEST_REMOTE_MODULE)], i)
                }(r.BaseModule);
            o.TestModule = c, cc._RF.pop()
        }, {
            "../../../game/scripts/modules/BaseModule": void 0,
            "../../../game/scripts/modules/RemoteModuleLoader": void 0,
            "../../../game/scripts/ui/index-ui": void 0,
            "../../../game/scripts/ui/loading/NormalSwitchLoading": void 0,
            "../../../launcher/config/Configs": void 0,
            "../ui/TestUi": "TestUi"
        }], TestUi: [function (e, i, o) {
            cc._RF.push(i, "80389gXeRJKg7SO3Q5AKQD+", "TestUi"), Object.defineProperty(o, "__esModule", {value: !0}), o.TestUi = void 0;
            var t = e("../../../launcher/config/Configs"),
                u = __importDefault(e("../../../game/scripts/fairygui/ui_dungeon/UI_DungeonPanel")),
                r = e("../../../game/scripts/modules/ModuleManager"), n = e("../../../game/scripts/ui/common/UIDialog"),
                s = e("../../../game/scripts/ui/features/UIFullScreen"), a = e("../../../game/scripts/ui/index-ui"),
                c = e("../../../game/scripts/ui/types-ui"), l = function (e) {
                    function i() {
                        return null !== e && e.apply(this, arguments) || this
                    }

                    return __extends(i, e), i.prototype.onShow = function () {
                        var e = this;
                        this.ui.m_btnSelfBack.onClick(function () {
                            r.GET_MODULE(t.ModuleType.TEST_REMOTE_MODULE).test(), e.close()
                        })
                    }, __decorate([a.ui({
                        ui: u.default,
                        autoDisposeV2: !0,
                        layer: c.UILayer.Dialog,
                        features: [a.UIController, s.UIFullScreen]
                    })], i)
                }(n.UIDialog);
            o.TestUi = l, cc._RF.pop()
        }, {
            "../../../game/scripts/fairygui/ui_dungeon/UI_DungeonPanel": void 0,
            "../../../game/scripts/modules/ModuleManager": void 0,
            "../../../game/scripts/ui/common/UIDialog": void 0,
            "../../../game/scripts/ui/features/UIFullScreen": void 0,
            "../../../game/scripts/ui/index-ui": void 0,
            "../../../game/scripts/ui/types-ui": void 0,
            "../../../launcher/config/Configs": void 0
        }]
    }, {}, ["TestModule", "TestUi"]);
});
var global = (function () {
    return this
})();
if (!global && typeof GameGlobal !== 'undefined') global = GameGlobal;
var pluginInfoMap = {};
;global.requirePlugin = global.requirePlugin || function (path) {
    var position = path.indexOf('/');
    var alias = '';
    var pagePath = '';
    if (position !== -1) {
        alias = path.substr(0, position);
        pagePath = path.substr(position + 1, path.length);
    } else {
        alias = path;
    }
    if (pluginInfoMap.hasOwnProperty(alias)) {
        var realPath = '';
        if (pagePath.length === 0) {
            realPath = '__plugin__/' + pluginInfoMap[alias].appid;
            return require(realPath);
        } else {
            realPath = '__plugin__/' + pluginInfoMap[alias].appid + '/' + pagePath;
            return require(realPath);
        }
    } else {
        console.error('not found alias: ', alias);
        throw new Error('Plugin ' + alias + ' is not defined.')
    }
};
define("game.js", function (require, module, exports) {
    "use strict";
    require("adapter-min.js"), __globalAdapter.init(), require("cocos/cocos2d-js-min.js"), __globalAdapter.adaptEngine(), require("./ccRequire"), require("./src/settings"), require("./main"), require("./game-defines.js"), cc.view._maxPixelRatio = 4, cc.sys.platform !== cc.sys.WECHAT_GAME_SUB && (cc.macro.CLEANUP_IMAGE_CACHE = !0);
    var e = require("./hortor/sdk.min.js");
    window.__HORTOR_SDK__ = e, window.HSDK = e, function () {
        window.boot();
        var r = 0, i = null;
        (i = function () {
            e.init({
                env: "Prod",
                gameId: "xyzw_mix",
                gameVersion: "1.68.1-wx",
                getUserInfoBtn: {
                    type: "image",
                    image: "https://caveman-resource.hortorgames.com/resource/btn_enter.png",
                    style: {width: 200, height: 70, top: 200, left: 80}
                },
                shareData: {
                    title: "做咸鱼也要做最咸的那一条！",
                    query: "key=val",
                    imageUrl: "https://wxmini-resource.hortorgames.com/background-image/20211015-150906-1634285002.png"
                },
                appId: "wx0840558555a454ed",
                wallKey: "DAACudONS8wAVjRn",
                useShareAdapter: !0,
                stdAutoUpload: !0,
                tgaAutoUpload: !0,
                shareSuccessDiff: 2e3,
                openGetShareTheme: !0,
                openShareTimeline: !0,
                logReportFrequency: 0,
                wxAppId: "wx0840558555a454ed",
                wxAdSourceId: Number("1207657291"),
                wxAdSecretKey: "b84b0afce7e836bb1d2538bd1b44c44b"
            }).then(function (e) {
                console.info("SDK init success.", JSON.stringify(e)), window._hortor_callOnLoad(!1, !0)
            }).catch(function (e) {
                console.error("SDK init error", JSON.stringify(e)), r++ < 60 && setTimeout(i, 1e3)
            })
        })()
    }();
});
require("game.js");
 	